(self.webpackChunkgfn_mall=self.webpackChunkgfn_mall||[]).push([[179],{49289:(Ge,ae,e)=>{"use strict";e.d(ae,{t:()=>Pe,w:()=>Te});var t=e(39609),n=e(33950),x=e(96671),M=e(59562),L=e(47504),p=e(42520),P=e(23815),a=e(64710),o=e(10907),v=e(2629),y=e(74266),C=e(60712),A=e(80155),d=e(89224),m=e(39536),S=e(715),s=e(22804),r=e(39103),l=e(52954),i=e(18937),O=e(90657),Y=e(37661),T=e(34375),B=e(12427),K=e(99763),b=e(29595),f=e(26977),D=e(95531);const I=["activecolor"],w=["defaultcolor"],_=["container"],$=["navButtonRef"],G=function(me){return{"flip-rtl-element":me}};function F(me,et){if(1&me){const Xe=t.EpF();t.TgZ(0,"button",17,18),t.NdJ("click",function(){t.CHM(Xe);const nt=t.oxw(2);return t.KtG(nt.navClicked(nt.navButton.id))})("focus",function(){t.CHM(Xe);const nt=t.oxw(2);return t.KtG(nt.navFocused())})("blur",function(){t.CHM(Xe);const nt=t.oxw(2);return t.KtG(nt.navBlurred())}),t.ALo(2,"translate"),t._UZ(3,"mat-icon",19),t.qZA()}if(2&me){const Xe=t.oxw(2);t.s9C("matTooltip",t.lcZ(2,3,Xe.navButton.tooltip)),t.xp6(3),t.Q6J("svgIcon",Xe.navButton.id)("ngClass",t.VKq(5,G,"arrow_left"===Xe.navButton.id))}}function J(me,et){if(1&me){const Xe=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(Xe);const nt=t.oxw().$implicit,Me=t.oxw(2);return t.KtG(Me.iconClicked(nt))}),t.ALo(1,"translate"),t._UZ(2,"mat-icon",22),t.qZA()}if(2&me){const Xe=t.oxw().$implicit;t.Q6J("@icon",void 0)("nvTooltipDisabled",!Xe.tooltip)("matTooltip",t.lcZ(1,4,Xe.tooltip)),t.xp6(2),t.Q6J("svgIcon",Xe.icon)}}function z(me,et){if(1&me&&(t.ynx(0),t.YNc(1,J,3,6,"button",20),t.BQk()),2&me){const Xe=et.$implicit;t.xp6(1),t.Q6J("ngIf",Xe.icon&&!Xe.end&&!Xe.loginData)}}function Z(me,et){if(1&me&&t._UZ(0,"mat-icon",22),2&me){const Xe=t.oxw(2).$implicit;t.Q6J("svgIcon",Xe.icon)}}const ue=function(me){return{"app-bar-padding":me}};function u(me,et){if(1&me&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&me){const Xe=t.oxw(2).$implicit;t.Q6J("ngClass",t.VKq(4,ue,void 0===Xe.button)),t.xp6(1),t.Oqu(t.lcZ(2,2,Xe.text))}}const k=function(me,et){return{"app-bar-item-with-text":me,"font-button2 mat-flat-button mat-accent app-bar-button-end":et}};function W(me,et){if(1&me){const Xe=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(Xe);const nt=t.oxw().$implicit,Me=t.oxw(2);return t.KtG(Me.iconClicked(nt))}),t.ALo(1,"translate"),t.YNc(2,Z,1,1,"mat-icon",29),t.YNc(3,u,3,6,"span",30),t.qZA()}if(2&me){const Xe=t.oxw().$implicit;t.Q6J("@icon",void 0)("nvTooltipDisabled",!Xe.tooltip)("matTooltip",t.lcZ(1,7,Xe.tooltip))("ngClass",t.WLB(9,k,void 0!==Xe.text,Xe.button))("disabled",Xe.disabled),t.xp6(2),t.Q6J("ngIf",Xe.icon),t.xp6(1),t.Q6J("ngIf",Xe.text)}}function N(me,et){if(1&me&&t._UZ(0,"img",40),2&me){const Xe=t.oxw(2).$implicit;t.Q6J("src",Xe.loginData.avatar,t.LSH)}}function H(me,et){if(1&me&&t._UZ(0,"mat-icon",41),2&me){const Xe=t.oxw(2).$implicit;t.Q6J("svgIcon",Xe.loginData.avatarSvg)}}function h(me,et){if(1&me&&(t.TgZ(0,"span",42),t._uU(1),t.qZA()),2&me){const Xe=t.oxw(2).$implicit;t.xp6(1),t.Oqu(Xe.loginData.currentPlanShortName)}}function E(me,et){if(1&me&&(t.TgZ(0,"button",32),t.ALo(1,"translate"),t.TgZ(2,"div",33),t.YNc(3,N,1,1,"img",34),t.YNc(4,H,1,1,"mat-icon",35),t.TgZ(5,"div",36)(6,"span",37),t._uU(7),t.qZA(),t.YNc(8,h,2,1,"span",38),t.qZA(),t.TgZ(9,"mat-icon",39),t._uU(10,"arrow_drop_down"),t.qZA()()()),2&me){const Xe=t.oxw().$implicit,Ze=t.MAs(4);t.s9C("matTooltip",t.lcZ(1,7,Xe.tooltip)),t.Q6J("matMenuTriggerFor",Ze)("nvTooltipDisabled",!Xe.tooltip),t.xp6(3),t.Q6J("ngIf",Xe.loginData.avatar),t.xp6(1),t.Q6J("ngIf",Xe.loginData.avatarSvg),t.xp6(3),t.Oqu(Xe.loginData.username),t.xp6(1),t.Q6J("ngIf",Xe.loginData.currentPlanShortName)}}function ee(me,et){if(1&me){const Xe=t.EpF();t.ynx(0),t.TgZ(1,"button",43),t.NdJ("click",function(){const Me=t.CHM(Xe).$implicit,ze=t.oxw(3);return t.KtG(ze.iconMenuClicked(Me.id))}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()}if(2&me){const Xe=et.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,Xe.item)," ")}}function R(me,et){if(1&me&&(t.ynx(0),t.YNc(1,W,4,12,"button",23),t.YNc(2,E,11,9,"button",24),t.TgZ(3,"mat-menu",25,26),t.YNc(5,ee,4,3,"ng-container",27),t.qZA(),t.BQk()),2&me){const Xe=et.$implicit;t.xp6(1),t.Q6J("ngIf",(Xe.icon&&Xe.end||Xe.button)&&!Xe.loginData),t.xp6(1),t.Q6J("ngIf",Xe.loginData),t.xp6(3),t.Q6J("ngForOf",Xe.menu)}}const q=function(me,et){return{active_color:me,default_color:et}},ne=function(me,et){return{value:me,params:et}},_e=function(me){return{translate3d_value:me}};function U(me,et){if(1&me){const Xe=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"mat-icon",7),t.NdJ("@logoSlide.done",function(nt){t.CHM(Xe);const Me=t.oxw();return t.KtG(Me.onLogoSlide(nt))}),t.qZA()(),t.TgZ(3,"div",8,9)(5,"nv-product-tour-step",10),t.YNc(6,F,4,7,"button",11),t.qZA(),t.TgZ(7,"div",12),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.YNc(10,z,2,1,"ng-container",13),t._UZ(11,"div",14),t.TgZ(12,"div",15),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",16),t.Hsn(16),t.qZA(),t.YNc(17,R,6,3,"ng-container",13),t.qZA()}if(2&me){const Xe=t.oxw();t.ekj("active",Xe.active),t.Q6J("@active",t.WLB(24,ne,Xe.active,t.WLB(21,q,Xe.activeColor,Xe.defaultColor)))("canFocusFirstChild",!Xe.isNavFocused),t.xp6(2),t.Q6J("@logoSlide",t.WLB(29,ne,Xe.logoState,t.VKq(27,_e,Xe.logoSlideTranslate3dValue))),t.xp6(1),t.ekj("shrink-navigation",Xe.shrinkNavigation),t.xp6(3),t.Q6J("ngIf",null==Xe.navButton?null:Xe.navButton.id),t.xp6(1),t.Q6J("fxHide",Xe.shrinkNavigation),t.xp6(1),t.hij(" ",t.xi3(9,15,Xe.title,Xe.titleParams)," "),t.xp6(2),t.Q6J("ngForOf",Xe.icons)("ngForTrackBy",Xe.iconTrack),t.xp6(3),t.Oqu(t.xi3(14,18,Xe.info,Xe.infoParams)),t.xp6(4),t.Q6J("ngForOf",Xe.icons)("ngForTrackBy",Xe.iconTrack)}}const re=["*"];var pe=(()=>{return(me=pe||(pe={})).InInitial="IN_INITIAL",me.In="IN",me.Out="OUT",pe;var me})(),Pe=(()=>{return(me=Pe||(Pe={})).ShowInitialReveal="showInitialReveal",me.ShowWhenNoNavButton="showWhenNoNavButton",me.NoShow="noShow",Pe;var me})();let Te=(()=>{class me{constructor(Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve,be){this.ngZone=Ze,this.appBarService=nt,this.matDialog=Me,this.productTourService=ze,this.translateService=le,this.localeService=Le,this.systemInfoService=Re,this.spatialNavigationService=Q,this.focusManager=ve,this.projectInterfaceService=be,this.destroy$=new x.xQ,this.isTVOS$=new M.t(1),this.skipTour=!1,this.icons=[{},{},{},{},{}],this.title="",this.titleParams={},this.info="",this.infoParams={},this.navButton={},this.show=!0,this.shrinkNavigation=!1,this.template={},this.activeColor="",this.defaultColor="",this.logoSlideTranslate3dValue="",this.isNavFocused=!1,this.logger=Xe.getLogger("AppBar")}setupListeners(){this.appBarService.icons$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{let nt=4;for(Ze.forEach(Me=>{nt>=0&&(this.icons[nt--]=Me)});nt>=0;)this.icons[nt--]={}}),this.appBarService.title$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.title=Ze.entry,this.titleParams=Ze.params}),this.appBarService.info$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.info=Ze.entry,this.infoParams=Ze.params}),this.appBarService.navButton$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{var nt;this.navButton=Ze,this.logoBehavior===Pe.ShowWhenNoNavButton&&(this.logoState=null!==(nt=this.navButton)&&void 0!==nt&&nt.id?pe.Out:pe.In)}),this.appBarService.active$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.active=Ze}),this.appBarService.visible$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.show=Ze}),this.appBarService.template$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.template=Ze});const Xe=this.localeService.layoutDirectionUpdated$.pipe((0,v.q)(1));(0,L.aj)([Xe,this.appBarService.logoRevealed$]).pipe((0,o.R)(this.destroy$)).subscribe(([Ze,nt])=>{this.logoSlideTranslate3dValue=`translate3d(${this.localeService.isRTLLayoutEnabled?"calc(101% + env(safe-area-inset-right))":"calc(-101% - env(safe-area-inset-left))"}, 0, 0)`,nt&&this.logoState===pe.InInitial&&(this.logoState=pe.Out)}),this.appBarService.shrinkNavigation$.pipe((0,o.R)(this.destroy$)).subscribe(Ze=>{this.shrinkNavigation=Ze})}ngOnInit(){switch(this.logoBehavior){case Pe.NoShow:this.logoState=pe.Out;break;case Pe.ShowInitialReveal:this.logoState=pe.InInitial;break;case Pe.ShowWhenNoNavButton:this.logoState=pe.In}this.systemInfoService.getDeviceType().pipe((0,v.q)(1),(0,o.R)(this.destroy$)).subscribe({next:Xe=>{this.isTVOS$.next(Xe===a.z7.TV)},error:Xe=>{this.isTVOS$.next(!1),this.logger.error("failed to get deviceType ",Xe)}}),this.productTourService.onTourEnd.pipe((0,o.R)(this.destroy$)).subscribe(Xe=>{this.focusManager.focusFirstChild(this.container.nativeElement)})}ngAfterViewInit(){setTimeout(()=>{this.activeColor=getComputedStyle(this.activeElement.nativeElement).backgroundColor,this.defaultColor=getComputedStyle(this.defaultElement.nativeElement).backgroundColor,this.setupListeners()},0),this.ngZone.runOutsideAngular(()=>{const Xe=(0,A.oc)(document,"keydown","Escape"),Ze=(0,A.oc)(document,"keydown","GoBack"),nt=()=>{var Me;return(null===(Me=this.navButton)||void 0===Me?void 0:Me.id)&&!this.productTourService.isTourActive&&0===this.matDialog.openDialogs.length};Xe.pipe((0,y.h)(nt),(0,o.R)(this.destroy$)).subscribe(Me=>{Me.target!==this.navButtonRef.nativeElement&&(Me.stopPropagation(),this.focusManager.focusViaLastOrigin(this.navButtonRef.nativeElement))}),(0,p.T)(Xe,Ze).pipe((0,y.h)(nt),(0,o.R)(this.destroy$)).subscribe(Me=>{var ze;"menu"!==(null===(ze=this.navButton)||void 0===ze?void 0:ze.id)&&(Me.stopPropagation(),this.appBarService.clickIcon(this.navButton.id))})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}navClicked(Xe){this.appBarService.clickNav(Xe)}navFocused(){this.isNavFocused=!0}navBlurred(){this.isNavFocused=!1}iconClicked(Xe){this.appBarService.clickIcon(Xe.id)}iconMenuClicked(Xe){this.appBarService.clickIcon(Xe)}iconTrack(Xe,Ze){return Xe}onLogoSlide(Xe){if((null==Xe?void 0:Xe.fromState)===pe.InInitial&&(null==Xe?void 0:Xe.toState)===pe.Out){if(this.logger.info("Initial logo reveal complete"),this.spatialNavigationService.enabled&&!this.spatialNavigationService.activated&&(this.spatialNavigationService.activated=!0),this.skipTour)return;const Ze=a.ng.isBrowserPlatform()?this.projectInterfaceService.gfnUnsupportedDialogCloseState:(0,P.of)(!0);(0,L.aj)([this.translateService.get(["toolbar","productTour"]),this.isTVOS$.asObservable(),Ze]).pipe((0,v.q)(1),(0,o.R)(this.destroy$)).subscribe(([nt,Me,ze])=>{this.productTourService.initializeTourService([{anchorId:"menu",title:nt.toolbar.menu,content:a.ng.isBrowserLikePlatform()?nt.productTour.menu.browser:nt.productTour.menu.desktop,placement:C.AP.BottomRight},{anchorId:this.searchAnchor,title:nt.productTour.browseSearch.title,content:Me?nt.productTour.browseSearch.tvContent:nt.productTour.browseSearch.content,placement:C.AP.BottomCenter}]),document.activeElement===document.body&&this.navButton&&(this.spatialNavigationService.isDefaultFocusRequired()?this.focusManager.focusViaLastOrigin(this.navButtonRef.nativeElement):this.spatialNavigationService.setStartingPoint(this.navButtonRef.nativeElement))})}}}return me.\u0275fac=function(Xe){return new(Xe||me)(t.Y36(a.ed),t.Y36(t.R0b),t.Y36(d.ad),t.Y36(m.on),t.Y36(C.Q3),t.Y36(S.sK),t.Y36(a.OL),t.Y36(a.Ob),t.Y36(s.jr),t.Y36(s.IK),t.Y36(r.m3))},me.\u0275cmp=t.Xpm({type:me,selectors:[["nv-app-bar"]],viewQuery:function(Xe,Ze){if(1&Xe&&(t.Gf(I,7),t.Gf(w,7),t.Gf(_,5,t.SBq),t.Gf($,5,t.SBq)),2&Xe){let nt;t.iGM(nt=t.CRH())&&(Ze.activeElement=nt.first),t.iGM(nt=t.CRH())&&(Ze.defaultElement=nt.first),t.iGM(nt=t.CRH())&&(Ze.container=nt.first),t.iGM(nt=t.CRH())&&(Ze.navButtonRef=nt.first)}},inputs:{logoBehavior:"logoBehavior",searchAnchor:"searchAnchor",skipTour:"skipTour"},ngContentSelectors:re,decls:5,vars:1,consts:[[1,"dummy-color-getter"],["activecolor",""],[1,"default-color"],["defaultcolor",""],["fxLayout","row","fxLayoutAlign","start center","class","appbar default-color mat-elevation-z4","nvFocusBackToFirstChild","",3,"active","canFocusFirstChild",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center","nvFocusBackToFirstChild","",1,"appbar","default-color","mat-elevation-z4",3,"canFocusFirstChild"],["fxFlex","row","fxLayoutAlign","start center",1,"nv-branding"],["svgIcon","gfnBranding","tabindex","-1","fxFlex",""],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 1 auto",1,"nav-container"],["container",""],["anchorId","menu",1,"nav-button-wrapper"],["mat-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","class","nav-button item-empty hig-button-icon font-body1","fxLayout","row","fxLayoutAlign","center center","cdkFocusInitial","",3,"matTooltip","click","focus","blur",4,"ngIf"],["fxFlex","1 1 auto",1,"title","font-body1","toolbar-title-text",3,"fxHide"],[4,"ngFor","ngForOf","ngForTrackBy"],["fxFlex",""],[1,"title","font-body1"],["fxFlex","1 1 100%"],["mat-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","fxLayout","row","fxLayoutAlign","center center","cdkFocusInitial","",1,"nav-button","item-empty","hig-button-icon","font-body1",3,"matTooltip","click","focus","blur"],["navButtonRef",""],[3,"svgIcon","ngClass"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","class","app-bar-icons-left font-body1 hig-button-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",3,"nvTooltipDisabled","matTooltip","click",4,"ngIf"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"app-bar-icons-left","font-body1","hig-button-icon",3,"nvTooltipDisabled","matTooltip","click"],[3,"svgIcon"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","class","app-bar-icons font-body2 hig-button-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",3,"nvTooltipDisabled","matTooltip","ngClass","disabled","click",4,"ngIf"],["mat-button","","class","app-bar-icons font-body1 hig-button-icon app-bar-item-with-text","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",3,"matMenuTriggerFor","nvTooltipDisabled","matTooltip",4,"ngIf"],["overlapTrigger","false"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"app-bar-icons","font-body2","hig-button-icon",3,"nvTooltipDisabled","matTooltip","ngClass","disabled","click"],[3,"svgIcon",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",1,"app-bar-icons","font-body1","hig-button-icon","app-bar-item-with-text",3,"matMenuTriggerFor","nvTooltipDisabled","matTooltip"],["fxFlex","1 1 auto","fxLayout","row","fxLayoutAlign","start center"],["class","avatar-img",3,"src",4,"ngIf"],["class","avatar-img",3,"svgIcon",4,"ngIf"],["fxLayout","column",1,"display-name"],[1,"username","font-body2"],["class","font-body3",4,"ngIf"],[1,"material-icons"],[1,"avatar-img",3,"src"],[1,"avatar-img",3,"svgIcon"],[1,"font-body3"],["mat-menu-item","",3,"click"]],template:function(Xe,Ze){1&Xe&&(t.F$t(),t._UZ(0,"div",0,1)(2,"div",2,3),t.YNc(4,U,18,32,"div",4)),2&Xe&&(t.xp6(4),t.Q6J("ngIf",Ze.show))},dependencies:[l.mk,l.sg,l.O5,i.xw,i.Wh,i.yH,O.b8,O.oO,Y.Hw,T.eB,B.W0,B.tN,B.D8,K.Kd,b.b,f.s,D.S,S.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{min-width:40px;min-height:40px;max-height:40px}.isLtr[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.appbar[_ngcontent-%COMP%]{transition:background-color .15s linear;height:56px}.dummy-color-getter[_ngcontent-%COMP%]{background:#76b900}.default-color[_ngcontent-%COMP%]{background:#393939}.item-empty[_ngcontent-%COMP%]{width:0;max-width:40px}.app-bar-icons[_ngcontent-%COMP%]{margin:0 8px}.isLtr[_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .app-bar-icons-left[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.app-bar-item-with-text[_ngcontent-%COMP%]{width:unset!important}.app-bar-padding[_ngcontent-%COMP%]{padding:4px 4px 0}.app-bar-button-end[_ngcontent-%COMP%]{padding:0 8px}.appbar.active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#fff}.nv-branding[_ngcontent-%COMP%]{width:fit-content;height:fit-content;position:absolute}.isLtr[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-branding[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]{--dummy5: 0;right:0}.nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:186px;height:56px;pointer-events:none;z-index:15}.avatar-img[_ngcontent-%COMP%]{width:24px;height:24px;margin:0 8px;align-self:center}.isLtr[_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.display-name[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:64px;max-width:144px}.toolbar-title-text[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:264px;min-width:150px}.isLtr[_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .toolbar-title-text[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}@media (max-width: 599.98px) and (orientation: portrait){.toolbar-title-text[_ngcontent-%COMP%]{min-width:0}}.mat-button[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}.nav-container[_ngcontent-%COMP%]{min-width:auto}.isLtr[_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nav-container[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nav-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.nav-container.shrink-navigation[_ngcontent-%COMP%]{min-width:0}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]{height:90px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%]{min-width:70px;min-height:70px;max-height:70px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nv-branding[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:298.9285714286px;height:90px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button-wrapper[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button-wrapper[_ngcontent-%COMP%]{padding:0 4px}.tv-view[_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button.hig-button-icon.mat-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .appbar[_ngcontent-%COMP%]   .nav-button.hig-button-icon.mat-button[_ngcontent-%COMP%]{width:fit-content;height:fit-content}"],data:{animation:[(0,n.X$)("logoSlide",[(0,n.SB)(pe.InInitial,(0,n.oB)({transform:"translate3d(0, 0, 0)"})),(0,n.SB)(pe.In,(0,n.oB)({transform:"translate3d(0, 0, 0)"})),(0,n.SB)(pe.Out,(0,n.oB)({transform:"{{ translate3d_value }}"}),{params:{translate3d_value:"translate3d(calc(-101% - env(safe-area-inset-left)), 0, 0)"}}),(0,n.eR)(pe.InInitial+" => "+pe.Out,(0,n.jt)("200ms 1500ms ease")),(0,n.eR)(pe.In+" => "+pe.Out,(0,n.jt)("400ms ease")),(0,n.eR)(pe.Out+" => "+pe.In,(0,n.jt)("650ms ease"))]),(0,n.X$)("navButton",[(0,n.SB)("true",(0,n.oB)({"flex-basis":"36px",opacity:1})),(0,n.SB)("false",(0,n.oB)({"flex-basis":"0","margin-right":0,opacity:0})),(0,n.eR)("true <=> false",(0,n.jt)(150))]),(0,n.X$)("icon",[(0,n.eR)(":enter",[(0,n.oB)({opacity:0}),(0,n.jt)(150,(0,n.oB)({opacity:1}))]),(0,n.eR)(":leave",[(0,n.jt)(150,(0,n.oB)({opacity:0}))])]),(0,n.X$)("active",[(0,n.SB)("true",(0,n.oB)({"background-color":"{{active_color}}"}),{params:{active_color:"transparent"}}),(0,n.SB)("false",(0,n.oB)({"background-color":"{{default_color}}"}),{params:{default_color:"transparent"}}),(0,n.eR)("true <=> false",[(0,n.ru)([(0,n.IO)("@*",[(0,n.pV)()]),(0,n.jt)(150)])])])]}}),me})()},89224:(Ge,ae,e)=>{"use strict";e.d(ae,{ad:()=>y});var t=e(96671),n=e(18406),x=e(39609),M=e(64710);let y=(()=>{class C{constructor(d){this.loggingService=d,this.actionClicked=new t.xQ,this.iconsChanged=new n.X([]),this.titleChanged=new n.X({entry:"",params:{}}),this.infoChanged=new n.X({entry:"",params:{}}),this.navButtonChanged=new n.X({}),this.activeChanged=new n.X(!1),this.appBarState=new n.X(!0),this.templateChanged=new n.X({id:"",params:{}}),this.logoRevealed=new n.X(!1),this.shrinkNavigation=new n.X(!1),this.iconList=[],this.defaultNavButton={},this.actionClicked$=this.actionClicked.asObservable(),this.icons$=this.iconsChanged.asObservable(),this.title$=this.titleChanged.asObservable(),this.info$=this.infoChanged.asObservable(),this.navButton$=this.navButtonChanged.asObservable(),this.active$=this.activeChanged.asObservable(),this.visible$=this.appBarState.asObservable(),this.template$=this.templateChanged.asObservable(),this.logoRevealed$=this.logoRevealed.asObservable(),this.shrinkNavigation$=this.shrinkNavigation.asObservable(),this.loggedIn=!1,this.logger=this.loggingService.getLogger("AppBar"),this.logger.info("AppBarService started")}reset(){this.titleChanged.next({entry:"",params:{}}),this.infoChanged.next({entry:"",params:{}}),this.iconsChanged.next([]),this.navButtonChanged.next({}),this.activeChanged.next(!1),this.templateChanged.next({id:"",params:{}})}setTitle(d){this.titleChanged.next({entry:d.entry,params:d.params})}setInfo(d){this.infoChanged.next({entry:d.entry,params:d.params})}setDefaultNavButton(d){this.defaultNavButton=d}setNavButton(d){this.navButtonChanged.next(d)}setNavButtonMenu(d){this.setNavButton({id:"menu",tooltip:d})}setNavButtonArrow(d){this.setNavButton({id:"arrow_left",tooltip:d})}setNavButtonClose(d){this.setNavButton({id:"close",tooltip:d})}setNavButtonToDefault(){this.setNavButton(this.defaultNavButton)}setNavButtonEmpty(){this.setNavButton({})}setActive(d){this.activeChanged.next(d)}addIcon(d){this.iconList.push(d),this.iconsChanged.next(this.iconList)}deleteIcon(d){const m=this.iconList.findIndex(S=>S.id===d);-1!==m&&(this.iconList.splice(m,1),this.iconsChanged.next(this.iconList))}setIcons(d){this.iconList=d.slice(),this.iconsChanged.next(this.iconList)}setTemplate(d){this.templateChanged.next(d)}setShrinkNavigation(d){this.shrinkNavigation.next(d)}revealLogo(){this.logoRevealed.next(!0)}setAll(d){var m;this.reset(),d.title&&this.setTitle(d.title),d.info&&this.setInfo(d.info),this.setActive(d.active),this.setIcons(d.icons),this.setTemplate(void 0!==d.template?d.template:{id:""}),d.defaultNavButton&&this.setDefaultNavButton(d.defaultNavButton),null!==(m=d.navButton)&&void 0!==m&&m.id?this.setNavButton(d.navButton):d.navButtonMenu?this.setNavButtonMenu():d.navButtonArrow?this.setNavButtonArrow():d.navButtonClose?this.setNavButtonClose():d.navButtonSetToDefault&&this.setNavButtonToDefault()}clearIcons(){this.iconList=[],this.iconsChanged.next(this.iconList)}getIcons(){return this.iconList}clickIcon(d){"closeIgo"===d&&this.closeIgo(),this.actionClicked.next(d)}clickNav(d){this.clickIcon(d)}closeIgo(){}setAppBarState(d){this.appBarState.next(d)}}return C.\u0275fac=function(d){return new(d||C)(x.LFG(M.ed))},C.\u0275prov=x.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},53511:(Ge,ae,e)=>{"use strict";e.d(ae,{tc:()=>S.t,ip:()=>m,ad:()=>s.ad});var t=e(52954),n=e(50239),x=e(39609),M=e(715),L=e(12427),p=e(37661),P=e(34375),a=e(99763),o=e(60712),v=e(3878),y=e(22804);let d={provide:x.ip1,useFactory:function A(r,l){return()=>function C(r,l){return r.addSvgIcon("gfnBranding",l.bypassSecurityTrustResourceUrl("./assets/img/nv-gfn-logo_v2.svg")),Promise.resolve()}(r,l)},deps:[p.jv,v.H7],multi:!0},m=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=x.oAB({type:r}),r.\u0275inj=x.cJS({providers:[d],imports:[t.ez,n.o9,p.Ps,P.yu,L.jT,a.AA,o._F,M.aw,y.hp]}),r})();var S=e(49289),s=e(89224)},43508:(Ge,ae,e)=>{"use strict";e.d(ae,{XL:()=>S,tj:()=>r,_c:()=>m,W4:()=>i});var t=e(52474),n=e(59562),x=e(23815),M=e(47504),L=e(39138),p=e(71265),P=e(2629),a=e(89258),o=e(33932),v=e(51325),y=e(48334),C=e(64710),A=e(85566),d=e(39609);let m=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac}),O})(),S=(()=>{class O{constructor(T,B,K,b){this.httpBackend=T,this.params=K,this.injector=b,this.configFetchedSubject=new n.t(1),this.getConfigFromHttp=()=>this.http.get(this.params.filePath).pipe((0,p.b)(f=>(this.logger.info("Successfully read application config file",f.build),f),f=>{this.logger.error(`Configuration file ${this.params.filePath} could not be read. Error: ${f}`)})),this.getConfig=()=>{const f=document.getElementsByTagName("gfn-app-config")[0],D=null==f?void 0:f.getAttribute("data-value");null==f||f.remove();const I=this.parseEncodedConfig(D);return I?(0,x.of)(I):this.getConfigFromHttp()},this.logger=B.getLogger("app.config"),this.http=new t.eN(this.httpBackend),C.ng.isBrowserLikePlatform()?(this.systemInfoService=this.injector.get(C.Ob),this.browserStaticSystemInfo$=this.systemInfoService?(0,M.aj)([this.systemInfoService.getOsInformation(),this.systemInfoService.getDeviceType(),this.systemInfoService.getProductVersion()]).pipe((0,P.q)(1),(0,a.U)(([f,D,I])=>({OSName:f.OSName,DeviceType:D,ProductVersion:I}))):(0,x.of)(null)):this.browserStaticSystemInfo$=(0,x.of)(null)}get configFetched$(){return this.configFetchedSubject.asObservable()}mergeRemoteOverridesFromGXT(T){var B;try{return null===(B=Object.keys(this.rcParamNameToConfigKeyPathMapping))||void 0===B||B.forEach(K=>{var b,f;const D=this.rcParamNameToConfigKeyPathMapping[K],I=null===(f=null===(b=this.remoteOverridesFromGXT)||void 0===b?void 0:b.params)||void 0===f?void 0:f.find(w=>w.name===K);if(I){let w=I.value;if((0,A.isObject)(w)){const _=(0,A.get)(T,D,{});w=(0,y.Z)(_,w)}(0,A.set)(T,D,w)}}),T}catch(K){return this.logger.info("error in mergeRemoteOverridesFromGXT",K),T}}get(){var T,B;const K=this.overrides||{},b=this.piplLocalizationConfigOverrides||{};let f={};"dev"===(null===(B=null===(T=this.config)||void 0===T?void 0:T.build)||void 0===B?void 0:B.type)&&(f=this.variant||{});const D=(0,y.Z)(this.config,f);let I=D;return this.remoteOverridesFromGXT&&(I=this.mergeRemoteOverridesFromGXT(D)),(0,y.Z)((0,y.Z)(I,b),K)}setOverrides(T){this.overrides=T}setPiplLocalizationConfigOverrides(T){this.piplLocalizationConfigOverrides=T}setRemoteOverridesFromGXT(T,B){this.rcParamNameToConfigKeyPathMapping=B,this.remoteOverridesFromGXT=T}parseEncodedConfig(T){if(T&&""!==T.trim())try{return JSON.parse(atob(T))}catch{return null}return null}load(){return this.params.config?(this.logger.info("Initializing config with provided data"),this.config=this.params.config,(0,x.of)(this.config)):this.params.filePath?(this.logger.info(`Attempting to read application config file ${this.params.filePath}`),(0,L.$R)(this.getConfig(),this.browserStaticSystemInfo$).pipe((0,p.b)(T=>{this.config=T[0]},T=>{this.logger.error(`Some problem while executing getConfig function. Error: ${T}`)}),(0,p.b)(([T,B])=>{if(this.config&&B){const K=B.DeviceType,b=B.OSName,f=B.ProductVersion;this.logger.info(`DeviceType: ${K}, DeviceOSType: ${b}, ProductVersion: ${f}`);const D=G=>{G&&(this.config=(0,y.Z)(this.config,G))};D(this.get().browserConfig);const I=K===C.z7.Phone||K===C.z7.Tablet,w=K===C.z7.TV,_=K===C.z7.Console&&b!==C.wi.SteamOS,$=b===C.wi.Android;switch(b){case C.wi.IOS:D(this.get().iOSConfig);break;case C.wi.IPadOS:D(this.get().iPadOSConfig);break;case C.wi.Android:C.ng.isBrowserPlatform()?K===C.z7.Phone?D(this.get().androidPhoneConfig):K===C.z7.Tablet&&D(this.get().androidTabletConfig):D(this.get().androidConfig);break;case C.wi.Shield:D(this.get().androidConfig),D(this.get().shieldConfig);break;case C.wi.Tizen:D(this.get().tizenConfig)}I?D(this.get().mobileConfig):w?C.ng.isBrowserPlatform()&&$?D(this.get().androidTvConfig):D(this.get().tvConfig):_&&D(this.get().consoleConfig),f&&(this.config=(0,y.Z)(this.config,{product:{version:f}}))}}),(0,o.zg)(T=>this.loadVariant(T[0])),(0,a.U)(()=>{const T=this.get();return this.logger.info("appConfig loaded"),this.configFetchedSubject.next(T),T}))):(this.logger.error("No valid data source specified in the AppConfigParameters"),(0,x.of)(void 0))}loadVariant(T){var B,K;const b=null===(B=null==T?void 0:T.build)||void 0===B?void 0:B.variant,f=null===(K=null==T?void 0:T.build)||void 0===K?void 0:K.type;if(!b||"dev"!==f)return(0,x.of)(T);const D=this.params.filePath.replace(/\.[^/\\.]+$/,".")+b+"."+this.params.filePath.split(".").pop();return this.http.get(D).pipe((0,p.b)(I=>{this.logger.info(`Successfully read ${b} variant config`),this.variant=I}),(0,v.K)(()=>(0,x.of)(T)))}}return O.\u0275fac=function(T){return new(T||O)(d.LFG(t.jN),d.LFG(C.ed),d.LFG(m),d.LFG(d.zs3))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const r={provide:d.ip1,useFactory:function s(O){return()=>O.load().toPromise()},multi:!0,deps:[S]};function l(O){return O.get()}function i(O){return{provide:O,useFactory:l,deps:[S]}}},95914:(Ge,ae,e)=>{"use strict";e.d(ae,{Ll:()=>d,ld:()=>v});var A,t=e(39700),n=e(23815),x=e(39138),M=e(50936),L=e(51325),p=e(85566),P=e(21361),a=P.Yk.Common.Applicationinfo.ApplicationLifetimeEventType,o=P.Yk.Common.Applicationinfo.ShutdownReason,v=(()=>{return(m=v||(v={})).ApplicationRequestedExit="APPLICATION_REQUESTED_EXIT",m.IpcRequestedExit="IPC_REQUESTED_EXIT",v;var m})(),y=e(39609),C=e(64710);class d{constructor(S,s){this.bridgeService=s,this.isShuttingDown=!1,this.systemShutdownReasons=[o.UserClosedWindow,o.UserQuitWithShortcut,o.UserLoggedOut,o.Relaunch],this.unInterruptableShutdownReasons=[o.UserLoggedOut,v.IpcRequestedExit,o.SelfUpdate,o.Relaunch,o.BrowserExit,o.ForceShutdown],this.logger=S.getLogger("libraries/application-lifetime.service"),this.logger.info("applicationLifetimeService created"),this.preSleepFunctions=new Map,this.onShutdownRequestedFunctions=new Map,this.onShutdownFunctions=new Map,s.executeCommand(P.Gh.Common.Applicationinfo.RegisterAppLifetimeEventsCallback).subscribe(r=>{this.handleBridgeEvent(r)}),(0,t.R)(window,"unload").subscribe(r=>{})}get isAppShuttingDown(){return this.isShuttingDown}sleepApplication(){this.preSleepFunctions.size>0?(this.logger.info("executing pre-sleep functions"),this.preSleepFunctions.forEach(S=>{try{S()}catch(s){this.logger.error("Caught error while executing pre sleep function: ",s)}})):this.logger.info("no pre-sleep work")}shutdownApplication(S){this.systemShutdownReasons.some(s=>s===S)?this.logger.error("Cannot supply a system reason for shutting down from the application layer"):this.performShutdown(S)}addWorkOnSleep(S){return this.addWork(this.preSleepFunctions,S)}addWorkOnShutdownRequested(S){return this.addWork(this.onShutdownRequestedFunctions,S)}addWorkOnShutdown(S){return this.addWork(this.onShutdownFunctions,S)}removeWork(S){if(this.preSleepFunctions.has(S))this.preSleepFunctions.delete(S);else if(this.onShutdownFunctions.has(S))this.onShutdownFunctions.delete(S);else{if(!this.onShutdownRequestedFunctions.has(S)){const s=`Id (${S}) not contained in any registered work map, cannot remove`;throw this.logger.error(s),new Error(s)}this.onShutdownRequestedFunctions.delete(S)}}enumHasValue(S,s){return Object.values(S).includes(s)}handleBridgeEvent(S){if((0,p.isNil)(S)||(0,p.isNil)(S.type))this.logger.error("Nil event or event.type raised from bridge: ",S);else if(this.enumHasValue(a,S.type))if(S.type===a.SystemSuspend)this.sleepApplication();else{if(!this.enumHasValue(v,S.reason)&&!this.enumHasValue(o,S.reason))return void this.logger.info("Shutdown reason",S.reason,"not recognized, not handling");this.performShutdown(S.reason)}else this.logger.info("Event type",S.type,"not recognized, not handling")}isShutdownReasonInterruptable(S){return-1===this.unInterruptableShutdownReasons.indexOf(S)}addWork(S,s){const r=new d.RegisteredApplicationLifetimeHandle(this),l=r.getId();if(this.onShutdownFunctions.has(l)||this.onShutdownRequestedFunctions.has(l)||this.preSleepFunctions.has(l))throw new Error("Dupliate work id found");return S.set(l,s),r}closeWindowIfNeeded(S){this.isShuttingDown=!1,S!==o.BrowserExit&&this.bridgeService.executeCommand(P.Gh.Common.Windowcontrol.Close).subscribe(()=>{})}combineAndExecuteFunctions(S){const s=[];return S.forEach(r=>{let l;try{l=r().pipe((0,L.K)(i=>(this.logger.error("Failed to execute scheduled func: ",i),(0,n.of)(void 0))))}catch(i){this.logger.error(`Caught error ${i} from registered handler, not blocking shutdown`),l=(0,n.of)(void 0)}s.push(l)}),(0,x.$R)(...s)}performShutdown(S){if(this.isShuttingDown)return void this.logger.info("performShutdown already called, ignoring");if(this.isShuttingDown=!0,0===this.onShutdownRequestedFunctions.size&&0===this.onShutdownFunctions.size)return this.logger.info("no pre-shutdown work, closing immediately"),void this.closeWindowIfNeeded(S);const s=this.isShutdownReasonInterruptable(S);this.logger.info("starting pre-shutdown promises. shutdown ",s?"is":"isn't"," interruptable"),new M.y(l=>{s&&this.onShutdownRequestedFunctions.size>0?this.combineAndExecuteFunctions(this.onShutdownRequestedFunctions).subscribe({next:O=>{l.next(O.some(Y=>!0===Y)),l.complete()},error:O=>{this.logger.error("OnShutdown work, error: ",O),l.next(!1),l.complete()}}):(l.next(!1),l.complete())}).subscribe({next:l=>{l?(this.logger.info("shutdown was interrupted during onShutdownRequested"),this.isShuttingDown=!1):0===this.onShutdownFunctions.size?(this.logger.info("no OnShutdown work, closing"),this.closeWindowIfNeeded(S)):this.combineAndExecuteFunctions(this.onShutdownFunctions).subscribe({next:function(O){this.logger.info("OnShutdown work completed, closing"),this.closeWindowIfNeeded(S)}.bind(this),error:function(O){this.logger.error("OnShutdown work, error: ",O),this.closeWindowIfNeeded(S)}.bind(this)})}})}}d.RegisteredApplicationLifetimeHandle=((A=class{constructor(m){this.parent=m,this.handleId=d.RegisteredApplicationLifetimeHandle.nextHandleId++}getId(){return this.handleId}remove(){this.parent.removeWork(this.handleId)}}).nextHandleId=0,A),d.\u0275fac=function(S){return new(S||d)(y.LFG(C.ed),y.LFG(C.dF))},d.\u0275prov=y.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})},7241:(Ge,ae,e)=>{"use strict";e.d(ae,{B:()=>x});const x={ReadTicket:{legacyCommand:"QUERY_READ_UPDATE_TICKET",system:"CrimsonNative",module:"Update",method:"ReadTicket",persistent:!1},GfnUpdate:{legacyCommand:"QUERY_GFN_UPDATE_APP",system:"CrimsonNative",module:"Update",method:"GfnUpdate",persistent:!1}}},56362:(Ge,ae,e)=>{"use strict";e.d(ae,{G:()=>va});const Xe={Forager:{CopyConfigTemplate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"CopyConfigTemplate",persistent:!1},ExtractFrames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ExtractFrames",persistent:!1},GetAppInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"GetAppInfo",persistent:!1},LaunchWithNativeApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"LaunchWithNativeApp",persistent:!1},ReadWorkspace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ReadWorkspace",persistent:!1},ReadFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"ReadFile",persistent:!1},SaveWorkspace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"SaveWorkspace",persistent:!1},TrimVideo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"TrimVideo",persistent:!1},WriteFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Forager",method:"WriteFile",persistent:!1}},Gear:{GetPreviewOutputInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"GetPreviewOutputInformation",persistent:!1},Start:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"Start",persistent:!1},StartPreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"StartPreview",persistent:!1},GetStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"GetStatus",persistent:!1},Stop:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GEAR",method:"Stop",persistent:!1}},Graphicssetting:{ToggleDeepDVC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"ToggleDeepDVC",persistent:!1},GetDeepDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetDeepDVCState",persistent:!1},SetDeepDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetDeepDVCState",persistent:!1},GetAIDVCSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIDVCSupport",persistent:!1},GetAIDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIDVCState",persistent:!1},SetAIDVCState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetAIDVCState",persistent:!1},ToggleNIS2:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"ToggleNIS2",persistent:!1},GetNIS2State:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetNIS2State",persistent:!1},SetNIS2State:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetNIS2State",persistent:!1},GetAIHDRSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRSupport",persistent:!1},GetAIHDRRealTimeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRRealTimeState",persistent:!1},GetAIHDRState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"GetAIHDRState",persistent:!1},SetAIHDRState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GraphicsSetting",method:"SetAIHDRState",persistent:!1}},Nvperfmon:{EnablePerfStatsNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"EnablePerfStatsNotification",persistent:!1},RegisterPerfStatsNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"RegisterPerfStatsNotifications",persistent:!0},SetProcessId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetProcessId",persistent:!1},SetMetricSampleSize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetMetricSampleSize",persistent:!1},ResetAverageMetrics:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"ResetAverageMetrics",persistent:!1},GetDefaultLoggingPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetDefaultLoggingPath",persistent:!1},LoggingToggle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"LoggingToggle",persistent:!1},AlignLatencyMonitoringRectangle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"AlignLatencyMonitoringRectangle",persistent:!1},GetRLAMonitorSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetRLAMonitorSupport",persistent:!1},ShowFlashIndicator:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"ShowFlashIndicator",persistent:!1},SetFlashIndicatorSize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"SetFlashIndicatorSize",persistent:!1},GetGpuInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"GetGpuInfo",persistent:!1},powerStatusNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"powerStatusNotification",persistent:!0},CheckRLASupportedDriver:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvPerfMon",method:"CheckRLASupportedDriver",persistent:!1}},Osc:{OpenWindow:{legacyCommand:"QUERY_WIN_OPEN_OSC",system:"CrimsonNative",module:"osc",method:"OpenWindow",persistent:!1},CloseWindow:{legacyCommand:"QUERY_WIN_CLOSE_OSC",system:"CrimsonNative",module:"osc",method:"CloseWindow",persistent:!1},IsDisplayInDesktopMode:{legacyCommand:"QUERY_OSC_DISPLAY_IS_DESKTOP_MODE",system:"CrimsonNative",module:"osc",method:"IsDisplayInDesktopMode",persistent:!1},FullscreenState:{legacyCommand:"QUERY_FULLSCREEN_STATE",system:"CrimsonNative",module:"osc",method:"FullscreenState",persistent:!1},SetPainting:{legacyCommand:"QUERY_OSC_SET_PAINTING",system:"CrimsonNative",module:"osc",method:"SetPainting",persistent:!1},DropUrl:{legacyCommand:"QUERY_OSC_DROP_URL",system:"CrimsonNative",module:"osc",method:"DropUrl",persistent:!1},GenerateKeyboardMessage:{legacyCommand:"QUERY_WIN_KB_MESSAGE",system:"CrimsonNative",module:"osc",method:"GenerateKeyboardMessage",persistent:!1},RegisterCloseCommand:{legacyCommand:"QUERY_OSC_REGISTER_CLOSE_EVENT",system:"CrimsonNative",module:"osc",method:"RegisterCloseCommand",persistent:!0},SetDisplayRects:{legacyCommand:"QUERY_OSC_SET_DISPLAY_RECTS",system:"CrimsonNative",module:"osc",method:"SetDisplayRects",persistent:!1}},Sdk:{},Shareserver:e(94679).e},va={Common:{Applicationcontrol:{DeleteCookies:{legacyCommand:"QUERY_DELETE_COOKIES",system:"CrimsonNative",module:"ApplicationControl",method:"DeleteCookies",persistent:!1},SetTaskbarProgress:{legacyCommand:"QUERY_WIN_TASKBAR_PROGRESS",system:"CrimsonNative",module:"ApplicationControl",method:"SetTaskbarProgress",persistent:!1},LoadStringTable:{legacyCommand:"QUERY_LOAD_STRING_TABLE",system:"CrimsonNative",module:"ApplicationControl",method:"LoadStringTable",persistent:!1},ReadConfig:{legacyCommand:"QUERY_READ_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"ReadConfig",persistent:!1},ReadGenericConfig:{legacyCommand:"QUERY_READ_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"ReadGenericConfig",persistent:!1},WriteGenericConfig:{legacyCommand:"QUERY_WRITE_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"WriteGenericConfig",persistent:!1},RemoveFromGenericConfig:{legacyCommand:"QUERY_REMOVE_FROM_GENERIC_CONFIG",system:"CrimsonNative",module:"ApplicationControl",method:"RemoveFromGenericConfig",persistent:!1},AllowSetForegroundWindow:{legacyCommand:"QUERY_WIN_ALLOW_SET_FOREGROUND",system:"CrimsonNative",module:"ApplicationControl",method:"AllowSetForegroundWindow",persistent:!1},CopyToClipboard:{legacyCommand:"QUERY_WIN_COPY_TO_CLIPBOARD",system:"CrimsonNative",module:"ApplicationControl",method:"CopyToClipboard",persistent:!1},GetNotificationData:{legacyCommand:"QUERY_NOTIFICATION_DATA",system:"CrimsonNative",module:"ApplicationControl",method:"GetNotificationData",persistent:!1},AnimateAppWindow:{legacyCommand:"QUERY_WIN_ANIMATE_ACTIONS",system:"CrimsonNative",module:"ApplicationControl",method:"AnimateAppWindow",persistent:!1},GetLanguageCode:{legacyCommand:"QUERY_WIN_LANG_CODE",system:"CrimsonNative",module:"ApplicationControl",method:"GetLanguageCode",persistent:!1},LaunchApp:{legacyCommand:"QUERY_LAUNCH_COMPANION_APP",system:"CrimsonNative",module:"ApplicationControl",method:"LaunchApp",persistent:!1},Restart:{legacyCommand:"QUERY_RESTART_APP",system:"CrimsonNative",module:"ApplicationControl",method:"Restart",persistent:!1},RestartBackgroundAgent:{legacyCommand:"QUERY_RESTART_BGA_APP",system:"CrimsonNative",module:"ApplicationControl",method:"RestartBackgroundAgent",persistent:!1},IsCefGpuModeSupported:{legacyCommand:"QUERY_IS_CEF_GPU_MODE_SUPPORTED",system:"CrimsonNative",module:"ApplicationControl",method:"IsCefGpuModeSupported",persistent:!1},RequestLastInstallerStatus:{legacyCommand:"QUERY_LAST_INSTALLER_STATUS",system:"CrimsonNative",module:"ApplicationControl",method:"RequestLastInstallerStatus",persistent:!1}},Applicationinfo:{IsApplicationRunning:{legacyCommand:"QUERY_IS_APPLICATION_RUNNING",system:"CrimsonNative",module:"ApplicationInfo",method:"IsApplicationRunning",persistent:!1},IsApplicationInstalled:{legacyCommand:"QUERY_IS_APPLICATION_INSTALLED",system:"CrimsonNative",module:"ApplicationInfo",method:"IsApplicationInstalled",persistent:!1},GetIsUIRefreshed:{legacyCommand:"QUERY_IS_UI_REFRESHED",system:"CrimsonNative",module:"ApplicationInfo",method:"GetIsUIRefreshed",persistent:!1},RegisterAppLifetimeEventsCallback:{legacyCommand:"QUERY_REGISTER_APPLICATION_LIFETIME_EVENTS_CALLBACK",system:"CrimsonNative",module:"ApplicationInfo",method:"RegisterAppLifetimeEventsCallback",persistent:!0},ListenToLoadEvents:{legacyCommand:"QUERY_LISTEN_TO_LOAD_EVENTS",system:"CrimsonNative",module:"ApplicationInfo",method:"ListenToLoadEvents",persistent:!0},OpenFileDialog:{legacyCommand:"QUERY_WIN_DIR_INFO",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenFileDialog",persistent:!1},OpenDirectoryBrowser:{legacyCommand:"QUERY_BROWSE_DIRECTORY",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenDirectoryBrowser",persistent:!1},OpenSystemSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ApplicationInfo",method:"OpenSystemSetting",persistent:!1},GetApplicationTimeInfo:{legacyCommand:"QUERY_TIME_INFO",system:"CrimsonNative",module:"ApplicationInfo",method:"GetApplicationTimeInfo",persistent:!1}},Backgroundprocess:{},Bot:{ProcessIntent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Chatbot",method:"ProcessIntent",persistent:!1}},Clientnotification:{ShowClientNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"ShowClientNotifications",persistent:!1},ClearNotificationsQueue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"ClearNotificationsQueue",persistent:!1},DeleteNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ClientNotification",method:"DeleteNotification",persistent:!1}},Companiontool:{Load:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Load",persistent:!1},Save:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Save",persistent:!1},Reset:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Reset",persistent:!1},Run_Log_Collector:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"CompanionTool",method:"Run_Log_Collector",persistent:!1}},Connectionstate:{KeyboardAndMouseConnected:{legacyCommand:"QUERY_KEYBOARD_MOUSE_CONNECTED",system:"CrimsonNative",module:"ConnectionState",method:"KeyboardAndMouseConnected",persistent:!1}},Consent:{setCurrent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"setCurrent",persistent:!1},setAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"setAccepted",persistent:!1},getAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Consent",method:"getAccepted",persistent:!1}},Desktopnotification:{ShowDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"ShowDesktopNotification",persistent:!1},ClearDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"ClearDesktopNotification",persistent:!1},IsValidDesktopNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"IsValidDesktopNotification",persistent:!1},DesktopNotificationsAllowed:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationsAllowed",persistent:!1},DesktopNotificationActivated:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationActivated",persistent:!0},DesktopNotificationDismissed:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DesktopNotification",method:"DesktopNotificationDismissed",persistent:!0}},Diagnostics:{SendExceptionInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Diagnostics",method:"SendExceptionInfo",persistent:!1},SendUserFeedbackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Diagnostics",method:"SendUserFeedbackInfo",persistent:!1}},Discord:{UpdatePresence:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Discord",method:"UpdatePresence",persistent:!1},ClearPresence:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Discord",method:"ClearPresence",persistent:!1}},Downloader:{GetFirstBootTimeAfterInstall:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetFirstBootTimeAfterInstall",persistent:!1},GetMaxDaysBetweenReleases:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetMaxDaysBetweenReleases",persistent:!1},CheckForUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"CheckForUpdate",persistent:!1},GetLatestUpdateCheckTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetLatestUpdateCheckTime",persistent:!1},GetTaskDownloadStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetTaskDownloadStatus",persistent:!1},GetDownloadStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetDownloadStatus",persistent:!1},StartDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartDownload",persistent:!1},StartDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartDownloadAndPostProcess",persistent:!1},ScheduleDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ScheduleDownloadAndPostProcess",persistent:!1},PauseDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"PauseDownload",persistent:!1},ResumeDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ResumeDownload",persistent:!1},ResumeDownloadAndPostProcess:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"ResumeDownloadAndPostProcess",persistent:!1},StopDownload:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StopDownload",persistent:!1},GetPostProcessingStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetPostProcessingStatus",persistent:!1},StartPostProcessing:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"StartPostProcessing",persistent:!1},TriggerAutoUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"TriggerAutoUpdate",persistent:!1},RegisterCheckForUpdateProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterCheckForUpdateProgress",persistent:!0},RegisterDownloadProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterDownloadProgress",persistent:!0},RegisterPostProcessingProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterPostProcessingProgress",persistent:!0},RegisterAutoUpdateProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"RegisterAutoUpdateProgress",persistent:!0},CreateProfileFromSourceProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"CreateProfileFromSourceProfile",persistent:!1},GetUpdateChannel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"GetUpdateChannel",persistent:!1},SetUpdateChannel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Downloader",method:"SetUpdateChannel",persistent:!1}},Gallery:{GalleryNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryNotifications",persistent:!0},MontageNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MontageNotification",persistent:!0},PathChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"PathChangeNotification",persistent:!0},TempFolderChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"TempFolderChangeNotification",persistent:!0},GalleryCapStateChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryCapStateChangeNotification",persistent:!0},GalleryUpdatedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GalleryUpdatedNotification",persistent:!0},GetFolderListing:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFolderListing",persistent:!1},GetAppStats:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetAppStats",persistent:!1},GetAppUGC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetAppUGC",persistent:!1},RemoveGalleryItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"RemoveGalleryItem",persistent:!1},EnumerateDrives:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EnumerateDrives",persistent:!1},GetFileMetadata:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFileMetadata",persistent:!1},GetEventData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetEventData",persistent:!1},GetThumbnail:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetThumbnail",persistent:!1},GetFolderCRC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetFolderCRC",persistent:!1},GetImageFileDimensions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetImageFileDimensions",persistent:!1},CopyFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CopyFile",persistent:!1},MoveFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MoveFile",persistent:!1},IsDirectoryWriteable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"IsDirectoryWriteable",persistent:!1},GetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetSettings",persistent:!1},SetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"SetSettings",persistent:!1},GetDriveInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetDriveInfo",persistent:!1},CancelPathUpdate:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CancelPathUpdate",persistent:!1},GetRecentUGC:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetRecentUGC",persistent:!1},CheckDiskSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CheckDiskSpace",persistent:!1},EnqueuePendingHighlight:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EnqueuePendingHighlight",persistent:!1},OpenHighlightsGroupSummary:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"OpenHighlightsGroupSummary",persistent:!1},GetHighlightsCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetHighlightsCount",persistent:!1},DeleteGroupHighlights:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"DeleteGroupHighlights",persistent:!1},WriteEncryptedBitmap:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"WriteEncryptedBitmap",persistent:!1},TranscodeMediaFile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"TranscodeMediaFile",persistent:!1},CreateMontage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CreateMontage",persistent:!1},CreateMontageFromRecipe:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CreateMontageFromRecipe",persistent:!1},CancelMontage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"CancelMontage",persistent:!1},UpdateMontageProgress:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"UpdateMontageProgress",persistent:!1},Trim:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"Trim",persistent:!1},AddMeme:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"AddMeme",persistent:!1},EngraveMP4:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"EngraveMP4",persistent:!1},DeletePreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"DeletePreview",persistent:!1},PreviewPathInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"PreviewPathInfo",persistent:!1},GetMontageCloudConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"GetMontageCloudConfig",persistent:!1},MigrateHighlightsTracker:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gallery",method:"MigrateHighlightsTracker",persistent:!1}},Gameshare:{CreateSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"CreateSession",persistent:!1},DeleteSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"DeleteSession",persistent:!1},ModifySession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"ModifySession",persistent:!1},ConfigureControllerMapping:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"ConfigureControllerMapping",persistent:!1},GetFullScreenProcessId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"GetFullScreenProcessId",persistent:!1},CreateSessionNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"CreateSessionNotification",persistent:!0},SessionStatusUpdateNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"SessionStatusUpdateNotification",persistent:!0},AudioDeviceChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GameShare",method:"AudioDeviceChangeNotification",persistent:!0}},Gamestream:{GetServerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetServerStatus",persistent:!1},SetServerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"SetServerStatus",persistent:!1},GetPairedDevices:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetPairedDevices",persistent:!1},RemovePairedDevices:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RemovePairedDevices",persistent:!1},RegisterPairedDeviceNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RegisterPairedDeviceNotification",persistent:!0},RegisterShieldDeviceNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RegisterShieldDeviceNotification",persistent:!0},RespondToUpdateNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RespondToUpdateNotification",persistent:!1},GetAppsList:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"GetAppsList",persistent:!1},AddAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"AddAppCollectorItem",persistent:!1},RemoveAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"RemoveAppCollectorItem",persistent:!1},EditAppCollectorItem:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Gamestream",method:"EditAppCollectorItem",persistent:!1}},Httpserver:{StartHttpServer:{legacyCommand:"QUERY_HTTPSERVER_START",system:"CrimsonNative",module:"Httpserver",method:"StartHttpServer",persistent:!0},StopHttpServer:{legacyCommand:"QUERY_HTTPSERVER_STOP",system:"CrimsonNative",module:"Httpserver",method:"StopHttpServer",persistent:!1},SendRedirectResponse:{legacyCommand:"QUERY_HTTPSERVER_REDIRECTRESPONSE",system:"CrimsonNative",module:"Httpserver",method:"SendRedirectResponse",persistent:!1}},Ipc:{Pop:{legacyCommand:"QUERY_IPC_POP_MESSAGE",system:"CrimsonNative",module:"Ipc",method:"Pop",persistent:!1},Push:{legacyCommand:"QUERY_IPC_PUSH_MESSAGE",system:"CrimsonNative",module:"Ipc",method:"Push",persistent:!1},LoginStatus:{legacyCommand:"QUERY_GFN_LOGIN_STATUS",system:"CrimsonNative",module:"Ipc",method:"LoginStatus",persistent:!1}},Jarvis:{MonitorLoginStatus:{legacyCommand:"JARVIS_MONITOR_LOGIN_STATUS",system:"CrimsonNative",module:"Jarvis",method:"MonitorLoginStatus",persistent:!0},Login:{legacyCommand:"JARVIS_LOGIN",system:"CrimsonNative",module:"Jarvis",method:"Login",persistent:!1},Logout:{legacyCommand:"JARVIS_LOGOUT",system:"CrimsonNative",module:"Jarvis",method:"Logout",persistent:!1},QueryToken:{legacyCommand:"QUERY_TOKEN",system:"CrimsonNative",module:"Jarvis",method:"QueryToken",persistent:!1}},Nativeauth:{syncSessionData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"syncSessionData",persistent:!1},initiateLogIn:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogIn",persistent:!1},initiateLogOut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogOut",persistent:!1},initiateLogInALS:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NativeAuth",method:"initiateLogInALS",persistent:!1}},Nvaccount:{GetEULAAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetEULAAccepted",persistent:!1},SetEULAAccepted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"SetEULAAccepted",persistent:!1},OnLogin:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"OnLogin",persistent:!1},OnLogout:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"OnLogout",persistent:!1},GetUserAccount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetUserAccount",persistent:!1},GetIdToken:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetIdToken",persistent:!1},RefreshConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"RefreshConsent",persistent:!1},GetDeviceConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetDeviceConsent",persistent:!1},GetUserId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"GetUserId",persistent:!1},UserIdChangedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"UserIdChangedNotification",persistent:!0},UserConsentChangedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvAccount",method:"UserConsentChangedNotification",persistent:!0}},Nvcamera:{NvCameraResponseNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraResponseNotification",persistent:!0},NvCameraFilterResponseNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraFilterResponseNotification",persistent:!0},NvCameraUIControlNotificationData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NvCameraUIControlNotificationData",persistent:!0},NgxAIUpResNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"NgxAIUpResNotifications",persistent:!0},SetAnselEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetAnselEnable",persistent:!1},GetFeatureSet:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFeatureSet",persistent:!1},GetProcessInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetProcessInfo",persistent:!1},GetNvCameraConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetNvCameraConfig",persistent:!1},GetVersion:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetVersion",persistent:!1},AnselUIReady:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"AnselUIReady",persistent:!1},GetAnselCaptureTypes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetAnselCaptureTypes",persistent:!1},GetAnselEnabledStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetAnselEnabledStatus",persistent:!1},SetLanguage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetLanguage",persistent:!1},SetNvCameraConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetNvCameraConfig",persistent:!1},CaptureScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CaptureScreenshot",persistent:!1},GetCaptureResolutions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCaptureResolutions",persistent:!1},SetFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilter",persistent:!1},GetCurrentFilterInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCurrentFilterInfo",persistent:!1},ResetFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"ResetFilter",persistent:!1},InsertFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"InsertFilter",persistent:!1},RemoveFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"RemoveFilter",persistent:!1},MoveFilter:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"MoveFilter",persistent:!1},GetFilterStackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFilterStackInfo",persistent:!1},ResetFilterStack:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"ResetFilterStack",persistent:!1},SetFilterAttribute:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilterAttribute",persistent:!1},SetFilterAndAttributes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetFilterAndAttributes",persistent:!1},CancelCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CancelCapture",persistent:!1},SetCameraControlFovRoll:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCameraControlFovRoll",persistent:!1},GetCameraControlFov:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCameraControlFov",persistent:!1},GetCameraRangeFovRoll:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetCameraRangeFovRoll",persistent:!1},SetCameraGridOfThirds:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCameraGridOfThirds",persistent:!1},SetAnselRedirection:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetAnselRedirection",persistent:!1},SendEnableRedirectionToSP:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SendEnableRedirectionToSP",persistent:!0},MouseEventToNvcamera:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"MouseEventToNvcamera",persistent:!1},KeyboardEventToNvcamera:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"KeyboardEventToNvcamera",persistent:!1},GetFreestyleWhitelisted:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetFreestyleWhitelisted",persistent:!1},GetNvCameraOnBusStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"GetNvCameraOnBusStatus",persistent:!1},StartNgxAIUpRes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"StartNgxAIUpRes",persistent:!1},CancelNgxAIUpRes:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"CancelNgxAIUpRes",persistent:!1},AnselShotSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"AnselShotSavedNotification",persistent:!0},SetCMSInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCamera",method:"SetCMSInfo",persistent:!1}},Nvlocalizedconfig:{LocalizationDataChangeNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvLocalizedConfig",method:"LocalizationDataChangeNotification",persistent:!0},GetLocalizationData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvLocalizedConfig",method:"GetLocalizationData",persistent:!1}},Overrides:{getConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"getConfig",persistent:!1},launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"launch",persistent:!1},apply:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"apply",persistent:!1},reset:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Overrides",method:"reset",persistent:!1}},Sharedstorage:{Read:{legacyCommand:"QUERY_READ_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Read",persistent:!1},Write:{legacyCommand:"QUERY_WRITE_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Write",persistent:!1},Remove:{legacyCommand:"QUERY_REMOVE_FROM_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Remove",persistent:!1},Cache:{legacyCommand:"QUERY_CACHE_SHARED_STORAGE",system:"CrimsonNative",module:"SharedStorage",method:"Cache",persistent:!1}},Subscriptioninfo:{InitializeSubscriptionProductSku:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SubscriptionInfo",method:"InitializeSubscriptionProductSku",persistent:!1}},Survey:{Launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Survey",method:"Launch",persistent:!1}},Systeminfo:{GetSystemInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetSystemInfo",persistent:!1},GetClientHeadersInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetClientHeadersInfo",persistent:!1},GetDeviceId:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetDeviceId",persistent:!1},GetBrowserInfo:{legacyCommand:"QUERY_BROWSER_INFO",system:"CrimsonNative",module:"SystemInfo",method:"GetBrowserInfo",persistent:!1},GetStreamingSupportInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"SystemInfo",method:"GetStreamingSupportInfo",persistent:!1},DNSLookup:{legacyCommand:"QUERY_DNS",system:"CrimsonNative",module:"SystemInfo",method:"DNSLookup",persistent:!1}},Telemetry:{SendGridServerAnalyticsEvent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Telemetry",method:"SendGridServerAnalyticsEvent",persistent:!1}},Update:e(7241).B,Windowcontrol:{Maximize:{legacyCommand:"QUERY_WIN_MAXIMIZE",system:"CrimsonNative",module:"WindowControl",method:"Maximize",persistent:!1},Minimize:{legacyCommand:"QUERY_WIN_MINIMIZE",system:"CrimsonNative",module:"WindowControl",method:"Minimize",persistent:!1},Restore:{legacyCommand:"QUERY_WIN_RESTORE",system:"CrimsonNative",module:"WindowControl",method:"Restore",persistent:!1},RestoreFromFullScreen:{legacyCommand:"QUERY_WIN_RESTORE_FROM_FULLSCREEN",system:"CrimsonNative",module:"WindowControl",method:"RestoreFromFullScreen",persistent:!1},Resize:{legacyCommand:"QUERY_WIN_RECT",system:"CrimsonNative",module:"WindowControl",method:"Resize",persistent:!1},Close:{legacyCommand:"QUERY_WIN_CLOSE",system:"CrimsonNative",module:"WindowControl",method:"Close",persistent:!1},Focus:{legacyCommand:"QUERY_WIN_FOCUS",system:"CrimsonNative",module:"WindowControl",method:"Focus",persistent:!1},RequestUserAttention:{legacyCommand:"QUERY_REQUEST_USER_ATTENTION",system:"CrimsonNative",module:"WindowControl",method:"RequestUserAttention",persistent:!1},EnableCloseButton:{legacyCommand:"QUERY_WIN_ALLOW_CLOSE",system:"CrimsonNative",module:"WindowControl",method:"EnableCloseButton",persistent:!1}},Windowevents:{RegisterWindowEventsCallback:{legacyCommand:"QUERY_REGISTER_WINDOW_EVENTS_CALLBACK",system:"CrimsonNative",module:"WindowEvents",method:"RegisterWindowEventsCallback",persistent:!0}}},Gfe:{Driverinstall:{InstallAsync:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"InstallAsync",persistent:!1},SetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"SetState",persistent:!1},GetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"GetState",persistent:!1},RegisterProgressNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterProgressNotification",persistent:!0},RegisterFormNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterFormNotification",persistent:!0}},Driverupdaterecommendation:{GetDriverUpdateRecommendation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateRecommendation",persistent:!1},GetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetUserDriverTypePreference",persistent:!1},SetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetUserDriverTypePreference",persistent:!1},GetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetAutomaticDriverDownloadEnabled",persistent:!1},SetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetAutomaticDriverDownloadEnabled",persistent:!1},StartDriverUpdateCheck:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"StartDriverUpdateCheck",persistent:!1},RegisterDriverUpdateCheckProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"RegisterDriverUpdateCheckProgressNotifications",persistent:!0},GetGRDEditorPreviewMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGRDEditorPreviewMode",persistent:!1},GetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateNotificationEnabled",persistent:!1},SetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetDriverUpdateNotificationEnabled",persistent:!1}},Gfnsdk:{Initialize:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdk",method:"Initialize",persistent:!1},StartStreaming:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdk",method:"StartStreaming",persistent:!1}},Localgames:{GetApplications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplications",persistent:!1},RegisterApplicationChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationChangedNotifications",persistent:!0},RegisterApplicationRemovedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationRemovedNotifications",persistent:!0},StartApplicationScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"StartApplicationScan",persistent:!1},RegisterApplicationScanProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationScanProgressNotifications",persistent:!0},GetLastApplicationScanTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLastApplicationScanTime",persistent:!1},LaunchApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchApplication",persistent:!1},GetLauncherPID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLauncherPID",persistent:!1},GetApplicationSearchPaths:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationSearchPaths",persistent:!1},AddApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"AddApplicationSearchPath",persistent:!1},RemoveApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RemoveApplicationSearchPath",persistent:!1},GetVOPSStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetVOPSStatus",persistent:!1},GetVOPSSettingsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetVOPSSettingsInfo",persistent:!1},RegisterVOPSReadyNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterVOPSReadyNotifications",persistent:!0},GetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostState",persistent:!1},SetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetBatteryBoostState",persistent:!1},GetBatteryBoostSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostSupportState",persistent:!1},GetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeState",persistent:!1},SetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetWhisperModeState",persistent:!1},RegisterWhisperModeStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeStateNotifications",persistent:!0},GetWhisperModeSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeSupportState",persistent:!1},RegisterWhisperModeSupportStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeSupportStateNotifications",persistent:!0},GetSettingsTranslations:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsTranslations",persistent:!1},GetSettingsSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsSpace",persistent:!1},SetTargetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetTargetSettings",persistent:!1},GetApplicationState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationState",persistent:!1},RegisterApplicationStateChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationStateChangedNotifications",persistent:!0}}},Gfn:{Gfnbroadcast:{GfnBroadcastResponseNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"GfnBroadcastResponseNotification",persistent:!0},BroadcastConnect:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"BroadcastConnect",persistent:!1},BroadcastDisconnect:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"BroadcastDisconnect",persistent:!1},ValidateRtspServer:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"ValidateRtspServer",persistent:!1},ClientWebcamStart:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"ClientWebcamStart",persistent:!1},ClientWebcamStop:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnBroadcast",method:"ClientWebcamStop",persistent:!1}},Gfnsdkhost:{UpdateStreamerStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"UpdateStreamerStatus",persistent:!1},OnMessageToSDKClient:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnMessageToSDKClient",persistent:!1},OnMessageFromSDKClient:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnMessageFromSDKClient",persistent:!0},SendCustomMessage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"SendCustomMessage",persistent:!1},OnCustomMessageNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"GfnSdkHost",method:"OnCustomMessageNotification",persistent:!0}},Networktest:{Start:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"Start",persistent:!1},AuthTokenRequest:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"AuthTokenRequest",persistent:!0},NetworkTestFinishedCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"NetworkTestFinishedCallback",persistent:!0},UpdateAuthToken:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"UpdateAuthToken",persistent:!1},ConfigureNetworkTestSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"ConfigureNetworkTestSettings",persistent:!1},RegisterCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NetworkTest",method:"RegisterCallback",persistent:!1}},Nvlogreporter:{Start:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvLogReporter",method:"Start",persistent:!1}},Serverrouting:{PerformRouting:{legacyCommand:"QUERY_GFN_LATENCY_BASED_ROUTING",system:"CrimsonNative",module:"ServerRouting",method:"PerformRouting",persistent:!1}},Streamer:{Launch:{legacyCommand:"QUERY_STREAMER_LAUNCH",system:"CrimsonNative",module:"Streamer",method:"Launch",persistent:!1},AddDesktopShortcut:{legacyCommand:"QUERY_STREAMER_INSTALL",system:"CrimsonNative",module:"Streamer",method:"AddDesktopShortcut",persistent:!1}},Streaming:{Start:{legacyCommand:"QUERY_GFN_START",system:"CrimsonNative",module:"Streaming",method:"Start",persistent:!1},Prepare:{legacyCommand:"QUERY_GFN_PREPARE",system:"CrimsonNative",module:"Streaming",method:"Prepare",persistent:!1},SetAuthInfo:{legacyCommand:"QUERY_GFN_SET_AUTH_INFO",system:"CrimsonNative",module:"Streaming",method:"SetAuthInfo",persistent:!1},SetAuthToken:{legacyCommand:"QUERY_GFN_SET_AUTH_TOKEN",system:"CrimsonNative",module:"Streaming",method:"SetAuthToken",persistent:!1},SetPrefetchedSettings:{legacyCommand:"QUERY_GFN_SET_PREFETCHED_SETTINGS",system:"CrimsonNative",module:"Streaming",method:"SetPrefetchedSettings",persistent:!1},Stop:{legacyCommand:"QUERY_GFN_STOP",system:"CrimsonNative",module:"Streaming",method:"Stop",persistent:!1},Cleanup:{legacyCommand:"QUERY_GFN_CLEANUP",system:"CrimsonNative",module:"Streaming",method:"Cleanup",persistent:!1},GetActiveSessions:{legacyCommand:"QUERY_GFN_GET_ACTIVE_SESSIONS",system:"CrimsonNative",module:"Streaming",method:"GetActiveSessions",persistent:!1},GetSessionInfo:{legacyCommand:"QUERY_GFN_GET_SESSION_INFO",system:"CrimsonNative",module:"Streaming",method:"GetSessionInfo",persistent:!1},VsyncToggle:{legacyCommand:"QUERY_GFN_IS_VSYNC_TOGGLE_SUPPORTED",system:"CrimsonNative",module:"Streaming",method:"VsyncToggle",persistent:!1},Cancel:{legacyCommand:"QUERY_GFN_CANCEL",system:"CrimsonNative",module:"Streaming",method:"Cancel",persistent:!1},Resume:{legacyCommand:"QUERY_GFN_RESUME",system:"CrimsonNative",module:"Streaming",method:"Resume",persistent:!1},PauseStreaming:{legacyCommand:"QUERY_GFN_PAUSE_STREAMING",system:"CrimsonNative",module:"Streaming",method:"PauseStreaming",persistent:!1},UpdateRemoteConfig:{legacyCommand:"QUERY_GFN_UPDATE_REMOTE_CONFIG",system:"CrimsonNative",module:"Streaming",method:"UpdateRemoteConfig",persistent:!1},RegisterCallback:{legacyCommand:"QUERY_GFN_REGISTER_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"RegisterCallback",persistent:!0},OpenOsr:{legacyCommand:"QUERY_WIN_OPEN_OSR",system:"CrimsonNative",module:"Streaming",method:"OpenOsr",persistent:!1},CloseOsr:{legacyCommand:"QUERY_WIN_CLOSE_OSR",system:"CrimsonNative",module:"Streaming",method:"CloseOsr",persistent:!1},OsrRegisterCustomKeyPress:{legacyCommand:"QUERY_OSR_REGISTER_KEYPRESS",system:"CrimsonNative",module:"Streaming",method:"OsrRegisterCustomKeyPress",persistent:!1},OsrUnregisterCustomKeyPress:{legacyCommand:"QUERY_OSR_UNREGISTER_KEYPRESS",system:"CrimsonNative",module:"Streaming",method:"OsrUnregisterCustomKeyPress",persistent:!1},OsrCheckKeyPressCombination:{legacyCommand:"QUERY_OSR_CHECK_KEYPRESS_COMBINATION",system:"CrimsonNative",module:"Streaming",method:"OsrCheckKeyPressCombination",persistent:!1},OsrRegisterKeyPressCallback:{legacyCommand:"QUERY_OSR_REGISTER_KEYPRESS_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"OsrRegisterKeyPressCallback",persistent:!0},OsrSetOverlayResolution:{legacyCommand:"QUERY_OSR_SET_OVERLAY_RESOLUTION",system:"CrimsonNative",module:"Streaming",method:"OsrSetOverlayResolution",persistent:!1},GetStreamVolume:{legacyCommand:"QUERY_GFN_GET_STREAM_VOLUME",system:"CrimsonNative",module:"Streaming",method:"GetStreamVolume",persistent:!1},GetStreamStats:{legacyCommand:"QUERY_GFN_GET_STREAM_STATS",system:"CrimsonNative",module:"Streaming",method:"GetStreamStats",persistent:!1},SetStreamVolume:{legacyCommand:"QUERY_GFN_SET_STREAM_VOLUME",system:"CrimsonNative",module:"Streaming",method:"SetStreamVolume",persistent:!1},SetMagnificationFilter:{legacyCommand:"QUERY_GFN_SET_MAG_FILTER",system:"CrimsonNative",module:"Streaming",method:"SetMagnificationFilter",persistent:!1},GetMagnificationFilterSupport:{legacyCommand:"QUERY_GFN_GET_MAG_FILTER_SUPPORT",system:"CrimsonNative",module:"Streaming",method:"GetMagnificationFilterSupport",persistent:!1},GetMagnificationFilterSupportList:{legacyCommand:"QUERY_GFN_GET_MAG_FILTER_SUPPORT_LIST",system:"CrimsonNative",module:"Streaming",method:"GetMagnificationFilterSupportList",persistent:!1},SetMagnificationFilterSharpness:{legacyCommand:"QUERY_GFN_SET_MAG_FILTER_SHARPNESS",system:"CrimsonNative",module:"Streaming",method:"SetMagnificationFilterSharpness",persistent:!1},ToggleOnScreenStats:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"ToggleOnScreenStats",persistent:!1},ToggleUserInput:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"ToggleUserInput",persistent:!1},ToggleJoystickMouse:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"ToggleJoystickMouse",persistent:!1},SetVirtualKeyboardState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"SetVirtualKeyboardState",persistent:!1},SetVideoTransforms:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"SetVideoTransforms",persistent:!1},RegisterMicCallback:{legacyCommand:"QUERY_GFN_REGISTER_MIC_CALLBACK",system:"CrimsonNative",module:"Streaming",method:"RegisterMicCallback",persistent:!0},ShouldDefaultEnableMic:{legacyCommand:"QUERY_SHOULD_DEFAULT_ENABLE_MIC",system:"CrimsonNative",module:"Streaming",method:"ShouldDefaultEnableMic",persistent:!1},GetMicState:{legacyCommand:"QUERY_GFN_GET_MIC_STATE",system:"CrimsonNative",module:"Streaming",method:"GetMicState",persistent:!1},SetMicState:{legacyCommand:"QUERY_GFN_SET_MIC_STATE",system:"CrimsonNative",module:"Streaming",method:"SetMicState",persistent:!1},GetKeyboardLayout:{legacyCommand:"QUERY_GFN_GET_KEYBOARD_LAYOUT",system:"CrimsonNative",module:"Streaming",method:"GetKeyboardLayout",persistent:!1},SetKeyboardLayout:{legacyCommand:"QUERY_GFN_SET_KEYBOARD_LAYOUT",system:"CrimsonNative",module:"Streaming",method:"SetKeyboardLayout",persistent:!1},ConfigureStreamingSettings:{legacyCommand:"QUERY_GFN_UPDATE_STREAMING_SETTINGS",system:"CrimsonNative",module:"Streaming",method:"ConfigureStreamingSettings",persistent:!1},SendUnicode:{legacyCommand:"QUERY_GFN_SEND_UNICODE",system:"CrimsonNative",module:"Streaming",method:"SendUnicode",persistent:!1},OnKBLayoutChange:{legacyCommand:"QUERY_GFN_REGISTER_ON_KEYBOARD_LAYOUT_CHANGED",system:"CrimsonNative",module:"Streaming",method:"OnKBLayoutChange",persistent:!0},GetUnifiedAPIVersion:{legacyCommand:"QUERY_GFN_GET_UNIFIED_API_VERSION",system:"CrimsonNative",module:"Streaming",method:"GetUnifiedAPIVersion",persistent:!1},OnIMEWindowClosed:{legacyCommand:"QUERY_GFN_REGISTER_ON_IME_WINDOW_CLOSED",system:"CrimsonNative",module:"Streaming",method:"OnIMEWindowClosed",persistent:!0},OnIMEWindowOpened:{legacyCommand:"QUERY_GFN_REGISTER_ON_IME_WINDOW_OPENED",system:"CrimsonNative",module:"Streaming",method:"OnIMEWindowOpened",persistent:!0},GetDisplayMode:{legacyCommand:"QUERY_GFN_GET_DISPLAY_MODE",system:"CrimsonNative",module:"Streaming",method:"GetDisplayMode",persistent:!1},GetVSyncAutoDisableThresholdStreamingFPS:{legacyCommand:"QUERY_GFN_GET_VSYNC_AUTO_DISABLE_THRESHOLD_FPS",system:"CrimsonNative",module:"Streaming",method:"GetVSyncAutoDisableThresholdStreamingFPS",persistent:!1},GetVSyncAutoDisableThresholdDisplayHz:{legacyCommand:"QUERY_GFN_GET_VSYNC_AUTO_DISABLE_THRESHOLD_DISPLAY_HZ",system:"CrimsonNative",module:"Streaming",method:"GetVSyncAutoDisableThresholdDisplayHz",persistent:!1},SetVsyncEnabled:{legacyCommand:"QUERY_GFN_SET_VSYNC_ENABLED",system:"CrimsonNative",module:"Streaming",method:"SetVsyncEnabled",persistent:!1},SetAdaptiveFramePacingEnabled:{legacyCommand:"QUERY_GFN_SET_ADAPTIVE_FRAME_PACING_ENABLED",system:"CrimsonNative",module:"Streaming",method:"SetAdaptiveFramePacingEnabled",persistent:!1},SetDrcDfcState:{legacyCommand:"QUERY_GFN_SET_DRC_DFC_STATE",system:"CrimsonNative",module:"Streaming",method:"SetDrcDfcState",persistent:!1},SetStreamingMaxBitrate:{legacyCommand:"QUERY_GFN_SET_STREAMING_MAX_BITRATE",system:"CrimsonNative",module:"Streaming",method:"SetStreamingMaxBitrate",persistent:!1},UpdateEventInfoGuids:{legacyCommand:"QUERY_GFN_UPDATE_EVENT_INFO_GUIDS",system:"CrimsonNative",module:"Streaming",method:"UpdateEventInfoGuids",persistent:!1},RegisterGridServerAnalyticsCallback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"RegisterGridServerAnalyticsCallback",persistent:!0},GetAutoResolution:{legacyCommand:"QUERY_GFN_GET_AUTO_RESOLUTION",system:"CrimsonNative",module:"Streaming",method:"GetAutoResolution",persistent:!1},LaunchNativeStreamer:{legacyCommand:"QUERY_GFN_LAUNCH_NATVE_STREAMER",system:"CrimsonNative",module:"Streaming",method:"LaunchNativeStreamer",persistent:!1},UpdateEventDataElements:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"Streaming",method:"UpdateEventDataElements",persistent:!1},SendClipboardUpdate:{legacyCommand:"QUERY_GFN_SEND_CLIPBOARD_UPDATE",system:"CrimsonNative",module:"Streaming",method:"SendClipboardUpdate",persistent:!1},IsPlatformSupportsUHD:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORTS_UHD",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportsUHD",persistent:!1},AuthorizeAVDevices:{legacyCommand:"QUERY_GFN_AUTH_AV_DEVICES",system:"CrimsonNative",module:"Streaming",method:"AuthorizeAVDevices",persistent:!1},PlatformGetMaxBitRateForArray:{legacyCommand:"QUERY_GFN_PLATFORM_GET_MAXBITRATE_ARRAY",system:"CrimsonNative",module:"Streaming",method:"PlatformGetMaxBitRateForArray",persistent:!1},SendKeyEvent:{legacyCommand:"QUERY_GFN_SEND_KEY_EVENT_TO_STREAMER",system:"CrimsonNative",module:"Streaming",method:"SendKeyEvent",persistent:!1},IsPlatformSupportsHDRStreaming:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORTS_HDR_STREAMING",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportsHDRStreaming",persistent:!1},RegisterHDRStreamingStatusNotification:{legacyCommand:"QUERY_GFN_REGISTER_HDR_STATUS",system:"CrimsonNative",module:"Streaming",method:"RegisterHDRStreamingStatusNotification",persistent:!0},IsPlatformSupportFps:{legacyCommand:"QUERY_GFN_IS_PLATFORM_SUPPORT_FPS",system:"CrimsonNative",module:"Streaming",method:"IsPlatformSupportFps",persistent:!1},GetHighestSupportedAudioFormat:{legacyCommand:"QUERY_GFN_GET_HIGHEST_SUPPORTED_AUDIO_FORMAT",system:"CrimsonNative",module:"Streaming",method:"GetHighestSupportedAudioFormat",persistent:!1},CalculateDataUsage:{legacyCommand:"QUERY_GFN_CALCULATE_DATA_USAGE",system:"CrimsonNative",module:"Streaming",method:"CalculateDataUsage",persistent:!1}}},Nvapp:{Appdiscovery:{AppActionNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"AppActionNotification",persistent:!0},InstallApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"InstallApp",persistent:!1},UninstallApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"UninstallApp",persistent:!1},GetAppStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"GetAppStatus",persistent:!1},GetAppsStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"GetAppsStatus",persistent:!1},LaunchApp:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"AppDiscovery",method:"LaunchApp",persistent:!1}},Driverinstall:{InstallAsync:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"InstallAsync",persistent:!1},SetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"SetState",persistent:!1},GetState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"GetState",persistent:!1},RegisterProgressNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterProgressNotification",persistent:!0},RegisterFormNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverInstall",method:"RegisterFormNotification",persistent:!0}},Driverupdaterecommendation:{GetDriverUpdateRecommendation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateRecommendation",persistent:!1},GetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetUserDriverTypePreference",persistent:!1},SetUserDriverTypePreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetUserDriverTypePreference",persistent:!1},GetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetAutomaticDriverDownloadEnabled",persistent:!1},SetAutomaticDriverDownloadEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetAutomaticDriverDownloadEnabled",persistent:!1},StartDriverUpdateCheck:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"StartDriverUpdateCheck",persistent:!1},RegisterDriverUpdateCheckProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"RegisterDriverUpdateCheckProgressNotifications",persistent:!0},GetGRDEditorPreviewMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGRDEditorPreviewMode",persistent:!1},GetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetDriverUpdateNotificationEnabled",persistent:!1},SetDriverUpdateNotificationEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetDriverUpdateNotificationEnabled",persistent:!1},GetGPUInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGPUInfo",persistent:!1},GetGenericInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetGenericInfo",persistent:!1},GetRewardsNotificationPreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"GetRewardsNotificationPreference",persistent:!1},SetRewardsNotificationPreference:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverUpdateRecommendation",method:"SetRewardsNotificationPreference",persistent:!1}},Localgames:{GetApplications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplications",persistent:!1},RegisterApplicationChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationChangedNotifications",persistent:!0},RegisterApplicationRemovedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationRemovedNotifications",persistent:!0},StartApplicationScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"StartApplicationScan",persistent:!1},RegisterApplicationScanProgressNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationScanProgressNotifications",persistent:!0},GetLastApplicationScanTime:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLastApplicationScanTime",persistent:!1},LaunchApplication:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchApplication",persistent:!1},GetLauncherPID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetLauncherPID",persistent:!1},GetApplicationSearchPaths:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationSearchPaths",persistent:!1},AddApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"AddApplicationSearchPath",persistent:!1},RemoveApplicationSearchPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RemoveApplicationSearchPath",persistent:!1},GetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostState",persistent:!1},SetBatteryBoostState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetBatteryBoostState",persistent:!1},GetBatteryBoostSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetBatteryBoostSupportState",persistent:!1},GetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeState",persistent:!1},SetWhisperModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetWhisperModeState",persistent:!1},RegisterWhisperModeStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeStateNotifications",persistent:!0},GetWhisperModeSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetWhisperModeSupportState",persistent:!1},RegisterWhisperModeSupportStateNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterWhisperModeSupportStateNotifications",persistent:!0},GetSettingsTranslations:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsTranslations",persistent:!1},GetSettingsSpace:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSettingsSpace",persistent:!1},SetTargetSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetTargetSettings",persistent:!1},GetApplicationState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetApplicationState",persistent:!1},RegisterApplicationStateChangedNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"RegisterApplicationStateChangedNotifications",persistent:!0},GetSignedGPUID:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetSignedGPUID",persistent:!1},LaunchMSSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"LaunchMSSettings",persistent:!1},SetOOTBStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetOOTBStatus",persistent:!1},FindAndGetAppMetadata:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"FindAndGetAppMetadata",persistent:!1},GetAutoOptimizeEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"GetAutoOptimizeEnabled",persistent:!1},SetAutoOptimizeEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"LocalGames",method:"SetAutoOptimizeEnabled",persistent:!1}},Nvcplplugin:{GetProfileSettingsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingsInfo",persistent:!1},GetProfileSettingValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingValue",persistent:!1},GetProfileSettingDefaultValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileSettingDefaultValue",persistent:!1},GetProfileNameFromExe:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileNameFromExe",persistent:!1},SetProfileSettingValue:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"SetProfileSettingValue",persistent:!1},ApplyProfileSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"ApplyProfileSettings",persistent:!1},GetProfileJsonStringSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileJsonStringSettingPossibleValues",persistent:!1},GetProfileStringSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileStringSettingPossibleValues",persistent:!1},GetProfileScalarSettingPossibleValues:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfileScalarSettingPossibleValues",persistent:!1},RestoreDefaultForProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"RestoreDefaultForProfile",persistent:!1},RestoreDefaultForAllProfiles:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"RestoreDefaultForAllProfiles",persistent:!1},GetProgramProfileNames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProgramProfileNames",persistent:!1},GetProfilesAndApplicationsInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetProfilesAndApplicationsInfo",persistent:!1},GetGlobalProfileNames:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetGlobalProfileNames",persistent:!1},CreateNewProfile:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"CreateNewProfile",persistent:!1},GetGPUInformation:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetGPUInformation",persistent:!1},GetDirect3DfeatureLevel:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetDirect3DfeatureLevel",persistent:!1},GetGpuCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvCplPlugin",method:"GetGpuCount",persistent:!1}},Nvigoutil:{ToggleIGO:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"ToggleIGO",persistent:!1},GetShadowPlaySupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetShadowPlaySupported",persistent:!1},GetShadowPlayStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetShadowPlayStatus",persistent:!1},GetFilterPhotoModeState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetFilterPhotoModeState",persistent:!1},SetFilterPhotoMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"SetFilterPhotoMode",persistent:!1},OpenIGO:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"OpenIGO",persistent:!1},GetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvIGOUtil",method:"GetHotkeyShortcut",persistent:!1}},Nvoc:{GetFeatureSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetFeatureSupportState",persistent:!1},GetManualOCLimits:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetManualOCLimits",persistent:!1},GetLastOcScanResults:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetLastOcScanResults",persistent:!1},GetLastIncompleteOcScannerResults:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetLastIncompleteOcScannerResults",persistent:!1},GetFanSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetFanSettings",persistent:!1},OcScanStatusUpdatesNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"OcScanStatusUpdatesNotifications",persistent:!0},GetOCConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetOCConfig",persistent:!1},GetGpuInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetGpuInfo",persistent:!1},GetOCAdminConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"GetOCAdminConsent",persistent:!1},SetOCAdminConsent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"SetOCAdminConsent",persistent:!1},powerStatusNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"NvOc",method:"powerStatusNotification",persistent:!0}},Overclockingnvc:{GetFeatureSupportState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"GetFeatureSupportState",persistent:!1},SetManualOCLimits:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"SetManualOCLimits",persistent:!1},StartOcManualScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"StartOcManualScan",persistent:!1},StopOcManualScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"StopOcManualScan",persistent:!1},EnableBackgroundOcScan:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"EnableBackgroundOcScan",persistent:!1},EnableAutotuneOc:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"EnableAutotuneOc",persistent:!1},RestoreOcDefault:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"RestoreOcDefault",persistent:!1},SetFanSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"OverClockingNvc",method:"SetFanSettings",persistent:!1}}},Qxp:{Driverrollback:{Rollback:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverRollback",method:"Rollback",persistent:!1},RollbackInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"DriverRollback",method:"RollbackInfo",persistent:!1}}},Share:Xe}},94679:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>Pn});const Pn={SetCaptureSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCaptureSupported",persistent:!1},RegisterHotkeyNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterHotkeyNotifications",persistent:!0},RegisterGeneralNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterGeneralNotifications",persistent:!0},RegisterCaptureStateChangeNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterCaptureStateChangeNotifications",persistent:!0},RegisterWindowStateChangeNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterWindowStateChangeNotifications",persistent:!0},RegisterBroadcastSessionNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterBroadcastSessionNotifications",persistent:!0},CaptureSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureSavedNotification",persistent:!0},HighlightSavedNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HighlightSavedNotification",persistent:!0},HighlightCaptureFailureNotification:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HighlightCaptureFailureNotification",persistent:!0},RegisterSDKNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterSDKNotifications",persistent:!0},RegisterAppNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"RegisterAppNotifications",persistent:!0},GetInitData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInitData",persistent:!1},GetMainView:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMainView",persistent:!1},OpenOsc:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"OpenOsc",persistent:!1},Launch:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Launch",persistent:!1},GetShadowPlaySupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetShadowPlaySupported",persistent:!1},GetShadowPlayStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetShadowPlayStatus",persistent:!1},Get4KSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Get4KSupport",persistent:!1},GetSupportedBitrates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedBitrates",persistent:!1},GetSupportedBitratesFramerates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedBitratesFramerates",persistent:!1},GetSupportedResolutions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedResolutions",persistent:!1},GetSupportedFramerates:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSupportedFramerates",persistent:!1},GetQualityDefaultData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetQualityDefaultData",persistent:!1},GetCaptureState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureState",persistent:!1},GetCaptureProcessInfo:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureProcessInfo",persistent:!1},GetCaptureControlPIDMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCaptureControlPIDMode",persistent:!1},GetScreenshotSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetScreenshotSupport",persistent:!1},CaptureScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureScreenshot",persistent:!1},CaptureCustomScreenshot:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CaptureCustomScreenshot",persistent:!1},CustomScreenshotNotifications:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"CustomScreenshotNotifications",persistent:!0},GetFreestylePreviewBasePath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetFreestylePreviewBasePath",persistent:!1},StartDiskCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StartDiskCapture",persistent:!1},StopAndSaveDiskCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StopAndSaveDiskCapture",persistent:!1},StartBufferedCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StartBufferedCapture",persistent:!1},StopBufferedCapture:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"StopBufferedCapture",persistent:!1},SaveBufferedCaptureClip:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SaveBufferedCaptureClip",persistent:!1},EDGEEvent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EDGEEvent",persistent:!1},GetInstantReplayEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayEnableStatus",persistent:!1},GetInstantReplayRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayRunningStatus",persistent:!1},GetInstantReplaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplaySettings",persistent:!1},SetInstantReplaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetInstantReplaySettings",persistent:!1},EnableInstantReplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableInstantReplay",persistent:!1},SaveInstantReplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SaveInstantReplay",persistent:!1},GetLastInstantReplayLength:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetLastInstantReplayLength",persistent:!1},GetInstantReplayCustomizeData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetInstantReplayCustomizeData",persistent:!1},GetRecordEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordEnableStatus",persistent:!1},GetRecordRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordRunningStatus",persistent:!1},EnableRecord:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableRecord",persistent:!1},GetRecordSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordSettings",persistent:!1},SetRecordSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetRecordSettings",persistent:!1},GetRecordCustomizeData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordCustomizeData",persistent:!1},EnableBroadcast:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableBroadcast",persistent:!1},PauseBroadcast:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"PauseBroadcast",persistent:!1},GetBroadcastEnableStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastEnableStatus",persistent:!1},GetBroadcastRunningStatus:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastRunningStatus",persistent:!1},GetBroadcastSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastSupported",persistent:!1},GetBroadcastSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastSettings",persistent:!1},SetBroadcastSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastSettings",persistent:!1},SetBroadcastSession:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastSession",persistent:!1},GetBroadcastPreferredProviderSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastPreferredProviderSetting",persistent:!1},SetBroadcastPreferredProviderSetting:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastPreferredProviderSetting",persistent:!1},GetBroadcastLastProvider:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastLastProvider",persistent:!1},SetBroadcastLastProvider:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastLastProvider",persistent:!1},GetBroadcastTitle:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastTitle",persistent:!1},GetBroadcast2K:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcast2K",persistent:!1},GetBroadcastFacebookLiveSupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastFacebookLiveSupport",persistent:!1},GetBroadcastIngestServer:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetBroadcastIngestServer",persistent:!1},SetBroadcastIngestServer:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastIngestServer",persistent:!1},SetBroadcastViewerCountImage:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastViewerCountImage",persistent:!1},SetBroadcastViewerMax:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetBroadcastViewerMax",persistent:!1},GetRecordBroadcastConcurrencySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordBroadcastConcurrencySupport",persistent:!1},GetRecordGamestreamConcurrencySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetRecordGamestreamConcurrencySupport",persistent:!1},GetDesktopCaptureEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureEnabled",persistent:!1},SetDesktopCaptureEnabled:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetDesktopCaptureEnabled",persistent:!1},GetDesktopCaptureSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureSupported",persistent:!1},GetDesktopCaptureSupportReason:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetDesktopCaptureSupportReason",persistent:!1},GetAudioMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetAudioMode",persistent:!1},SetAudioMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetAudioMode",persistent:!1},GetAudioSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetAudioSettings",persistent:!1},SetAudioSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetAudioSettings",persistent:!1},GetMicCount:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicCount",persistent:!1},GetMicMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicMode",persistent:!1},SetMicMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetMicMode",persistent:!1},GetMicSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetMicSettings",persistent:!1},SetMicSettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetMicSettings",persistent:!1},MicPTTMode:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"MicPTTMode",persistent:!1},EnableWebcam:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableWebcam",persistent:!1},ToggleWebcam:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ToggleWebcam",persistent:!1},GetWebcamEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamEnable",persistent:!1},GetWebcamShown:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamShown",persistent:!1},GetWebcamPresent:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamPresent",persistent:!1},GetWebcamPreviewState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetWebcamPreviewState",persistent:!1},EnableWebcamPreview:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableWebcamPreview",persistent:!1},GetHighlightsActive:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsActive",persistent:!1},GetHighlightsEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsEnable",persistent:!1},SetHighlightsEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHighlightsEnable",persistent:!1},GetSDKInstanceActive:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSDKInstanceActive",persistent:!1},GetSDKPermissions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetSDKPermissions",persistent:!1},SetSDKPermissions:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetSDKPermissions",persistent:!1},NotifyAppOverlayState:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"NotifyAppOverlayState",persistent:!1},GetHighlightsConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHighlightsConfig",persistent:!1},SetHighlightsConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHighlightsConfig",persistent:!1},GetApplicationConfigs:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetApplicationConfigs",persistent:!1},GetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHotkeyShortcut",persistent:!1},SetHotkeyShortcut:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyShortcut",persistent:!1},ResetHotkeysToDefault:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ResetHotkeysToDefault",persistent:!1},GetHotkeyMonitoring:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetHotkeyMonitoring",persistent:!1},Init:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"Init",persistent:!1},SetHotkeyMonitoring:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyMonitoring",persistent:!1},SetHotkeyDynamicEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetHotkeyDynamicEnable",persistent:!1},GetIndicatorSupported:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetIndicatorSupported",persistent:!1},GetIndicatorOverlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetIndicatorOverlaySettings",persistent:!1},SetIndicatorOverlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetIndicatorOverlaySettings",persistent:!1},GetCustomOverlayDefaultPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayDefaultPath",persistent:!1},GetCustomOverlaySupport:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlaySupport",persistent:!1},GetCustomOverlayPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayPath",persistent:!1},SetCustomOverlayPath:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCustomOverlayPath",persistent:!1},GetCustomOverlayEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayEnable",persistent:!1},SetCustomOverlayEnable:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SetCustomOverlayEnable",persistent:!1},GetCustomOverlayDisplay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetCustomOverlayDisplay",persistent:!1},SelectCustomOverlay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SelectCustomOverlay",persistent:!1},EnableCustomOverlay:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"EnableCustomOverlay",persistent:!1},ToggleAutoHighlight:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"ToggleAutoHighlight",persistent:!1},DisableRecordSpecialCase:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"DisableRecordSpecialCase",persistent:!1},GetIf4KRecordingFallbackAvailable:{legacyCommand:"QUERY_IS_4K_RECORDING_FALLBACK_AVAILABLE",system:"CrimsonNative",module:"ShareServer",method:"GetIf4KRecordingFallbackAvailable",persistent:!1},GetExportedGFESettingsData:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"GetExportedGFESettingsData",persistent:!1},SyncShadowPlaySettings:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"SyncShadowPlaySettings",persistent:!1},HandleHighlightsGfeConfig:{legacyCommand:"QUERY_IPC_EXTENSION_MESSAGE",system:"CrimsonNative",module:"ShareServer",method:"HandleHighlightsGfeConfig",persistent:!1}}},21361:(Ge,ae,e)=>{"use strict";var t;e.d(ae,{Iq:()=>t,Gh:()=>n.G,Yk:()=>ue}),function(u){function k(N,H,h,E){return{legacyCommand:N,system:void 0,module:H,method:h,persistent:E}}u.BridgeCommand=k,u.GenericCommand=function W(N,H,h,E){return k(N,H,h,E)}}(t||(t={}));var x,M,L,p,P,n=e(56362);!function(u){let k;var W;(W=k=u.Format||(u.Format={})).text="text",W.base64="base64"}(x||(x={})),function(u){let k;var N;let W;(N=k=u.MediaType||(u.MediaType={})).auto_detect="auto_detect",N.nvfbc="nvfbc",N.video="video",N.image="image",N.kpi_test="kpi_test",N.manual="manual",N.filmstrip="filmstrip",function(N){N.readToTarget="readToTarget",N.sleepToTarget="sleepToTarget",N.readOnlyTarget="readOnlyTarget"}(W=u.FrameMode||(u.FrameMode={}))}(M||(M={})),function(u){let k;var N;let W;(N=k=u.AihdrUnSupportedErrors||(u.AihdrUnSupportedErrors={}))[N.GPU_INCOMPATIBLE=0]="GPU_INCOMPATIBLE",N[N.CLIENT_VIRTUALIZATION_ENABLED=1]="CLIENT_VIRTUALIZATION_ENABLED",N[N.OS_INCOMPATIBLE=2]="OS_INCOMPATIBLE",N[N.MULTI_MON_DETECTED=3]="MULTI_MON_DETECTED",N[N.HDR_DISABLED=4]="HDR_DISABLED",N[N.SOC_FEATURE_ENABLED=5]="SOC_FEATURE_ENABLED",N[N.SLI_ENABLED=6]="SLI_ENABLED",N[N.SURROUND_ENABLED=7]="SURROUND_ENABLED",N[N.MSHYBRID_ENABLED=8]="MSHYBRID_ENABLED",N[N.MSHYBRID_ENABLED_DDS_IGPU=9]="MSHYBRID_ENABLED_DDS_IGPU",N[N.MINIMUM_DRIVER_VERSION_NOT_MET=20]="MINIMUM_DRIVER_VERSION_NOT_MET",function(N){N[N.DRS_REGKEY_NOT_SET=0]="DRS_REGKEY_NOT_SET",N[N.UNSUPPORTED_PRESENTATION_MODE=1]="UNSUPPORTED_PRESENTATION_MODE",N[N.GAME_HDR_ENABLED=2]="GAME_HDR_ENABLED"}(W=u.AihdrRealTimeErrors||(u.AihdrRealTimeErrors={}))}(L||(L={})),function(u){let k;var W;(W=k=u.PowerStatus||(u.PowerStatus={}))[W.AC=0]="AC",W[W.DC=1]="DC",W[W.UPS_LIKE=2]="UPS_LIKE",W[W.Unknown=3]="Unknown"}(p||(p={})),function(u){let k;var le;let W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze;(le=k=u.Quality||(u.Quality={})).UltraGood="UltraGood",le.VeryGood="VeryGood",le.Good="Good",le.Average="Average",le.Custom="Custom",le.GamecastYTLUltraGood="GamecastYTLUltraGood",le.GamecastYTLVeryGood="GamecastYTLVeryGood",le.GamecastYTLGood="GamecastYTLGood",le.GamecastYTLAverage="GamecastYTLAverage",le.GamecastUltraGood="GamecastUltraGood",le.GamecastVeryGood="GamecastVeryGood",le.GamecastGood="GamecastGood",le.GamecastAverage="GamecastAverage",le.GamecastFBLVeryGood="GamecastFBLVeryGood",le.GamecastFBLGood="GamecastFBLGood",le.GamecastFBLAverage="GamecastFBLAverage",function(le){le.In_game="In-game",le.Resolution_4320p_8K="4320p 8K",le.Resolution_2160p_4K="2160p 4K",le.Resolution_1440p_HD="1440p HD",le.Resolution_1080p_HD="1080p HD",le.Resolution_720p_HD="720p HD",le.Resolution_480p="480p",le.Resolution_360p="360p",le.Resolution_240p="240p",le.Exact="Exact"}(W=u.Resolution||(u.Resolution={})),function(le){le.instantReplay="instantReplay",le.manualRecord="manualRecord",le.highlights="highlights",le.gear="gear"}(N=u.SessionIds||(u.SessionIds={})),function(le){le.Always_Ask="Always Ask",le.Twitch="Twitch",le.YouTube_Live="YouTube Live",le.Facebook_Live="Facebook Live",le.Do_Not_Broadcast="Do Not Broadcast"}(H=u.Provider||(u.Provider={})),function(le){le.highlights="highlights",le.highlightsRecordVideo="highlightsRecordVideo",le.highlightsRecordScreenshot="highlightsRecordScreenshot"}(h=u.SdkScopeType||(u.SdkScopeType={})),function(le){le.granted="granted",le.mustAsk="mustAsk",le.denied="denied"}(E=u.SdkPermissions||(u.SdkPermissions={})),function(le){le.screenshot="screenshot",le.video="video"}(ee=u.Type||(u.Type={})),function(le){le.OpenIGO="OpenIGO",le.OpenFreestyle="OpenFreestyle",le.OpenAnsel="OpenAnsel",le.PTT="PTT",le.FPS="FPS",le.Screenshot="Screenshot",le.DVRSave="DVRSave",le.RecordToggle="RecordToggle",le.BroadcastToggle="BroadcastToggle",le.BroadcastPauseToggle="BroadcastPauseToggle",le.CameraToggle="CameraToggle",le.OverlayToggle="OverlayToggle",le.CustomOverlayA="CustomOverlayA",le.CustomOverlayB="CustomOverlayB",le.CustomOverlayC="CustomOverlayC",le.CommentsToggle="CommentsToggle",le.MicToggle="MicToggle",le.DVRToggle="DVRToggle",le.FreestyleToggle="FreestyleToggle",le.FreestylePresentCycle="FreestylePresentCycle",le.FreeStyleToggleStyle1="FreeStyleToggleStyle1",le.FreeStyleToggleStyle2="FreeStyleToggleStyle2",le.FreeStyleToggleStyle3="FreeStyleToggleStyle3",le.NativeKeyboardInputDialog="NativeKeyboardInputDialog",le.ConnectGfnBroadcastToggle="ConnectGfnBroadcastToggle",le.StatisticsToggle="StatisticsToggle",le.QuitGame="QuitGame",le.PMOCOverlay="PMOCOverlay",le.PMOCSideBar="PMOCSideBar",le.PMOCOverlayCycle="PMOCOverlayCycle",le.PMOCResetAverageMetrics="PMOCResetAverageMetrics",le.PMOCLoggingToggle="PMOCLoggingToggle"}(R=u.HotkeyEnum||(u.HotkeyEnum={})),function(le){le.custom="custom",le.customA="customA",le.customB="customB",le.customC="customC"}(q=u.CustomOverlayTypeEnum||(u.CustomOverlayTypeEnum={})),function(le){le.record="record",le.gamecast="gamecast",le.fps="fps",le.viewer="viewer",le.rig="rig",le.webcam="webcam",le.comments="comments"}(ne=u.IndicatorEnum||(u.IndicatorEnum={})),function(le){le.small="small",le.medium="medium",le.large="large"}(_e=u.OverlaySizeEnum||(u.OverlaySizeEnum={})),function(le){le.leftTop="leftTop",le.leftCenter="leftCenter",le.leftBottom="leftBottom",le.rightTop="rightTop",le.rightCenter="rightCenter",le.rightBottom="rightBottom",le.centerTop="centerTop",le.centerCenter="centerCenter",le.centerBottom="centerBottom",le.floatingRandom="floatingRandom",le.floatingBorder="floatingBorder",le.none="none"}(U=u.OverlayPositionEnum||(u.OverlayPositionEnum={})),function(le){le.on="on",le.off="off",le.alwayson="alwayson",le.ptt="ptt"}(re=u.MicModeEnum||(u.MicModeEnum={})),function(le){le.manual="manual",le.dvr="dvr",le.gameCast="gameCast",le.highlight="highlight",le.gearRecord="gearRecord",le.gearHighlight="gearHighlight",le.lastMode="lastMode",le.screenshot="screenshot"}(pe=u.CaptureModeEnum||(u.CaptureModeEnum={})),function(le){le.unknown="unknown",le.started="started",le.stopped="stopped",le.paused="paused",le.resumed="resumed"}(Pe=u.CloudSessionStateType||(u.CloudSessionStateType={})),function(le){le[le.GXP_Success_Ok=0]="GXP_Success_Ok",le[le.GXP_Success_NoError=1]="GXP_Success_NoError",le[le.GXP_Error_NotImplemented=-2147467263]="GXP_Error_NotImplemented",le[le.GXP_Error_NoInterface=-2147467262]="GXP_Error_NoInterface",le[le.GXP_Error_InvalidPointer=-2147467261]="GXP_Error_InvalidPointer",le[le.GXP_Error_Abort=-2147467260]="GXP_Error_Abort",le[le.GXP_Error_Fail=-2147467259]="GXP_Error_Fail",le[le.GXP_Error_Unexpected=-2147468113]="GXP_Error_Unexpected",le[le.GXP_Error_FileNotFound=-2147024894]="GXP_Error_FileNotFound",le[le.GXP_Error_PathNotFound=-2147024893]="GXP_Error_PathNotFound",le[le.GXP_Error_InvalidHandle=-2147024890]="GXP_Error_InvalidHandle",le[le.GXP_Error_InvalidData=-2147024883]="GXP_Error_InvalidData",le[le.GXP_Error_OutOfMemory=-2147024882]="GXP_Error_OutOfMemory",le[le.GXP_Error_InvalidArg=-2147024809]="GXP_Error_InvalidArg",le[le.GXP_Error_TimeOut=-2147023436]="GXP_Error_TimeOut",le[le.GXP_Error_FileTooLarge=-2147024673]="GXP_Error_FileTooLarge",le[le.GXP_Error_MaxStartAttempts=-2146959359]="GXP_Error_MaxStartAttempts",le[le.ShadowPlay_OSC_ERR_GENERIC=-1]="ShadowPlay_OSC_ERR_GENERIC",le[le.ShadowPlay_OSC_ERR_INVALID_VER=-2]="ShadowPlay_OSC_ERR_INVALID_VER",le[le.ShadowPlay_OSC_ERR_CLIENT_UNINITIALIZED=-3]="ShadowPlay_OSC_ERR_CLIENT_UNINITIALIZED",le[le.ShadowPlay_OSC_ERR_SERVER_NOT_CONNECTED=-4]="ShadowPlay_OSC_ERR_SERVER_NOT_CONNECTED",le[le.ShadowPlay_OSC_ERR_SERVER_TIME_OUT=-5]="ShadowPlay_OSC_ERR_SERVER_TIME_OUT",le[le.ShadowPlay_OSC_ERR_SERVER_CANNOT_CONNECT=-6]="ShadowPlay_OSC_ERR_SERVER_CANNOT_CONNECT",le[le.ShadowPlay_OSC_ERR_STREAM_NOT_FOUND=-7]="ShadowPlay_OSC_ERR_STREAM_NOT_FOUND",le[le.ShadowPlay_OSC_ERR_INVALID_FORMAT=-8]="ShadowPlay_OSC_ERR_INVALID_FORMAT",le[le.ShadowPlay_OSC_ERR_INVALID_PARAMETERS=-9]="ShadowPlay_OSC_ERR_INVALID_PARAMETERS",le[le.ShadowPlay_OSC_ERR_DX=-10]="ShadowPlay_OSC_ERR_DX",le[le.ShadowPlay_OSC_ERR_MMF=-11]="ShadowPlay_OSC_ERR_MMF",le[le.ShadowPlay_OSC_ERR_INSUFFICIENT_BUFFER=-12]="ShadowPlay_OSC_ERR_INSUFFICIENT_BUFFER",le[le.ShadowPlay_OSC_ERR_NO_IMPLEMENTATION=-13]="ShadowPlay_OSC_ERR_NO_IMPLEMENTATION",le[le.ShadowPlay_OSC_ERR_STREAM_LOCKED=-14]="ShadowPlay_OSC_ERR_STREAM_LOCKED",le[le.ShadowPlay_OSC_ERR_ALREADY_REGISTERED=-15]="ShadowPlay_OSC_ERR_ALREADY_REGISTERED",le[le.ShadowPlay_OSC_ERR_ALREADY_CREATED=-16]="ShadowPlay_OSC_ERR_ALREADY_CREATED",le[le.ShadowPlay_OSC_ERR_PROTOBUF=-17]="ShadowPlay_OSC_ERR_PROTOBUF",le[le.ShadowPlay_OSC_ERR_NOTAVAILABLE=-18]="ShadowPlay_OSC_ERR_NOTAVAILABLE",le[le.ShadowPlay_OSC_ERR_OUT_OF_MEMORY=-19]="ShadowPlay_OSC_ERR_OUT_OF_MEMORY",le[le.ShadowPlay_OSC_ERR_ABANDONED=-20]="ShadowPlay_OSC_ERR_ABANDONED",le[le.ShadowPlay_OSC_ERR_INVALID_CALL=-21]="ShadowPlay_OSC_ERR_INVALID_CALL",le[le.ShadowPlay_OSC_ERR_NO_VALID_GAME_RUNNING=-22]="ShadowPlay_OSC_ERR_NO_VALID_GAME_RUNNING",le[le.ShadowPlay_E_SERVER_NOT_RUNNING=-2147220959]="ShadowPlay_E_SERVER_NOT_RUNNING",le[le.ShadowPlay_E_UNKNOWN_PROP_NAME=-2147220958]="ShadowPlay_E_UNKNOWN_PROP_NAME",le[le.ShadowPlay_E_INVALID_PROP_FORMAT=-2147220957]="ShadowPlay_E_INVALID_PROP_FORMAT",le[le.ShadowPlay_E_INVALID_PROP_VALUE=-2147220956]="ShadowPlay_E_INVALID_PROP_VALUE",le[le.ShadowPlay_E_UNKNOWN_CMD_NAME=-2147220955]="ShadowPlay_E_UNKNOWN_CMD_NAME",le[le.ShadowPlay_E_INVALID_CMD_FORMAT=-2147220954]="ShadowPlay_E_INVALID_CMD_FORMAT",le[le.ShadowPlay_E_INVALID_CMD_VERSION=-2147220953]="ShadowPlay_E_INVALID_CMD_VERSION",le[le.ShadowPlay_E_NOT_READY=-2147220952]="ShadowPlay_E_NOT_READY",le[le.ShadowPlay_E_SERVER_IN_EXCLUSIVE_MODE=-2147220951]="ShadowPlay_E_SERVER_IN_EXCLUSIVE_MODE",le[le.ShadowPlay_E_SERVER_IN_GAMECAST_MODE=-2147220950]="ShadowPlay_E_SERVER_IN_GAMECAST_MODE",le[le.ShadowPlay_E_CANNOT_CLAIM_H264_LICENSE=-2147220949]="ShadowPlay_E_CANNOT_CLAIM_H264_LICENSE",le[le.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_OS=-2147220948]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_OS",le[le.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_RAM=-2147220947]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_RAM",le[le.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_GPU=-2147220946]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_GPU",le[le.ShadowPlay_E_FAIL_ENABLE_SHADOWPLAY=-2147220945]="ShadowPlay_E_FAIL_ENABLE_SHADOWPLAY",le[le.ShadowPlayE_FAIL_ENABLE_NVFBC=-2147220944]="ShadowPlayE_FAIL_ENABLE_NVFBC",le[le.ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_DRIVER=-2147220943]="ShadowPlay_E_FAIL_SYSTEM_REQUIREMENTS_DRIVER",le[le.ShadowPlay_E_FAIL_ENABLE_NVFBC_TIMEOUT=-2147220942]="ShadowPlay_E_FAIL_ENABLE_NVFBC_TIMEOUT",le[le.ShadowPlay_E_FAIL_ENABLE_OSC=-2147220941]="ShadowPlay_E_FAIL_ENABLE_OSC",le[le.ShadowPlay_E_FAIL_ENABLE_HELPER=-2147220940]="ShadowPlay_E_FAIL_ENABLE_HELPER",le[le.ShadowPlay_E_FAIL_NO_GALLERY_SPACE=-2147220926]="ShadowPlay_E_FAIL_NO_GALLERY_SPACE",le[le.ShadowPlay_E_FAIL_NO_DISC_SPACE=-2147220938]="ShadowPlay_E_FAIL_NO_DISC_SPACE",le[le.ShadowPlay_E_FAIL_CAPTURE_DISABLED=-2147220937]="ShadowPlay_E_FAIL_CAPTURE_DISABLED",le[le.ShadowPlay_E_BOUNDS=-2147483637]="ShadowPlay_E_BOUNDS",le[le.ShadowPlay_E_NOT_VALID_STATE=-2147019873]="ShadowPlay_E_NOT_VALID_STATE",le[le.ShadowPlay_E_UNEXPECTED=-2147418113]="ShadowPlay_E_UNEXPECTED",le[le.GXP_Error_HotkeyInUse=-2146897916]="GXP_Error_HotkeyInUse"}(Te=u.InternalErrorCodeEnum||(u.InternalErrorCodeEnum={})),function(le){le.mic="mic",le.webcam="webcam"}(me=u.DeviceTypeEnum||(u.DeviceTypeEnum={})),function(le){le.plugged_in="plugged_in",le.plugged_out="plugged_out",le.enabled="enabled",le.disabled="disabled"}(et=u.DeviceStateTypeEnum||(u.DeviceStateTypeEnum={})),function(le){le.available="available",le.started="started",le.auto_pause="auto_pause",le.user_pause="user_pause",le.user_pause_auto_pause="user_pause_auto_pause",le.last="last",le.error="error",le.saved="saved",le.restarted_notifier="restarted_notifier",le.resumed_notifier="resumed_notifier",le.notifier_none="notifier_none",le.invalid="invalid",le.enabled="enabled",le.disabled="disabled"}(Xe=u.RecordingState||(u.RecordingState={})),function(le){le.capture="capture",le.in_focus="in-focus"}(Ze=u.AppType||(u.AppType={})),function(le){le.off="off",le.game="game",le.mic="mic",le.both="both"}(nt=u.Mode||(u.Mode={})),function(le){le.main="main",le.permission="permission",le.highlightsSummary="highlightsSummary"}(Me=u.State||(u.State={})),function(le){le.none="none",le.single="single",le.multiple="multiple"}(ze=u.SupportType||(u.SupportType={}))}(P||(P={}));var o,a=(()=>{return(u=a||(a={})).Forager=x,u.Gear=M,u.Graphicssetting=L,u.Nvperfmon=p,u.Shareserver=P,a;var u})();!function(u){let k;var W;(W=k=u.RollbackOptionsEnum||(u.RollbackOptionsEnum={}))[W.Unknown=0]="Unknown",W[W.NoUI=1]="NoUI",W[W.RollbackUI=2]="RollbackUI"}(o||(o={}));var y,C,A,d,m,S,s,r,v=(()=>((v||(v={})).Driverrollback=o,v))();!function(u){let k;var h;let W,N,H;(h=k=u.ActionStatusEnum||(u.ActionStatusEnum={}))[h.ActionStarted=0]="ActionStarted",h[h.ActionRunning=1]="ActionRunning",h[h.ActionSuccess=2]="ActionSuccess",h[h.ActionFailure=3]="ActionFailure",h[h.ActionUnknown=4]="ActionUnknown",function(h){h[h.Success=0]="Success",h[h.Failure=1]="Failure",h[h.Unknown=2]="Unknown"}(W=u.ExeLaunchStatusEnum||(u.ExeLaunchStatusEnum={})),function(h){h[h.NotInstalled=0]="NotInstalled",h[h.Installed=1]="Installed",h[h.Installing=2]="Installing",h[h.Uninstalling=3]="Uninstalling"}(N=u.Status||(u.Status={})),function(h){h[h.Install=0]="Install",h[h.Uninstall=1]="Uninstall"}(H=u.Action||(u.Action={}))}(y||(y={})),function(u){let k;var h;let W,N,H;(h=k=u.ErrorCodeEnum||(u.ErrorCodeEnum={}))[h.NoError=0]="NoError",h[h.UserCancelled=-522190847]="UserCancelled",h[h.GeneralError=-505409537]="GeneralError",h[h.InvalidObject=-505413631]="InvalidObject",h[h.InsufficientArguments=-505413630]="InsufficientArguments",h[h.InvalidParameters=-505413629]="InvalidParameters",h[h.PropertyMissing=-505413628]="PropertyMissing",h[h.InvalidFormat=-505413627]="InvalidFormat",h[h.EmptyValue=-505413626]="EmptyValue",h[h.FileNotFound=-505413622]="FileNotFound",h[h.PathNotFound=-505413621]="PathNotFound",h[h.ProcessingPreviousCall=505413620]="ProcessingPreviousCall",h[h.InstallerAlreadyRunning=-505413619]="InstallerAlreadyRunning",h[h.MessagingChannel=-505413618]="MessagingChannel",h[h.ExtractedNotFound=-505413610]="ExtractedNotFound",h[h.InstallerExeNotFound=-505413608]="InstallerExeNotFound",h[h.GfeExperienceKeyNotFound=-505413607]="GfeExperienceKeyNotFound",h[h.GfeExperiencePathEmpty=-505413606]="GfeExperiencePathEmpty",h[h.SignatureInvalid=-505413605]="SignatureInvalid",h[h.UacCancelled=-505413600]="UacCancelled",h[h.MsgArrivedEventCreate=-505413599]="MsgArrivedEventCreate",h[h.MsgArrivedEventSignal=-505413598]="MsgArrivedEventSignal",h[h.ResumePathNotFound=-505413597]="ResumePathNotFound",h[h.ResumePathEmpty=-505413596]="ResumePathEmpty",h[h.ResumePathInvalid=-505413595]="ResumePathInvalid",h[h.MsgChannelInit=-505413584]="MsgChannelInit",h[h.MsgShowFormSet=-505413583]="MsgShowFormSet",h[h.MsgProgressUpdateSet=-505413582]="MsgProgressUpdateSet",h[h.MsgListen=-505413581]="MsgListen",function(h){h[h.NotSet=0]="NotSet",h[h.ShowForm=1]="ShowForm",h[h.ProgressUpdate=2]="ProgressUpdate"}(W=u.MethodEnum||(u.MethodEnum={})),function(h){h[h.NotSet=0]="NotSet",h[h.InstallInitial=1]="InstallInitial",h[h.InstallChecking=2]="InstallChecking",h[h.InstallCheckWarnings=3]="InstallCheckWarnings",h[h.InstallCheckFailed=4]="InstallCheckFailed",h[h.InstallCheckWait=5]="InstallCheckWait",h[h.Eula=6]="Eula",h[h.InstallSelect=7]="InstallSelect",h[h.InstallSelectCustom=8]="InstallSelectCustom",h[h.InstallSelectInstallPath=9]="InstallSelectInstallPath",h[h.PreInstallCheck=10]="PreInstallCheck",h[h.PreInstallCheckRetry=11]="PreInstallCheckRetry",h[h.PreInstallCheckWait=12]="PreInstallCheckWait",h[h.PreRebootInstall=13]="PreRebootInstall",h[h.PackageDownloadProgress=14]="PackageDownloadProgress",h[h.ProcessDownloadedPackage=15]="ProcessDownloadedPackage",h[h.PackageDownloadFailed=16]="PackageDownloadFailed",h[h.InstallProgress=17]="InstallProgress",h[h.InstallRemoveProgress=18]="InstallRemoveProgress",h[h.InstallFinished=19]="InstallFinished",h[h.InstallFinishedNoSummary=20]="InstallFinishedNoSummary",h[h.InstallFinishedLaunch=21]="InstallFinishedLaunch",h[h.InstallFinishedNoSummaryLaunch=22]="InstallFinishedNoSummaryLaunch",h[h.InstallFinishedOptions=23]="InstallFinishedOptions",h[h.InstallFinishedNoSummaryOptions=24]="InstallFinishedNoSummaryOptions",h[h.InstallReboot=25]="InstallReboot",h[h.InstallRebootOptions=26]="InstallRebootOptions",h[h.InstallRebootNoSummary=27]="InstallRebootNoSummary",h[h.InstallRebootNoSummaryOptions=28]="InstallRebootNoSummaryOptions",h[h.InstallRemoveReboot=29]="InstallRemoveReboot",h[h.InstallFailed=30]="InstallFailed",h[h.WaitingOnUac=31]="WaitingOnUac"}(N=u.FormEnum||(u.FormEnum={})),function(h){h[h.Next=0]="Next",h[h.Close=1]="Close"}(H=u.NextActionEnum||(u.NextActionEnum={}))}(C||(C={})),function(u){let k;var N;let W;(N=k=u.DriverTypeEnum||(u.DriverTypeEnum={}))[N.GameReadyDriver=0]="GameReadyDriver",N[N.CreatorReadyDriver=1]="CreatorReadyDriver",function(N){N.started="started",N.finished="finished",N.failed="failed",N.cancelled="cancelled"}(W=u.DriverUpdateCheckProgress||(u.DriverUpdateCheckProgress={}))}(A||(A={})),function(u){let k;var R;let W,N,H,h,E,ee;(R=k=u.ApplicationScanType||(u.ApplicationScanType={})).fast="fast",R.traditional="traditional",function(R){R.STRING="STRING",R.INT="INT",R.FLOAT="FLOAT",R.ENUM="ENUM",R.BOOL="BOOL",R.DRIVER_ENUM="DRIVER_ENUM"}(W=u.Type||(u.Type={})),function(R){R.AC="AC",R.DC="DC"}(N=u.ApplicationPowerMode||(u.ApplicationPowerMode={})),function(R){R.DISABLED="DISABLED",R.UNOPTIMIZED="UNOPTIMIZED",R.CUSTOMIZED="CUSTOMIZED",R.OPTIMIZED="OPTIMIZED"}(H=u.OptimizationState||(u.OptimizationState={})),function(R){R.started="started",R.finished="finished",R.failed="failed",R.progress="progress"}(h=u.Status||(u.Status={})),function(R){R[R.Notifications=0]="Notifications",R[R.Invalid=1]="Invalid"}(E=u.PageId||(u.PageId={})),function(R){R[R.STARTED=1]="STARTED",R[R.FINISHED=2]="FINISHED"}(ee=u.OotbStatus||(u.OotbStatus={}))}(d||(d={})),function(u){let k;var ie;let W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve,be,xe,ke,Ce,ge,De,ye,Oe;(ie=k=u.ProfileSettingType||(u.ProfileSettingType={}))[ie.type_invalid=-1]="type_invalid",ie[ie.type_integer=0]="type_integer",ie[ie.type_string=1]="type_string",ie[ie.type_boolean=2]="type_boolean",ie[ie.type_json_string=3]="type_json_string",function(ie){ie[ie.UNKNOWN=0]="UNKNOWN",ie[ie.SUPPORTED=1]="SUPPORTED",ie[ie.UNSUPPORTED=2]="UNSUPPORTED"}(W=u.HwSupportType||(u.HwSupportType={})),function(ie){ie[ie.NVCPLAPI_VALUE_TRI_OPT_ON=0]="NVCPLAPI_VALUE_TRI_OPT_ON",ie[ie.NVCPLAPI_VALUE_TRI_OPT_OFF=1]="NVCPLAPI_VALUE_TRI_OPT_OFF"}(N=u.TextureFilteringTrilinearValue||(u.TextureFilteringTrilinearValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_VSYNC_APPCONTROLLED=0]="NVCPLAPI_VALUE_VSYNC_APPCONTROLLED",ie[ie.NVCPLAPI_VALUE_VSYNC_FORCEOFF=1]="NVCPLAPI_VALUE_VSYNC_FORCEOFF",ie[ie.NVCPLAPI_VALUE_VSYNC_FORCEON=2]="NVCPLAPI_VALUE_VSYNC_FORCEON",ie[ie.NVCPLAPI_VALUE_VSYNC_FORCEON_INTERVAL2=3]="NVCPLAPI_VALUE_VSYNC_FORCEON_INTERVAL2",ie[ie.NVCPLAPI_VALUE_VSYNC_AUTO=4]="NVCPLAPI_VALUE_VSYNC_AUTO",ie[ie.NVCPLAPI_VALUE_VSYNC_AUTO_INTERVAL2=5]="NVCPLAPI_VALUE_VSYNC_AUTO_INTERVAL2",ie[ie.NVCPLAPI_VALUE_VSYNC_SMOOTH=6]="NVCPLAPI_VALUE_VSYNC_SMOOTH",ie[ie.NVCPLAPI_VALUE_VSYNC_VRR_ENABLE=8]="NVCPLAPI_VALUE_VSYNC_VRR_ENABLE",ie[ie.NVCPLAPI_VALUE_VSYNC_VRR_NONE=9]="NVCPLAPI_VALUE_VSYNC_VRR_NONE",ie[ie.NVCPLAPI_VALUE_VSYNC_VIRTUAL=10]="NVCPLAPI_VALUE_VSYNC_VIRTUAL"}(H=u.VerticalSyncValue||(u.VerticalSyncValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_OGL_THREADING_AUTO=0]="NVCPLAPI_VALUE_OGL_THREADING_AUTO",ie[ie.NVCPLAPI_VALUE_OGL_THREADING_ON=1]="NVCPLAPI_VALUE_OGL_THREADING_ON",ie[ie.NVCPLAPI_VALUE_OGL_THREADING_OFF=2]="NVCPLAPI_VALUE_OGL_THREADING_OFF"}(h=u.ThreadedOptimizationValue||(u.ThreadedOptimizationValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_SUPPORT_OFF=0]="NVCPLAPI_VALUE_OGL_OVERLAY_SUPPORT_OFF",ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_SUPPORT_ON=1]="NVCPLAPI_VALUE_OGL_OVERLAY_SUPPORT_ON"}(E=u.EnableOverlayValue||(u.EnableOverlayValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_NONE=0]="NVCPLAPI_VALUE_OGL_OVERLAY_NONE",ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_CI=1]="NVCPLAPI_VALUE_OGL_OVERLAY_CI",ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_RGBA=2]="NVCPLAPI_VALUE_OGL_OVERLAY_RGBA",ie[ie.NVCPLAPI_VALUE_OGL_OVERLAY_CI_AND_RGBA=3]="NVCPLAPI_VALUE_OGL_OVERLAY_CI_AND_RGBA"}(ee=u.ExportedpixeltypesValue||(u.ExportedpixeltypesValue={})),function(ie){ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DISABLED=0]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DISABLED",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_128=1]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_128",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_256=2]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_256",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_512=3]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_512",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_1GB=4]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_1GB",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_5GB=5]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_5GB",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_10GB=6]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_10GB",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_100GB=7]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_100GB",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_Unlimited=8]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_Unlimited",ie[ie.NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DEFAULT=9]="NVAPPAPI_VALUE_SHADER_CACHE_SIZE_DEFAULT"}(R=u.ShaderCacheValue||(u.ShaderCacheValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_NONE=0]="NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_NONE",ie[ie.NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_ONE=1]="NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_ONE",ie[ie.NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_TWO=2]="NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_TWO",ie[ie.NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_THREE=3]="NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_THREE",ie[ie.NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_FOUR=4]="NVCPLAPI_VALUE_MAX_VR_PRE_RENDERED_FRAMES_FOUR"}(q=u.VirtualRealityPreRenderedFramesValue||(u.VirtualRealityPreRenderedFramesValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_PREFERRED_REFRATE_APP_CONTROL=0]="NVCPLAPI_VALUE_PREFERRED_REFRATE_APP_CONTROL",ie[ie.NVCPLAPI_VALUE_PREFERRED_REFRATE_OVERRIDE=1]="NVCPLAPI_VALUE_PREFERRED_REFRATE_OVERRIDE"}(ne=u.PreferredRefreshRateValue||(u.PreferredRefreshRateValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_POWER_MGMT_MODE_ADAPTIVE=0]="NVCPLAPI_VALUE_POWER_MGMT_MODE_ADAPTIVE",ie[ie.NVCPLAPI_VALUE_POWER_MGMT_MODE_MAX=1]="NVCPLAPI_VALUE_POWER_MGMT_MODE_MAX",ie[ie.NVCPLAPI_VALUE_POWER_MGMT_MODE_DRIVER_CONTROLLED=2]="NVCPLAPI_VALUE_POWER_MGMT_MODE_DRIVER_CONTROLLED",ie[ie.NVCPLAPI_VALUE_POWER_MGMT_MODE_PREFER_CONSISTENT_PERFORMANCE=3]="NVCPLAPI_VALUE_POWER_MGMT_MODE_PREFER_CONSISTENT_PERFORMANCE",ie[ie.NVCPLAPI_VALUE_POWER_MGMT_MODE_OPTIMAL_POWER=5]="NVCPLAPI_VALUE_POWER_MGMT_MODE_OPTIMAL_POWER"}(_e=u.PowerManagementModeValue||(u.PowerManagementModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_SHARPENING_TOGGLE_DISABLED=0]="NVCPLAPI_VALUE_SHARPENING_TOGGLE_DISABLED",ie[ie.NVCPLAPI_VALUE_SHARPENING_TOGGLE_ENABLED=1]="NVCPLAPI_VALUE_SHARPENING_TOGGLE_ENABLED"}(U=u.ImageSharpeningToggleValue||(u.ImageSharpeningToggleValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_SHARPENING_ALLOW_DISABLED=0]="NVCPLAPI_VALUE_SHARPENING_ALLOW_DISABLED",ie[ie.NVCPLAPI_VALUE_SHARPENING_ALLOW_ENABLED=1]="NVCPLAPI_VALUE_SHARPENING_ALLOW_ENABLED"}(re=u.ImageSharpeningAllowValue||(u.ImageSharpeningAllowValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_QUIET_MODE_FPS_OFF=0]="NVCPLAPI_VALUE_QUIET_MODE_FPS_OFF",ie[ie.NVCPLAPI_VALUE_QUIET_MODE_FPS_ON=1]="NVCPLAPI_VALUE_QUIET_MODE_FPS_ON"}(pe=u.WhisperModeProgramValue||(u.WhisperModeProgramValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_SILK_SMOOTHNESS_LOW=0]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_LOW",ie[ie.NVCPLAPI_VALUE_SILK_SMOOTHNESS_MEDIUM=1]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_MEDIUM",ie[ie.NVCPLAPI_VALUE_SILK_SMOOTHNESS_HIGH=2]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_HIGH",ie[ie.NVCPLAPI_VALUE_SILK_SMOOTHNESS_ULTRA=3]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_ULTRA",ie[ie.NVCPLAPI_VALUE_SILK_SMOOTHNESS_OFF=4]="NVCPLAPI_VALUE_SILK_SMOOTHNESS_OFF"}(Pe=u.SilkSmoothnessValue||(u.SilkSmoothnessValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_LATENCY_BEST_PERFORMANCE=0]="NVCPLAPI_VALUE_LATENCY_BEST_PERFORMANCE",ie[ie.NVCPLAPI_VALUE_LATENCY_LOW_LATENCY=1]="NVCPLAPI_VALUE_LATENCY_LOW_LATENCY",ie[ie.NVCPLAPI_VALUE_LATENCY_LOWEST_LATENCY=2]="NVCPLAPI_VALUE_LATENCY_LOWEST_LATENCY"}(Te=u.LowLatencyModeValue||(u.LowLatencyModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_AUTOVRS_OFF=0]="NVCPLAPI_VALUE_AUTOVRS_OFF",ie[ie.NVCPLAPI_VALUE_AUTOVRS_FORCED=1]="NVCPLAPI_VALUE_AUTOVRS_FORCED",ie[ie.NVCPLAPI_VALUE_AUTOVRS_ADAPTIVE=2]="NVCPLAPI_VALUE_AUTOVRS_ADAPTIVE"}(me=u.VirtualRealityVrssValue||(u.VirtualRealityVrssValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_AUTOFL_OFF=0]="NVCPLAPI_VALUE_AUTOFL_OFF",ie[ie.NVCPLAPI_VALUE_AUTOFL_ON=1]="NVCPLAPI_VALUE_AUTOFL_ON"}(et=u.MaxqDynamicBoostValue||(u.MaxqDynamicBoostValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_DISPLAYMUX_INDICATOR_OFF=0]="NVCPLAPI_VALUE_DISPLAYMUX_INDICATOR_OFF",ie[ie.NVCPLAPI_VALUE_DISPLAYMUX_INDICATOR_ON=1]="NVCPLAPI_VALUE_DISPLAYMUX_INDICATOR_ON"}(Xe=u.AutoDisplaySwitchingValue||(u.AutoDisplaySwitchingValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_QUIET_MODE_ALLOW_DISABLED=0]="NVCPLAPI_VALUE_QUIET_MODE_ALLOW_DISABLED",ie[ie.NVCPLAPI_VALUE_QUIET_MODE_ALLOW_ENABLED=1]="NVCPLAPI_VALUE_QUIET_MODE_ALLOW_ENABLED"}(Ze=u.WhisperModeGlobalValue||(u.WhisperModeGlobalValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_GSYNC_ON=0]="NVCPLAPI_VALUE_GSYNC_ON",ie[ie.NVCPLAPI_VALUE_GSYNC_FORCE_OFF=1]="NVCPLAPI_VALUE_GSYNC_FORCE_OFF",ie[ie.NVCPLAPI_VALUE_VRR_OFF=2]="NVCPLAPI_VALUE_VRR_OFF",ie[ie.NVCPLAPI_VALUE_ULMB_ON=3]="NVCPLAPI_VALUE_ULMB_ON",ie[ie.NVCPLAPI_VALUE_FIXED_REFRESH=4]="NVCPLAPI_VALUE_FIXED_REFRESH"}(nt=u.MonitorTechnologyValue||(u.MonitorTechnologyValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_POWER_MGMT_PANEL_OFF=0]="NVCPLAPI_VALUE_POWER_MGMT_PANEL_OFF",ie[ie.NVCPLAPI_VALUE_POWER_MGMT_PANEL_SELF_REFRESH_MODE=1]="NVCPLAPI_VALUE_POWER_MGMT_PANEL_SELF_REFRESH_MODE"}(Me=u.PowerManagementPanelValue||(u.PowerManagementPanelValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_ENABLE_OGL_STEREO_OFF=0]="NVCPLAPI_VALUE_ENABLE_OGL_STEREO_OFF",ie[ie.NVCPLAPI_VALUE_ENABLE_OGL_STEREO_ON=1]="NVCPLAPI_VALUE_ENABLE_OGL_STEREO_ON"}(ze=u.StereoEnableValue||(u.StereoEnableValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DIN=1]="NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DIN",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DIN_NV_IR=2]="NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DIN_NV_IR",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DP_INBAND=3]="NVCPLAPI_VALUE_STEREO_DISPLAY_MODE_DP_INBAND",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_GENERIC=4]="NVCPLAPI_VALUE_STEREO_DISPLAY_GENERIC",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_GENERIC_NV_IR=5]="NVCPLAPI_VALUE_STEREO_DISPLAY_GENERIC_NV_IR",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_DDC_GLASSES=6]="NVCPLAPI_VALUE_STEREO_DISPLAY_DDC_GLASSES",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_NV_CLONE=7]="NVCPLAPI_VALUE_STEREO_DISPLAY_NV_CLONE",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_NV_CLONE_DLP=8]="NVCPLAPI_VALUE_STEREO_DISPLAY_NV_CLONE_DLP",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_BLUELINE=9]="NVCPLAPI_VALUE_STEREO_DISPLAY_BLUELINE",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_VERTICAL_INTERLACE=10]="NVCPLAPI_VALUE_STEREO_DISPLAY_VERTICAL_INTERLACE",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_COLOR_INTERLEAVE=11]="NVCPLAPI_VALUE_STEREO_DISPLAY_COLOR_INTERLEAVE",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_HORIZONTAL_INTERLACE=12]="NVCPLAPI_VALUE_STEREO_DISPLAY_HORIZONTAL_INTERLACE",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_SUBFIELD=13]="NVCPLAPI_VALUE_STEREO_DISPLAY_SUBFIELD",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_SIDEFIELD=14]="NVCPLAPI_VALUE_STEREO_DISPLAY_SIDEFIELD",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_SEEFRONT=15]="NVCPLAPI_VALUE_STEREO_DISPLAY_SEEFRONT",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP=16]="NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_NV_IR=17]="NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_NV_IR",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV=18]="NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV_NV_IR=19]="NVCPLAPI_VALUE_STEREO_DISPLAY_3D_DLP_INV_NV_IR",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_TRIDELITY_SL_SV=20]="NVCPLAPI_VALUE_STEREO_DISPLAY_TRIDELITY_SL_SV",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_TRIDELITY_MV=21]="NVCPLAPI_VALUE_STEREO_DISPLAY_TRIDELITY_MV",ie[ie.NVCPLAPI_VALUE_STEREO_DISPLAY_PLANAR_MIRROR=22]="NVCPLAPI_VALUE_STEREO_DISPLAY_PLANAR_MIRROR"}(le=u.StereoDisplayModeValue||(u.StereoDisplayModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_ENABLE_OGL_SWAP_EYES_OFF=0]="NVCPLAPI_VALUE_ENABLE_OGL_SWAP_EYES_OFF",ie[ie.NVCPLAPI_VALUE_ENABLE_OGL_SWAP_EYES_ON=1]="NVCPLAPI_VALUE_ENABLE_OGL_SWAP_EYES_ON"}(Le=u.StereoSwapEyeValue||(u.StereoSwapEyeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_STEREO_SWAP_MODE_APPLICATION_CONTROL=0]="NVCPLAPI_VALUE_STEREO_SWAP_MODE_APPLICATION_CONTROL",ie[ie.NVCPLAPI_VALUE_PER_EYE=1]="NVCPLAPI_VALUE_PER_EYE",ie[ie.NVCPLAPI_VALUE_PER_EYE_PAIR=2]="NVCPLAPI_VALUE_PER_EYE_PAIR"}(Re=u.StereoSwapModeValue||(u.StereoSwapModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_AA_APPCONTROL_OFF=0]="NVCPLAPI_VALUE_AA_APPCONTROL_OFF",ie[ie.NVCPLAPI_VALUE_AA_APPCONTROL_ON=1]="NVCPLAPI_VALUE_AA_APPCONTROL_ON",ie[ie.NVCPLAPI_VALUE_AA_APPCONTROL_ENHANCE=2]="NVCPLAPI_VALUE_AA_APPCONTROL_ENHANCE",ie[ie.NVCPLAPI_VALUE_AA_APPCONTROL_FORCE_OFF=3]="NVCPLAPI_VALUE_AA_APPCONTROL_FORCE_OFF"}(Q=u.AntialiasingModeValue||(u.AntialiasingModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_MGPU_AUTORENDER=0]="NVCPLAPI_VALUE_MGPU_AUTORENDER",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_2_AFR=1]="NVCPLAPI_VALUE_MGPU_FORCE_2_AFR",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_SINGLE=2]="NVCPLAPI_VALUE_MGPU_FORCE_SINGLE",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_4_AFR=3]="NVCPLAPI_VALUE_MGPU_FORCE_4_AFR",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_3_AFR=4]="NVCPLAPI_VALUE_MGPU_FORCE_3_AFR",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_2_AFR2=5]="NVCPLAPI_VALUE_MGPU_FORCE_2_AFR2",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_3_AFR2=6]="NVCPLAPI_VALUE_MGPU_FORCE_3_AFR2",ie[ie.NVCPLAPI_VALUE_MGPU_FORCE_4_AFR2=7]="NVCPLAPI_VALUE_MGPU_FORCE_4_AFR2"}(ve=u.SliMultiGpuRenderingModeValue||(u.SliMultiGpuRenderingModeValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_OGL_DEEP_COLOR_DISABLE=0]="NVCPLAPI_VALUE_OGL_DEEP_COLOR_DISABLE",ie[ie.NVCPLAPI_VALUE_OGL_DEEP_COLOR_ENABLE=1]="NVCPLAPI_VALUE_OGL_DEEP_COLOR_ENABLE"}(be=u.DeepColorFor3DApplicationsValue||(u.DeepColorFor3DApplicationsValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_AA_METHOD_NONE=0]="NVCPLAPI_VALUE_AA_METHOD_NONE",ie[ie.NVCPLAPI_VALUE_AA_METHOD_APP_CONTROLLED=1048576]="NVCPLAPI_VALUE_AA_METHOD_APP_CONTROLLED",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_2X_DIAGONAL=14]="NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_2X_DIAGONAL",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_4X=16]="NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_4X",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_8SX=24]="NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_8SX",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_8X=25]="NVCPLAPI_VALUE_AA_METHOD_MULTISAMPLE_8X",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_16X=26]="NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_16X",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_32X=41]="NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_32X",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_64X=42]="NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_64X",ie[ie.NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_128X=43]="NVCPLAPI_VALUE_AA_METHOD_MIXEDSAMPLE_128X"}(xe=u.AntialiasingSettingValue||(u.AntialiasingSettingValue={})),function(ie){ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_OFF=0]="NVCPLAPI_VALUE_TRANSPARENCY_AA_OFF",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_MULTI_SAMPLING=3]="NVCPLAPI_VALUE_TRANSPARENCY_AA_MULTI_SAMPLING",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_SUPER_SAMPLING=5]="NVCPLAPI_VALUE_TRANSPARENCY_AA_SUPER_SAMPLING",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_1X=1]="NVCPLAPI_VALUE_TRANSPARENCY_AA_1X",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_2X=2]="NVCPLAPI_VALUE_TRANSPARENCY_AA_2X",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_4X=4]="NVCPLAPI_VALUE_TRANSPARENCY_AA_4X",ie[ie.NVCPLAPI_VALUE_TRANSPARENCY_AA_8X=8]="NVCPLAPI_VALUE_TRANSPARENCY_AA_8X"}(ke=u.AntialiasingTransparencyValue||(u.AntialiasingTransparencyValue={})),function(ie){ie[ie.V1=1]="V1",ie[ie.V2=2]="V2"}(Ce=u.BatteryBoostVersionEnum||(u.BatteryBoostVersionEnum={})),function(ie){ie[ie.V1=1]="V1",ie[ie.V2=2]="V2"}(ge=u.WhisperModeVersionEnum||(u.WhisperModeVersionEnum={})),function(ie){ie[ie.QUIETER=1]="QUIETER",ie[ie.QUIET=2]="QUIET",ie[ie.BALANCED=3]="BALANCED"}(De=u.FanVolume||(u.FanVolume={})),function(ie){ie[ie.UNKNOWN=0]="UNKNOWN",ie[ie.SDRAM=1]="SDRAM",ie[ie.DDR1=2]="DDR1",ie[ie.DDR2=3]="DDR2",ie[ie.GDDR2=4]="GDDR2",ie[ie.GDDR3=5]="GDDR3",ie[ie.GDDR4=6]="GDDR4",ie[ie.DDR3=7]="DDR3",ie[ie.GDDR5=8]="GDDR5",ie[ie.GDDR5X=9]="GDDR5X",ie[ie.HBM1=10]="HBM1",ie[ie.HBM2=11]="HBM2",ie[ie.SDDR4=12]="SDDR4",ie[ie.GDDR6=14]="GDDR6",ie[ie.GDDR6X=15]="GDDR6X"}(ye=u.RamType||(u.RamType={})),function(ie){ie[ie.UNKNOWN=0]="UNKNOWN",ie[ie.AGP=1]="AGP",ie[ie.PCI=2]="PCI",ie[ie.FPCI=3]="FPCI",ie[ie.PCI_EXPRESS=4]="PCI_EXPRESS",ie[ie.PCI_EXPRESS_GEN2=5]="PCI_EXPRESS_GEN2",ie[ie.PCI_EXPRESS_GEN3=6]="PCI_EXPRESS_GEN3",ie[ie.PCI_EXPRESS_GEN4=7]="PCI_EXPRESS_GEN4",ie[ie.AXI=8]="AXI"}(Oe=u.BusType||(u.BusType={}))}(m||(m={})),function(u){let k;var N;let W;(N=k=u.HotkeyEnum||(u.HotkeyEnum={})).OpenIGO="OpenIGO",N.OpenPerformanceOverlay="OpenPerformanceOverlay",function(N){N.unknown="unknown",N.enabled="enabled",N.disabled="disabled"}(W=u.ShadowPlayStatus||(u.ShadowPlayStatus={}))}(S||(S={})),function(u){let k;var H;let W,N;(H=k=u.Type||(u.Type={}))[H.Unknown=0]="Unknown",H[H.GpuClock=1]="GpuClock",H[H.MemoryClock=2]="MemoryClock",H[H.Voltage=3]="Voltage",H[H.Power=4]="Power",H[H.Temperature=5]="Temperature",H[H.Fan=6]="Fan",function(H){H[H.None=0]="None",H[H.ManualOc=1]="ManualOc",H[H.AutomaticOc=2]="AutomaticOc"}(W=u.PersitenceType||(u.PersitenceType={})),function(H){H[H.AC=0]="AC",H[H.DC=1]="DC",H[H.UPS_LIKE=2]="UPS_LIKE",H[H.Unknown=3]="Unknown"}(N=u.PowerStatus||(u.PowerStatus={}))}(s||(s={})),function(u){let k;var W;(W=k=u.Type||(u.Type={}))[W.Unknown=0]="Unknown",W[W.GpuClock=1]="GpuClock",W[W.MemoryClock=2]="MemoryClock",W[W.Voltage=3]="Voltage",W[W.Power=4]="Power",W[W.Temperature=5]="Temperature",W[W.Fan=6]="Fan"}(r||(r={}));var i,O,l=(()=>{return(u=l||(l={})).Appdiscovery=y,u.Driverinstall=C,u.Driverupdaterecommendation=A,u.Localgames=d,u.Nvcplplugin=m,u.Nvigoutil=S,u.Nvoc=s,u.Overclockingnvc=r,l;var u})();!function(u){let k;var W;(W=k=u.EnableStatus||(u.EnableStatus={})).success="success",W.genericFailure="genericFailure"}(i||(i={})),function(u){let k;var W;(W=k=u.StreamerStatus||(u.StreamerStatus={})).Init="Init",W.NetworkTest="NetworkTest",W.Loading="Loading",W.Streaming="Streaming",W.Done="Done",W.Error="Error",W.GotInputFocus="GotInputFocus",W.LostInputFocus="LostInputFocus",W.UpdateCheck="UpdateCheck",W.PreStreaming="PreStreaming",W.Authentication="Authentication",W.Authorization="Authorization",W.PlatformSelection="PlatformSelection",W.AccountLinking="AccountLinking",W.PostSessionConnection="PostSessionConnection",W.PostStreaming="PostStreaming",W.ResumableError="ResumableError",W.TerminalError="TerminalError"}(O||(O={}));var T,B,K,Y=(()=>{return(u=Y||(Y={})).Gfnbroadcast=i,u.Gfnsdkhost=O,Y;var u})();!function(u){let k;var h;let W,N,H;(h=k=u.ErrorCodeEnum||(u.ErrorCodeEnum={}))[h.NoError=0]="NoError",h[h.GeneralError=-505409537]="GeneralError",h[h.InvalidObject=-505413631]="InvalidObject",h[h.InsufficientArguments=-505413630]="InsufficientArguments",h[h.InvalidParameters=-505413629]="InvalidParameters",h[h.PropertyMissing=-505413628]="PropertyMissing",h[h.InvalidFormat=-505413627]="InvalidFormat",h[h.EmptyValue=-505413626]="EmptyValue",h[h.FileNotFound=-505413622]="FileNotFound",h[h.PathNotFound=-505413621]="PathNotFound",h[h.ProcessingPreviousCall=505413620]="ProcessingPreviousCall",h[h.InstallerAlreadyRunning=-505413619]="InstallerAlreadyRunning",h[h.MessagingChannel=-505413618]="MessagingChannel",h[h.ExtractedNotFound=-505413610]="ExtractedNotFound",h[h.InstallerExeNotFound=-505413608]="InstallerExeNotFound",h[h.GfeExperienceKeyNotFound=-505413607]="GfeExperienceKeyNotFound",h[h.GfeExperiencePathEmpty=-505413606]="GfeExperiencePathEmpty",h[h.SignatureInvalid=-505413605]="SignatureInvalid",h[h.UacCancelled=-505413600]="UacCancelled",h[h.MsgArrivedEventCreate=-505413599]="MsgArrivedEventCreate",h[h.MsgArrivedEventSignal=-505413598]="MsgArrivedEventSignal",h[h.ResumePathNotFound=-505413597]="ResumePathNotFound",h[h.ResumePathEmpty=-505413596]="ResumePathEmpty",h[h.ResumePathInvalid=-505413595]="ResumePathInvalid",h[h.MsgChannelInit=-505413584]="MsgChannelInit",h[h.MsgShowFormSet=-505413583]="MsgShowFormSet",h[h.MsgProgressUpdateSet=-505413582]="MsgProgressUpdateSet",h[h.MsgListen=-505413581]="MsgListen",function(h){h[h.NotSet=0]="NotSet",h[h.ShowForm=1]="ShowForm",h[h.ProgressUpdate=2]="ProgressUpdate"}(W=u.MethodEnum||(u.MethodEnum={})),function(h){h[h.NotSet=0]="NotSet",h[h.InstallInitial=1]="InstallInitial",h[h.InstallChecking=2]="InstallChecking",h[h.InstallCheckWarnings=3]="InstallCheckWarnings",h[h.InstallCheckFailed=4]="InstallCheckFailed",h[h.InstallCheckWait=5]="InstallCheckWait",h[h.Eula=6]="Eula",h[h.InstallSelect=7]="InstallSelect",h[h.InstallSelectCustom=8]="InstallSelectCustom",h[h.InstallSelectInstallPath=9]="InstallSelectInstallPath",h[h.PreInstallCheck=10]="PreInstallCheck",h[h.PreInstallCheckRetry=11]="PreInstallCheckRetry",h[h.PreInstallCheckWait=12]="PreInstallCheckWait",h[h.PreRebootInstall=13]="PreRebootInstall",h[h.PackageDownloadProgress=14]="PackageDownloadProgress",h[h.ProcessDownloadedPackage=15]="ProcessDownloadedPackage",h[h.PackageDownloadFailed=16]="PackageDownloadFailed",h[h.InstallProgress=17]="InstallProgress",h[h.InstallRemoveProgress=18]="InstallRemoveProgress",h[h.InstallFinished=19]="InstallFinished",h[h.InstallFinishedNoSummary=20]="InstallFinishedNoSummary",h[h.InstallFinishedLaunch=21]="InstallFinishedLaunch",h[h.InstallFinishedNoSummaryLaunch=22]="InstallFinishedNoSummaryLaunch",h[h.InstallFinishedOptions=23]="InstallFinishedOptions",h[h.InstallFinishedNoSummaryOptions=24]="InstallFinishedNoSummaryOptions",h[h.InstallReboot=25]="InstallReboot",h[h.InstallRebootOptions=26]="InstallRebootOptions",h[h.InstallRebootNoSummary=27]="InstallRebootNoSummary",h[h.InstallRebootNoSummaryOptions=28]="InstallRebootNoSummaryOptions",h[h.InstallRemoveReboot=29]="InstallRemoveReboot",h[h.InstallFailed=30]="InstallFailed",h[h.WaitingOnUac=31]="WaitingOnUac"}(N=u.FormEnum||(u.FormEnum={})),function(h){h[h.Next=0]="Next",h[h.Close=1]="Close"}(H=u.NextActionEnum||(u.NextActionEnum={}))}(T||(T={})),function(u){let k;var N;let W;(N=k=u.DriverTypeEnum||(u.DriverTypeEnum={}))[N.GameReadyDriver=0]="GameReadyDriver",N[N.CreatorReadyDriver=1]="CreatorReadyDriver",function(N){N.started="started",N.finished="finished",N.failed="failed",N.cancelled="cancelled"}(W=u.DriverUpdateCheckProgress||(u.DriverUpdateCheckProgress={}))}(B||(B={})),function(u){let k;var ee;let W,N,H,h,E;(ee=k=u.ApplicationScanType||(u.ApplicationScanType={})).fast="fast",ee.traditional="traditional",function(ee){ee.Unknown="Unknown",ee.NotAvailable="NotAvailable",ee.NotReady="NotReady",ee.Ready="Ready"}(W=u.VopsStatus||(u.VopsStatus={})),function(ee){ee.STRING="STRING",ee.INT="INT",ee.FLOAT="FLOAT",ee.ENUM="ENUM",ee.BOOL="BOOL",ee.DRIVER_ENUM="DRIVER_ENUM"}(N=u.Type||(u.Type={})),function(ee){ee.AC="AC",ee.DC="DC"}(H=u.ApplicationPowerMode||(u.ApplicationPowerMode={})),function(ee){ee.DISABLED="DISABLED",ee.UNOPTIMIZED="UNOPTIMIZED",ee.CUSTOMIZED="CUSTOMIZED",ee.OPTIMIZED="OPTIMIZED"}(h=u.OptimizationState||(u.OptimizationState={})),function(ee){ee.started="started",ee.finished="finished",ee.failed="failed",ee.progress="progress"}(E=u.Status||(u.Status={}))}(K||(K={}));var f,D,I,w,_,$,G,F,J,z,b=(()=>{return(u=b||(b={})).Driverinstall=T,u.Driverupdaterecommendation=B,u.Localgames=K,b;var u})();!function(u){let k;var W;(W=k=u.State||(u.State={})).percentage="percentage",W.indeterminate="indeterminate",W.pause="pause",W.complete="complete"}(f||(f={})),function(u){let k;var E;let W,N,H,h;(E=k=u.ApplicationLifetimeEventType||(u.ApplicationLifetimeEventType={})).ApplicationExit="APPLICATION_EXIT",E.SystemLogout="SYSTEM_LOGOUT",E.SystemSuspend="SYSTEM_SUSPEND",function(E){E.UserClosedWindow="USER_CLOSED_WINDOW",E.UserQuitWithShortcut="USER_QUIT_WITH_SHORTCUT",E.UserLoggedOut="USER_LOGGED_OUT",E.SelfUpdate="SELF_UPDATE",E.Relaunch="RELAUNCH",E.BrowserExit="BROWSER_EXIT",E.ForceShutdown="FORCE_SHUTDOWN"}(W=u.ShutdownReason||(u.ShutdownReason={})),function(E){E.Bluetooth="BLUETOOTH"}(N=u.SystemSetting||(u.SystemSetting={})),function(E){E.Launch="launch"}(H=u.ApplicationTimeType||(u.ApplicationTimeType={})),function(E){E.LaunchSiteTime="LAUNCH_SITE_TIME",E.LaunchCefSiteTime="LAUNCH_CEF_SITE_TIME"}(h=u.ApplicationStartTimeType||(u.ApplicationStartTimeType={}))}(D||(D={})),function(u){let k;var N;let W;(N=k=u.ConversationIntent||(u.ConversationIntent={})).Support="Support",N.Recommendation="Recommendation",function(N){N.Installer="Installer",N.Game="Game",N.Share="Share",N.GameStream="GameStream"}(W=u.Component||(u.Component={}))}(I||(I={})),function(u){let k;var W;(W=k=u.InternalErrorCodeEnum||(u.InternalErrorCodeEnum={}))[W.Success=0]="Success",W[W.Error=1]="Error",W[W.Error_PermissionNotGiven=2]="Error_PermissionNotGiven",W[W.Error_NotFullScreen=3]="Error_NotFullScreen"}(w||(w={})),function(u){let k;var W;(W=k=u.DiscordAsset||(u.DiscordAsset={}))[W.Large=0]="Large"}(_||(_={})),function(u){let k;var U;let W,N,H,h,E,ee,R,q,ne,_e;(U=k=u.UpdateFrameworkResult||(u.UpdateFrameworkResult={}))[U.NotImplemented=-1]="NotImplemented",U[U.Success=0]="Success",U[U.Error=1]="Error",U[U.UpdateFrameworkUninitialised=2]="UpdateFrameworkUninitialised",U[U.UpdateCheckMgrUninitialised=3]="UpdateCheckMgrUninitialised",U[U.NoUpdateCheckCandidate=4]="NoUpdateCheckCandidate",U[U.InvalidComponentType=5]="InvalidComponentType",U[U.UpdateCheckInfoException=6]="UpdateCheckInfoException",U[U.UpdateCheckComponentInapplicable=7]="UpdateCheckComponentInapplicable",U[U.InvalidArgument=8]="InvalidArgument",U[U.InvalidOperation=9]="InvalidOperation",U[U.FileDoesNotExist=10]="FileDoesNotExist",U[U.NotFound=11]="NotFound",U[U.BadJson=12]="BadJson",U[U.KeyDoesNotExist=13]="KeyDoesNotExist",U[U.InternalException=14]="InternalException",U[U.ProfileCatalogUninitialised=15]="ProfileCatalogUninitialised",U[U.AlreadyDownloaded=16]="AlreadyDownloaded",U[U.CannotDeleteFile=17]="CannotDeleteFile",U[U.DownloaderBusyTryLater=18]="DownloaderBusyTryLater",U[U.CurlInitFailed=19]="CurlInitFailed",U[U.PostProcessingPolicyDontRun=20]="PostProcessingPolicyDontRun",U[U.DownloadPolicyDontRun=21]="DownloadPolicyDontRun",U[U.UpdateCheckPeriodNotElapsed=22]="UpdateCheckPeriodNotElapsed",U[U.PluginLoadError=23]="PluginLoadError",U[U.PluginFnAddrError=24]="PluginFnAddrError",U[U.PluginError=25]="PluginError",function(U){U[U.Official=0]="Official",U[U.Beta=1]="Beta",U[U.Unknown=-1]="Unknown"}(W=u.UpdateChannel||(u.UpdateChannel={})),function(U){U[U.Full=0]="Full",U[U.Diff=1]="Diff",U[U.Unknown=-1]="Unknown"}(N=u.UpdateType||(u.UpdateType={})),function(U){U[U.Auto=0]="Auto",U[U.Manual=1]="Manual",U[U.Unknown=-1]="Unknown"}(H=u.InvokeType||(u.InvokeType={})),function(U){U[U.Undefined=-1]="Undefined",U[U.DownloadTriggered=0]="DownloadTriggered",U[U.Downloading=1]="Downloading",U[U.VerifyingChecksum=2]="VerifyingChecksum",U[U.VerifyingSignature=3]="VerifyingSignature",U[U.Paused=4]="Paused",U[U.Cancelled=5]="Cancelled",U[U.NetworkErrorRetrying=6]="NetworkErrorRetrying",U[U.NetworkErrorRetryPaused=7]="NetworkErrorRetryPaused",U[U.Finished=8]="Finished",U[U.ChecksumVerificationFailed=9]="ChecksumVerificationFailed",U[U.SignatureVerificationFailed=10]="SignatureVerificationFailed",U[U.DiskWriteFail=11]="DiskWriteFail",U[U.Error=12]="Error",U[U.NotAllowedNow=13]="NotAllowedNow",U[U.Prohibited=14]="Prohibited"}(h=u.DownloadStatus||(u.DownloadStatus={})),function(U){U[U.Undefined=-1]="Undefined",U[U.Ready=0]="Ready",U[U.Executing=1]="Executing",U[U.Completed=2]="Completed",U[U.CouldNotRun=3]="CouldNotRun",U[U.FailedRetryPending=4]="FailedRetryPending",U[U.Failed=5]="Failed"}(E=u.ActionStatus||(u.ActionStatus={})),function(U){U[U.Undefined=-1]="Undefined",U[U.ExecutingActions=0]="ExecutingActions",U[U.Completed=1]="Completed",U[U.Failed=2]="Failed"}(ee=u.PostProcessingStatus||(u.PostProcessingStatus={})),function(U){U[U.Started=0]="Started",U[U.Retrying=1]="Retrying",U[U.RetryStopped=2]="RetryStopped",U[U.Finished=3]="Finished",U[U.Failed=4]="Failed"}(R=u.ProgressStatus||(u.ProgressStatus={})),function(U){U[U.Unknown=-1]="Unknown",U[U.UpdateInProgress=0]="UpdateInProgress",U[U.UpdateUnavailable=1]="UpdateUnavailable",U[U.UpdateSuccessful=2]="UpdateSuccessful",U[U.UpdateFailed=3]="UpdateFailed"}(q=u.UpdateState||(u.UpdateState={})),function(U){U[U.Uninitialised=-1]="Uninitialised",U[U.CheckingForUpdate=0]="CheckingForUpdate",U[U.UpdateCheckEnd=1]="UpdateCheckEnd",U[U.Downloading=2]="Downloading",U[U.DownloadEnd=3]="DownloadEnd",U[U.PostProcessing=4]="PostProcessing",U[U.PostProcessingEnd=5]="PostProcessingEnd"}(ne=u.UpdateExecutionPhase||(u.UpdateExecutionPhase={})),function(U){U[U.Success=0]="Success",U[U.Failure=1]="Failure",U[U.FailureNoSourceProfile=2]="FailureNoSourceProfile"}(_e=u.CreateProfileStatusEnum||(u.CreateProfileStatusEnum={}))}($||($={})),function(u){let k;var re;let W,N,H,h,E,ee,R,q,ne,_e,U;(re=k=u.FileType||(u.FileType={})).video="video",re.image="image",re.other="other",function(re){re.Highlight="Highlight",re.AnimatedGif="AnimatedGif",re.Normal="Normal",re.SuperResolution="SuperResolution",re.SuperResolution_Oversized="SuperResolution_Oversized",re.SubType_360Mono="360Mono",re.Stereo="Stereo",re.SubType_360Stereo="360Stereo",re.Exr="Exr",re.Normal_Ansel="Normal_Ansel",re.Montage="Montage",re.InstantReplay="InstantReplay",re.Manual="Manual",re.Unknown="Unknown"}(W=u.SubType||(u.SubType={})),function(re){re.Single="Single",re.Separate="Separate",re.Unknown="Unknown"}(N=u.AudioType||(u.AudioType={})),function(re){re.low="low",re.medium="medium",re.high="high"}(H=u.Quality||(u.Quality={})),function(re){re.GFE_Share="GFE_Share",re.GFE_Ansel="GFE_Ansel",re.GFE_SDK="GFE_SDK",re.StandAlone_Ansel="StandAlone_Ansel",re.Undefined="Undefined"}(h=u.Source||(u.Source={})),function(re){re.screenshot="screenshot",re.video="video"}(E=u.Type||(u.Type={})),function(re){re.video="video",re.image="image",re.audio="audio"}(ee=u.InputFileType||(u.InputFileType={})),function(re){re.none="none",re.titleBasic="titleBasic"}(R=u.SeqType||(u.SeqType={})),function(re){re.none="none",re.brandSliderInOnly="brandSliderInOnly",re.brandSlideInOut="brandSlideInOut"}(q=u.BrandType||(u.BrandType={})),function(re){re.atStart="atStart",re.atEnd="atEnd"}(ne=u.Position||(u.Position={})),function(re){re.TrackerUpdateNotActive="TrackerUpdateNotActive",re.TrackerUpdateInProgress="TrackerUpdateInProgress",re.TrackerUpdateComplete="TrackerUpdateComplete",re.CancelUpdateComplete="CancelUpdateComplete",re.CancelUpdate="CancelUpdate"}(_e=u.GalleryPathUpdateStatus||(u.GalleryPathUpdateStatus={})),function(re){re.none="none",re.hidden="hidden",re.empty="empty",re.hiddenOrEmpty="hiddenOrEmpty",re.hiddenAndEmpty="hiddenAndEmpty"}(U=u.ExcludeDirectoryType||(u.ExcludeDirectoryType={}))}(G||(G={})),function(u){let k;var W;(W=k=u.IpcTargets||(u.IpcTargets={})).GfnMall="mallclient",W.GfnStreamer="streamer",W.GfnUpdater="selfupdater"}(F||(F={})),function(u){let k;var ne;let W,N,H,h,E,ee,R,q;(ne=k=u.CaptureTypes||(u.CaptureTypes={})).regular="regular",ne.stereoRegular="stereoRegular",ne.highRes="highRes",ne.sphericalPanorama="sphericalPanorama",ne.stereoSphericalPanorama="stereoSphericalPanorama",function(ne){ne.ok="ok",ne.failed="failed",ne.started="started",ne.failedToStart="failedToStart",ne.noSpace="noSpace",ne.permissionDenied="permissionDenied",ne.invalidRequest="invalidRequest",ne.failedToProcess="failedToProcess",ne.processDeclined="processDeclined",ne.alreadyEnabled="alreadyEnabled",ne.alreadyDisabled="alreadyDisabled",ne.outOfRange="outOfRange",ne.alreadySet="alreadySet",ne.incompatibleVersion="incompatibleVersion",ne.disabled="disabled",ne.okAnsel="okAnsel",ne.okModsOnly="okModsOnly",ne.failedToFinishCapture="failedToFinishCapture",ne.failedToSaveShotFailedCreateDiretory="failedToSaveShotFailedCreateDiretory",ne.failedToSaveShotNoSpaceLeft="failedToSaveShotNoSpaceLeft",ne.processingCompleted="processingCompleted",ne.shotSaved="shotSaved",ne.processingFile="processingFile",ne.failedToSaveShot="failedToSaveShot"}(W=u.AnselStatusEnum||(u.AnselStatusEnum={})),function(ne){ne.sdk="sdk",ne.mods="mods",ne.styleTransfer="styleTransfer",ne.allowOffline="allowOffline"}(N=u.FeaturesSupported||(u.FeaturesSupported={})),function(ne){ne.windowedSDK="windowedSDK",ne.fullscreenSDK="fullscreenSDK",ne.windowedNoSDK="windowedNoSDK",ne.fullscreenNoSDK="fullscreenNoSDK"}(H=u.Mode||(u.Mode={})),function(ne){ne.mouse="mouse",ne.keyboard="keyboard",ne.gamepad="gamepad"}(h=u.Hid||(u.Hid={})),function(ne){ne.notAvailable="notAvailable",ne.available="available",ne.notEnabled="notEnabled",ne.enabled="enabled"}(E=u.AnselState||(u.AnselState={})),function(ne){ne.roll="roll",ne.fov="fov"}(ee=u.Response||(u.Response={})),function(ne){ne.float="float",ne.int="int",ne.uint="uint",ne.bool="bool"}(R=u.DataType||(u.DataType={})),function(ne){ne.success="success"}(q=u.NgxAiUpResStatus||(u.NgxAiUpResStatus={}))}(J||(J={})),function(u){let k;var W;(W=k=u.ApiStatusEnum||(u.ApiStatusEnum={})).Success="Success",W.Failure="Failure"}(z||(z={}));var Z=(()=>{return(u=Z||(Z={})).Applicationcontrol=f,u.Applicationinfo=D,u.Bot=I,u.Clientnotification=w,u.Discord=_,u.Downloader=$,u.Gallery=G,u.Ipc=F,u.Nvcamera=J,u.Systeminfo=z,Z;var u})(),ue=(()=>{return(u=ue||(ue={})).Common=Z,u.Gfe=b,u.Gfn=Y,u.Nvapp=l,u.Qxp=v,u.Share=a,ue;var u})()},45908:(Ge,ae,e)=>{"use strict";e.d(ae,{OA:()=>l,WU:()=>A,Y:()=>C});var t=e(64710),n=e(18406),x=e(39700),M=e(16099),L=e(42520),p=e(23815),P=e(58765),a=e(89258),o=e(12606),v=e(33932),y=e(71265),C=(()=>{return(i=C||(C={})).IGO="igo",i.Streaming="streaming",i.ClientIME="ime",i.PrivacyPolicy="privacy",i.QuitGath="quitGame",i.OscNotification="OscNotification",C;var i})(),A=(()=>{return(i=A||(A={})).Visible="visible",i.Hidden="hidden",A;var i})(),d=(()=>{return(i=d||(d={})).Local="localhost",i.Stage="stage.nvidia.com",i.Partner="partner.nvidia.com",d;var i})();const m=new RegExp("/mall/index[.]html$|/mall/$|/index[.]html$|/$");var s=e(39609),r=e(3878);let l=(()=>{class i{constructor(Y,T,B){var K;this.titleService=T,this.ngZone=B,this.keyCodes={c:"KeyC",i:"KeyI",j:"KeyJ",u:"KeyU",f12:"F12"},this.isPWAModeOnLGTV=t.ng.isPWAModeOnLGTV(),this.isPWAModeOnSamsungTV=t.ng.isPWAModeOnSamsungTV(),this.fullScreenEvent=new n.X(!1),this.webOSWindowStateSubject=new n.X("foreground"),this.webOSWindowStateListener=b=>{this.webOSWindowStateSubject.value!==b.detail.state&&this.webOSWindowStateSubject.next(b.detail.state)},this.logger=Y.getLogger("gfn/browser-support"),this.appIcon=document.querySelector("#appIcon"),this.appIconHref=null===(K=this.appIcon)||void 0===K?void 0:K.href,this.hostBranch=window.location.pathname.replace(m,"")}get fullScreenEventSubject(){return this.fullScreenEvent}get fullScreenEventObs$(){return this.fullScreenEvent.asObservable()}get documentVisiblityChange(){return(0,x.R)(document,"visibilitychange")}resetExitPath(){this.fullScreenSource=void 0}setExitPath(Y){this.fullScreenSource=Y}get resumeFullScreenIGO(){return this.fullScreenSource===C.IGO}get applicationWindowState$(){return this.isPWAModeOnLGTV?this.webOSWindowStateSubject.asObservable():this.documentVisiblityChange.pipe((0,P.O)(0),(0,a.U)(Y=>"visible"===document.visibilityState?"foreground":"background"),(0,o.x)())}initialize(Y,T){Y&&this.ngZone.runOutsideAngular(()=>{document.addEventListener("wheel",this.dummyWheelListener,{passive:!0})}),T||this.disableDevTools(),this.isPWAModeOnLGTV&&this.ngZone.runOutsideAngular(()=>{window.addEventListener("windowStateChanged",this.webOSWindowStateListener)})}dummyWheelListener(Y){return Y}disableDevTools(){this.ngZone.runOutsideAngular(()=>{document.addEventListener("contextmenu",Y=>Y.preventDefault()),window.addEventListener("keydown",Y=>{(Y.code===this.keyCodes.i&&Y.ctrlKey&&Y.shiftKey||Y.code===this.keyCodes.j&&Y.ctrlKey&&Y.shiftKey||Y.code===this.keyCodes.u&&Y.ctrlKey||Y.code===this.keyCodes.f12||Y.code===this.keyCodes.c&&Y.shiftKey&&Y.metaKey||Y.code===this.keyCodes.i&&Y.altKey&&Y.metaKey||Y.code===this.keyCodes.j&&Y.altKey&&Y.metaKey||Y.code===this.keyCodes.u&&Y.altKey&&Y.metaKey)&&Y.preventDefault()})})}getGamepads(){if(!navigator.getGamepads)return[];const Y=navigator.getGamepads();return Y instanceof Array?Y:Array.from(Y).filter(B=>!!B)}goToPreviousPage(){window.history.back()}supportsRequestFullscreen(Y){return document.fullscreenEnabled&&Y.requestFullscreen||document.webkitFullscreenEnabled&&Y.webkitRequestFullscreen}isFullscreen(){const Y=screen.width===window.innerWidth&&screen.height===window.innerHeight;return document.fullscreenElement||document.webkitFullscreenElement||!(this.isPWAModeOnLGTV||this.isPWAModeOnSamsungTV)&&Y}requestFullscreen(Y){this.supportsRequestFullscreen(Y)?Y.requestFullscreen?Y.requestFullscreen().catch(T=>{this.logger.error(`Error attempting to enable fullscreen mode: ${T.message} (${T.name})`)}):Y.webkitRequestFullscreen?Y.webkitRequestFullscreen():this.logger.error("No available method to enter fullscreen"):this.logger.error("Fullscreen not supported")}exitFullscreen(){document.fullscreenElement&&document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():this.logger.error("No available method to exit fullscreen")}isStagingOrDevDomain(){return this.isStagingDomain()||this.isLocalDomain()}isStagingDomain(){return window.location.hostname.endsWith(d.Stage)}isPartnerDomain(){return window.location.hostname.endsWith(d.Partner)}isLocalDomain(){return window.location.hostname.endsWith(d.Local)}getHostBranchName(){return this.hostBranch}setTitle(Y){Y&&this.titleService.setTitle(Y)}blinkAppIcon(Y){this.appIcon&&this.appIconHref&&(Y%2==1?this.appIcon.href="./assets/img/transparent.png":this.resetAppIcon())}resetAppIcon(){this.appIconHref&&(this.appIcon.href=this.appIconHref)}cleanup(){document.removeEventListener("wheel",this.dummyWheelListener),this.resetAppIcon(),this.isPWAModeOnLGTV&&window.removeEventListener("windowStateChanged",this.webOSWindowStateListener)}getPermission$(Y){return(0,M.D)(navigator.permissions.query({name:Y})).pipe((0,v.zg)(T=>(0,L.T)((0,p.of)(T.state),(0,x.R)(T,"change").pipe((0,a.U)(B=>B.target.state)))),(0,y.b)(T=>this.logger.info(`BrowserPermission: ${Y} value: ${T}`)))}}return i.\u0275fac=function(Y){return new(Y||i)(s.LFG(t.ed),s.LFG(r.Dx),s.LFG(s.R0b))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},22973:(Ge,ae,e)=>{"use strict";e.d(ae,{j:()=>Xe,tu:()=>$,LK:()=>I});var t=e(51325),n=e(33932),x=e(21361),M=e(64710),L=(()=>{return(Ze=L||(L={})).Shared="sharedStore",Ze.Webclient="webclientStore",Ze.Config="configStore",L;var Ze})(),p=(()=>{return(Ze=p||(p={})).Read="Read",Ze.Write="Write",Ze.Remove="Remove",Ze.Cache="Cache",p;var Ze})(),P=e(39609);const a=x.Gh.Common.Applicationcontrol;let o=(()=>{class Ze extends M.nM{constructor(Me){super(),this.dbService=Me}get handlers(){return{module:a.DeleteCookies.module,commands:{[a.DeleteCookies.method]:this.deleteCookies.bind(this),[a.LoadStringTable.method]:this.loadStringTable.bind(this),[a.ReadConfig.method]:this.readConfig.bind(this)}}}deleteCookies(Me){return this.makeResult("true")}loadStringTable(Me){return this.makeResult("true")}readConfig(Me){return this.dbService.getGlobalStore(L.Config).getItem(Me.payload.appname).pipe((0,t.K)(ze=>this.makeError(500,"IndexedDB Error: "+ze.toString())),(0,n.zg)(ze=>this.makeResult(ze)))}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.MC))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var v=e(80155),y=e(96671);const C=new y.xQ,A=new y.xQ;var d=e(97483);const m="WebclientChannel",S=x.Gh.Common.Ipc;let s=(()=>{class Ze extends M.nM{constructor(Me){super(),this.browserLeanModeService=Me,this.ipcEnabled=!0,this.startBroadcastListener(),Me.leanModeTransitionState.subscribe(ze=>{this.ipcEnabled=!ze,this.ipcEnabled?this.startBroadcastListener():this.stopBroadcastListener()})}ngOnDestroy(){this.stopBroadcastListener()}startBroadcastListener(){this.messages=[],typeof BroadcastChannel<"u"?(this.broadcastChannel=new BroadcastChannel(m),this.broadcastChannel.onmessage=Me=>{this.onReceiveMessage(Me.data)}):this.localStorageAvailable()&&(this.localStorage=localStorage,this.uuid=(0,v.Rl)(),this.storageEventListener=Me=>{if(Me.key!==m)return;const ze=JSON.parse(Me.newValue);!ze||ze.senderUuid===this.uuid||this.onReceiveMessage(ze.message)},window.addEventListener("storage",this.storageEventListener))}stopBroadcastListener(){this.localStorage&&this.storageEventListener&&window.removeEventListener("storage",this.storageEventListener),this.broadcastChannel&&(this.broadcastChannel.close(),this.broadcastChannel=null)}get handlers(){return{module:S.Pop.module,commands:{[S.Pop.method]:this.popMessage.bind(this),[S.Push.method]:this.pushMessage.bind(this)}}}pushMessage(Me){return this.ipcEnabled&&this.broadcastMessage(Me.payload.message),this.makeResult("IPC Push Message successful")}popMessage(Me){if(this.ipcEnabled&&this.messages.length){const ze=this.messages.pop();return this.makeResult(ze)}{const ze={type:d.oIn.QueueEmpty,content:JSON.stringify(!1)};return this.makeResult(JSON.stringify(ze))}}broadcastMessage(Me){this.broadcastChannel?this.broadcastChannel.postMessage(Me):this.localStorage&&(this.localStorage.setItem(m,JSON.stringify({message:Me,senderUuid:this.uuid})),this.localStorage.removeItem(m))}onReceiveMessage(Me){this.messages.push(JSON.stringify(Me)),C.next({sender:"IpcPlugin",data:M.Nx.IpcNewMessage})}localStorageAvailable(){try{const Me="__storage_test__";return localStorage.setItem(Me,Me),localStorage.removeItem(Me),!0}catch{return!1}}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.rn))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var r=e(85566),l=e(85501);const i=x.Gh.Common.Sharedstorage;let O=(()=>{class Ze extends M.nM{constructor(Me,ze){super(),this.dbService=Me,this.swService=ze}get handlers(){return{module:i.Read.module,commands:{[i.Read.method]:this.readFromSharedStorage.bind(this),[i.Write.method]:this.writeToSharedStorage.bind(this),[i.Remove.method]:this.removeFromSharedStorage.bind(this),[i.Cache.method]:this.getCacheOfSharedStorage.bind(this)}}}readFromSharedStorage(Me){return this.dbService.getGlobalStore(L.Shared).getItem(Me.payload.path[0]).pipe((0,t.K)(ze=>this.makeError(500,"IndexedDB Error: "+ze.toString())),(0,n.zg)(ze=>{if(!ze)return this.makeError(204,"Data not found");if(1===Me.payload.path.length)return this.makeResult(ze);{const le=(0,r.get)(ze,Me.payload.path.slice(1),null);return null!==le?this.makeResult(le):this.makeError(204,"Data not found")}}))}writeToSharedStorage(Me){return this.dbService.getGlobalStore(L.Shared).getItem(Me.payload.path[0]).pipe((0,t.K)(ze=>this.makeError(500,"IndexedDB Error: "+ze.toString())),(0,n.zg)(ze=>{let le={};return ze&&(le=ze),le=1===Me.payload.path.length?Me.payload.data:(0,r.setWith)(le,Me.payload.path.slice(1),Me.payload.data,Object),this.postCacheUpdateMessage(p.Write,Me.payload.path,le),this.dbService.getGlobalStore(L.Shared).setItem(Me.payload.path[0],le)}),(0,n.zg)(ze=>this.makeResult("true")))}removeFromSharedStorage(Me){return this.dbService.getGlobalStore(L.Shared).getItem(Me.payload.path[0]).pipe((0,t.K)(ze=>this.makeError(500,"IndexedDB Error: "+ze.toString())),(0,n.zg)(ze=>{let Le,le={};return ze&&(le=ze),1===Me.payload.path.length?Le=this.dbService.getGlobalStore(L.Shared).removeItem(Me.payload.path[0]):(le=(0,r.unset)(le,Me.payload.path.slice(1)),Le=this.dbService.getGlobalStore(L.Shared).setItem(Me.payload.path[0],le)),this.postCacheUpdateMessage(p.Remove,Me.payload.path),Le}),(0,n.zg)(ze=>this.makeResult("true")))}getCacheOfSharedStorage(Me){return this.dbService.getGlobalStore(L.Shared).getAllItemsByCursor().pipe((0,t.K)(ze=>this.makeError(500,"IndexedDB Error: "+ze.toString())),(0,n.zg)(ze=>(this.postCacheUpdateMessage(p.Cache,[],ze),this.makeResult(ze))))}postCacheUpdateMessage(Me,ze,le){const Le={source:M.nM.browserInstanceId,path:ze,data:null!=le?le:{},operationType:Me},Re={type:l.rL.SharedStorageUpdate,content:JSON.stringify(Le)};Me!==p.Cache&&this.swService.postMessageSw(Re),A.next(Le)}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.MC),P.LFG(l.HR))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var Y=e(39138),T=e(23815),B=e(2629),K=e(13800),b=e(89258),f=e(57693),D=e(71265);let I=(()=>{class Ze{}return Ze.\u0275fac=function(Me){return new(Me||Ze)},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();var w=e(64542),_=e(16099);let $=(()=>{class Ze{constructor(Me){this.logger=Me.getLogger("PlatformInfoService"),this.platformInfo$=(0,_.D)((0,w.getPlatformDetails)()).pipe((0,n.zg)(ze=>(0,Y.$R)((0,T.of)(ze),this.getNetworkType(ze.os))),(0,b.U)(([ze,le])=>{const Le=ze.os;return{details:ze,systemName:this.getSystemName(ze),processorArchitecture:this.getProcessorArchitecture(Le),cpuName:this.getCPUName(Le),networkType:le}}),(0,f.d)(1))}getPlatformInfo(){return M.ng.isBrowserPlatform()?this.platformInfo$:(0,T.of)(null)}isBrowserStreamingSupported(){return this.platformInfo$.pipe((0,b.U)(Me=>(0,w.IsFeatureSupported)(0,Me.details)))}getTranslatedPayloadDeviceType(Me){return(0,w.translatePlatformDetailsForPayload)(Me).deviceType}getTranslatedPayloadOsType(Me){return(0,w.translatePlatformDetailsForPayload)(Me).os}getTranslatedPayloadBrowserType(Me){return(0,w.translatePlatformDetailsForPayload)(Me).browser}getTranslatedClientHeaderDeviceType(Me){return(0,w.translatePlatformDetailsForClientHeader)(Me).deviceType}getTranslatedClientHeaderOsType(Me){return(0,w.translatePlatformDetailsForClientHeader)(Me).os}getTranslatedClientHeaderBrowserType(Me){return(0,w.translatePlatformDetailsForClientHeader)(Me).browser}getSystemName(Me){return"Tizen"===Me.os?(0,v.dK)(v.qW.ModelName):Me.deviceModel||void 0}getProcessorArchitecture(Me){if("Tizen"===Me)return(0,v.dK)(v.qW.PlatformCoreCpuArch);const ze=window.navigator.appVersion;let le="x86";return ze.includes("WOW64")||ze.includes("Win64")?le="x64":ze.includes("arm")&&(le="arm"),le}getCPUName(Me){if("Tizen"===Me)return(0,v.Ij)()}getNetworkType(Me){return"Tizen"===Me?(0,v.bw)().pipe((0,t.K)(ze=>(this.logger.error("getTizenNetworkType failed, error:",ze),(0,T.of)(void 0)))):(0,T.of)(void 0)}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const G="deviceId",F="systemInfoOverride",J=x.Gh.Common.Systeminfo;var z=(()=>{return(Ze=z||(z={}))[Ze.Payload=0]="Payload",Ze[Ze.ClientHeader=1]="ClientHeader",z;var Ze})();let Z=(()=>{class Ze extends M.nM{constructor(Me,ze,le,Le,Re){var Q;super(),this.dbService=le,this.localeConfig=Le,this.platformInfoService=Re,this.isOverrideStored=!1,this.sysInfoHandlers=new Map,this.logger=Me.getLogger("SystemInfoPlugin"),this.logger.info("User Agent:",window.navigator.userAgent),this.overrideConfig=null!==(Q=null==ze?void 0:ze.systemInfoOverrideConfig)&&void 0!==Q?Q:{allowedOSs:[],override:{}},this.setSysInfoHandler("DeviceType",this.getDeviceTypeInternal.bind(this)),this.setSysInfoHandler("Platform",this.getPlatformInternal.bind(this)),this.setSysInfoHandler("OSName",this.getOSNameInternal.bind(this)),this.setSysInfoHandler("OSVersion",this.getOSVersionInternal.bind(this)),this.setSysInfoHandler("BrowserName",this.getBrowserNameInternal.bind(this)),this.setSysInfoHandler("BrowserVersion",this.getBrowserVersionInternal.bind(this)),this.setSysInfoHandler("UserDefaultUILanguage",this.getUserDefaultUILanguageInternal.bind(this)),this.setSysInfoHandler("ProcessorArchitecture",this.getProcessorArchitectureInternal.bind(this)),this.setSysInfoHandler("Display",this.getDisplayInternal.bind(this)),this.setSysInfoHandler("GPU",this.getGPUInternal.bind(this)),this.setSysInfoHandler("Disk",this.getDiskInternal.bind(this)),this.setSysInfoHandler("Network",this.getNetworkInternal.bind(this)),this.setSysInfoHandler("ConfidenceInBrowser",this.getConfidenceInBrowserInternal.bind(this)),this.setSysInfoHandler("IsBrowserForged",this.getIsBrowserForgedInternal.bind(this)),this.setSysInfoHandler("VendorName",this.getVendorNameInternal.bind(this)),this.setSysInfoHandler("SystemName",this.getSystemNameInternal.bind(this)),this.setSysInfoHandler("CPUName",this.getCPUNameInternal.bind(this))}get handlers(){return{module:J.GetDeviceId.module,commands:{[J.GetDeviceId.method]:this.getDeviceId.bind(this),[J.GetSystemInfo.method]:this.getSystemInfo.bind(this),[J.GetClientHeadersInfo.method]:this.getClientHeadersInfo.bind(this),[J.GetStreamingSupportInfo.method]:this.isStreamingSupported.bind(this)}}}isStreamingSupported(Me){return this.platformInfoService.isBrowserStreamingSupported().pipe((0,B.q)(1),(0,n.zg)(ze=>this.makeResult(JSON.stringify({IsStreamingSupported:ze}))))}setSysInfoHandler(Me,ze){this.sysInfoHandlers.set(Me,ze)}makeSystemInfoData(Me,ze,le){if(le)return this.sysInfoHandlers.has(le)?this.sysInfoHandlers.get(le)(ze,Me):(this.logger.error(`Error: key '${le}' not found`),{});{const Le={};return this.sysInfoHandlers.forEach((Re,Q)=>{Le[Q]=Re(ze,Me)[Q]}),Le}}getDeviceId(Me){return this.readDeviceId().pipe((0,n.zg)(ze=>{if(ze)return this.makeResult(JSON.stringify({DeviceID:ze}));{const le={DeviceID:(0,v.Rl)()};return this.storeDeviceId(le.DeviceID).pipe((0,K.w)(Le=>this.makeResult(JSON.stringify(le))))}}),(0,t.K)(ze=>this.makeError(500,"Failed to get device id: "+ze.toString())))}getClientHeadersInfo(){return this.fetchSystemInfo(z.ClientHeader)}getSystemInfo(Me){var ze;return this.fetchSystemInfo(z.Payload,null===(ze=Me.payload)||void 0===ze?void 0:ze.key)}fetchSystemInfo(Me,ze){const le=this.platformInfoService.getPlatformInfo().pipe((0,b.U)(Re=>this.makeSystemInfoData(Me,Re,ze))),Le=this.platformInfoService.getPlatformInfo().pipe((0,n.zg)(Re=>{const Q=this.platformInfoService.getTranslatedPayloadOsType(Re.details);return this.getSystemInfoOverride(Q,ze)}));return(0,Y.$R)(le,Le).pipe((0,B.q)(1),(0,n.zg)(([Re,Q])=>(Object.assign(Re,Q),this.makeResult(JSON.stringify(Re)))),(0,f.d)(1))}readDeviceId(){return this.dbService.getGlobalStore(L.Webclient).getItem(G)}storeDeviceId(Me){return this.dbService.getGlobalStore(L.Webclient).setItem(G,Me)}getDeviceTypeInternal(Me,ze){return{DeviceType:ze===z.ClientHeader?this.platformInfoService.getTranslatedClientHeaderDeviceType(Me.details):this.platformInfoService.getTranslatedPayloadDeviceType(Me.details)}}getPlatformInternal(Me,ze){return{Platform:Me.details.os}}getOSNameInternal(Me,ze){return{OSName:ze===z.ClientHeader?this.platformInfoService.getTranslatedClientHeaderOsType(Me.details):this.platformInfoService.getTranslatedPayloadOsType(Me.details),OSVersion:this.getOSVersionInternal(Me,ze).OSVersion}}getOSVersionInternal(Me,ze){return{OSVersion:Me.details.osVer&&"0"!==Me.details.osVer?Me.details.osVer:M.Px}}getBrowserNameInternal(Me,ze){return{BrowserName:ze===z.ClientHeader?this.platformInfoService.getTranslatedClientHeaderBrowserType(Me.details):this.platformInfoService.getTranslatedPayloadBrowserType(Me.details)}}getBrowserVersionInternal(Me,ze){return"0"===Me.details.browserFullVer?{BrowserVersion:Me.details.browserVer||M.Px}:{BrowserVersion:Me.details.browserFullVer||Me.details.browserVer||M.Px}}getUserDefaultUILanguageInternal(Me,ze){const le={UserDefaultUILanguage:this.getUserPreferredSupportedLanguage("Safari"===Me.details.browser)};return this.logger.info("preferred languages are",window.navigator.languages,"default pick is",le.UserDefaultUILanguage),le}getProcessorArchitectureInternal(Me,ze){return{ProcessorArchitecture:Me.processorArchitecture||void 0}}getDisplayInternal(){return{Display:[{RefreshRate:"",LogicalResolution:window.screen.width.toString()+" x "+window.screen.height.toString(),PhysicalResolution:Math.floor(window.screen.width*window.devicePixelRatio)+" x "+Math.floor(window.screen.height*window.devicePixelRatio)}]}}getGPUInternal(Me,ze){return{GPU:[]}}getDiskInternal(Me,ze){return{Disk:[]}}getNetworkInternal(Me,ze){var le;const Le=this.platformInfoService.getTranslatedPayloadOsType(Me.details);return{Network:{Fingerprint:"",NetworkType:null!==(le=this.getMappedNetworkType(Le,Me.networkType))&&void 0!==le?le:void 0}}}getConfidenceInBrowserInternal(Me,ze){return{ConfidenceInBrowser:Me.details.confidence}}getIsBrowserForgedInternal(Me,ze){return{IsBrowserForged:Me.details.forging}}getVendorNameInternal(Me,ze){return{VendorName:Me.details.vendor||void 0}}getSystemNameInternal(Me,ze){return{SystemName:Me.systemName||void 0}}getCPUNameInternal(Me,ze){return{CPUName:Me.cpuName||void 0}}getSystemInfoOverride(Me,ze){if(!this.overrideConfig.allowedOSs.includes(Me))return(0,T.of)({});const le=(0,b.U)(Re=>{let Q={};return Re&&(ze&&Re[ze]?Q[ze]=Re[ze]:ze||(Q=Re)),Q}),Le=this.overrideConfig.override;return Le&&Object.keys(Le).length>0?(this.storeSystemInfoOverrideIfNeeded(Le),(0,T.of)(Le).pipe(le)):this.readSystemInfoOverride().pipe((0,D.b)(Re=>{Re&&(this.logger.info("Override is loaded from DB"),this.overrideConfig.override=Re)}),le)}storeSystemInfoOverrideIfNeeded(Me){this.isOverrideStored||this.dbService.getGlobalStore(L.Webclient).setItem(F,Me).pipe((0,B.q)(1),(0,D.b)(ze=>{this.logger.info("Override is stored in DB"),this.isOverrideStored=!0})).subscribe()}readSystemInfoOverride(){return this.dbService.getGlobalStore(L.Webclient).getItem(F)}sanitizeLanguage(Me,ze){return ze&&(Me=Me.replace(/(.*[-_])([a-zA-Z]*)/,(le,Le,Re)=>`${Le}${Re.toUpperCase()}`)),Me}getUserPreferredSupportedLanguage(Me){const ze=window.navigator.languages.map(Re=>this.sanitizeLanguage(Re.replace("-","_"),Me)),le=this.localeConfig.supportedLang;let Le;return ze.some(function(Re){let Q=le.find(function(ve){return Re===ve});if(!Q&&2===Re.length){const ve=M.FP.get(Re);Q=null==ve?void 0:ve.find(be=>le.includes(be))}return!Le&&Q&&(Le=Q),!!Q}),Le||this.sanitizeLanguage(window.navigator.language,Me)}getMappedNetworkType(Me,ze){if("Tizen"===Me)switch(ze){case"ETHERNET":return M.VV.Ethernet;case"WIFI":return M.VV.WiFi2_4;case"2G":case"2.5G":case"3G":case"4G":case"NET_PROXY":return M.VV.Other;default:return M.VV.Unknown}}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed),P.LFG(I,8),P.LFG(M.MC),P.LFG(M.b$),P.LFG($))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var ue=e(42520),u=e(74266);const k=x.Gh.Common.Windowevents,W=Ze=>`json:${JSON.stringify(Ze)}`;let N=(()=>{class Ze extends M.nM{constructor(Me,ze,le){super(),this.swService=ze,this.ngZone=le,this.windowEvents=new y.xQ,this.defaultSharedStorageCache={type:M.Nx.SharedStorageUpdate},this.sharedStorageCache=Object.assign({},this.defaultSharedStorageCache),this.handleTizenAppControlEvent=()=>{const{callerAppId:Le,appControl:Re}=(0,v.f6)();this.logger.info(`Received appcontrol event from (${Le}), operation: ${Re.operation}`);const Q=Re&&(0,v.a_)(Re);Q?this.ngZone.run(()=>{this.windowEvents.next(W({type:M.Nx.RouteChange,"new-route":Q}))}):this.logger.error("Invalid payload in requested app control")},this.logger=Me.getLogger("CommonBrowserPlugins/WindowEvents"),this.logger.info("InstanceId: ",M.nM.browserInstanceId),C.pipe((0,u.h)(Le=>Le.data===M.Nx.IpcNewMessage),(0,b.U)(Le=>Le.data)).subscribe(Le=>this.onInternalMessage(Le),Le=>{}),(0,ue.T)(A,this.sharedStorageMessagesFromOtherTabs).subscribe(Le=>{this.onSharedStorageUpdate(Le)},Le=>{this.logger.error("Error receiving update event from shared storage:",Le)}),M.ng.isPWAModeOnSamsungTV()&&le.runOutsideAngular(()=>{window.addEventListener("appcontrol",this.handleTizenAppControlEvent)})}get handlers(){return{module:k.RegisterWindowEventsCallback.module,commands:{[k.RegisterWindowEventsCallback.method]:this.registerWindowCallbacks.bind(this)}}}get sharedStorageMessagesFromOtherTabs(){return this.swService.swSharedStorageUpdate$.pipe((0,b.U)(Me=>JSON.parse(Me.content)),(0,u.h)(Me=>Me.source!==M.nM.browserInstanceId))}onInternalMessage(Me){this.windowEvents.next(Me)}onSharedStorageUpdate(Me){switch(Me.operationType){case p.Read:this.logger.verbose("Read operation (no-op)");break;case p.Write:this.logger.verbose("Write operation:",Me),(0,r.setWith)(this.sharedStorageCache,Me.path,Me.data,Object);break;case p.Remove:this.logger.verbose("Remove operation:",Me),(0,r.unset)(this.sharedStorageCache,Me.path);break;case p.Cache:this.logger.verbose("Cache operation:",Me),this.sharedStorageCache=(0,r.isEmpty)(Me.data)?this.sharedStorageCache:Object.assign(Object.assign({},this.sharedStorageCache),Me.data);break;default:this.logger.verbose("Invalid Operation Type:",Me.operationType)}this.windowEvents.next(W(this.sharedStorageCache))}registerWindowCallbacks(Me){return this.makePersistentResult(this.windowEvents.asObservable())}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed),P.LFG(l.HR),P.LFG(P.R0b))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var H=x.Yk.Common.Applicationinfo;const h=x.Gh.Common.Applicationinfo;let E=(()=>{class Ze extends M.nM{constructor(){super(),this.applicationLifeTimeSubject=new y.xQ}get handlers(){return{module:h.IsApplicationRunning.module,commands:{[h.IsApplicationRunning.method]:this.isApplicationRunning.bind(this),[h.IsApplicationInstalled.method]:this.IsApplicationInstalled.bind(this),[h.GetIsUIRefreshed.method]:this.getIsUIRefreshed.bind(this),[h.RegisterAppLifetimeEventsCallback.method]:this.registerAppLifetimeEventsCallback.bind(this),[h.OpenFileDialog.method]:this.openFileDialog.bind(this),[h.OpenDirectoryBrowser.method]:this.openDirectoryBrowser.bind(this)}}}applicationLifeTimeListener(Me){window.addEventListener("unload",ze=>{Me.next({type:H.ApplicationLifetimeEventType.ApplicationExit,reason:H.ShutdownReason.BrowserExit})})}isApplicationRunning(Me){return this.makeResult("true")}IsApplicationInstalled(Me){return this.makeResult("true")}getIsUIRefreshed(Me){return this.makeResult("false")}registerAppLifetimeEventsCallback(Me){return this.applicationLifeTimeListener(this.applicationLifeTimeSubject),this.makePersistentResult(this.applicationLifeTimeSubject.asObservable())}openFileDialog(Me){return this.makeResult("true")}openDirectoryBrowser(Me){return this.makeResult("true")}}return Ze.\u0275fac=function(Me){return new(Me||Ze)},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var ee=e(45908);const R=x.Gh.Common.Windowcontrol;let q=(()=>{class Ze extends M.nM{constructor(Me,ze){super(),this.browserSupportService=ze,this.logger=Me.getLogger("crimson/browser/windowcontrol-plugin")}get handlers(){return{module:R.Maximize.module,commands:{[R.Maximize.method]:this.maximize.bind(this),[R.Minimize.method]:this.minimize.bind(this),[R.Restore.method]:this.restore.bind(this),[R.Resize.method]:this.resize.bind(this),[R.Close.method]:this.close.bind(this),[R.Focus.method]:this.focus.bind(this),[R.RequestUserAttention.method]:this.requestUserAttention.bind(this)}}}maximize(Me){return this.makeResult("true")}minimize(Me){return this.makeResult("true")}restore(Me){return this.makeResult("true")}resize(Me){if(0===Me.payload.x&&0===Me.payload.y&&0===Me.payload.w&&0===Me.payload.h){const ze=document.getElementById("fullscreen-container");ze&&this.browserSupportService.requestFullscreen(ze)}return this.makeResult("true")}close(Me){return(0,v.fO)()&&(0,v.rV)(),this.makeResult("true")}focus(Me){return this.makeResult("true")}requestUserAttention(Me){return this.makeResult("true")}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed),P.LFG(ee.OA))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const ne=x.Gh.Common.Update;let _e=(()=>{class Ze extends M.nM{constructor(){super()}get handlers(){return{module:ne.ReadTicket.module,commands:{[ne.ReadTicket.method]:this.readTicket.bind(this),[ne.GfnUpdate.method]:this.gfnUpdate.bind(this)}}}readTicket(Me){return this.makeResult('{"available":false,"severity":"","version":""}')}gfnUpdate(Me){return this.makeResult("true")}}return Ze.\u0275fac=function(Me){return new(Me||Ze)},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();var U=e(39103),re=x.Yk.Common.Clientnotification;const pe=x.Gh.Common.Clientnotification;var Pe=(()=>{return(Ze=Pe||(Pe={})).Granted="granted",Ze.Denied="denied",Ze.Default="default",Pe;var Ze})();let Te=(()=>{class Ze extends M.nM{constructor(Me,ze,le,Le){super(),this.browserSupportService=ze,this.serviceWorkerService=le,this.projectInterfaceService=Le,this.success={_return_internal:re.InternalErrorCodeEnum.Success},this.error={_return_internal:re.InternalErrorCodeEnum.Error},this.logger=Me.getLogger("ClientNotificationPlugin"),this.browserSupportService.documentVisiblityChange.subscribe(Re=>{this.isDocumentVisible=document.visibilityState===ee.WU.Visible})}get handlers(){return{module:pe.ShowClientNotifications.module,commands:{[pe.ShowClientNotifications.method]:this.showClientNotification.bind(this),[pe.ClearNotificationsQueue.method]:this.clearNotificationsQueue.bind(this),[pe.DeleteNotification.method]:this.deleteNotification.bind(this)}}}deleteNotification(Me){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,t.K)(ze=>this.makeResult(JSON.stringify(this.error))),(0,n.zg)(ze=>(ze?(this.serviceWorkerService.postMessageSw({type:l.rL.UiPushNotification,content:JSON.stringify({delete:Me.payload.uniqueId})}),this.logger.info("Notification Info is sent to SW")):this.logger.info("Notifications are not allowed"),this.makeResult(JSON.stringify(this.success)))))}clearNotificationsQueue(Me){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,t.K)(ze=>this.makeResult(JSON.stringify(this.error))),(0,n.zg)(ze=>(ze&&this.serviceWorkerService.postMessageSw({type:l.rL.UiPushNotification,content:JSON.stringify({clear:Me.payload.clear})}),this.makeResult(JSON.stringify(this.success)))))}showClientNotification(Me){return this.projectInterfaceService.isNotificationAllowedCallBack().pipe((0,t.K)(ze=>this.makeResult(JSON.stringify(this.error))),(0,n.zg)(ze=>this.canSendNotification(ze)?this.isFullScreenAndVisible()?(this.logger.info("Cannot send Notifications when screen is fullscreen & visible"),this.makeResult(JSON.stringify({_return_internal:re.InternalErrorCodeEnum.Error_NotFullScreen}))):(this.serviceWorkerService.postMessageSw({type:l.rL.UiPushNotification,content:JSON.stringify({title:Me.payload.title,body:Me.payload.body,direction:Me.payload.direction,language:Me.payload.language,tag:Me.payload.tag,silent:Me.payload.silent})}),this.logger.info("Notifications are sent to SW"),this.makeResult(String(this.success._return_internal))):(this.logger.info("Cannot send Notification as permission is not given"),this.makeResult(JSON.stringify({_return_internal:re.InternalErrorCodeEnum.Error_PermissionNotGiven})))))}canSendNotification(Me){return Me&&Notification.permission===Pe.Granted}isFullScreenAndVisible(){return this.browserSupportService.isFullscreen()&&this.isDocumentVisible}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed),P.LFG(ee.OA),P.LFG(l.HR),P.LFG(U.m3))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})();const me=x.Gh.Gfn.Gfnbroadcast,Xe=[{provide:M.m1,useClass:o,multi:!0},{provide:M.m1,useClass:s,multi:!0},{provide:M.m1,useClass:O,multi:!0},{provide:M.m1,useClass:Z,multi:!0},{provide:M.m1,useClass:N,multi:!0},{provide:M.m1,useClass:E,multi:!0},{provide:M.m1,useClass:q,multi:!0},{provide:M.m1,useClass:_e,multi:!0},{provide:M.m1,useClass:(()=>{class Ze extends M.nM{constructor(Me,ze){super(),this.loggingService=Me,this.projectInterfaceService=ze,this.logger=Me.getLogger("GFNBroadcast")}get handlers(){return{module:"GfnBroadcast",commands:{[me.BroadcastConnect.method]:this.broadcastConnect.bind(this),[me.GfnBroadcastResponseNotification.method]:this.broadcastResponseNotification.bind(this),[me.BroadcastDisconnect.method]:this.broadcastDisconnect.bind(this)}}}createBroadcastMessage(Me){const ze=JSON.stringify({command:Me.command,method:Me.method,module:Me.module,payload:Me.payload});return{method:"POST",url:"rtsp://Serenity/GfnBroadcast/v.1.0/PostMessage",data:{data:ze,size:ze.length}}}broadcastConnect(Me){const ze=this.createBroadcastMessage(Me);return this.projectInterfaceService.postCustomMessage(JSON.stringify(ze),d.gOl.Serenity),this.makeResult("true")}broadcastDisconnect(Me){const ze=this.createBroadcastMessage(Me);return this.projectInterfaceService.postCustomMessage(JSON.stringify(ze),d.gOl.Serenity),this.makeResult("true")}parseJsonString(Me){try{return JSON.parse(Me)}catch{return!1}}broadcastResponseNotification(Me){return this.projectInterfaceService.onCustomMessageReceived.pipe((0,b.U)(ze=>this.parseJsonString(ze.data)),(0,u.h)(ze=>ze&&"rtsp://Serenity/GfnBroadcast/v.1.0/BusMessage"===(null==ze?void 0:ze.url)&&(null==ze?void 0:ze.event)),(0,n.zg)(ze=>{let le;if("connectResponse"===(null==ze?void 0:ze.event)){const Re=null==ze?void 0:ze.status;Re&&(le={broadcastConnectResponse:{enableStatus:Re}})}if("disconnectResponse"===(null==ze?void 0:ze.event)){const Re=null==ze?void 0:ze.status;Re&&(le={broadcasDisconnectResponse:{disconnectStatus:Re}})}this.logger.info("broadcastResponse=",le);const Le=JSON.stringify(le);return this.makeResult(Le)}))}}return Ze.\u0275fac=function(Me){return new(Me||Ze)(P.LFG(M.ed),P.LFG(U.m3))},Ze.\u0275prov=P.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"root"}),Ze})(),multi:!0},{provide:M.m1,useClass:Te,multi:!0}]},41113:(Ge,ae,e)=>{"use strict";e.d(ae,{N:()=>x});var t=e(39609);let x=(()=>{class M{}return M.\u0275fac=function(p){return new(p||M)},M.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac}),M})()},78930:(Ge,ae,e)=>{"use strict";e.d(ae,{D:()=>P});var t=e(23815),n=e(18388),x=e(39609),M=e(41113);function L(a){return[a.system,a.module,a.method,a.legacyCommand].join(".")}let P=(()=>{class a{constructor(v){this.bridgeConfig=v,this.responses={},this.persistentResponses={},this.errors={},this.configMocks={},this.callData={};for(const y of Object.values(v.mocks))this.configMocks[L(y.command)]=y.return}createResponse(v,y){const C=L(v);delete this.errors[C],this.responses[C]=y}createResponseSequence(v,y){const C=L(v);delete this.errors[C],this.responses[C]=y}createPersistentResponse(v,y){if(!v.persistent)throw new Error("Can only create a persistent response for persistent commands");{const C=L(v);delete this.errors[C],this.persistentResponses[C]=y}}createErrorResponse(v,y){const C=L(v);delete this.responses[C],this.errors[C]=y}executeCommand(v,y){const C=L(v);this.cacheCallData(C,y);let A=(0,t.of)(void 0);return C in this.errors?A=(0,n._)(this.errors[C]):C in this.responses?A=Array.isArray(this.responses[C])?(0,t.of)(this.responses[C].shift()):(0,t.of)(this.responses[C]):C in this.configMocks?A=(0,t.of)(this.configMocks[C]):C in this.persistentResponses&&(A=this.persistentResponses[C]),A}hasOverrideMock(v){const y=L(v);return y in this.responses||y in this.persistentResponses}hasErrorMock(v){return L(v)in this.errors}hasConfigMock(v){return L(v)in this.configMocks}hasMock(v){const y=this.hasOverrideMock(v)||this.hasConfigMock(v)||this.hasErrorMock(v);return this.bridgeConfig.isUnitTestConfig&&!y&&console.error("No mock provided for: "+L(v)),y}cacheCallData(v,y){this.bridgeConfig.cacheMockedCallData&&(v in this.callData||(this.callData[v]={count:0,params:[]}),this.callData[v].count++,this.callData[v].params.push(y))}resetCallData(){this.callData={}}getCallData(v){const y=L(v);return y in this.callData?this.callData[y]:{count:0,params:[]}}}return a.\u0275fac=function(v){return new(v||a)(x.LFG(M.N))},a.\u0275prov=x.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},90866:(Ge,ae,e)=>{"use strict";e.d(ae,{d:()=>M});var t=e(39609),n=e(80042),x=e(78930);let M=(()=>{class L{constructor(P,a){this.logger=P,this.bridgeMockService=a}makeFullBridgeCommand(P,a,o){return Object.assign({command:P.legacyCommand,system:P.system,module:P.module,method:P.method,payload:a},o?a:null)}unpackReturnPayload(P){try{const a=JSON.parse(P);return"object"==typeof a&&"reference_uniqueid"in a&&"method"in a&&"payload"in a?a.payload:a}catch{return P}}handleSuccess(P,a,o){switch(o){case"true":P.next(!0);break;case"false":P.next(!1);break;default:P.next(this.unpackReturnPayload(o))}a||P.complete()}handleFailure(P,a,o,v,y){const C={code:o,message:v,isCancelled:204===o,request:a};this.logger.info(`Bridge Query returned error code ${o}: ${v}. Command: ${JSON.stringify(y?a:a.command)}`),P.error(C)}executeCommand(P,a,o=!0){return this.bridgeMockService.hasMock(P)?this.bridgeMockService.executeCommand(P,a):this.executeCommandInternal(P,a,o)}}return L.\u0275fac=function(P){return new(P||L)(t.LFG(n.Yd),t.LFG(x.D))},L.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac}),L})()},60165:(Ge,ae,e)=>{"use strict";e.d(ae,{RW:()=>Y,nr:()=>b,q9:()=>B,m1:()=>s,NQ:()=>w.N,dF:()=>t.d,Km:()=>I,nM:()=>S,U5:()=>r});var t=e(90866),n=e(39609),x=e(50936),M=e(80042),L=e(78930);let p=(()=>{class _ extends t.d{constructor(G,F,J){super(G.getLogger("crimson/cef"),J),this.ngZone=F}static isCefPlatform(){return"cefQuery"in window}executeCommandInternal(G,F,J){const z=this.makeFullBridgeCommand(G,F,G.legacyCommand!==_.EXTENSION_MESSAGE),Z=JSON.stringify(z),ue=window.cefQuery;return new x.y(u=>{if(ue)ue({request:Z,persistent:G.persistent,onSuccess:k=>{n.R0b.isInAngularZone()?this.handleSuccess(u,G.persistent,k):this.ngZone.run(()=>{this.handleSuccess(u,G.persistent,k)})},onFailure:(k,W)=>{n.R0b.isInAngularZone()?this.handleFailure(u,z,k,W,J):this.ngZone.run(()=>{this.handleFailure(u,z,k,W,J)})}});else{const k=Z;this.logger.error(k),this.handleFailure(u,z,500,k,J)}})}}return _.EXTENSION_MESSAGE="QUERY_IPC_EXTENSION_MESSAGE",_.\u0275fac=function(G){return new(G||_)(n.LFG(M.ed),n.LFG(n.R0b),n.LFG(L.D))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();var P=e(23815),a=e(51325),o=e(33932);let v=(()=>{class _{constructor(G){this._plugins=G}get plugins(){return this._plugins}getPlugin(G){return this._plugins.find(F=>F instanceof G)}}return _.\u0275fac=function(G){return new(G||_)(n.LFG(Array))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),y=(()=>{class _ extends t.d{constructor(G,F,J,z){super(G,z),this.primaryManager=F,this.fallbackManager=J,this.handlerMap=new Map,this.buildHandlerMap()}buildHandlerMap(){var G,F;null===(F=null===(G=this.fallbackManager)||void 0===G?void 0:G.plugins)||void 0===F||F.forEach(J=>{const z=J.handlers;this.handlerMap.set(z.module,z.commands)});for(const J of this.primaryManager.plugins){const z=J.handlers;this.handlerMap.set(z.module,z.commands)}}getHandlerForMethod(G,F){const J=this.handlerMap.get(G);return J?J[F]:null}executeCommandUsingPlugin(G,F,J){const z=this.makeFullBridgeCommand(G,F,G.legacyCommand!==_.EXTENSION_MESSAGE),Z=this.getHandlerForMethod(z.module,z.method);return Z?new x.y(ue=>{Z(z).pipe((0,a.K)(u=>(this.logger.info("failed to execute",G.legacyCommand,u),new x.y(k=>{this.handleFailure(k,z,u.code,u.error,J)}))),(0,o.zg)(u=>new x.y(k=>{this.handleSuccess(k,z.persistent,u.data)}))).subscribe(u=>ue.next(u),u=>ue.error(u),()=>ue.complete())}):(this.logger.info("plugin does not have handler for",z.module,z.method),(0,P.of)(null))}}return _.EXTENSION_MESSAGE="QUERY_IPC_EXTENSION_MESSAGE",_.\u0275fac=function(G){return new(G||_)(n.LFG(M.Yd),n.LFG(v),n.LFG(v),n.LFG(L.D))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();var C=e(80155),A=e(18388),d=e(89258);class m{createSuccessResponse($){return{success:!0,code:200,data:$}}createErrorResponse($,G){return{success:!1,code:$,error:G}}makeError($,G){return(0,A._)(this.createErrorResponse($,G))}makeResult($){return(0,P.of)(this.createSuccessResponse($))}makePersistentResult($){return $.pipe((0,d.U)(G=>this.createSuccessResponse(G)))}}class S extends m{static get browserInstanceId(){return this._browserInstanceId}}S._browserInstanceId=(0,C.Rl)(!0);const s=new n.OlP("BrowserPlugins");let r=(()=>{class _ extends v{constructor(G){super(G||[])}}return _.\u0275fac=function(G){return new(G||_)(n.LFG(s,8))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),l=(()=>{class _ extends y{constructor(G,F,J){super(G.getLogger("crimson/browser"),F,void 0,J)}executeCommandInternal(G,F,J){const z=this.makeFullBridgeCommand(G,F,G.legacyCommand!==y.EXTENSION_MESSAGE);return this.handlerMap.has(z.module)?this.executeCommandUsingPlugin(G,F,J):(this.logger.info("Command not found",JSON.stringify(J?z:z.command)),(0,P.of)(null))}}return _.\u0275fac=function(G){return new(G||_)(n.LFG(M.ed),n.LFG(r),n.LFG(L.D))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})(),i=(()=>{class _ extends t.d{constructor(G,F,J){super(G.getLogger("crimson/yggdrasil"),J),this.ngZone=F}executeCommandInternal(G,F){return new x.y(J=>{J.next(null),J.complete()})}}return _.\u0275fac=function(G){return new(G||_)(n.LFG(M.ed),n.LFG(n.R0b),n.LFG(L.D))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();var O=e(30750);const Y=new n.OlP("AndroidPlugins");let T=(()=>{class _ extends v{constructor(G){super(G||[])}}return _.\u0275fac=function(G){return new(G||_)(n.LFG(Y,8))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class B extends m{static get androidInstanceId(){return this._androidInstanceId}}var K;B._androidInstanceId=(0,C.Rl)(!0);class b{constructor($,G){this.ngZone=G,Android.dispatch=this.dispatch.bind(this),Android.unregisterHandler=this.unregisterHandler.bind(this)}dispatch($){if(!b.handlerMap[$.handlerId])throw new Error(`Cannot find handler Id=${$.handlerId}.`);const G=b.handlerMap[$.handlerId];this.parseResponse(G.observer,$.args),G.persistent||delete b.handlerMap[$.handlerId]}parseResponse($,G){const F=JSON.parse(G),z=F.errorCode,Z=F.errorMessage;if(F.successful){const u={response:F.response};n.R0b.isInAngularZone()?$.next(u):this.ngZone.run(()=>{$.next(u)})}else{const u={errorCode:z,errorMessage:Z};n.R0b.isInAngularZone()?$.error(u):this.ngZone.run(()=>{$.error(u)})}}unregisterHandler($){if(!b.handlerMap[$.handlerId])throw new Error(`Cannot find handler Id=${$.handlerId}.`);b.handlerMap[$.handlerId].observer.complete(),delete b.handlerMap[$.handlerId]}doesCommandExist($,G){return Android.hasCommand&&Android.hasCommand($,G)}executeCommandNative($,G,F){const z={request:JSON.stringify($),persistent:G,handlerId:b.IdGenerator.next()},Z=JSON.stringify(z),ue=new x.y(u=>{b.handlerMap[z.handlerId]={observer:u,persistent:G}});return Android.executeCommand(Z),ue}}b.IdGenerator=((K=class{static next(){return++this.count}}).count=0,K),b.handlerMap={},b.\u0275fac=function($){return new($||b)(n.LFG(M.ed),n.LFG(n.R0b))},b.\u0275prov=n.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"});let f=(()=>{class _ extends y{constructor(G,F,J,z,Z){super(G.getLogger("crimson/android"),F,J,Z),this.androidHelperService=z}static requiresNativeImplementation(G){return _.REQUIRES_NATIVE_IMPL.includes(G)}executeCommandInternal(G,F,J){const z=this.makeFullBridgeCommand(G,F,G.legacyCommand!==_.EXTENSION_MESSAGE),Z=JSON.stringify(z);return O.n.isAndroidPlatform()?this.androidHelperService.doesCommandExist(G.module,G.method)?new x.y(u=>{this.androidHelperService.executeCommandNative(z,G.persistent,J).subscribe(W=>{this.handleSuccess(u,G.persistent,W.response)},W=>{this.handleFailure(u,z,W.errorCode,W.errorMessage,J)},()=>{this.logger.info("callback complete")})}):!_.requiresNativeImplementation(z.module)&&this.handlerMap.has(z.module)?this.executeCommandUsingPlugin(G,F,J):(this.logger.info("Command not found",JSON.stringify(J?z:z.command)),(0,P.of)(null)):new x.y(ue=>{const u=Z;this.logger.error(u),this.handleFailure(ue,z,500,u,J)})}}return _.REQUIRES_NATIVE_IMPL=[],_.\u0275fac=function(G){return new(G||_)(n.LFG(M.ed),n.LFG(T),n.LFG(r),n.LFG(b),n.LFG(L.D))},_.\u0275prov=n.Yz7({token:_,factory:_.\u0275fac}),_})();const I={provide:t.d,useFactory:function D(_,$,G,F){if(O.n.isCefPlatform())return new p(_,$,G);if(O.n.isAndroidPlatform()){const J=F.get(r),z=F.get(T),Z=F.get(b);return new f(_,z,J,Z,G)}if(O.n.isBrowserPlatform()){const J=F.get(r);return new l(_,J,G)}return new i(_,$,G)},deps:[M.ed,n.R0b,L.D,n.zs3]};var w=e(41113)},224:(Ge,ae,e)=>{"use strict";e.d(ae,{r:()=>x});var t=e(59562),n=e(39609);let x=(()=>{class M{constructor(){this.leanModeTransitionSub=new t.t(1)}get leanModeTransitionState(){return this.leanModeTransitionSub.asObservable()}enableLeanMode(){this.leanModeTransitionSub.next(!0)}disableLeanMode(){this.leanModeTransitionSub.next(!1)}}return M.\u0275fac=function(p){return new(p||M)},M.\u0275prov=n.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},86151:(Ge,ae,e)=>{"use strict";e.d(ae,{i:()=>B});var t=e(60165),n=e(80042),x=e(89558),M=e(78930),L=e(52954),p=e(71228),v=(e(63913),e(5432),e(88902),e(39609));e(35151),e(72122),e(80415);let B=(()=>{class K{static configure(f){return{ngModule:K,providers:[L.uU,{provide:n.nN,useValue:f.logger},{provide:t.NQ,useValue:f.bridge},{provide:x.A,useValue:f.window},{provide:p.b,useValue:f.locale},M.D,t.Km]}}}return K.\u0275fac=function(f){return new(f||K)},K.\u0275mod=v.oAB({type:K}),K.\u0275inj=v.cJS({}),K})()},72122:(Ge,ae,e)=>{"use strict";e.d(ae,{r:()=>L});var t=e(90657),n=e(39609);const M=["ngClass.lt-400","ngClass.lt-360","ngClass.iphone","ngClass.ipad","ngClass.handset"];let L=(()=>{class p extends t.jo{constructor(){super(...arguments),this.inputs=M}}return p.\u0275fac=function(){let P;return function(o){return(P||(P=n.n5z(p)))(o||p)}}(),p.\u0275dir=n.lG2({type:p,selectors:[["","ngClass.lt-400",""],["","ngClass.lt-360",""],["","ngClass.iphone",""],["","ngClass.ipad",""],["","ngClass.handset",""]],inputs:{"ngClass.lt-400":"ngClass.lt-400","ngClass.lt-360":"ngClass.lt-360","ngClass.iphone":"ngClass.iphone","ngClass.ipad":"ngClass.ipad","ngClass.handset":"ngClass.handset"},features:[n.qOj]}),p})()},35151:(Ge,ae,e)=>{"use strict";e.d(ae,{W:()=>L});var t=e(90657),n=e(39609);const M=["fxShow.lt-400","fxShow.lt-360","fxShow.lt-340","fxShow.iphone","fxHide.lt-400","fxHide.lt-360","fxHide.lt-340","fxHide.iphone"];let L=(()=>{class p extends t.Pe{constructor(){super(...arguments),this.inputs=M}}return p.\u0275fac=function(){let P;return function(o){return(P||(P=n.n5z(p)))(o||p)}}(),p.\u0275dir=n.lG2({type:p,selectors:[["","fxShow.lt-400",""],["","fxShow.lt-360",""],["","fxShow.lt-340",""],["","fxShow.iphone",""],["","fxHide.lt-400",""],["","fxHide.lt-360",""],["","fxHide.lt-340",""],["","fxHide.iphone",""]],inputs:{"fxShow.lt-400":"fxShow.lt-400","fxShow.lt-360":"fxShow.lt-360","fxShow.lt-340":"fxShow.lt-340","fxShow.iphone":"fxShow.iphone","fxHide.lt-400":"fxHide.lt-400","fxHide.lt-360":"fxHide.lt-360","fxHide.lt-340":"fxHide.lt-340","fxHide.iphone":"fxHide.iphone"},features:[n.qOj]}),p})()},71228:(Ge,ae,e)=>{"use strict";e.d(ae,{b:()=>n});var t=e(39609);let n=(()=>{class x{}return x.\u0275fac=function(L){return new(L||x)},x.\u0275prov=t.Yz7({token:x,factory:x.\u0275fac}),x})()},53617:(Ge,ae,e)=>{"use strict";e.d(ae,{G:()=>t});var t=(()=>{return(n=t||(t={}))[n.None=-1]="None",n[n.Error=1]="Error",n[n.Warning=2]="Warning",n[n.Info=3]="Info",n[n.Trace=4]="Trace",n[n.Verbose=5]="Verbose",n[n.Event=6]="Event",t;var n})()},80042:(Ge,ae,e)=>{"use strict";e.d(ae,{Yd:()=>P,ed:()=>a,nN:()=>p});var t=e(80155),n=e(53617),x=e(39609),M=e(52954),L=e(80891);let p=(()=>{class o{}return o.\u0275fac=function(y){return new(y||o)},o.\u0275prov=x.Yz7({token:o,factory:o.\u0275fac}),o})();class P{constructor(v,y,C,A,d,m){this.name=v,this.loggingLevel=y,this.datePipe=C,this.remoteLoggingService=A,this.remoteLoggingEnabled=d,this.consoleLoggingEnabled=m,this.remoteLogging=d,this.consoleLogging=m}error(...v){this.logEntry(n.G.Error,v,console.error.bind(console))}warn(...v){this.logEntry(n.G.Warning,v,console.warn.bind(console))}info(...v){this.logEntry(n.G.Info,v,console.log.bind(console))}verbose(...v){this.logEntry(n.G.Verbose,v,console.log.bind(console))}event(...v){this.logEntry(n.G.Event,v,console.log.bind(console))}trace(...v){this.logEntry(n.G.Trace,v,console.log.bind(console))}updateLogger(v,y){this.remoteLogging=v,this.consoleLogging=y}logEntry(v,y,C){if(this.loggingLevel<v)return;let A="";A=v===n.G.Trace?(0,t.M_)(this.name,n.G[v].toUpperCase(),this.datePipe,y):(0,t.gF)(this.name,n.G[v].toUpperCase(),this.datePipe,y),this.consoleLogging&&C(A),this.remoteLogging&&this.remoteLoggingService.collectLogString(A)}}let a=(()=>{class o{constructor(y,C,A){this.config=y,this.datePipe=C,this.remoteLoggingService=A,this.loggingLevelOverrides={},this.loggers={},this.remoteLoggingEnabled=!1,this.consoleLoggingEnabled=!0,this.loggingLevelOverrides=e(26863)}updateLoggers(){Object.values(this.loggers).forEach(y=>{y.updateLogger(this.remoteLoggingEnabled,this.consoleLoggingEnabled)})}getLoggingLevel(y){return n.G[this.loggingLevelOverrides[y]]||this.config.defaultLoggingLevel}initialize(y,C){y&&this.remoteLoggingService.initialize(),(this.remoteLoggingEnabled!==y||this.consoleLoggingEnabled!==C)&&(this.remoteLoggingEnabled=y,this.consoleLoggingEnabled=C,this.consoleLoggingEnabled||console.clear(),this.updateLoggers())}getLogger(y){const C=this.getLoggingLevel(y);return this.config.appNamePrefix&&(y=this.config.appNamePrefix+"/"+y),this.loggers[y]||(this.loggers[y]=new P(y,C,this.datePipe,this.remoteLoggingService,this.remoteLoggingEnabled,this.consoleLoggingEnabled)),this.loggers[y]}}return o.\u0275fac=function(y){return new(y||o)(x.LFG(p),x.LFG(M.uU),x.LFG(L.V))},o.\u0275prov=x.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},80415:(Ge,ae,e)=>{"use strict";e.d(ae,{Yx:()=>v});var t=e(20576),n=e(39609),x=e(85780),M=e(96671),L=e(12606),p=e(85566);class a{constructor(C,A,d){this._scrolledIndexChange=new M.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,L.x)()),this._viewport=null,this._itemOffsets=C,this._minBufferPx=A,this._maxBufferPx=d}attach(C){this._viewport=C,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(C,A,d){if(d<A)throw Error("CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx");this._itemOffsets=C,this._minBufferPx=A,this._maxBufferPx=d,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(C,A){this._viewport&&this._itemOffsets&&this._itemOffsets.length>=C&&C>=0&&this._viewport.scrollToOffset(this._itemOffsets[C],A)}_updateTotalContentSize(){!this._viewport||!this._itemOffsets||0===this._itemOffsets.length||this._viewport.setTotalContentSize(this._itemOffsets[this._itemOffsets.length-1])}getIndexFromPosition(C){return Math.max(0,(0,p.sortedIndex)(this._itemOffsets,C)-1)}_updateRenderedRange(){if(!this._viewport||!this._itemOffsets||0===this._itemOffsets.length)return;const C=this._viewport.measureScrollOffset(),A=this.getIndexFromPosition(C),d=this._viewport.getRenderedRange(),m={start:d.start,end:d.end},S=this._viewport.getViewportSize(),s=this._viewport.getDataLength();m.start>this._itemOffsets.length&&(m.start=0,m.end=this._itemOffsets.length-1);const r=C-this._itemOffsets[m.start];if(r<this._minBufferPx&&0!==m.start){const l=this.getIndexFromPosition(this._maxBufferPx-r);m.start=Math.max(0,m.start-l),m.end=Math.min(s,Math.ceil(this.getIndexFromPosition(C+S+this._minBufferPx)))}else{const l=this._itemOffsets[m.end]-(C+S);if(l<this._minBufferPx&&m.end!==s){const i=this.getIndexFromPosition(this._maxBufferPx-l);i>0&&(m.end=Math.min(s,m.end+i),m.start=Math.max(0,Math.floor(this.getIndexFromPosition(this._itemOffsets[A]-this._minBufferPx))))}}this._viewport.setRenderedRange(m),this._viewport.setRenderedContentOffset(this._itemOffsets[m.start]),this._scrolledIndexChange.next(Math.floor(A))}}function o(y){return y._scrollStrategy}let v=(()=>{class y{constructor(){this._itemOffsets=[0],this._minBufferPx=200,this._maxBufferPx=300,this._scrollStrategy=new a(this.itemOffsets,this.minBufferPx,this.maxBufferPx)}get itemOffsets(){return this._itemOffsets}set itemOffsets(A){this._itemOffsets=A}get minBufferPx(){return this._minBufferPx}set minBufferPx(A){this._minBufferPx=(0,t.su)(A)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(A){this._maxBufferPx=(0,t.su)(A)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemOffsets,this.minBufferPx,this.maxBufferPx)}}return y.\u0275fac=function(A){return new(A||y)},y.\u0275dir=n.lG2({type:y,selectors:[["cdk-virtual-scroll-viewport","itemOffsets",""]],inputs:{itemOffsets:"itemOffsets",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[n._Bn([{provide:x.yU,useFactory:o,deps:[(0,n.Gpc)(()=>y)]}]),n.TTD]}),y})()},81273:(Ge,ae,e)=>{"use strict";e.d(ae,{_:()=>x});var t=e(39609),n=e(80155);let x=(()=>{class M{constructor(p){this.networkStatusCheckService=p}get onlineStatusChanged(){return this.networkStatusCheckService.onlineStatusChanged()}get isOnline(){return this.networkStatusCheckService.isOnline()}}return M.\u0275fac=function(p){return new(p||M)(t.LFG(n.kE))},M.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},63913:(Ge,ae,e)=>{"use strict";e.d(ae,{$:()=>M});var t=e(80155),n=e(39609),x=e(715);let M=(()=>{class L{constructor(P){this.translate=P}translateText(P,a){return this.translate.instant(P,a)}transform(P){try{const a=Math.round(P);if(!P||!a||P<0)return this.translateText("main.byte",{value:0});const o=1;if(1===P||1===a)return this.translateText("main.byte",{value:P});if(isNaN(parseFloat(P.toString(10)))||!isFinite(P))return"-";const v=["main.bytes","main.kb","main.mb","main.gb","main.tb"],y=Math.floor(Math.log(P)/Math.log(1024));return this.translateText(v[y],{value:(P/Math.pow(1024,Math.floor(y))).toFixed(o)})}catch(a){throw(0,t.c1)(L,a.message)}}}return L.\u0275fac=function(P){return new(P||L)(n.Y36(x.sK,16))},L.\u0275pipe=n.Yjl({name:"convertBytesToKBMBGB",type:L,pure:!0}),L})()},5432:(Ge,ae,e)=>{"use strict";e.d(ae,{WD:()=>p,Yt:()=>a,_x:()=>M});var t=e(80155),n=e(39609),x=e(715);let M=(()=>{class o{constructor(y){this.translate=y}translateText(y,C){return this.translate.instant(y,C)}transform(y,C){if(!y)return"";try{const A=parseInt(y,10),d=Math.floor(A/3600),m=Math.floor((A-3600*d)/60),S=A-3600*d-60*m;let s="";if(d){const r=this.translateText(1===d?"main.hr":C&&d>=2?"main.aboutHrs":"main.hrs",{value:d});s=C&&d>=2?r:r+" "}return!m||C&&d>=2||(s=s+this.translateText(1===m?"main.min":"main.mins",{value:m})+" "),!S||C&&d||(s+=this.translateText(1===S?"main.sec":"main.secs",{value:S})),s}catch(A){throw(0,t.c1)(o,A.message)}}}return o.\u0275fac=function(y){return new(y||o)(n.Y36(x.sK,16))},o.\u0275pipe=n.Yjl({name:"convertSecondsToTime",type:o,pure:!0}),o})(),p=(()=>{class o{transform(y,C=""){return function L(o,v=""){const y=parseFloat(o);let C=parseInt(o,10),A=Math.floor(C/3600);C%=3600;let d=Math.floor(C/60);C%=60,A<10&&(A=`0${A}`),d<10&&(d=`0${d}`),C<10&&(C=`0${C}`);let m="";return v.includes("fractional")&&(m=Math.round(y%1*1e3),m<10?m=`00${m}`:m<100&&(m=`0${m}`),m=`.${m}`),`${A}:${d}:${C}${m}`}(y,C)}}return o.\u0275fac=function(y){return new(y||o)},o.\u0275pipe=n.Yjl({name:"time",type:o,pure:!0}),o})(),a=(()=>{class o{transform(y){return function P(o){const v=o.toString().split(":");let y=0,C=0,A=0;return v.length>2?(y=parseFloat(v[0]),C=parseFloat(v[1]),A=parseFloat(v[2])):v.length>1?(C=parseFloat(v[0]),A=parseFloat(v[1])):A=parseFloat(v[0]),3600*y+60*C+A}(y)}}return o.\u0275fac=function(y){return new(y||o)},o.\u0275pipe=n.Yjl({name:"seconds",type:o,pure:!0}),o})()},88902:(Ge,ae,e)=>{"use strict";e.d(ae,{W:()=>M});var t=e(80155),n=e(39609),x=e(3878);let M=(()=>{class L{constructor(P){this.sanitizer=P}transform(P,a){try{return"url"===a?this.sanitizer.bypassSecurityTrustResourceUrl(P):this.sanitizer.bypassSecurityTrustHtml(P)}catch(o){throw(0,t.c1)(L,o.message)}}}return L.\u0275fac=function(P){return new(P||L)(n.Y36(x.H7,16))},L.\u0275pipe=n.Yjl({name:"trustAsHtml",type:L,pure:!0}),L})()},30750:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>n});var t=e(80155);class n{constructor(){}static isBrowserPlatform(){return!("cefQuery"in window)&&!n.isAndroidPlatform()}static isCefPlatform(){return"cefQuery"in window}static isAndroidPlatform(){return typeof window.Android<"u"&&"function"==typeof window.Android.isAndroid&&window.Android.isAndroid()}static isBrowserLikePlatform(){return n.isBrowserPlatform()||n.isAndroidPlatform()}static isNativeLikePlatform(){return n.isCefPlatform()||n.isAndroidPlatform()}static isPWAModeOnLGTV(){return/(NetCast|Web0S|Linux\/SmartTV).+PWA/.test(navigator.userAgent)}static isPWAModeOnSamsungTV(){return(0,t.fO)()&&!navigator.userAgent.includes("SamsungBrowser")}static isArmPlatform(){return window.navigator.userAgent.toLowerCase().includes(" arm")}static isTouchPlatform(){return!!window.Touch&&navigator.maxTouchPoints>0}static isMobileFromUserAgent(){return navigator.userAgent.toLowerCase().includes("mobile")}}},22101:(Ge,ae,e)=>{"use strict";e.d(ae,{Aq:()=>M,Px:()=>L,wi:()=>x,z7:()=>n});var n=(()=>{return(p=n||(n={})).Desktop="Desktop",p.Laptop="Laptop",p.TV="TV",p.Phone="Phone",p.Tablet="Tablet",p.Server="Server",p.Console="Console",p.Undefined="undefined",n;var p})(),x=(()=>{return(p=x||(x={})).Windows="Windows",p.MacOS="MacOS",p.Shield="Shield",p.Android="Android",p.IOS="iOS",p.IPadOS="iPadOS",p.ChromeOS="ChromeOS",p.Linux="Linux",p.Tizen="Tizen",p.WebOS="WebOS",p.TvOS="tvOS",p.XBox="Xbox",p.SteamOS="SteamOS",p.Undefined="undefined",x;var p})(),M=(()=>{return(p=M||(M={})).CHROME="Chrome",p.SAFARI="Safari",p.YANDEX="Yandex",p.EDGE="Edge",p.EDGE_LEGACY="Edge_legacy",p.FIREFOX="Firefox",p.SAMSUNG="Samsung",p.CHROMIUM="Chromium",p.OPERA="Opera",p.BRAVE="Brave",p.SILK="Silk",p.Undefined="undefined",M;var p})();const L="undefined"},62251:(Ge,ae,e)=>{"use strict";e.d(ae,{Px:()=>P,Tv:()=>a,Ty:()=>p,iU:()=>o,nM:()=>L,sN:()=>M});var t=e(22101),n=e(14527);const M={clientId:"{CLIENTID}",clientVer:"{CLIENTVER}",feedbackId:"{FEEDBACKID}",feedbackName:"{FEEDBACKNAME}",feedbackProtocol:"4.4",feedbackSchemaVer:"{FEEDBACKSCHEMAVER}",feedbackSysVer:"",deviceId:n.kQ,userId:n.kQ,externalUserId:n.kQ,idpId:n.kQ,sessionId:n.kQ,sentTs:"",clientTs:"",deviceOS:t.wi.Undefined,deviceOSVersion:n.kQ,deviceMake:n.kQ,deviceModel:n.kQ,deviceType:t.z7.Undefined,clientType:n.Bh.Undefined,clientVariant:n.ns.Undefined,browserType:n.kQ,integrationId:n.kQ,productName:n.kQ,productVersion:n.kQ},L={functional:n.p6.None,technical:n.p6.None,behavioral:n.p6.None},p={bufferSize:5120,chunkCreationTimeout:3e5,chunksQueueSize:20,chunkResendRetryLimit:2},P="undefined";var a=(()=>{return(v=a||(a={}))[v.FeedbackRequestAccepted=200]="FeedbackRequestAccepted",v[v.FeedbackSizeOverLimits=413]="FeedbackSizeOverLimits",v[v.InvalidFeedback=460]="InvalidFeedback",v[v.FeedbackIdInUse=461]="FeedbackIdInUse",v[v.FeedbackIdExpired=462]="FeedbackIdExpired",v[v.AttachmentsRejected=466]="AttachmentsRejected",v[v.UnknownClientId=467]="UnknownClientId",v[v.ServerError=500]="ServerError",a;var v})(),o=(()=>{return(v=o||(o={}))[v.AllFramesReceived=200]="AllFramesReceived",v[v.PartialFramesReceived=206]="PartialFramesReceived",v[v.InvalidFeedbackId=462]="InvalidFeedbackId",v[v.NonSequentialChunk=463]="NonSequentialChunk",v[v.FrameChecksumOrSizeMismatch=464]="FrameChecksumOrSizeMismatch",v[v.ServerError=500]="ServerError",o;var v})()},14527:(Ge,ae,e)=>{"use strict";e.d(ae,{Bh:()=>n,kQ:()=>t,ns:()=>x,p6:()=>M});const t="undefined";var n=(()=>{return(L=n||(n={})).Native="Native",L.Browser="Browser",L.GFNSDK="GFNSDK",L.Undefined="undefined",n;var L})(),x=(()=>{return(L=x||(x={})).iBeta="iBeta",L.Release="Release",L.Undefined="undefined",x;var L})(),M=(()=>{return(L=M||(M={})).Full="Full",L.None="None",L.Temp="Temp",M;var L})()},34399:(Ge,ae,e)=>{"use strict";e.d(ae,{p:()=>C});var t=e(96671),n=e(85566),M=e(80155),L=e(64259),p=e(62251),P=e(39609),a=e(52954),o=e(81273),v=e(224);const y="RemoteLogsSaveKey";let C=(()=>{class A{constructor(m,S,s,r){this.datePipe=m,this.networkStatusService=S,this.injector=s,this.browserLeanModeService=r,this.logsBuffer="",this.chunksQueue=[],this.maxBufferSizeInBytes=p.Ty.bufferSize,this.chunkCreationTimeout=p.Ty.chunkCreationTimeout,this.logsChunkUpdated$=new t.xQ,this.chunksQueueSize=p.Ty.chunksQueueSize,this.chunkResendRetryLimit=p.Ty.chunkResendRetryLimit,this.logBufferingAllowed=!0,this.leanModeLogger=!1,this.isGfcHeadRequestSent=!1,this.timerSub$=new t.xQ,this.isTimerTriggered=!1,this.refreshFeedbackSessionSubject=new t.xQ,this.timeBasedLogClearanceCounter=0,this.feedbackSessionClosed=!1,this.newLine="\n",this.chunkSendInProgress=!1}initialize(){this.chunkResendRetryMap=new Map,this.addLogger("LogQueueService",["initialize"]),this.networkStatusService.onlineStatusChanged.subscribe(this.onNetworkStatusChanged.bind(this)),this.browserLeanModeService.leanModeTransitionState.subscribe(m=>{this.leanModeLogger=m,m&&this.stopTimeBasedLogCollection()})}addLogger(m,S){const s=(0,M.gF)(m,"INFO",this.datePipe,S);this.appendLogEntry(s)}setHeadRequestStatus(m){this.isGfcHeadRequestSent=m}checkFeasibilityAndSendChunk(m,S=!1,s){!this.isUserConsentAvailable||!this.isGfcHeadRequestSent||S||this.chunkSendInProgress||(0,n.isEmpty)(m)?this.isUserConsentAvailable&&S&&this.logsChunkUpdated$.next({logString:this.sendChunkToServer(m),isLastChunk:S,params:s}):this.logsChunkUpdated$.next({logString:this.sendChunkToServer(m),isLastChunk:!1})}startTimeBasedLogDispatch(){if(this.addLogger("LogQueueService",["Interval of 10 mins elapsed: current buffer length: ",this.logsBuffer.length]),this.addLogger("LogQueueService",["Chunk send in progress: ",this.chunkSendInProgress]),!1===this.chunkSendInProgress){this.refreshFeedbackSessionSubject.next(++this.timeBasedLogClearanceCounter),this.addLogger("LogQueueService",["Clearing chunk on timeout... "]);const m=this.extractAndSaveChunk();this.checkFeasibilityAndSendChunk(m)}}stopTimeBasedLogCollection(m=""){this.isTimerTriggered=!1,this.timerSub$.next({startTimer:!1,timeout:0}),this.addLogger("LogQueueService",["Stopping log collection timer. "+m])}isBufferSizeWithinLimits(m,S){return!(m.concat(S,this.newLine).length>this.maxBufferSizeInBytes)}sendChunkToServer(m){return this.chunkSendInProgress=!0,m||""}addChunksToQueue(m){this.chunksQueue.length===this.chunksQueueSize&&this.chunksQueue.splice(0,this.chunksQueue.length),this.chunksQueue.push(m),this.chunkResendRetryMap.set(this.chunksQueue[this.chunksQueue.length-1],0)}extractAndSaveChunk(){const m=this.logsBuffer.slice(0);return this.addChunksToQueue(m),this.logsBuffer="",this.popChunkFromQueue()}pushLogToBuffer(m){this.logsBuffer=this.logsBuffer.concat(m,this.newLine)}startTimer(){this.leanModeLogger||(this.timerSub$.next({startTimer:!0,timeout:this.chunkCreationTimeout}),this.isTimerTriggered=!0)}popChunkFromQueue(){const m=this.chunkResendRetryMap.get(this.chunksQueue[0]);return this.isUserConsentAvailable&&this.isGfcHeadRequestSent&&m<=this.chunkResendRetryLimit?(this.chunkResendRetryMap.set(this.chunksQueue[0],m+1),this.chunksQueue.slice(0,1).toString()):(this.isUserConsentAvailable&&this.isGfcHeadRequestSent&&m>this.chunkResendRetryLimit&&this.removeChunkFromSavedQueue(),"")}saveLogsToSessionStorage(){this.addChunksToQueue(this.logsBuffer);const m=JSON.stringify(this.chunksQueue);sessionStorage.setItem(y,m)}readConsoleLogsFromSessionStorage(){const m=JSON.parse(sessionStorage.getItem(y));sessionStorage.removeItem(y),this.appendPreviousLogs(m)}appendPreviousLogs(m){this.chunkResendRetryMap&&this.chunkResendRetryMap.clear(),m=m.concat(this.chunksQueue),this.chunksQueue=m.length>this.chunksQueueSize?m.slice(-this.chunksQueueSize):m;for(let S=0;S<this.chunksQueue.length;S++)this.chunkResendRetryMap.set(this.chunksQueue[S],0)}removeChunkFromSavedQueue(){this.chunkResendRetryMap.delete(this.chunksQueue[0]),this.chunksQueue.splice(0,1)}onNetworkStatusChanged(m){m?this.addLogger("LogQueueService",["LogCollector lib is online right now"]):(this.addLogger("LogQueueService",["LogCollector lib is offline right now"]),this.stopTimeBasedLogCollection())}updateFeedbackSessionStatus(m){this.feedbackSessionClosed=m}getRefreshFeedbackSubjectObservable(){return this.refreshFeedbackSessionSubject.asObservable()}onLogsChunkUpdated(){return this.logsChunkUpdated$.asObservable()}clearQueueAndBuffer(m){const S=this.chunkSendInProgress;this.chunkSendInProgress=!0,this.gfcService=(0,n.isUndefined)(this.gfcService)?this.injector.get(L.H0):this.gfcService;let s="";this.chunksQueue.forEach(r=>{s=s.concat(r,this.newLine)}),s=s.concat(this.logsBuffer,this.newLine),this.logBufferingAllowed&&this.isUserConsentAvailable&&(m?(s=s.concat("sendBeacon api is going to be called."),this.gfcService.sendLastFeedbackChunkEvent(s,this.eventData)):(s=s.concat("eob request will be sent for the last chunk."),this.checkFeasibilityAndSendChunk(s,!0,{isBrowserClosing:m,prevChunkInProgress:S}))),this.logsBuffer="",this.chunksQueue=[],this.chunkSendInProgress=!1,this.eventData=null}appendLogEntry(m){if(this.logBufferingAllowed)if(this.isBufferSizeWithinLimits(this.logsBuffer,m))this.pushLogToBuffer(m);else if(this.feedbackSessionClosed)this.feedbackSessionClosed=!1,this.timeBasedLogClearanceCounter=0,this.refreshFeedbackSessionSubject.next(this.timeBasedLogClearanceCounter),this.pushLogToBuffer(m);else{this.timeBasedLogClearanceCounter=0,this.isTimerTriggered&&this.stopTimeBasedLogCollection("due to buffer limit.");const S=this.extractAndSaveChunk();this.pushLogToBuffer(m),this.checkFeasibilityAndSendChunk(S)}}onSendChunkSuccess(){this.chunkSendInProgress=!1,this.removeChunkFromSavedQueue(),0!==this.chunksQueue.length?this.checkFeasibilityAndSendChunk(this.popChunkFromQueue()):this.startTimer()}onSendChunkFailure(m){switch(this.chunkSendInProgress=!1,m.status){case p.iU.NonSequentialChunk:case p.iU.FrameChecksumOrSizeMismatch:case p.iU.ServerError:this.checkFeasibilityAndSendChunk(this.popChunkFromQueue());break;default:console.log("Error encountered in sending chunks: ",m),m.status!==p.iU.InvalidFeedbackId&&this.checkFeasibilityAndSendChunk(this.popChunkFromQueue())}}stopChunkCollection(m=!1){this.logBufferingAllowed=m,this.stopTimeBasedLogCollection("Going to stop chunk collection. logBufferingAllowed: "+this.logBufferingAllowed+"."),this.clearQueueAndBuffer(!1)}setBufferConfig(m){this.chunkCreationTimeout=m.msBetweenChunkCreation,this.maxBufferSizeInBytes=m.maxBufferSizeInBytes,this.chunksQueueSize=m.chunksQueueSize,this.chunkResendRetryLimit=m.chunkResendRetryLimit}updateUserConsent(m){this.isUserConsentAvailable=m}updateEventData(m){this.eventData=Object.assign({},m)}timerSubscriptionChanged(){return this.timerSub$.asObservable()}updateTimer(m){"Timeout"===m?this.startTimeBasedLogDispatch():"Cleared"===m&&this.addLogger("LogQueueService",["Log collection timer has been stopped"])}ngOnDestroy(){this.logsBuffer=""}}return A.\u0275fac=function(m){return new(m||A)(P.LFG(a.uU),P.LFG(o._),P.LFG(P.zs3),P.LFG(v.r))},A.\u0275prov=P.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},80891:(Ge,ae,e)=>{"use strict";e.d(ae,{V:()=>r});var t=e(85566),x=e(59562),M=e(23815),L=e(89258),p=e(33932),P=e(51325),a=e(78747),o=e(64259),v=e(80155),y=e(62251),C=e(14527),A=e(39609),d=e(34399),m=e(81273);let r=(()=>{class l{constructor(O,Y,T){this.injector=O,this.logQueueService=Y,this.networkStatusService=T,this.defaultConsent=y.nM,this.currentUserConsent=y.nM,this.isUserConsentAvailable=!1,this.currentUserId=y.Px,this.externalUserId=y.Px,this.idpId=y.Px,this.commonFeedbackData=y.sN,this.isGfcHeadRequestSent=!1,this.isOnline=!1,this.chunkFailureCount=0,this.attachmentUploadedPermitted=!0,this.streamSubSessionIds=[],this.feedbackIdSubject=new x.t(1)}initialize(){this.logQueueService.initialize(),this.logQueueService.addLogger("RemoteLoggingService",["initialize"]),this.networkStatusService.onlineStatusChanged.subscribe(this.onNetworkStatusChanged.bind(this)),this.handleBrowserTabClosure(),this.getLatestLogsChunk(),this.trackIdleFeedbackSessions()}set defaultConsentLevel(O){this.defaultConsent=O}saveLogsToSessionStorage(){this.logQueueService.saveLogsToSessionStorage()}restoreSavedLogs(){return this.logQueueService.readConsoleLogsFromSessionStorage()}stopFeedbackUpload(){var O,Y;if(this.isChunkUploadPermitted()){this.logQueueService.addLogger("RemoteLoggingService",["Close current feedback session."]),this.logQueueService.stopChunkCollection(!0),this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.logQueueService.updateFeedbackSessionStatus(!0),this.streamSubSessionIds.splice(0,this.streamSubSessionIds.length);const T={parameters:{streamSessionId:y.Px,streamSubSessionIds:this.streamSubSessionIds}};this.eventData=null!==(O=this.eventData)&&void 0!==O?O:{},this.eventData.parameters=Object.assign(Object.assign({},null===(Y=this.eventData)||void 0===Y?void 0:Y.parameters),T.parameters),this.commonFeedbackData=Object.assign(Object.assign({},this.commonFeedbackData),this.eventData),this.logQueueService.updateEventData(this.eventData)}}trackIdleFeedbackSessions(){this.logQueueService.getRefreshFeedbackSubjectObservable().pipe((0,L.U)(O=>{3===O?(this.logQueueService.addLogger("RemoteLoggingService",["Stopping feedback upload since max idle timeout duration is reached"]),this.stopFeedbackUpload()):0===O&&(this.logQueueService.addLogger("RemoteLoggingService",["Initiating a new feedback session.."]),this.sendNewGfcHeadRequest())})).subscribe()}onNetworkStatusChanged(O){this.isOnline=O}addGdprConsentFields(){var O;const Y={gdprFuncOptIn:null!==(O=this.currentUserConsent.functional)&&void 0!==O?O:this.defaultConsent.functional,gdprTechOptIn:this.currentUserConsent.technical,gdprBehOptIn:this.currentUserConsent.behavioral,deviceGdprFuncOptIn:this.defaultConsent.functional,deviceGdprTechOptIn:this.defaultConsent.technical,deviceGdprBehOptIn:this.defaultConsent.behavioral};this.commonFeedbackData=(0,t.extend)(Y,this.commonFeedbackData)}isChunkUploadPermitted(){return!!this.attachmentUploadedPermitted&&this.chunkFailureCount<=2}getLatestLogsChunk(){this.logChunkReceivedSubscription=this.logQueueService.onLogsChunkUpdated().pipe((0,p.zg)(O=>(this.logQueueService.addLogger("RemoteLoggingService",["New batch! Attempting to send a batch of size: ",O.logString.length]),this.isChunkUploadPermitted()?this.isOnline&&this.isUserConsentAvailable?this.sendLogsChunk(O.logString,O.isLastChunk,O.params):(this.logQueueService.chunkSendInProgress=!1,this.logQueueService.addLogger("RemoteLoggingService",["Unable to send batch of logs due to lack of user consent and/or user is offline. isUserConsentAvailable: ",this.isUserConsentAvailable,", isOnline: ",this.isOnline]),(0,M.of)(!1)):(this.logQueueService.addLogger("RemoteLoggingService",["Stopping log collection as max failure count is reached."]),this.logQueueService.stopChunkCollection(),(0,M.of)(!1))))).subscribe(O=>{O||this.logQueueService.addLogger("RemoteLoggingService",["Chunk send failure."])})}terminateChunkReceivedSubscription(){this.logChunkReceivedSubscription&&(this.logChunkReceivedSubscription.unsubscribe(),this.logChunkReceivedSubscription=null)}sendNewGfcHeadRequest(){this.terminateChunkReceivedSubscription(),this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.commonFeedbackData.feedbackId=(0,v.Rl)(),this.feedbackIdSubject.next(this.commonFeedbackData.feedbackId),this.commonFeedbackData.clientTs=(new Date).toISOString(),this.logQueueService.addLogger("RemoteLoggingService",["New GFC feedback session created: ",this.commonFeedbackData.feedbackId]),console.log("New GFC feedback session created: ",this.commonFeedbackData.feedbackId),this.sendGfcHeadRequest(this.commonFeedbackData)}handleHeadRequestErrors(O){switch(O.status){case y.Tv.FeedbackIdInUse:case y.Tv.FeedbackIdExpired:this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!1),this.sendNewGfcHeadRequest();break;case y.Tv.AttachmentsRejected:this.attachmentUploadedPermitted=!1,this.logQueueService.stopChunkCollection()}}sendGfcHeadRequest(O){this.gfcService=(0,t.isUndefined)(this.gfcService)?this.injector.get(o.H0):this.gfcService,this.isOnline&&this.isUserConsentAvailable&&(O.sentTs=(new Date).toISOString(),this.gfcService.sendFeedbackEvent(O).subscribe(Y=>{this.logQueueService.setHeadRequestStatus(this.isGfcHeadRequestSent=!0),(0,t.isNil)(this.logChunkReceivedSubscription)&&this.getLatestLogsChunk()},Y=>{this.logQueueService.addLogger("RemoteLoggingService",["Send HEAD request error: ",Y]),this.handleHeadRequestErrors(Y)}))}handleExternalUrlLoad(){this.logQueueService.clearQueueAndBuffer(!0)}handleBrowserTabClosure(){window.addEventListener("pagehide",O=>{this.logQueueService.addLogger("RemoteLoggingService",["Window pagehide triggered."]),this.isGfcHeadRequestSent&&this.logQueueService.clearQueueAndBuffer(!0)})}handleSpecialAttachmentErrors(O){var Y,T;if(this.isChunkUploadPermitted()&&O.status===y.iU.InvalidFeedbackId)this.sendNewGfcHeadRequest();else if(this.isChunkUploadPermitted()&&O.status===y.iU.NonSequentialChunk){const B=null===(T=null===(Y=null==O?void 0:O.rawResponse)||void 0===Y?void 0:Y.headers)||void 0===T?void 0:T.get("x-data-offset");this.gfcService.updateOffsetOnSuccessfulAttachmentRequest(B)}else this.isChunkUploadPermitted()||(this.logQueueService.addLogger("RemoteLoggingService",["Attachment error, stopping log collection as max failure count is reached."]),this.logQueueService.stopChunkCollection())}sendLogsChunk(O,Y,T){return this.gfcService.sendFeedbackChunkEvent(O,this.eventData,Y,T).pipe((0,p.zg)(B=>(this.gfcService.updateOffsetOnSuccessfulAttachmentRequest(),this.logQueueService.onSendChunkSuccess(),(0,M.of)(!0))),(0,P.K)(B=>(this.logQueueService.addLogger("RemoteLoggingService",["Failure in sending a chunk: ",B]),null!=B&&B.status?(this.chunkFailureCount++,this.handleSpecialAttachmentErrors(B),this.logQueueService.onSendChunkFailure(B)):this.logQueueService.addLogger("RemoteLoggingService",["Non GFC error occurred: ",B,null==B?void 0:B.message]),(0,M.of)(!1))),(0,a.x)(()=>{Y&&null!=T&&T.isBrowserClosing&&this.terminateChunkReceivedSubscription()}))}prepareGfcFeedbackEventParams(O){this.eventData={parameters:O},this.logQueueService.updateEventData(this.eventData)}prepareFeedbackCommonEventData(O){this.commonFeedbackData=(0,t.merge)(this.commonFeedbackData,O),this.feedbackIdSubject.next(this.commonFeedbackData.feedbackId),this.commonFeedbackData.userId===y.Px&&this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!1)}setUserConsent(O){this.currentUserConsent=O.userConsent,(0,t.isEmpty)(O.externalUserId)?(this.externalUserId=O.userId,this.currentUserId=o.kQ,this.idpId=o.kQ):(this.currentUserId=O.userId,this.externalUserId=O.externalUserId,this.idpId=O.idpId),this.currentUserConsent.technical===C.p6.Full?(this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!0),this.addGdprConsentFields(),this.commonFeedbackData.userId=this.currentUserId,this.commonFeedbackData.externalUserId=this.externalUserId,this.commonFeedbackData.idpId=this.idpId,this.commonFeedbackData.clientTs=(new Date).toISOString(),this.commonFeedbackData=(0,t.extend)(this.commonFeedbackData,this.eventData)):this.logQueueService.updateUserConsent(this.isUserConsentAvailable=!1),this.isGfcHeadRequestSent||this.sendGfcHeadRequest(this.commonFeedbackData)}collectLogString(O){this.logQueueService.appendLogEntry(O)}setBufferConfiguration(O){this.logQueueService.setBufferConfig(O)}updateEventDataParamIds(O){O.streamSessionId?(0!==this.streamSubSessionIds.filter(Y=>""===Y).length&&this.streamSubSessionIds.splice(0,1),this.streamSubSessionIds.push(O.streamSubSessionId),this.eventData=(0,t.merge)(this.eventData,{parameters:{streamSessionId:O.streamSessionId,streamSubSessionIds:this.streamSubSessionIds}})):O.surveySessionId&&(this.eventData=(0,t.merge)(this.eventData,{parameters:{surveySessionId:O.surveySessionId}})),this.logQueueService.updateEventData(this.eventData)}get feedbackId$(){return this.feedbackIdSubject.asObservable()}ngOnDestroy(){this.terminateChunkReceivedSubscription()}}return l.\u0275fac=function(O){return new(O||l)(A.LFG(A.zs3),A.LFG(d.p),A.LFG(m._))},l.\u0275prov=A.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},89558:(Ge,ae,e)=>{"use strict";e.d(ae,{A:()=>x,L:()=>n});var t=e(39609),n=(()=>{return(M=n||(n={})).Gfe="gfeclient",M.Gfn="gfnclient",M.Igo="shareclient",M.Forager="foragerclient",M.Nvcpl="controlPanelclient",M.Oogg="ooggclient",M.Vdkplaytest="vdkplaytest",M.Nvapp="nvapp",M.Gdn="gdnclient",n;var M})();let x=(()=>{class M{}return M.\u0275fac=function(p){return new(p||M)},M.\u0275prov=t.Yz7({token:M,factory:M.\u0275fac}),M})()},64710:(Ge,ae,e)=>{"use strict";e.d(ae,{RW:()=>t.RW,nr:()=>t.nr,q9:()=>t.q9,L6:()=>et.L,P:()=>bt,m1:()=>t.m1,gN:()=>jt,dF:()=>t.dF,rn:()=>tn.r,nM:()=>t.nM,U5:()=>t.U5,Aq:()=>Z.Aq,Bh:()=>sn.Bh,ns:()=>sn.ns,n2:()=>Dn,z7:()=>Z.z7,p6:()=>sn.p6,it:()=>Nt.i,qR:()=>De,LA:()=>un,c1:()=>ke,MC:()=>Et,wi:()=>Z.wi,bi:()=>Fe,Il:()=>ut,ty:()=>dt,d_:()=>Bt,k0:()=>St,CQ:()=>Mt,Du:()=>Qt,zl:()=>ln,FP:()=>K,_V:()=>pe,b$:()=>N.b,OL:()=>H,p3:()=>cn.p,Yd:()=>r.Yd,GJ:()=>$e.G,ed:()=>r.ed,Eo:()=>at,wO:()=>Ne,o1:()=>Vt,Nx:()=>yt,_J:()=>Pe._,VV:()=>Te,eJ:()=>z,xv:()=>ye,ng:()=>M.n,V$:()=>ne.V,IW:()=>Oe,OA:()=>L,ol:()=>de,dD:()=>Tn,Ng:()=>zn,Ob:()=>W,sp:()=>Li,Px:()=>Z.Px,kQ:()=>sn.kQ,un:()=>Xe,Yq:()=>U,zv:()=>ee,L2:()=>E});var t=e(60165),n=e(715),x=e(59562),M=e(30750);class L{static sendTelemetry(Ie){L.retrySubject.subscribe({next:se=>{Ie.info(se.isSuccess?"success event ":"failure event ",Date.now(),se)}})}static retry(Ie,se,We=L.retryAttempts,rt=L.intervalBetweenRetries){let mt;return new Promise((It,on)=>{Ie().then(function(Cn){return M.n.isBrowserPlatform()&&(mt={isSuccess:!0,attemptCount:L.retryAttempts+1-We,error:null,fileName:se},L.retrySubject.next(mt)),It(Cn)}).catch(Cn=>{if(M.n.isBrowserPlatform()){if(mt={isSuccess:!1,attemptCount:L.retryAttempts+1-We,error:Cn,fileName:se},L.retrySubject.next(mt),1===We)return void on(Cn);setTimeout(()=>{L.retry(Ie,se,We-1,L.intervalBetweenRetries*(L.retryAttempts+1-We)).then(It,on)},rt)}else on(Cn)})})}}L.retrySubject=new x.t(5),L.retryAttempts=5,L.intervalBetweenRetries=50;var p=e(23815),P=e(18388),a=e(85566),o=e(89258),v=e(51325),y=e(33932),C=e(71265),A=e(73553),d=e(13800),m=e(2502),S=e(4042),s=e(12606),r=e(80042);class l{constructor(Ie,se,We,rt="assets/i18n/",mt=".json"){this.http=Ie,this.prefix=rt,this.suffix=mt,this.config={},this.logger=se.getLogger("FallbackTranslationLoader"),this.config.localeFileHashes=We}getTranslation(Ie){let se;return se=this.config.localeFileHashes&&this.config.localeFileHashes[Ie]?`${this.prefix}${Ie}.${this.config.localeFileHashes[Ie]}${this.suffix}`:`${this.prefix}${Ie}${this.suffix}`,this.http.get(se)}}var i=e(52474);const O="en_GB",B=["ar"],K=new Map([["ar",["ar_SA","ar_EG"]],["bg",["bg_BG"]],["ca",["ca_ES"]],["cs",["cs_CZ"]],["da",["da_DK"]],["de",["de_DE","de_AT","de_CH"]],["el",["el_GR"]],["en",["en_GB"]],["en_MX",["en_US"]],["en_US",["en_GB"]],["es",["es_MX","es_US","es_ES"]],["es_ES",["es_MX","es_US"]],["fa",["fa_IR"]],["fi",["fi_FI"]],["fr",["fr_FR"]],["hr",["hr_HR"]],["hu",["hu_HU"]],["in",["in_ID"]],["id",["id_ID"]],["it",["it_IT"]],["iw",["iw_IL"]],["he",["he_IL"]],["ja",["ja_JP"]],["ka",["ka_GE"]],["ko",["ko_KR"]],["lt",["lt_LT"]],["lv",["lv_LV"]],["ms",["ms_MY"]],["nb",["nb_NO"]],["no",["nb_NO"]],["nl",["nl_NL"]],["pl",["pl_PL"]],["pt",["pt_BR","pt_PT"]],["pt_PT",["pt_BR"]],["ro",["ro_RO"]],["ru",["ru_RU"]],["sk",["sk_SK"]],["sl",["sl_SI"]],["sr",["sr_RS"]],["sv",["sv_SE"]],["th",["th_TH"]],["tl",["tl_PH"]],["tr",["tr_TR"]],["uk",["uk_UA"]],["vi",["vi_VN"]],["zh",["zh_CN"]],["zh_HK",["zh_TW","zh_CN"]],["zh_MO",["zh_TW","zh_CN"]],["zh_MY",["zh_CN"]],["zh_SG",["zh_CN"]],["zh_TW",["zh_HK","zh_CN"]],["zh-Latn_CN",["zh_CN"]]]);var b=e(53975),f=e(39609),D=e(50608),I=e(47504),w=e(39138),_=e(57693),$=e(58765),G=e(2629),F=e(21361),J=e(80155),z=(()=>{return(Be=z||(z={})).Windows="Windows",Be.Mac="Mac",z;var Be})(),Z=e(22101),ue=e(90866);let W=(()=>{class Be{constructor(se,We,rt){this.bridgeService=We,this.previousSystemInfo={},this.systemInfoGuid=(0,J.Rl)(),this.systemInfoGuidSubject=new x.t(1),this.logger=se.getLogger("crimson/SystemInfoService"),this.deviceIdStream=rt.createStream(()=>this.fetchDeviceId()),this.systemInfoStream=rt.createStream(()=>this.fetchSystemInfo(),!0,!0,!0,3e4),this.clientHeaderInfoStream=rt.createStream(()=>this.fetchClientHeadersInfo(),!0,!0,!0,3e4),this.osInfoStream=rt.createStream(()=>this.fetchOsInformation()),this.networkInfoStream=rt.createStream(()=>this.fetchNetworkInformation(),!1,!0,!0,3e4),this.uiLanguageStream=rt.createStream(()=>this.fetchUserDefaultUiLanguage()),this.deviceTypeStream=rt.createStream(()=>this.fetchDeviceType()),this.vendorNameStream=rt.createStream(()=>this.fetchVendorName()),this.systemNameStream=rt.createStream(()=>this.fetchSystemName()),this.productVersionStream=rt.createStream(()=>this.fetchProductVersion()),this.dxVersionStream=rt.createStream(()=>this.fetchDxVersion()),this.staticSystemInfo$=We.executeCommand(F.Gh.Common.Systeminfo.GetSystemInfo).pipe((0,_.d)(1))}checkStreamingSupport(){return this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetStreamingSupportInfo).pipe((0,o.U)(se=>se.IsStreamingSupported))}getStaticSystemInfo(){if(M.n.isCefPlatform())throw new Error("not supported");return this.staticSystemInfo$}fetchDeviceId(){return this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetDeviceId).pipe((0,o.U)(se=>se.DeviceID))}getSystemInfoGuid(){return this.systemInfoGuidSubject.asObservable()}updateSystemInfoGuid(se){(0,a.isEqual)(se,this.previousSystemInfo)||(this.systemInfoGuid=(0,J.Rl)(),this.previousSystemInfo=se),this.systemInfoGuidSubject.next(this.systemInfoGuid)}fetchClientHeadersInfo(){return M.n.isAndroidPlatform()?this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetSystemInfo):this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetClientHeadersInfo)}fetchSystemInfo(){const se=M.n.isCefPlatform()?this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetBrowserInfo):D.C.pipe((0,$.O)(!0)),We=this.getDeviceId(),rt=this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetSystemInfo);return(0,I.aj)([We,rt,se]).pipe((0,o.U)(mt=>{const It=mt[1];return It.DeviceId=mt[0],M.n.isCefPlatform()&&(It.BrowserName=mt[2].BrowserNameNative||Z.Px,It.BrowserVersion=mt[2].BrowserVersionNative||Z.Px),It}),(0,C.b)(mt=>this.updateSystemInfoGuid(mt)))}getSpecificSystemInfo(se){return this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetSystemInfo,{key:se})}getOsInformation(){return this.osInfoStream.get$().pipe((0,G.q)(1))}getSystemName(){return this.systemNameStream.get$().pipe((0,G.q)(1))}fetchSystemName(){return this.getSpecificSystemInfo("SystemName").pipe((0,o.U)(se=>se.SystemName))}getVendorName(){return this.vendorNameStream.get$().pipe((0,G.q)(1))}fetchVendorName(){return this.getSpecificSystemInfo("VendorName").pipe((0,o.U)(se=>se.VendorName))}fetchOsInformation(){return(0,w.$R)(this.getSpecificSystemInfo("Platform"),this.getSpecificSystemInfo("OSName")).pipe((0,o.U)(([se,We])=>({OSName:We.OSName,OSVersion:We.OSVersion,Platform:se.Platform})))}fetchDeviceType(){return this.getSpecificSystemInfo("DeviceType").pipe((0,o.U)(se=>se.DeviceType))}getNetworkInformation(){return this.networkInfoStream.get$().pipe((0,G.q)(1))}fetchNetworkInformation(){return this.getSpecificSystemInfo("Network").pipe((0,o.U)(se=>se.Network))}getDeviceId(){return this.deviceIdStream.get$().pipe((0,G.q)(1))}getDisks(){return this.getSpecificSystemInfo("Disk").pipe((0,o.U)(se=>se.Disk))}getPlatform(){return this.getSpecificSystemInfo("Platform").pipe((0,o.U)(se=>se.Platform))}getDisplays(){return this.getSpecificSystemInfo("Display").pipe((0,o.U)(se=>se.Display))}getHidInformation(){return this.getSpecificSystemInfo("HID").pipe((0,o.U)(se=>se.HID))}getSystemInfo(se=!1){return se?this.systemInfoStream.refresh().pipe((0,G.q)(1)):this.systemInfoStream.get$().pipe((0,G.q)(1))}getClientHeadersInfo(se=!1){return se?this.clientHeaderInfoStream.refresh().pipe((0,G.q)(1)):this.clientHeaderInfoStream.get$().pipe((0,G.q)(1))}getBrowserName(){return M.n.isCefPlatform()?this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.GetBrowserInfo).pipe((0,o.U)(se=>({BrowserName:se.BrowserNameNative||Z.Px}))):this.getSpecificSystemInfo("BrowserName")}getDeviceOSType(){return this.getOsInformation().pipe((0,o.U)(se=>M.n.isBrowserLikePlatform()?se.OSName:se.Platform===z.Mac?Z.wi.MacOS:se.Platform===z.Windows?Z.wi.Windows:Z.wi.Undefined))}getUserDefaultUILanguage(){return this.uiLanguageStream.get$().pipe((0,G.q)(1))}getDeviceType(){return this.deviceTypeStream.get$().pipe((0,G.q)(1))}fetchUserDefaultUiLanguage(){return this.getSpecificSystemInfo("UserDefaultUILanguage").pipe((0,o.U)(se=>se.UserDefaultUILanguage))}getProductVersion(se=!1){return se?this.productVersionStream.refresh().pipe((0,G.q)(1)):this.productVersionStream.get$().pipe((0,G.q)(1))}fetchProductVersion(){return this.getSpecificSystemInfo("ProductVersion").pipe((0,o.U)(se=>se.ProductVersion))}getDxVersion(){return this.dxVersionStream.get$().pipe((0,G.q)(1))}fetchDxVersion(){return this.getSpecificSystemInfo("DxVersion").pipe((0,o.U)(se=>se.DxVersion),(0,v.K)(se=>(this.logger.error("Error while getting DxVersion",se),(0,p.of)(""))))}}return Be.BrowserNameNative="Chrome",Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(ue.d),f.LFG(J.O_))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var N=e(71228);let H=(()=>{class Be{constructor(se,We,rt,mt,It){this.translate=We,this.systemInfoService=rt,this.config=It,this.rtlLocaleSupported=!1,this.rtlLayoutEnabled=!1,this.layoutDirectionUpdated$=new x.t(1),this.retrySubject=new x.t(5),this.isSuccessEventSent=!1,this.isDirectionalityInitialized=!1,this.logger=se.getLogger("LocaleService"),this.localeChangedSubscription=mt.createStream(this.updateLocale.bind(this)),this.translate.setDefaultLang("en_US")}updateLocale(){return this.systemInfoService.getUserDefaultUILanguage().pipe((0,o.U)(se=>(((0,a.isEmpty)(se)||this.isRTLLocale(se)&&!this.isRTLLocaleSupported)&&(this.logger.error(`Missing default UI language. Falling back to ${O} for default language.`),se=O),se)),(0,v.K)(()=>(this.logger.error(`Failed to get system info. Falling back to ${this.defaultLocale} for default language.`),(0,p.of)(O))),(0,y.zg)(se=>{let We=se;return(0,a.isNil)(this.config.supportedLang.find(rt=>rt===We))&&(We=this.getMappedLocale(We)),this.defaultLocale=We,this.updateCurrentLocale()}),(0,C.b)(se=>this.logger.info("Locale set to "+se)))}getLocaleDownloadRetryTelemetryData(){return this.retrySubject}retryOnFailure(se,We){let rt=1;return se.pipe((0,A.a)(mt=>mt.pipe((0,d.w)(It=>M.n.isBrowserPlatform()?(this.isSuccessEventSent=!1,this.retrySubject.next({isSuccess:!1,attemptCount:rt,error:null,fileName:We+".json"}),rt>=L.retryAttempts?(this.isSuccessEventSent=!0,this.logger.info("Locale JSON dowload retries expired."),(0,P._)(It)):(this.logger.info("Locale JSON dowload failed, trying again ",rt),rt+=1,(0,p.of)(It))):(this.logger.error("Not a Browser Client, so retry skipped",It),(0,P._)(It))),(0,m.g)(rt*L.intervalBetweenRetries))),(0,C.b)(()=>{b.locale(We),!this.isSuccessEventSent&&M.n.isBrowserPlatform()&&(this.retrySubject.next({isSuccess:!0,attemptCount:rt,error:null,fileName:We+".json"}),this.isSuccessEventSent=!0)}))}updateCurrentLocale(){const se=(0,a.isNil)(this.currentLocale)?this.defaultLocale:this.currentLocale;return this.retryOnFailure(this.translate.use(se),se).pipe((0,S.h)(se),(0,v.K)(We=>(this.logger.error("Locale Json download failed with error ",We),this.useMappedLocale(se))))}getMappedLocale(se){let We;if(!(0,a.isEmpty)(se)&&se.startsWith("zh_Hant")&&(We="zh_TW"),!(0,a.isEmpty)(se)&&K.get(se)){const rt=K.get(se);We=null==rt?void 0:rt.find(mt=>this.config.supportedLang.includes(mt))}if(!We&&se!==O&&!(0,a.isEmpty)(se)&&se.length>=2){const rt=K.get(se.substr(0,2));We=null==rt?void 0:rt.find(mt=>this.config.supportedLang.includes(mt))}return We=We||O,this.logger.info(`Mapped locale for ${se} is: ${We}`),We}useMappedLocale(se){const We=this.getMappedLocale(se);return this.isSuccessEventSent=!1,this.retryOnFailure(this.translate.use(We),We).pipe((0,S.h)(We),(0,v.K)(()=>We!==O?(this.logger.error(`Could not find translations for ${se}, falling back to ${O}`),this.useMappedLocale(O)):(0,P._)(`Could not load fallback locale ${O}. Translations cannot be loaded.`)))}updateUIDirectionality(){this.isRTLLayoutEnabled=this.isRTLLocale(this.getLocale()),(null==document?void 0:document.getElementsByTagName("html")[0]).dir=this.isRTLLayoutEnabled?"rtl":"ltr";const We=null==document?void 0:document.getElementsByTagName("body")[0];We.dir=this.isRTLLayoutEnabled?"rtl":"ltr",We.classList.add(this.isRTLLayoutEnabled?"isRtl":"isLtr"),this.isDirectionalityInitialized=!0}isDirectionalityChanged(){return!this.isRTLLayoutEnabled===this.isRTLLocale(this.getLocale())}useDefaultLocale(){return this.currentLocale=void 0,this.localeChangedSubscription.refresh()}setLocale(se){return(0,a.isNil)(this.config.supportedLang.find(We=>We===se))&&(se=this.getMappedLocale(se)),se===this.currentLocale?(0,p.of)(this.currentLocale):(this.currentLocale=se,this.localeChangedSubscription.refresh())}getLocale(){return this.currentLocale?this.currentLocale:this.defaultLocale}getShortLocale(){return this.getLocale()?this.getLocale().substr(0,2):"en"}get localeChanged(){return this.localeChangedSubscription.get$().pipe((0,s.x)(),(0,C.b)(()=>{(!this.isDirectionalityInitialized||this.isDirectionalityChanged())&&this.updateUIDirectionality()}))}get isRTLLocaleSupported(){return this.rtlLocaleSupported}set isRTLLocaleSupported(se){this.rtlLocaleSupported=se}get isRTLLayoutEnabled(){return this.rtlLayoutEnabled}set isRTLLayoutEnabled(se){this.rtlLayoutEnabled=se,this.layoutDirectionUpdated$.next(!0)}isRTLLocale(se){return B.includes(se.substr(0,2))}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(n.sK),f.LFG(W),f.LFG(J.O_),f.LFG(N.b))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();function E(Be){return n.aw.forRoot({loader:{provide:n.Zw,useFactory:(Ie,se)=>function h(Be,Ie,se){return new l(Be,Ie,se)}(Ie,se,Be),deps:[i.eN,r.ed]}})}function ee(){return n.aw.forChild()}var q=e(85501),ne=e(80891);const _e="[Worker]:";let U=(()=>{class Be{constructor(se,We,rt){this.serviceWorkerService=se,this.loggingService=We,this.remoteLoggingService=rt,this.logger=We.getLogger(_e)}initialize(se,We){this.serviceWorkerService.swLoggingUpdate$.pipe().subscribe(mt=>{this.remoteLoggingService.collectLogString(mt.content)});const rt=this.loggingService.getLoggingLevel(_e);this.loggerSettings={remoteLoggingEnabled:se,consoleLoggingEnabled:We,loggingLevel:rt,remoteLogFunction:null},this.serviceWorkerService.postMessageSw({type:q.rL.SetLoggerSettings,content:JSON.stringify(this.loggerSettings)})}getLoggerSettings(){return this.loggerSettings}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(q.HR),f.LFG(r.ed),f.LFG(ne.V))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var re=(()=>{return(Be=re||(re={})).INFO="INFO",Be.WARN="WARN",Be.DEBUG="DEBUG",Be.ERROR="ERROR",re;var Be})();let pe=(()=>{class Be{constructor(se){this.loggingService=se}logBasedOnLevel(se){switch(se.logLevel){case re.INFO:case re.DEBUG:this.logger.info(se.logStr,se.timeStamp);break;case re.ERROR:this.logger.error(se.logStr,se.timeStamp);break;case re.WARN:this.logger.warn(se.logStr,se.timeStamp)}}sendLog(se){this.logger=this.loggingService.getLogger(se.logModule?se.logModule+"/"+se.logTag:se.logTag),this.logBasedOnLevel(se)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var Pe=e(81273);const Te={Ethernet:"Ethernet",WiFi2_4:"WiFi 2.4",WiFi5_0:"WiFi 5.0",Mobile:"Mobile",Other:"Other",Unknown:"Unknown"};var me=e(39700),et=e(89558);let Xe=(()=>{class Be{constructor(se,We){this.logger=se.getLogger("crimson/windowService"),this.windowRef=window||{},this.windowRef.name=We.name}get window(){return this.windowRef}getFocusEvent(){return(0,me.R)(window,"focus")}getKeydownEvent(){return(0,me.R)(window,"keydown")}getKeyupEvent(){return(0,me.R)(window,"keyup")}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(et.A))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var Ze=e(96671),nt=e(76086),Me=e(16099),ze=e(97815),le=e(38435),Le=e(78747);class Re{constructor(Ie,se,We){this.completesExternally=Ie,this.callbacks=se,this.staticWorkerFn=We,this.requestQueue$=new Ze.xQ,this.startRequestQueue()}startRequestQueue(){this.requestQueue$.pipe((0,le.b)(Ie=>Ie.workerFn.pipe((0,y.zg)(se=>{if(Ie.response$.observers.length){if(this.completesExternally)return this.onRequestComplete$=new x.t(1),Ie.response$.next(se),Ie.response$.complete(),this.callbacks.next&&this.callbacks.next(se),this.onRequestComplete$;Ie.response$.next(se),Ie.response$.complete(),this.callbacks.next&&this.callbacks.next(se)}return(0,p.of)(!0)}),(0,v.K)(se=>(Ie.response$.error(se),Ie.response$.complete(),this.callbacks.error&&this.callbacks.error(se),(0,p.of)(se))),(0,Le.x)(()=>{this.callbacks.complete&&this.callbacks.complete()})))).subscribe()}queue(...Ie){let se;return se=(0,nt.P)(this.staticWorkerFn?()=>this.staticWorkerFn(...Ie):Ie.length>1?()=>Ie[0](Ie.slice(1)):()=>Ie[0]()),(0,nt.P)(()=>{const We={workerFn:se,response$:new Ze.xQ};return this.requestQueue$.next(We),We.response$.asObservable()})}notifyRequestCompletion(){this.completesExternally&&(this.onRequestComplete$.next(!0),this.onRequestComplete$.complete())}}var be=e(45661),xe=e(28805),ke=(()=>{return(Be=ke||(ke={})).Loading="Loading",Be.Dirty="Dirty",Be.Saved="Saved",Be.NotFound="NotFound",ke;var Be})(),Ce=(()=>{return(Be=Ce||(Ce={})).UpgradeStart="UpgradeStart",Be.UpgradeEnd="UpgradeEnd",Ce;var Be})(),ge=(()=>((ge||(ge={})).Upgrade="Upgrade",ge))();const De="https://nvfile/";var ye=(()=>{return(Be=ye||(ye={})).Measure="measure",Be.Resource="resource",Be.Element="element",ye;var Be})(),Oe=(()=>((Oe||(Oe={})).Image="img",Oe))();class ie{constructor(Ie,se,We){if(this.config=Ie,this.onDbItemChange=se,this.requestQueue=We,this.versionKey="_version",this.connected=!1,this.name=this.config.storeName,this.dbName=this.config.dbName,this.userId=this.config.userId,this.config.storeDefinition){const rt=this.config.storeDefinition;this.upgrade$=this.upgradeStore(this.config.storeName,rt.storeDefault,rt.upgrades,rt.upgradeTargetVersion||0)}else this.upgrade$=(0,p.of)(this);this.upgrade$.subscribe(()=>{this.connected=!0})}logError(...Ie){console.error("DbDataStore",this.name,JSON.stringify(Ie))}logInfo(...Ie){console.info("DbDataStore",this.name,JSON.stringify(Ie))}upgradeStore(Ie,se,We,rt){let mt;return this.getItem(this.versionKey).pipe((0,y.zg)(It=>(performance.mark(Ce.UpgradeStart),mt=It||0,0===mt&&se?(mt=se.version,this.processDirectUpgrade(Ie,se,mt)):this.processSequentialUpgrades(Ie,mt,We,rt))),(0,o.U)(()=>{performance.mark(Ce.UpgradeEnd);const It=this.getDbUpgradeDuration();return this.logInfo(`Time spent in async db upgrade: ${It}, store: ${Ie}, new version: ${mt}`),this}))}getDbUpgradeDuration(){try{return performance.measure(ge.Upgrade,Ce.UpgradeStart,Ce.UpgradeEnd),performance.getEntriesByType(ye.Measure).find(Ie=>Ie.name===ge.Upgrade).duration}catch(Ie){return this.logError("Error while calling measure on performance",Ie),-1}}processDirectUpgrade(Ie,se,We){const rt=[];for(const mt of Object.keys(se.db))rt.push(this.setItem(mt,se.db[mt]));return(0,be.D)(rt).pipe((0,y.zg)(()=>(this.logInfo(`Store ${Ie} successfully set to default version: ${We}`),this.setItem(this.versionKey,se.version))),(0,G.q)(1),(0,o.U)(()=>this),(0,v.K)(mt=>(this.logError(`Store ${Ie} failed to upgrade version from 0 to ${We} due to error: ${mt}`),(0,P._)(mt))))}processSequentialUpgrades(Ie,se,We,rt){if(se>rt)return(0,P._)(`Store ${Ie} db downgrade not supported. Version: ${se}, Target: ${rt}`);if(se===rt)return this.logInfo(`Upgrade not required for Store: ${Ie}, Version: ${se}`),(0,p.of)(this);let mt;return(0,Me.D)(We.keys()).pipe((0,le.b)(It=>{if(mt=+It,mt>se){this.logInfo(`Store: ${Ie}, attempting upgrade from version: ${se} to ${mt}`);const on=We.get(mt);return(0,Me.D)(on(this)).pipe((0,y.zg)(()=>(this.logInfo(`Store ${Ie} successfully upgraded to version: ${mt}`),this.setItem(this.versionKey,se=mt))))}return(0,p.of)(this)}),(0,xe.Z)(),(0,o.U)(()=>this),(0,v.K)(It=>(this.logError(`Store ${Ie} failed to upgrade db from version: ${se} to ${mt} due to error ${It}`),(0,P._)(It))))}getItem(Ie){return Ie?this.requestQueue.queue(this.name).pipe((0,y.zg)(se=>{const rt=se.transaction(this.name,"readonly").objectStore(this.name);return(0,Me.D)(rt.get(Ie))}),(0,v.K)(se=>(this.logError("error fetching item",se),(0,P._)(se))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()})):(0,P._)("invalid key")}setItem(Ie,se){return this.config.storeDefinition?(se instanceof Object&&(se.ts=Date.now()),this.setItemInDb(Ie,se).pipe((0,o.U)(We=>(this.onDbItemChange.next({storeName:this.name,userId:this.userId,key:Ie}),se)))):this.setItemInDb(Ie,se)}setItemInDb(Ie,se){return this.requestQueue.queue(this.name).pipe((0,y.zg)(We=>{const rt=We.transaction(this.name,"readwrite"),It=rt.objectStore(this.name).put(se,Ie);return this.finishReadWriteTxObservable(It,rt.done)}),(0,v.K)(We=>(this.logError("error setting item",We),(0,P._)(We))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}removeItem(Ie){return this.requestQueue.queue(this.name).pipe((0,y.zg)(se=>{const We=se.transaction(this.name,"readwrite"),mt=We.objectStore(this.name).delete(Ie);return this.finishReadWriteTxObservable(mt,We.done)}),(0,v.K)(se=>(this.logError("error removing item",se),(0,P._)(se))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}getAllItems(){return this.requestQueue.queue(this.name).pipe((0,y.zg)(Ie=>{const We=Ie.transaction(this.name,"readonly").objectStore(this.name);return(0,be.D)([(0,Me.D)(We.getAllKeys()),(0,Me.D)(We.getAll())])}),(0,o.U)(([Ie,se])=>{const We={};for(let rt=0;rt<Ie.length;rt++)(0,a.set)(We,Ie[rt].split("/"),se[rt]);return We}),(0,v.K)(Ie=>(this.logError("error fetching item",Ie),(0,P._)(Ie))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}getAllItemsByCursor(){return this.requestQueue.queue(this.name).pipe((0,y.zg)(Ie=>{const We=Ie.transaction(this.name,"readonly").objectStore(this.name),rt={};return new Promise((mt,It)=>{We.openCursor().then(function on(Cn){return Cn?((0,a.set)(rt,Cn.key.split("/"),Cn.value),Cn.continue().then(on)):Promise.resolve()}).then(()=>{mt(rt)}).catch(()=>{It("Error reading all keys from store")})})}),(0,v.K)(Ie=>(this.logError("error fetching item",Ie),(0,P._)(Ie))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}clear(){return this.requestQueue.queue(this.name).pipe((0,y.zg)(Ie=>{const se=Ie.transaction(this.name,"readwrite"),rt=se.objectStore(this.name).clear();return this.finishReadWriteTxObservable(rt,se.done)}),(0,v.K)(Ie=>(this.logError("error clearing store",Ie),(0,P._)(Ie))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}length(){return this.keys().pipe((0,o.U)(Ie=>Ie.length))}keys(){return this.requestQueue.queue(this.name).pipe((0,y.zg)(Ie=>Ie.transaction(this.name,"readonly").objectStore(this.name).getAllKeys()),(0,v.K)(Ie=>(this.logError("error fetching keys",Ie),(0,P._)(Ie))),(0,Le.x)(()=>{this.requestQueue.notifyRequestCompletion()}))}finishReadWriteTxObservable(Ie,se){return(0,be.D)([(0,Me.D)(this.preventTransactionCloseOnError(Ie)),(0,Me.D)(se)])}preventTransactionCloseOnError(Ie){const se=(0,ze.Wg)(Ie);return se.addEventListener("error",We=>{this.logError("Request failed, error=",se.error),We.preventDefault(),We.stopPropagation()}),Ie}}class qe{constructor(Ie,se,We){this.dbName=Ie,this.globalStoreDefMap=se,this.userStoreDefMap=We,this.dbObjectStoresInitialized=new x.t(1),this.dataStores=new Map,this.dbItemChange$=new Ze.xQ,this.globalStoreDefMap||(this.globalStoreDefMap=new Map),this.userStoreDefMap||(this.userStoreDefMap=new Map),this.requestQueue=new Re(!0,{next:void 0,error:this.closeDbConnection.bind(this),complete:this.closeDbConnection.bind(this)},this.refreshDbInstance.bind(this))}get onDbItemChange(){return this.dbItemChange$}logError(...Ie){console.error("DbHandler",this.dbName,JSON.stringify(Ie))}logInfo(...Ie){console.info("DbHandler",this.dbName,JSON.stringify(Ie))}refreshDbInstance(Ie){return(0,nt.P)(()=>this.dbObjectStores&&!this.dbObjectStores.contains(Ie)?(0,p.of)(!0):(0,p.of)(!1)).pipe((0,y.zg)(se=>se?(this.logInfo("retrieving db version from disk"),this.openDbInstance(Ie).pipe((0,y.zg)(We=>{this.dbInstance=We,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0);const rt=this.dbInstance.version;return this.logInfo("current db version",rt),this.closeDbConnection(),this.openDbInstance(Ie,rt+1)}))):this.openDbInstance(Ie).pipe((0,y.zg)(We=>{if(this.dbInstance=We,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0),!this.dbObjectStores.contains(Ie)){const rt=this.dbInstance.version;return this.logInfo(`store ${Ie} not found in current db version ${rt}, upgrading`),this.closeDbConnection(),this.openDbInstance(Ie,rt+1)}return(0,p.of)(this.dbInstance)}))),(0,v.K)(se=>(this.logError("error",se),(0,P._)(se))))}openDbInstance(Ie,se){return(0,Me.D)((0,ze.X3)(this.dbName,se,{upgrade:We=>{this.logInfo("upgrading db for",Ie),this.dbInstance=We,this.dbObjectStores=this.dbInstance.objectStoreNames,this.dbObjectStoresInitialized.next(!0),this.dbObjectStores.contains(Ie)||this.dbInstance.createObjectStore(Ie)}}))}closeDbConnection(){this.dbInstance?(this.dbInstance.close(),this.dbInstance=null):this.logError("attempted to close db connection when local instance unavailable")}getDataStore(Ie){if(!this.dataStores.has(Ie.storeDbName)){this.logInfo(`Create datastore instance: ${Ie.storeDbName}`);const se=Object.assign({},Ie,{dbName:this.dbName});this.dataStores.set(Ie.storeDbName,new ie(se,this.dbItemChange$,this.requestQueue))}return this.dataStores.get(Ie.storeDbName)}getGlobalStore(Ie){return this.getDataStore({storeName:Ie,storeDbName:Ie,storeDefinition:this.globalStoreDefMap.get(Ie)})}getUserStore(Ie,se){return this.getDataStore({storeName:se,storeDbName:`${Ie}_${se}`,userId:Ie,storeDefinition:this.userStoreDefMap.get(se)})}getStore(Ie){return this.getDataStore({storeName:Ie,storeDbName:Ie})}checkIfStoreExists(Ie){return this.dbObjectStoresInitialized.asObservable().pipe((0,o.U)(()=>this.dbObjectStores.contains(Ie)))}}let lt=(()=>{class Be{constructor(se){this.dbName=se.name,this.globalStoreDefMap=new Map,this.userStoreDefMap=new Map}get globalStores(){return this.globalStoreDefMap}get userStores(){return this.userStoreDefMap}get appDbName(){return this.dbName}defineStore(se,We){const rt=se.storeName;if(We.has(rt))throw new Error(`Error: store name already exists: ${rt}`);let mt;return se.name=this.dbName,se.hasOwnProperty("storeDefault")&&(mt=se.storeDefault,delete se.storeDefault),We.set(rt,{config:se,upgrades:new Map,storeDefault:mt}),this}defineUpgrade(se,We,rt,mt){const It=mt.get(se);return It.upgrades.set(We,rt),It.upgradeTargetVersion=We,this}defineGlobalStore(se){return this.defineStore.call(this,se,this.globalStoreDefMap)}defineUserStore(se){return this.defineStore.call(this,se,this.userStoreDefMap)}upgradeGlobalStore(se,We,rt){return this.defineUpgrade.call(this,se,We,rt,this.globalStoreDefMap)}upgradeUserStore(se,We,rt){return this.defineUpgrade.call(this,se,We,rt,this.userStoreDefMap)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(et.A))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),Et=(()=>{class Be{constructor(se,We){this.logger=We.getLogger("crimson/DBService"),this.globalStoreDefMap=se.globalStores,this.userStoreDefMap=se.userStores,this.dbName=se.appDbName,this.dbhandlerInstance=new qe(this.dbName,this.globalStoreDefMap,this.userStoreDefMap)}get dbHandler(){return this.dbhandlerInstance}getGlobalStore(se){return this.dbhandlerInstance.getGlobalStore(se)}getUserStore(se,We){return this.dbhandlerInstance.getUserStore(se,We)}getStore(se){return this.dbhandlerInstance.getStore(se)}checkKeysOfExisitngDbStore(se){return this.dbhandlerInstance.checkIfStoreExists(se).pipe((0,G.q)(1),(0,y.zg)(We=>We?this.getGlobalStore(se).length():(0,p.of)(0)))}deleteOldKeys(se){return this.checkKeysOfExisitngDbStore(se).pipe((0,y.zg)(We=>We?this.getGlobalStore(se).clear():(0,p.of)(null)),(0,o.U)(We=>We?(this.logger.info("Keys in db store deleted"),!0):(this.logger.info("No keys in the dB store, skip deletion"),!1)))}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(lt),f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var kt=e(48163),an=e(38449);class dn{constructor(Ie,se,We,rt){this.dbHandler=Ie,this.storeName=se,this.key=We,this.userId=rt,this.status_=ke.Loading,this.syncObservers=new Set,this.wait$=new an.c}get status(){return this.status_}updateStatus(Ie){const se=this.status_;this.status_=Ie,this.isFirstSyncComplete(se)&&(this.wait$.next(this.status),this.wait$.complete())}isFirstSyncComplete(Ie){return!this.wait$.closed&&Ie===ke.Loading&&this.status_!==ke.Loading}persist_(){this.updateStatus(ke.Dirty);const Ie=this.getStore(this.userId,this.storeName),se=(0,kt._T)(this,["status","status_","persist_","sync_","observe_","unobserve_","wait_","dbHandler","updateStatus","isFirstSyncComplete","getStore","syncObservers","wait$"]);return Ie.setItem(this.key,se).pipe((0,C.b)(()=>this.updateStatus(ke.Saved)),(0,v.K)(()=>(this.logError(`Error persisting the key ${this.key} to db`),(0,p.of)(se))))}getStore(Ie,se){return Ie?this.dbHandler.getUserStore(Ie,se):this.dbHandler.getGlobalStore(se)}sync_(){return this.getStore(this.userId,this.storeName).getItem(this.key).pipe((0,o.U)(se=>{if(!((se=se||{})instanceof Object))throw new Error("Tried to cache plain old data. Only Object types supported");for(const We of Object.keys(se))this[We]=se[We];return this.updateStatus(ke.Saved),this.syncObservers.forEach(We=>{We()}),se}))}wait_(){return this.wait$.closed&&(this.wait$=new an.c,this.status_!==ke.Loading&&(this.wait$.next(this.status),this.wait$.complete())),this.wait$.asObservable()}observe_(Ie){this.syncObservers.add(Ie),this.status_!==ke.Loading&&Ie()}unobserve_(Ie){this.syncObservers.delete(Ie)}logError(...Ie){console.error("DbHandler",this.storeName,JSON.stringify(Ie))}}let xn=(()=>{class Be{constructor(se){this.dbService=se,this.globalLoadMap=new Map,this.userLoadMap=new Map,this.globalCacheMap=new Map,this.userCacheMap=new Map}get globalCacheDefinitions(){return this.globalLoadMap}get userCacheDefinitions(){return this.userLoadMap}get globalCache(){return this.globalCacheMap}get userCache(){return this.userCacheMap}loadGlobalKey(se,We){this.globalLoadMap.has(se)||this.globalLoadMap.set(se,new Set),this.globalLoadMap.get(se).add(We),this.globalCacheMap.has(se)||this.globalCacheMap.set(se,new Map),this.globalCacheMap.get(se).set(We,new dn(this.dbService.dbHandler,se,We))}loadUserKey(se,We){this.userLoadMap.has(se)||this.userLoadMap.set(se,new Set),this.userLoadMap.get(se).add(We)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(Et))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})(),un=(()=>{class Be{constructor(se,We,rt){this.loggingService=se,this.dbService=rt,this.logger=this.loggingService.getLogger("crimson/dbCacheService"),this.globalCacheDefinitions=We.globalCacheDefinitions,this.userCacheDefinitions=We.userCacheDefinitions,this.globalCache=We.globalCache,this.userCacheMap=We.userCache,this.dbService.dbHandler.onDbItemChange.subscribe(mt=>{let It;mt.userId?this.userCacheMap.has(mt.userId)&&this.userCacheMap.get(mt.userId).has(mt.storeName)&&(It=this.userCacheMap.get(mt.userId).get(mt.storeName).get(mt.key)):this.globalCache.has(mt.storeName)&&(It=this.globalCache.get(mt.storeName).get(mt.key)),It&&It.sync_().subscribe()})}syncGlobal(se){const We=this.globalCacheDefinitions.get(se),rt=[];return We.forEach(mt=>{const It=this.globalCache.get(se);rt.push(It.get(mt).sync_())}),(0,be.D)(rt).pipe((0,C.b)(()=>{this.logger.info(`Cached DB store ${se} into memory`)}))}syncUser(se,We){const rt=this.userCacheDefinitions.get(se);this.userCacheMap.has(We)||this.initUserCache(We);const mt=[];return rt.forEach(It=>{const on=this.userCacheMap.get(We).get(se);mt.push(on.get(It).sync_())}),(0,be.D)(mt).pipe((0,C.b)(()=>{this.logger.info(`Cached user DB store ${se} into memory for user ${We}`)}))}initUserCache(se){this.userCacheMap.set(se,new Map),this.userCacheDefinitions.forEach((We,rt)=>{We.forEach(mt=>{this.userCacheMap.get(se).has(rt)||this.userCacheMap.get(se).set(rt,new Map),this.userCacheMap.get(se).get(rt).set(mt,new dn(this.dbService.dbHandler,rt,mt,se))})})}getCachedGlobalItem(se,We){if(this.globalCache.has(se))return this.globalCache.get(se).get(We)}getOrCreateCachedGlobalItem(se,We){return(!this.globalCache.has(se)||!this.globalCache.get(se).has(We))&&(this.globalCacheDefinitions.has(se)||this.globalCacheDefinitions.set(se,new Set),this.globalCacheDefinitions.get(se).add(We),this.globalCache.has(se)||this.globalCache.set(se,new Map),this.globalCache.get(se).set(We,new dn(this.dbService.dbHandler,se,We))),this.globalCache.get(se).get(We)}getCachedUserItem(se,We,rt){return this.userCacheMap.has(se)||this.initUserCache(se),this.userCacheMap.get(se).get(We).get(rt)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(xn),f.LFG(Et))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var xt,Nt=e(86151);e(63913),e(5432),e(88902),function(Be){let Ie;var se;(se=Ie=Be.HandlerEventType||(Be.HandlerEventType={})).SimpleWindowEvent="SIMPLE_WINDOW_EVENT",se.StructuredWindowEvent="STRUCTURED_WINDOW_EVENT",se.IpcEvent="IPC_EVENT"}(xt||(xt={}));var Fe=(()=>((Fe||(Fe={})).Types=xt,Fe))();class ut{constructor(Ie,se){this.bridgeService=Ie,this.keyToMessageType=new Map,this.eventHandlerLogger=se,this.eventStreams=new J.eQ(We=>{if(!this.keyToMessageType.has(We))return this.eventHandlerLogger.error("No message type for key",We),D.C;const rt=this.keyToMessageType.get(We);return this.handlerMap[rt].internalSubjects.set(We,new Ze.xQ),this.handlerMap[rt].internalSubjects.get(We).asObservable()},!1,!1)}registerNewHandler(Ie,se,We,rt,mt){this.handlerMap||(this.handlerMap={}),this.handlerMap[Ie]={pred:se,keyFunc:We,valFunc:rt,transformedFunc:mt,internalSubjects:new Map}}get$(Ie,se=this.defaultHandlerType){return this.keyToMessageType.has(Ie)||this.keyToMessageType.set(Ie,se),this.eventStreams.get$(Ie)}processMessage(Ie){for(const se of Object.keys(this.handlerMap))if(this.handlerMap[se].pred(Ie)){const rt=this.handlerMap[se].transformedFunc(Ie),mt=this.handlerMap[se].keyFunc(rt),It=this.handlerMap[se].valFunc(rt);this.handlerMap[se].internalSubjects.has(mt)?this.handlerMap[se].internalSubjects.get(mt).next(It):this.eventHandlerLogger.info("No subscribers for event with key ",mt)}}}const gt="json:";var yt=(()=>{return(Be=yt||(yt={})).ApplicationHide="APPLICATION_HIDE",Be.ApplicationShow="APPLICATION_SHOW",Be.WindowMinimize="MINIMIZE",Be.IpcNewMessage="IPC_NEW_MESSAGE",Be.SelfUpdate="SELF_UPDATE",Be.RouteChange="URL_ROUTE_CHANGE",Be.StoredCommandLine="STORED_COMMAND_LINE",Be.ProcessEvent="PROCESS_EVENT",Be.UpdateInitiated="UPDATE_INITIATED",Be.SharedStorageUpdate="SHARED_STORAGE_UPDATE",Be.ForegroundEvent="FOREGROUND_EVENT",Be.DisplayModeChange="DISPLAYMODECHANGE",yt;var Be})();class Ut{constructor(Ie){const{type:se}=Ie,We=(0,kt._T)(Ie,["type"]);this.type=se,this.params=We}}class en extends Ut{constructor(Ie){super(Ie),this.newRoute=Ie["new-route"],this.currentRoute=Ie["current-route"]}}class _n{static create(Ie){return Ie.type===yt.RouteChange?new en(Ie):new Ut(Ie)}}let Vt=(()=>{class Be extends ut{constructor(se,We){const rt=We.getLogger("nativeEventService");super(se,rt),this.logger=rt,this.defaultHandlerType=Fe.Types.HandlerEventType.SimpleWindowEvent,this.registerNewHandler(Fe.Types.HandlerEventType.StructuredWindowEvent,mt=>mt.startsWith(gt),mt=>JSON.parse(mt).type,mt=>mt,mt=>mt.substring(gt.length)),this.registerNewHandler(Fe.Types.HandlerEventType.SimpleWindowEvent,mt=>!mt.startsWith(gt),mt=>mt,mt=>mt,mt=>mt),this.bridgeService.executeCommand(F.Gh.Common.Windowevents.RegisterWindowEventsCallback,{}).subscribe(mt=>{this.processMessage(mt)})}getNativeEvent$(se){return this.get$(se,Fe.Types.HandlerEventType.StructuredWindowEvent).pipe((0,o.U)(We=>_n.create(JSON.parse(We))))}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(t.dF),f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var cn=e(34399),sn=e(14527),tn=e(224),ct=e(72221),ft=e(22298);const nn="(orientation: portrait)",On="(orientation: landscape)",Ye=`(max-width: 430px) and (max-height: 932px) and ${nn}`,Je=`(max-width: 932px) and (max-height: 430px) and ${On}`,Ne={IPhone:`${Ye}, ${Je}`,IPhoneLandscape:`${Je}`,IPhonePortrait:`${Ye}`,IPhoneSELandscape:`(max-width: 568px) and (max-height: 320px) and ${On}`,IPhone8Portrait:`(max-width: 375px) and (max-height: 667px) and ${nn}`,IPad:`(max-width: 1024px) and (max-height: 1366px) and ${nn},\n             (max-width: 1366px) and (max-height: 1024px) and ${On}`},at=[{provide:ft.Bs,useValue:[{alias:"lt-400",overlapping:!0,mediaQuery:"screen and (max-width: 399.98px)",priority:1050},{alias:"lt-360",overlapping:!0,mediaQuery:"screen and (max-width: 359.98px)",priority:1150},{alias:"lt-340",overlapping:!0,mediaQuery:"screen and (max-width: 339.98px)",priority:1250},{alias:"iphone",mediaQuery:Ne.IPhone},{alias:"ipad",mediaQuery:Ne.IPad},{alias:"handset",mediaQuery:ct.u3.Handset}],multi:!0}];e(80415);const zt="transparent";let jt=(()=>{class Be{constructor(){this.enabled=!1,this.isBrowser=!1,this.isBrowser=M.n.isBrowserPlatform()}init(se){this.enabled=se,this.enabled&&this.setDefaultStyle()}setStyle(se){document.documentElement.style.background=se,document.body.style.background=se}setDefaultStyle(){this.setStyle(this.isBrowser?"#191919":zt)}setTransparent(se){se&&!this.isBrowser?this.setStyle(zt):this.setDefaultStyle()}}return Be.\u0275fac=function(se){return new(se||Be)},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();const Qt=[16,160,161,17,162,163,18,164,165,91,92,65335],ln={0:"None",8:"Backsp",9:"Tab",16:"Shift",17:"Ctrl",18:"Alt",12:"Clear",13:"Enter",19:"Pause",20:"Caps",27:"Esc",32:"Space",33:"PgUp",34:"PgDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",41:"Select",42:"Print",43:"Exec",44:"PrtScn",45:"Insert",46:"Delete",47:"Help",91:"Win",92:"Win",93:"Apps",95:"Sleep",96:"Num0",97:"Num1",98:"Num2",99:"Num3",100:"Num4",101:"Num5",102:"Num6",103:"Num7",104:"Num8",105:"Num9",106:"Num*",107:"Num+",108:"Separ",109:"Num-",110:"Num.",111:"Num/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLck",145:"ScrLck",160:"Shift",161:"Shift",162:"Ctrl",163:"Ctrl",164:"Alt",165:"Alt",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",65335:"Cmd"},Tn={Backspace:8,Tab:9,Shift:16,Control:17,Alt:18,Clear:12,Enter:13,Pause:19,CapsLock:20,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,Help:47,Win:91,ContextMenu:93,Standby:95,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222,Cmd:65335};var wt=e(42930);class Dn{constructor(Ie,se,We){this.osType=se,this.keyDownOnly=We,this.currentKeyCombo=[],this.downSet=!1,this.logger=Ie.getLogger("crimson/KeypressHelper"),this.shortcutData$=new Ze.xQ,this.comboKeydown$=new Ze.xQ,We&&this.comboKeydown$.pipe((0,d.w)(()=>(0,wt.H)(200))).subscribe(()=>{this.logger.verbose("combokeyhelper CurrentKeyCombo: ",this.currentKeyCombo),this.shortcutData$.next(this.currentKeyCombo),this.resetCurrentKeyCombo()})}get shortcutData(){return this.shortcutData$.asObservable()}get loadedKeyCombo(){return this.currentKeyCombo}get isDownSet(){return this.downSet}get isKeyDownOnly(){return this.keyDownOnly}setDown(){this.downSet=!0}setNonEnglishKeyboardLayout(Ie){this.nonEnglishKeyboardLayout=Ie}resetDownStatus(){this.downSet=!1}resetCurrentKeyCombo(){this.currentKeyCombo=[]}logEvent(Ie,se){this.keyDownOnly||this.logger.info((se?"Keyup":"Keydown")+" : "+Ie.key)}loadKey(Ie){if("Enter"===Ie.key||"Unidentified"===Ie.key||void 0===Ie.key)return!1;let se=Ie.key;"Meta"===se&&(se=this.osType===Z.wi.MacOS?"Cmd":"Win")," "===se&&(se="Space");let We=0;return Ie.code.startsWith("Digit")&&1===Ie.key.length?We=Ie.code.charCodeAt(5):Tn[se]?We=Tn[se]:1===se.length?(this.nonEnglishKeyboardLayout&&(se=this.getKeyFromCode(Ie.code.toLowerCase(),se)),se=se.toUpperCase(),(1!==se.length||" "===se)&&(this.logger.info("toUpperCase broken: ",se," resetting to key event: ",Ie.key),se=Ie.key),We=se.charCodeAt(0)):this.logger.info("code is unknown: ",Ie.key),-1===this.currentKeyCombo.indexOf(We)&&(this.currentKeyCombo.push(We),!0)}isResetKey(Ie){return("Backspace"===Ie.key||"Delete"===Ie.key||" "===Ie.key)&&(this.currentKeyCombo.length=0,!0)}isMetaKey(Ie){return"Alt"===Ie.key||"Shift"===Ie.key||"Control"===Ie.key||"Meta"===Ie.key}isEscapeKey(Ie){return"Escape"===Ie.key&&(this.currentKeyCombo.length=0,!0)}shouldIgnore(Ie){return"Unidentified"===Ie.key||"Tab"===Ie.key||"ArrowDown"===Ie.key||"ArrowUp"===Ie.key||"ArrowLeft"===Ie.key||"ArrowRight"===Ie.key||this.osType===Z.wi.Windows&&"Meta"===Ie.key}isModifierKey(Ie){return("Shift"===Ie.key||"Meta"===Ie.key||"Control"===Ie.key||"Alt"===Ie.key)&&(this.logger.verbose("isModifierKey"),!0)}handleModifierKeys(Ie){if(Ie.metaKey){let se;this.logger.verbose("processKeyDownEvent this.metaKey: "+Ie.metaKey),se=this.osType===Z.wi.MacOS?"Cmd":"Win",this.currentKeyCombo.push(Tn[se])}Ie.shiftKey&&(this.logger.verbose("processKeyDownEvent this.shiftKey: "+Ie.shiftKey),this.currentKeyCombo.push(Tn.Shift)),Ie.ctrlKey&&(this.logger.verbose("processKeyDownEvent this.ctrlKey: "+Ie.ctrlKey),this.currentKeyCombo.push(Tn.Control)),Ie.altKey&&(this.logger.verbose("processKeyDownEvent this.altKey: "+Ie.altKey),this.currentKeyCombo.push(Tn.Alt))}getKeyFromCode(Ie,se){this.logger.verbose("getKeyFromCode code"+Ie);try{const We=Ie.split("key");return this.logger.verbose("getKeyFromCode key"+We[1]),We[1]?We[1]:se}catch(We){return this.logger.error("some error occured while fetching key from code",We),se}}processKeyDownEvent(Ie){this.logEvent(Ie,!1),(this.isKeyDownOnly||!this.isResetKey(Ie))&&(this.isEscapeKey(Ie)||this.shouldIgnore(Ie)||this.loadKey(Ie)&&this.comboKeydown$.next(Ie))}processKeyDownEventForHotkeyInvocation(Ie){this.logEvent(Ie,!1),(this.isKeyDownOnly||!this.isResetKey(Ie))&&(this.isEscapeKey(Ie)||this.shouldIgnore(Ie)||this.isModifierKey(Ie)||(this.handleModifierKeys(Ie),this.loadKey(Ie)&&this.comboKeydown$.next(Ie)))}}let Bt=(()=>{class Be{constructor(se){this.logger=se.getLogger("crimson/hotkeyHelper")}processKey(se){if(se in ln)return ln[se];const We=String.fromCharCode(se);return""===We&&this.logger.error("ERROR: unsupported character: ",se),We}shortcutToString(se){return se&&0!==se.length?se.map(We=>this.processKey(We)).join("+"):ln[0]}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var Jt=e(85948);const Pn={statusCode:Jt.Bs.UnknownError};class kn{constructor(Ie,se,We){var rt,mt;this.params=Ie,this.networkStatusService=se,this.bridgeService=We,this.getFailureCode=It=>this.checkRequestCancelled(It).pipe((0,y.zg)(on=>on.statusCode!==Jt.Bs.UnknownError?(0,p.of)(on):this.checkNetworkStatus()),(0,y.zg)(on=>on.statusCode!==Jt.Bs.UnknownError?(0,p.of)(on):this.checkDNSLookup(It.requestUrl)),(0,v.K)(on=>(0,p.of)(Pn))),this.dnsLookupValidity=null!==(mt=null===(rt=this.params)||void 0===rt?void 0:rt.dnsCacheValidity)&&void 0!==mt?mt:Jt.PN,this.dnsLookupMap=new Map,this.requestCancelledMap=new Map}checkNetworkStatus(){return(0,p.of)(this.networkStatusService.isOnline?Pn:{statusCode:Jt.Bs.NetworkStatusOffline})}getCachedDNSEntry(Ie){const se=this.dnsLookupMap.get(Ie);if(se&&Date.now()-se.lastUpdatedTs<=this.dnsLookupValidity)return se}checkDNSLookup(Ie){const se=new URL(Ie).hostname,We=this.getCachedDNSEntry(se);return We?(0,p.of)(We.lookupSuccessful?Pn:{statusCode:Jt.Bs.DNSLookupFailed,isUserOnline:!0,cachedDNSEntry:We}):this.bridgeService.executeCommand(F.Gh.Common.Systeminfo.DNSLookup,{name:se}).pipe((0,o.U)(rt=>{if(!rt)return Pn;const mt={lookupSuccessful:!0,lastUpdatedTs:Date.now(),destinationIp:(null==rt?void 0:rt.hostname)||""};return this.dnsLookupMap.set(se,mt),{statusCode:Jt.Bs.UnknownError,cachedDNSEntry:mt}}),(0,v.K)(rt=>{const mt={lookupSuccessful:!1,lastUpdatedTs:Date.now(),destinationIp:""};return this.dnsLookupMap.set(se,mt),(0,p.of)({statusCode:Jt.Bs.DNSLookupFailed,isUserOnline:!0,cachedDNSEntry:mt})}))}checkRequestCancelled(Ie){const se={statusCode:Jt.Bs.RequestCancelled};return Ie.uniqueRequestId&&this.requestCancelledMap.has(Ie.uniqueRequestId)?(0,p.of)(se):Ie.isCancelled?(Ie.uniqueRequestId&&this.requestCancelledMap.set(Ie.uniqueRequestId,!0),(0,p.of)(se)):(0,p.of)(Pn)}}let zn=(()=>{class Be{constructor(se,We){this.networkStatusService=se,this.bridgeService=We}createAnalyzer(se){return new kn(se,this.networkStatusService,this.bridgeService)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(Pe._),f.LFG(t.dF))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var oi=e(42520),si=e(74266);function qn(Be){return Be instanceof HTMLInputElement||Be instanceof HTMLTextAreaElement}function Wi(Be,Ie){return Be.visible===Ie.visible&&Be.height===Ie.height}let Li=(()=>{class Be{constructor(se,We,rt,mt){this.systemInfoService=rt,this.ngZone=mt,this.hiddenTextId="hiddentext",this.logger=se.getLogger("SystemVirtualKeyboardService"),this.window=We.window,this._keyboardState$=this.createKeyboardState().pipe((0,s.x)(Wi),(0,_.d)({bufferSize:1,refCount:!0}))}get visualViewport(){return this.window.visualViewport}get document(){return this.window.document}get keyboardState$(){return this._keyboardState$.pipe((0,si.h)(se=>void 0!==se.height))}get keyboardVisible$(){return this._keyboardState$.pipe((0,o.U)(se=>se.visible))}createKeyboardState(){return this.systemInfoService.getDeviceOSType().pipe((0,G.q)(1),(0,d.w)(se=>{switch(se){case Z.wi.WebOS:return this.createWebOSKeyboardState();case Z.wi.Tizen:return this.createTizenKeyboardState();case Z.wi.Android:return this.createAndroidKeyboardState();case Z.wi.IOS:case Z.wi.IPadOS:return this.createIOSKeyboardState();default:return this.logger.warn("Attempting to monitor virtual keyboard state on unsupported platform"),D.C}}))}createWebOSKeyboardState(){return M.n.isPWAModeOnLGTV()?this.ngZone.runOutsideAngular(()=>(0,me.R)(this.document,"keyboardStateChange").pipe((0,o.U)(se=>({visible:se.detail.visibility})),(0,$.O)({visible:!1}))):(this.logger.warn("Virtual keyboard detection is only possible in PWA mode"),D.C)}createTizenKeyboardState(){return this.ngZone.runOutsideAngular(()=>{const se=(0,oi.T)((0,me.R)(this.window,"focusin").pipe((0,o.U)(rt=>qn(rt.target))),(0,me.R)(this.window,"focusout").pipe((0,S.h)(!1))),We=(0,me.R)(this.window,"keydown").pipe((0,si.h)(rt=>(65376===rt.keyCode||"Cancel"===rt.key)&&qn(rt.target)),(0,C.b)(rt=>{rt.target.blur()}),(0,d.w)(rt=>D.C));return(0,oi.T)(se,We).pipe((0,o.U)(rt=>({visible:rt})),(0,$.O)({visible:!1}))})}createAndroidKeyboardState(){return this.visualViewport?this.ngZone.runOutsideAngular(()=>(0,me.R)(this.visualViewport,"resize").pipe((0,o.U)(()=>Math.floor(this.window.innerHeight-this.visualViewport.height)),(0,s.x)()).pipe((0,o.U)(We=>{const mt=qn(this.document.activeElement)?We:0;return{visible:mt>0,height:mt}}),(0,C.b)(We=>{var rt;(null==We?void 0:We.height)<=0&&(null===(rt=this.document.activeElement)||void 0===rt?void 0:rt.id)===this.hiddenTextId&&this.document.activeElement.blur()}),(0,$.O)({visible:!1,height:0}))):(this.logger.warn("visualViewport is required for virtual keyboard detection"),D.C)}createIOSKeyboardState(){return this.visualViewport?this.ngZone.runOutsideAngular(()=>(0,oi.T)((0,me.R)(this.visualViewport,"resize"),(0,me.R)(this.window,"orientationchange")).pipe((0,si.h)(()=>this.visualViewport.height!==this.window.innerWidth),(0,o.U)(()=>this.window.innerHeight-this.visualViewport.height),(0,s.x)()).pipe((0,o.U)(We=>{const mt=qn(this.document.activeElement)?We:0;return{visible:mt>0,height:mt}}),(0,$.O)({visible:!1,height:0}))):(this.logger.warn("visualViewport is required for virtual keyboard detection"),D.C)}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(Xe),f.LFG(W),f.LFG(f.R0b))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var $e=e(53617);let bt=(()=>{class Be{constructor(se){this.loggingService=se,this.audioContextMap=new Map,this.logger=this.loggingService.getLogger("AudioPlayService")}playAudio(se){var We;const rt=this.audioContextMap.get(se);rt?(this.logger.info(`Playing audio ${se}`),null===(We=rt.play())||void 0===We||We.then(mt=>{this.logger.info(`Played audio ${se}`)}).catch(mt=>{this.logger.error(`Error while playing Audio  ${se} - ${mt}`)})):this.logger.error(`audio type ${se} is not registered.`)}registerAudio(se,We){We?this.audioContextMap.has(se)?this.logger.error(`audio type ${se} is already registered.`):(this.logger.info(`Registering audio ${se}.`),this.audioContextMap.set(se,new Audio(We))):this.logger.error(`Invalid src param for audio ${se}`)}removeAudio(se){this.audioContextMap.has(se)&&(this.logger.info(`Removing audio of type: ${se}`),this.audioContextMap.delete(se))}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var g=e(49048),X=(()=>{return(Be=X||(X={})).READ="read",Be.WRITE="write",Be.DELETE="delete",Be.SUCCESS="success",Be.ERROR="error",X;var Be})();class de{constructor(Ie,se,We){this.ssoSharedPageUrl=se,this.maxWaitTimeIframe=We,this.clearUserDetailsFromSharedPage=this.iframeInteraction({type:X.DELETE}),this.getUserDetailsFromSharedPage=this.iframeInteraction({type:X.READ}),this.logger=Ie.getLogger("silentLogin");const rt=new URL(se);this.sharedUrlPageDomain=rt.origin}openIframe(Ie){const se=document.createElement("iframe");return se.setAttribute("src",Ie),se.style.border="0px",se.style.width="0px",se.style.height="0px",document.body.appendChild(se),(0,me.R)(se,"load").pipe((0,S.h)(se))}closeIframe(Ie){Ie?Ie.remove():this.logger.error("Empty Iframe ELement")}sendIframeMessage(Ie,se){if(!Ie)return this.logger.error("Iframe element is not present ",Ie),(0,P._)("Iframe element is not present");switch(this.logger.info("Sending message to iframe ",se.type),se.type){case X.WRITE:case X.READ:case X.DELETE:break;default:return(0,P._)("Invallid message type")}return Ie.contentWindow.postMessage(se,this.sharedUrlPageDomain),(0,me.R)(window,"message").pipe((0,g.V)(this.maxWaitTimeIframe),(0,G.q)(1),(0,o.U)(We=>{var rt,mt,It;return(null===(rt=null==We?void 0:We.data)||void 0===rt?void 0:rt.type)===X.SUCCESS?null===(mt=We.data)||void 0===mt?void 0:mt.payload:(0,P._)(null===(It=null==We?void 0:We.data)||void 0===It?void 0:It.type)}),(0,v.K)(We=>(this.logger.info("Error occurred while listening to window message:",We),(0,P._)(We))))}iframeInteraction(Ie){let se;return this.openIframe(this.ssoSharedPageUrl).pipe((0,y.zg)(We=>(se=We,this.logger.info("Iframe loaded ",Ie.type),this.sendIframeMessage(We,Ie))),(0,y.zg)(We=>(this.logger.info("received reply from iframe, ",Ie.type),this.closeIframe(se),(0,p.of)(We))),(0,v.K)(We=>(this.closeIframe(se),(0,P._)(We))))}saveUserDetailsToSharedPage(Ie){return Ie?(Ie.type=X.WRITE,this.iframeInteraction(Ie)):(0,P._)("Message Body empty")}}var Se=e(50572),He=e(57441);let dt=(()=>{class Be{constructor(se,We,rt,mt){this.loggingService=se,this.bridgeService=We,this.windowService=rt,this.eventStreamFactory=mt,this.logger=this.loggingService.getLogger("HardwareInformationService"),this.gpuInfoStream=this.eventStreamFactory.createStream(()=>this.fetchGPUInfo()),this.genericInfoStream=this.eventStreamFactory.createStream(()=>this.fetchGenericInfo()),this.setupHardwareInfoRefreshOnAppWindowFocus()}getGenericInfo(se){return se?this.genericInfoStream.refresh():this.genericInfoStream.get$()}getGpuInfo(se){return se?this.gpuInfoStream.refresh():this.gpuInfoStream.get$()}getSLIInformation(se=!0){return this.getGpuInfo(se).pipe((0,o.U)(We=>We.SLI))}getOptimusStatus(se=!0){return this.getGpuInfo(se).pipe((0,o.U)(We=>We.IsOptimus))}fetchHardwareInfo(){return(0,I.aj)([this.fetchGenericInfo(),this.fetchGPUInfo()]).pipe((0,G.q)(1),(0,C.b)(([se,We])=>{const rt=this.genericInfoStream.getData(),mt=this.gpuInfoStream.getData();(0,a.isEqual)(rt,se)||this.genericInfoStream.setData(se,!0),(0,a.isEqual)(mt,We)||this.gpuInfoStream.setData(We,!0)}))}setupHardwareInfoRefreshOnAppWindowFocus(se){var We;null===(We=this.onFocusInfoRefreshSub)||void 0===We||We.unsubscribe(),this.onFocusInfoRefreshSub=this.windowService.getFocusEvent().pipe((0,Se.b)(null!=se?se:500),(0,d.w)(rt=>(this.logger.info("hardware info refreshed on focus"),this.fetchHardwareInfo())),(0,v.K)(rt=>(this.logger.error("failed to reload sys info",rt),(0,p.of)(!0)))).subscribe()}fetchGenericInfo(){return this.genericInfoObs$||(this.genericInfoObs$=this.bridgeService.executeCommand(F.Gh.Nvapp.Driverupdaterecommendation.GetGenericInfo).pipe((0,He.B)(),(0,C.b)(se=>{this.logger.info("Generic info fetched success:",se)}),(0,v.K)(se=>(this.logger.error("there is problem fetching generic info",se),(0,P._)(se))),(0,Le.x)(()=>{this.genericInfoObs$=null}))),this.genericInfoObs$}fetchGPUInfo(){return this.gpuInfoObs$||(this.gpuInfoObs$=this.bridgeService.executeCommand(F.Gh.Nvapp.Driverupdaterecommendation.GetGPUInfo).pipe((0,He.B)(),(0,C.b)(se=>{this.logger.info("Gpu info fetched success:",se)}),(0,v.K)(se=>(this.logger.error("there is problem fetching gpu info",se),(0,P._)(se))),(0,Le.x)(()=>{this.gpuInfoObs$=null}))),this.gpuInfoObs$}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed),f.LFG(t.dF),f.LFG(Xe),f.LFG(J.O_))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})();var St=(()=>{return(Be=St||(St={})).png="png",Be.png8="png8",Be.png24="png24",Be.png32="png32",Be.png48="png48",Be.png64="png64",Be.jpe="jpe",Be.jpeg="jpeg",Be.jpg="jpg",Be.ico="ico",Be.icon="icon",Be.webp="webp",St;var Be})();let Mt=(()=>{class Be{constructor(se){this.defaultImageProperties={f:St.webp},this.logger=se.getLogger("ImageFormatService")}formatImageServiceUrl(se,We){const rt=Object.assign(Object.assign({},this.defaultImageProperties),We),mt=Object.keys(rt);for(const It of mt){const on=rt[It]||(0,a.isBoolean)(rt[It])?""+rt[It]:void 0;on&&on.length>0&&!(0,a.isNil)(se)&&(se+=";"+It+"="+rt[It])}return se}}return Be.\u0275fac=function(se){return new(se||Be)(f.LFG(r.ed))},Be.\u0275prov=f.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be})()},69060:(Ge,ae,e)=>{"use strict";e.d(ae,{sZ:()=>n,Dc:()=>$,fy:()=>H,Vi:()=>h,H7:()=>d,Kj:()=>_,sk:()=>C,$Q:()=>A,j1:()=>v,NI:()=>o});var t=e(39609);let n=(()=>{class E{}return E.\u0275fac=function(R){return new(R||E)},E.\u0275mod=t.oAB({type:E}),E.\u0275inj=t.cJS({}),E})();var x=e(18388),M=e(71265),L=e(51325),p=e(78747),P=e(85566),a=e(80155),o=(()=>{return(E=o||(o={})).HttpUrl="http.url",E.HttpStatusCode="http.status_code",E.HttpStatusCodeFamily="http.status_code_family",E.HttpMethod="http.method",E.HttpHostname="http.hostname",E.HttpHeadersPrefix="http.headers.",E.HttpPath="http.path",E.HttpErrorText="http.error_text",E.ParamsPrefix="params.",E.Error="error",E.SpanKind="span.kind",E.Component="component",E.ClientOs="client.os",E.ClientOsName="client.os.name",E.ClientOsVersion="client.os.version",E.ServiceVersion="service.version",E.ServiceType="service.type",E.Type="type",E.DeviceId="deviceId",E.AppName="appName",E.LayoutExecutionId="layoutExecutionId",E.Origin="origin",E.VpcId="vpcId",E.Locale="locale",E.Trigger="trigger",E.LoginStatus="loginStatus",E.CmsId="cmsId",E.FailurePoint="failurePoint",E.ErrorCode="errorCode",E.ErrorType="errorType",E.NetworkOverridePresent="networkOverridePresent",E.NetworkTestStatus="networkTestStatus",E.ZoneName="zone.name",E.ZoneAddress="zone.address",E.OobeDialogShown="oobeDialogShown",E.LoginWindowShown="loginWindowShown",E.LaunchSource="launchSource",E.ShortName="shortName",E.UsedLatencyBasedRouting="usedLatencyBasedRouting",E.IsSessionAutoResumed="isSessionAutoResumed",E.ErrorDetails="errorDetails",E.RoutingOverrideUsed="routingOverrideUsed",E.OverrideZoneName="overrideZoneName",E.OverrideZoneAddress="overrideZoneAddress",E.SessionId="sessionId",E.SkippedAuthCheck="skippedAuthCheck",E.CountryCode="countryCode",E.FastestJarvisDomain="fastestJarvisDomain",E.TraceId="traceId",E.RequestId="requestId",E.PanelType="panelType",E.BeforeEventDuration="beforeEventDuration",E.PresentDuration="presentDuration",E.PushMessageType="pushMessageType",E.AccountLinkingProvider="accountLinkingProvider",E.HasFilters="hasFilters",E.HasSearchQuery="hasSearchQuery",E.IsFirstPage="isFirstPage",o;var E})(),v=(()=>{return(E=v||(v={})).DelegateToken="GetDelegateToken",E.ClientGetLayout="ClientGetLayout",E.FetchLayout="LayoutManagerGetLayout",E.GetServerInfo="GetServerInfo",E.GetSpecificServerInfo="GetSpecificServerInfo",E.ClientGetAppMetadata="ClientGetAppMetadata",E.ClientGetAppsList="ClientGetAppsList",E.FetchAppsList="LayoutManagerGetAppsList",E.FetchAppMetadata="LayoutManagerGetAppMetadata",E.FetchSubscriptions="FetchSubscriptions",E.GetEntitlementStatus="GetEntitlementStatus",E.GameLaunch="GameLaunch",E.ClientGetSubscriptions="ClientGetSubscriptions",E.GetActiveSessions="GetActiveSessions",E.GetSessionInfo="GetSessionInfo",E.StartStreaming="StartStreaming",E.GetUserEntitlements="GetUserEntitlements",E.UpdateCheck="UpdateCheck",E.PreStreaming="PreStreaming",E.StreamerAuthentication="StreamerAuthentication",E.StreamerAuthorization="StreamerAuthorization",E.StreamerNetworktest="StreamerNetworkTest",E.SessionLoading="SessionLoading",E.GetRatingsInfo="GetRatingsInfo",E.GxTargetGetFeature="GxTargetGetFeature",E.GetFastestDomain="GetFastestDomain",E.JarvisPing="JarvisPing",E.JarvisOAuth="JarvisOAuth",E.StarfleetOAuth="StarfleetOAuth",E.LcarsFetchQueryData="LcarsFetchQueryData",E.ClientGetSurvey="ClientGetSurvey",E.ClientDismissSurvey="ClientDismissSurvey",E.PlatformSelection="PlatformSelection",E.PlatformSelectionSharedStorageRead="PlatformSelectionSharedStorageRead",E.PlatformSelectionDialogInteraction="PlatformSelectionDialogInteraction",E.AccountLinking="AccountLinking",E.AccountLinkingDialogInteraction="AccountLinkingDialogInteraction",E.AlsGetLoginUrl="AlsGetLoginUrl",E.AlsPostLoginUrl="AlsPostLoginUrl",E.AlsPostToken="AlsPostToken",E.AlsSync="AlsSync",E.AlsDeleteLinking="AlsDeleteLinking",E.AlsUserLogin="AlsUserLogin",E.AlsTokenExchange="AlsTokenExchange",E.AlsUIConnect="AlsUIConnect",E.AlsUIDisconnect="AlsUIDisconnect",E.AlsUIReconnect="AlsUIReconnect",E.AlsUIResync="AlsUIResync",E.GetAemReleaseHighlights="GetAemReleaseHighlights",E.GetGfwslInformation="GetGfwslInformation",E.StarfleetDeleteClientToken="StarfleetDeleteClientToken",E.StarfleetGetClientToken="StarfleetGetClientToken",E.StarfleetGetAccessToken="StarfleetGetAccessToken",E.StarfleetGetUserInfo="StarfleetGetUserInfo",E.SendTelemetryEvent="SendTelemetryEvent",E.ClientSettings="ClientSettings",E.ScheduledMaintenance="ScheduledMaintenance",E.ScheduledMaintenanceSessionEndError="ScheduledMaintenanceSessionEndError",E.ClientGetCloudVariable="ClientGetCloudVariable",E.ClientStreamingQuality="ClientStreamingQuality",E.PushNotificationRegistration="PushNotificationRegistration",E.KVStoreGetClientData="KVStoreGetClientData",E.KVStoreSetClientData="KVStoreSetClientData",E.KVStoreDeleteClientData="KVStoreDeleteClientData",E.KVStoreAppendClientData="KVStoreAppendClientData",E.ClientGetPanel="ClientGetPanel",E.ClientDesktopPaste="ClientDesktopPaste",E.ClientClipboardAvailable="ClientClipboardAvailable",E.BackgroundNetworkTest="BackgroundNetworkTest",E.GetRemoteConfigV2="GetRemoteConfigV2",E.PushMessageReceived="PushMessageReceived",E.PnsRegistration="PnsRegistration",E.PnsUnregister="PnsUnregister",E.UserAccountData="UserAccountData",E.SessionLengthWarning="SessionLengthWarning",E.VrsGetRewards="VrsGetRewards",E.UpsellMessages="UpsellMessages",E.CampaignsInfo="CampaignsInfo",E.SearchFilterGames="SearchFilterGames",E.UasAcquireUser="UasAcquireUser",E.FilterGroupDefinitions="FilterGroupDefinitions",v;var E})(),y=(()=>((y||(y={})).XmlHttpRequest="XMLHttpRequest",y))(),C=(()=>{return(E=C||(C={})).Pc_A7="pc-a7",E.Native_Windows="native-windows",C;var E})(),A=(()=>((A||(A={})).Client="client",A))(),d=(()=>((d||(d={})).VpcId="ERROR_WHILE_GETTING_VPCID",d))();const m="SW ";var S=e(32344),s=e(85538),r=e(77520),l=e(57447),i=e(6742),O=e(88114),Y=e(43257),T=e(14841),B=e(75699),K=e(87460),b=e(73727),f=e(78945),I=e(24935),w=e(60306);let _=(()=>{class E{constructor(){this.initializationMap=new Map}initialize(R,q={}){if(this.initializationMap.get(R.componentName))return;const _e={resource:new r._({[l.R9.SERVICE_NAME]:R.componentName})};this.provider=new S.m(_e);const U=[new b.jf];q.openTracingContextPropagation&&U.push(new i.RG),this.compositePropagator=new f.Y({propagators:U}),O.u.setGlobalPropagator(this.compositePropagator);const pe=new K.X;pe.enable(),this.provider.register({propagator:this.compositePropagator,contextManager:pe});const Te=new I.M({headers:{"Lightstep-Access-Token":R.accessToken},url:R.collectorUrl});(0,w.c)(Xe=>{console.error("Error while tracing",Xe)}),this.provider.addSpanProcessor(new s.p(Te,{disableAutoFlushOnDocumentHide:!0})),this.initializationMap.set(R.componentName,!0)}getSpanContextInfo(R){if(!this.tracer)return null;const q={},ne=Y.g.setSpanContext(T.D.active(),R.spanContext());return O.u.inject(ne,q,B.M),q}createSpanUsingContextInfo(R,q){if(!this.tracer)return null;const ne=O.u.extract(T.D.active(),q),_e=this.tracer.startSpan(R,{},ne);return this.getSpanContextInfo(_e),_e}createSpan(R,q){if(!this.tracer)return null;if(!q)return this.tracer.startSpan(R);const ne=Y.g.setSpan(T.D.active(),q);return this.tracer.startSpan(R,{},ne)}getOTELTracer(R,q){return this.initialize(R,q),this.tracer=this.provider.getTracer(),this.tracer}extractContext(R,q,ne){const _e=q||T.D.active();return O.u.extract(_e,R,ne)}runWithContext(R,q,ne,..._e){return T.D.with(R,q,ne,..._e)}}return E.\u0275fac=function(R){return new(R||E)},E.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),$=(()=>{class E{constructor(R){this.openTelemetryService=R}setTracer(R){this.tracer=R}setGlobalTags(R){this.commonTags=R}setSpanAttribute(R,q,ne){R.setAttribute(q,ne)}setSpanAttributes(R,q){R.setAttributes(q)}getFormattedUrlForHttpPopupSpan(R,q){if(q&&this.tracer){const ne={};this.injectSpanHttpHeaders(q,ne);const _e=new URL(R),U=JSON.stringify((0,P.extend)({},ne)),re=_e.searchParams.toString();R=`${_e.origin}${_e.pathname}?tracer=${(0,a.h$)(U,!0,!0)}`,re.length&&(R=`${R}&${re}`)}return R}startSpan(R,q){return this.openTelemetryService.createSpan(R,q)}startSpanUsingContext(R,q){return this.openTelemetryService.createSpanUsingContextInfo(R,q)}getCreateSpanUsingContextWrapper(){return this.startSpanUsingContext.bind(this)}getTraceInjectWrapper(){return this.inject.bind(this)}inject(R){return this.openTelemetryService.getSpanContextInfo(R)}injectSpanHttpHeaders(R,q){const ne=this.openTelemetryService.getSpanContextInfo(R),_e=Object.keys(ne);for(const U of _e)q[U]=ne[U]}handleHttpError(R,q){this.setSpanAttribute(R,o.Error,!0),this.setSpanAttribute(R,o.HttpStatusCode,q&&q.status||0)}handleHttpPopupError(R,q){this.setSpanAttribute(R,o.Error,!0),this.setSpanAttribute(R,o.HttpStatusCode,q.errorCode),this.setSpanAttribute(R,o.HttpErrorText,q.errorText),this.setSpanAttribute(R,o.HttpUrl,q.failedUrl)}handleHttpSuccess(R,q){this.setSpanAttribute(R,o.Error,!1),q&&this.setSpanAttribute(R,o.HttpUrl,q)}handleHttpEndpointSpan(R,q,ne,_e){const U=q.headers?q.headers:{},re=this.startSpan(ne,_e);return re?(this.setSpanAttributes(re,q.params?q.params:{}),this.injectSpanHttpHeaders(re,U),R.pipe((0,M.b)(()=>this.handleHttpSuccess(re)),(0,L.K)(Pe=>(this.handleHttpError(re,Pe),(0,x._)(Pe))),(0,p.x)(()=>this.closeSpan(re)))):R}closeSpan(R){R&&(this.setSpanAttributes(R,this.commonTags),R.end())}closeHttpPopupSpan(R,q,ne){R&&(this.setSpanAttributes(R,this.commonTags),q?this.handleHttpPopupError(R,ne):this.handleHttpSuccess(R,ne.failedUrl),R.end())}sendOpenTracingSpanTags(R,q,ne){const _e=this.startSpan(R,ne);null==q||q.forEach((U,re)=>{this.setSpanAttribute(_e,re,U)}),this.closeSpan(_e)}runWithinSpanContext(R,q,ne,..._e){const U=this.openTelemetryService.extractContext(R);return this.openTelemetryService.runWithContext(U,q,ne,..._e)}}return E.\u0275fac=function(R){return new(R||E)(t.LFG(_))},E.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var G=e(52954),F=e(41221),J=e(23815),z=e(2502),Z=e(33932),ue=e(85948),u=e(85501),k=e(64710);const W={[XMLHttpRequest.UNSENT]:"unsent",[XMLHttpRequest.OPENED]:"opened",[XMLHttpRequest.HEADERS_RECEIVED]:"headers received",[XMLHttpRequest.LOADING]:"loading",[XMLHttpRequest.DONE]:"done"},N=(E,ee)=>{E.setAttributes({[o.HttpStatusCode]:ee,[o.HttpStatusCodeFamily]:ee.toString().replace(/[0-9]{2}$/,"XX"),[o.Error]:ee<=0||ee>=400})};let H=(()=>{class E extends G.JF{constructor(R,q,ne){super(),this.statusCodeZeroAnalyzerFactoryService=R,this.serviceWorkerService=q,this.distributedTracingUtilService=ne,this.globalSpanTags={},this.tracer=null,this.whitelist=[],this.whitelistedUrls=new Map,this.pendingNetworkResponseSpanMap=new Map,this.createSpanUsingContext=this.distributedTracingUtilService.getCreateSpanUsingContextWrapper(),this.traceInjectWrapper=this.distributedTracingUtilService.getTraceInjectWrapper()}initialize(){this.serviceWorkerService.networkResponseReceived.subscribe(R=>{this.removeFromSWPendingRequests(R)},F.Z)}addToSWPendingRequests(R,q){this.pendingNetworkResponseSpanMap.set(R,q)}removeFromSWPendingRequests(R){if(this.pendingNetworkResponseSpanMap.has(R.requestId)){const q=this.pendingNetworkResponseSpanMap.get(R.requestId);this.pendingNetworkResponseSpanMap.delete(R.requestId),0===R.responseStatusCode?this.statusCodeZeroAnalyzer.getFailureCode({requestUrl:R.requestUrl,uniqueRequestId:R.requestId,isCancelled:!1}).subscribe(ne=>{N(q,ne.statusCode),q.end(R.responseReceivedTimeMs)},F.Z):(N(q,R.responseStatusCode),q.end(R.responseReceivedTimeMs))}}build(){const R=new XMLHttpRequest;return(0,P.isNil)(this.tracer)||(R.requestHeaders={},R.commonSpanTags=this.globalSpanTags,R.tracer=this.tracer,R.open=this.wrapOpen(R),R.send=this.wrapSend(R),R.setRequestHeader=this.wrapSetRequestHeader(R),R.constructSpanTags=this.getConstructSpanTags(),R.injectCarrierHeaders=this.getInjectCarrierHeaders(),R.getOperationName=this.getOperationName(),R.createSpanUsingContext=this.createSpanUsingContextWrapper(),R.getResponseHeaders=this.getResponseHeaders(),R.analyzeStatusCodeZero=this.analyzeStatusCodeZero(),R.addEventListener("readystatechange",this.getOnReadyStateChangedListener()),R.addEventListener("abort",this.handleAbort())),R}handleAbort(){return function(){this.isRequestAborted=!0}}setGlobalTags(R){this.globalSpanTags=R}setTracer(R){this.tracer=R}setWhitelist(R){this.whitelist=R.map(q=>new RegExp(q,"g"))}setStatusCodeZeroAnalyzerConfig(R){this.statusCodeZeroAnalyzer&&(this.statusCodeZeroAnalyzer=null),this.statusCodeZeroAnalyzer=this.statusCodeZeroAnalyzerFactoryService.createAnalyzer(R)}matchUrlAgainstWhitelist(R){if(!this.whitelistedUrls.has(R)){const q=this.whitelist.findIndex(ne=>{const _e=R.match(ne);return!(0,P.isNil)(_e)&&1===_e.length});this.whitelistedUrls.set(R,-1!==q)}return this.whitelistedUrls.get(R)}isUrlWhiteListed(R){return!(0,P.isNil)(R)&&this.matchUrlAgainstWhitelist(R.toString())}getResponseHeaders(){return function(){const ne=this.getAllResponseHeaders().replace(/\s+$/,"").split(/\n/);for(let _e=0;_e<ne.length;_e++)ne[_e]=ne[_e].replace(/\r/g,"").trim();return ne}}getOperationName(){return function(){return this.method+" "+this.urlInfo.hostname+this.urlInfo.pathname}}createSpanUsingContextWrapper(){const R=this.createSpanUsingContext;return function(ne){return R(ne,this.requestHeaders)}}analyzeStatusCodeZero(){const R=this.statusCodeZeroAnalyzer.getFailureCode;return function(){return R({requestUrl:this.urlInfo.href,isCancelled:this.isRequestAborted,uniqueRequestId:this.uniqueRequestId||""})}}getOnReadyStateChangedListener(){return function(){const q=this.uniqueRequestId&&this.isHandledByServiceWorker?this.serviceWorkerSpan:this.span;(0,P.isNil)(q)||(this.readyState===XMLHttpRequest.UNSENT||this.readyState===XMLHttpRequest.OPENED?q.addEvent(W[this.readyState]):this.readyState===XMLHttpRequest.HEADERS_RECEIVED?q.addEvent(W[this.readyState],{method:this.method,url:this.urlInfo.href,responseHeaders:this.getResponseHeaders()}):this.readyState===XMLHttpRequest.LOADING?q.addEvent(W[this.readyState]):this.readyState===XMLHttpRequest.DONE?(q.addEvent(W[this.readyState],{method:this.method,url:this.urlInfo.href,statusText:this.statusText,responseType:this.responseType,responseHeaders:this.getResponseHeaders()}),0===this.status?(0,J.of)(!0).pipe((0,z.g)(100),(0,Z.zg)(ne=>this.analyzeStatusCodeZero(this.urlInfo.href))).subscribe(ne=>{q.setAttributes({status:ne.statusCode}),N(q,ne.statusCode),q.end()}):(q.setAttributes({status:this.status}),N(q,this.status),q.end())):q.setAttributes({readyState:this.readyState}))}}getConstructSpanTags(){return function(){const q={[o.Component]:y.XmlHttpRequest,[o.HttpMethod]:this.method,[o.Type]:this.urlInfo.protocol.replace(":",""),[o.HttpHostname]:this.urlInfo.hostname,[o.HttpUrl]:this.urlInfo.pathname};return(0,P.extend)(q,this.commonSpanTags),Object.keys(this.requestHeaders).forEach(_e=>{q[o.HttpHeadersPrefix+_e]=this.requestHeaders[_e]}),this.urlInfo.searchParams.forEach((_e,U)=>{q[o.ParamsPrefix+U]=_e}),q}}getInjectCarrierHeaders(){const R=this.traceInjectWrapper;return function(){const ne=R(this.span);Object.keys(ne).forEach(U=>{Object.getPrototypeOf(this).setRequestHeader.call(this,U,ne[U]),this.setRequestHeader(U,ne[U])})}}wrapOpen(R){const q=R.open;return function(_e,U,re,pe,Pe){this.method=_e;try{this.urlInfo=new URL(U)}catch{this.urlInfo=null}q.apply(this,arguments)}}wrapSend(R){const q=R.send,ne=this.isUrlWhiteListed.bind(this),_e=this.serviceWorkerService.willGFNServiceWorkerHandleRequest.bind(this),U=this.addToSWPendingRequests.bind(this),re=this.omitOpentracingHeaders;return function(Pe){(0,P.isNil)(this.urlInfo)||(this.span=this.createSpanUsingContext(this.getOperationName()),this.isHandledByServiceWorker=_e(this.urlInfo.href,this.bypassCacheHeaderValue),this.uniqueRequestId&&this.isHandledByServiceWorker&&(this.serviceWorkerSpan=this.createSpanUsingContext(m+this.getOperationName()),this.serviceWorkerSpan.setAttributes(this.constructSpanTags()),U(this.uniqueRequestId,this.span)),this.requestHeaders=re(this.requestHeaders),ne(this.urlInfo)&&this.injectCarrierHeaders(),this.span.setAttributes(this.constructSpanTags()),this.span.addEvent("send")),q.apply(this,arguments)}}wrapSetRequestHeader(R){const q=R.setRequestHeader;return function(_e,U){"Authorization"===_e||"X_LOCAL_SECURITY_COOKIE"===_e||_e===u.Fk.SwCacheKeyAppendString||(this.requestHeaders[_e]=U,_e===ue.n0.xRequestId&&(this.uniqueRequestId=U),_e===u.Fk.SwCacheBypass&&(this.bypassCacheHeaderValue=U)),!_e.startsWith("ot-")&&!_e.startsWith("traceparent")&&q.apply(this,arguments)}}omitOpentracingHeaders(R){return(0,P.omitBy)(R,q=>!q.startsWith("ot-")&&!q.startsWith("traceparent"))}}return E.\u0275fac=function(R){return new(R||E)(t.LFG(k.Ng),t.LFG(u.HR),t.LFG($))},E.\u0275prov=t.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const h={provide:G.JF,useExisting:H}},12983:(Ge,ae,e)=>{"use strict";e.d(ae,{Dr:()=>d,iX:()=>f,BU:()=>x,r7:()=>m,xv:()=>v});var t=e(52474),n=e(39609);let x=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac}),D})();var M=e(39536),L=e(18937),p=e(34375);let P=(()=>{class D{constructor(w,_){this.dialogRef=w,this.data=_,this.content=_.content}}return D.\u0275fac=function(w){return new(w||D)(n.Y36(M.hV),n.Y36(M.eJ))},D.\u0275cmp=n.Xpm({type:D,selectors:[["ng-component"]],decls:7,vars:3,consts:[["mat-dialog-title","",1,"font-header4"],["mat-dialog-content",""],[1,"exception-content","font-body2",3,"innerHTML"],["mat-dialog-actions","","fxLayoutAlign","end end","fxLayout","row"],["mat-button","",1,"font-button1",3,"mat-dialog-close"]],template:function(w,_){1&w&&(n.TgZ(0,"h1",0),n._uU(1),n.qZA(),n.TgZ(2,"div",1),n._UZ(3,"div",2),n.qZA(),n.TgZ(4,"div",3)(5,"button",4),n._uU(6," Close "),n.qZA()()),2&w&&(n.xp6(1),n.Oqu(_.data.title),n.xp6(2),n.Q6J("innerHTML",_.content,n.oJD),n.xp6(2),n.Q6J("mat-dialog-close",!0))},dependencies:[M.aO,M.YS,M.Rb,M.ev,L.xw,L.Wh,p.eB],styles:[".exception-content[_ngcontent-%COMP%]{-webkit-user-select:text;user-select:text;background-color:#212121;padding:10px;overflow-wrap:anywhere}"]}),D})();const a_Sanitize=/(\w+:|[\\/]).*[\\/]/gi,a_Indentation=/ at /g,a_Class=/([^]+)/g;class v{constructor(I,w){this.err=w,this.errorMessage=I,this.metadata={}}get error(){return this.err}toString(){return this.errorMessage+":"+JSON.stringify(this.err)}addMetadata(I,w){this.metadata[I]=w}getMetaData(){return this.metadata}}var y=e(7951),C=e(9357),A=e(64710);const d={exceptionTimeLimiter:6e4,clientName:"unknown",isExceptionEnabled:!0,devMode:!1};let m=(()=>{class D{constructor(w,_,$){this.logger=w,this.injector=_,this.dialog=$}handleError(w){var _,$;let G=!1;this.logger.info("UnHandled Exception was caught",w);const F=this.injector.get(x);if(F&&(this.isEnabled=F.isExceptionEnabled,this.devMode=F.devMode),!this.isEnabled||((null==w?void 0:w.rawResponse)instanceof t.UA?(this.logger.error("There was an HTTP error. Skipping exception event"),G=!0):w instanceof y.W?(this.logger.error("Timeout error occured. Skipping exception event"),G=!0):w instanceof TypeError?this.logger.error("Type error occured. Sending exception telemetry"):w instanceof Error?this.logger.error("Error occured. Sending exception telemetry"):(this.logger.error("Unknown error or cef query failure. Skipping exception event"),G=!0),G&&!this.devMode))return;const J={name:w.name,message:w.message,stackFrame:null,exceptionString:null};w.stack=null===(_=w.stack)||void 0===_?void 0:_.replace(a_Sanitize,""),J.stackFrame=null!==($=w.stack)&&void 0!==$?$:C.wy.Undefined;const z=JSON.stringify(J);this.logger.error("Exception stack trace ",z),this.devMode&&this.dialog.open(P,{autoFocus:!1,disableClose:!0,panelClass:"nv-overlay-panel",data:{title:"Unhandled Exception",content:w.stack?this.formatExceptionStack(w.stack):z}}),G||(J.exceptionString=J.stackFrame,this.handleClientSideException(J,F))}formatExceptionStack(w){return w.replace(a_Indentation,"<br>&nbsp;&nbsp;&nbsp;at ").replace(a_Class,"<span>$1</span>")}}return D.\u0275fac=function(w){return new(w||D)(n.LFG(A.Yd),n.LFG(n.zs3),n.LFG(M.on))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac}),D})();var S=e(93557),s=e(70782),r=e(37661),l=e(32764),i=e(76947),O=e(63926),Y=e(99763);const T=[S.u5,p.yu,s.IF,O.gR,l.UK,r.Ps,i.x4,Y.AA];let B=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275mod=n.oAB({type:D}),D.\u0275inj=n.cJS({imports:[S.u5,T,S.u5,p.yu,s.IF,O.gR,l.UK,r.Ps,i.x4,Y.AA]}),D})();var K=e(50239),b=e(715);let f=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275mod=n.oAB({type:D}),D.\u0275inj=n.cJS({imports:[M.yj,K.o9,B,b.aw]}),D})()},70494:(Ge,ae,e)=>{"use strict";e.d(ae,{sY:()=>x,$b:()=>M,Q6:()=>N,Qu:()=>w,Z4:()=>I});var t=e(39609);let n=(()=>{class H{}return H.\u0275fac=function(E){return new(E||H)},H.\u0275prov=t.Yz7({token:H,factory:H.\u0275fac}),H})(),x=(()=>{class H extends n{}return H.\u0275fac=function(){let h;return function(ee){return(h||(h=t.n5z(H)))(ee||H)}}(),H.\u0275prov=t.Yz7({token:H,factory:H.\u0275fac}),H})(),M=(()=>{class H{}return H.\u0275fac=function(E){return new(E||H)},H.\u0275mod=t.oAB({type:H}),H.\u0275inj=t.cJS({}),H})();var L=e(59562),p=e(23815),P=e(16099),a=e(47504),o=e(18388),v=e(45661),y=e(41221),C=e(39138),A=e(33932),d=e(2629),m=e(71265),S=e(51325),s=e(48308),r=e(89258),l=e(57693),i=e(53975),O=e(85566),Y=e(64710),T=e(42313),B=e(9357),K=e(12983),b=(()=>((b||(b={})).OSName="osName",b))();class f extends K.xv{constructor(){super("Empty cloud variable",null)}}class D extends K.xv{constructor(){super("Cloud variable could not be retrieved via API call nor cache. Please handle this case and use defaults",null)}}var I=(()=>{return(H=I||(I={})).GxTargetGetFeatureRollout="GetFeatureRollout",H.GxTargetGetCloudVariable="GetCloudVariable",H.GxTargetGetSurveyFeature="GetSurveyFeature",H.Other="Other",I;var H})(),w=(()=>{return(H=w||(w={})).GxTargetGetECommerceFeature="GetECommerceFeature",H.GxTargetGetSurveyFeature="GetSurveyFeature",H.GxTargetGetQueueETAConfig="GetQueueETAConfig",H.GxTargetGetAutohighlightFeature="GetAutohighlightFeature",H.GxTargetGetFreestyleFeature="GetFreestyleFeature",H.GxTargetGetStarfleetPhase1="GetStarfleetPhase1",H.GxTargetGetStarfleetPhase2="GetStarfleetPhase2",H.GxTargetGetKeyboardLayout="GetKeyboardLayout",H.GxTargetGetAnselFeature="GetAnselFeature",H.GxTargetGetGfnBroadcastFeature="GetGfnBroadcastFeature",H.GxTargetGetDeeplinkSupport="GetDeeplinkSupport",H.GxTargetGetKBLayoutsConfig="GetKBLayoutsConfig",H.GxTargetGetUpsellMessage="GetUpsellMessage",H.GxTargetGetAllCloudVariables="GetAllCloudVariables",H.GxTargetGetBrowserClientCanary="GetBrowserClientCanary",H.GxTargetGetReservedSKUEnabled="GetReservedSKUEnabled",H.GxTargetGetReservedSKUIBetaFlag="GetReservedSKUIBetaFlag",H.GxTargetGetClipboardPasteConfig="GetClipboardPasteConfig",H.GxTargetGetPathToPurchaseConfig="GetPathToPurchaseConfig",H.GxTargetGetPunctualUIConfig="GetPunctualUIConfig",H.GxTargetGetEnableBrowserIGSS="GetEnableBrowserIGSS",H.GxTargetGetGuestFlowClientConfig="GxTargetGetGuestFlowClientConfig",H.GxTargetGetGameOwnershipABConfig="GetGameOwnershipABConfig",H.Other="Other",w;var H})(),G=(()=>{return(H=G||(G={})).StreamingClient="StreamingClient",H.MallClient="MallClient",H.StoreLibrary="StoreLibrary",H.Unknown="Unknown",H.BackgroundAgent="BackgroundAgent",H.NvAppClient="NvAppClient",G;var H})(),F=(()=>((F||(F={})).GxTarget="GxTarget",F))(),J=(()=>{return(H=J||(J={})).UNDEFINED="UNDEFINED",H.TRUE="TRUE",H.FALSE="FALSE",J;var H})();const z={HTTPFailure:{name:"HTTPFailure",gdprLevel:B.KM.Functional},HTTPSuccess:{name:"HTTPSuccess",gdprLevel:B.KM.Functional}};class Z extends B.MW{constructor(h){super(h),this.name=z.HTTPFailure.name,this.gdprLevel=z.HTTPFailure.gdprLevel}}class ue extends B.MW{constructor(h){super(h),this.name=z.HTTPSuccess.name,this.gdprLevel=z.HTTPSuccess.gdprLevel}}var u=e(69060),k=e(91565),W=e(80155);let N=(()=>{class H{constructor(E,ee,R,q,ne,_e,U){this.config=E,this.loggingService=ee,this.telemetryService=R,this.sharedStorageService=q,this.systemInfoService=ne,this.eventStreamFactory=_e,this.localeService=U,this.isCvListInitialized$=new L.t(1),this.cacheMaxAge=1440,this.isInitialized$=new L.t(1),this.batchCvsInitialized=new L.t(1),this.commonClientParams={},this.cachedCloudVariableMap=new Map,this.deviceOSName="",this.readFromSharedStorage=re=>this.sharedStorageService.readBlock(re).pipe((0,A.zg)(pe=>(0,p.of)(pe||{}))),this.writeToSharedStorage=(re,pe)=>{const Pe=pe.name;if(this.storageUpdateQueue.unshift(pe),this.storageUpdateQueue.length>1)return void this.logger.info("Added experiment to storage update queue",Pe);const Te=re;let me;return(0,P.D)(this.readFromSharedStorage(Te)).pipe((0,A.zg)(et=>(me=et,this.updateExperimentRefreshDate(pe),(et=this.cleanupStorageBlock(et))[Pe]=pe,this.sharedStorageService.writeBlock(Te,et)))).subscribe(()=>{this.logger.info("Cloud variable written to shared storage",pe.name,pe.value),this.processStorageUpdateQueue()},et=>{this.logger.error(`Error while writing to shared storage for ${Pe}`,et),this.processStorageUpdateQueue()}),null},this.getSharedStorageKey=re=>{let pe=this.clientInfo.userId!==B.wy.Undefined?this.clientInfo.userId:void 0;return re===B.yz.DEVICE_ID&&(pe=void 0),this.logger.info("Got SharedStorageKey: ",this.storageKey+"_"+pe),this.storageKey+"_"+pe},this.logger=ee.getLogger("experienceControl/service"),this.storageKey="experienceControl",this.storageUpdateQueue=[],this.clientInfo={deviceId:"",userId:B.wy.Undefined,idpId:B.wy.Undefined,clientId:this.config.clientId,clientVer:this.config.clientVersion,clientVariant:this.getCommonClientVariant(this.config.clientVariant),deviceOS:"",deviceType:"",deviceMake:"",deviceModel:"",deviceOSVersion:"",clientType:T.CommonClientType.Undefined,browserType:""},this.cacheMaxAge=this.config.cacheMaxAge||this.cacheMaxAge,this.fetchCloudVariableStream=this.eventStreamFactory.createStream(this.fetchCloudVariables.bind(this))}getCommonClientVariant(E){switch(E){case"ibeta":return T.CommonClientVariant.iBeta;case"release":return T.CommonClientVariant.Release;default:return T.CommonClientVariant.Undefined}}setUserInfo(E){this.clientInfo.userId=E.userId||B.wy.Undefined,this.clientInfo.idpId=E.idpId||B.wy.Undefined}setCvList(E){this.cvList=E,this.isCvListInitialized$.next(!0)}cvListInitialized(){return this.isCvListInitialized$.asObservable()}fetchCloudVariables(){return(0,a.aj)([this.isGxTargetConfiguredCorrectly(),this.cvListInitialized()]).pipe((0,d.q)(1),(0,A.zg)(([E,ee])=>E?(0,v.D)([this.readFromSharedStorage(this.getSharedStorageKey(B.yz.USER_ID)),this.readFromSharedStorage(this.getSharedStorageKey(B.yz.DEVICE_ID))]):(this.batchCvsInitialized.next(!0),(0,o._)(`client info not available -> clientId, clientVersion, userId, idpId, deviceId, \n                        clientVariant, clientType, deviceOS, deviceOSVersion, deviceType, deviceModel, deviceMake:\n                        ${this.clientInfo.clientId}, ${this.clientInfo.clientVer}, ${this.clientInfo.userId},\n                        ${this.clientInfo.idpId}, ${this.clientInfo.deviceId}, ${this.clientInfo.clientVariant},\n                        ${this.clientInfo.clientType}, ${this.clientInfo.deviceOS}, ${this.clientInfo.deviceOSVersion},\n                        ${this.clientInfo.deviceType}, ${this.clientInfo.deviceModel}, ${this.clientInfo.deviceMake}`))),(0,A.zg)(([E,ee])=>{const R=this.callGetMultipleCloudVariableApi(Object.assign({variant:this.config.clientVariant},this.clientInfo.clientType===T.CommonClientType.Browser&&{userDefaultUILanguage:this.localeService.getShortLocale()})).pipe((0,m.b)(_e=>{this.batchCvsInitialized.next(!0)}),(0,S.K)(_e=>{this.logger.error("Error in batch call",_e);const U=new Map;return this.batchCvsInitialized.next(!0),(0,p.of)(U)}));let q,ne;return this.logger.info("Requested cvs in batch call",this.cvList),(0,O.isEmpty)(E)?R:(this.cvList.forEach(_e=>{ne=E[_e],ne?(q={variation:ne.result,value:ne.value,activity:ne.activity,metadata:ne.metadata,isCachedResult:!0},this.cachedCloudVariableMap.set(_e,q)):ee&&ee[_e]&&(ne=ee[_e],ne&&(q={variation:ne.result,value:ne.value,activity:ne.activity,metadata:ne.metadata,isCachedResult:!0},this.cachedCloudVariableMap.set(_e,q)))}),R.subscribe(y.Z),R.pipe((0,s.L)(this.config.allCvNetworkTimeoutForCacheFallback,(0,p.of)(this.cachedCloudVariableMap))))}))}callGetMultipleCloudVariableApi(E={}){const ee=new Map,R=[],q=this.cloudVariableSdk.startSpan(u.j1.ClientGetCloudVariable);return(0,P.D)(this.cloudVariableSdk.getCloudVariables(this.cvList,!1,Object.assign(Object.assign({},this.commonClientParams),E),q).catch(ne=>{this.logger.error("Error in getCloudVariables from cloudVariableSdk",ne)})).pipe((0,A.zg)(ne=>{if((null==ne?void 0:ne.size)>0){this.sendCloudVariableFetchSuccessTelemetry(ne,I.GxTargetGetCloudVariable,w.GxTargetGetAllCloudVariables);const _e={name:void 0,variation:void 0,value:void 0,activity:void 0,isCachedResult:!1,state:T.CloudVariableStatus.Unknown};return this.cvList.forEach(U=>{if(ne.get(U)){const pe=ne.get(U);pe.clientRequestParams={commonClientParams:this.commonClientParams,additionalClientParams:E};const Pe={name:pe.name,variation:pe.result,value:pe.value,activity:pe.activity,metadata:pe.metadata,isCachedResult:!1,state:T.CloudVariableStatus.Unknown};ee.set(pe.name,Pe),R.push((0,p.of)(Pe))}else ee.set(U,_e)}),this.cloudVariableSdk.closeSpan(q),(0,C.$R)(...R)}return void 0===ne?(this.sendCloudVariableFetchFailureTelemetry(ne,I.GxTargetGetCloudVariable,w.GxTargetGetAllCloudVariables),this.logger.error("Batch call returned failure")):(this.sendCloudVariableFetchSuccessTelemetry(ne,I.GxTargetGetCloudVariable,w.GxTargetGetAllCloudVariables),this.logger.error("Batch call returned empty result")),q.setTag(u.NI.Error,!0),this.cloudVariableSdk.closeSpan(q),(0,p.of)(new Map)}),(0,r.U)(()=>ee),(0,l.d)(1))}refreshCloudVariables(){this.fetchCloudVariableStream.refresh()}get batchCvsFetchedStatus$(){return this.batchCvsInitialized.asObservable()}processStorageUpdateQueue(){if(this.storageUpdateQueue.pop(),this.storageUpdateQueue.length){this.logger.info("Processing next experiment in queue");const E=this.storageUpdateQueue.pop(),ee=this.getSharedStorageKey(E.activity.activationType);this.writeToSharedStorage(ee,E)}}cleanupStorageBlock(E){const ee=new Set(Object.values(this.config.experiences));for(const R in E)ee.has(R)||(this.logger.info(`removing deprecated activity: ${R} from storage`),delete E[R]);return E}updateExperimentRefreshDate(E){return E.metadata||(E.metadata={}),E.metadata.refreshDate=new Date,E}initialize(E,ee){let R;this.hostClientType=E||G.Unknown,R=Y.ng.isCefPlatform()?(0,a.aj)([this.systemInfoService.getDeviceId(),this.systemInfoService.getOsInformation(),this.systemInfoService.getDeviceOSType(),this.systemInfoService.getDeviceType(),this.systemInfoService.getSystemName(),this.systemInfoService.getVendorName()]).pipe((0,r.U)(([q,ne,_e,U,re,pe])=>({deviceId:q,osName:ne.OSName,osVersion:ne.OSVersion,osType:_e,deviceType:U,browserType:Y.Ob.BrowserNameNative,deviceModel:re,deviceMake:pe}))):this.systemInfoService.getSystemInfo().pipe((0,r.U)(q=>({deviceId:q.DeviceId,osName:q.OSName,osVersion:q.OSVersion,osType:q.OSName,deviceType:q.DeviceType,browserType:q.BrowserName,deviceModel:q.SystemName,deviceMake:q.VendorName}))),(0,a.aj)([R,ee]).pipe((0,A.zg)(([q,ne])=>{this.clientInfo.deviceId=q.deviceId,this.clientInfo.browserType=q.browserType,this.clientInfo.deviceOS=q.osType,this.deviceOSName=q.osName,this.clientInfo.deviceType=q.deviceType||B.wy.Undefined,this.clientInfo.deviceMake=q.deviceMake||B.wy.Undefined,this.clientInfo.deviceModel=q.deviceModel||B.wy.Undefined,this.clientInfo.deviceOSVersion=q.osVersion,this.clientInfo.clientType=Y.ng.isBrowserPlatform()?T.CommonClientType.Browser:T.CommonClientType.Native,this.updateCommonClientParams(b.OSName,this.getSupportedOSName(q.osName)),this.logger.info("Client info at initialize:",this.clientInfo);const U=this.config;return this.cloudVariableSdk=new T.CloudVariableSdkService({url:U.server,defaultRetries:U.defaultRetries,defaultTimeBetweenRetries:U.defaultTimeBetweenRetries,defaultTimeout:U.defaultTimeout,cacheMaxAge:U.cacheMaxAge,storageConfig:{storageType:T.StorageType.IndexedDB},loggingLevel:T.LoggingLevel.Info,clientInfo:this.clientInfo},{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.config.openTracingConfig.componentName,disable_clock_skew_correction:!0,access_token:this.config.openTracingConfig.accessToken},this.readFromSharedStorage,this.writeToSharedStorage,this.getSharedStorageKey),this.initGlobalTagsForOpenTracing(ne,E),(0,p.of)(!0)})).subscribe(()=>{this.logger.info("Initialized successfully"),this.isInitialized$.next(!0)},q=>{this.logger.error("Error initializing service",q),this.isInitialized$.next(!1)})}initGlobalTagsForOpenTracing(E,ee){this.cloudVariableSdk.updateGlobalTags({[u.NI.ServiceVersion]:this.clientInfo.clientVer,[u.NI.ServiceType]:u.sk.Pc_A7,[u.NI.SpanKind]:u.$Q.Client,[u.NI.AppName]:ee,[u.NI.DeviceId]:this.clientInfo.deviceId,[u.NI.ClientOs]:this.clientInfo.deviceOS,[u.NI.ClientOsName]:this.deviceOSName,[u.NI.ClientOsVersion]:this.clientInfo.deviceOSVersion,[u.NI.CountryCode]:E})}getSupportedOSName(E){switch(null==(E=null!=E&&E.toLowerCase().includes("windows")?"windows":E)?void 0:E.toLowerCase()){case"windows":return"WINDOWS";case"mac":case"macos":return"MACOS";case"linux":return"LINUX";case"chrome os":case"chromeos":return"CHROMEOS";case"ios":return"IOS";case"ipados":return"IPADOS";case"webos":return"WEBOS";case"tizen":return"TIZEN";case"xbox":return"XBOX";case"android":return"ANDROID";default:return this.logger.info("Cannot get supported OS name for OS: ",E),""}}updateCommonClientParams(E,ee){E&&ee&&(this.commonClientParams[E]=ee)}getCloudVariable(E,ee={},R,q,ne,_e){return this.config.denyListExperiences.includes(E)?this.fetchSingleCloudVariable(E,ee,R,q,ne,_e).pipe((0,m.b)(U=>this.logger.info("Received requested cloud variable information: ",E,U))):this.batchCvsFetchedStatus$.pipe((0,d.q)(1),(0,A.zg)(()=>this.fetchCloudVariableStream.get$().pipe((0,A.zg)(U=>{const re=U.get(E);return re?null!=re&&re.value?(0,p.of)(re):(0,o._)(f):this.fetchSingleCloudVariable(E,ee,R,q,ne,_e)}),(0,m.b)(U=>{this.logger.info("Received requested cloud variable information: ",E,U)}),(0,S.K)(U=>(0,o._)(U)))))}fetchSingleCloudVariable(E,ee={},R,q,ne,_e){let U,re;return this.logger.info("fetchSingleCloudVariable called for ",E),this.isGxTargetConfiguredCorrectly(_e).pipe((0,A.zg)(([pe])=>(this.logger.info("cloud variable requested with params",E,ee,Object.assign({},this.clientInfo)),pe?this.fetchCachedData(E):(0,o._)(`client info not available -> clientId, clientVersion, userId, \n                        idpId, deviceId, clientVariant, clientType, deviceOS, deviceOSVersion, deviceType, deviceModel, deviceMake:\n                        ${this.clientInfo.clientId}, ${this.clientInfo.clientVer}, ${this.clientInfo.userId},\n                        ${this.clientInfo.idpId}, ${this.clientInfo.deviceId}, ${this.clientInfo.clientVariant},\n                        ${this.clientInfo.clientType}, ${this.clientInfo.deviceOS}, ${this.clientInfo.deviceOSVersion},\n                        ${this.clientInfo.deviceType}, ${this.clientInfo.deviceModel}, ${this.clientInfo.deviceMake}`))),(0,A.zg)(pe=>{U=pe,re=U&&U[E];const Pe=this.callGetCloudVariableApi(E,ee,re,U,q,ne);if(re){const Te={additionalClientParams:ee,commonClientParams:this.commonClientParams},me=this.cacheIsCurrent(re,null==R?void 0:R.cacheLifetimeOverride)&&(0,O.isEqual)(Te,re.clientRequestParams),et=(0,p.of)({name:re.name,variation:re.result,value:re.value,activity:re.activity,metadata:re.metadata,isCachedResult:!0,state:T.CloudVariableStatus.Unknown});if(null!=R&&R.useCache){if(me)return et}else if(null!=R&&R.useNetworkTimeoutForCacheFallback)return Pe.subscribe(y.Z,Xe=>{this.logger.info(`Error while fetching ${E}`,Xe)}),Pe.pipe((0,s.L)(this.config.networkTimeoutForCacheFallback,et))}return Pe}))}callGetCloudVariableApi(E,ee={},R,q,ne,_e){const U=this.cloudVariableSdk.startSpan(u.j1.ClientGetCloudVariable);return(0,P.D)(this.cloudVariableSdk.getCloudVariable(E,!1,Object.assign(Object.assign({},this.commonClientParams),ee),U).catch(re=>{this.logger.error("Error in getCloudVariable from cloudVariableSdk",re)})).pipe((0,A.zg)(re=>{if(re){if(this.sendCloudVariableFetchSuccessTelemetry(re,ne,_e),(0,O.isEmpty)(re))return(0,o._)(new f);this.cloudVariableSdk.closeSpan(U);const pe=re;return pe.clientRequestParams={commonClientParams:this.commonClientParams,additionalClientParams:ee},(0,p.of)({name:pe.name,variation:pe.result,value:pe.value,activity:pe.activity,metadata:pe.metadata,isCachedResult:!1,state:T.CloudVariableStatus.Unknown})}return void 0===re?(0,o._)(new D):(this.sendCloudVariableFetchSuccessTelemetry(re,ne,_e),(0,o._)(new f))}),(0,S.K)(re=>(U.setTag(u.NI.Error,!0),this.cloudVariableSdk.closeSpan(U),re instanceof f?R?this.cleanupExperienceForCloudVariable(E,q).pipe((0,A.zg)(()=>(0,o._)(re))):(this.logger.info("Empty cloud variable and no cached response"),(0,o._)(re)):R?(this.logger.info(`Applying cached experiment: ${E}`),this.sendCloudVariableFetchFailureTelemetry(re,ne,_e),(0,p.of)({name:R.name,variation:R.result,value:R.value,activity:R.activity,metadata:R.metadata,isCachedResult:!0,state:T.CloudVariableStatus.Unknown})):(this.sendCloudVariableFetchFailureTelemetry(re,ne,_e),(0,o._)(re)))),(0,l.d)(1))}cleanupExperienceForCloudVariable(E,ee){const ne=this.getSharedStorageKey(ee[E].activity.activationType);return this.logger.info(`Empty experiment list clearing the cache for: ${E}`),delete ee[E],this.sharedStorageService.writeBlock(ne,ee)}fetchCachedData(E){let ee=(0,p.of)({});if(this.clientInfo.userId!==B.wy.Undefined){const R=this.getSharedStorageKey(B.yz.USER_ID);ee=this.readFromSharedStorage(R)}return(0,v.D)([ee,this.readFromSharedStorage(this.getSharedStorageKey(B.yz.DEVICE_ID))]).pipe((0,A.zg)(([R,q])=>{let ne;return R&&R[E]?(this.logger.info("found activity in user storage",E,R[E]),ne=R):q&&q[E]?(this.logger.info("found activity in global storage",E,q[E]),ne=q):ne={},(0,p.of)(ne)}))}cacheIsCurrent(E,ee=this.cacheMaxAge){return-1===ee?!!E:!!(E&&i(new Date).diff(i(this.getExperimentRefreshDate(E)),"minutes")<=ee)}getExperimentRefreshDate(E){return E.metadata&&E.metadata.refreshDate}isGxTargetConfiguredCorrectly(E){let ee=this.isInitialized$;return E&&(ee=this.isInitialized$.pipe((0,A.zg)(()=>E),(0,A.zg)(R=>(this.logger.info("Setting user info"),this.setUserInfo(R),(0,p.of)(R))))),ee.pipe((0,d.q)(1),(0,r.U)(()=>[!!(this.clientInfo.clientId&&this.clientInfo.clientVer&&this.clientInfo.deviceId),this.clientInfo.clientId,this.clientInfo.clientVer,this.clientInfo.deviceId,this.clientInfo.userId,this.clientInfo.idpId,this.clientInfo.browserType,this.clientInfo.clientVariant,this.clientInfo.clientType,this.clientInfo.deviceOS,this.clientInfo.deviceOSVersion,this.clientInfo.deviceType,this.clientInfo.deviceModel,this.clientInfo.deviceMake]))}sendCloudVariableFetchFailureTelemetry(E,ee,R){var q,ne,_e;const U=new Z({sourceComponent:this.hostClientType||G.Unknown,originalService:F.GxTarget,serviceUseCase:ee,serviceSubUseCase:R,url:(null===(q=null==E?void 0:E.config)||void 0===q?void 0:q.url)||"",networkErrorCode:String(E&&E.response?E.response.status:0),destinationIp:"",xRequestId:E&&E.xRequestId?E.xRequestId:"",retryCount:0,wasSWCacheBypassed:J.UNDEFINED,networkErrorMessage:(null===(_e=null===(ne=null==E?void 0:E.response)||void 0===ne?void 0:ne.message)||void 0===_e?void 0:_e.substring(0,1024))||""});this.telemetryService.push(U)}sendCloudVariableFetchSuccessTelemetry(E,ee,R){const q=new ue({sourceComponent:this.hostClientType||G.Unknown,originalService:F.GxTarget,serviceUseCase:ee,serviceSubUseCase:R,url:(null==E?void 0:E.url)||"",httpStatus:(null==E?void 0:E.httpStatus)||200,durationMs:Math.round(null==E?void 0:E.durationMs)||0,destinationIp:"",responseData:"",xRequestId:(null==E?void 0:E.xRequestId)||"",retryCount:0,wasSWCacheBypassed:J.UNDEFINED});this.telemetryService.push(q)}}return H.\u0275fac=function(E){return new(E||H)(t.LFG(x),t.LFG(Y.ed),t.LFG(B.y0),t.LFG(k.OA),t.LFG(Y.Ob),t.LFG(W.O_),t.LFG(Y.OL))},H.\u0275prov=t.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},11688:(Ge,ae,e)=>{"use strict";e.d(ae,{z8:()=>T,Se:()=>_,GM:()=>Y});var t=e(64710),n=e(23815),x=e(42520),M=e(42930),L=e(39700),p=e(53809),P=e(86283),a=e(50608),o=e(47504),v=e(13800),y=e(4042),C=e(58765),A=e(89258),d=e(12606),m=e(57693),S=e(71265),s=e(74266),r=e(57441),l=e(2502),i=e(39609);const Y=new i.OlP("NV_GAMEPAD_CONFIG");var T=(()=>{return($=T||(T={}))[$.A=0]="A",$[$.B=1]="B",$[$.X=2]="X",$[$.Y=3]="Y",$[$.LeftBumper=4]="LeftBumper",$[$.RightBumper=5]="RightBumper",$[$.LeftTrigger=6]="LeftTrigger",$[$.RightTrigger=7]="RightTrigger",$[$.Back=8]="Back",$[$.Start=9]="Start",$[$.LeftStick=10]="LeftStick",$[$.RightStick=11]="RightStick",$[$.DpadUp=12]="DpadUp",$[$.DpadDown=13]="DpadDown",$[$.DpadLeft=14]="DpadLeft",$[$.DpadRight=15]="DpadRight",$[$.Center=16]="Center",T;var $})(),B=e(45908);const f=.6,D=.05,I=250;function w(){return(0,v.w)($=>$?(0,x.T)((0,n.of)(!0),(0,M.H)(I,I).pipe((0,y.h)(!0))):(0,n.of)(!1))}let _=(()=>{class ${constructor(F,J,z,Z,ue,u){this.ngZone=z,this.browserSupportService=Z,this.systemInfoService=ue,this.doNotUseWebGamepadAPI=!(null==u||!u.doNotUseWebGamepadAPI),this.logger=F.getLogger("GamepadService"),z.runOutsideAngular(()=>{this._isGamepadConnected$=this.doNotUseWebGamepadAPI?(0,n.of)(!1):(0,x.T)((0,L.R)(window,"gamepadconnected"),(0,L.R)(window,"gamepaddisconnected")).pipe((0,C.O)(0),(0,A.U)(N=>this.browserSupportService.getGamepads().some(H=>null==H?void 0:H.connected)),(0,d.x)(),(0,m.d)(1)),this.gamepadsTick$=this.doNotUseWebGamepadAPI?p.E:this._isGamepadConnected$.pipe((0,v.w)(N=>N?(this.logger.info("Start polling gamepad state"),J.leanModeTransitionState.pipe((0,C.O)(10),(0,A.U)(H=>H?33:10),(0,d.x)(),(0,S.b)(H=>{this.logger.info(`Polling gamepad state with period: ${H} ms`)}),(0,v.w)(H=>(0,P.F)(H)))):(this.logger.info("Stop polling gamepad state"),a.C)),(0,A.U)(N=>Z.getGamepads().filter(H=>(null==H?void 0:H.connected)&&(!!t.ng.isAndroidPlatform()||(N=>"standard"===(null==N?void 0:N.mapping))(H)))),(0,s.h)(N=>N.length>0),(0,r.B)())})}get isGamepadConnected$(){const F=this.systemInfoService.getHidInformation().pipe((0,A.U)(z=>{var Z;return(null===(Z=null==z?void 0:z.GamePad)||void 0===Z?void 0:Z.length)>0}));return(0,o.aj)([F,this._isGamepadConnected$]).pipe((0,A.U)(([z,Z])=>z||Z))}get isAnyGamepadInUse$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAnyAxisTriggeredOrButtonPressed(J))),(0,d.x)()))}get leftPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAxisTriggeredOrButtonPressed(J,z=>z[0]<-f,T.DpadLeft))),(0,d.x)(),w()))}get rightPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAxisTriggeredOrButtonPressed(J,z=>z[0]>f,T.DpadRight))),(0,d.x)(),w()))}get upPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAxisTriggeredOrButtonPressed(J,z=>z[1]<-f,T.DpadUp))),(0,d.x)(),w()))}get downPressed$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAxisTriggeredOrButtonPressed(J,z=>z[1]>f,T.DpadDown))),(0,d.x)(),w()))}get rightStickMoved$(){return this.ngZone.runOutsideAngular(()=>this.gamepadsTick$.pipe((0,A.U)(F=>F.some(J=>this.isAxisTriggeredOrButtonPressed(J,z=>z[2]>D||z[3]<-D,T.RightStick))),(0,d.x)()))}onButtonPressed$(F,J){return this.ngZone.runOutsideAngular(()=>this.getButtonPressed$(this.gamepadsTick$,F,J))}onButtonLongPressed$(F){return this.ngZone.runOutsideAngular(()=>this.getButtonPressed$(this.gamepadsTick$,F).pipe((0,v.w)(J=>J?(0,n.of)(!0).pipe((0,l.g)(800)):a.C)))}onButtonComboPressed$(F){return this.ngZone.runOutsideAngular(()=>this.getButtonComboPressed$(this.gamepadsTick$,F))}getButtonComboPressed$(F,J){return F.pipe((0,A.U)(z=>z.some(Z=>J.every(ue=>this.isButtonPressed(Z,ue)))),(0,d.x)())}getButtonPressed$(F,J,z){const Z=!(null==z||!z.repeat),ue=F.pipe((0,A.U)(u=>u.some(k=>this.isButtonPressed(k,J,null==z?void 0:z.customButtonIndex))),(0,d.x)());return Z?ue.pipe(w()):ue}isButtonPressed(F,J,z){return F.buttons[null!=z?z:J].pressed}isAxisTriggeredOrButtonPressed(F,J,z){return J(F.axes)||this.isButtonPressed(F,z)}isAnyAxisTriggeredOrButtonPressed(F){return F.buttons.some(Z=>Z.pressed)||F.axes.some(Z=>Z>D||Z<-D)}}return $.\u0275fac=function(F){return new(F||$)(i.LFG(t.ed),i.LFG(t.rn),i.LFG(i.R0b),i.LFG(B.OA),i.LFG(t.Ob),i.LFG(Y,8))},$.\u0275prov=i.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},64259:(Ge,ae,e)=>{"use strict";e.d(ae,{a7:()=>L,H0:()=>S,sd:()=>r,sy:()=>C,kQ:()=>s});var t=e(23815),n=e(33932),x=e(92940),M=e(85566);const L={server:"https://telemetry.gfe.nvidia.com",version:"v1.0",schemaVersion:"",defaultRetries:2,defaultTimeBetweenRetries:1e3,defaultTimeout:3e4,msBetweenChunkCreation:3e5,maxBufferSizeInBytes:25600,chunksQueueSize:20,chunkResendRetryLimit:2,clientId:""};var v=(()=>{return(l=v||(v={})).GfcHeadRequest="FeedbackHead",l.GfcAttachmentRequest="FeedbackAttachment",v;var l})(),y=e(39609);let C=(()=>{class l{}return l.\u0275fac=function(O){return new(O||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();var A=e(85948);const m="gfc/v4.0/attachment";let S=(()=>{class l{constructor(O,Y){this.serverConfig=O,this.endpointFactory=Y,this.latestOffset=0,this.commonFeedbackEventData={},this.previousChunkDataSize=0,this.cryptoLib=x.fs.crypto,this.prepareCommonFeedbackData(O),this.feedbackEndpointUrl=this.prepareFeedbackEndpoint(),this.feedbackAttachmentEndpointUrl=this.prepareFeedbackAttachmentEndpoint()}generateUrl(O){return this.serverConfig.server+"/"+O}computeSHA256Checksum(O){let Y="";if(!(0,M.isEmpty)(O)){const T=new this.cryptoLib.MessageDigest({alg:"sha256",prov:"cryptojs"});T.updateString(O),Y=T.digest()}return Y}getDataSize(O){return(0,M.isEmpty)(O)?0:new Blob([O]).size}prepareFeedbackEndpoint(){return this.feedbackEndpointUrl=this.endpointFactory.createEndpoint({headers:{"Content-Type":"application/json"},config:{timeout:this.serverConfig.defaultTimeout,timeBetweenRetries:this.serverConfig.defaultTimeBetweenRetries,maxRetries:this.serverConfig.defaultRetries},reportRequestData:{originalService:"Gfc",serviceUseCase:v.GfcHeadRequest,reportSuccessTelemetry:"false"}}),this.feedbackEndpointUrl}prepareFeedbackAttachmentEndpoint(){return this.feedbackAttachmentEndpointUrl=this.endpointFactory.createEndpoint({config:{timeout:this.serverConfig.defaultTimeout,timeBetweenRetries:this.serverConfig.defaultTimeBetweenRetries,maxRetries:this.serverConfig.defaultRetries},reportRequestData:{originalService:"Gfc",serviceUseCase:v.GfcAttachmentRequest,reportSuccessTelemetry:"false"}}),this.feedbackAttachmentEndpointUrl}prepareCommonFeedbackData(O){this.commonFeedbackEventData=(0,M.extend)(this.commonFeedbackEventData,{clientId:O.clientId,feedbackProtocol:"4.4",feedbackSchemaVer:O.schemaVersion,feedbackSysVer:O.version})}buildGFCMultipartData(O,Y,T,B,K=0,b=!1){const f=new FormData;return f.append("data2",new Blob([O])),f.append("feedbackId",Y),f.append("size",T.toString()),f.append("checksum",this.computeSHA256Checksum(O)),B&&f.append("parameters",JSON.stringify(B.parameters)),f.append("offset",K.toString()),b&&f.append("eob","true"),f}updatePreviousChunkSizeAndBuildMultipartData(O,Y,T=!1){return this.previousChunkDataSize=this.getDataSize(O),this.buildGFCMultipartData(O,this.xFeedbackId,this.previousChunkDataSize,Y,this.latestOffset,T)}sendFeedbackHeadRequest(O){return O=(0,M.merge)(O,this.commonFeedbackEventData),this.feedbackEndpointUrl.makeRequestEx("POST",this.generateUrl("gfc/v4.0/head"),{body:O,headers:{"Content-Type":"application/json"},withCredentials:!0})}sendFeedbackEvent(O){return this.latestOffset=0,this.xFeedbackId=O.feedbackId,this.sendFeedbackHeadRequest(O)}sendFeedbackChunkEvent(O,Y,T=!1,B){if(T){if(null!=B&&B.isBrowserClosing)return this.sendLastFeedbackChunkEvent(O,Y),(0,t.of)({});{B.prevChunkInProgress&&this.updateOffsetOnSuccessfulAttachmentRequest();const K=this.updatePreviousChunkSizeAndBuildMultipartData(O,Y,!0);return this.latestOffset=0,this.sendFeedbackAttachmentReq(K)}}{const K=this.updatePreviousChunkSizeAndBuildMultipartData(O,Y);return this.sendFeedbackAttachmentReq(K)}}sendFeedbackAttachmentReq(O){return this.feedbackAttachmentEndpointUrl.makeRequestEx("POST",this.generateUrl(m),{body:O,withCredentials:!0})}sendLastFeedbackChunkEvent(O,Y){const T=this.updatePreviousChunkSizeAndBuildMultipartData(O,Y,!0);navigator.sendBeacon(this.generateUrl(m),T),this.latestOffset=0}updateOffsetOnSuccessfulAttachmentRequest(O){this.latestOffset=O||Number(this.latestOffset)+Number(this.previousChunkDataSize)}sendFeedbackBasedOnTechConsent(O,Y,T){return O.sentTs=(new Date).toISOString(),this.sendFeedbackHeadRequest(O).pipe((0,n.zg)(()=>{if(Y){const B=this.buildGFCMultipartData(T,O.feedbackId,this.getDataSize(T),void 0,0,!0);return this.sendFeedbackAttachmentReq(B)}return(0,t.of)(!0)}))}}return l.\u0275fac=function(O){return new(O||l)(y.LFG(C),y.LFG(A.V9))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const s="undefined";let r=(()=>{class l{static forRoot(O){return{ngModule:l,providers:[{provide:C,useValue:O||L}]}}}return l.\u0275fac=function(O){return new(O||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({}),l})()},74482:(Ge,ae,e)=>{"use strict";e.d(ae,{G:()=>z});var t=e(59562),n=e(23815),x=e(47504),M=e(2629),L=e(33932),p=e(13800),P=e(89258),a=e(51325),o=e(21361),v=e(70494),y=e(64710);const C="desktop",A="browser",d="android",S="selectOtherLayout";var s=(()=>{return(Z=s||(s={})).WindowsOS="Windows",Z.BrowserChromeOS="ChromeOS",Z.BrowserMacOS="macOS",Z.NativeMacOS="Mac",Z.XboxOS="Xbox",Z.AndroidOS="Android",Z.ShieldOS="Shield",s;var Z})(),r=(()=>{return(Z=r||(r={})).Default="default",Z.Mac="mac",r;var Z})();const l={WindowsOS:r.Default,BrowserChromeOS:r.Default,BrowserMacOS:r.Mac,NativeMacOS:r.Mac,XboxOS:r.Default,AndroidOS:r.Default},i={[C+s.WindowsOS]:"en-US",[C+s.NativeMacOS]:"m-us",[A+s.WindowsOS]:"en-US",[A+s.BrowserMacOS]:"m-us",[A+s.BrowserChromeOS]:"en-US",[A+s.XboxOS]:"en-US",[d+s.AndroidOS]:"en-US",[d+s.ShieldOS]:"en-US"},O=[`${C}${s.WindowsOS}`,`${C}${s.NativeMacOS}`,`${A}${s.WindowsOS}`,`${A}${s.BrowserMacOS}`,`${A}${s.BrowserChromeOS}`,`${A}${s.XboxOS}`,`${d}${s.AndroidOS}`,`${d}${s.ShieldOS}`],Y={albanian:{default_keyCode:"sq-AL"},armenianPhonetic:{default_keyCode:"hy-AM"},assameseInscript:{default_keyCode:"as-IN"},azerbaijaniCyrillic:{default_keyCode:"az-Cyrl-AZ"},azerbaijaniLatin:{default_keyCode:"az-Latn-AZ"},banglaIndia:{default_keyCode:"bn-IN"},bashkir:{default_keyCode:"ba-RU"},belarusian:{default_keyCode:"be-BY"},belgianPeriod:{default_keyCode:"nl-BE"},belgianFrench:{default_keyCode:"fr-BE"},bosnianCyrillic:{default_keyCode:"bs-Cyrl-BA"},bulgarian:{default_keyCode:"bg-BG"},canadianEnglish:{default_keyCode:"en-CA"},canadianFrench:{default_keyCode:"fr-CA"},cherokeeNation:{default_keyCode:"chr-Cher-US"},chineseSimplified:{default_keyCode:"zh-CN"},chineseSimplifiedSingapore:{default_keyCode:"zh-SG"},chineseTraditional:{default_keyCode:"zh-TW"},chineseTraditionalHongKongSAR:{default_keyCode:"zh-HK"},chineseTraditionalMacaoSAR:{default_keyCode:"zh-MO"},croatian:{default_keyCode:"hr-HR",mac_keyCode:"m-hr"},czech:{default_keyCode:"cs-CZ",mac_keyCode:"m-cs"},danish:{default_keyCode:"da-DK",mac_keyCode:"m-da"},divehiPhonetic:{default_keyCode:"dv-MV"},dutch:{default_keyCode:"nl-NL",mac_keyCode:"m-nl-NL"},dzongkha:{default_keyCode:"dz-BT"},englishIndia:{default_keyCode:"en-IN"},englishUK:{default_keyCode:"en-GB",mac_keyCode:"m-brit"},englishUS:{default_keyCode:"en-US",mac_keyCode:"m-us"},estonian:{default_keyCode:"et-EE",mac_keyCode:"m-et"},faeroese:{default_keyCode:"fo-FO"},finnish:{default_keyCode:"fi-FI",mac_keyCode:"m-fi"},french:{default_keyCode:"fr-FR",mac_keyCode:"m-fr"},georgianQWERTY:{default_keyCode:"ka-GE"},german:{default_keyCode:"de-DE",mac_keyCode:"m-de"},greek:{default_keyCode:"el-GR",mac_keyCode:"m-el"},greenlandic:{default_keyCode:"kl-GL"},guarani:{default_keyCode:"gn-PY"},gujarati:{default_keyCode:"gu-IN"},hausa:{default_keyCode:"ha-Latn-NG"},hebrew:{default_keyCode:"he-IL"},hindiTraditional:{default_keyCode:"hi-IN"},hungarian:{default_keyCode:"hu-HU",mac_keyCode:"m-hu"},icelandic:{default_keyCode:"is-IS",mac_keyCode:"m-is"},igbo:{default_keyCode:"ig-NG"},inuktitutLatin:{default_keyCode:"iu-Latn-CA"},inuktitutNaqittaut:{default_keyCode:"iu-Cans-CA"},irish:{default_keyCode:"en-IE",mac_keyCode:"m-en-ie"},italian:{default_keyCode:"it-IT"},japanese106:{default_keyCode:"ja-106",mac_keyCode:"m-ja-106"},kannada:{default_keyCode:"kn-IN"},kazakh:{default_keyCode:"kk-KZ"},khmer:{default_keyCode:"km-KH"},korean:{default_keyCode:"ko-KR"},kyrgyzCyrillic:{default_keyCode:"ky-KG"},lao:{default_keyCode:"lo-LA"},latvianStandard:{default_keyCode:"lv-LV"},lithuanian:{default_keyCode:"lt-LT"},luxembourgish:{default_keyCode:"lb-LU"},macedonianStandard:{default_keyCode:"mk-MK"},malayalam:{default_keyCode:"ml-IN"},marathi:{default_keyCode:"mr-IN"},mongolianCyrillic:{default_keyCode:"mn-MN"},mongolianMongolianScriptStandard:{default_keyCode:"mn-Mong-CN"},nepali:{default_keyCode:"ne-NP"},norwegian:{default_keyCode:"nb-NO",mac_keyCode:"m-no"},norwegianSami:{default_keyCode:"se-NO"},odia:{default_keyCode:"or-IN"},pashtoAfghanistan:{default_keyCode:"ps-AF"},persian:{default_keyCode:"fa-IR"},polish:{default_keyCode:"pl-PL"},portuguese:{default_keyCode:"pt-PT",mac_keyCode:"m-pt"},portugueseBrazilianABNT:{default_keyCode:"pt-BR"},punjabiGurumukhi:{default_keyCode:"pa-IN"},russian:{default_keyCode:"ru-RU",mac_keyCode:"m-ru"},sakha:{default_keyCode:"sah-RU"},serbianCyrillic:{default_keyCode:"sr-Cyrl-CS"},serbianLatin:{default_keyCode:"sr-Latn-CS",mac_keyCode:"sr-Latn"},sesothoSaLeboa:{default_keyCode:"nso-ZA"},setswana:{default_keyCode:"tn-ZA"},sinhala:{default_keyCode:"si-LK"},slovak:{default_keyCode:"sk-SK",mac_keyCode:"m-sk"},slovenian:{default_keyCode:"sl-SI",mac_keyCode:"m-sl"},sorbianStandard:{default_keyCode:"hsb-DE"},spanish:{default_keyCode:"es-ES_tradnl",mac_keyCode:"m-es"},spanishLatinAmerican:{default_keyCode:"es-MX"},swedish:{default_keyCode:"sv-SE",mac_keyCode:"m-sv"},swedishSami:{default_keyCode:"se-SE"},swissFrench:{default_keyCode:"fr-CH",mac_keyCode:"m-ch-fr"},swissGerman:{default_keyCode:"de-CH",mac_keyCode:"m-ch-de"},syriac:{default_keyCode:"syr-SY"},tajik:{default_keyCode:"tg-Cyrl-TJ"},tamazightCentral:{default_keyCode:"tzm-Latn-DZ"},tamil:{default_keyCode:"ta-IN"},tatar:{default_keyCode:"tt-RU"},telugu:{default_keyCode:"te-IN"},thaiKedmanee:{default_keyCode:"th-TH"},tibetanPRCStandard:{default_keyCode:"bo-CN"},turkishQ:{default_keyCode:"tr-TR"},turkmen:{default_keyCode:"tk-TM"},urdu:{default_keyCode:"ur-PK"},uyghur:{default_keyCode:"ug-CN"},uzbekCyrillic:{default_keyCode:"uz-Cyrl-UZ"},vietnamese:{default_keyCode:"vi-VN"},wolof:{default_keyCode:"wo-SN"},yoruba:{default_keyCode:"yo-NG"},australian:{mac_keyCode:"m-AU"},austrian:{mac_keyCode:"m-AT"},belgian:{mac_keyCode:"m-nl-be"},brazilian:{mac_keyCode:"m-pt-br"},canadian:{mac_keyCode:"m-en-ca"},canadianCSA:{mac_keyCode:"m-ca-csa"},croatianPC:{default_keyCode:"hr-BA"},dvorak:{mac_keyCode:"m-dv"},englishABC:{mac_keyCode:"m-en-abc"},englishABCAZERTY:{mac_keyCode:"m-fr-abc"},englishUSInternationalPC:{mac_keyCode:"m-us-int"},faroese:{mac_keyCode:"m-fo"},frenchNumerical:{mac_keyCode:"m-fr-num"},frenchPC:{mac_keyCode:"m-fr-pc"},hawaiian:{default_keyCode:"haw-US"},italianPro:{mac_keyCode:"m-it-pro"},latvian:{mac_keyCode:"m-lv"},maltese:{default_keyCode:"mt-MT"},maori:{default_keyCode:"mi-NZ"},polishPro:{mac_keyCode:"m-pl-pro"},romanian:{mac_keyCode:"m-ro"},romanianStandard:{default_keyCode:"ro-RO"},serbian:{default_keyCode:"sr-Cyrl"},spanishISO:{mac_keyCode:"m-es-ISO"},swedishPro:{mac_keyCode:"m-sv-pro"},turkishQWERTY:{mac_keyCode:"m-tr-qty"},ukrainian:{mac_keyCode:"m-uk"},ukrainianPC:{default_keyCode:"uk-UA"},welsh:{default_keyCode:"cy-GB"},arabic101:{default_keyCode:"ar-SA"},japanese102:{default_keyCode:"ja-JP"},arabic:{mac_keyCode:"m-ar"},russianPC:{mac_keyCode:"m-ru-win"},russianPhonetic:{mac_keyCode:"m-ru-ph"}},T_windowsList=["albanian","arabic101","armenianPhonetic","assameseInscript","azerbaijaniCyrillic","azerbaijaniLatin","banglaIndia","bashkir","belarusian","belgianPeriod","belgianFrench","bosnianCyrillic","bulgarian","canadianEnglish","canadianFrench","cherokeeNation","chineseSimplified","chineseSimplifiedSingapore","chineseTraditional","chineseTraditionalHongKongSAR","chineseTraditionalMacaoSAR","croatian","czech","danish","divehiPhonetic","dutch","dzongkha","englishIndia","englishUK","welsh","englishUS","estonian","faeroese","finnish","french","georgianQWERTY","german","greek","greenlandic","guarani","gujarati","hausa","hebrew","hindiTraditional","hungarian","icelandic","igbo","inuktitutLatin","inuktitutNaqittaut","irish","italian","japanese106","japanese102","kannada","kazakh","khmer","korean","kyrgyzCyrillic","lao","latvianStandard","lithuanian","luxembourgish","macedonianStandard","malayalam","maltese","maori","marathi","mongolianCyrillic","mongolianMongolianScriptStandard","nepali","norwegian","norwegianSami","odia","pashtoAfghanistan","persian","polish","portuguese","portugueseBrazilianABNT","punjabiGurumukhi","romanianStandard","russian","sakha","serbianCyrillic","serbianLatin","sesothoSaLeboa","setswana","sinhala","slovak","slovenian","sorbianStandard","spanish","spanishLatinAmerican","swedish","swedishSami","swissFrench","swissGerman","syriac","tajik","tamazightCentral","tamil","tatar","telugu","thaiKedmanee","tibetanPRCStandard","turkishQ","turkmen","ukrainianPC","urdu","uyghur","uzbekCyrillic","vietnamese","wolof","yoruba"],T_macList=["arabic","australian","austrian","belgian","brazilian","bulgarian","belarusian","canadian","canadianCSA","chineseSimplified","chineseTraditional","croatian","croatianPC","czech","danish","dutch","dvorak","englishABC","englishABCAZERTY","englishUK","englishUS","englishUSInternationalPC","estonian","faroese","finnish","french","frenchNumerical","frenchPC","georgianQWERTY","german","greek","hawaiian","hebrew","hungarian","icelandic","irish","italian","italianPro","korean","latvian","lithuanian","macedonianStandard","maltese","maori","norwegian","polish","polishPro","portuguese","romanian","romanianStandard","russian","russianPC","russianPhonetic","serbian","serbianLatin","slovak","slovenian","spanish","spanishISO","swedish","swedishPro","swissFrench","swissGerman","turkishQWERTY","ukrainian","ukrainianPC","vietnamese","welsh","japanese106","japanese102"],T_browserWindowsList=["englishUS","spanishLatinAmerican","turkishQ","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","bulgarian","hebrew","croatian","dutch","slovak","serbianLatin","russian","chineseSimplified","japanese106","korean","chineseTraditional","japanese102"],T_browserMacList=["englishUS","englishABC","englishUK","spanishISO","canadian","german","french","italianPro","polishPro","frenchNumerical","englishUSInternationalPC","dutch","swedishPro","chineseSimplified","danish","hungarian","canadianCSA","finnish","russian","japanese106","korean","chineseTraditional"],T_browserXboxList=["englishUS","spanishLatinAmerican","turkishQ","russian","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","serbianLatin","hebrew","dutch"],T_androidList=["englishUS","spanishLatinAmerican","turkishQ","spanish","portugueseBrazilianABNT","french","englishUK","polish","german","hungarian","italian","romanianStandard","portuguese","czech","canadianEnglish","swedish","englishIndia","bulgarian","hebrew","croatian","dutch","slovak","serbianLatin","russian","chineseSimplified","japanese106","korean","chineseTraditional","japanese102"],B_browserWindowsList=["ru-RU"],B_browserMacList=["m-ru"];var K=(()=>{return(Z=K||(K={})).Functional="functional",Z.Technical="technical",Z.Behavioral="behavioral",K;var Z})();class b{constructor(ue){this.parameters=ue,this.ts=(new Date).toISOString()}}const f={OverrideKeyboardLayout:{name:"OverrideKeyboardLayout",gdprLevel:K.Functional}};class D extends b{constructor(ue){super(ue),this.name=f.OverrideKeyboardLayout.name,this.gdprLevel=f.OverrideKeyboardLayout.gdprLevel}}var I=e(39609),w=e(97483),_=e(91565),$=e(715),G=e(9357),F=o.Yk.Share.Shareserver.HotkeyEnum;const J="keyboardLayout";let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne){var _e;this.idmService=u,this.loggingService=k,this.systemInfoService=W,this.bridgeService=N,this.sharedStorage=H,this.translateService=h,this.localeService=E,this.experienceControl=ee,this.telemetryService=R,this.hotKeyHelper=q,this.config=ne,this.defaultKbLayout$=new t.t(1),this.isPlatformBrowserLike=y.ng.isBrowserLikePlatform(),this.isPlatformBrowser=y.ng.isBrowserPlatform(),this.isPlatformAndroid=y.ng.isAndroidPlatform(),this.keyboardLayoutChange=new t.t(1),this.placeholder=new t.t(1),this.logger=k.getLogger("KeyboardLayoutService"),this.logger.info("Initializing KeyboardLayoutService"),this.showOtherKeyboardLayout=!(null===(_e=this.config.featureEnablement)||void 0===_e||!_e.showOtherKeyboardLayout),this.registerKBLayoutChange(),this.getKeyboardLayoutsList().subscribe(U=>{this.isPlatformBrowserLike?this.setDefaultLayoutAndPlaceholder():this.sendKeyboardLayoutTelemetry()},U=>{this.logger.info("Error getting the list of keyboard layouts : ",U)}),this.readCachedKeyboardLayout()}sendKeyboardLayoutTelemetry(){this.readCachedKeyboardLayout().pipe((0,M.q)(1),(0,L.zg)(u=>{var k;const W=new D({previousKeyboardLayout:"",overrideKeyboardLayout:null!==(k=null==u?void 0:u.code)&&void 0!==k?k:"",defaultKeyboardLayout:""});return this.isPlatformBrowserLike?(W.parameters.defaultKeyboardLayout=this.getDefaultKBLayoutCode(),(0,n.of)(W)):this.detectKeyboardLayout().pipe((0,M.q)(1),(0,L.zg)(N=>(W.parameters.defaultKeyboardLayout=N,(0,n.of)(W))))})).subscribe(u=>{this.logger.info("Sending defaultKeyboardLayout telemetry through OverrideKeyboardLayout event",u),this.telemetryService.push(u)})}setDefaultLayoutAndPlaceholder(){this.idmService.accountStatusChanged.pipe((0,p.w)(u=>u.isAuthenticated?this.queryGxTargetForDefaultKBLayout():(0,n.of)(!1))).subscribe(u=>{this.handleDefaultKeyboardLayout(u),this.sendKeyboardLayoutTelemetry(),this.placeholder.next(this.getBrowserPlaceholder())})}get onKBLayoutChange$(){return this.keyboardLayoutChange.asObservable()}kbLayoutChanged(u){this.keyboardLayoutChange.next(u)}queryGxTargetForDefaultKBLayout(){return this.experienceControl.getCloudVariable("defaultKeyboardLayout",{userDefaultUILanguage:this.localeService.getShortLocale()},{useCache:!1},v.Z4.GxTargetGetCloudVariable,v.Qu.GxTargetGetKBLayoutsConfig).pipe((0,P.U)(u=>u.value),(0,a.K)(u=>(this.logger.error("Failed to resolve gx-target cloud variable:",u),(0,n.of)(!1))))}get fetchClientIMEHotkeys(){return this.bridgeService.executeCommand(o.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:F.NativeKeyboardInputDialog}).pipe((0,P.U)(u=>u.keys),(0,P.U)(u=>this.hotKeyHelper.shortcutToString(u)))}get isOtherDefaultLayout(){return this._isOtherDefaultLayout}initializeKeyboardLayoutsListFromJson(u,k){const W=[];for(const h of u){const E=Y[h];W.push({name:this.translateService.instant("common.keyboardLayout.layouts."+h),code:E[`${k}_keyCode`]||E[`${r.Default}_keyCode`]})}const N=this.localeService.getShortLocale();this.logger.info("Getting the language from locale for sorting purposes : ",N);const H=new Intl.Collator(N,{numeric:!0,sensitivity:"base"});return W.sort(function(h,E){return H.compare(h.name,E.name)}),this.showOtherKeyboardLayout&&W.unshift({name:this.translateService.instant("settings.keyboardLayout.other"),code:this.getDefaultKBLayoutCodeForOther(),params:{isOtherLayout:!0,showOnTop:!0}}),W}getKeyboardLayoutsList(){if(this.keyboardLayoutsList$)return this.keyboardLayoutsList$.asObservable();const u=new t.t(1);return this.logger.info("Fetching the list of Keyboard Layouts to be displayed"),this.keyboardLayoutsList$=u,(0,x.aj)([this.systemInfoService.getOsInformation(),this.localeService.localeChanged]).pipe((0,M.q)(1)).subscribe(([k,W])=>{var N;this.logger.info("Getting the OS info using System info Service :",k);let h,H=[];this.platform=k.Platform;const E=null===(N=this.platform)||void 0===N?void 0:N.toUpperCase();this.isPlatformBrowser?E===s.WindowsOS.toUpperCase()||E===s.BrowserChromeOS.toUpperCase()?(H=T_browserWindowsList,h=l.BrowserChromeOS):E===s.BrowserMacOS.toUpperCase()?(H=T_browserMacList,h=l.BrowserMacOS):E===s.XboxOS.toUpperCase()&&(H=T_browserXboxList,h=l.XboxOS):this.isPlatformAndroid?(H=T_androidList,h=l.AndroidOS):E===s.WindowsOS.toUpperCase()?(H=T_windowsList,h=l.WindowsOS):E===s.NativeMacOS.toUpperCase()&&(H=T_macList,h=l.NativeMacOS),H.length>0?(this.defaultKBLayoutCodeForOther=i[this.getPlatformOS()],this.translatedKBLayoutList=this.initializeKeyboardLayoutsListFromJson(H,h),u.next(this.translatedKBLayoutList),u.complete()):(this.logger.info(`Keyboard Layout feature is not supported on ${E}, disabling it`),u.complete(),this.keyboardLayoutsList$=null)},k=>{u.error(k),this.keyboardLayoutsList$=null}),u.asObservable()}getPlatformOS(){let u=C;return this.isPlatformAndroid?u=d:this.isPlatformBrowser&&(u=A),`${u}${this.platform}`}handleDefaultKeyboardLayout(u){const k=this.getPlatformOS(),W=u||i;this.logger.info("Default keyboard layout for the user :",W);const N=W[k];N&&N!==S?this.defaultKBLayoutCode=N:(this._isOtherDefaultLayout=N===S,this.defaultKBLayoutCode=this.defaultKBLayoutCodeForOther),this.setDefaultKBLayout(this.translatedKBLayoutList,this.defaultKBLayoutCodeForOther)}detectKeyboardLayout(){return this.bridgeService.executeCommand(o.Gh.Gfn.Streaming.GetKeyboardLayout)}onKBLayoutChange(){return this.bridgeService.executeCommand(o.Gh.Gfn.Streaming.OnKBLayoutChange)}isNonEnglishKeyboardLayout(u,k){let W=[];return!(!this.isPlatformBrowserLike||!u)&&(k===y.wi.Windows||k===y.wi.ChromeOS||k===y.wi.XBox?W=B_browserWindowsList:k===y.wi.MacOS&&(W=B_browserMacList),-1!==W.indexOf(u))}saveKeyboardLayoutToSharedStorage(u){return this.cachedKeyboardLayout$.next(u),this.sharedStorage.writeBlock(J,u)}saveKeyboardLayoutCodeToSharedStorage(u){const k=this.translatedKBLayoutList.find(W=>W.code===u);return this.saveKeyboardLayoutToSharedStorage(k)}readCachedKeyboardLayout(){if(this.cachedKeyboardLayout$)return this.cachedKeyboardLayout$.asObservable();const u=new t.t(1);return this.logger.info("Fetching the cache value of Keyboard Layout"),this.cachedKeyboardLayout$=u,this.sharedStorage.readBlock(J).subscribe(k=>(this.logger.info("Keyboard Layout cache read reponse",k),u.next(k),(0,n.of)(k)),k=>{u.error(k),this.cachedKeyboardLayout$=null}),u}removeCachedKeyboardLayout(){return this.cachedKeyboardLayout$.next({}),this.sharedStorage.removeBlock(J)}getKeyboardLayoutEnabled(u){var k;return(null===(k=this.config.featureEnablement)||void 0===k?void 0:k.showPhysicalKeyboardLayoutSetting)&&O.filter(W=>W.toUpperCase()===(null==u?void 0:u.toUpperCase())).length>0}getDefaultKBLayoutCodeForOther(){return this.defaultKBLayoutCodeForOther}getDefaultKBLayoutCode(){return this.defaultKBLayoutCode}getDefaultKBLayout(){return this.defaultKbLayout}getDefaultKBLayoutObservable(){return this.defaultKbLayout$.asObservable()}setDefaultKBLayout(u,k){let W;W=u.filter(N=>{var H,h;return this.isOtherDefaultLayout?null===(H=N.params)||void 0===H?void 0:H.isOtherLayout:N.code===this.getDefaultKBLayoutCode()&&!(null!==(h=N.params)&&void 0!==h&&h.isOtherLayout)})[0],W||(W=u.filter(N=>{var H;return N.code===k&&!(null!==(H=N.params)&&void 0!==H&&H.isOtherLayout)})[0]),this.defaultKbLayout=W,this.logger.info("Set default kb layout",this.defaultKbLayout),this.defaultKbLayout$.next(this.defaultKbLayout)}selectKeyboardLayout(u,k,W){this.logger.info("Keyboard layout override event triggered");const N=new D({previousKeyboardLayout:"",overrideKeyboardLayout:"",defaultKeyboardLayout:""});let H,h,E;const ee=this.getDefaultKBLayout();u?(h=u.code,E=this.isPlatformBrowserLike?null==ee?void 0:ee.code:null==W?void 0:W.code,H=(null==k?void 0:k.code)||E,this.logger.info("Keyboard Layout Override event. Saving to cache. Override Keyboard Layout: ",u),this.saveKeyboardLayoutToSharedStorage(u).subscribe(R=>{this.logger.info("Keyboard layout cache saved successfully : ",R)},R=>this.logger.info("Keyboard layout cache save failed : ",R))):(this.isPlatformBrowserLike?(h=null==ee?void 0:ee.code,E=null==ee?void 0:ee.code,this.logger.info(`Default (${null==ee?void 0:ee.name}) ${null==ee?void 0:ee.code} keyboard layout selected. Clearing the cache.`)):(h=null==W?void 0:W.code,E=null==W?void 0:W.code,this.logger.info("Auto keyboard layout selected. Clearing the cache.")),H=(null==k?void 0:k.code)||E,this.removeCachedKeyboardLayout().subscribe(R=>this.logger.info("Keyboard layout cache cleared : ",R),R=>this.logger.info("Keyboard layout cache clear failed : ",R))),N.parameters.previousKeyboardLayout=H,N.parameters.overrideKeyboardLayout=h,N.parameters.defaultKeyboardLayout=E,this.logger.info("Sending override keyboard layout event telemetry",N),this.telemetryService.push(N)}isAutoOtherKBLayout(u){return this.detectKeyboardLayout().pipe((0,M.q)(1),(0,p.w)(k=>{const W=u.find(N=>{var H;return N.code===k&&!(null!==(H=N.params)&&void 0!==H&&H.isOtherLayout)});return(0,n.of)(!W&&this.showOtherKeyboardLayout)}))}getNativePlaceholder(u){var k;if(this.logger.info("detectedKeyboardLayout : ",u),this.logger.info("isOtherKeyboardLayoutEnabled : ",this.showOtherKeyboardLayout),u||this.showOtherKeyboardLayout){const W=this.translateService.instant("common.other");return this.translateService.instant("settings.keyboardLayout.auto",{detectedKeyboardLayout:null!==(k=null==u?void 0:u.name)&&void 0!==k?k:W})}return this.translateService.instant("common.auto")}get onPlaceholderChange(){return this.placeholder.asObservable()}getBrowserPlaceholder(){var u;return`${this.translateService.instant("common.default")} (${null===(u=this.getDefaultKBLayout())||void 0===u?void 0:u.name})`}registerKBLayoutChange(){this.onKBLayoutChange().subscribe(u=>{this.logger.info("System keyboard layout changed to: "+u),this.kbLayoutChanged(u)})}}return Z.\u0275fac=function(u){return new(u||Z)(I.LFG(w.No2),I.LFG(y.ed),I.LFG(y.Ob),I.LFG(y.dF),I.LFG(_.OA),I.LFG($.sK),I.LFG(y.OL),I.LFG(v.Q6),I.LFG(G.y0),I.LFG(y.d_),I.LFG(w.VKt))},Z.\u0275prov=I.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},66195:(Ge,ae,e)=>{"use strict";e.d(ae,{Gr:()=>A,s:()=>m});var t=e(59562),n=e(23815),x=e(82135),M=e(57693),L=e(89258),p=e(51325),P=e(78747),a=e(2629),o=e(85566),v=e(39609),y=e(64710),C=e(91565),A=(()=>{return(s=A||(A={})).JWT="JWT",s.IDM="IDM",s.INVALID="Invalid",s.UNKNOWN="Unknown",s.IDM_FALLBACK="IDM_FALLBACK",A;var s})();let m=(()=>{class s{constructor(l,i){this.sharedStorage=i,this.telemetryStream=new t.t,this.startupComplete$=new t.t(1),this.logger=l.getLogger("streamer/gfnsdkService"),this.resetAuthConfig()}setSdkClient(l,i){l!==this.sdkClient&&(this.logger.info("SdkClient set to "+l),this.sdkClient=l,this.resetAuthConfig(i),this.getTelemetryData())}getTelemetryData(){return this.sdkClient&&(this.logger.info("Fetching sdk telemetry from shared storage."),this.sharedStorage.readBlock("sdk").subscribe(i=>{if(i)for(const O in i)if(i[O].telemetry&&Array.isArray(i[O].telemetry)&&i[O].telemetry.length>0){const Y={platformName:O,checkGFNItems:[],streamNowButtonClickItems:[]};i[O].telemetry.forEach(T=>{var B,K,b,f;switch(T.eventName){case"CheckGFN":{const D={status:T.status||"",timeTaken:T.timeTaken||0,version:T.version||"",dllVersion:T.dllVersion||"",originalTimestamp:T.originalTimestamp||0,originalCmsId:(T.originalCmsId||"").toString(),originalShortname:T.originalShortname||"",originalAuthMethod:T.originalAuthMethod||"Other"};Y.checkGFNItems.push(D);break}case"StreamNowButtonClick":{const D={status:T.status||"",timeTaken:T.timeTaken||0,version:T.version||"",dllVersion:T.dllVersion||"",originalTimestamp:T.originalTimestamp||0,originalCmsId:(T.originalCmsId||"").toString(),originalShortname:T.originalShortname||"",originalAuthMethod:T.originalAuthMethod||"Other",timeRemaining:null==T.timeRemaining?-1:T.timeRemaining,hasPartnerData:null==T.hasPartnerData?(null===(K=null===(B=i[O])||void 0===B?void 0:B.partnerData)||void 0===K?void 0:K.length)>0:T.hasPartnerData,hasPartnerSecureData:null==T.hasPartnerSecureData?(null===(f=null===(b=i[O])||void 0===b?void 0:b.partnerSecureData)||void 0===f?void 0:f.length)>0:T.hasPartnerSecureData};Y.streamNowButtonClickItems.push(D);break}default:this.logger.info(`Invalid telemetry event ${null==T?void 0:T.eventName} found in shared storage`)}}),Y.checkGFNItems.length+Y.streamNowButtonClickItems.length>0?this.telemetryStream.next(Y):this.logger.info("Platform "+O+" has no telemetry data to send")}})),this.telemetryStream.pipe((0,x.E)(l=>l.platformName))}clearTelemetryData(l){this.sharedStorage.removeBlock("sdk/"+l.platformName+"/telemetry").subscribe(O=>{this.logger.info(`Cached telemetry for SDK client ${this.sdkClient} was removed from storage ${O?"":"un"}successfully.`)})}parseAuthType(l){if(!l.authType)return A.INVALID;switch(l.authType.toLowerCase()){case"jarvis":case"jwt_gfn":return A.IDM;case"jwt":return!l.token||0===l.token.length||!(0,o.isNil)(l.timeRemaining)&&(l.timeRemaining<=0||l.timeRemaining>3600)?A.IDM_FALLBACK:A.JWT;default:return A.INVALID}}resetAuthConfig(l){this.authConfig$=l?(0,n.of)(l):this.getAuthConfigFromStorage().pipe((0,M.d)(1))}getAuthConfigFromStorage(){if(this.sdkClient){this.logger.info("Fetching auth type from shared storage.");const l="sdk/"+this.sdkClient;return this.sharedStorage.readBlock(l).pipe((0,L.U)(i=>(this.logger.info(`Running in GFN SDK mode for SDK client ${this.sdkClient}, auth type is ${this.parseAuthType(i)}.`),i)),(0,p.K)(()=>(this.logger.error(`Unable to read stored settings for SDK client ${this.sdkClient}`),(0,n.of)({token:void 0}))),(0,P.x)(()=>{this.startupComplete$.asObservable().subscribe(()=>{["token","partnerSecureData","partnerData"].forEach(O=>{this.sharedStorage.removeBlock(`${l}/${O}`).pipe((0,a.q)(1)).subscribe(Y=>{this.logger.info(`${O} for SDK client ${this.sdkClient} was removed from storage ${Y?"":"un"}successfully.`)})})})}))}return this.logger.info("Running in regular GFN client mode, auth type is IDM."),(0,n.of)({authType:A.IDM,token:void 0})}getAuthType(){return this.authConfig$.pipe((0,L.U)(l=>{const i=this.parseAuthType(l);return this.logger.info(i!==A.INVALID?`Returning cached auth type: ${i}`:"Current auth type is invalid and cannot be used for authentication purposes"),i}))}continueStartup(){this.startupComplete$.next(!0)}getIsAnonymousUser(){return this.getAuthType().pipe((0,L.U)(l=>l===A.JWT))}forceIDMAuthType(){this.originalAuthConfig$=this.authConfig$,this.authConfig$=this.originalAuthConfig$.pipe((0,L.U)(l=>{const i=Object.assign({},l);return i.authType=A.IDM,i.token=void 0,i.delegateToken=void 0,i}))}getAuthToken(){return this.authConfig$.pipe((0,L.U)(l=>{const i=l.token;return this.logger.info(i?"Returning cached auth token":"Current auth token is empty and likely not useful for authentication purposes"),i}))}getAuthInfo(){return this.authConfig$.pipe((0,L.U)(l=>{const i=this.parseAuthType(l);this.logger.info(i!==A.INVALID?`Returning cached auth type: ${i}`:"Current auth type is invalid and cannot be used for authentication purposes");const O=l.token;this.logger.info(O?"Returning cached auth token.":"Current auth token is empty and likely not useful for authentication purposes");let Y=null,T=null,B=null,K=null;if(O){try{const b=atob(O.split(".")[1]),f=JSON.parse(b);if(Array.isArray(f.options))f.options.forEach(function(D){"uid"===(null==D?void 0:D.key)?Y=null==D?void 0:D.value:"external_id"===(null==D?void 0:D.key)?T=null==D?void 0:D.value:"idp_id"===(null==D?void 0:D.key)&&(B=null==D?void 0:D.value)});else{const D=JSON.parse(atob(f.options));Y=D.userId,T=D.externalId,B=D.partnerId,K=D.authorizationId}}catch(b){this.logger.error("Got an exception while parsing JWT for user info: ",b)}Y?this.logger.info(`Returning userId from JWT ${Y}`):this.logger.warn("Current userId is empty and likely not useful for authentication purposes!"),T?this.logger.info(`Returning externalUserId from JWT ${T}.`):this.logger.warn("Current externalUserId is empty and likely not useful for authentication purposes!"),B?this.logger.info(`Returning idpId from JWT ${B}.`):this.logger.warn("Current ipdId is empty and likely not useful for authentication purposes!"),K?this.logger.info("Returning authorizationId from JWT."):this.logger.warn("No authorizationId")}return{authType:i,authToken:O,userId:Y,externalUserId:T,idpId:B,timeRemaining:l.timeRemaining,authorizationId:K}}))}getPartnerData(){return this.authConfig$.pipe((0,L.U)(l=>(null==l?void 0:l.partnerData)||""))}getPartnerSecureData(){return this.authConfig$.pipe((0,L.U)(l=>(null==l?void 0:l.partnerSecureData)||""))}isThisAGFNSDKSession(){return this.sdkClient&&this.sdkClient.length>0}isAuthInfoValid(l){var i;return(null===(i=l.authToken)||void 0===i?void 0:i.length)>0&&(null==l.timeRemaining||l.timeRemaining>0&&l.timeRemaining<=3600)}}return s.\u0275fac=function(l){return new(l||s)(v.LFG(y.ed),v.LFG(C.OA))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},16033:(Ge,ae,e)=>{"use strict";e.d(ae,{J:()=>p});var t=e(39536),n=e(53722),x=e(29894),M=e(55896),L=e(1459);class p{constructor(a){this.reference=a}get dialogRef(){return this.reference instanceof t.hV&&this.reference.componentInstance instanceof x.D?this.reference:void 0}get bottomSheetRef(){return this.reference instanceof n.oL&&this.reference.instance instanceof M.A?this.reference:void 0}get threeQuarterSheetRef(){return this.reference instanceof t.hV&&this.reference.componentInstance instanceof L.O?this.reference:void 0}get instance(){var a,o,v,y,C;return null!==(y=null!==(o=null===(a=this.dialogRef)||void 0===a?void 0:a.componentInstance)&&void 0!==o?o:null===(v=this.bottomSheetRef)||void 0===v?void 0:v.instance)&&void 0!==y?y:null===(C=this.threeQuarterSheetRef)||void 0===C?void 0:C.componentInstance}get primaryButtonClick(){var a;return null===(a=this.instance)||void 0===a?void 0:a.primaryButtonClick}get secondaryButtonClick(){var a;return null===(a=this.instance)||void 0===a?void 0:a.secondaryButtonClick}get linkClick(){var a;return null===(a=this.instance)||void 0===a?void 0:a.linkClick}get augmentedButtonClick(){return this.instance instanceof L.O?this.instance.augmentedButtonClick:void 0}get radioButtonClick(){return this.instance instanceof x.D||this.instance instanceof L.O?this.instance.radioButtonClick:void 0}get checkboxState(){var a,o;return null===(o=null===(a=this.instance)||void 0===a?void 0:a.data)||void 0===o?void 0:o.checkboxState}get radioOptionSelected(){var a,o;return null===(o=null===(a=this.instance)||void 0===a?void 0:a.data)||void 0===o?void 0:o.radioOptionSelected}set backToCloseResult(a){this.instance.backToCloseResult=a}close(){var a,o,v;null===(a=this.dialogRef)||void 0===a||a.close(),null===(o=this.bottomSheetRef)||void 0===o||o.dismiss(),null===(v=this.threeQuarterSheetRef)||void 0===v||v.close()}afterClosed(){var a,o,v,y,C;return null!==(y=null!==(o=null===(a=this.dialogRef)||void 0===a?void 0:a.afterClosed())&&void 0!==o?o:null===(v=this.bottomSheetRef)||void 0===v?void 0:v.afterDismissed())&&void 0!==y?y:null===(C=this.threeQuarterSheetRef)||void 0===C?void 0:C.afterClosed()}afterOpened(){var a,o,v,y,C;return null!==(y=null!==(o=null===(a=this.dialogRef)||void 0===a?void 0:a.afterOpened())&&void 0!==o?o:null===(v=this.bottomSheetRef)||void 0===v?void 0:v.afterOpened())&&void 0!==y?y:null===(C=this.threeQuarterSheetRef)||void 0===C?void 0:C.afterOpened()}}},45574:(Ge,ae,e)=>{"use strict";e.d(ae,{HO:()=>p,av:()=>L});const x=32,M=112;function L(P=!1){return P?M:x}function p(P,a){const o=[];if(a.addOverlayPanelCls&&o.push("nv-overlay-panel"),(a.bottomSheet||a.threeQuarterSheet)&&o.push("nv-hig"),a.threeQuarterSheet&&o.push("nv-three-quarter-sheet"),a.tvMode&&o.push("is-tv"),o.length>0){const v=P.panelClass?P.panelClass instanceof Array?P.panelClass:new Array(P.panelClass):new Array;o.forEach(y=>{v.includes(y)||v.push(y)}),P.panelClass=v}}},55896:(Ge,ae,e)=>{"use strict";e.d(ae,{A:()=>f});var t=e(39609),n=e(53722),x=e(45574),M=e(60828),L=e(54716),p=e(39536);function P(D,I){if(1&D&&(t.TgZ(0,"i",20),t._uU(1),t.qZA()),2&D){const w=t.oxw(2);t.xp6(1),t.Oqu(w.data.icon)}}function a(D,I){if(1&D&&t._UZ(0,"img",21),2&D){const w=t.oxw(2);t.Q6J("src",w.data.image.url,t.LSH)}}function o(D,I){if(1&D&&t._UZ(0,"qrcode",22),2&D){const w=t.oxw(2);t.Q6J("qrdata",w.data.link.url)("width",184)("errorCorrectionLevel","M")}}function v(D,I){if(1&D&&(t.TgZ(0,"div",16),t.YNc(1,P,2,1,"i",17),t.YNc(2,a,1,1,"img",18),t.YNc(3,o,1,3,"qrcode",19),t.qZA()),2&D){const w=t.oxw();t.xp6(1),t.Q6J("ngIf",w.data.icon),t.xp6(1),t.Q6J("ngIf",w.data.image),t.xp6(1),t.Q6J("ngIf",w.showQRCode)}}function y(D,I){if(1&D&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&D){const w=t.oxw();t.Q6J("ngClass",w.tvMode?"font-header5":"font-header6"),t.xp6(1),t.hij(" ",t.xi3(2,2,w.data.headerText.text,w.data.headerText.placeholders)," ")}}function C(D,I){1&D&&t._UZ(0,"mat-progress-spinner",24)}const A=function(D){return{"overflow-wrap-anywhere":D}};function d(D,I){if(1&D&&(t._UZ(0,"div",25),t.ALo(1,"translate")),2&D){const w=t.oxw();t.Q6J("ngClass",t.VKq(5,A,w.showQRCode))("innerHTML",w.data.bodyText.translated?w.data.bodyText.text:t.xi3(1,2,w.data.bodyText.text,w.data.bodyText.placeholders),t.oJD)}}const m=function(D){return{"font-tv-error-text":D}};function S(D,I){if(1&D&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&D){const w=t.oxw();t.Q6J("ngClass",t.VKq(5,m,w.tvMode)),t.xp6(1),t.hij(" ",t.xi3(2,2,w.data.errorCodeText.text,w.data.errorCodeText.placeholders)," ")}}function s(D,I){if(1&D&&(t.ynx(0),t.GkF(1,27)(2,27),t.BQk()),2&D){t.oxw();const w=t.MAs(15),_=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",w),t.xp6(1),t.Q6J("ngTemplateOutlet",_)}}function r(D,I){if(1&D&&t.GkF(0,27)(1,27),2&D){t.oxw();const w=t.MAs(17),_=t.MAs(15);t.Q6J("ngTemplateOutlet",w),t.xp6(1),t.Q6J("ngTemplateOutlet",_)}}const l=function(D){return{visible:D}};function i(D,I){if(1&D){const w=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function($){t.CHM(w);const G=t.oxw(2);return t.KtG(G.onPrimaryButtonClick($))}),t._uU(1),t.ALo(2,"translate"),t.GkF(3,30),t.qZA()}if(2&D){const w=t.oxw(2),_=t.MAs(19);t.Q6J("ngClass",w.data.primaryButton.accentColor&&!w.tvMode?"font-button2 mat-flat-button mat-accent":"font-button2")("disabled",w.data.primaryButton.isDisabled)("nvAutoFocus",w.autoFocusOnPrimaryButton),t.xp6(1),t.hij(" ",t.lcZ(2,6,w.data.primaryButton.text)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(8,l,w.data.primaryButton.spinnerOverlay))}}function O(D,I){if(1&D&&t.YNc(0,i,4,10,"button",28),2&D){const w=t.oxw();t.Q6J("ngIf",w.data.primaryButton)}}function Y(D,I){if(1&D){const w=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function($){t.CHM(w);const G=t.oxw(2);return t.KtG(G.onSecondaryButtonClick($))}),t._uU(1),t.ALo(2,"translate"),t.GkF(3,30),t.qZA()}if(2&D){const w=t.oxw(2),_=t.MAs(19);t.Q6J("disabled",w.data.secondaryButton.isDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,4,w.data.secondaryButton.text)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",t.VKq(6,l,w.data.secondaryButton.spinnerOverlay))}}function T(D,I){if(1&D&&t.YNc(0,Y,4,8,"button",31),2&D){const w=t.oxw();t.Q6J("ngIf",w.data.secondaryButton)}}function B(D,I){1&D&&(t.TgZ(0,"div",34),t._UZ(1,"mat-progress-spinner",35),t.qZA()),2&D&&(t.xp6(1),t.Q6J("diameter",48))}function K(D,I){1&D&&t.YNc(0,B,2,1,"div",33),2&D&&t.Q6J("ngIf",I.visible)}const b=function(D,I){return{"has-image":D,"only-body":I}};let f=(()=>{class D extends L.u{constructor(w,_,$,G,F){super($,G,w,F),this.primaryButtonClick=new t.vpe,this.secondaryButtonClick=new t.vpe,this.linkClick=new t.vpe,this.data={},this.data=w.get(n.OG,null),this.tvMode=!!_.tvMode}get hasImage(){return!!this.data.icon||!!this.data.image||this.showQRCode}get showQRCode(){var w;return this.tvMode&&!(null===(w=this.data.link)||void 0===w||!w.url)}get autoFocusOnPrimaryButton(){var w;return null===(w=this.data.autoFocusOnPrimaryButton)||void 0===w||w}static open(w,_,$){return(0,x.HO)(_,{bottomSheet:!0,tvMode:$}),w.open(D,_)}onPrimaryButtonClick(w){this.primaryButtonClick.emit(w)}onSecondaryButtonClick(w){this.secondaryButtonClick.emit(w)}onLinkClick(){this.linkClick.emit()}}return D.\u0275fac=function(w){return new(w||D)(t.Y36(t.zs3),t.Y36(M.i,8),t.Y36(p.hV,8),t.Y36(n.oL,8),t.Y36(t.R0b))},D.\u0275cmp=t.Xpm({type:D,selectors:[["nv-hig-bottom-sheet"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",linkClick:"linkClick"},features:[t.qOj],decls:20,vars:22,consts:[["fxLayoutAlign","space-between stretch","nvSpatialNavigationContainer","","nvTrapFocus","",1,"hig-bottom-sheet",3,"fxLayout"],["class","image-container",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start start",1,"content",3,"fxFlex","ngClass","fxLayoutGap"],["fxFlex","nogrow","class","header-text",3,"ngClass",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutGap","24px",3,"fxLayoutAlign"],["fxFlex","none","mode","indeterminate","color","accent","diameter","64",4,"ngIf"],["fxFlex","","fxLayout","column",1,"font-body2"],["fxFlex","auto","class","body-text",3,"ngClass","innerHTML",4,"ngIf"],["fxFlex","auto","class","body-text",3,"ngClass",4,"ngIf"],["fxLayout","column",1,"actions-container",3,"fxFlex","fxFlexAlign"],[1,"buttons-container",3,"fxLayout","fxLayoutAlign","fxLayoutGap"],[4,"ngIf","ngIfElse"],["nonTvMode",""],["primaryButton",""],["secondaryButton",""],["buttonSpinner",""],[1,"image-container"],["class","material-icons",4,"ngIf"],[3,"src",4,"ngIf"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],[1,"material-icons"],[3,"src"],[3,"qrdata","width","errorCorrectionLevel"],["fxFlex","nogrow",1,"header-text",3,"ngClass"],["fxFlex","none","mode","indeterminate","color","accent","diameter","64"],["fxFlex","auto",1,"body-text",3,"ngClass","innerHTML"],["fxFlex","auto",1,"body-text",3,"ngClass"],[3,"ngTemplateOutlet"],["mat-button","",3,"ngClass","disabled","nvAutoFocus","click",4,"ngIf"],["mat-button","",3,"ngClass","disabled","nvAutoFocus","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","","class","font-button2",3,"disabled","click",4,"ngIf"],["mat-button","",1,"font-button2",3,"disabled","click"],["fxLayout","column","fxLayoutAlign","center end","class","spinner-overlay",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center end",1,"spinner-overlay"],["mode","indeterminate",1,"mat-accent",3,"diameter"]],template:function(w,_){if(1&w&&(t.TgZ(0,"div",0),t.YNc(1,v,4,3,"div",1),t.TgZ(2,"div",2),t.YNc(3,y,3,5,"div",3),t.TgZ(4,"div",4),t.YNc(5,C,1,0,"mat-progress-spinner",5),t.TgZ(6,"div",6),t.YNc(7,d,2,7,"div",7),t.YNc(8,S,3,7,"div",8),t.qZA()()(),t.TgZ(9,"div",9)(10,"div",10),t.YNc(11,s,3,2,"ng-container",11),t.YNc(12,r,2,2,"ng-template",null,12,t.W1O),t.qZA(),t.YNc(14,O,1,1,"ng-template",null,13,t.W1O),t.YNc(16,T,1,1,"ng-template",null,14,t.W1O),t.YNc(18,K,1,1,"ng-template",null,15,t.W1O),t.qZA()()),2&w){const $=t.MAs(13);t.ekj("is-tv",_.tvMode),t.Q6J("fxLayout",_.tvMode?"row":"column"),t.xp6(1),t.Q6J("ngIf",_.hasImage),t.xp6(1),t.Q6J("fxFlex",_.tvMode?"":"grow")("ngClass",t.WLB(19,b,_.hasImage,!_.data.headerText))("fxLayoutGap",_.tvMode?"30px":"16px"),t.xp6(1),t.Q6J("ngIf",_.data.headerText),t.xp6(1),t.Q6J("fxLayoutAlign",_.data.headerText?"start start":"start center"),t.xp6(1),t.Q6J("ngIf",_.data.showSpinner),t.xp6(2),t.Q6J("ngIf",_.data.bodyText),t.xp6(1),t.Q6J("ngIf",_.data.errorCodeText),t.xp6(1),t.Q6J("fxFlex",_.tvMode?"":"initial")("fxFlexAlign",_.tvMode?"start":"end"),t.xp6(1),t.Q6J("fxLayout",_.tvMode?"column":"row")("fxLayoutAlign",_.tvMode?"":"end center")("fxLayoutGap",_.tvMode?"16px":"8px"),t.xp6(1),t.Q6J("ngIf",_.tvMode)("ngIfElse",$)}},styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.hig-bottom-sheet[_ngcontent-%COMP%]{background-color:#393939;padding:0;width:100vw;min-height:132px;height:132px;max-height:80vh}@media (orientation: portrait){.hig-bottom-sheet[_ngcontent-%COMP%]{min-height:180px;height:180px}}.isLtr[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin:16px max(env(safe-area-inset-right),16px) 0 max(env(safe-area-inset-left),16px)}html[dir=ltr][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:16px max(env(safe-area-inset-right),16px) 0 max(env(safe-area-inset-left),16px)}.isRtl[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{margin:16px max(env(safe-area-inset-left),16px) 0 max(env(safe-area-inset-right),16px)}html[dir=rtl][_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:16px max(env(safe-area-inset-left),16px) 0 max(env(safe-area-inset-right),16px)}.actions-container[_ngcontent-%COMP%]{padding:8px max(env(safe-area-inset-right),8px) max(env(safe-area-inset-bottom),8px) max(env(safe-area-inset-left),8px)}.is-tv.hig-bottom-sheet[_ngcontent-%COMP%]{min-height:420px;height:420px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{margin:120px 0 0 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{--dummy: 0;margin:120px 0 0 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{margin:120px 120px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{--dummy: 0;margin:120px 120px 0 0}.is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:112px}.is-tv[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:112px;height:112px;object-fit:fill}.is-tv[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{padding:0;max-width:606px}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{min-width:0}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:120px 90px 0 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:120px 90px 0 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:120px 120px 0 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{--dummy: 0;margin:120px 120px 0 90px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{margin:120px 90px 0 56px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{--dummy: 0;margin:120px 90px 0 56px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{margin:120px 56px 0 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image[_ngcontent-%COMP%]{--dummy: 0;margin:120px 56px 0 90px}.is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{align-items:center}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{margin:0 90px 60px 120px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 90px 60px 120px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{margin:0 120px 60px 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 120px 60px 90px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{margin:0 90px 60px 56px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 90px 60px 56px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{margin:0 56px 60px 90px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .content.has-image.only-body[_ngcontent-%COMP%]{--dummy: 0;margin:0 56px 60px 90px}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .font-tv-error-text[_ngcontent-%COMP%]{margin:24px 0 0}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.is-tv[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;min-height:45px}.overflow-wrap-anywhere[_ngcontent-%COMP%]{overflow-wrap:anywhere}.buttons-container[_ngcontent-%COMP%]{height:calc(44px + max(env(safe-area-inset-bottom),8px))}.buttons-container[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{line-height:36px}.buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;z-index:1;background:transparent}.isLtr[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{margin-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{--dummy4: 0;margin-right:32px}.isRtl[_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{margin-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{--dummy4: 0;margin-left:32px}.is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{height:100%;margin-top:120px}.isLtr[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-right:80px}html[dir=ltr][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:80px}.isRtl[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{margin-left:80px}html[dir=rtl][_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:80px}.is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-start;height:92px;width:100%;text-align:start;border-radius:5px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .is-tv[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:28px;line-height:40px}"]}),D})()},29894:(Ge,ae,e)=>{"use strict";e.d(ae,{D:()=>G});var t=e(39609),n=e(39536),x=e(45574),M=e(54716),L=e(53722);function p(F,J){if(1&F&&(t.TgZ(0,"i",22),t._uU(1),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.Oqu(z.data.icon)}}function P(F,J){if(1&F&&t._UZ(0,"img",23),2&F){const z=t.oxw();t.Q6J("src",z.data.image.url,t.LSH)}}function a(F,J){if(1&F&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,z.data.headerText.text,z.data.translateValues)," ")}}function o(F,J){1&F&&(t.TgZ(0,"div",25),t._UZ(1,"mat-progress-spinner",26),t.qZA())}function v(F,J){if(1&F&&(t._UZ(0,"div",27),t.ALo(1,"translate")),2&F){const z=t.oxw();t.Q6J("innerHTML",z.data.bodyText.translated?z.data.bodyText.text:t.xi3(1,1,z.data.bodyText.text,z.data.bodyText.placeholders),t.oJD)}}function y(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(z);const ue=t.oxw(2);return t.KtG(ue.onLinkClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&F){const z=t.oxw(2);t.Q6J("href",z.data.link.url,t.LSH)("shortUrl",null==z.data.link?null:z.data.link.shortUrl),t.xp6(1),t.Oqu(t.xi3(2,3,z.data.link.text,z.data.link.placeholders))}}function C(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"span",32),t.NdJ("click",function(){t.CHM(z);const ue=t.oxw(2);return t.KtG(ue.onLinkClick())}),t.ALo(1,"translate"),t.qZA()}if(2&F){const z=t.oxw(2);t.Q6J("innerHTML",t.xi3(1,1,z.data.link.text,z.data.link.placeholders),t.oJD)}}function A(F,J){if(1&F&&(t.TgZ(0,"div",28),t.YNc(1,y,3,6,"a",29),t.YNc(2,C,2,4,"span",30),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=z.data.link&&z.data.link.isTextWithHyperlinkTag)),t.xp6(1),t.Q6J("ngIf",null==z.data.link?null:z.data.link.isTextWithHyperlinkTag)}}function d(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(z);const ue=t.oxw(2);return t.KtG(ue.onLinkClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&F){const z=t.oxw(2);t.Q6J("href",z.data.link.url,t.LSH)("shortUrl",z.data.link.shortUrl),t.xp6(1),t.Oqu(t.lcZ(2,3,z.data.link.text))}}function m(F,J){if(1&F&&(t.TgZ(0,"a",35),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&F){const z=t.oxw(2);t.Q6J("routerLink",z.data.link.routerLink.commands)("skipLocationChange",z.data.link.routerLink.skipLocationChange),t.xp6(1),t.hij(" ",t.lcZ(2,3,z.data.link.text)," ")}}function S(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"a",36),t.NdJ("click",function(){t.CHM(z);const ue=t.oxw(2);return t.KtG(ue.data.link.linkClickedCallback())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&F){const z=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,z.data.link.text)," ")}}function s(F,J){if(1&F&&(t.TgZ(0,"div",28),t.YNc(1,d,3,5,"a",29),t.YNc(2,m,3,5,"a",33),t.YNc(3,S,3,3,"a",34),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.Q6J("ngIf",z.data.link.url&&!z.data.link.routerLink&&!z.data.link.linkClickedCallback),t.xp6(1),t.Q6J("ngIf",z.data.link.routerLink&&!z.data.link.linkClickedCallback),t.xp6(1),t.Q6J("ngIf",z.data.link.linkClickedCallback)}}function r(F,J){if(1&F&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,z.data.errorCodeText.text,z.data.errorCodeText.placeholders)," ")}}function l(F,J){if(1&F&&t._UZ(0,"img",43),2&F){const z=t.oxw().$implicit;t.Q6J("src",z.imageUrl,t.LSH)}}function i(F,J){if(1&F&&(t.TgZ(0,"mat-radio-button",40),t.YNc(1,l,1,1,"img",41),t.TgZ(2,"div",42),t._uU(3),t.qZA()()),2&F){const z=J.$implicit;t.Q6J("value",z.value),t.xp6(1),t.Q6J("ngIf",z.imageUrl),t.xp6(2),t.Oqu(z.value)}}function O(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"mat-radio-group",38),t.NdJ("ngModelChange",function(ue){t.CHM(z);const u=t.oxw();return t.KtG(u.data.radioOptionSelected=ue)})("change",function(){t.CHM(z);const ue=t.oxw();return t.KtG(ue.onRadioOptionChange())}),t.YNc(1,i,4,3,"mat-radio-button",39),t.qZA()}if(2&F){const z=t.oxw();t.Q6J("ngModel",z.data.radioOptionSelected),t.xp6(1),t.Q6J("ngForOf",z.data.radioButtonOptions)}}function Y(F,J){if(1&F&&t._UZ(0,"mat-icon",49),2&F){const z=t.oxw().$implicit;t.Q6J("svgIcon",z.matIcon)}}function T(F,J){if(1&F&&(t.TgZ(0,"div",46),t.YNc(1,Y,1,1,"mat-icon",47),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&F){const z=J.$implicit;t.xp6(1),t.Q6J("ngIf",z.matIcon),t.xp6(2),t.Oqu(z.text)}}function B(F,J){if(1&F&&(t.TgZ(0,"div",44),t.YNc(1,T,4,2,"div",45),t.qZA()),2&F){const z=t.oxw();t.xp6(1),t.Q6J("ngForOf",z.data.descriptionList)}}function K(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"div",50)(1,"div",51)(2,"a",52),t.NdJ("click",function(){return!1})("dragstart",function(){t.CHM(z);const ue=t.oxw();return t.KtG(ue.onImageDragStart())}),t._uU(3),t.ALo(4,"translate"),t._UZ(5,"img",53),t.qZA(),t._UZ(6,"p",54),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"p",55),t.ALo(9,"translate"),t.qZA()}if(2&F){const z=t.oxw();t.xp6(2),t.Q6J("href",z.data.image.shortcutUrl,t.LSH),t.xp6(1),t.Oqu(t.xi3(4,6,z.data.image.caption,z.data.image.captionPlaceholder)),t.xp6(2),t.Q6J("src",z.data.image.url,t.LSH)("alt",z.data.image.captionPlaceholder),t.xp6(1),t.Q6J("innerHTML",t.xi3(7,9,z.data.image.caption,z.data.image.captionPlaceholder),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(9,12,z.data.image.description),t.oJD)}}function b(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"mat-checkbox",56),t.NdJ("ngModelChange",function(ue){t.CHM(z);const u=t.oxw();return t.KtG(u.data.checkboxState=ue)}),t.TgZ(1,"span",57),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&F){const z=t.oxw();t.Q6J("ngModel",z.data.checkboxState),t.xp6(2),t.Oqu(t.lcZ(3,2,z.data.checkbox.text))}}const f=function(F){return{visible:F}};function D(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(ue){t.CHM(z);const u=t.oxw();return t.KtG(u.onSecondaryButtonClick(ue))}),t._uU(1),t.ALo(2,"translate"),t.GkF(3,59),t.qZA()}if(2&F){const z=t.oxw(),Z=t.MAs(24);t.Q6J("disabled",z.data.secondaryButton.isDisabled),t.xp6(1),t.hij(" ",t.lcZ(2,4,z.data.secondaryButton.text)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",t.VKq(6,f,z.data.secondaryButton.spinnerOverlay))}}function I(F,J){if(1&F){const z=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(ue){t.CHM(z);const u=t.oxw();return t.KtG(u.onPrimaryButtonClick(ue))}),t._uU(1),t.ALo(2,"translate"),t.GkF(3,59),t.qZA()}if(2&F){const z=t.oxw(),Z=t.MAs(24);t.Q6J("ngClass",z.data.primaryButton.accentColor?"font-button2 mat-flat-button mat-accent":"font-button2")("disabled",z.data.primaryButton.isDisabled)("nvAutoFocus",z.autoFocusOnPrimaryButton),t.xp6(1),t.hij(" ",t.lcZ(2,6,z.data.primaryButton.text)," "),t.xp6(2),t.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",t.VKq(8,f,z.data.primaryButton.spinnerOverlay))}}function w(F,J){1&F&&(t.TgZ(0,"div",62),t._UZ(1,"mat-progress-spinner",63),t.qZA()),2&F&&(t.xp6(1),t.Q6J("diameter",16))}function _(F,J){1&F&&t.YNc(0,w,2,1,"div",61),2&F&&t.Q6J("ngIf",J.visible)}const $=function(F,J){return[F,J]};let G=(()=>{class F extends M.u{constructor(z,Z,ue,u){super(Z,ue,z,u),this.primaryButtonClick=new t.vpe,this.secondaryButtonClick=new t.vpe,this.radioButtonClick=new t.vpe,this.linkClick=new t.vpe,this.data={},this.data=z.get(n.eJ,null)||{showSpinner:!1}}get hasIcon(){return!!this.data.icon||!!this.data.image}get autoFocusOnPrimaryButton(){var z;return null===(z=this.data.autoFocusOnPrimaryButton)||void 0===z||z}static open(z,Z){return(0,x.HO)(Z,{addOverlayPanelCls:!0}),z.open(F,Z)}ngOnInit(){var z,Z;this.data.checkboxState=null!==(Z=null===(z=this.data.checkbox)||void 0===z?void 0:z.initialState)&&void 0!==Z&&Z}onPrimaryButtonClick(z){this.primaryButtonClick.emit(z)}onSecondaryButtonClick(z){this.secondaryButtonClick.emit(z)}onLinkClick(){this.linkClick.emit()}onRadioOptionChange(){this.radioButtonClick.emit()}onImageDragStart(){var z;null===(z=this.data.image)||void 0===z||z.dragStartCallback()}}return F.\u0275fac=function(z){return new(z||F)(t.Y36(t.zs3),t.Y36(n.hV,8),t.Y36(L.oL,8),t.Y36(t.R0b))},F.\u0275cmp=t.Xpm({type:F,selectors:[["nv-hig-dialog"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",radioButtonClick:"radioButtonClick",linkClick:"linkClick"},features:[t.qOj],decls:25,vars:28,consts:[["nvSpatialNavigationContainer","","nvTrapFocus","",3,"ngClass","forceEnable"],["fxLayout","row","fxLayoutAlign","stretch start",1,"hig-dialog-padding"],["class","hig-dialog-icon material-icons",4,"ngIf"],["class","hig-dialog-img",3,"src",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px",1,"hig-dialog-content-container"],["fxLayout","column","fxLayoutAlign","space-between stretch",1,"hig-dialog-info-container"],["class","font-header6 header-text",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"hig-dialog-spinner-container",3,"ngClass"],["class","hig-dialog-spinner",4,"ngIf"],["fxLayout","column"],["class","font-body2 body-text",3,"innerHTML",4,"ngIf"],["class","hig-dialog-link-text",4,"ngIf"],["class","font-body2 hig-dialog-error-text",4,"ngIf"],["class","hig-radio-container","nvSpatialNavigationGroup","","navigateAction","focus",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","hig-description-list-container",4,"ngIf"],["class","hig-dialog-image-container","fxLayout","row","fxLayoutAlign","start start",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px",1,"hig-dialog-actions-container"],[3,"ngModel","ngModelChange",4,"ngIf"],["fxLayoutAlign","end center","fxLayoutGap","8px",1,"hig-dialog-buttons-container"],["mat-button","","class","hig-dialog-secondary-button font-button2",3,"disabled","click",4,"ngIf"],["mat-button","",3,"ngClass","disabled","nvAutoFocus","click",4,"ngIf"],["buttonSpinner",""],[1,"hig-dialog-icon","material-icons"],[1,"hig-dialog-img",3,"src"],[1,"font-header6","header-text"],[1,"hig-dialog-spinner"],["mode","indeterminate","diameter","48","color","accent"],[1,"font-body2","body-text",3,"innerHTML"],[1,"hig-dialog-link-text"],["target","_blank","class","font-body2-link",3,"href","shortUrl","click",4,"ngIf"],["cdkMonitorSubtreeFocus","","target","_blank","class","font-body2",3,"innerHTML","click",4,"ngIf"],["target","_blank",1,"font-body2-link",3,"href","shortUrl","click"],["cdkMonitorSubtreeFocus","","target","_blank",1,"font-body2",3,"innerHTML","click"],["class","font-body2-link",3,"routerLink","skipLocationChange",4,"ngIf"],["class","font-body2-link",3,"click",4,"ngIf"],[1,"font-body2-link",3,"routerLink","skipLocationChange"],[1,"font-body2-link",3,"click"],[1,"font-body2","hig-dialog-error-text"],["nvSpatialNavigationGroup","","navigateAction","focus",1,"hig-radio-container",3,"ngModel","ngModelChange","change"],["nvMatRadioSpatialNavigationFixup","",3,"value",4,"ngFor","ngForOf"],["nvMatRadioSpatialNavigationFixup","",3,"value"],["class","hig-radio-option-image",3,"src",4,"ngIf"],["dir","auto",1,"hig-radio-option-label"],[1,"hig-radio-option-image",3,"src"],[1,"hig-description-list-container"],["class","hig-description-list-item",4,"ngFor","ngForOf"],[1,"hig-description-list-item"],["class","hig-description-icon font-body2",3,"svgIcon",4,"ngIf"],[1,"hig-description-text","font-body2"],[1,"hig-description-icon","font-body2",3,"svgIcon"],["fxLayout","row","fxLayoutAlign","start start",1,"hig-dialog-image-container"],["fxLayout","column",1,"hig-dialog-image-shortcut-container"],[1,"hig-dialog-image-shortcut-link",3,"href","click","dragstart"],[1,"hig-dialog-image",3,"src","alt"],[1,"hig-dialog-image-caption",3,"innerHTML"],[1,"hig-dialog-image-description","font-body2",3,"innerHTML"],[3,"ngModel","ngModelChange"],[1,"hig-checkbox"],["mat-button","",1,"hig-dialog-secondary-button","font-button2",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-button","",3,"ngClass","disabled","nvAutoFocus","click"],["fxLayoutAlign","center center","class","spinner-overlay",4,"ngIf"],["fxLayoutAlign","center center",1,"spinner-overlay"],["mode","indeterminate",1,"mat-accent",3,"diameter"]],template:function(z,Z){1&z&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,p,2,1,"i",2),t.YNc(3,P,1,1,"img",3),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,a,3,4,"div",6),t.TgZ(7,"div",7),t.YNc(8,o,2,0,"div",8),t.TgZ(9,"div",9),t.YNc(10,v,2,4,"div",10),t.qZA()(),t.YNc(11,A,3,2,"div",11),t.YNc(12,s,4,3,"div",11),t.YNc(13,r,3,4,"div",12),t.YNc(14,O,2,2,"mat-radio-group",13),t.YNc(15,B,2,1,"div",14),t.YNc(16,K,10,14,"div",15),t.qZA(),t.TgZ(17,"div",16)(18,"div"),t.YNc(19,b,4,4,"mat-checkbox",17),t.qZA(),t.TgZ(20,"div",18),t.YNc(21,D,4,8,"button",19),t.YNc(22,I,4,10,"button",20),t.qZA(),t.YNc(23,_,1,1,"ng-template",null,21,t.W1O),t.qZA()()()()),2&z&&(t.Q6J("ngClass",Z.data.isTransparent?"hig-dialog-transparent":"hig-dialog")("forceEnable",Z.data.trapFocus),t.xp6(1),t.ekj("no-header-text",!Z.data.headerText)("no-body-text",!Z.data.bodyText)("no-spinner",!Z.data.showSpinner)("has-icon",Z.hasIcon),t.xp6(1),t.Q6J("ngIf",Z.data.icon),t.xp6(1),t.Q6J("ngIf",Z.data.image&&!Z.data.image.isDraggableUrl),t.xp6(3),t.Q6J("ngIf",Z.data.headerText),t.xp6(1),t.Q6J("ngClass",t.WLB(25,$,Z.data.bodyText?"hig-dialog-spinner-content-start":"hig-dialog-spinner-content-center",Z.data.showSpinner?"hig-dialog-spinner-group":"")),t.xp6(1),t.Q6J("ngIf",Z.data.showSpinner),t.xp6(2),t.Q6J("ngIf",Z.data.bodyText),t.xp6(1),t.Q6J("ngIf",null==Z.data.link?null:Z.data.link.placeholders),t.xp6(1),t.Q6J("ngIf",Z.data.link&&!Z.data.link.placeholders),t.xp6(1),t.Q6J("ngIf",Z.data.errorCodeText),t.xp6(1),t.Q6J("ngIf",Z.data.radioButtonOptions),t.xp6(1),t.Q6J("ngIf",Z.data.descriptionList),t.xp6(1),t.Q6J("ngIf",null==Z.data.image?null:Z.data.image.isDraggableUrl),t.xp6(3),t.Q6J("ngIf",Z.data.checkbox),t.xp6(2),t.Q6J("ngIf",Z.data.secondaryButton),t.xp6(1),t.Q6J("ngIf",Z.data.primaryButton))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.hig-dialog[_ngcontent-%COMP%]{background-color:#393939;padding:0;width:560px}.hig-dialog-transparent[_ngcontent-%COMP%]{background-color:transparent;padding:0;width:100%}.isLtr[_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{padding:20px 8px 8px 24px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{--dummy: 0;padding:20px 8px 8px 24px}.isRtl[_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{padding:20px 24px 8px 8px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-padding[_ngcontent-%COMP%]{--dummy: 0;padding:20px 24px 8px 8px}.hig-dialog-img[_ngcontent-%COMP%]{min-width:32px}.isLtr[_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-icon[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-img[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}@media (max-width: 599.98px) and (orientation: portrait),screen and (max-width: 568px) and (max-height: 320px) and (orientation: landscape){.hig-dialog[_ngcontent-%COMP%]{width:calc(100vw - 32px)}}.hig-dialog-content-container[_ngcontent-%COMP%]{width:100%}.isLtr[_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-content-container[_ngcontent-%COMP%]   .hig-dialog-info-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{padding-right:15px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{--dummy2: 0;padding-right:15px}.isRtl[_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{padding-left:15px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-spinner[_ngcontent-%COMP%]{--dummy2: 0;padding-left:15px}.hig-dialog-spinner-group[_ngcontent-%COMP%]{margin-top:10px}.hig-dialog-link-text[_ngcontent-%COMP%]{margin:10px 0 0}.isLtr[_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-buttons-container[_ngcontent-%COMP%]   .hig-dialog-secondary-button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.hig-dialog-buttons-container[_ngcontent-%COMP%]   .spinner-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;z-index:1;background:transparent}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.hig-dialog-buttons-container[_ngcontent-%COMP%]{flex-flow:row wrap-reverse}}.hig-dialog-spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center}.hig-dialog-spinner-content-start[_ngcontent-%COMP%]{margin-top:10px;place-content:start}.no-header-text.no-spinner[_ngcontent-%COMP%]   .hig-dialog-spinner-content-start[_ngcontent-%COMP%]{margin-top:0}.hig-dialog-spinner-content-center[_ngcontent-%COMP%]{place-content:center}.no-body-text.has-icon[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%], .no-header-text.no-spinner.has-icon[_ngcontent-%COMP%]   .body-text[_ngcontent-%COMP%]{display:flex;height:32px;align-items:center}.hig-dialog-icon[_ngcontent-%COMP%]{font-size:32px;color:#595959}.hig-radio-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:16px}.hig-radio-option-image[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .hig-radio-option-image[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.hig-radio-option-label[_ngcontent-%COMP%]{line-height:24px;font-size:16px}.hig-dialog-image-container[_ngcontent-%COMP%]{width:100%;padding-top:24px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{width:154px}.isLtr[_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-link[_ngcontent-%COMP%]{position:relative;font-size:0;line-height:0;color:transparent;cursor:grab;cursor:-webkit-grab}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-shortcut-link[_ngcontent-%COMP%]:active{cursor:grabbing;cursor:-webkit-grabbing}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image[_ngcontent-%COMP%]{width:130px;height:130px}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-caption[_ngcontent-%COMP%]{text-align:center;margin:12px 0 0;color:#ffffffb3}.hig-dialog-image-container[_ngcontent-%COMP%]   .hig-dialog-image-description[_ngcontent-%COMP%]{margin:0}.hig-dialog-error-text[_ngcontent-%COMP%]{margin:24px 0 0}.hig-description-list-container[_ngcontent-%COMP%]{margin-top:16px}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-list-item[_ngcontent-%COMP%]{display:flex}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{width:14px;height:14px;margin-top:2px;flex-shrink:0}.isLtr[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}.isLtr[_nghost-%COMP%]   .hig-checkbox[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-checkbox[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr][_ngcontent-%COMP%]   .hig-checkbox[_ngcontent-%COMP%]{--dummy3: 0;margin-left:10px}.isRtl[_nghost-%COMP%]   .hig-checkbox[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-checkbox[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .hig-checkbox[_ngcontent-%COMP%]{--dummy3: 0;margin-right:10px}"]}),F})()},69052:(Ge,ae,e)=>{"use strict";e.d(ae,{G:()=>be});var t=e(39609),n=e(72221),x=e(85566),L=e(96671),p=e(39700),P=e(86283),a=e(10907),o=e(74266),v=e(78747),y=e(51930),C=e(64710),A=e(71568),d=e(72467),m=e(92656),S=e(52954),s=e(18937),r=e(90657),l=e(51637),i=e(34375),O=e(91916),Y=e(89597),T=e(14893),B=e(58241),K=e(48037),b=e(715);const f=["marqueeContainer"],D=["leftButton"],I=["rightButton"],w=["paginator"],_=["paginatorList"],$=function(xe){return{"no-mask":xe}};function G(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"img",12),t.NdJ("load",function(){t.CHM(Ce);const De=t.oxw(3);return t.KtG(De.marqueeImageLoadComplete())})("error",function(){t.CHM(Ce);const De=t.oxw(3);return t.KtG(De.fallbackToPlaceholderImage())}),t.qZA()}if(2&xe){const Ce=t.oxw(3);t.Q6J("src",Ce.marqueeImageUrl,t.LSH)("ngClass",t.VKq(2,$,Ce.imageMaskDisabled))}}const F=function(xe,ke,Ce){return{fadeInMarquee:xe,"padded-image-container":ke,"full-bleed-image-container":Ce}};function J(xe,ke){if(1&xe&&(t.TgZ(0,"div",10),t.YNc(1,G,1,4,"img",11),t.qZA()),2&xe){const Ce=ke.$implicit,ge=t.oxw(2);t.Q6J("ngClass",t.kEZ(2,F,Ce.isVisible,Ce.imageType===ge.tileOption.PaddedImage&&!ge.tileIsShowingFallbackImage,Ce.imageType===ge.tileOption.FullBleedImage||ge.tileIsShowingFallbackImage)),t.xp6(1),t.Q6J("ngIf",Ce.isVisible)}}function z(xe,ke){if(1&xe&&(t.TgZ(0,"div",14),t._UZ(1,"div",15),t.TgZ(2,"div",16),t._uU(3),t.qZA()()),2&xe){const Ce=t.oxw().$implicit;t.xp6(3),t.Oqu(Ce.app.promoTag)}}function Z(xe,ke){if(1&xe&&(t.TgZ(0,"div"),t.YNc(1,z,4,1,"div",13),t.qZA()),2&xe){const Ce=ke.$implicit;t.xp6(1),t.Q6J("ngIf",Ce.isVisible&&Ce.app.promoTag)}}function ue(xe,ke){1&xe&&t._UZ(0,"div",25)}const u=function(xe,ke){return{"marquee-tile-background-gradient":xe,"marquee-tile-background-fallback-gradient":ke}};function k(xe,ke){if(1&xe&&t._UZ(0,"div",10),2&xe){const Ce=t.oxw(5);t.Q6J("ngClass",t.WLB(1,u,Ce.hasMarqueeScrim,!Ce.hasMarqueeScrim))}}function W(xe,ke){1&xe&&t._UZ(0,"div",26)}function N(xe,ke){1&xe&&t._UZ(0,"div",27)}function H(xe,ke){if(1&xe&&(t.TgZ(0,"div",20),t.YNc(1,ue,1,0,"div",21),t.YNc(2,k,1,4,"div",22),t.YNc(3,W,1,0,"div",23),t.YNc(4,N,1,0,"div",24),t.qZA()),2&xe){const Ce=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",Ce.gradients.bottomEdge),t.xp6(1),t.Q6J("ngIf",Ce.gradients.background&&!Ce.isShowingFallbackImage),t.xp6(1),t.Q6J("ngIf",Ce.gradients.leftEdge&&!Ce.isShowingFallbackImage),t.xp6(1),t.Q6J("ngIf",Ce.gradients.leftMerge&&!Ce.isShowingFallbackImage)}}const h=function(xe){return{fadeInMarqueeDescription:xe}};function E(xe,ke){if(1&xe&&(t.TgZ(0,"div",18),t.YNc(1,H,5,4,"div",19),t.qZA()),2&xe){const Ce=ke.$implicit;t.Q6J("ngClass",t.VKq(2,h,Ce.isVisible)),t.xp6(1),t.Q6J("ngIf",Ce.isVisible)}}function ee(xe,ke){if(1&xe&&(t.ynx(0),t.YNc(1,E,2,4,"div",17),t.BQk()),2&xe){const Ce=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",Ce.marqueeData)}}function R(xe,ke){if(1&xe&&(t.TgZ(0,"div",38),t._uU(1),t.qZA()),2&xe){const Ce=t.oxw(5);t.Udp("color",Ce.fontColor),t.xp6(1),t.hij(" ",Ce.appTitle," ")}}function q(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"img",39),t.NdJ("error",function(){t.CHM(Ce);const De=t.oxw(5);return t.KtG(De.fallbackToAppLogo())}),t.qZA()}if(2&xe){const Ce=t.oxw(5);t.Q6J("src",Ce.appLogoUrl,t.LSH)}}function ne(xe,ke){if(1&xe&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&xe){const Ce=t.oxw(5);t.xp6(1),t.hij(" ",Ce.appSubtitle," ")}}function _e(xe,ke){if(1&xe&&(t.TgZ(0,"div",41),t._uU(1),t.qZA()),2&xe){const Ce=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",Ce.app.additionalSubtitle," ")}}function U(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"div",31),t.YNc(1,R,2,3,"div",32),t.YNc(2,q,1,1,"img",33),t.TgZ(3,"div",34),t.YNc(4,ne,2,1,"div",35),t.YNc(5,_e,2,1,"div",36),t.qZA(),t.TgZ(6,"button",37),t.NdJ("click",function(De){t.CHM(Ce);const ye=t.oxw(2).$implicit,Oe=t.oxw(2);return t.KtG(Oe.onViewAppDetails(De,ye.app))}),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA()()()}if(2&xe){const Ce=t.oxw(2).$implicit,ge=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!ge.phoneMarqueeEnabled&&ge.appTitle),t.xp6(1),t.Q6J("ngIf",!ge.appTitle),t.xp6(1),t.Udp("color",ge.fontColor),t.xp6(1),t.Q6J("ngIf",ge.appSubtitle),t.xp6(1),t.Q6J("ngIf",Ce.app.additionalSubtitle),t.xp6(3),t.Oqu(t.lcZ(9,7,"common.viewDetails"))}}function re(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(De){t.CHM(Ce);const ye=t.oxw(3).$implicit,Oe=t.oxw(2);return t.KtG(Oe.onActionClicked(De,ye.app.action,Oe.position))}),t._uU(1),t.qZA()}if(2&xe){const Ce=t.oxw(3).$implicit,ge=t.oxw(2);t.Q6J("isVisible",ge.isBusy),t.xp6(1),t.hij(" ",Ce.app.action.label," ")}}function pe(xe,ke){if(1&xe&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&xe){const Ce=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",Ce.app.action.infoText," ")}}function Pe(xe,ke){if(1&xe&&(t.TgZ(0,"div",42)(1,"div",43),t._uU(2),t.qZA(),t._UZ(3,"div",44),t.YNc(4,re,2,2,"button",45),t.YNc(5,pe,2,1,"div",46),t.qZA()),2&xe){const Ce=t.oxw(2).$implicit;t.xp6(2),t.Oqu(Ce.app.title),t.xp6(1),t.Q6J("innerHTML",null==Ce.app?null:Ce.app.body,t.oJD),t.xp6(1),t.Q6J("ngIf",(null==Ce.app||null==Ce.app.action||null==Ce.app.action.label?null:Ce.app.action.label.length)>0),t.xp6(1),t.Q6J("ngIf",!(null==Ce.app.action||!Ce.app.action.infoText))}}const Te=function(xe){return{"marquee-tile-data":xe}};function me(xe,ke){if(1&xe&&(t.TgZ(0,"div",10),t.YNc(1,U,10,9,"div",29),t.YNc(2,Pe,6,4,"div",30),t.qZA()),2&xe){const Ce=t.oxw().$implicit,ge=t.oxw(2);t.Q6J("ngClass",t.VKq(3,Te,Ce.contentOverlayType!==ge.tileOption.FullBleedImage)),t.xp6(1),t.Q6J("ngIf",Ce.contentOverlayType!==ge.tileOption.FullBleedImage),t.xp6(1),t.Q6J("ngIf",Ce.contentOverlayType===ge.tileOption.FullBleedImage)}}function et(xe,ke){if(1&xe&&(t.TgZ(0,"div",28),t.YNc(1,me,3,5,"div",22),t.qZA()),2&xe){const Ce=ke.$implicit;t.Q6J("ngClass",t.VKq(2,h,Ce.isVisible)),t.xp6(1),t.Q6J("ngIf",Ce.isVisible)}}function Xe(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"button",51,52),t.NdJ("click",function(De){t.CHM(Ce);const ye=t.oxw(3);return t.KtG(ye.prevSlide(De))}),t._UZ(2,"img",53),t.qZA()}2&xe&&(t.xp6(2),t.Q6J("src","assets/img/lt_arrow.svg",t.LSH))}function Ze(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"button",54,55),t.NdJ("click",function(De){t.CHM(Ce);const ye=t.oxw(3);return t.KtG(ye.nextSlide(De))}),t._UZ(2,"img",53),t.qZA()}2&xe&&(t.xp6(2),t.Q6J("src","assets/img/rt_arrow.svg",t.LSH))}function nt(xe,ke){if(1&xe&&(t.ynx(0),t.YNc(1,Xe,3,1,"button",49),t.YNc(2,Ze,3,1,"button",50),t.BQk()),2&xe){const Ce=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0!==Ce.position),t.xp6(1),t.Q6J("ngIf",Ce.position!==Ce.marqueeData.length-1)}}function Me(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"li",59,60),t.NdJ("click",function(){const ye=t.CHM(Ce).$implicit,Oe=t.oxw(3);return t.KtG(Oe.goToSlide(ye))})("focusin",function(){const ye=t.CHM(Ce).$implicit,Oe=t.oxw(3);return t.KtG(Oe.goToSlide(ye))}),t.qZA()}if(2&xe){const Ce=ke.$implicit,ge=t.oxw(3);t.ekj("active",Ce===ge.position),t.uIk("tabindex",ge.enablePaginatorNavigation?0:null)}}function ze(xe,ke){if(1&xe&&(t.TgZ(0,"ul",56,57),t.YNc(2,Me,2,3,"li",58),t.qZA()),2&xe){const Ce=t.oxw(2);t.uIk("tabindex",Ce.enablePaginatorNavigation?0:null),t.xp6(2),t.Q6J("ngForOf",Ce.slideAccessor)}}const le=function(xe,ke,Ce,ge,De,ye,Oe,ie){return{"mobile-view":xe,"phone-marquee":ke,"scrim-has-alpha":Ce,"full-bleed-item":ge,"full-bleed-item-not-first-position":De,"no-bg-overhang":ye,"custom-bg":Oe,"fallback-image-item":ie}};function Le(xe,ke){if(1&xe){const Ce=t.EpF();t.TgZ(0,"div",3,4),t.NdJ("swipeleft",function(){t.CHM(Ce);const De=t.oxw();return t.KtG(De.swipeLeft())})("swiperight",function(){t.CHM(Ce);const De=t.oxw();return t.KtG(De.swipeRight())})("cdkFocusChange",function(De){t.CHM(Ce);const ye=t.oxw();return t.KtG(ye.onFocusChange(De))})("click",function(){t.CHM(Ce);const De=t.oxw();return t.KtG(De.cancelAutoSlide())}),t.YNc(2,J,2,6,"div",5),t.YNc(3,Z,2,1,"div",6),t.YNc(4,ee,2,1,"ng-container",7),t.YNc(5,et,2,4,"div",8),t.YNc(6,nt,3,2,"ng-container",7),t.YNc(7,ze,3,2,"ul",9),t.qZA()}if(2&xe){const Ce=t.oxw();t.Udp("--scrim-color",Ce.scrimColor)("--parallax-offset",Ce.parallaxOffset,"px"),t.Q6J("ngClass",t.qlk(11,le,Ce.mobileMode,Ce.phoneMarqueeEnabled,Ce.scrimHasAlpha,Ce.isTileTypeFullBleedImage,Ce.isTileTypeFullBleedImageNotAtFirst,!1===Ce.backgroundOverhangEnabled,Ce.containerCustomBackground,Ce.tileIsShowingFallbackImage)),t.xp6(2),t.Q6J("ngForOf",Ce.marqueeData),t.xp6(1),t.Q6J("ngForOf",Ce.marqueeData),t.xp6(1),t.Q6J("ngIf",!Ce.phoneMarqueeEnabled),t.xp6(1),t.Q6J("ngForOf",Ce.marqueeData),t.xp6(1),t.Q6J("ngIf",!Ce.phoneMarqueeEnabled),t.xp6(1),t.Q6J("ngIf",(null==Ce.marqueeData?null:Ce.marqueeData.length)>1)}}const Re=function(xe){return{"no-bg-overhang":xe}};function Q(xe,ke){if(1&xe&&(t.TgZ(0,"div",61),t._UZ(1,"nv-hig-progress-circular"),t.qZA()),2&xe){const Ce=t.oxw();t.Q6J("ngClass",t.VKq(1,Re,!1===Ce.backgroundOverhangEnabled))}}function ve(xe,ke){if(1&xe&&(t.TgZ(0,"div",62)(1,"span",63),t._uU(2),t.ALo(3,"translate"),t._UZ(4,"br"),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&xe){const Ce=t.oxw();t.Q6J("ngClass",t.VKq(7,Re,!1===Ce.backgroundOverhangEnabled)),t.xp6(2),t.hij("",t.lcZ(3,3,"common.genericLoadError")," "),t.xp6(3),t.Oqu(t.lcZ(6,5,"common.connectionError"))}}let be=(()=>{class xe{constructor(Ce,ge,De,ye,Oe,ie,qe,lt,Et){this.imageFormatService=Ce,this.networkStatusService=De,this.localeService=ye,this.ngZone=Oe,this.breakpointObserver=ie,this.spatialNavigationService=qe,this.focusMonitor=lt,this.focusManager=Et,this.marqueeControl=y.y0.Play,this.phoneMarqueeEnabled=!1,this.mobileMode=!1,this.parallaxOffset=0,this.enablePaginatorNavigation=!1,this.controlActionChangeDetected=new t.vpe,this.actionClicked=new t.vpe,this.viewAppDetails=new t.vpe,this.imageLoadFailure=new t.vpe,this.marqueeScrolled=new t.vpe,this.paginatorRepositioned=new t.vpe,this.initialized=new t.vpe,this.slideAccessor=[],this.position=0,this.busyLoadingMarquee=!0,this.errorVisible=!1,this.isBusy=!1,this.isTileTypeFullBleedImage=!1,this.isTileTypeFullBleedImageNotAtFirst=!1,this.tileIsShowingFallbackImage=!1,this.globalFallbackImage=y.SV,this.formatImages=!0,this.backgroundOverhangEnabled=!0,this.imageMaskDisabled=!1,this.containerCustomBackground=!1,this.contentOverlayType=y.RE.FullBleedImage,this.ismarketingTileReloaded=!1,this.autoSlideInterval=5e3,this.autoSlide=!0,this.focusIn=!1,this.logger=ge.getLogger("hig/MarqueeComponent"),this.destroy$=new L.xQ}get tileOption(){return y.RE}get hasMarqueeScrim(){return this._hasMarqueeScrim}set hasMarqueeScrim(Ce){this._hasMarqueeScrim=Ce}ngOnInit(){var Ce,ge,De,ye,Oe,ie,qe,lt,Et;if(this.gradientOverrides&&(this.bottomEdgeGradientEnabled=null!==(Ce=this.gradientOverrides.bottomEdge)&&void 0!==Ce?Ce:this.bottomEdgeGradientEnabled,this.leftEdgeGradientEnabled=null!==(ge=this.gradientOverrides.leftEdge)&&void 0!==ge?ge:this.leftEdgeGradientEnabled,this.leftMergeGradientEnabled=null!==(De=this.gradientOverrides.leftMerge)&&void 0!==De?De:this.leftMergeGradientEnabled,this.backgroundGradientEnabled=null!==(ye=this.gradientOverrides.background)&&void 0!==ye?ye:this.backgroundGradientEnabled,this.backgroundOverhangEnabled=null!==(Oe=this.gradientOverrides.backgroundOverhang)&&void 0!==Oe?Oe:this.backgroundOverhangEnabled),this.imageOverrides){this.globalFallbackImage=null!==(ie=this.imageOverrides.globalFallbackImageUrl)&&void 0!==ie?ie:this.globalFallbackImage,this.formatImages=null!==(qe=this.imageOverrides.formatImages)&&void 0!==qe?qe:this.formatImages,this.imageMaskDisabled=null!==(lt=this.imageOverrides.disableMask)&&void 0!==lt?lt:this.imageMaskDisabled,this.containerCustomBackground=null!==(Et=this.imageOverrides.customBackground)&&void 0!==Et?Et:this.containerCustomBackground,this.constructMarquee();const kt=this.imageOverrides.switchableImageConfig;kt&&(this.breakpointObserver.observe(`(min-width: ${kt.breakpointPx}px)`).pipe((0,a.R)(this.destroy$)).subscribe(an=>{an.matches&&this.overrideImageType(kt.alternate)}),this.breakpointObserver.observe(`(max-width: ${kt.breakpointPx-1}px)`).pipe((0,a.R)(this.destroy$)).subscribe(an=>{an.matches&&this.overrideImageType(kt.default)}))}else this.constructMarquee();this.networkStatusService.onlineStatusChanged.pipe((0,o.h)(kt=>!0===kt)).pipe((0,a.R)(this.destroy$)).subscribe(()=>{this.refreshMarquee()}),this.phoneMarqueeEnabled&&this.breakpointObserver.observe(n.u3.HandsetPortrait).pipe((0,a.R)(this.destroy$)).subscribe(()=>{this.updateMarqueeImageUrl(this.tileInFocus.app),this.notifyPaginatorRepositioned()})}overrideImageType(Ce){this.marqueeData=this.marqueeData.map(ge=>(ge.imageType=Ce,ge)),this.updateImageTypeByIndex(this.position,Ce,this.marqueeData[this.position].isShowingFallbackImage)}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.phoneMarqueeEnabled&&this.enablePaginatorNavigation&&this.ngZone.runOutsideAngular(()=>{var Ce,ge;(0,p.R)(null===(Ce=this.paginator)||void 0===Ce?void 0:Ce.nativeElement,"navbeforefocus").pipe((0,o.h)(De=>{var ye;return De.target===(null===(ye=this.paginator)||void 0===ye?void 0:ye.nativeElement)}),(0,a.R)(this.destroy$)).subscribe(this.onPaginatorNavBeforeFocus.bind(this)),(0,p.R)(null===(ge=this.paginator)||void 0===ge?void 0:ge.nativeElement,"navnotarget").pipe((0,o.h)(De=>{var ye;return De.target===(null===(ye=this.paginator)||void 0===ye?void 0:ye.nativeElement)&&("left"===De.detail.dir||"right"===De.detail.dir)}),(0,a.R)(this.destroy$)).subscribe(this.onPaginatorNavNoTarget.bind(this))}),this.initialized.emit()}onPaginatorNavBeforeFocus(Ce){var ge;Ce.preventDefault(),this.focusManager.navigateTo(null===(ge=this.paginatorList.get(this.position))||void 0===ge?void 0:ge.nativeElement,Ce.detail.dir)}onPaginatorNavNoTarget(Ce){var ge;Ce.preventDefault();let De="left"===Ce.detail.dir?-1:1;De*=this.localeService.isRTLLayoutEnabled?-1:1;let ye=(this.position+De)%this.slideAccessor.length;ye<0&&(ye+=this.slideAccessor.length),this.focusManager.navigateTo(null===(ge=this.paginatorList.get(ye))||void 0===ge?void 0:ge.nativeElement,Ce.detail.dir)}notifyPaginatorRepositioned(){setTimeout(()=>{var Ce,ge;const De=null===(Ce=this.paginator)||void 0===Ce?void 0:Ce.nativeElement.getBoundingClientRect().bottom,ye=null===(ge=this.marqueeContainer)||void 0===ge?void 0:ge.nativeElement.getBoundingClientRect().top;void 0!==De&&void 0!==ye&&this.paginatorRepositioned.next(Math.floor(De-ye))})}constructMarquee(){this.marqueeData=[],this.slideAccessor=[];const Ce=(0,x.isNil)(this.tileData)||(0,x.isEmpty)(this.tileData);Ce&&(this.tileData=[{image:this.globalFallbackImage,type:y.RE.FullBleedImage}]),this.tileData.forEach((ge,De)=>{this.marqueeData.push({isVisible:!1,app:ge,gradients:this.getGradientConfig(ge),contentOverlayType:this.getContentOverlayType(ge),imageType:ge.type,isShowingFallbackImage:Ce}),this.slideAccessor.push(De),this.updateMetaData(this.marqueeData[De])}),this.logger.info("Marquee Initalization"),this.errorVisible=!1,this.marqueeInitalization(),this.setBusyMarqueeIndicator(!1),this.ismarketingTileReloaded=!0}getGradientConfig(Ce){var ge,De,ye,Oe,ie;return{bottomEdge:null!==(ge=this.bottomEdgeGradientEnabled)&&void 0!==ge?ge:Ce.type===y.RE.FullBleedImage,leftEdge:null!==(De=this.leftEdgeGradientEnabled)&&void 0!==De?De:Ce.type===y.RE.PaddedImage,leftMerge:null!==(ye=this.leftMergeGradientEnabled)&&void 0!==ye&&ye,background:null!==(Oe=this.backgroundGradientEnabled)&&void 0!==Oe?Oe:Ce.type===y.RE.PaddedImage,backgroundOverhang:null===(ie=this.backgroundOverhangEnabled)||void 0===ie||ie}}getContentOverlayType(Ce){return this.overlayOverrides?this.overlayOverrides.contentOverlayType:Ce.type}updateMetaData(Ce){const ge=Ce.app;if(ge.marqueeScrim){const De=ge.marqueeScrim;this.fontColor=ge.fontColor,this.scrimHasAlpha=De.includes("rgba"),this.scrimColor=this.scrimHasAlpha?De:ge.scrimColor,this.hasMarqueeScrim=!0}else this.isTileTypeFullBleedImage&&(this.scrimColor="0, 0, 0",this.hasMarqueeScrim=!0);this.updateMarqueeImageUrl(ge),this.appLogoUrl=ge.logoImage||null}updateMarqueeImageUrl(Ce){const De=Ce.image;this.marqueeImageUrl=De?this.formatImages?this.imageFormatService.formatImageServiceUrl(De,this.phoneMarqueeEnabled?{w:960}:{w:1920}):De:null}marqueeInitalization(){this.position=0,this.marqueeData[this.position]&&(this.marqueeData[this.position].isVisible=!0),this.setSlideMetaData(0),this.initAutoSlideIfEnabled()}setSlideMetaData(Ce){var ge;this.marqueeData[Ce]&&(this.tileInFocus=this.marqueeData[Ce],this.updateImageTypeByIndex(Ce,null===(ge=this.tileInFocus)||void 0===ge?void 0:ge.imageType,this.tileInFocus.isShowingFallbackImage),this.resetData(),this.updateMetaData(this.tileInFocus),this.isTileTypeFullBleedImage||(this.appSubtitle=this.tileInFocus.app.subtitle))}updateImageTypeByIndex(Ce,ge,De){this.tileIsShowingFallbackImage=De,this.isTileTypeFullBleedImage=ge===y.RE.FullBleedImage,this.isTileTypeFullBleedImageNotAtFirst=this.isTileTypeFullBleedImage&&Ce>0}resetData(){this.marqueeImageUrl=null,this.appLogoUrl=null,this.appTitle=null,this.hasMarqueeScrim=!1,this.scrimColor=null,this.scrimHasAlpha=!1,this.fontColor="white",this.appSubtitle=null}initAutoSlideIfEnabled(){var Ce;this.autoSlide=this.marqueeControl===y.y0.Play,this.autoSlide&&(this.marqueeIterator=(0,P.F)(this.autoSlideInterval),null===(Ce=this.marqueeIteratorSubscription)||void 0===Ce||Ce.unsubscribe(),this.marqueeIteratorSubscription=this.marqueeIterator.pipe((0,v.x)(()=>{this.controlActionChangeDetected.emit(y.y0.Pause)})).subscribe(()=>{this.autoSlide&&this.nextSlide()}))}goToSlide(Ce){this.marqueeData.map((ge,De)=>{ge.isVisible=De===Ce}),this.position=Ce,this.setSlideMetaData(this.position),this.autoSlide||(this.marqueeScrolled.emit(this.position),this.cancelAutoSlide())}nextSlide(Ce){this.position<this.marqueeData.length-1&&!(0,x.isNil)(this.marqueeData[this.position+1])?(this.marqueeData[this.position].isVisible=!1,this.position++,this.marqueeData[this.position].isVisible=!0,this.setSlideMetaData(this.position),this.position===this.marqueeData.length-1&&(null==Ce?void 0:Ce.target)instanceof HTMLButtonElement&&this.focusNavButton(),this.autoSlide||(this.marqueeScrolled.emit(this.position),this.cancelAutoSlide())):(this.phoneMarqueeEnabled||this.autoSlide&&this.position<=this.marqueeData.length-1)&&this.goToSlide(0)}focusNavButton(){const Ce=0===this.position?this.rightButton:this.leftButton;this.focusManager.focusViaLastOrigin(null==Ce?void 0:Ce.nativeElement)}setBusyMarqueeIndicator(Ce){this.busyLoadingMarquee=Ce}refreshMarquee(Ce){if(this.errorVisible||Ce)switch(this.logger.info("Marquee data updated, constructing marquee.."),this.constructMarquee(),this.setMarqueeControlAction(),this.marqueeControl){case y.y0.Play:this.play();break;case y.y0.Pause:this.pause();break;case y.y0.Resume:break;default:this.logger.info("Marquee Control Action Invalid:",this.marqueeControl)}}setMarqueeControlAction(){this.autoSlide||(this.marqueeControl=y.y0.Pause)}play(){this.autoSlide=!0}pause(){var Ce;this.autoSlide=!1,null===(Ce=this.marqueeIteratorSubscription)||void 0===Ce||Ce.unsubscribe()}ngOnDestroy(){var Ce;this.destroy$.next(),this.destroy$.complete(),null===(Ce=this.marqueeIteratorSubscription)||void 0===Ce||Ce.unsubscribe()}pauseOrResume(){this.focusIn?this.pause():this.resume()}resume(){this.isBusy||(this.autoSlide=!0)}swipeLeft(){this.localeService.isRTLLayoutEnabled?this.prevSlide():this.nextSlide()}prevSlide(Ce){this.position>0&&!(0,x.isNil)(this.marqueeData[this.position-1])?(this.marqueeData[this.position].isVisible=!1,this.position--,this.marqueeData[this.position].isVisible=!0,this.setSlideMetaData(this.position),0===this.position&&(null==Ce?void 0:Ce.target)instanceof HTMLButtonElement&&this.focusNavButton(),this.autoSlide||(this.marqueeScrolled.emit(this.position),this.cancelAutoSlide())):this.phoneMarqueeEnabled&&this.goToSlide(this.marqueeData.length-1)}swipeRight(){this.localeService.isRTLLayoutEnabled?this.nextSlide():this.prevSlide()}onFocusChange(Ce){this.spatialNavigationService.enabled&&this.ngZone.run(()=>{var ge;const De=this.focusIn;this.focusIn=!!Ce,this.pauseOrResume(),"keyboard"===Ce&&!De&&this.isTileTypeFullBleedImage&&(null===(ge=this.tileInFocus.app.action)||void 0===ge||!ge.label)&&!this.phoneMarqueeEnabled&&this.focusNavButton()})}marqueeImageLoadComplete(){0===this.position&&!0===this.ismarketingTileReloaded&&(this.ismarketingTileReloaded=!1)}fallbackToPlaceholderImage(){const Ce=this.marqueeData[this.position],ge=Ce.app;this.logger.warn("Error loading image for "+ge.title+" using fallback."),Ce.isShowingFallbackImage=!0,this.setSlideMetaData(this.position),this.marqueeImageUrl=ge.fallbackImage?ge.fallbackImage:this.globalFallbackImage}fallbackToAppLogo(){this.logger.warn("Error loading app logo for "+this.marqueeData[this.position].app.title+" using fallback."),this.appTitle=this.marqueeData[this.position].app.title}onViewAppDetails(Ce,ge){this.logger.info("view app details",Ce),this.viewAppDetails.emit(Object.assign({app:ge},Ce))}onActionClicked(Ce,ge,De){this.logger.info("action clicked",Ce,ge),this.actionClicked.emit(Object.assign({action:ge,position:De},Ce))}cancelAutoSlide(){var Ce;this.autoSlide=!1,null===(Ce=this.marqueeIteratorSubscription)||void 0===Ce||Ce.unsubscribe()}}return xe.\u0275fac=function(Ce){return new(Ce||xe)(t.Y36(C.CQ),t.Y36(C.ed),t.Y36(C._J),t.Y36(C.OL),t.Y36(t.R0b),t.Y36(n.Yg),t.Y36(A.j),t.Y36(d.tE),t.Y36(m.I))},xe.\u0275cmp=t.Xpm({type:xe,selectors:[["nv-hig-marquee"]],viewQuery:function(Ce,ge){if(1&Ce&&(t.Gf(f,5),t.Gf(D,5,t.SBq),t.Gf(I,5,t.SBq),t.Gf(w,5),t.Gf(_,5)),2&Ce){let De;t.iGM(De=t.CRH())&&(ge.marqueeContainer=De.first),t.iGM(De=t.CRH())&&(ge.leftButton=De.first),t.iGM(De=t.CRH())&&(ge.rightButton=De.first),t.iGM(De=t.CRH())&&(ge.paginator=De.first),t.iGM(De=t.CRH())&&(ge.paginatorList=De)}},inputs:{tileData:"tileData",marqueeControl:"marqueeControl",phoneMarqueeEnabled:"phoneMarqueeEnabled",mobileMode:"mobileMode",parallaxOffset:"parallaxOffset",enablePaginatorNavigation:"enablePaginatorNavigation",gradientOverrides:"gradientOverrides",overlayOverrides:"overlayOverrides",imageOverrides:"imageOverrides"},outputs:{controlActionChangeDetected:"controlActionChangeDetected",actionClicked:"actionClicked",viewAppDetails:"viewAppDetails",imageLoadFailure:"imageLoadFailure",marqueeScrolled:"marqueeScrolled",paginatorRepositioned:"paginatorRepositioned",initialized:"initialized"},decls:3,vars:3,consts:[["class","marquee-container","nvSpatialNavigationContainer","","cdkMonitorSubtreeFocus","","containFocus","false","captureFocusForChild","true",3,"ngClass","--scrim-color","--parallax-offset","swipeleft","swiperight","cdkFocusChange","click",4,"ngIf"],["class","marquee-load-container",3,"ngClass",4,"ngIf"],["class","errorPlaceholder","fxLayoutAlign","center center",3,"ngClass",4,"ngIf"],["nvSpatialNavigationContainer","","cdkMonitorSubtreeFocus","","containFocus","false","captureFocusForChild","true",1,"marquee-container",3,"ngClass","swipeleft","swiperight","cdkFocusChange","click"],["marqueeContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","marquee-tile-overlay-container",3,"ngClass",4,"ngFor","ngForOf"],["class","marquee-indicators","cdkMonitorSubtreeFocus","","nvSpatialNavigationGroup","",4,"ngIf"],[3,"ngClass"],["elementtiming","marqueeTile","class","marquee-tile-image",3,"src","ngClass","load","error",4,"ngIf"],["elementtiming","marqueeTile",1,"marquee-tile-image",3,"src","ngClass","load","error"],["class","marquee-promo-tag-container","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"marquee-promo-tag-container"],[1,"marquee-promo-tag-border"],["dir","auto",1,"marquee-promo-tag"],["class","marquee-tile-gradient-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"marquee-tile-gradient-container",3,"ngClass"],["class","marquee-tile-gradients",4,"ngIf"],[1,"marquee-tile-gradients"],["class","full-bleed-up-down-gradient",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","marquee-tile-left-edge-gradient",4,"ngIf"],["class","marquee-tile-left-merge-gradient",4,"ngIf"],[1,"full-bleed-up-down-gradient"],[1,"marquee-tile-left-edge-gradient"],[1,"marquee-tile-left-merge-gradient"],[1,"marquee-tile-overlay-container",3,"ngClass"],["class","overlay-content",4,"ngIf"],["class","full-bleed-overlay-content",4,"ngIf"],[1,"overlay-content"],["class","font-header4 marquee-app-title",3,"color",4,"ngIf"],["elementtiming","appLogo","class","marquee-app-title",3,"src","error",4,"ngIf"],[1,"subtitle-container"],["class","font-sub3",4,"ngIf"],["dir","auto","class","font-sub3",4,"ngIf"],["tabindex","0","mat-raised-button","","color","accent",1,"marquee-tile-action-button","text-button-icon",3,"click"],[1,"font-header4","marquee-app-title"],["elementtiming","appLogo",1,"marquee-app-title",3,"src","error"],[1,"font-sub3"],["dir","auto",1,"font-sub3"],[1,"full-bleed-overlay-content"],[1,"title-font"],[1,"body-font",3,"innerHTML"],["mat-raised-button","","color","accent","class","marquee-tile-action-button","nvProgressCircular","",3,"isVisible","click",4,"ngIf"],["class","info-font",4,"ngIf"],["mat-raised-button","","color","accent","nvProgressCircular","",1,"marquee-tile-action-button",3,"isVisible","click"],[1,"info-font"],["mat-icon-button","","class","marquee-button marquee-button-prev","data-focus-loss-exempt","",3,"click",4,"ngIf"],["mat-icon-button","","class","marquee-button marquee-button-next","data-focus-loss-exempt","",3,"click",4,"ngIf"],["mat-icon-button","","data-focus-loss-exempt","",1,"marquee-button","marquee-button-prev",3,"click"],["leftButton",""],[1,"marquee-button-icon",3,"src"],["mat-icon-button","","data-focus-loss-exempt","",1,"marquee-button","marquee-button-next",3,"click"],["rightButton",""],["cdkMonitorSubtreeFocus","","nvSpatialNavigationGroup","",1,"marquee-indicators"],["paginator",""],[3,"active","click","focusin",4,"ngFor","ngForOf"],[3,"click","focusin"],["paginatorList",""],[1,"marquee-load-container",3,"ngClass"],["fxLayoutAlign","center center",1,"errorPlaceholder",3,"ngClass"],[1,"font-header5"]],template:function(Ce,ge){1&Ce&&(t.YNc(0,Le,8,20,"div",0),t.YNc(1,Q,2,3,"div",1),t.YNc(2,ve,7,9,"div",2)),2&Ce&&(t.Q6J("ngIf",!ge.busyLoadingMarquee&&!ge.errorVisible),t.xp6(1),t.Q6J("ngIf",ge.busyLoadingMarquee),t.xp6(1),t.Q6J("ngIf",ge.errorVisible))},dependencies:[S.mk,S.sg,S.O5,s.xw,s.Wh,r.oO,l.Lv,i.eB,d.kH,O.A,Y.N,Y.b,T.E,B.p,K.W,b.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .marquee-button-icon[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}[_ngcontent-%COMP%]:root{--hig-marquee-ratio: .3229;--hig-marquee-parent-container-width: 100vw;--hig-marquee-container-height: calc(var(--hig-marquee-ratio) * 100vw);--hig-marquee-corner-column: 56px;--hig-marquee-text-column: 14vw;--hig-marquee-padded-image-first-row: calc(var(--hig-marquee-ratio) * (100vw - var(--hig-marquee-corner-column) - var(--hig-marquee-text-column)));--hig-marquee-padded-image-second-row: calc(var(--hig-marquee-container-height) - var(--hig-marquee-padded-image-first-row))}[_nghost-%COMP%]{--full-bleed-title-margin-bottom: 20px;--full-bleed-info-margin-top: 20px;--hig-marquee-fallback-background-gradient: linear-gradient( to top, rgba(128, 128, 128, 0) 0%, gray 40% );--hig-marquee-left-edge-gradient: linear-gradient( to left, rgba(25, 25, 25, 0) 0%, rgba(25, 25, 25, .25) 100% );--hig-marquee-left-merge-gradient: linear-gradient( 270deg, rgba(0, 0, 0, 0) 0%, #000000 66.62%, #000000 100% );--hig-marquee-custom-container-background: none}.mobile-view[_ngcontent-%COMP%]{--full-bleed-title-margin-bottom: 8px;--full-bleed-info-margin-top: 16px}.marquee-button[_ngcontent-%COMP%]{display:none;border-width:0;transition:all .2s ease;border:0;padding:0;background:none;outline:none;cursor:pointer}.marquee-button.mat-icon-button[_ngcontent-%COMP%]{border-radius:50%!important}.marquee-container[_ngcontent-%COMP%], .fallback-content[_ngcontent-%COMP%]{display:grid;align-items:center;justify-items:center;height:0;grid-template-columns:var(--hig-marquee-corner-column) var(--hig-marquee-text-column) 6vw 1fr var(--hig-marquee-corner-column);box-sizing:border-box;position:relative}.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{position:absolute;opacity:1;z-index:0;width:100%;height:100%;padding-bottom:0;transform:translateY(var(--parallax-offset))}@media (orientation: portrait){.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{--image-portrait-ratio: .5625;--overlapping-size: 56px;--paginator-height: 36px;--overlay-container-height: 150px;grid-template-rows:calc(var(--image-portrait-ratio) * var(--hig-marquee-parent-container-width) - var(--overlapping-size)) var(--overlapping-size) var(--overlay-container-height) var(--paginator-height)}}@media (orientation: landscape){.marquee-container.phone-marquee[_ngcontent-%COMP%], .fallback-content.phone-marquee[_ngcontent-%COMP%]{--indicator-container-height: 32px;--grabber-safe-padding: max(min(calc(env(safe-area-inset-left) + 25px), 72px), 48px);grid-template-rows:calc(100% - var(--indicator-container-height) - var(--grabber-safe-padding)) repeat(2,1fr)}.marquee-container.phone-marquee.full-bleed-item[_ngcontent-%COMP%], .fallback-content.phone-marquee.full-bleed-item[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr) auto}.marquee-container.phone-marquee[_ngcontent-%COMP%]:not(.full-bleed-item), .fallback-content.phone-marquee[_ngcontent-%COMP%]:not(.full-bleed-item){grid-template-columns:repeat(16,1fr) 50%}}@media (orientation: portrait){.marquee-container.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha), .fallback-content.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 50vw,rgba(var(--scrim-color),.7) 90vw,rgba(var(--scrim-color),0) 150vw)}}@media (orientation: landscape){.marquee-container.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha), .fallback-content.phone-marquee.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 45%,rgba(var(--scrim-color),.5) 90%,rgba(var(--scrim-color),0) 100%)}}[_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .marquee-container.phone-marquee[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .fallback-content.phone-marquee[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(var(--scrim-color),0) 0%,rgba(var(--scrim-color),.02) 3.42%,rgba(var(--scrim-color),.05) 6.68%,rgba(var(--scrim-color),.12) 9.55%,rgba(var(--scrim-color),.2) 12.3%,rgba(var(--scrim-color),.29) 15%,rgba(var(--scrim-color),.39) 17.52%,rgba(var(--scrim-color),.5) 20%,rgba(var(--scrim-color),.61) 22.48%,rgba(var(--scrim-color),.71) 25%,rgba(var(--scrim-color),.8) 27.7%,rgba(var(--scrim-color),.88) 30.45%,rgba(var(--scrim-color),.95) 33.32%,rgba(var(--scrim-color),.98) 36.58%,rgba(var(--scrim-color),1) 40%)}.marquee-container.phone-marquee.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%], .fallback-content.phone-marquee.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%]{background-color:var(--scrim-color)}[_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .marquee-container.phone-marquee[_ngcontent-%COMP%], [_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .fallback-content.phone-marquee[_ngcontent-%COMP%]{background-color:var(--scrim-color)}.marquee-container.cdk-keyboard-focused[_ngcontent-%COMP%]   .marquee-button[_ngcontent-%COMP%], .marquee-container.cdk-program-focused[_ngcontent-%COMP%]   .marquee-button[_ngcontent-%COMP%], .marquee-container[_ngcontent-%COMP%]:hover   .marquee-button[_ngcontent-%COMP%], .fallback-content.cdk-keyboard-focused[_ngcontent-%COMP%]   .marquee-button[_ngcontent-%COMP%], .fallback-content.cdk-program-focused[_ngcontent-%COMP%]   .marquee-button[_ngcontent-%COMP%], .fallback-content[_ngcontent-%COMP%]:hover   .marquee-button[_ngcontent-%COMP%]{display:block}.marquee-container[_ngcontent-%COMP%], .marquee-load-container[_ngcontent-%COMP%], .errorPlaceholder[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-padded-image-first-row) var(--hig-marquee-padded-image-second-row);padding-bottom:calc(var(--hig-marquee-padded-image-first-row) + var(--hig-marquee-padded-image-second-row))}.marquee-container.no-bg-overhang[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-padded-image-first-row);padding-bottom:var(--hig-marquee-padded-image-first-row)}.marquee-container.no-bg-overhang.full-bleed-item[_ngcontent-%COMP%]{grid-template-rows:var(--hig-marquee-container-height);padding-bottom:var(--hig-marquee-container-height)}.marquee-container.custom-bg[_ngcontent-%COMP%]{background:var(--hig-marquee-custom-container-background)}.padded-image-container[_ngcontent-%COMP%]{grid-area:1/3/2/-1;height:100%;position:relative;z-index:0;justify-self:stretch}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]{min-height:unset;grid-area:1/1/3/-1}[_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;mask-size:cover;-webkit-mask-size:cover}.isLtr[_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask), .isLtr   [_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask){mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient.4be6cc6eaeb87ea2.svg);-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient.4be6cc6eaeb87ea2.svg)}.isRtl[_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask), .isRtl   [_nghost-%COMP%]   [_ngcontent-%COMP%]:not(.phone-marquee)   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.no-mask){mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient_RTL.dfebfdd25abe74f6.svg);-webkit-mask-image:url(assets/hashed/Marquee_Hero_Image_Gradient_RTL.dfebfdd25abe74f6.svg);mask-position:right;-webkit-mask-position:right}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{display:flex}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{align-content:flex-end}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{justify-content:flex-end}}.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;min-height:unset;mask-size:100% 100%;-webkit-mask-size:100% 100%}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;-webkit-mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,rgba(0,0,0,.25) 15%,rgba(0,0,0,.5) 25%,black 50%);mask-image:linear-gradient(to top,rgba(0,0,0,0) 0%,rgba(0,0,0,.25) 15%,rgba(0,0,0,.5) 25%,black 50%)}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-mask-image:url(assets/hashed/mobile_marquee_mask_ltr.061e1ace81e59a93.png);mask-image:url(assets/hashed/mobile_marquee_mask_ltr.061e1ace81e59a93.png)}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .padded-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-mask-image:url(assets/hashed/mobile_marquee_mask_rtl.43d4462a20235954.png);mask-image:url(assets/hashed/mobile_marquee_mask_rtl.43d4462a20235954.png)}}.marquee-tile-gradient-container[_ngcontent-%COMP%], .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]{display:contents}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .full-bleed-up-down-gradient[_ngcontent-%COMP%]{grid-area:1/1/2/-1;width:100%;height:33%;align-self:end;z-index:2;background:linear-gradient(rgba(25,25,25,0) 0%,#191919 100%)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/-1;width:100%;height:100%}@media (orientation: portrait){.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 50vw,rgba(var(--scrim-color),.7) 90vw,rgba(var(--scrim-color),0) 150vw)}}@media (orientation: landscape){.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee[_ngcontent-%COMP%]:not(.scrim-has-alpha){background:linear-gradient(to bottom,rgba(var(--scrim-color),1) 45%,rgba(var(--scrim-color),.5) 90%,rgba(var(--scrim-color),0) 100%)}}[_ngcontent-%COMP%]:not(.phone-marquee):not(.scrim-has-alpha)   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(var(--scrim-color),0) 0%,rgba(var(--scrim-color),.02) 3.42%,rgba(var(--scrim-color),.05) 6.68%,rgba(var(--scrim-color),.12) 9.55%,rgba(var(--scrim-color),.2) 12.3%,rgba(var(--scrim-color),.29) 15%,rgba(var(--scrim-color),.39) 17.52%,rgba(var(--scrim-color),.5) 20%,rgba(var(--scrim-color),.61) 22.48%,rgba(var(--scrim-color),.71) 25%,rgba(var(--scrim-color),.8) 27.7%,rgba(var(--scrim-color),.88) 30.45%,rgba(var(--scrim-color),.95) 33.32%,rgba(var(--scrim-color),.98) 36.58%,rgba(var(--scrim-color),1) 40%)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient.phone-marquee.scrim-has-alpha[_ngcontent-%COMP%]{background-color:var(--scrim-color)}[_ngcontent-%COMP%]:not(.phone-marquee).scrim-has-alpha   .marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-gradient[_ngcontent-%COMP%]{background-color:var(--scrim-color)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-background-fallback-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/-1;background:var(--hig-marquee-fallback-background-gradient);width:100%;height:100%}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-edge-gradient[_ngcontent-%COMP%]{grid-area:1/1/3/3;width:100%;height:100%;background:var(--hig-marquee-left-edge-gradient)}.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%]{grid-area:1/1/1/-1;width:calc(6 * var(--rwd-column-size) + 5 * var(--rwd-gutter-size));height:100%;justify-self:start;background:var(--hig-marquee-left-merge-gradient);z-index:1}@media (min-width: 960px) and (max-width: 1439px),(min-width: 1440px) and (max-width: 1919px),(min-width: 1920px){.marquee-tile-gradient-container[_ngcontent-%COMP%]   .marquee-tile-gradients[_ngcontent-%COMP%]   .marquee-tile-left-merge-gradient[_ngcontent-%COMP%]{width:calc(7 * var(--rwd-column-size) + 6 * var(--rwd-gutter-size))}}.marquee-button-prev[_ngcontent-%COMP%]{grid-area:1/1/2/1;position:relative;z-index:2}.isLtr[_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%]{justify-self:right}.isRtl[_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-prev[_ngcontent-%COMP%]{justify-self:left}.marquee-button-next[_ngcontent-%COMP%]{grid-area:1/5/2/-1;position:relative;z-index:2}.isLtr[_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%]{justify-self:left}.isRtl[_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-button-next[_ngcontent-%COMP%]{justify-self:right}.full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/1/2/-1;position:relative;z-index:0;height:100%;justify-self:stretch}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/1/3/-1}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-image-container[_ngcontent-%COMP%]{grid-area:1/2/3/-1}}.full-bleed-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee){--full-bleed-left-column: 16px}@media (orientation: portrait){.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee){--full-bleed-left-column: 8px}}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).full-bleed-item-not-first-position{--full-bleed-left-column: var(--hig-marquee-corner-column)}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container{--split-column: calc(var(--hig-marquee-corner-column) - var(--full-bleed-left-column));grid-template-columns:var(--full-bleed-left-column) var(--split-column) var(--hig-marquee-text-column) 6vw 1fr var(--hig-marquee-corner-column)}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-button-next[_ngcontent-%COMP%]{grid-area:1/6/2/-1}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-indicators[_ngcontent-%COMP%]{grid-area:1/3/1/-1}.mobile-view.full-bleed-item[_ngcontent-%COMP%]:not(.phone-marquee).marquee-container   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/5}.full-bleed-overlay-content[_ngcontent-%COMP%]{text-align:start;width:38vw}.full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4;align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{-webkit-line-clamp:4}.full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-style:italic;margin-top:var(--full-bleed-info-margin-top)}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{-webkit-line-clamp:2}.full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700;margin-bottom:var(--full-bleed-title-margin-bottom)}.tv-view[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{word-break:break-word;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;align-self:center;text-overflow:ellipsis}[_ngcontent-%COMP%]:not(.mobile-view):not(.full-bleed-item)   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{-webkit-line-clamp:2}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;font-style:italic}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .info-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .body-font[_ngcontent-%COMP%]{margin-top:16px}.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500;margin-bottom:0}.tv-view[_ngcontent-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .title-font[_ngcontent-%COMP%]{font-size:40px;line-height:56px}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{text-align:center;width:100vw}.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-top:auto}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-top:24px}}.marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/4;width:100%;position:relative;z-index:2;justify-self:flex-start;display:flex;align-items:center;padding-bottom:24px;text-align:center}.isLtr[_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-tile-data[_ngcontent-%COMP%]{width:100%}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:100%;height:auto;-webkit-line-clamp:3}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:24px;justify-content:center}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:inherit}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-bottom:0;pointer-events:none}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-left:0}html[dir=ltr][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:0}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:0}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:160px;height:90px;padding-bottom:8px}@media screen and (max-width: 667px) and (max-height: 375px) and (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-app-title[_ngcontent-%COMP%]{width:132px;height:74px}}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:2/1/4/-1;height:100%;align-items:stretch}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%], .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{width:calc(100vw - 48px);padding:0 24px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .marquee-tile-data[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 24px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:16px}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/12;width:100%;padding-top:10px}}@media screen and (orientation: landscape) and (max-width: 667px) and (max-height: 375px) and (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/2/2/10}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .subtitle-container[_ngcontent-%COMP%]{margin-top:0;padding-bottom:16px}}@media (orientation: landscape){.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]   .full-bleed-overlay-content[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}}@media (orientation: landscape){.phone-marquee.full-bleed-item[_ngcontent-%COMP%]   .marquee-tile-overlay-container[_ngcontent-%COMP%]{grid-area:1/1/2/5}}.marquee-tile-overlay-container[_ngcontent-%COMP%]   .font-body2[_ngcontent-%COMP%], .marquee-tile-overlay-container[_ngcontent-%COMP%]   .font-header4[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.marquee-load-container[_ngcontent-%COMP%]{margin-bottom:61px;height:0;display:grid;align-items:center;justify-items:center;box-sizing:border-box}@keyframes _ngcontent-%COMP%_nv-hig-marquee_fadeInMarquee{0%{opacity:0;transform:translate(1%)}to{opacity:1;visibility:visible;transform:translate(0)}}.fadeInMarquee[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_nv-hig-marquee_fadeInMarquee 1s forwards}@keyframes _ngcontent-%COMP%_nv-hig-marquee_fadeInMarqueeDescription{0%{opacity:0}to{opacity:1;visibility:visible}}.fadeInMarqueeDescription[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_nv-hig-marquee_fadeInMarqueeDescription 1s forwards}.marquee-button-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;line-height:40px}.marquee-tile-action-button[_ngcontent-%COMP%]{color:#fff;margin-top:24px}.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{pointer-events:auto;margin-top:0}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .marquee-tile-action-button[_ngcontent-%COMP%]{margin-bottom:16px}}.marquee-indicators[_ngcontent-%COMP%]{grid-area:1/2/1/-1;align-self:end;z-index:3}.isLtr[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding-right:90px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{--dummy2: 0;padding-right:90px}.isRtl[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding-left:90px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{--dummy2: 0;padding-left:90px}.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{padding:4px 0 10px;margin:0}@media (orientation: portrait){.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{grid-area:4/1/4/-1;align-self:flex-end}}@media (orientation: landscape){.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]{grid-area:2/1/2/-1;align-self:flex-start}}.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators.cdk-keyboard-focused[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;margin-bottom:6px;background-color:#ffffff52;transition:background-color .75s ease}.marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;box-shadow:1px 1px 1px #00000080;border-radius:0;background:#636363;transition:.4s ease all;width:32px;height:6px;margin-bottom:2px}.isLtr[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:50%;width:7px;height:7px}.isLtr[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child, .isLtr   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child, .isRtl   [_nghost-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .phone-marquee[_ngcontent-%COMP%]   .marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{--dummy3: 0;margin-right:8px}.marquee-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background:#76b900}.marquee-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:not(.active){cursor:pointer;background:rgba(118,185,0,.5)}.errorPlaceholder[_ngcontent-%COMP%]{margin-bottom:61px;height:0;text-align:center;opacity:.5;box-sizing:border-box}.mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{height:18px;width:9px}.mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;height:18px;line-height:18px}.tv-view[_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.isLtr[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-left:6px}.isRtl[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-right:6px}.isLtr[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-right:6px}.isRtl[_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .mobile-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-left:6px}.marquee-promo-tag-container[_ngcontent-%COMP%]{background:#292929;position:absolute;top:10px}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{left:0}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy5: 0;left:0}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{right:0}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{--dummy5: 0;right:0}.phone-marquee[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]{top:5px}.marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{height:28px;width:14px;background-color:#76b900}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,100% 0%,25% 100%,0% 100%)}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag-border[_ngcontent-%COMP%]{clip-path:polygon(0% 0%,75% 100%,100% 100%,100% 0%)}.marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{height:28px;line-height:28px;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.tv-view[_ngcontent-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .marquee-promo-tag-container[_ngcontent-%COMP%]   .marquee-promo-tag[_ngcontent-%COMP%]{font-size:32px;line-height:48px}"]}),xe})()},51930:(Ge,ae,e)=>{"use strict";e.d(ae,{RE:()=>t,SV:()=>x,y0:()=>n});var t=(()=>{return(M=t||(t={})).FullBleedImage="FullBleedImage",M.PaddedImage="PaddedImage",t;var M})(),n=(()=>{return(M=n||(n={}))[M.Play=1]="Play",M[M.Pause=2]="Pause",M[M.Resume=3]="Resume",n;var M})();const x="assets/img/Marquee_Hero_Image_Fallback.png"},91916:(Ge,ae,e)=>{"use strict";e.d(ae,{A:()=>L});var t=e(78384),n=e(39609),x=e(18937),M=e(32764);let L=(()=>{class p{constructor(a){this.viewRef=a,this.isTv=!1,this.mode=t.zv.Indeterminate,this.value=0,this.diameter=this.isTv?t.xV:t.QL}}return p.\u0275fac=function(a){return new(a||p)(n.Y36(n.s_b))},p.\u0275cmp=n.Xpm({type:p,selectors:[["nv-hig-progress-circular"]],inputs:{isTv:"isTv",mode:"mode",value:"value",diameter:"diameter"},decls:2,vars:3,consts:[["fxLayoutAlign","center center",1,"common-overlay"],[1,"mat-accent",3,"mode","diameter","value"]],template:function(a,o){1&a&&(n.TgZ(0,"div",0),n._UZ(1,"mat-progress-spinner",1),n.qZA()),2&a&&(n.xp6(1),n.Q6J("mode",o.mode)("diameter",o.diameter)("value",o.value))},dependencies:[x.Wh,M.sN],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.common-overlay[_ngcontent-%COMP%]{position:absolute;right:0;left:0;display:flex;top:0;bottom:0;z-index:1;background-color:#000000bf}.common-overlay.light-background[_ngcontent-%COMP%]{background-color:#00000080}.common-overlay.no-background[_ngcontent-%COMP%]{background-color:transparent}"]}),p})()},78384:(Ge,ae,e)=>{"use strict";e.d(ae,{QL:()=>t,xV:()=>n,zv:()=>x});const t=16,n=2*t;var x=(()=>{return(M=x||(x={})).Indeterminate="indeterminate",M.Determininate="determinate",x;var M})()},31874:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>d});var t=e(39609),n=e(20576),x=e(53975),L=e(52954),p=e(18937),P=e(93557),a=e(99581),o=e(73557);const v=["slider"];function y(m,S){if(1&m){const s=t.EpF();t.TgZ(0,"input",4),t.NdJ("ngModelChange",function(l){t.CHM(s);const i=t.oxw();return t.KtG(i.inputValue=l)})("focus",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.onTextFocus())})("blur",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.onTextBlur())})("change",function(l){t.CHM(s);const i=t.oxw();return t.KtG(i.textChanged(l))})("input",function(l){t.CHM(s);const i=t.oxw();return t.KtG(i.textInput(l))}),t.qZA()}if(2&m){const s=t.oxw();t.Q6J("disabled",s.disabled)("ngModel",s.inputValue),t.uIk("tabindex",s.tabindex)}}var C=(()=>{return(m=C||(C={})).Integer="integer",m.Decimal="decimal",m.Time="time",m.Percent="percent",C;var m})();const A={[C.Integer]:/^-?\d*$/,[C.Decimal]:/^-?\d*\.*\d*$/,[C.Time]:/^-?\d*[:]?\d*$/,[C.Percent]:/^-?\d*$/};let d=(()=>{class m{constructor(s){this._min=0,this._max=100,this._step=1,this._default=void 0,this.disabled=!1,this.thumbLabel=!1,this.animating=!1,this._tickInterval=0,this._value=0,this.valueChange=new t.vpe,this.valueEntry=!1,this._formatTextAs=C.Integer,this.change=new t.vpe,this.input=new t.vpe,this.tabindex=void 0,this.sliderStep=0,this.inputValue=void 0,this.textFocused=!1,this.mouseDown=!1,this.initializing=!0,this.afterInit=!1,this.textValueValidation="",this.tabindex=parseInt(s,10),Number.isNaN(this.tabindex)&&(this.tabindex=void 0),this.realTabIndex="-1"}get min(){return this._min}set min(s){this._min=(0,n.su)(s,this._min)}get max(){return this._max}set max(s){this._max=(0,n.su)(s,this._max)}get step(){return this._step}set step(s){this._step=(0,n.su)(s,this._step),this.forceSliderTickUpdate()}get default(){return this._default}set default(s){this._default=(0,n.su)(s,this._default)}get tickInterval(){return this._tickInterval}set tickInterval(s){this._tickInterval="auto"===s?"auto":"number"==typeof s||"string"==typeof s?(0,n.su)(s,this._tickInterval):0,console.log("tickinterval: ",this._tickInterval),this.forceSliderTickUpdate()}get value(){return this._value}set value(s){this._value=(0,n.su)(s,this._value),setTimeout(()=>this.sliderMoved({source:this.slider,value:this.value}),0)}set formatTextAs(s){this._formatTextAs=C[s]||C.Integer}get formatTextAs(){return this._formatTextAs}ngOnInit(){}ngAfterViewInit(){this.afterInit=!0,setTimeout(()=>{this.forceSliderTickUpdate(),this.sliderMoved({source:this.slider,value:this.value})},0),setTimeout(()=>this.initializing=!1,100)}forceSliderTickUpdate(){this.afterInit&&this.slider&&(this.slider.step=this.step,this.sliderStep=this.step,this.slider._onMouseenter())}onTextFocus(){this.textFocused=!0}onTextBlur(){this.textFocused=!1}textChanged(s){let r=s.target.value;if(this.formatTextAs===C.Time){const i=x(r,"mm:ss");r=60*i.minutes()+i.seconds()+""}let l=0;this.formatTextAs===C.Decimal?(l=100*(parseFloat(r)||0),this.step&&(l=Math.round((l-100*this.min)/(100*this.step))*this.step+this.min)):(l=parseInt(r,10)||0,this.step&&(l=Math.round((l-this.min)/this.step)*this.step+this.min)),l=Math.min(this.max,Math.max(l,this.min)),this.value=l,this.sliderChanged({source:this.slider,value:this.value}),s.stopImmediatePropagation()}sliderChanged(s){this.valueChange.emit(this.value),this.change.emit(s)}sliderMoved(s){if(s&&void 0!==s.value){if(this.formatTextAs===C.Time){let r=x({seconds:0});r=r.second(s.value),this.inputValue=r.format("mm:ss")}else this.inputValue=this.formatTextAs===C.Percent?s.value+" %":s.value+"";this.textValueValidation=this.inputValue,this.input.emit(s)}}textInput(s){const l=s.target;l&&!(A[this.formatTextAs]||A[C.Integer]).test(l.value)?l.value=this.textValueValidation:this.textValueValidation=l.value,s.stopImmediatePropagation()}onKeyDown(s){this.default&&"Period"===s.code&&(this.value=this.default,this.sliderChanged({source:this.slider,value:this.value}))}}return m.\u0275fac=function(s){return new(s||m)(t.$8M("tabindex"))},m.\u0275cmp=t.Xpm({type:m,selectors:[["nv-hig-slider"]],viewQuery:function(s,r){if(1&s&&t.Gf(v,7),2&s){let l;t.iGM(l=t.CRH())&&(r.slider=l.first)}},hostVars:1,hostBindings:function(s,r){2&s&&t.Ikx("tabindex",r.realTabIndex)},inputs:{min:"min",max:"max",step:"step",default:"default",disabled:"disabled",thumbLabel:"thumbLabel",animating:"animating",tickInterval:"tickInterval",value:"value",valueEntry:"valueEntry",formatTextAs:"formatTextAs"},outputs:{valueChange:"valueChange",change:"change",input:"input"},decls:4,vars:15,consts:[["fxFlex","row","fxLayoutAlign","start start",1,"nv-hig"],["fxFlex","","nvMatSliderKeyboardFixup","",3,"min","max","step","disabled","thumbLabel","tickInterval","value","tabIndex","valueChange","input","change","mousedown","mouseup","keydown"],["slider",""],["type","text","fxFlex","none","class","slider-text-entry font-body2",3,"disabled","ngModel","ngModelChange","focus","blur","change","input",4,"ngIf"],["type","text","fxFlex","none",1,"slider-text-entry","font-body2",3,"disabled","ngModel","ngModelChange","focus","blur","change","input"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"mat-slider",1,2),t.NdJ("valueChange",function(i){return r.value=i})("input",function(i){return r.sliderMoved(i)})("change",function(i){return r.sliderChanged(i)})("mousedown",function(){return r.mouseDown=!0})("mouseup",function(){return r.mouseDown=!1},!1,t.Jf7)("keydown",function(i){return r.onKeyDown(i)}),t.qZA(),t.YNc(3,y,1,3,"input",3),t.qZA()),2&s&&(t.xp6(1),t.ekj("cdk-mouse-focused",r.textFocused)("nv-mouse-down",r.mouseDown)("hig-slider-no-animation",r.animating||r.initializing),t.Q6J("min",r.min)("max",r.max)("step",r.sliderStep)("disabled",r.disabled)("thumbLabel",r.thumbLabel)("tickInterval",r.tickInterval)("value",r.value)("tabIndex",r.tabindex),t.xp6(2),t.Q6J("ngIf",r.valueEntry))},dependencies:[L.O5,p.Wh,p.yH,P.Fj,P.JJ,P.On,a.ST,o.n3],styles:[".slider-text-entry[_ngcontent-%COMP%]{width:48px;height:23px;background-color:transparent;border:none;text-align:center;padding-bottom:2px;border-bottom:1px solid #636363;caret-color:#76b900}.isLtr[_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{margin:0 0 0 8px}html[dir=ltr][_ngcontent-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 0 8px}.isRtl[_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{margin:0 8px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .slider-text-entry[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 0 0}.slider-text-entry[_ngcontent-%COMP%]:disabled{opacity:.38}.slider-text-entry[_ngcontent-%COMP%]::selection{background-color:#76b900}.slider-text-entry[_ngcontent-%COMP%]:focus, .mat-slider[_ngcontent-%COMP%]:not(.mat-slider-disabled).cdk-focused ~ .slider-text-entry[_ngcontent-%COMP%]{padding-bottom:1px;border-bottom:2px solid #76b900;outline:none}"]}),m})()},1459:(Ge,ae,e)=>{"use strict";e.d(ae,{O:()=>D});var t=e(39609),n=e(39536),x=e(45574),M=e(54716),L=e(4894),p=e(53722);function P(I,w){if(1&I&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&I){const _=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,_.data.headerText.text,_.data.translateValues))}}function a(I,w){1&I&&t._UZ(0,"mat-progress-spinner",20)}function o(I,w){if(1&I&&(t.TgZ(0,"div",21),t._UZ(1,"qrcode",22),t.qZA()),2&I){const _=t.oxw();t.xp6(1),t.Q6J("qrdata",_.data.image.url)("width",200)("errorCorrectionLevel","M")}}function v(I,w){if(1&I&&(t._UZ(0,"div",23),t.ALo(1,"translate")),2&I){const _=t.oxw();t.Q6J("innerHTML",_.data.bodyText.translated?_.data.bodyText.text:t.xi3(1,1,_.data.bodyText.text,_.data.bodyText.placeholders),t.oJD)}}function y(I,w){if(1&I&&t._UZ(0,"mat-icon",29),2&I){const _=t.oxw().$implicit;t.Q6J("svgIcon",_.matIcon)}}function C(I,w){if(1&I&&(t.TgZ(0,"div",26),t.YNc(1,y,1,1,"mat-icon",27),t.TgZ(2,"div",28),t._uU(3),t.qZA()()),2&I){const _=w.$implicit;t.xp6(1),t.Q6J("ngIf",_.matIcon),t.xp6(2),t.Oqu(_.text)}}function A(I,w){if(1&I&&(t.TgZ(0,"div",24),t.YNc(1,C,4,2,"div",25),t.qZA()),2&I){const _=t.oxw();t.xp6(1),t.Q6J("ngForOf",_.data.descriptionList)}}function d(I,w){if(1&I&&(t.TgZ(0,"div",30)(1,"div",31),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&I){const _=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,_.data.footerText.text))}}function m(I,w){if(1&I&&t._UZ(0,"img",35),2&I){const _=t.oxw(2).$implicit;t.Q6J("src",_.imageUrl,t.LSH)}}function S(I,w){if(1&I){const _=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(_);const G=t.oxw().$implicit,F=t.oxw();return t.KtG(F.onRadioButtonClick(G.value))}),t.YNc(1,m,1,1,"img",34),t._uU(2),t.ALo(3,"translate"),t.qZA()}if(2&I){const _=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",_.imageUrl),t.xp6(1),t.hij(" ",t.lcZ(3,2,_.value)," ")}}function s(I,w){if(1&I&&(t.ynx(0),t.YNc(1,S,4,4,"button",32),t.BQk()),2&I){const _=w.$implicit;t.xp6(1),t.Q6J("ngIf",_)}}function r(I,w){if(1&I){const _=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(_);const G=t.oxw();return t.KtG(G.onPrimaryButtonClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&I){const _=t.oxw();t.Q6J("disabled",_.data.primaryButton.isDisabled)("nvAutoFocus",_.autoFocusOnPrimaryButton),t.xp6(1),t.hij(" ",t.lcZ(2,3,_.data.primaryButton.text)," ")}}function l(I,w){if(1&I&&(t.ynx(0),t.GkF(1,37),t.BQk()),2&I){t.oxw();const _=t.MAs(21);t.xp6(1),t.Q6J("ngTemplateOutlet",_)}}function i(I,w){if(1&I&&(t.ynx(0),t.GkF(1,37)(2,37),t.BQk()),2&I){t.oxw();const _=t.MAs(19),$=t.MAs(21);t.xp6(1),t.Q6J("ngTemplateOutlet",_),t.xp6(1),t.Q6J("ngTemplateOutlet",$)}}function O(I,w){if(1&I){const _=t.EpF();t.ynx(0),t.TgZ(1,"button",38),t.NdJ("click",function(){const F=t.CHM(_).$implicit,J=t.oxw();return t.KtG(J.onAugmentedButtonClick(F.id))}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()}if(2&I){const _=w.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,_.text)," ")}}function Y(I,w){if(1&I){const _=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(_);const G=t.oxw(2);return t.KtG(G.onLinkClick(G.data.link.url,G.data.link.shortUrl,G.data.link.shortUrlDescription,G.data.link.linkClickedCallback))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"i",41),t._uU(5,"open_in_new"),t.qZA()()}if(2&I){const _=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,_.data.link.text))}}function T(I,w){if(1&I&&(t.TgZ(0,"div",39),t._UZ(1,"md-divider",40),t.YNc(2,Y,6,3,"button",32),t.qZA()),2&I){const _=t.oxw();t.xp6(2),t.Q6J("ngIf",_.data.link.url||_.data.link.linkClickedCallback)}}function B(I,w){if(1&I){const _=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(_);const G=t.oxw(2);return t.KtG(G.onSecondaryButtonClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&I){const _=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,_.data.secondaryButton.text)," ")}}function K(I,w){if(1&I&&t.YNc(0,B,3,3,"button",42),2&I){const _=t.oxw();t.Q6J("ngIf",_.data.secondaryButton)}}function b(I,w){if(1&I){const _=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(_);const G=t.oxw(2);return t.KtG(G.onCheckboxClick())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&I){const _=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,_.data.checkbox.text)," ")}}function f(I,w){if(1&I&&t.YNc(0,b,3,3,"button",42),2&I){const _=t.oxw();t.Q6J("ngIf",_.data.checkbox)}}let D=(()=>{class I extends M.u{constructor(_,$,G,F,J){super(G,F,_,J),this.offDeviceLinkService=$,this.primaryButtonClick=new t.vpe,this.secondaryButtonClick=new t.vpe,this.radioButtonClick=new t.vpe,this.augmentedButtonClick=new t.vpe,this.linkClick=new t.vpe,this.data={},this.data=_.get(n.eJ,null)}get autoFocusOnPrimaryButton(){var _;return null===(_=this.data.autoFocusOnPrimaryButton)||void 0===_||_}static open(_,$){return $.maxWidth="100vw",(0,x.HO)($,{threeQuarterSheet:!0}),_.open(I,$)}onPrimaryButtonClick(_){this.primaryButtonClick.emit(_)}onSecondaryButtonClick(_){this.secondaryButtonClick.emit(_)}onCheckboxClick(){this.data.checkboxState=!0,(this.data.checkbox.primaryActionInThreeQuarterSheet?this.primaryButtonClick:this.secondaryButtonClick).emit()}onRadioButtonClick(_){this.data.radioOptionSelected=_,this.radioButtonClick.emit(),this.primaryButtonClick.emit()}onLinkClick(_,$,G,F){_?(this.offDeviceLinkService.open(_,{shortUrl:$,shortUrlDescription:G}),this.linkClick.emit()):F&&F()}onAugmentedButtonClick(_){this.augmentedButtonClick.emit(_)}}return I.\u0275fac=function(_){return new(_||I)(t.Y36(t.zs3),t.Y36(L.q),t.Y36(n.hV,8),t.Y36(p.oL,8),t.Y36(t.R0b))},I.\u0275cmp=t.Xpm({type:I,selectors:[["nv-hig-three-quarter-sheet"]],inputs:{data:"data"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick",radioButtonClick:"radioButtonClick",augmentedButtonClick:"augmentedButtonClick",linkClick:"linkClick"},features:[t.qOj],decls:22,vars:13,consts:[["fxFlex","","fxLayout","row","nvSpatialNavigationContainer","","nvTrapFocus","",1,"main-dialog-sheet"],["fxLayout","column","fxLayoutAlign","space-between start",1,"content-container"],["fxLayout","column","fxLayoutGap","32px"],["class","content-header font-header4",4,"ngIf"],["fxLayout","row",1,"content-info"],["mode","indeterminate","diameter","48","color","accent",4,"ngIf"],["class","qrcode-container",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutGap","16px"],["class","font-body2",3,"innerHTML",4,"ngIf"],["fxLayout","column","fxLayoutGap","16px","class","hig-description-list-container",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end end",4,"ngIf"],["fxLayout","column","fxLayoutGap","11px",1,"button-container"],[4,"ngFor","ngForOf"],["mat-button","","class","sentence-case",3,"disabled","nvAutoFocus","click",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["fxLayout","column","fxLayoutGap","36px",4,"ngIf"],["secondaryButton",""],["checkboxButton",""],[1,"content-header","font-header4"],["mode","indeterminate","diameter","48","color","accent"],[1,"qrcode-container"],[3,"qrdata","width","errorCorrectionLevel"],[1,"font-body2",3,"innerHTML"],["fxLayout","column","fxLayoutGap","16px",1,"hig-description-list-container"],["class","hig-description-list-item",4,"ngFor","ngForOf"],[1,"hig-description-list-item"],["class","hig-description-icon font-body2",3,"svgIcon",4,"ngIf"],[1,"hig-description-text","font-body2"],[1,"hig-description-icon","font-body2",3,"svgIcon"],["fxLayout","row","fxLayoutAlign","end end"],[1,"font-body3"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["class","prefix-image",3,"src",4,"ngIf"],[1,"prefix-image",3,"src"],["mat-button","",1,"sentence-case",3,"disabled","nvAutoFocus","click"],[3,"ngTemplateOutlet"],["mat-button","",1,"sentence-case",3,"click"],["fxLayout","column","fxLayoutGap","36px"],["role","separator"],[1,"material-icons","link-icon"],["mat-button","","class","sentence-case",3,"click",4,"ngIf"]],template:function(_,$){if(1&_&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,P,3,4,"span",3),t.TgZ(4,"div",4),t.YNc(5,a,1,0,"mat-progress-spinner",5),t.YNc(6,o,2,3,"div",6),t.TgZ(7,"div",7),t.YNc(8,v,2,4,"div",8),t.YNc(9,A,2,1,"div",9),t.qZA()()(),t.YNc(10,d,4,3,"div",10),t.qZA(),t.TgZ(11,"div",11),t.YNc(12,s,2,1,"ng-container",12),t.YNc(13,r,3,5,"button",13),t.YNc(14,l,2,1,"ng-container",14),t.YNc(15,i,3,2,"ng-container",15),t.YNc(16,O,4,3,"ng-container",12),t.YNc(17,T,3,1,"div",16),t.YNc(18,K,1,1,"ng-template",null,17,t.W1O),t.YNc(20,f,1,1,"ng-template",null,18,t.W1O),t.qZA()()),2&_){const G=t.MAs(19);t.xp6(3),t.Q6J("ngIf",$.data.headerText),t.xp6(2),t.Q6J("ngIf",$.data.showSpinner),t.xp6(1),t.Q6J("ngIf",null==$.data.image?null:$.data.image.url),t.xp6(2),t.Q6J("ngIf",$.data.bodyText),t.xp6(1),t.Q6J("ngIf",$.data.descriptionList),t.xp6(1),t.Q6J("ngIf",$.data.footerText),t.xp6(2),t.Q6J("ngForOf",$.data.radioButtonOptions),t.xp6(1),t.Q6J("ngIf",$.data.primaryButton&&!$.data.radioButtonOptions),t.xp6(1),t.Q6J("ngIf",null==$.data.checkbox?null:$.data.checkbox.primaryActionInThreeQuarterSheet),t.xp6(1),t.Q6J("ngIf",$.data.checkbox&&!$.data.checkbox.primaryActionInThreeQuarterSheet)("ngIfElse",G),t.xp6(1),t.Q6J("ngForOf",null==$.data.threeQuaterSheetData?null:$.data.threeQuaterSheetData.augmentedButtons),t.xp6(1),t.Q6J("ngIf",$.data.link)}},styles:[".main-dialog-sheet[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background:#393939;max-height:100%;width:100vw;height:100%}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{padding:133px 112px 48px;width:1180px}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]{height:318px;word-break:break-word;display:flex;align-items:flex-end}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header.sentence-case[_ngcontent-%COMP%]{text-transform:lowercase}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content-header.sentence-case[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{--dummy4: 0;margin-right:32px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{--dummy4: 0;margin-left:32px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   div.content-info[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.main-dialog-sheet[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .qrcode-container[_ngcontent-%COMP%]{width:200px;height:200px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:calc(100vw - 1180px);background:#191919;padding-top:374px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:48px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:48px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-right:52px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:52px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{padding-left:52px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:52px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:start;height:96px;border-radius:8px;white-space:normal;font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{width:48px;height:48px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-left:12px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy1: 0;padding-left:12px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-right:12px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy1: 0;padding-right:12px}.isLtr[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-right:28px}html[dir=ltr][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy2: 0;padding-right:28px}.isRtl[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{padding-left:28px}html[dir=rtl][_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .prefix-image[_ngcontent-%COMP%]{--dummy2: 0;padding-left:28px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i.link-icon[_ngcontent-%COMP%]{vertical-align:middle;padding:0 16px}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.sentence-case[_ngcontent-%COMP%]{text-transform:lowercase}.main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button.sentence-case[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-dialog-sheet[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.hig-description-list-container[_ngcontent-%COMP%]{margin-top:16px}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-list-item[_ngcontent-%COMP%]{display:flex}.hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;margin-top:4px}.isLtr[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .hig-description-list-container[_ngcontent-%COMP%]   .hig-description-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),I})()},89829:(Ge,ae,e)=>{"use strict";e.d(ae,{h:()=>M});var t=e(20576),n=e(39609),x=e(92656);let M=(()=>{class L{constructor(P,a){this.element=P,this.focusManager=a,this._focusEnabled=!0}get focusEnabled(){return this._focusEnabled}set focusEnabled(P){this._focusEnabled=(0,t.Ig)(P)}ngAfterViewInit(){this.focusEnabled&&setTimeout(()=>this.focusManager.focusViaLastOrigin(this.element.nativeElement))}}return L.\u0275fac=function(P){return new(P||L)(n.Y36(n.SBq),n.Y36(x.I))},L.\u0275dir=n.lG2({type:L,selectors:[["","nvAutoFocus",""]],inputs:{focusEnabled:["nvAutoFocus","focusEnabled"]}}),L})()},54716:(Ge,ae,e)=>{"use strict";e.d(ae,{u:()=>o});var t=e(39536),n=e(53722),x=e(96671),M=e(74266),L=e(2629),p=e(10907),P=e(80155),a=e(39609);let o=(()=>{class v{constructor(C,A,d,m){this.dialogRef=C,this.bottomSheetRef=A,this.injector=d,this.ngZone=m,this.destroy$=new x.xQ}ngAfterViewInit(){var C;const A=this.dialogRef?this.injector.get(t.eJ,null):this.bottomSheetRef?this.injector.get(n.OG,null):void 0,d=null!==(C=this.dialogRef)&&void 0!==C?C:this.bottomSheetRef;!d||null!=A&&A.disableBackToClose||this.ngZone.runOutsideAngular(()=>{d.keydownEvents().pipe((0,M.h)(P.wN),(0,L.q)(1),(0,p.R)(this.destroy$)).subscribe(m=>{m.stopPropagation(),m.preventDefault(),this.close(m)})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}close(C){var A,d,m;const S=null!==(A="function"==typeof this.backToCloseResult?this.backToCloseResult():this.backToCloseResult)&&void 0!==A?A:C;null===(d=this.dialogRef)||void 0===d||d.close(S),null===(m=this.bottomSheetRef)||void 0===m||m.dismiss(S)}}return v.\u0275fac=function(C){return new(C||v)(a.Y36(t.hV,8),a.Y36(n.oL,8),a.Y36(a.zs3),a.Y36(a.R0b))},v.\u0275dir=a.lG2({type:v,selectors:[["","nvBackToCloseModal",""]],inputs:{backToCloseResult:"backToCloseResult"}}),v})()},91615:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>d});var t=e(20576),n=e(96671),x=e(39700),M=e(27344),L=e(10907),p=e(2629),P=e(87261),a=e(16225),o=e(39609),v=e(71568),y=e(64710),C=e(92656);let d=(()=>{class m{constructor(s,r,l,i,O,Y){this.spatialNavigationService=s,this.elementRef=r,this.localeService=l,this.focusManager=i,this.ngZone=Y,this.spacingTop=0,this.spacingBottom=0,this.spacingLeft=0,this.spacingRight=0,this._disable=!1,this._enableKeyThrottle=!0,this.cancelScrolling$=new n.xQ,this.destroy$=new n.xQ,this.navBeforeFocus=T=>{if(this.disable||!(T.target instanceof HTMLElement))return;const B=this.scrollerElement,K=this.orientation;if(!B||!K)return;const b=T.target;if(!B.contains(b))return;const f=B.getBoundingClientRect(),D=b.getBoundingClientRect();if(this.isVisibleInScroller(D,f,K))return;T.preventDefault();const I=this.calculateRequiredScrollAmount(D,f,K);if(0===I)return;this.focusManager.focusViaLastOrigin(b,{preventScroll:!0});const{x:w,y:_}=this.getDestinationCoordinates(I);this.isScrolling&&this.cancelScrolling$.next();const $=new a.p(this.scrollerElement,w,_,{easingFunction:P.w2,duration:96,rtlEnabled:this.localeService.isRTLLayoutEnabled});this.enableKeyThrottle&&(0,x.R)(b,"keydown",{capture:!0}).pipe((0,L.R)((0,M.S3)($.onScrollEnd(),this.cancelScrolling$,this.destroy$))).subscribe(this.swallowKeydownEvent),this.doScrolling($)},this.logger=O.getLogger("focusThenScrollDirective")}get disable(){return this._disable}set disable(s){this._disable=(0,t.Ig)(s)}get enableKeyThrottle(){return this._enableKeyThrottle}set enableKeyThrottle(s){this._enableKeyThrottle=(0,t.Ig)(s)}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.elementRef.nativeElement.addEventListener("navbeforefocus",this.navBeforeFocus)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.elementRef.nativeElement.removeEventListener("navbeforefocus",this.navBeforeFocus)}isVisibleInScroller(s,r,l){return"horizontal"===l&&s.left>=r.left&&s.right<=r.right||"vertical"===l&&s.top>=r.top&&s.bottom<=r.bottom}calculateRequiredScrollAmount(s,r,l){let i=0;return i="horizontal"===l?s.left<r.left?s.left-this.spacingLeft-r.left:s.right+this.spacingRight-r.right:s.top<r.top?s.top-this.spacingTop-r.top:s.bottom+this.spacingBottom-r.bottom,i}getDestinationCoordinates(s){let r=this.scrollerElement.scrollLeft,l=this.scrollerElement.scrollTop;return"horizontal"===this.orientation?r+=s:l+=s,{x:r,y:l}}swallowKeydownEvent(s){s.stopPropagation(),s.preventDefault()}doScrolling(s){s.onScrollEnd().pipe((0,p.q)(1),(0,L.R)((0,M.S3)(this.destroy$,this.cancelScrolling$))).subscribe(()=>{this.isScrolling=!1}),s.onScrollStart().pipe((0,p.q)(1),(0,L.R)((0,M.S3)(this.destroy$,this.cancelScrolling$))).subscribe(()=>{this.isScrolling=!0}),s.start().pipe((0,L.R)((0,M.S3)(this.cancelScrolling$,this.destroy$))).subscribe()}}return m.\u0275fac=function(s){return new(s||m)(o.Y36(v.j),o.Y36(o.SBq),o.Y36(y.OL),o.Y36(C.I),o.Y36(y.ed),o.Y36(o.R0b))},m.\u0275dir=o.lG2({type:m,inputs:{spacingTop:"spacingTop",spacingBottom:"spacingBottom",spacingLeft:"spacingLeft",spacingRight:"spacingRight",disable:["disableFocusThenScroll","disable"],enableKeyThrottle:"enableKeyThrottle"}}),m})()},61340:(Ge,ae,e)=>{"use strict";e.d(ae,{D:()=>L});var t=e(20576),n=e(89829),x=e(39609),M=e(92656);let L=(()=>{class p{constructor(a,o){this.element=a,this.focusManager=o,this._enabled=!0,this.lastFocusedElement=this.focusManager.currentFocusedElement}get enabled(){return this._enabled}set enabled(a){this._enabled=(0,t.Ig)(a)}ngAfterViewInit(){const a=this.autoFocusChildren.some(o=>o.focusEnabled);this.enabled&&!a&&this.focusManager.focusFirstChild(this.element.nativeElement)}ngOnDestroy(){this.enabled&&setTimeout(()=>this.focusManager.focusViaLastOrigin(this.lastFocusedElement))}}return p.\u0275fac=function(a){return new(a||p)(x.Y36(x.SBq),x.Y36(M.I))},p.\u0275dir=x.lG2({type:p,selectors:[["","nvCaptureRestoreFocus",""]],contentQueries:function(a,o,v){if(1&a&&x.Suo(v,n.h,5),2&a){let y;x.iGM(y=x.CRH())&&(o.autoFocusChildren=y)}},inputs:{enabled:["nvCaptureRestoreFocus","enabled"]}}),p})()},22435:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>x});var t=e(99763),n=e(39609);let x=(()=>{class M{constructor(p,P,a){this.renderer=P,this.matTooltip=a,this.isTooltipEnabled=!0,this.domElement=p.nativeElement;const o={"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"};Object.keys(o).forEach(v=>{this.renderer.setStyle(this.domElement,`${v}`,o[v])})}ngAfterViewInit(){this.matTooltip.tooltipClass=this.tooltipClass}onMouseOver(){this.isTooltipEnabled&&this.domElement.offsetWidth<this.domElement.scrollWidth&&(this.matTooltip.message=this.domElement.innerText,this.matTooltip.show())}onMouseOut(){this.matTooltip.hide()}}return M.\u0275fac=function(p){return new(p||M)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(t.Kd))},M.\u0275dir=n.lG2({type:M,selectors:[["","nvEllipsifiedTextWithTooltip",""]],hostBindings:function(p,P){1&p&&n.NdJ("mouseover",function(){return P.onMouseOver()})("mouseout",function(){return P.onMouseOut()})},inputs:{tooltipClass:"tooltipClass",isTooltipEnabled:"isTooltipEnabled"},features:[n._Bn([t.Kd])]}),M})()},26977:(Ge,ae,e)=>{"use strict";e.d(ae,{s:()=>p});var t=e(96671),n=e(10907),x=e(39609),M=e(92656),L=e(85780);let p=(()=>{class P{constructor(o,v,y){this.elementRef=o,this.focusManager=v,this.scroller=y,this.canFocusFirstChild=!0,this.destroy$=new t.xQ}get scrollPosition(){var o;return null===(o=this.scroller)||void 0===o?void 0:o.measureScrollOffset()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onKeydownEvent(o){this.canFocusFirstChild&&(o.stopPropagation(),this.focusFirstChild())}focusFirstChild(){if(this.scroller){const o=this.scroller.elementRef.nativeElement;0===this.scrollPosition?this.focusManager.focusFirstChild(o):this.elementScrolledSub||this.scrollThenFocusFirstChild(o)}else this.focusManager.focusFirstChild(this.elementRef.nativeElement)}scrollThenFocusFirstChild(o){let v=this.scrollPosition;this.elementScrolledSub=this.scroller.elementScrolled().pipe((0,n.R)(this.destroy$)).subscribe(()=>{0===this.scrollPosition||this.scrollPosition>v?(0===this.scrollPosition&&this.focusManager.focusFirstChild(o),this.elementScrolledSub.unsubscribe(),this.elementScrolledSub=void 0):v=this.scrollPosition}),this.scroller.scrollToIndex(0,"auto")}}return P.\u0275fac=function(o){return new(o||P)(x.Y36(x.SBq),x.Y36(M.I),x.Y36(L.N7,8))},P.\u0275dir=x.lG2({type:P,selectors:[["","nvFocusBackToFirstChild",""]],hostBindings:function(o,v){1&o&&x.NdJ("keydown.escape",function(C){return v.onKeydownEvent(C)})},inputs:{canFocusFirstChild:"canFocusFirstChild"},exportAs:["nvFocusBackToFirstChild"]}),P})()},58241:(Ge,ae,e)=>{"use strict";e.d(ae,{p:()=>A});var t=e(96671),n=e(39700),x=e(42520),M=e(74266),L=e(71265),p=e(10907),P=e(4042),a=e(2629),o=e(60828),v=e(80155),y=e(39609),C=e(93363);let A=(()=>{class d{constructor(S,s,r,l){var i,O;this.elementRef=S,this.userActivationGuardService=s,this.ngZone=r,this.destroy$=new t.xQ,this.enable=!1,this.enable=!(null===(i=null==l?void 0:l.userActivationGuardConfig)||void 0===i||!i.link),this.message=null===(O=null==l?void 0:l.userActivationGuardConfig)||void 0===O?void 0:O.linkWarningMessage}ngAfterViewInit(){!this.enable||!this.message||this.ngZone.runOutsideAngular(()=>{(0,n.R)(this.elementRef.nativeElement,"click").pipe((0,M.h)(S=>this.isLink(S.target)),(0,M.h)(S=>!(0,v.Z3)(S)),(0,L.b)(()=>{this.displayWarningMessage()}),(0,p.R)(this.destroy$)).subscribe(S=>{S.preventDefault()})})}isLink(S){return"A"===S.tagName&&S.hasAttribute("href")}displayWarningMessage(){if(this.isWarningDisplayed)return;const S=this.userActivationGuardService.displayWarning(this.message);(0,x.T)(S.afterOpened().pipe((0,P.h)(!0)),S.afterDismissed().pipe((0,P.h)(!1))).pipe((0,a.q)(2),(0,p.R)(this.destroy$)).subscribe(s=>{this.isWarningDisplayed=s})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return d.\u0275fac=function(S){return new(S||d)(y.Y36(y.SBq),y.Y36(C.w),y.Y36(y.R0b),y.Y36(o.i,8))},d.\u0275dir=y.lG2({type:d,selectors:[["","nvHyperLinkGuard",""],["a","href",""],["","innerHTML",""]]}),d})()},95531:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>L});var t=e(20576),n=e(60828),x=e(39609),M=e(99763);let L=(()=>{class p{constructor(a,o){this.tooltip=o,this.shouldDisableTooltip=!1,this.shouldDisableTooltip=!(null==a||!a.mobileMode)||!(null==a||!a.tvMode)}get disabled(){return this.tooltip.disabled}set disabled(a){this.tooltip.disabled=(0,t.Ig)(a)||this.shouldDisableTooltip}ngOnInit(){this.shouldDisableTooltip&&(this.tooltip.disabled=!0)}}return p.\u0275fac=function(a){return new(a||p)(x.Y36(n.i,8),x.Y36(M.Kd))},p.\u0275dir=x.lG2({type:p,selectors:[["","matTooltip","","nvTooltipDisabled",""],["","matTooltip","","nvDisableTooltipIfNeeded","",3,"matTooltipDisabled",""]],inputs:{disabled:["nvTooltipDisabled","disabled"]}}),p})()},73557:(Ge,ae,e)=>{"use strict";e.d(ae,{Q5:()=>K,TN:()=>T,WS:()=>i,jB:()=>B,jf:()=>O,n3:()=>Y,wh:()=>l,xZ:()=>r});var t=e(96671),n=e(39700),x=e(50936),M=e(10907),L=e(74266),p=e(80155),P=e(39609),a=e(31603),o=e(31526),v=e(20478),y=e(71365),C=e(12427),A=e(71568),d=e(99581),m=e(67840),S=e(73404),s=e(11095);let r=(()=>{class b{constructor(D,I,w,_){this.el=D,this.radio=I,this.slide=w,this.check=_}keydownEvent(D){var I,w,_,$,G,F,J;const z=null!==(J=null!==(G=null!==(_=null===(w=null===(I=this.radio)||void 0===I?void 0:I._inputElement)||void 0===w?void 0:w.nativeElement)&&void 0!==_?_:null===($=this.slide)||void 0===$?void 0:$._inputElement.nativeElement)&&void 0!==G?G:null===(F=this.check)||void 0===F?void 0:F._inputElement.nativeElement)&&void 0!==J?J:this.el.nativeElement;D.target===z&&("Enter"===D.key||" "===D.key)&&(this.radio?this.radio._onInputInteraction(D):this.slide?(this.slide._inputElement.nativeElement.checked=!this.slide.checked,this.slide._onChangeEvent(D)):this.check?this.check._onInputClick(D):this.el.nativeElement.click(),D.preventDefault(),D.stopPropagation())}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(P.SBq),P.Y36(a.vy,8),P.Y36(o.iZ,8),P.Y36(v.FC,8))},b.\u0275dir=P.lG2({type:b,selectors:[["","nvAddKeyboardActivate",""],["mat-slide-toggle"],["mat-radio-button"],["mat-checkbox"],["a",3,"href",""]],hostBindings:function(D,I){1&D&&P.NdJ("keydown",function(_){return I.keydownEvent(_)})}}),b})(),l=(()=>{class b{constructor(D){this.select=D}ngAfterViewInit(){this.select&&setTimeout(()=>{const D=this.select._handleKeydown.bind(this.select);this.select._handleKeydown=I=>{(0,p.wN)(I)&&this.select.panelOpen?(I.stopPropagation(),this.select.close()):"ArrowLeft"!==I.key&&"ArrowRight"!==I.key||!this.select.panelOpen?(this.select.panelOpen||"Enter"===I.key||" "===I.key)&&D(I):(I.stopPropagation(),I.preventDefault())}},150)}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(y.x8))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-select","nvMatSelectKeyboardFixup",""]]}),b})(),i=(()=>{class b{constructor(D){this.menu=D}ngAfterViewInit(){if(!this.menu||!this.menuTrigger)return;const D=this.menu._handleKeydown.bind(this.menu);this.menu._handleKeydown=I=>{(0,p.wN)(I)&&this.menuTrigger.menuOpen?(I.stopPropagation(),this.menuTrigger.closeMenu()):D(I)}}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(C.W0))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-menu","nvMatMenuKeyboardFixup","","menuTrigger",""]],inputs:{menuTrigger:"menuTrigger"}}),b})(),O=(()=>{class b{constructor(D,I){this.menu=D,this.spatialNavigationService=I}ngAfterViewInit(){if(!this.menu||!this.spatialNavigationService.enabled)return;const D=this.menu._handleKeydown.bind(this.menu);this.menu._handleKeydown=I=>{"ArrowLeft"===I.key||"ArrowRight"===I.key?I.preventDefault():D(I)}}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(C.W0),P.Y36(A.j))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-menu","nvMatMenuFocusFixup",""]]}),b})(),Y=(()=>{class b{constructor(D){this.slider=D}ngAfterViewInit(){this.slider&&setTimeout(()=>{const D=this.slider._onKeydown.bind(this.slider);this.slider._onKeydown=I=>{"ArrowUp"!==I.key&&"ArrowDown"!==I.key&&D(I)}},150)}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(d.ST))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-slider","nvMatSliderKeyboardFixup",""]]}),b})(),T=(()=>{class b{constructor(D){this.chipList=D}ngAfterViewInit(){this.chipList&&setTimeout(()=>{const D=this.chipList._keydown.bind(this.chipList);this.chipList._keydown=I=>{"ArrowUp"!==I.key&&"ArrowDown"!==I.key&&"ArrowLeft"!==I.key&&"ArrowRight"!==I.key&&D(I)}},150)}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(m.ir))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-chip-list","nvMatChipListKeyboardFixup",""]]}),b})(),B=(()=>{class b{constructor(D){this.panelHeader=D}ngAfterViewInit(){this.panelHeader&&setTimeout(()=>{const D=this.panelHeader._keydown.bind(this.panelHeader);this.panelHeader._keydown=I=>{"ArrowUp"!==I.key&&"ArrowDown"!==I.key&&"ArrowLeft"!==I.key&&"ArrowRight"!==I.key&&D(I)}},150)}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(S.yz))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-expansion-panel-header","nvMatExpansionPanelHeaderKeyboardFixup",""]]}),b})(),K=(()=>{class b{constructor(D,I,w){this.tabGroup=D,this.ngZone=I,this.spatialNavigationService=w,this.destroy$=new t.xQ}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.ngZone.runOutsideAngular(()=>{var D,I;null!==(I=null===(D=this.tabGroup)||void 0===D?void 0:D._elementRef)&&void 0!==I&&I.nativeElement&&(this.updateAllTabIndex(),this.observeTabIndexChanged$().pipe((0,M.R)(this.destroy$)).subscribe(w=>{const _=w.target;"-1"===_.getAttribute("tabindex")&&this.updateTabIndex(_)}),(0,n.R)(this.tabGroup._elementRef.nativeElement,"keydown",{capture:!0}).pipe((0,L.h)(w=>"ArrowDown"===w.key||"ArrowUp"===w.key||"ArrowRight"===w.key||"ArrowLeft"===w.key),(0,M.R)(this.destroy$)).subscribe(w=>{switch(w.stopPropagation(),w.key){case"ArrowDown":this.spatialNavigationService.navigate("down");break;case"ArrowUp":this.spatialNavigationService.navigate("up");break;case"ArrowLeft":this.spatialNavigationService.navigate("left");break;case"ArrowRight":this.spatialNavigationService.navigate("right")}}))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateAllTabIndex(){this.tabGroup._elementRef.nativeElement.querySelectorAll("[tabindex='-1']").forEach(this.updateTabIndex)}observeTabIndexChanged$(){return new x.y(D=>{const I=new MutationObserver(w=>{w.forEach(_=>{D.next(_)})});return I.observe(this.tabGroup._elementRef.nativeElement,{attributes:!0,subtree:!0,attributeFilter:["tabindex"]}),()=>{I.disconnect()}})}updateTabIndex(D){D.setAttribute("tabindex","0")}}return b.\u0275fac=function(D){return new(D||b)(P.Y36(s.SK),P.Y36(P.R0b),P.Y36(A.j))},b.\u0275dir=P.lG2({type:b,selectors:[["mat-tab-group","nvMatTabGroupFixUp",""]]}),b})()},73587:(Ge,ae,e)=>{"use strict";e.d(ae,{t:()=>M});var t=e(39609),n=e(31603),x=e(71568);let M=(()=>{class L{constructor(P,a){this.radio=P,this.spatialNavigationService=a}ngAfterViewInit(){if(this.spatialNavigationService.enabled&&this.radio._elementRef.nativeElement){this.radio._inputElement.nativeElement.style.zIndex="0";const P=this.radio._inputElement.nativeElement.setAttribute.bind(this.radio._inputElement.nativeElement);this.radio._inputElement.nativeElement.setAttribute=(a,o)=>{P(a,"tabindex"===a?0:o)}}}}return L.\u0275fac=function(P){return new(P||L)(t.Y36(n.vy),t.Y36(x.j))},L.\u0275dir=t.lG2({type:L,selectors:[["mat-radio-button","nvMatRadioSpatialNavigationFixup",""]]}),L})()},14893:(Ge,ae,e)=>{"use strict";e.d(ae,{E:()=>x});var t=e(39609),n=e(4894);let x=(()=>{class M{constructor(p){this.offDeviceLinkService=p}onClick(p){const P=p.target;this.offDeviceLinkService.enabled&&P instanceof HTMLAnchorElement&&P.href&&(p.preventDefault(),this.offDeviceLinkService.open(P.href,{shortUrl:this.shortUrl}))}}return M.\u0275fac=function(p){return new(p||M)(t.Y36(n.q))},M.\u0275dir=t.lG2({type:M,selectors:[["","nvOffDeviceLink",""],["a","href",""],["","innerHTML",""]],hostBindings:function(p,P){1&p&&t.NdJ("click",function(o){return P.onClick(o)})},inputs:{shortUrl:"shortUrl"}}),M})()},48037:(Ge,ae,e)=>{"use strict";e.d(ae,{W:()=>L});var t=e(78384),n=e(91916),x=e(39609),M=e(64710);let L=(()=>{class p{constructor(a,o,v){this.viewcontainerRef=a,this.renderer=o,this.diameter=t.QL,this.spinnerComponentNativeElement=null,this.logger=v.getLogger("nvProgressCircularDirective")}ngOnChanges(a){a&&a.isVisible&&a.isVisible.currentValue!==a.isVisible.previousValue&&(a.isVisible.currentValue?this.createSpinner():this.destroySpinner())}ngOnDestroy(){this.destroySpinner()}createSpinner(){this.spinnerComponentRef=this.viewcontainerRef.createComponent(n.A),this.spinnerComponentNativeElement=this.spinnerComponentRef.injector.get(n.A).viewRef.element.nativeElement,this.renderer.appendChild(this.viewcontainerRef.element.nativeElement,this.spinnerComponentNativeElement)}destroySpinner(){this.spinnerComponentNativeElement&&this.renderer.removeChild(this.viewcontainerRef.element.nativeElement,this.spinnerComponentNativeElement),this.spinnerComponentRef&&this.spinnerComponentRef.destroy(),this.spinnerComponentNativeElement=null}}return p.\u0275fac=function(a){return new(a||p)(x.Y36(x.s_b),x.Y36(x.Qsj),x.Y36(M.ed))},p.\u0275dir=x.lG2({type:p,selectors:[["","nvProgressCircular",""]],inputs:{isVisible:"isVisible",diameter:"diameter"},features:[x.TTD]}),p})()},89597:(Ge,ae,e)=>{"use strict";e.d(ae,{N:()=>p,b:()=>P});var t=e(20576),n=e(39609),x=e(71568),M=e(92656),L=e(64710);let p=(()=>{class a{constructor(v,y,C,A,d){this.element=v,this.spatialNavigationService=y,this.focusManager=C,this.ngZone=A,this.navigateFunction="grid",this.navigateAction="auto",this._containFocus=!0,this._captureFocusForChild=!1,this.captureAndTransitFocusPolicy="first",this._autoDisableCaptureIfNoChild=!1,this._enableSmoothScrolling=!0,this.navBeforeFocus=m=>{if(this.captureFocusForChild&&m.target===this.element.nativeElement){let S=null;if("closest"===this.captureAndTransitFocusPolicy){const s=document.activeElement===document.body?this.element.nativeElement:document.activeElement;S=this.spatialNavigationService.getClosestChild(s,this.element.nativeElement,m.detail.dir)}else S=this.focusManager.getInitialFocusable(this.element.nativeElement,this.spatialNavigationService.isFocusable.bind(this.spatialNavigationService));if(!S||S===this.element.nativeElement){let s="";S?S===this.element.nativeElement&&(s=`focus is on the container, container=${this.element.nativeElement.tagName}, containerClass=${this.element.nativeElement.className}`):s="target not found",this.logger.info(`possible focus lost. reason=${s}`)}m.preventDefault(),m.stopPropagation(),S&&S!==this.element.nativeElement&&this.focusManager.navigateTo(S,m.detail.dir)}},this.navNoTarget=m=>{this.spatialNavigationService.shouldContainFocus(m.detail.dir,this.containFocus)&&m.target===this.element.nativeElement&&m.preventDefault()},this.logger=d.getLogger("SpatialNavigationContainer")}get containFocus(){return this._containFocus}set containFocus(v){this._containFocus=Array.isArray(v)?v.slice():(0,t.Ig)(v)}get captureFocusForChild(){return this._captureFocusForChild}set captureFocusForChild(v){this._captureFocusForChild=(0,t.Ig)(v),this.updateTabIndex()}get autoDisableCaptureIfNoChild(){return this._autoDisableCaptureIfNoChild}set autoDisableCaptureIfNoChild(v){this._autoDisableCaptureIfNoChild=(0,t.Ig)(v)}get enableSmoothScrolling(){return this._enableSmoothScrolling}set enableSmoothScrolling(v){this._enableSmoothScrolling=(0,t.Ig)(v)}ngAfterContentInit(){this.spatialNavigationService.enabled&&this.spatialNavigationService.setNavigationContainerCssStyles(this.element.nativeElement,this.navigateFunction,this.navigateAction,this.enableSmoothScrolling)}ngAfterViewInit(){this.spatialNavigationService.enabled&&(this.ngZone.runOutsideAngular(()=>{this.element.nativeElement.addEventListener("navbeforefocus",this.navBeforeFocus),this.element.nativeElement.addEventListener("navnotarget",this.navNoTarget)}),this.updateTabIndex())}ngOnDestroy(){this.spatialNavigationService.enabled&&(this.element.nativeElement.removeEventListener("navbeforefocus",this.navBeforeFocus),this.element.nativeElement.removeEventListener("navnotarget",this.navNoTarget))}updateTabIndex(){if(this.element){const v=this.captureFocusForChild&&this.autoDisableCaptureIfNoChild?!!this.focusManager.getInitialFocusable(this.element.nativeElement,this.spatialNavigationService.isFocusable.bind(this.spatialNavigationService)):this.captureFocusForChild;this.element.nativeElement.tabIndex=v?0:-1}}}return a.\u0275fac=function(v){return new(v||a)(n.Y36(n.SBq),n.Y36(x.j),n.Y36(M.I),n.Y36(n.R0b),n.Y36(L.ed))},a.\u0275dir=n.lG2({type:a,selectors:[["","nvSpatialNavigationContainer",""]],inputs:{navigateFunction:"navigateFunction",navigateAction:"navigateAction",containFocus:"containFocus",captureFocusForChild:"captureFocusForChild",captureAndTransitFocusPolicy:"captureAndTransitFocusPolicy",autoDisableCaptureIfNoChild:"autoDisableCaptureIfNoChild",enableSmoothScrolling:"enableSmoothScrolling"}}),a})(),P=(()=>{class a{constructor(v,y){this.element=v,this.spatialNavigationService=y,this.navigateFunction="grid",this.navigateAction="auto",this._enableSmoothScrolling=!0}get enableSmoothScrolling(){return this._enableSmoothScrolling}set enableSmoothScrolling(v){this._enableSmoothScrolling=(0,t.Ig)(v)}ngAfterContentInit(){this.spatialNavigationService.enabled&&this.spatialNavigationService.setNavigationContainerCssStyles(this.element.nativeElement,this.navigateFunction,this.navigateAction,this.enableSmoothScrolling)}}return a.\u0275fac=function(v){return new(v||a)(n.Y36(n.SBq),n.Y36(x.j))},a.\u0275dir=n.lG2({type:a,selectors:[["","nvSpatialNavigationGroup",""]],inputs:{navigateFunction:"navigateFunction",navigateAction:"navigateAction",enableSmoothScrolling:"enableSmoothScrolling"}}),a})()},43861:(Ge,ae,e)=>{"use strict";e.d(ae,{J:()=>p});var t=e(91615),n=e(39609),x=e(71568),M=e(64710),L=e(92656);let p=(()=>{class P extends t.e{constructor(o,v,y,C,A,d){super(v,o,y,C,A,d)}get scrollOrientation(){return this.orientation}set scrollOrientation(o){if("horizontal"!==o&&"vertical"!==o)throw new Error("Invalid scroll orientation: "+o);this.orientation=o}get scrollerElement(){return this._scrollerElement}ngAfterViewInit(){super.ngAfterViewInit(),this._scrollerElement=this.scroller||this.spatialNavigationService.getScrollContainer(this.elementRef.nativeElement)}}return P.\u0275fac=function(o){return new(o||P)(n.Y36(n.SBq),n.Y36(x.j),n.Y36(M.OL),n.Y36(L.I),n.Y36(M.ed),n.Y36(n.R0b))},P.\u0275dir=n.lG2({type:P,selectors:[["","nvSpatialNavigationFocusThenScroll",""]],inputs:{scroller:"scroller",scrollOrientation:"scrollOrientation"},features:[n.qOj]}),P})()},67138:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>P});var t=e(91615),n=e(39609),x=e(85780),M=e(71568),L=e(92656),p=e(64710);let P=(()=>{class a extends t.e{constructor(v,y,C,A,d,m,S){super(y,d,A,C,m,S),this.scroller=v}get orientation(){return this.scroller.orientation}get scrollerElement(){return this.scroller.getElementRef().nativeElement}}return a.\u0275fac=function(v){return new(v||a)(n.Y36(x.N7),n.Y36(M.j),n.Y36(L.I),n.Y36(p.OL),n.Y36(n.SBq),n.Y36(p.ed),n.Y36(n.R0b))},a.\u0275dir=n.lG2({type:a,selectors:[["","nvSpatialNavigationVirtualScroll",""],["cdk-virtual-scroll-viewport","nvSpatialNavigationContainer","","navigateAction","focus"],["cdk-virtual-scroll-viewport","nvSpatialNavigationGroup","","navigateAction","focus"]],features:[n.qOj]}),a})()},6147:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>o});var t=e(96671),n=e(59562),x=e(10907),M=e(20576),L=e(39609),p=e(72467),P=e(92656),a=e(71568);class o{constructor(y,C,A,d){this.focusMonitor=y,this.elementRef=C,this.focusManager=A,this.spatialNavigationService=d,this._forceEnable=!1,this.destroy$=new t.xQ}get forceEnable(){return this._forceEnable}set forceEnable(y){this._forceEnable=(0,M.Ig)(y)}static get topFocusTrap(){const y=o.focusTraps,C=y.length;return C>0?y[C-1]:void 0}ngAfterViewInit(){this.elementRef&&(this.forceEnable||this.spatialNavigationService.enabled)&&(this.elementRef.nativeElement.tabIndex=0,o.focusTraps.push(this.elementRef.nativeElement),o.focusTrapsUpdated$.next(),o.focusTrapsUpdated$.asObservable().pipe((0,x.R)(this.destroy$)).subscribe(()=>{const C=this.elementRef.nativeElement;o.topFocusTrap===C?(C.contains(document.activeElement)||this.focusManager.focusViaLastOrigin(C),this.startFocusMonitor(C)):this.focusMonitor.stopMonitoring(C)}))}ngOnDestroy(){this.elementRef&&this.spatialNavigationService.enabled&&(this.removeFocusTrap(this.elementRef.nativeElement),o.focusTrapsUpdated$.next()),this.destroy$.next(!0),this.destroy$.complete()}startFocusMonitor(y){let C;this.focusMonitor.monitor(y,!0).pipe((0,x.R)(this.destroy$)).subscribe(A=>{A?C=this.focusManager.currentFocusedElement:setTimeout(()=>{const d=this.focusManager.currentFocusedElement!==document.body||null!=C&&C.isConnected?C:y;this.focusManager.focusViaLastOrigin(d)})})}removeFocusTrap(y){const C=o.focusTraps.indexOf(y);C>-1&&o.focusTraps.splice(C,1)}}o.focusTraps=new Array,o.focusTrapsUpdated$=new n.t(1),o.\u0275fac=function(y){return new(y||o)(L.Y36(p.tE),L.Y36(L.SBq),L.Y36(P.I),L.Y36(a.j))},o.\u0275dir=L.lG2({type:o,selectors:[["","nvTrapFocus",""]],inputs:{forceEnable:"forceEnable"}})},60828:(Ge,ae,e)=>{"use strict";e.d(ae,{i:()=>x});const x=new(e(39609).OlP)("NV_HIG_CONFIG")},87261:(Ge,ae,e)=>{"use strict";function L(P){return P}function p(P){return 1-Math.pow(1-P,3)}e.d(ae,{GE:()=>L,w2:()=>p})},16225:(Ge,ae,e)=>{"use strict";e.d(ae,{p:()=>m});var t=e(87261),n=e(86347),x=e(76086),M=e(86283),L=e(96671),p=e(89258),P=e(39654),a=e(44379),o=e(74266),v=e(71265),y=e(78747);class m{constructor(s,r,l,i){var O,Y;if(this.container=s,this.onScrollStatusChanged=new L.xQ,this.isComplete=!1,this.isStarted=!1,!(s&&s instanceof HTMLElement))throw new Error(`${s.tagName} is not a valid container`);if(null!=i&&i.rtlEnabled?(r=Math.min(0,r),r=Math.max(-(s.scrollWidth-s.clientWidth),r)):(r=Math.max(0,r),r=Math.min(s.scrollWidth-s.clientWidth,r)),l=Math.min(s.scrollHeight-s.clientHeight,l),l=Math.max(0,l),this.easingFunction=null!==(O=null==i?void 0:i.easingFunction)&&void 0!==O?O:t.GE,null!=i&&i.duration&&i.duration<0)throw new Error(`${i.duration} is not a valid duration. the duration must greater or equal than 0.`);this.duration=null!==(Y=null==i?void 0:i.duration)&&void 0!==Y?Y:200,this.startX=s.scrollLeft,this.startY=s.scrollTop,this.scrollAmountX=r-this.startX,this.scrollAmountY=l-this.startY}onScrollStart(){return this.onScrollStatusChanged.pipe((0,o.h)(s=>s))}onScrollEnd(){return this.onScrollStatusChanged.pipe((0,o.h)(s=>!s))}start(){if(this.isComplete||this.isStarted)throw new Error(`the scrolling is ${this.isComplete?"completed":"started"}.`);return function d(S,s=n.Z){return function A(S=n.Z){return(0,x.P)(()=>{const s=S.now();return(0,M.F)(0,S).pipe((0,p.U)(()=>S.now()-s))})}(s).pipe((0,p.U)(r=>r/S),(0,P.o)(r=>r<1),(0,a.l)(1))}(this.duration).pipe((0,v.b)(()=>{this.isStarted||(this.isStarted=!0,this.onScrollStatusChanged.next(!0))}),(0,p.U)(s=>this.easingFunction(s)),(0,p.U)(s=>(this.container.scrollLeft=this.startX+this.scrollAmountX*s,this.container.scrollTop=this.startY+this.scrollAmountY*s,s)),(0,y.x)(()=>{this.isComplete=!0,this.onScrollStatusChanged.next(!1)}))}}},92656:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>y});var t=e(96053),n=e(53722),x=e(2629),M=e(16033),L=e(15727),p=e(39609),P=e(64710),a=e(71568),o=e(41225),v=e(72467);let y=(()=>{class C{constructor(d,m,S,s,r){this.spatialNavigationService=m,this.inputModalityService=S,this.checker=s,this.focusMonitor=r,this.logger=d.getLogger("FocusManager")}get currentFocusedElement(){return document.activeElement instanceof HTMLElement?document.activeElement:void 0}canFocusElement(d,m){return!(!d||(d.isConnected?this.currentFocusedElement===d&&d.classList.contains(`.cdk-${m}-focused`)&&(this.logger.warn(`cdk-${m}-focused is existing in ${d.nodeName}.`),1):(this.logger.warn(`${d.nodeName} is not connected to DOM.`),1)))}getFirstFocusableChild(d,m){const S=null!=m?m:this.checker.isFocusable.bind(this.checker),s=d.children;for(let r=0;r<s.length;r++){const l=s[r];let i=null;if(i=l.nodeType===Node.ELEMENT_NODE&&S(l)?l:this.getFirstFocusableChild(l,m),i)return i}return null}focusFirstChild(d){d&&setTimeout(()=>{this.focusViaLastOrigin(this.getInitialFocusable(d))},0)}getInitialFocusable(d,m){const S=null!=m?m:this.checker.isFocusable.bind(this.checker);let s=d.querySelector("[cdkFocusInitial]");return(!s||!S(s))&&(s=this.getFirstFocusableChild(d)),s}focusViaLastOrigin(d,m){var S;const s=null!==(S=this.inputModalityService.lastFocusOrigin)&&void 0!==S?S:"keyboard";this.canFocusElement(d,s)&&(this.spatialNavigationService.enabled&&this.spatialNavigationService.setStartingPoint(null),this.focusVia(d,s,m))}focusVia(d,m,S){this.canFocusElement(d,m)&&this.focusMonitor.focusVia(d,m,S)}navigateTo(d,m,S){!d||!(0,L.gC)(d,"navbeforefocus",m)||this.focusViaLastOrigin(d,S)}restoreFocusAfterClosed(d){const m=this.currentFocusedElement,S=d();if(m){let s;if(S instanceof t.so)s=S.afterClosed();else if(S instanceof n.oL)s=S.afterDismissed();else{if(!(S instanceof M.J))throw new Error("not a supported type.");s=S.afterClosed()}if(!s)throw new Error("afterClosed$ is not assigned.");s.pipe((0,x.q)(1)).subscribe(()=>{this.focusViaLastOrigin(m)})}return S}}return C.\u0275fac=function(d){return new(d||C)(p.LFG(P.ed),p.LFG(a.j),p.LFG(o.b),p.LFG(v.ic),p.LFG(v.tE))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},4894:(Ge,ae,e)=>{"use strict";e.d(ae,{q:()=>a});var t=e(55896),n=e(1459),x=e(60828),M=e(39609),L=e(53722),p=e(39536),P=e(92656);let a=(()=>{class o{constructor(y,C,A,d){this.matBottomSheet=C,this.matDialog=A,this.focusManager=d,this._enabled=!1,this.config=null==y?void 0:y.offDeviceLinkConfig,this.tvMode=!(null==y||!y.tvMode)}get enabled(){return this._enabled}enable(){window.open=(y,C,A,d)=>(y&&this.open(y),null),this._enabled=!0}open(y,C){if(!this.config)throw new Error("Off device link configuration is missing!");if(this._enabled){let A=!1;if(this.matDialog.openDialogs.length>0&&this.matDialog.openDialogs[this.matDialog.openDialogs.length-1].componentInstance instanceof n.O&&(A=!0),A){const d=this.focusManager.restoreFocusAfterClosed(()=>{var m,S;return n.O.open(this.matDialog,{data:{headerText:{text:null!==(m=null==C?void 0:C.shortUrl)&&void 0!==m?m:y},bodyText:{text:null!==(S=null==C?void 0:C.shortUrlDescription)&&void 0!==S?S:this.config.title},primaryButton:{text:this.config.primaryButtonText},image:{url:y}}})});d.componentInstance.primaryButtonClick.subscribe(()=>{d.close()})}else{const d=this.focusManager.restoreFocusAfterClosed(()=>t.A.open(this.matBottomSheet,{data:{headerText:{text:this.config.title},bodyText:null!=C&&C.shortUrl?{text:null==C?void 0:C.shortUrl}:void 0,primaryButton:{text:this.config.primaryButtonText},link:{url:y,text:null==C?void 0:C.shortUrl}}},this.tvMode));d.instance.primaryButtonClick.subscribe(()=>{d.dismiss()})}}else window.open(y,"_blank")}}return o.\u0275fac=function(y){return new(y||o)(M.LFG(x.i,8),M.LFG(L.ch),M.LFG(p.on),M.LFG(P.I))},o.\u0275prov=M.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},71568:(Ge,ae,e)=>{"use strict";e.d(ae,{j:()=>C});var t=e(50936),n=e(76086),x=e(42520),M=e(39700),L=e(23815),p=e(33932),P=e(60828),a=e(39609),o=e(41225),v=e(64710);let y=(()=>{class A{constructor(m,S,s,r){this.ngZone=m,this.inputModalityService=r,this.maxLength=0,this.focusIn=l=>{const i=this.queue.length>0&&this.queue[this.queue.length-1].fl,O={fo:null,fi:this.buildFocusEventData(l),fl:!1};l.target!==document.activeElement&&(O.ae=this.buildElementData(document.activeElement)),this.enqueue(O),i&&this.logger.info("Focus regained. Focus on: ",JSON.stringify(O.fi))},this.focusOut=l=>{var i;const O=this.buildFocusEventData(l);let Y;0===this.queue.length||null!==this.queue[this.queue.length-1].fo?(Y={fo:O,fl:this.shouldCheckFocusLoss(l.target),fi:null},this.enqueue(Y)):(Y=this.queue[this.queue.length-1],Y.fo=O,Y.fl=this.shouldCheckFocusLoss(l.target)&&(null===l.relatedTarget||!(null!==(i=l.relatedTarget)&&void 0!==i&&i.isConnected))),Y.fl&&this.logger.warn("Potential focus loss. Focus history: ",JSON.stringify(this.queue))},this.logger=S.getLogger("FocusHistoryQueueService"),this.window=s.window}enqueue(m){this.queue.push(m)>this.maxLength&&this.queue.shift()}buildElementData(m,S=0){var s,r,l;if(!m)return null;const i={nn:null===(r=null===(s=m.nodeName)||void 0===s?void 0:s.toUpperCase)||void 0===r?void 0:r.call(s)};return"BUTTON"===i.nn?i.it=m.innerText||(null===(l=m.querySelector("mat-icon[data-mat-icon-name]"))||void 0===l?void 0:l.getAttribute("data-mat-icon-name")):!m.innerText||"A"!==i.nn&&"MAT-SELECT"!==i.nn?m.innerText&&("DIV"===i.nn||"MAT-DIALOG-CONTAINER"===i.nn)&&(i.it=m.innerText.substring(0,50)):i.it=m.innerText,i.it||(i.cn=m.className,0===S&&(i.op=this.buildElementData(m.offsetParent,S+1))),i}buildFocusEventData(m){return{ts:m.timeStamp,t:this.buildElementData(m.target),rt:this.buildElementData(m.relatedTarget),i:this.lastInputType}}shouldCheckFocusLoss(m){return this.lastInputType!==o.q.Touch&&this.lastInputType!==o.q.Mouse&&!(null!=m&&m.hasAttribute("data-focus-loss-exempt"))}start(m){this.logger.info("Starting Focus History Queue Service"),this.lastInputType=null,this.maxLength=m,this.queue=[],this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("focusin",this.focusIn),this.window.addEventListener("focusout",this.focusOut),this.inputModalitySubscription=this.inputModalityService.inputModalityChanged$.subscribe(S=>{this.lastInputType=S})})}stop(){this.logger.info("Stopping Focus History Queue Service"),this.ngZone.runOutsideAngular(()=>{var m;this.window.removeEventListener("focusin",this.focusIn),this.window.removeEventListener("focusout",this.focusOut),null===(m=this.inputModalitySubscription)||void 0===m||m.unsubscribe()})}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(a.R0b),a.LFG(v.ed),a.LFG(v.un),a.LFG(o.b))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),C=(()=>{class A{constructor(m,S,s){var r;this.focusHistoryQueueService=S,this.logginService=s,this.spatialNavigation=void 0,this._navigate=void 0,this._enabled=!1,this.config=null!==(r=null==m?void 0:m.spatialNavigationConfig)&&void 0!==r?r:{},this.spatialNavigation=window.__spatialNavigation__,this.logger=this.logginService.getLogger("SpatialNavigationService"),this.spatialNavigation&&(this._navigate=window.navigate,this.spatialNavigation.keyMode="NONE")}get enabled(){return this._enabled}setNavigationContainerCssStyles(m,S,s,r=!0){this.enabled&&(m.setAttribute("data-spatial-navigation-contain","contain"),m.setAttribute("data-spatial-navigation-action",s),m.style.setProperty("--spatial-navigation-function",S),"focus"===s&&r&&m.style.setProperty("scroll-behavior","smooth"))}enable(m){var S,s;this._enabled=m,this.activated=m,this.enabled?(null===(S=this.config)||void 0===S?void 0:S.focusHistoryQueueSize)>0&&this.focusHistoryQueueService.start(this.config.focusHistoryQueueSize):(null===(s=this.config)||void 0===s?void 0:s.focusHistoryQueueSize)>0&&this.focusHistoryQueueService.stop()}get activated(){return!(!this.spatialNavigation||"NONE"===this.spatialNavigation.keyMode)}set activated(m){!this.enabled||!this.spatialNavigation||(this.spatialNavigation.keyMode=m?"ARROW":"NONE")}setStartingPoint(m){if(!this.enabled||!this.spatialNavigation)return;if(!m)return void this.spatialNavigation.setStartingPoint(null);const S=m.getBoundingClientRect();this.spatialNavigation.setStartingPoint(S.x+S.width/2,S.y+S.height/2)}getClosestChild(m,S,s){const r=S.focusableAreas({mode:"all"});return m.spatialNavigationSearch(s,{container:S,candidates:r})}isScrollContainer(m){var S,s;return!(!this.enabled||null===(s=null===(S=this.spatialNavigation)||void 0===S?void 0:S.isScrollContainer(m))||void 0===s)&&s}isFullyInViewport(m){return new t.y(S=>{const s=new IntersectionObserver(r=>{var l;const i=null===(l=r.filter(O=>O.intersectionRatio<1))||void 0===l?void 0:l[0];S.next(!i)});return s.observe(m),function(){s.disconnect()}})}onClick(m){return(0,n.P)(()=>(m instanceof HTMLAnchorElement&&(m.tabIndex=0),(0,x.T)((0,M.R)(m,"click"),(0,M.R)(m,"keydown")).pipe((0,p.zg)(S=>S instanceof MouseEvent||"Enter"===S.key||" "===S.key?(0,L.of)(S):(0,L.of)(void 0)))))}isDefaultFocusRequired(){return this.enabled&&!!this.config.isDefaultFocusRequired}navigate(m){var S;null===(S=this._navigate)||void 0===S||S.call(this,m)}isFocusable(m){return this.spatialNavigation.isFocusable(m)}shouldContainFocus(m,S){return Array.isArray(S)?S.includes(m):S}getScrollContainer(m){let S=m;for(;S&&!this.isScrollContainer(S);)S=S.parentElement;return S}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(P.i,8),a.LFG(y),a.LFG(v.ed))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},15727:(Ge,ae,e)=>{"use strict";function t(M,L,p){const P=new CustomEvent(L,{bubbles:!0,cancelable:!0,detail:{dir:p}});return M.dispatchEvent(P)}function n(M){switch(M){case"ArrowUp":return"up";case"ArrowDown":return"down";case"ArrowLeft":return"left";case"ArrowRight":return"right";default:throw new Error(`${M} is not a valid navigation key value`)}}e.d(ae,{aD:()=>x,gC:()=>t,mD:()=>n});const x=40},93363:(Ge,ae,e)=>{"use strict";e.d(ae,{K:()=>v,w:()=>y});var t=e(60828),n=e(4042),x=e(2629),M=e(80155),L=e(42520),p=e(39609),P=e(64710),a=e(76549),o=e(715),v=(()=>{return(C=v||(v={}))[C.Link=0]="Link",C[C.Share=1]="Share",C[C.Input=2]="Input",C[C.PlayMedia=3]="PlayMedia",v;var C})();let y=(()=>{class C{constructor(d,m,S,s){var r,l,i,O,Y;this.snackbarService=m,this.translateService=S,this._enabled=!1,this.guardedTypes=[],this.logger=d.getLogger("UserActivationGuard"),this.defaultWarningMessage=null===(r=null==s?void 0:s.userActivationGuardConfig)||void 0===r?void 0:r.buttonWarningMessage,!(null===(l=null==s?void 0:s.userActivationGuardConfig)||void 0===l)&&l.link&&this.guardedTypes.push(v.Link),!(null===(i=null==s?void 0:s.userActivationGuardConfig)||void 0===i)&&i.input&&this.guardedTypes.push(v.Input),!(null===(O=null==s?void 0:s.userActivationGuardConfig)||void 0===O)&&O.playMedia&&this.guardedTypes.push(v.PlayMedia),null!==(Y=null==s?void 0:s.userActivationGuardConfig)&&void 0!==Y&&Y.share&&this.guardedTypes.push(v.Share)}get enabled(){return this._enabled}set enabled(d){this._enabled=d,this.logger.info("UserActivationGuardService is enabled")}displayWarning(d){return this.snackbarService.open(this.translateService.instant(d))}isGuarded(d){return this.guardedTypes.includes(d)}guard(d,m,S){if(!this.isGuarded(d))return m;let s=!1;return(r,...l)=>{if((0,M.Z3)(r))m(r,...l);else if(!s){const O=this.displayWarning(null!=S?S:this.defaultWarningMessage);(0,L.T)(O.afterOpened().pipe((0,n.h)(!0)),O.afterDismissed().pipe((0,n.h)(!1))).pipe((0,x.q)(2)).subscribe(Y=>{s=Y})}}}}return C.\u0275fac=function(d){return new(d||C)(p.LFG(P.ed),p.LFG(a.pl),p.LFG(o.sK),p.LFG(t.i,8))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},22804:(Ge,ae,e)=>{"use strict";e.d(ae,{SL:()=>ze,aD:()=>re.aD,s$:()=>et.s,IK:()=>Pe.I,RE:()=>q.RE,hp:()=>h,iN:()=>E.i,TX:()=>Te,AV:()=>A.A,JP:()=>pe.J,qA:()=>Xe.q,NN:()=>S.N,jr:()=>U.j,wI:()=>le.w,Ku:()=>le.K,av:()=>me.av,mD:()=>re.mD});var t=e(52954),n=e(52474),x=e(39609),M=e(50239),L=e(96053),p=e(53722),P=e(37661),a=e(79884),o=e(3878),v=e(715),y=e(38930),C=e(16873),A=e(55896),d=e(29894),m=e(1459),S=e(89597),s=e(73557),r=e(93557),l=e(99581),i=e(32764),O=e(34375),Y=e(20478),T=e(31603),B=e(39536),K=e(72467);e(12132);const f=[r.u5,l.XF,i.UK,O.yu,P.Ps,T.Xo,Y.Zh,p._r,B.yj,K.rt];let D=(()=>{class Le{}return Le.\u0275fac=function(Q){return new(Q||Le)},Le.\u0275mod=x.oAB({type:Le}),Le.\u0275inj=x.cJS({imports:[f,r.u5,l.XF,i.UK,O.yu,P.Ps,T.Xo,Y.Zh,p._r,B.yj,K.rt]}),Le})();var I=e(14893),w=e(6147),_=e(89829),$=e(73587);var F=e(65504),J=e(58241),z=e(32460),Z=e(18937),ue=e(90657),u=e(51637);const N={provide:x.ip1,useFactory:function W(Le,Re){return()=>function k(Le,Re){return Le.addSvgIconSetLiteral(Re.bypassSecurityTrustHtml('<svg width="0" height="0" class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><clipPath id="a"><path fill="#fff" d="M0 0h32v32H0z"/></clipPath></defs><symbol id="account_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2a7.2 7.2 0 0 1-6-3.22c.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"/></symbol><symbol id="add" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></symbol><symbol id="add_square" viewBox="0 0 44 44"><path d="M31.11 8A4.896 4.896 0 0 1 36 12.89v18.22A4.896 4.896 0 0 1 31.11 36H12.89A4.896 4.896 0 0 1 8 31.11V12.89A4.896 4.896 0 0 1 12.89 8h18.22Zm0 1.956H12.89a2.938 2.938 0 0 0-2.934 2.935v18.218a2.938 2.938 0 0 0 2.935 2.935h18.218a2.937 2.937 0 0 0 2.935-2.935V12.891a2.937 2.937 0 0 0-2.935-2.935ZM22 16a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4h-4a1 1 0 0 1 0-2h4v-4a1 1 0 0 1 1-1Z"/></symbol><symbol id="alert_circle" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></symbol><symbol id="analytics" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path fill="none" d="M7 12h2v5H7zm4 2h2v3h-2zm4-7h2v10h-2z"/><path d="M3 3v18h18V3H3zm6 14H7v-5h2v5zm4 0h-2v-3h2v3zm0-5h-2v-2h2v2zm4 5h-2V7h2v10z"/></symbol><symbol id="app" viewBox="0 0 32 32"><path d="M4 28V4h24v24H4Zm2.667-2.667h18.666v-16H6.667v16ZM9.333 16v-2.667h13.334V16H9.333Zm0 5.333v-2.666h8v2.666h-8Z" fill="currentColor"/></symbol><symbol id="arrow_down" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></symbol><symbol id="arrow_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M20 11H7.8l5.6-5.6L12 4l-8 8 8 8 1.4-1.4L7.8 13H20v-2z"/></symbol><symbol id="arrow_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"/></symbol><symbol id="arrow_up" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></symbol><symbol id="audio" viewBox="0 0 24 24"><path d="M1 18h6v3H1v-3Zm8 0h6v3H9v-3Zm8 0h6v3h-6v-3ZM1 13h6v3H1v-3Zm8 0h6v3H9v-3Zm8 0h6v3h-6v-3ZM9 8h6v3H9V8Zm8 0h6v3h-6V8ZM9 3h6v3H9V3Z"/></symbol><symbol id="backspace" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"/></symbol><symbol id="bandaid" viewBox="0 0 512 512"><path d="M259.2 304c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm6.4-107.2c0-6.4-4.8-11.2-11.2-11.2s-11.2 4.8-11.2 11.2c0 6.4 4.8 11.2 11.2 11.2 4.8 0 11.2-4.8 11.2-11.2zm22.4 80c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm-91.2-35.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2 0-4.8-4.8-11.2-11.2-11.2zm28.8-27.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm3.2 59.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2zm88-3.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2zm-32-54.4c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2c6.4 0 11.2-4.8 11.2-11.2 0-4.8-4.8-11.2-11.2-11.2zM256 267.2c6.4 0 11.2-4.8 11.2-11.2s-4.8-11.2-11.2-11.2c-6.4 0-11.2 4.8-11.2 11.2s4.8 11.2 11.2 11.2zm6.4 88-104-104 94.4-94.4 104 104c-32 32-64 62.4-94.4 94.4zm-115.2-96 105.6 105.6-1.6 1.6-46.4 46.4c-17.6 17.6-43.2 17.6-60.8 0-16-14.4-30.4-28.8-44.8-43.2-17.6-17.6-17.6-43.2 0-60.8l46.4-46.4c0-1.6 1.6-3.2 1.6-3.2zm217.6-6.4L259.2 147.2l1.6-1.6 46.4-46.4c17.6-17.6 43.2-17.6 60.8 0 16 14.4 30.4 30.4 46.4 44.8 17.6 17.6 17.6 43.2 0 59.2l-48 48s0 1.6-1.6 1.6z"/></symbol><symbol id="battery_boost" viewBox="0 0 768 768"><path d="M286.68 287.76v64.944l95.52-64.944 96.288 64.944V287.76L382.2 224.352z"/><path d="M286.68 398.376v64.92l95.52-64.92 96.288 64.92v-64.92L382.2 334.968z"/><path d="M286.68 510.504v64.968l95.52-64.968 96.288 64.968v-64.968L382.2 447.096z"/><path d="M383.16 32.328 78.576 208.176v351.672l304.56 175.8 304.536-175.8V208.176L383.16 32.328zm127.152 559.8c0 7.824-6.384 14.232-14.256 14.232H269.808c-7.872 0-14.256-6.408-14.256-14.232v-371.64c0-7.872 6.384-14.232 14.256-14.232h51.984v-45.84h122.28v45.84h51.984c7.872 0 14.256 6.384 14.256 14.232v371.64z"/></symbol><symbol id="battery_charging" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 4h-3V2h-4v2H7v18h10V4zm-6 16v-5.5H9L13 7v5.5h2L11 20z"/></symbol><symbol id="bell" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V2.5h-3v2.18C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></symbol><symbol id="blank" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/></symbol><symbol id="broadcast" viewBox="0 0 24 24"><path d="M12 10a2 2 0 0 1 1.53 3.29L16.7 22h-2.13L12 14.93 9.43 22H7.3l3.17-8.71A2 2 0 0 1 12 10zm0-2a4 4 0 0 0-4 4c0 .5.1 1 .28 1.46l-.88 2.4A6.026 6.026 0 0 1 6 12a6 6 0 1 1 12 0c0 1.47-.53 2.81-1.4 3.86l-.88-2.4C15.9 13 16 12.5 16 12a4 4 0 0 0-4-4zm0-4a8 8 0 0 0-8 8c0 2.36 1 4.5 2.64 5.94l-.72 2A10.005 10.005 0 0 1 2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 3.23-1.54 6.11-3.92 7.94l-.72-2C19 16.5 20 14.36 20 12a8 8 0 0 0-8-8z"/></symbol><symbol id="browser_diskdrive" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M2 8v8h20V8H2zm16 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="browser_diskdrive_network" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 13V5H3v8h8v3H9v1H3v2h6v1h6v-1h6v-2h-6v-1h-2v-3h8zm-4-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"/></symbol><symbol id="browser_disk_drive_removable" viewBox="0 0 24 24"><path d="M2 8v8h20V8H2zm2 5v-2h10v2H4zm14 1c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="browser_nav_up" viewBox="0 0 24 24"><path d="M12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10-4.5 10-10 10zm0-15-5 5h3v4h4v-4h3l-5-5z"/></symbol><symbol id="cancel" viewBox="0 0 16 17"><path d="M8 1.795c3.667 0 6.667 3 6.667 6.666 0 3.667-3 6.667-6.667 6.667s-6.667-3-6.667-6.667c0-3.666 3-6.666 6.667-6.666Zm0 1.333c-1.267 0-2.4.4-3.267 1.133l7.467 7.467c.667-.933 1.133-2.067 1.133-3.267 0-2.933-2.4-5.333-5.333-5.333Zm3.267 9.533L3.8 5.195c-.733.866-1.133 2-1.133 3.266 0 2.934 2.4 5.334 5.333 5.334 1.267 0 2.4-.4 3.267-1.134Z" fill="#fff" fill-opacity=".7"/></symbol><symbol id="carrot_down" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m7 10 5 5 5-5H7z"/></symbol><symbol id="carrot_up" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m7 14 5-5 5 5H7z"/></symbol><symbol id="check" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></symbol><symbol id="check_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></symbol><symbol id="chevron_down" viewBox="0 0 768 768"><path d="M237.12 274.56 384 421.44l146.88-146.88L576 320 384 512 192 320l45.12-45.44z"/></symbol><symbol id="chevron_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></symbol><symbol id="chevron_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></symbol><symbol id="chevron_up" viewBox="0 0 768 768"><path d="M237.12 493.12 384 346.56l146.88 146.56L576 448 384 256 192 448l45.12 45.12z"/></symbol><symbol id="close" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 6.4 17.6 5 12 10.6 6.4 5 5 6.4l5.6 5.6L5 17.6 6.4 19l5.6-5.6 5.6 5.6 1.4-1.4-5.6-5.6L19 6.4z"/></symbol><symbol id="cloud_download" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"/></symbol><symbol id="cloud_upload" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19.35 10.04A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 0 0 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"/></symbol><symbol id="comment" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 2h19.99L22 22l-4-4H2z"/></symbol><symbol id="content_paste" viewBox="0 0 768 768"><path d="M608 640H160V128h64v96h320v-96h64zM384 64c17.673 0 32 14.327 32 32s-14.327 32-32 32c-17.673 0-32-14.327-32-32s14.327-32 32-32zm224 0H474.24C460.8 26.88 425.6 0 384 0s-76.8 26.88-90.24 64H160c-35.346 0-64 28.654-64 64v512c0 35.346 28.654 64 64 64h448c35.346 0 64-28.654 64-64V128c0-35.346-28.654-64-64-64z"/></symbol><symbol id="copy_generic" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M16 1.9v2H4v12H2v-14h14ZM6 6h16v16H6V6Z"/></symbol><symbol id="death" viewBox="0 0 24 24"><path d="M20.85 15.92c-.1-.54-.44-.98-.9-1.22.43-1.37.66-3.13.66-5.34 0-4.03-3.92-7.48-8.73-7.48-4.81 0-8.64 3.33-8.64 7.48 0 2.19.23 3.94.65 5.3-.5.23-.88.69-.98 1.26-.17.94.47 1.84 1.44 2.01l2.32.4c.1.05.19.09.29.13l.53 2.48s1.27.93 4.45.93 4.39-.93 4.39-.93l.54-2.47c.13-.05.25-.1.38-.16l2.17-.38a1.73 1.73 0 0 0 1.43-2.01ZM9.56 14.56c-1.36 1.13-2.95 1.58-3.85.7-.9-.88-.67-2.66.59-3.89s3.23-1.3 4.13-.42c.91.87.46 2.51-.87 3.61Zm3.76 3.33c-.34.38.01-.05-1.43-.05s-.95.48-1.41.03c-.46-.45-.22-1.43-.1-1.8.11-.35.75-1.83 1.52-1.83.76 0 1.36 1.47 1.49 1.83.13.36.31 1.4-.07 1.82Zm4.82-2.64c-.9.88-2.49.43-3.85-.7-1.33-1.1-1.77-2.74-.87-3.62.9-.88 2.87-.81 4.13.42 1.27 1.24 1.5 3.02.59 3.9Z"/></symbol><symbol id="delete" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></symbol><symbol id="delete_forever" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 21h12V7H6v14zm2.46-9.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"/></symbol><symbol id="desktop" viewBox="0 0 24 24"><path d="M14 2h10v20h-2v-2h-6v2h-2V2Zm7 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm-5 2v2h6V8h-6Zm0 4v2h6v-2h-6Zm-4-6v2H2v8h10v2h-2v2h2v2H6v-2h2v-2H0V6h12Z"/></symbol><symbol id="desktop_mac" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9l-2 3v1h8v-1l-2-3h9V2zm-2 12H3V4h18v10z"/></symbol><symbol id="desktop_windows" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9v2H8v2h8v-2h-2v-2h9V2zm-2 14H3V4h18v12z"/></symbol><symbol id="devices" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 6h18V4H2v13H0v3h14v-3H4V6zm20 2h-8v12h8V8zm-2 9h-4v-7h4v7z"/></symbol><symbol id="download" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 12v7H5v-7H3v9h18v-9h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2v9.67z"/></symbol><symbol id="edit" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM21.41 6.34l-3.75-3.75-2.53 2.54 3.75 3.75 2.53-2.54z"/></symbol><symbol id="edit_settings" viewBox="0 0 24 24"><path d="M4 20V5.684h8.71L10.554 7.75H6V18h10.356v-4.713l1.993-1.996V20H4Zm4.783-4.772v-3.38l5.72-5.706 3.408 3.34-5.74 5.746H8.783Zm10.264-6.88-3.408-3.34L17.652 3 21 6.4l-1.953 1.949Z"/></symbol><symbol id="epic_games_logo" viewBox="0 0 22 25"><g id="Settings" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><path d="M2.615.053H19.42c1.343 0 1.838.507 1.838 1.88v16.58c0 .156 0 1.231-1.054 1.8-.703.378-3.452 1.543-8.248 3.495-.424.199-.628.25-.938.244-.348 0-.479-.047-.943-.244-4.792-2.015-7.54-3.18-8.243-3.496C.777 19.84.828 19.246.797 18.947a4.39 4.39 0 0 1-.02-.434V1.933c0-1.373.496-1.88 1.838-1.88ZM17.998 16.95l.003-.04v-.089l-.003-.04-.004-.037-.015-.074-.008-.033-.01-.034-.012-.033-.015-.03-.019-.033-.019-.03-.022-.032-.022-.03-.027-.026-.026-.03-.03-.025-.03-.026-.03-.019-.03-.022-.03-.018-.033-.019-.034-.018-.037-.019-.038-.015-.037-.019-.041-.014-.034-.01-.034-.012-.037-.01-.034-.012-.037-.011-.037-.011-.038-.008-.041-.01-.038-.012-.04-.007-.042-.011-.041-.011-.041-.012-.038-.007-.033-.011-.034-.007-.03-.012-.03-.007-.045-.014-.041-.016-.037-.014-.03-.019-.034-.018-.026-.026-.016-.022-.018-.04-.004-.049v-.007l.004-.037.015-.033.022-.034.034-.03.026-.014.03-.015.034-.007.038-.008.04-.007h.083l.033.004.038.003.037.004.038.008.037.007.038.007.037.011.038.012.04.01.03.015.034.012.03.014.034.015.03.015.034.015.03.018.033.015.03.022.03.019.033.018.03.022.023-.03.019-.029.022-.03.023-.029.022-.033.019-.03.022-.03.023-.029.018-.03.023-.03.022-.029.02-.029.021-.034.023-.029.022-.03.019-.03.023-.029-.03-.022-.03-.022-.03-.022-.03-.019-.034-.022-.03-.018-.033-.019-.034-.018-.03-.015-.034-.019-.037-.014-.034-.015-.034-.015-.033-.01-.038-.016-.033-.007-.034-.011-.038-.011-.033-.008-.038-.007-.037-.008-.034-.007-.037-.007-.041-.004-.037-.008-.042-.003h-.037l-.042-.004-.04-.004h-.161l-.075.008-.038.003-.037.004-.034.008-.037.007-.034.007-.034.008-.03.007-.034.011-.037.015-.037.01-.034.016-.033.019-.034.014-.034.019-.03.018-.03.022-.03.023-.026.018-.03.026-.026.03-.026.025-.026.03-.023.03-.022.03-.019.032-.019.033-.015.034-.015.033-.014.033-.008.033-.012.034-.014.066-.004.037-.004.033-.004.037v.086l.004.04.004.037.004.037.007.033.008.037.011.03.011.033.011.03.015.025.019.033.019.03.018.026.023.026.023.025.025.026.027.026.026.023.03.018.03.022.033.019.03.018.038.019.034.018.037.015.038.015.037.014.041.015.034.011.033.011.034.011.037.008.034.011.037.01.038.008.037.011.038.008.04.01.039.008.04.011.038.008.037.01.034.008.034.011.03.008.026.007.045.019.037.015.034.014.03.015.03.022.026.022.019.026.015.037.004.044v.008l-.004.037-.012.033-.014.03-.023.025-.03.023-.026.014-.03.012-.034.007-.033.007-.038.007-.041.004h-.082l-.041-.004h-.038l-.037-.007-.042-.003-.037-.008-.037-.007-.038-.008-.034-.01-.037-.012-.037-.01-.034-.016-.034-.01-.033-.016-.034-.014-.034-.015-.03-.019-.033-.014-.03-.019-.034-.022-.03-.019-.033-.021-.03-.023-.034-.022-.03-.022-.023.03-.026.025-.022.03-.026.03-.023.025-.022.03-.026.03-.023.025-.026.03-.022.026-.027.03-.022.029-.022.026-.027.03-.022.029-.026.025-.023.03.03.026.026.022.03.022.03.023.03.022.03.022.03.019.03.018.034.019.03.018.033.018.034.015.033.018.034.015.034.015.037.015.034.01.037.012.034.015.038.01.037.012.034.007.037.011.037.008.038.007.075.015.037.004.038.007.04.004.038.003.037.004h.041l.038.004h.157l.037-.004.042-.004.037-.003.034-.004.037-.004.038-.007.033-.008.034-.007.037-.007.034-.011.038-.012.037-.01.037-.015.038-.015.034-.019.033-.015.034-.018.03-.022.03-.018.03-.023.026-.021.03-.027.022-.022.026-.025.023-.026.018-.03.023-.03.038-.059.015-.033.014-.03.015-.033.012-.037.007-.033.011-.037.008-.037.004-.04.004-.037Zm-2.625.74h.038v-.61h-1.468v-.458h1.303v-.573h-1.303v-.44h1.449V15h-2.163v2.69h2.144Zm-2.734 0h.037V15h-.767l-.019.029-.018.033-.023.03-.019.033-.018.03-.019.033-.022.03-.02.032-.018.03-.019.03-.022.032-.019.03-.018.033-.02.03-.021.033-.019.03-.02.03-.018.032-.018.03-.023.033-.018.03-.02.032-.018.03-.023.033-.018.03-.019.03-.019.032-.022.03-.019.033-.018.03-.019.033-.022.03-.019.032-.02.03-.018-.03-.018-.033-.023-.029-.019-.033-.018-.03-.019-.033-.018-.03-.023-.033-.019-.03-.018-.029-.02-.033-.018-.03-.023-.032-.018-.03-.019-.033-.018-.03-.02-.033-.022-.03-.018-.029-.019-.033-.02-.03-.021-.033-.02-.03-.018-.033-.018-.029-.02-.03-.022-.033-.018-.029-.019-.034-.019-.029-.019-.033-.022-.03-.019-.033-.018-.03h-.767v2.69h.71v-1.583l.023.03.019.033.022.03.019.033.022.03.019.033.023.03.018.033.023.03.018.033.023.03.019.033.022.03.019.033.022.03.019.032.023.03.022.033.019.03.022.034.018.03.023.032.019.03.022.033.02.03.021.033.02.03.021.033.02.03.022.033.018.03.023.033.019.03.022.033h.015l.019-.03.022-.033.019-.03.022-.03.02-.033.021-.03.02-.03.018-.032.023-.03.018-.03.023-.03.018-.032.023-.03.018-.03.02-.033.022-.03.018-.03.023-.032.018-.03.023-.03.019-.033.018-.03.023-.029.019-.034.022-.03.019-.029.022-.03.019-.033.018-.03.023-.03.019-.032.022-.03.019-.03.022-.033.019-.03v1.591h.685Zm-4.342-1.11.015.034h-.633l.015-.033.012-.034.015-.037.015-.033.011-.033.015-.034.015-.037.015-.033.011-.033.015-.034.015-.033.011-.037.015-.033.015-.034.011-.033.015-.033.015-.037L7.93 16l.012-.034.014-.033.015-.037.012-.034.015-.033.015.033.011.034.014.037.016.033.011.034.015.033.015.037.01.033.016.033.015.034.011.033.015.037.011.033.015.034.015.033.012.033.014.038.015.033.012.033.015.033.015.037.011.034Zm1.175 1.11h.037l-.015-.034-.014-.033-.015-.034-.012-.037-.015-.032-.015-.034-.014-.033-.03-.066-.015-.038-.015-.033-.012-.033-.015-.033-.015-.034-.015-.033-.014-.037-.016-.033-.03-.067-.01-.033-.016-.033-.015-.037-.015-.033-.015-.034-.03-.066-.015-.033-.01-.038-.016-.033-.015-.033-.015-.033-.015-.033-.015-.033-.015-.038-.014-.033-.012-.033-.014-.033-.016-.034-.015-.033-.015-.037-.015-.033-.03-.067-.01-.033-.016-.033-.015-.033-.014-.037-.03-.066-.016-.034-.014-.033-.012-.033-.015-.037-.015-.033-.015-.034-.015-.033-.015-.033-.015-.033-.015-.038-.01-.033-.015-.033-.016-.033-.015-.033-.015-.034-.015-.037-.015-.033-.015-.033-.01-.033-.016-.034-.015-.033-.014-.037-.016-.033-.015-.033-.015-.034-.014-.033-.012-.033-.015-.037-.015-.033-.015-.034-.015-.033h-.692l-.015.033-.015.034-.015.033-.011.037-.015.033-.015.033-.015.034-.015.033-.015.033-.015.037-.015.033-.011.034-.03.066-.015.033-.015.037-.015.034-.015.033-.015.033-.011.033-.015.034-.015.037-.03.066-.015.033-.015.034-.015.033-.01.037-.016.033-.015.033-.015.034-.015.033-.015.033-.015.037-.015.033-.011.033-.03.067-.015.033-.015.033-.015.037-.015.033-.015.034-.011.033-.015.033-.015.034-.015.037-.015.033-.015.033-.015.033-.015.033-.011.034-.015.037-.015.033-.015.033-.015.033-.015.034-.015.033-.015.037-.011.033-.03.067-.015.033-.015.033-.015.037-.015.033-.015.034-.011.033-.015.033-.015.034-.015.037-.015.033-.015.033-.03.066-.011.033-.015.037-.03.067-.015.033h.756l.015-.033.011-.033.015-.034.015-.037.011-.032.015-.034.015-.033.011-.033.015-.033.016-.034.01-.033.015-.037.016-.033.01-.034.016-.033h1.074l.015.033.011.034.015.033.015.037.011.033.015.034.015.033.011.033.03.066.011.033.015.037.015.034.012.033.014.033h.734Zm-3.278-.344.026-.022v-1.201H4.985v.54h.546v.335l-.03.019-.026.015-.033.014-.03.015-.034.015-.034.007-.037.012-.038.007-.037.007-.038.004-.04.004-.042.004h-.086l-.041-.004-.037-.004-.038-.008-.037-.007-.038-.011-.037-.011-.034-.015-.034-.015-.033-.014-.03-.019-.03-.018-.03-.023-.03-.022-.026-.022-.023-.026-.026-.026-.022-.025-.023-.03-.018-.03-.02-.029-.018-.033-.015-.034-.015-.037-.011-.03-.011-.032-.008-.034-.015-.066-.004-.037-.003-.033-.004-.037v-.085l.004-.037.003-.037.008-.041.008-.033.007-.037.011-.037.015-.033.011-.033.015-.034.02-.03.018-.032.019-.03.018-.026.023-.03.026-.025.022-.026.026-.022.027-.023.026-.021.03-.02.03-.018.03-.018.034-.015.033-.015.034-.01.033-.012.034-.007.037-.007.034-.004.038-.004h.078l.042.004.04.004.038.003.037.008.038.007.034.007.033.011.034.012.03.01.03.015.03.015.033.019.03.018.03.019.03.018.03.022.03.019.03.026.03.022.022-.03.026-.025.023-.03.026-.03.022-.03.023-.025.026-.03.023-.03.026-.03.022-.025.023-.03.026-.029.022-.026.023-.03.026-.029.022-.03.027-.025.022-.03-.03-.022-.03-.026-.03-.022-.03-.022-.03-.019-.03-.022-.033-.018-.03-.02-.033-.017-.03-.02-.034-.014-.034-.018-.034-.015-.033-.015-.034-.014-.034-.012-.03-.01-.033-.008-.034-.01L5.486 15l-.033-.007-.034-.007-.037-.008-.038-.007-.033-.004-.042-.007-.037-.004h-.038l-.04-.004-.042-.003h-.16l-.038.003-.038.004-.074.008-.038.007-.037.004-.037.007-.034.011-.038.007-.034.012-.033.007-.034.015-.037.01-.03.012-.037.018-.034.015-.034.015-.034.019-.033.018-.034.019-.03.018-.03.018-.03.023-.03.018-.03.022-.026.022-.03.026-.026.022-.026.026-.026.026-.023.026-.026.026-.023.026-.022.03-.022.029-.023.03-.038.059-.018.03-.019.029-.019.033-.015.033-.03.067-.014.033-.016.037-.01.033-.012.037-.01.033-.008.037-.012.037-.007.033-.004.037-.008.037-.003.041-.004.037v.037l-.003.04v.122l.003.037.004.037.003.037.004.034.008.037.003.033.008.037.011.033.008.037.011.033.007.033.015.034.012.03.015.032.015.034.014.033.015.033.02.03.018.033.019.03.018.03.023.029.019.029.022.026.022.03.023.025.026.026.026.026.026.023.027.025.026.023.026.022.03.022.03.022.03.022.03.019.03.018.034.019.03.018.033.019.034.014.033.015.034.015.038.014.033.012.034.014.034.011.037.008.034.011.037.007.034.008.037.007.037.007.038.004.037.004.038.004.04.003.038.004h.161l.042-.004.037-.003.041-.004.038-.004.04-.004.038-.003.037-.008.038-.007.033-.007.038-.008.034-.011.037-.01.034-.012.034-.011.033-.011.034-.015.037-.015.034-.015.037-.014.034-.02.034-.013.033-.02.034-.018.034-.018.03-.018.03-.019.03-.022.03-.019.03-.021.025-.02.03-.021Zm1.1-8.912V7.04H5.439V4.705h1.857V3.311h-3.26v9.31h3.259V11.23H5.438V8.435h1.857Zm9.311 2.444c0 .366-.184.536-.545.536h-.267c-.375 0-.58-.17-.58-.536V5.174c0-.366.205-.61.58-.61h.24c.44 0 .572.148.572.61v1.86l1.396.003V5.032c0-1.137-.592-1.712-1.756-1.712h-.696c-1.164 0-1.737.716-1.737 1.854v5.77c0 1.138.573 1.683 1.737 1.683h.71c1.164 0 1.742-.545 1.742-1.682V8.899h-1.396v1.98ZM11.95 12.62h1.396V3.31H11.95v9.31Zm-1.864-5.173c0 .372-.101.518-.44.518h-.49V4.562h.49c.338 0 .44.172.44.545v2.34ZM7.76 3.31v9.31h1.395V9.243h.704c1.088 0 1.625-.572 1.625-1.729V5.04c0-1.157-.537-1.729-1.625-1.729H7.76Zm6.983 17.698H7.295l3.724 1.389 3.724-1.389Z" id="path2-7" fill="#E8E8E8"/></g></symbol><symbol id="ethernet" viewBox="0 0 768 768"><path d="M224 480h64v96h64v-96h64v96h64v-96h64v96h64V288H480v-96H288v96H160v288h64v-96zM140.16 96h488c41.92 0 75.84 33.92 75.84 76.16v456c0 41.885-33.955 75.84-75.84 75.84h-488C97.92 704 64 670.08 64 628.16v-456C64 129.92 97.92 96 140.16 96z"/></symbol><symbol id="exit_to_app" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM21 3H3v6h2V5h14v14H5v-4H3v6h18V3z"/></symbol><symbol id="eye" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></symbol><symbol id="eye_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM3.42 2.45 2.01 3.87l2.68 2.68A11.738 11.738 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l3.43 3.43 1.41-1.41L3.42 2.45zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5zm2.97-5.33a2.97 2.97 0 0 0-2.64-2.64l2.64 2.64z"/></symbol><symbol id="feedback" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 2H2.01L2 22l4-4h16V2zm-9 12h-2v-2h2v2zm0-4h-2V6h2v4z"/></symbol><symbol id="file" viewBox="0 0 24 24"><path d="M4.01 2 4 22h16V8l-6-6H4.01zM13 9V3.5L18.5 9H13z"/></symbol><symbol id="filter_list" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/></symbol><symbol id="folder" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 4H2v16h20V6H12l-2-2z"/></symbol><symbol id="folder_open" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 6H12l-2-2H2v16h20V6zm-2 12H4V8h16v10z"/></symbol><symbol id="fps" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23 2H1v16h9v2H8v2h8v-2h-2v-2h9V2zm-2 14H3V4h18v12z"/><path d="M6 11h2V9H6V8h3V6H4v8h2v-3zm6 0h3V6h-5v8h2v-3zm0-3h1v1h-1V8zm8 1h-2V8h2V6h-4v5h2v1h-2v2h4V9z"/></symbol><symbol id="freestyle" viewBox="0 0 24 24"><path d="M12.3 9.4c-1.5 0-2.7 1.2-2.7 2.7 0 1.2-1.1 1.8-1.8 1.8.8 1.1 2.3 1.8 3.6 1.8 2 0 3.6-1.6 3.6-3.6 0-1.4-1.2-2.7-2.7-2.7zm10.697-5.383-6.364 6.364-2.475-2.475 6.364-6.364 2.475 2.475z"/><path d="M20 9v9H4V7h9l2-2H2v15h20V7l-2 2z"/></symbol><symbol id="fullscreen_exit" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></symbol><symbol id="gallery" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M18 2v6H4v8H2V2h2l2 4h2L6 2h2l2 4h2l-2-4h2l2 4h2l-2-4h4Zm1 14.5V19H9l3-4 2 2.7 3-3.7 2 2.5Zm1-4.5H8v8h12v-8Zm2-2v12H6V10h16Z"/></symbol><symbol id="gamepad_blue_b" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M16.836 34V14.094h6.973c2.415 0 4.247.465 5.496 1.394 1.248.92 1.873 2.274 1.873 4.06 0 .976-.25 1.837-.752 2.585-.502.738-1.199 1.28-2.092 1.627 1.02.255 1.823.77 2.406 1.545.593.774.889 1.722.889 2.843 0 1.915-.61 3.364-1.832 4.348-1.221.984-2.962 1.486-5.223 1.504h-7.738Zm4.102-8.668v5.373h3.513c.966 0 1.718-.228 2.256-.683.547-.465.82-1.103.82-1.915 0-1.822-.943-2.748-2.83-2.775h-3.76Zm0-2.898h3.035c2.069-.037 3.103-.862 3.103-2.475 0-.902-.264-1.55-.793-1.941-.52-.402-1.344-.602-2.474-.602h-2.872v5.018Z" fill="#fff"/></symbol><symbol id="gamepad_blue_rs" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M15.631 27.269h-3.086v6.967H8.671V15.203h6.986c2.221 0 3.934.5 5.14 1.503 1.205 1.002 1.807 2.419 1.807 4.249 0 1.298-.28 2.383-.84 3.255-.55.862-1.39 1.551-2.517 2.065l4.068 7.778v.183h-4.158Zm-3.086-3.177h3.125c.973 0 1.726-.248 2.26-.745.534-.506.8-1.198.8-2.079 0-.897-.254-1.603-.761-2.117-.5-.514-1.27-.772-2.312-.772h-3.112zm22.766 5.15c0-.74-.258-1.307-.775-1.699-.517-.4-1.446-.82-2.79-1.255-1.342-.444-2.405-.88-3.189-1.307-2.135-1.168-3.202-2.74-3.202-4.72 0-1.028.284-1.943.852-2.744.577-.81 1.399-1.443 2.466-1.896 1.077-.453 2.282-.68 3.616-.68 1.343 0 2.54.249 3.59.746 1.05.488 1.864 1.18 2.44 2.078.586.898.879 1.917.879 3.059h-3.874c0-.872-.271-1.547-.814-2.026-.542-.488-1.304-.732-2.285-.732-.947 0-1.683.205-2.209.614-.525.401-.787.933-.787 1.595 0 .619.305 1.137.917 1.556.62.418 1.528.81 2.724 1.176 2.204.671 3.81 1.503 4.817 2.497 1.007.993 1.51 2.23 1.51 3.712 0 1.648-.615 2.942-1.846 3.883-1.231.932-2.888 1.399-4.971 1.399-1.447 0-2.764-.266-3.952-.798-1.188-.54-2.096-1.276-2.724-2.209-.62-.933-.93-2.013-.93-3.242h3.887c0 2.1 1.24 3.15 3.719 3.15.92 0 1.64-.187 2.156-.562.517-.383.775-.915.775-1.594z" fill="#fff"/></symbol><symbol id="gamepad_blue_rt" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="M15.991 27.436h-3.12v7.159H8.952V15.039h7.064c2.246 0 3.978.515 5.197 1.544 1.218 1.03 1.828 2.485 1.828 4.366 0 1.334-.283 2.449-.849 3.344-.557.886-1.406 1.594-2.546 2.122l4.113 7.992v.188h-4.205Zm-3.12-3.264h3.16c.983 0 1.745-.255 2.284-.766.54-.519.81-1.23.81-2.135 0-.922-.257-1.648-.77-2.176-.506-.528-1.285-.792-2.338-.792H12.87Zm26.818-5.87h-5.823v16.293h-3.917V18.303h-5.745v-3.264h15.485z" fill="#fff"/></symbol><symbol id="gamepad_blue_x" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="m23.854 21.775 4.477-7.24h5.659l-6.954 10.413 7.134 10.587h-5.724l-4.592-7.356-4.593 7.356h-5.724l7.135-10.587-6.954-10.414h5.658z" fill="#fff"/></symbol><symbol id="gamepad_blue_y" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#0B8ABC"/><path d="m23.986 23.063 4.143-8.97h4.484l-6.535 12.688V34h-4.17v-7.219l-6.535-12.687h4.498l4.115 8.969Z" fill="#fff"/></symbol><symbol id="gamepad_b_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#CF3C33"/><path d="M17.588 34V14.094h6.508c2.16 0 3.782.446 4.867 1.34 1.094.893 1.64 2.214 1.64 3.964 0 .93-.264 1.755-.793 2.475-.528.711-1.248 1.262-2.16 1.654 1.076.301 1.924.875 2.543 1.723.63.838.944 1.841.944 3.008 0 1.786-.58 3.19-1.737 4.21C28.243 33.49 26.607 34 24.492 34h-6.904Zm2.625-9.31v7.163h4.334c1.221 0 2.183-.314 2.885-.943.71-.638 1.066-1.513 1.066-2.625 0-2.397-1.303-3.596-3.91-3.596h-4.375Zm0-2.106h3.965c1.148 0 2.064-.287 2.748-.861.693-.575 1.039-1.354 1.039-2.338 0-1.094-.32-1.887-.957-2.38-.638-.5-1.609-.751-2.912-.751h-3.883v6.33Z" fill="#fff"/></symbol><symbol id="gamepad_ls_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M13.104 31.854h9.433V34H10.465V14.094h2.639v17.76Zm18.293-6.727c-2.252-.647-3.892-1.44-4.922-2.379-1.021-.948-1.532-2.114-1.532-3.5 0-1.568.625-2.862 1.873-3.883 1.258-1.03 2.89-1.545 4.895-1.545 1.367 0 2.584.265 3.65.793 1.076.529 1.905 1.258 2.489 2.188.592.93.888 1.946.888 3.049H36.1c0-1.204-.383-2.147-1.149-2.83-.766-.693-1.846-1.04-3.24-1.04-1.294 0-2.306.288-3.035.862-.72.565-1.08 1.353-1.08 2.365 0 .811.341 1.5 1.025 2.064.693.556 1.864 1.067 3.514 1.532 1.659.465 2.953.98 3.883 1.545.938.556 1.631 1.207 2.078 1.955.455.747.683 1.627.683 2.638 0 1.614-.629 2.908-1.886 3.883-1.258.966-2.94 1.45-5.045 1.45-1.367 0-2.644-.26-3.828-.78-1.185-.529-2.101-1.249-2.748-2.16-.638-.912-.957-1.946-.957-3.104h2.638c0 1.204.442 2.156 1.326 2.858.893.693 2.083 1.039 3.569 1.039 1.385 0 2.447-.283 3.185-.848.739-.565 1.108-1.335 1.108-2.31 0-.976-.342-1.728-1.026-2.256-.683-.538-1.923-1.067-3.719-1.586Z" fill="#fff"/></symbol><symbol id="gamepad_lt_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M14.95 31.854h9.433V34H12.31V14.094h2.638v17.76Zm22.407-15.6H30.96V34h-2.611V16.254h-6.385v-2.16h15.394v2.16Z" fill="#fff"/></symbol><symbol id="gamepad_rs_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="M16.672 25.947h-4.676V34H9.357V14.094h6.59c2.242 0 3.965.51 5.168 1.531 1.213 1.02 1.819 2.506 1.819 4.457 0 1.24-.338 2.32-1.012 3.24-.666.92-1.595 1.609-2.79 2.065l4.677 8.449V34h-2.817l-4.32-8.053Zm-4.676-2.146h4.033c1.304 0 2.338-.337 3.104-1.012.775-.674 1.162-1.577 1.162-2.707 0-1.23-.37-2.174-1.108-2.83-.729-.656-1.786-.989-3.171-.998h-4.02V23.8Zm20.494 1.326c-2.251-.647-3.892-1.44-4.922-2.379-1.02-.948-1.53-2.114-1.53-3.5 0-1.568.623-2.862 1.872-3.883 1.258-1.03 2.89-1.545 4.895-1.545 1.367 0 2.584.265 3.65.793 1.076.529 1.905 1.258 2.488 2.188.593.93.889 1.946.889 3.049h-2.639c0-1.204-.383-2.147-1.148-2.83-.766-.693-1.846-1.04-3.24-1.04-1.295 0-2.306.288-3.035.862-.72.565-1.08 1.353-1.08 2.365 0 .811.341 1.5 1.025 2.064.693.556 1.864 1.067 3.513 1.532 1.66.465 2.954.98 3.883 1.545.94.556 1.632 1.207 2.079 1.955.455.747.683 1.627.683 2.638 0 1.614-.629 2.908-1.887 3.883-1.258.966-2.94 1.45-5.045 1.45-1.367 0-2.643-.26-3.828-.78-1.185-.529-2.1-1.249-2.748-2.16-.638-.912-.957-1.946-.957-3.104h2.639c0 1.204.442 2.156 1.326 2.858.893.693 2.083 1.039 3.568 1.039 1.386 0 2.448-.283 3.186-.848s1.107-1.335 1.107-2.31c0-.976-.341-1.728-1.025-2.256-.684-.538-1.923-1.067-3.719-1.586Z" fill="#fff"/></symbol><symbol id="gamepad_rt_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#616161"/><path d="m24.272 34.207-3.206-.153-5.513-7.413h-3.85v7.413H8.97V15.41h5.755c1.242 0 2.276.075 3.104.225.828.142 1.573.4 2.236.776.745.426 1.325.964 1.739 1.616.423.642.634 1.46.634 2.454 0 1.344-.372 2.47-1.117 3.38-.746.902-1.771 1.582-3.078 2.042zm-4.69-13.55c0-.535-.106-1.007-.317-1.416-.203-.417-.543-.768-1.022-1.052a3.903 3.903 0 0 0-1.407-.5 10.7 10.7 0 0 0-1.918-.15h-3.215v7.036h2.76c.864 0 1.619-.066 2.262-.2.644-.142 1.192-.4 1.643-.776.414-.351.717-.752.91-1.202.203-.46.304-1.04.304-1.74zm20.902-3.044H33.74v16.441h-2.51v-16.44h-6.744V15.41h15.998z" fill="#fff"/></symbol><symbol id="gamepad_y_hint" viewBox="0 0 48 48"><circle cx="24" cy="24" r="24" fill="#F19937"/><path d="m24.473 24.088 5.195-9.994h2.98l-6.863 12.482V34H23.16v-7.424l-6.863-12.482h3.008l5.168 9.994Z" fill="#fff"/></symbol><symbol id="gameplay" viewBox="0 0 24 24"><path d="M23 2v16h-9v2h2v2H8v-2h2v-2H1V2h22Zm-2 2H3v12h18V4ZM10 6c.3 0 .6.3.6.6H13c0-.4.3-.6.6-.6h1.1c.4 0 .6.3.6.6l.121.007c.57.06 1.186.533 1.279 1.093.1.6.9 4.1.8 5.1 0 .5-.5 1.1-1.1 1.1-.6 0-1.1-.5-1.7-1.1l-.962-.962-.138-.138c-.5-.6-.5-.6-1.1-.6h-1.3c-.403.003-.443.043-1 .6l-1.1 1.1c-.6.5-1.2 1.1-1.7 1.1s-1.1-.5-1.1-1.1c0-1.1.8-4.5.9-5.1.1-.6.8-1.1 1.3-1.1l.009-.114C8.56 6.162 8.83 6 9.1 6Z"/></symbol><symbol id="game_controller" viewBox="0 0 768 768"><path d="M652.8 272c-6.4-32-44.8-64-76.8-64 0-19.2-12.8-32-32-32h-64c-19.2 0-32 12.8-32 32H320c0-16-16-32-32-32h-64c-19.2 0-32 12.8-32 32-32 0-70.4 28.8-76.8 64C108.8 304 64 496 64 560c0 32 32 64 64 64s64-32 96-64 32-35.2 64-64c32-32 32-32 64-32h64c32 0 32 0 64 32l64 64c32 32 64 64 96 64s64-32 64-64c0-60.8-44.8-256-51.2-288zM320 358.4h-41.6V400h-44.8v-41.6H192v-44.8h41.6V272h44.8v41.6H320v44.8zM512 400c-35.2 0-64-28.8-64-64s28.8-64 64-64 64 28.8 64 64-28.8 64-64 64z"/></symbol><symbol id="game_controller_off" viewBox="0 0 768 768"><path d="M704 560c0 9.5-2.8 18.9-7.6 27.5L500 398.8c3.9.7 7.9 1.2 12 1.2 35.2 0 64-28.8 64-64s-28.8-64-64-64-64 28.8-64 64c0 5 .6 9.8 1.7 14.5L301.3 208H448c0-19.2 12.8-32 32-32h64c19.2 0 32 12.8 32 32 32 0 70.4 32 76.8 64S704 499.2 704 560zM146.9 224.6c-15.8 11.7-28.3 28.7-31.7 47.4C108.8 304 64 496 64 560c0 32 32 64 64 64s64-32 96-64 32-35.2 64-64c32-32 32-32 64-32h44.2m-110-105.6h-7.8V400h-44.8v-41.6H192v-44.8h41.6v-5.8M396.2 464l255 244.9 40.9-42.5-44.7-42.9L214.8 208 96.1 93.9l-40.9 42.5 91.7 88.1"/></symbol><symbol id="game_library" viewBox="0 0 768 768"><path d="M160 96v576h448V96H160zm352 400c-16 0-32-16-48-32l-32-32c-16-16-16-16-32-16h-32c-16 0-16 0-32 16l-32 32c-16 16-32 32-48 32s-32-16-32-32c0-32 22.4-128 25.6-144s22.4-32 38.4-32c0-9.6 6.4-16 16-16h32c9.6 0 16 6.4 16 16h64c0-9.6 6.4-16 16-16h32c9.6 0 16 6.4 16 16 16 0 35.2 16 38.4 32S544 432 544 464c0 16-16 32-32 32zM64 128h64v512H64V128zm576 0h64v512h-64V128z"/></symbol><symbol id="gfe_logo" viewBox="0 0 768 768"><path d="m42.667 608 83.2 83.2h601.6v34.133H110.934l-68.267-68.267z"/><path d="M42.667 42.667v512l102.4 102.4h582.4v-614.4h-684.8zM76.8 539.733V76.8h616.533V192c-179.2 0-332.8 72.533-392.534 125.867l12.8 38.4c10.666 29.867 23.467 59.733 40.533 87.466 2.133 6.4 6.4 10.666 8.534 17.067 38.4 64 85.333 119.467 134.4 164.267H396.799c-53.333-46.933-98.133-98.133-134.4-153.6-25.6 12.8-102.4 14.933-138.667 32 34.133 36.267 74.667 81.067 125.866 121.6h-91.733l-81.067-85.334zm503.467 85.334c-89.6-87.466-128-196.267-140.8-236.8-2.133-10.666-4.267-14.933-4.267-14.933s110.933-83.2 256-108.8v72.533c-46.933 19.2-98.133 44.8-145.067 85.333 0 0 0 4.267 2.133 8.534 6.4 25.6 29.866 100.267 89.6 160-6.4-70.4-4.267-119.467-4.267-134.4v-6.4s21.333-17.067 55.467-36.267v211.2h-108.8z"/></symbol><symbol id="gfe_logo_inverse" viewBox="0 0 768 768"><path d="M437.333 386.133c12.8 38.4 49.067 145.067 136.533 228.267h106.666V411.733c-34.133 19.2-53.333 34.133-53.333 34.133v6.4c0 17.067-2.133 61.867 4.267 130.133-57.6-59.733-81.067-130.133-87.466-155.733-2.133-6.4-2.133-8.534-2.133-8.534 44.8-38.4 93.867-64 138.667-81.067v-70.4c-140.8 23.467-247.467 104.533-247.467 104.533s2.133 6.4 4.267 14.933z"/><path d="M249.6 616.533c-49.066-40.533-87.467-83.2-119.467-119.467 36.267-14.933 108.8-19.2 134.4-29.866 34.133 53.333 78.933 104.534 130.133 149.333h96c-46.933-44.8-93.867-98.133-130.133-160-2.133-4.267-6.4-10.666-8.534-14.933-14.933-25.6-27.733-53.333-38.4-83.2-4.267-12.8-8.534-23.467-12.8-36.267 57.6-51.2 206.933-119.467 379.733-121.6v-115.2h-595.2v448l78.933 81.067h85.333z"/><path d="M42.667 42.667v612.267l70.4 70.4h612.267V42.668H42.668zm672 672h-595.2l-66.133-66.134V601.6l81.067 78.933h580.267v34.133zm0-66.134h-563.2L53.334 548.266V53.333h661.333v595.2z"/></symbol><symbol id="goal" viewBox="0 0 24 24"><g transform="translate(2 6)"><circle cx="10.388" cy="5.993" r="5.62"/><path d="M3.405 9.008H-.003v2.02h4.701a7.632 7.632 0 0 1-1.293-2.02zm-.626-3.015c0-.338.03-.669.073-.996H-.003v2.02h2.859a7.548 7.548 0 0 1-.077-1.024zM4.673.984H-.003v2.02h3.395A7.633 7.633 0 0 1 4.673.984z"/></g><path d="M15.379 1.999h-4.376c5.13 1.031 8.964 5.122 8.964 10.015 0 4.847-3.762 8.908-8.819 9.986h4.173c3.944-1.747 6.683-5.573 6.683-10.013-.001-4.419-2.712-8.229-6.625-9.988Z"/></symbol><symbol id="gpu" viewBox="0 0 768 768"><path d="M64 226.133v46.934h34.133v268.8H140.8V226.134zm128 0V499.2h34.133v46.933H448V499.2h256V226.133H192zm366.933 217.6c-42.667 0-81.067-34.133-81.067-81.067 0-42.667 34.133-81.067 81.067-81.067 42.667 0 81.067 34.133 81.067 81.067 0 42.667-34.133 81.067-81.067 81.067z"/></symbol><symbol id="guage" viewBox="0 0 768 768"><path d="M384 512c-53.019 0-96-42.981-96-96 0-35.84 19.52-67.2 48-83.52l310.72-179.84L469.76 459.2c-16 31.36-48.32 52.8-85.76 52.8zm0-416c57.92 0 112 16 159.04 42.24l-67.2 38.72C448 166.08 416 160 384 160c-141.385 0-256 114.615-256 256 0 70.72 28.48 134.72 74.88 180.8h.32c12.48 12.48 12.48 32.64 0 45.12s-32.96 12.48-45.44.32C99.84 584.32 64 504.32 64 416 64 239.269 207.269 96 384 96zm320 320c0 88.32-35.84 168.32-93.76 226.24-12.48 12.16-32.64 12.16-45.12-.32s-12.48-32.64 0-45.12C611.52 550.4 640 486.72 640 416c0-32-6.08-64-17.28-92.8l38.72-67.2C688 304 704 357.76 704 416z"/></symbol><symbol id="gun" viewBox="0 0 24 24"><path d="M23 6.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 5.342 6.095 5 5.643 5c-.451 0-.817.342-.817.763l.001.007H2.986v2.315L1.496 9.35v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855V7.652H23V6.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202Z"/></symbol><symbol id="gun2x" viewBox="0 0 24 36"><path d="M23 18.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 17.342 6.095 17 5.643 17c-.451 0-.817.342-.817.763l.001.007H2.986v2.315l-1.49 1.265v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855v-2.071H23V18.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202ZM11.94 13.43H5.96v-1.02l2.9-3.16c.24-.27.45-.51.61-.72.16-.21.29-.4.38-.57.1-.17.16-.33.2-.49a1.79 1.79 0 0 0-.03-1.02 1.244 1.244 0 0 0-.67-.75c-.16-.06-.35-.1-.56-.1-.26 0-.48.04-.67.12-.19.08-.35.2-.47.34-.12.15-.22.32-.28.52-.06.2-.1.42-.1.66H5.79c0-.39.07-.76.2-1.1.13-.34.33-.64.58-.9.26-.26.57-.46.95-.61.37-.15.8-.22 1.28-.22.44 0 .84.06 1.19.17.35.11.64.28.88.49.24.21.42.47.54.77a2.712 2.712 0 0 1 .06 1.83c-.09.27-.21.54-.37.81s-.35.54-.57.81c-.22.27-.46.54-.72.82l-1.99 2.13h4.13v1.19h-.01Zm3.6-4.44 1.26-2.17h1.65l-2.02 3.26 2.09 3.35h-1.64l-1.32-2.26-1.31 2.26H12.6l2.09-3.35-2.02-3.26h1.64z"/></symbol><symbol id="gun3x" viewBox="0 0 24 36"><path d="M23 18.21h-.456v-.957H20.82l-.267.517H6.46l.001-.007C6.46 17.342 6.095 17 5.643 17c-.451 0-.817.342-.817.763l.001.007H2.986v2.315l-1.49 1.265v.902h1.312l-1.784 7.632c-.135.574.333 1.116.961 1.116h4.199c.463 0 .864-.301.962-.724l1.182-5.057h3.026c1.644 0 2.982-1.249 2.982-2.784 0-.068-.006-.135-.011-.203h6.363v-.509h1.855v-2.071H23V18.21Zm-9.812 4.225c0 .944-.822 1.712-1.833 1.712H8.58l.448-1.914h4.147c.007.066.013.134.013.202ZM7.67 8.3h.88c.26 0 .48-.03.67-.1.19-.07.34-.16.47-.28.13-.12.22-.26.28-.43.06-.17.09-.35.09-.56 0-.42-.11-.75-.33-.99-.22-.23-.56-.34-1.02-.34-.2 0-.38.03-.54.09-.17.05-.31.14-.44.24-.12.11-.21.24-.28.4-.07.15-.1.32-.1.52H5.86c0-.35.07-.67.21-.97.14-.31.33-.56.59-.78.25-.22.55-.39.9-.51s.72-.19 1.13-.19c.42 0 .81.05 1.16.16.35.11.65.27.9.48.25.22.45.48.59.8.14.32.21.68.21 1.1 0 .18-.03.36-.09.54-.06.18-.14.36-.26.53-.11.17-.26.33-.43.48-.17.15-.37.27-.6.38.27.09.5.21.69.36.19.14.34.31.46.49s.2.38.26.58a2.736 2.736 0 0 1-.15 1.75c-.15.33-.36.6-.63.82-.27.22-.58.39-.95.51s-.76.17-1.18.17c-.39 0-.76-.05-1.11-.16a2.91 2.91 0 0 1-.93-.47c-.27-.21-.48-.47-.64-.78-.16-.31-.24-.68-.24-1.09h1.48c0 .2.03.37.1.54.07.16.17.3.29.42.13.12.28.21.46.27.18.06.38.09.6.09.46 0 .82-.12 1.09-.37.26-.24.4-.6.4-1.06 0-.25-.04-.47-.12-.65-.08-.18-.19-.33-.33-.46-.14-.12-.31-.21-.52-.27-.2-.06-.43-.09-.68-.09h-.85V8.3Zm7.86.69 1.26-2.17h1.65l-2.02 3.26 2.09 3.35h-1.64l-1.32-2.26-1.31 2.26h-1.65l2.09-3.35-2.02-3.26h1.64z"/></symbol><symbol id="heads_up_display" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M23 18h-9v2h2v2H8v-2h2v-2H1V2h22v16ZM21 4H3v12h18V4ZM5 10v4h6v-4H5Z"/></symbol><symbol id="heart" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></symbol><symbol id="help" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></symbol><symbol id="highlights" viewBox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H2v16h20V4h-4Zm-3.5 13.987L12 16.478l-2.5 1.51.7-2.818L8 13.157l2.9-.201 1.1-2.717 1.1 2.717 2.9.201-2.2 1.912.7 2.918Z"/></symbol><symbol id="highlights_disabled" viewBox="0 0 24 24"><path d="M2.27 2 21 20.73 19.73 22l-2.002-2.001L2 20V4.269L1 3.27 2.27 2ZM10 4l2 4h3l-2-4h2l2 4h3.005L18 4h4v15.173l-6.027-6.026.036-.03-.07-.006-6.744-6.74L8 4.001h2Zm.663 8.933-2.645.183 2.198 1.997-.699 2.796 2.497-1.498 2.497 1.498-.36-1.488-3.488-3.488Z"/></symbol><symbol id="home" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></symbol><symbol id="icon_play" viewBox="0 0 20 20"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.667 4.167v11.666L15.833 10 6.667 4.167Z" fill="#fff" fill-opacity=".9"/></symbol><symbol id="image" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 21V3H3v18h18zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></symbol><symbol id="image_off" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.67 22.084 1.914 3.328l1.414-1.414L22.084 20.67l-1.414 1.414Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.328 17.2V3h-14.2l14.2 14.2ZM4.3 3h-.972v18h18v-.972L19.301 18H5.327l3.5-4.5 2.5 3.01 2.833-3.65L4.3 3Z" fill="#fff"/></symbol><symbol id="ime" viewBox="0 0 24 24"><g fill="#FFF"><path d="M13.912 14.884h-.905V13.11H15.9a4.157 4.157 0 0 0-.302-.51l.92-.279c.186.233.372.542.472.79h2.662v1.772H18.7v-.905h-4.79v.905Zm5.795 2.5h-2.886v1.167c0 .495-.116.743-.495.882-.371.148-.867.155-1.5.155a3.363 3.363 0 0 0-.403-.936c.479.016 1.06.016 1.214.016.155 0 .201-.031.201-.14v-1.145h-2.87v-.874h2.87v-.41a5.31 5.31 0 0 0 .945-.635H14.29v-.859h3.42l.21-.046.61.48a7.772 7.772 0 0 1-1.71 1.338v.132h2.886v.874Z"/><path d="M20.232 2c.942 0 1.71.735 1.768 1.658v16.574c0 .936-.729 1.71-1.658 1.762l-.11.006H3.774c-.942 0-1.71-.735-1.768-1.665L2 20.232V3.768c0-.942.735-1.71 1.665-1.768h16.567Zm.626 1.258-.013.045a.804.804 0 0 1-.174.284L3.503 20.8a.695.695 0 0 1-.155.116c.104.058.22.103.342.116h16.542a.8.8 0 0 0 .8-.722l.007-.078V3.768a.83.83 0 0 0-.18-.51Zm-12.364 1.2H7.298L4.967 10.72h1.372l.43-1.29h2.263l.434 1.29h1.373L8.494 4.458ZM7.896 6.04l.787 2.344H7.118l.778-2.344Z"/></g></symbol><symbol id="info" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm1 15h-2v-6h2v6Zm0-8h-2V7h2v2Z"/></symbol><symbol id="ios_share" viewBox="0 0 44 44"><path d="m21 7-2.65 3.41a.931.931 0 0 1-.72.342c-.538 0-.944-.427-.944-1.012 0-.298.117-.527.314-.74l4.155-4.659C21.417 4.056 21.738 4 22 4s.415.056.676.341l4.432 4.645c.196.213.302.442.302.74 0 .585-.408 1.012-.958 1.012a.925.925 0 0 1-.708-.342L23 7v17c0 .598-.436 1-1 1-.564 0-1-.402-1-1V7ZM9 17.667c0-3.045 1.538-4.583 4.6-4.583L17 13v1.993h-3.686c-1.464 0-2.27.798-2.27 2.335l-.042 15.259c0 1.537.533 2.413 1.998 2.413h17.727C32.178 35 33 34.467 33 32.93l.042-15.26c0-1.536-.591-2.677-2.042-2.677h-4V13l3.4.084c3.062 0 4.6 1.538 4.6 4.583v14.75C35 35.464 33.462 37 30.4 37H13.6C10.538 37 9 35.463 9 32.418V17.667Z"/></symbol><symbol id="isp" viewBox="0 0 768 768"><path d="M384 64c-141.385 0-256 114.615-256 256 0 128.96 96 237.44 224 253.76V608h-32c-17.673 0-32 14.327-32 32H64v64h224c0 17.673 14.327 32 32 32h128c17.673 0 32-14.327 32-32h224v-64H480c0-17.673-14.327-32-32-32h-32v-34.24c128-16 224-124.8 224-253.76 0-141.385-114.615-256-256-256zm0 64s23.68 40.96 40.32 96h-80.64c16.64-55.04 40.32-96 40.32-96zm-71.36 13.76c-8.64 16-21.76 45.12-32.96 82.24h-61.76c22.08-37.12 54.08-66.24 94.72-82.24zm142.72.32c40.64 16 72.64 44.8 94.72 81.92h-61.76c-11.2-37.12-24.32-66.24-32.96-81.92zM194.88 288h71.36c-1.28 10.56-2.24 21.12-2.24 32s.96 21.44 2.24 32h-71.36c-1.92-10.56-2.88-21.12-2.88-32s.96-21.44 2.88-32zm135.36 0h107.52c1.28 10.56 2.24 21.12 2.24 32s-.96 21.44-2.24 32H330.24c-1.28-10.56-2.24-21.12-2.24-32s.96-21.44 2.24-32zm171.52 0h71.36c1.92 10.56 2.88 21.12 2.88 32s-.96 21.44-2.88 32h-71.36c1.28-10.56 2.24-21.12 2.24-32s-.96-21.44-2.24-32zM217.92 416h61.76c11.2 37.12 24.32 66.24 32.96 81.92-40.64-16-72.64-44.8-94.72-81.92zm125.76 0h80.64C407.68 471.04 384 512 384 512s-23.68-40.96-40.32-96zm144.64 0h61.76C528 453.12 496 482.24 455.36 498.24c8.64-16 21.76-45.12 32.96-82.24z"/></symbol><symbol id="keyboard" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M22 5H2.01L2 19h20V5zM11 8h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"/></symbol><symbol id="keyboard_arrow_left" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/></symbol><symbol id="keyboard_arrow_right" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></symbol><symbol id="keyboard_hide_icon" viewBox="0 0 20 20"><g id="Client-IME" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="11&#x2033;-iPad-Pro--Client-IME---portrait---snackbar" transform="translate(-780 -613)"><g id="Components-/-Button-/-Contained-icon-/-Active-Copy" transform="translate(762 594)"><g id="keyboard_hide" transform="translate(16 16)"><path id="Path" d="M0 0h24v24H0z"/><path d="M22 3H2.01L2 17h20V3ZM11 6h2v2h-2V6Zm0 3h2v2h-2V9ZM8 6h2v2H8V6Zm0 3h2v2H8V9Zm-1 2H5V9h2v2Zm0-3H5V6h2v2Zm9 7H8v-2h8v2Zm0-4h-2V9h2v2Zm0-3h-2V6h2v2Zm3 3h-2V9h2v2Zm0-3h-2V6h2v2Zm-7 15 4-4H8l4 4Z" id="Shape" fill="#FFF"/></g></g></g></g></symbol><symbol id="laptop" viewBox="0 0 32 32"><path d="M3 26v-2.235h4.47v-1.118H5.236V7h22.353v15.647h-2.235v1.118h4.47V26H3Zm4.47-5.588h17.883V9.235H7.47v11.177Z" fill="currentColor"/></symbol><symbol id="launch" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 19H5V5h7V3H3v18h18v-9h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></symbol><symbol id="link" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8zm9-4h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z"/></symbol><symbol id="link_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M14.39 11 16 12.61V11zM17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.27-.77 2.37-1.87 2.84l1.4 1.4A4.986 4.986 0 0 0 22 12c0-2.76-2.24-5-5-5zM2 4.27l3.11 3.11A4.991 4.991 0 0 0 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4.01 1.41-1.41L3.41 2.86 2 4.27z"/></symbol><symbol id="lock" viewBox="0 0 24 24"><g fill="none"><path d="M0 0h24v24H0V0z"/><path d="M0 0h24v24H0V0z" opacity=".87"/></g><path d="M20 8h-3V6.21c0-2.61-1.91-4.94-4.51-5.19A5.008 5.008 0 0 0 7 6v2H4v14h16V8zm-8 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"/></symbol><symbol id="logout" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M14.6 15.6 16 17l5-5-5-5-1.4 1.4 2.6 2.6H7.5v2h9.7l-2.6 2.6ZM3 21h18v-3.976h-2V19H5V5h14v2.031h2V3H3v18Z"/></symbol><symbol id="medal" viewBox="0 0 24 24"><path d="M3.79 2h16.42v1.59H3.79zm0 3.18v11L12 22l8.21-5.82v-11H3.79Zm11.25 11.5L12 15.08l-3.04 1.6.58-3.39-2.46-2.4 3.4-.49L12 7.32l1.52 3.08 3.4.49-2.46 2.4.58 3.39Z"/></symbol><symbol id="memory" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V5h-4V3h-2v2h-2V3H9v2H5v4H3v2h2v2H3v2h2v4h4v2h2v-2h2v2h2v-2h4v-4h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/></symbol><symbol id="menu" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></symbol><symbol id="message" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22 2H2.01L2 22l4-4h16V2zm-4 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></symbol><symbol id="mic" viewBox="0 0 24 24"><path d="M12 14c1.7 0 3-1.3 3-3V5c0-1.7-1.3-3-3-3S9 3.3 9 5v6c0 1.7 1.3 3 3 3zm5.3-3c0 3-2.5 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.4 2.7 6.2 6 6.7V21h2v-3.3c3.3-.5 6-3.3 6-6.7h-1.7z"/></symbol><symbol id="mic_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 10.6V5c0-1.66-1.34-3-3-3-1.54 0-2.79 1.16-2.96 2.65L15 10.6zm4 .4h-1.7c0 .58-.1 1.13-.27 1.64l1.27 1.27c.44-.88.7-1.87.7-2.91zM4.41 2.86 3 4.27l6 6V11c0 1.66 1.34 3 3 3 .23 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28a7.13 7.13 0 0 0 2.55-.9l4.2 4.2 1.41-1.41L4.41 2.86z"/></symbol><symbol id="montage" viewBox="0 0 24 24"><path d="m5 4 2 4h3L8 4h2l2 4h3l-2-4h2l2 4h3l-2-4h4v16H2V4h3Zm4.5 7-1.1 2.4L6 14.5l2.4 1.1L9.5 18l1.1-2.4 2.4-1.1-2.4-1.1L9.5 11Zm6-1.5-.8 1.7-1.7.8 1.7.8.8 1.7.8-1.7L18 12l-1.7-.8-.8-1.7Z"/></symbol><symbol id="more_horiz" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></symbol><symbol id="more_vert" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></symbol><symbol id="movie" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"/></symbol><symbol id="network_signal" viewBox="0 0 768 768"><path d="M611.875 130.56c139.852 140.084 139.852 367.028 0 506.88l-46.08-46.08c114.509-114.509 114.509-300.212 0-414.72l46.08-46.08zm-92.159 92.16c88.934 89.165 88.934 233.626 0 322.56l-46.08-46.08c63.59-63.59 63.59-166.81 0-230.4l46.08-46.08zM156.125 637.44c-139.853-140.083-139.853-367.027 0-506.88l46.08 46.08c-114.508 114.509-114.508 300.212 0 414.72l-46.08 46.08zm92.159-92.16c-88.934-89.164-88.934-233.626 0-322.56l46.08 46.08c-63.59 63.59-63.59 166.81 0 230.4l-46.08 46.08zM384 445.44c-33.932 0-61.44-27.508-61.44-61.44s27.508-61.44 61.44-61.44 61.44 27.508 61.44 61.44-27.508 61.44-61.44 61.44z"/></symbol><symbol id="nvidia-logo-horiz-rgb-wht-for-screen" viewBox="0 0 82 15.13"><path d="M8.53 4.52V3.15c.13 0 .27-.02.4-.02 3.74-.12 6.19 3.21 6.19 3.21s-2.65 3.68-5.49 3.68c-.41 0-.78-.07-1.11-.18V5.7c1.46.18 1.75.82 2.62 2.28l1.95-1.64s-1.42-1.86-3.82-1.86c-.26 0-.51.02-.75.04m0-4.52v2.04c.13-.01.27-.02.4-.02 5.2-.18 8.59 4.26 8.59 4.26s-3.89 4.73-7.94 4.73c-.37 0-.72-.03-1.05-.09v1.26c.28.04.57.06.87.06 3.77 0 6.5-1.93 9.14-4.21.44.35 2.23 1.2 2.6 1.58-2.51 2.1-8.36 3.8-11.68 3.8-.32 0-.63-.02-.93-.05v1.77h14.34V0H8.53zm0 9.84v1.08c-3.49-.62-4.46-4.25-4.46-4.25s1.67-1.86 4.46-2.16v1.18c-1.46-.18-2.6 1.19-2.6 1.19s.64 2.3 2.61 2.96M2.34 6.51s2.07-3.05 6.2-3.37V2.03C3.96 2.41 0 6.28 0 6.28s2.24 6.48 8.53 7.08v-1.18c-4.62-.58-6.2-5.67-6.2-5.67z" fill="#76b900"/><path d="M48.69 2.86v9.93h2.81V2.86zm-22.07-.01v9.94h2.83V5.24h2.19c.73 0 1.24.18 1.59.55.44.47.62 1.24.62 2.63v4.37h2.74V7.3c0-3.92-2.5-4.45-4.95-4.45H26.6m26.58.01v9.93h4.55c2.42 0 3.22-.4 4.07-1.31.6-.63 1-2.03 1-3.55 0-1.4-.33-2.64-.91-3.42-1.04-1.39-2.54-1.66-4.77-1.66h-3.94zm2.78 2.16h1.21c1.75 0 2.88.79 2.88 2.82s-1.13 2.83-2.88 2.83h-1.21zM44.62 2.86l-2.34 7.87-2.24-7.87h-3.03l3.2 9.93h4.04l3.23-9.93zm19.48 9.93h2.81V2.86H64.1zm7.86-9.93-3.92 9.93h2.77l.62-1.75h4.64l.59 1.75h3l-3.95-9.93zm1.82 1.81 1.7 4.65h-3.45zm7.34 8.42c-.48 0-.88-.39-.88-.88s.39-.88.88-.88.88.39.88.88-.39.88-.88.88zm0-1.58c-.39 0-.7.3-.7.71s.3.71.7.71.7-.3.7-.71-.3-.71-.7-.71zm.16 1.17-.17-.36h-.1v.36h-.21v-.93h.38c.19 0 .31.14.31.29 0 .13-.08.21-.17.25l.2.39zm-.12-.76h-.15v.24h.15c.08 0 .13-.06.13-.12s-.05-.12-.13-.12z" fill="#fff"/></symbol><symbol id="nvidia_logo_green" viewBox="0 0 44 44"><g fill="none"><path fill="#76B900" d="M7 37h30V7H7z"/><path fill="#FFF" d="M13.248 21.027s1.989-2.822 5.96-3.114v-1.024C14.81 17.229 11 20.811 11 20.811s2.157 5.999 8.208 6.548v-1.088c-4.44-.538-5.96-5.244-5.96-5.244Zm5.96 3.079v.997c-3.356-.576-4.287-3.93-4.287-3.93s1.611-1.717 4.287-1.996v1.094h-.005c-1.404-.162-2.501 1.1-2.501 1.1s.614 2.124 2.506 2.735Zm0-9.106v1.889c.13-.01.259-.018.389-.022 5.001-.162 8.26 3.944 8.26 3.944s-3.743 4.377-7.642 4.377c-.358 0-.692-.032-1.007-.085v1.168c.27.032.548.052.838.052 3.629 0 6.253-1.782 8.794-3.891.421.324 2.146 1.113 2.5 1.46-2.416 1.944-8.046 3.512-11.238 3.512-.307 0-.603-.018-.894-.045V29H33V15H19.208Zm0 4.177v-1.264c.128-.009.257-.015.389-.02 3.596-.108 5.956 2.972 5.956 2.972s-2.549 3.405-5.281 3.405c-.394 0-.746-.062-1.064-.164V20.27c1.4.163 1.682.758 2.524 2.107l1.872-1.518s-1.366-1.724-3.67-1.724c-.25 0-.49.017-.726.041Z"/></g></symbol><symbol id="nvidia_symbol" viewBox="0 0 768 768"><path d="M302.933 298.666v-38.4h12.8c106.667-4.267 174.933 89.6 174.933 89.6s-72.533 102.4-153.6 102.4c-12.8 0-21.333 0-29.866-4.267v-115.2c42.667 4.267 46.934 21.333 72.533 64l55.467-46.933s-38.4-51.2-106.667-51.2h-25.6zm0-127.999v55.467h12.8c145.066-4.267 238.934 123.733 238.934 123.733S443.734 482.134 332.801 482.134c-8.534 0-21.333 0-29.867-4.267V512h25.6c106.667 0 183.467-55.467 256-119.467 12.8 8.534 64 34.133 72.533 42.667C588.8 494.933 422.4 541.867 328.534 541.867h-25.6v55.467h401.067V170.667H302.934zm0 277.333v29.867C204.8 460.8 179.2 358.4 179.2 358.4s46.933-51.2 123.733-59.733V332.8c-42.667-4.267-72.533 34.133-72.533 34.133s17.067 64 72.533 81.067zM128 354.134s59.733-85.334 174.933-93.867V230.4C174.933 238.934 64 349.867 64 349.867s64 183.467 238.933 196.267v-34.133C174.933 499.201 128 354.134 128 354.134z"/></symbol><symbol id="open_in_full" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21v-8h2v4.6L17.6 5H13V3h8v8h-2V6.4L6.4 19H11v2H3Z"/></symbol><symbol id="open_in_new" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 19H5V5h7V3H3v18h18v-9h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/></symbol><symbol id="optimize_all" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 27C21.299 27 26 22.299 26 16.5S21.299 6 15.5 6 5 10.701 5 16.5 9.701 27 15.5 27ZM7.1 16.753l4.063 3.947 1.025-.978-4.063-3.947-1.025.978Zm4.063 0 4.064 3.947 7.623-7.405-1.007-.995-6.616 6.427-3.057-2.97-1.007.996Zm3.039-.978 1.025.978 3.56-3.458-1.025-.977-3.56 3.457Z"/></symbol><symbol id="pan_zoom" viewBox="0 0 24 24"><path d="M16.256 11.498h-1.072V6h-2.976v10.239l-4.007-.85L7 16.619 12.337 22h8.601L22 14.378zM11 6V2H7l1.645 1.645-5 5L2 7v4h4L4.355 9.355l5-5z" fill-rule="evenodd"/></symbol><symbol id="pause" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></symbol><symbol id="perm_scan_wifi" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 3C6.95 3 3.15 4.85 0 7.23L12 22 24 7.25C20.85 4.87 17.05 3 12 3zm1 13h-2v-6h2v6zm-2-8V6h2v2h-2z"/></symbol><symbol id="person" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4Zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4Z"/></symbol><symbol id="photo_camera" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle cx="12" cy="12" r="3"/><path d="M9 2 7.17 4H2v16h20V4h-5.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"/></symbol><symbol id="picture_in_picture" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M19 7h-8v6h8V7zm4-4H1v17.98h22V3zm-2 16.01H3V4.98h18v14.03z"/></symbol><symbol id="play_arrow" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8 5v14l11-7L8 5z"/></symbol><symbol id="play_circle_filled" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/></symbol><symbol id="play_circle_outline" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></symbol><symbol id="power" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M16 7V3h-2v4h-4V3H8v4H6v7.5L9.5 18v3h5v-3l3.5-3.51V7h-2z"/></symbol><symbol id="quality_high" viewBox="0 0 24 24"><path d="M21 3H3v18h18V3ZM11 15H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6Zm7-1a1 1 0 0 1-1 1h-.75v1.5h-1.5V15H14a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v4Zm-3.5-.5h2v-3h-2v3Z"/></symbol><symbol id="quiet_mode" viewBox="0 0 24 24"><path d="M3 3h18v18H3V3Zm9.028 16.792c4.243 0 7.764-3.52 7.764-7.764 0-4.333-3.52-7.764-7.764-7.764-4.333 0-7.764 3.521-7.764 7.764 0 4.334 3.521 7.764 7.764 7.764Zm-5.326-8.486c-.542-.361-.723-1.083-.452-1.896.271-.813.722-1.625.722-1.625 0-.09.181-.09.271 0 .632.903 1.264 1.625 1.896 2.076.09.09.18.09.271.181-.361.542-.632 1.264-.632 1.986-.18 0-.361-.09-.542-.09-.541-.09-.993-.361-1.534-.632Zm3.701-2.077c-.09-.18-.18-.36-.09-.632-.18-.45-.18-.993-.18-1.625s.541-1.173 1.354-1.354c.812-.18 1.715-.18 1.715-.18.18 0 .27.18.18.27-.541.994-.812 1.896-.902 2.709v.361h-.452c-.632 0-1.173.18-1.625.451ZM9.05 13.292c.27.632.722 1.174 1.444 1.535-.09.18-.18.27-.36.451a5.26 5.26 0 0 1-1.355.993c-.451.271-1.264.09-1.806-.541-.541-.632-.993-1.445-.993-1.445-.09-.09-.09-.27.09-.27 1.084 0 1.987-.181 2.71-.542.09-.09.18-.09.27-.18Zm4.604 1.535c.09.09.09.27.09.632.181.451.181.993.181 1.625s-.542 1.174-1.354 1.354c-.813.18-1.715.18-1.715.18-.181 0-.271-.18-.181-.27.542-.993.813-1.896.903-2.709v-.36h.451c.632 0 1.174-.181 1.625-.452Zm4.514-5.056c.09.09 0 .271-.18.271-1.084 0-1.986.18-2.709.542-.09.09-.18.09-.27.18a3.187 3.187 0 0 0-1.355-1.535c.09-.18.18-.27.361-.45a5.26 5.26 0 0 1 1.355-.994c.451-.27 1.264-.09 1.805.542.542.632.993 1.444.993 1.444Zm-.812 2.98c.451.27.722 1.083.451 1.895-.27.813-.722 1.625-.722 1.625 0 .09-.18.09-.27 0-.633-.902-1.265-1.625-1.897-2.076-.09-.09-.18-.09-.27-.18.36-.542.631-1.265.631-1.987.18 0 .361 0 .542.09.542.09.993.362 1.535.632Zm-2.709-.723a2.618 2.618 0 1 1-5.236 0 2.618 2.618 0 0 1 5.236 0Z"/></symbol><symbol id="ram" viewBox="0 0 768 768"><path d="M64 256h640v256H64V256zm0-93.867h64v64H64v-64zm576 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zm-93.867 0h64v64h-64v-64zm-93.866 0h64v64h-64v-64zm-98.134 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zM64 546.134h64v64H64v-64zm576 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64zm-93.867 0h64v64h-64v-64zm-93.866 0h64v64h-64v-64zm-98.134 0h64v64h-64v-64zm-98.133 0h64v64h-64v-64z"/></symbol><symbol id="ranking_gold" viewBox="0 0 768 768"><path d="M70.4 560V208L384 32l313.6 176zm627.2-243.2v70.4L230.4 649.6l-64-35.2zm-368 390.4L384 736l313.6-176v-60.8z"/></symbol><symbol id="ranking_silver" viewBox="0 0 768 768"><path d="M697.6 387.2V208L384 32 70.4 208v352l160 89.6zm-368 320L384 736l313.6-176v-60.8z"/></symbol><symbol id="ranking_titanium" viewBox="0 0 768 768"><path d="M697.6 316.8v70.4L230.4 649.6l-64-35.2zm-368 390.4L384 736l313.6-176v-60.8zm368-499.2L384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M262.4 454.4V313.6L384 246.4l121.6 67.2-243.2 140.8z"/></symbol><symbol id="ranking_token" viewBox="0 0 768 768"><path d="m288 438.4 96 54.4 96-54.4V329.6l-96-54.4-96 54.4v108.8z"/><path d="M697.6 208 384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M70.4 560 384 736l313.6-176V208l-80 44.8v262.4L384 646.4 150.4 515.2z"/></symbol><symbol id="ranking_xp" viewBox="0 0 768 768"><path d="M697.6 208 384 32 70.4 208v352l80-44.8V252.8L384 121.6l233.6 131.2z"/><path d="M70.4 560 384 736l313.6-176V208l-80 44.8v262.4L384 646.4 150.4 515.2z"/><path d="M345.6 278.4h44.8l-67.2 102.4 70.4 112h-51.2l-44.8-73.6-48 73.6h-44.8L275.2 384l-64-105.6h51.2l41.6 67.2 41.6-67.2zM572.8 368c0 19.2-16 35.2-35.2 35.2h-80v86.4H416V278.4h121.6c19.2 0 35.2 16 35.2 35.2V368zm-115.2-3.2h64c6.4 0 9.6-3.2 9.6-9.6v-28.8c0-6.4-3.2-9.6-9.6-9.6h-64v48z"/></symbol><symbol id="record" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15 12c0 1.7-1.3 3-3 3s-3-1.3-3-3 1.3-3 3-3 3 1.4 3 3z"/><path d="m23.3 11.9-2.3-.6C20.6 6.7 16.7 3 12 3c-5 0-9 4-9 9 0 4.4 3.1 8 7.2 8.8.3.7 1 1.2 1.8 1.2 1.1 0 2-.9 2-2s-.9-2-2-2c-.7 0-1.2.3-1.6.8C7.3 18.1 5 15.4 5 12c0-3.9 3.1-7 7-7s7 3.1 7 7c0 1-.2 2-.6 2.8l4.9-2.9z"/></symbol><symbol id="recordings" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M8.8 18.2C6.5 17 5 14.7 5 12c0-3.9 3.1-7 7-7l1.1.1L9 1v2.5C5.6 4.8 3 8.1 3 12c0 4.8 3.8 8.7 8.5 9l-2.7-2.8z"/><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M15.4 5.8c2.2 1.2 3.8 3.5 3.8 6.2 0 3.9-3.1 7-7 7l-1.2-.1 4.1 4.1v-2.5c3.5-1.2 6-4.6 6-8.5 0-4.8-3.8-8.7-8.5-9l2.8 2.8z"/><path d="M12 6c-3.3 0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm0 11c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5z"/></symbol><symbol id="record_disabled" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M9.76 5.42 8.24 3.9a8.89 8.89 0 0 1 3.83-.86c4.69 0 8.58 3.69 8.98 8.28l2.28.59-4.45 2.63-.23-.23c.26-.7.4-1.5.4-2.3 0-3.89-3.09-6.98-6.98-6.98-.82 0-1.59.14-2.31.39Zm2.31 9.59c-1.7 0-2.99-1.3-2.99-2.99 0-.47.1-.91.28-1.3L6.48 7.84a6.928 6.928 0 0 0-1.39 4.18c0 3.39 2.3 6.08 5.39 6.78.4-.5.9-.8 1.6-.8 1.1 0 2 .9 2 2s-.9 2-2 2c-.8 0-1.5-.5-1.8-1.2a8.903 8.903 0 0 1-7.18-8.78c0-2.13.73-4.08 1.95-5.61L3 4.36l1.42-1.42 16.71 16.71-1.42 1.42-6.34-6.34c-.39.18-.83.28-1.3.28Z"/></symbol><symbol id="remote" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15 9H9c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V10c0-.55-.45-1-1-1zm-3 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM7.05 6.05l1.41 1.41a5.022 5.022 0 0 1 7.08 0l1.41-1.41C15.68 4.78 13.93 4 12 4s-3.68.78-4.95 2.05zM12 0C8.96 0 6.21 1.23 4.22 3.22l1.41 1.41C7.26 3.01 9.51 2 12 2s4.74 1.01 6.36 2.64l1.41-1.41C17.79 1.23 15.04 0 12 0z"/></symbol><symbol id="remove_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/></symbol><symbol id="replay" viewBox="0 0 24 24"><path d="M8.8 18.2C6.5 17 5 14.7 5 12c0-3.9 3.1-7 7-7l1.1.1L9 1v2.5C5.6 4.8 3 8.1 3 12c0 4.8 3.8 8.7 8.5 9l-2.7-2.8z"/><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M15.4 5.8c2.2 1.2 3.8 3.5 3.8 6.2 0 3.9-3.1 7-7 7l-1.2-.1 4.1 4.1v-2.5c3.5-1.2 6-4.6 6-8.5 0-4.8-3.8-8.7-8.5-9l2.8 2.8z"/></symbol><symbol id="replay_disabled" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 12.02c0-3.29-2.29-6.05-5.35-6.8l-2.17-2.17c.17-.01.34-.03.51-.03 4.96 0 8.99 4.02 8.99 8.99 0 1.38-.31 2.69-.87 3.86l-1.52-1.52c.26-.73.41-1.51.41-2.33Zm-9.34-6.6L7.99 3.75V.98l4 4 .03.03h-.03c-.82 0-1.6.15-2.33.41Zm11.37 14.23-1.44 1.42-2.02-2.02c-.51.41-1.06.76-1.65 1.05v2.89l-4-4h.29c1.48-.05 2.82-.57 3.93-1.39l-2.88-2.88a3.039 3.039 0 0 1-4.05-4.05L6.38 7.84a6.973 6.973 0 0 0-1.4 4.17c0 3.29 2.28 6.05 5.34 6.8l2.17 2.17c-.17.01-.33.03-.5.03-4.96 0-8.99-4.02-8.99-8.99 0-2.12.73-4.06 1.95-5.6L2.89 4.36l1.42-1.42 16.72 16.71Z"/></symbol><symbol id="reset" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M13 3a9 9 0 0 0-9 9H1l4 3.99L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18Z"/></symbol><symbol id="retry" viewBox="0 0 24 24"><path d="M12 4V0l5 5-5 5V6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6h2c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8"/></symbol><symbol id="rewards" viewBox="0 0 768 768"><path d="M448 384v251.733l-64-64-64 64V384H96v320h576V384zm42.666-128C539.732 249.6 576 211.2 576 160c0-53.333-42.667-96-96-96-49.067 0-89.6 38.4-96 85.334-6.4-49.066-49.067-85.333-96-85.333-55.467 0-96 42.667-96 96 0 49.066 38.4 89.6 87.466 96H63.999v96h256v-96h128v96h256v-96H490.666zM320 192h-32c-19.2 0-32-14.933-32-32s17.067-32 32-32c19.2 0 32 17.067 32 32v32zm123.733 0v-32c0-19.2 17.067-32 32-32 19.2 0 32 17.067 32 32s-14.933 32-32 32h-32z"/></symbol><symbol id="save" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 3H3v18h18V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></symbol><symbol id="score_graph_L0" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Z" fill="#FE1B0B"/></symbol><symbol id="score_graph_L1" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.046 11.203L13.18 13.18Z" fill="#FFB43E"/></symbol><symbol id="score_graph_L2" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0Z" fill="#A3DC2B"/></symbol><symbol id="score_graph_L3" viewBox="0 0 92 55"><path d="M0 45a45 45 0 0 1 13.18-31.82l4.773 4.773A38.25 38.25 0 0 0 6.75 45H0Zm76.82-31.82A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#494949"/><path d="M45 0a45 45 0 0 1 31.82 13.18l-4.773 4.773A38.25 38.25 0 0 0 45 6.75V0ZM13.18 13.18A45 45 0 0 1 45 0v6.75a38.25 38.25 0 0 0-27.047 11.203L13.18 13.18Z" fill="#494949"/><path d="M76.82 13.18A45 45 0 0 1 90 45h-6.75a38.25 38.25 0 0 0-11.203-27.047l4.773-4.773Z" fill="#76B900"/></symbol><symbol id="search" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></symbol><symbol id="send" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"/></symbol><symbol id="settings" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="m19.44 12.99-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></symbol><symbol id="share" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/></symbol><symbol id="shield_tv" viewBox="0 0 768 768"><path d="M533.832 482.28 223.68 292.032 45.912 592.416h422.736zM723.84 161.232H56.448l489.624 300.312zM203.16 279.456 31.872 174.384v394.464zm363.456 194.688 169.872 104.184v-391.2zm-12.264 20.712-57.696 97.536H713.4l-159.048-97.536zm-6.12 73.392V537.72h39.456v30.528h-39.456z"/></symbol><symbol id="shopping" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 6h-4c0-2.76-2.24-5-5-5S7 3.24 7 6H3v16h18V6zm-9-3c1.66 0 3 1.34 3 3H9c0-1.66 1.34-3 3-3zm0 10c-2.76 0-5-2.24-5-5h2c0 1.66 1.34 3 3 3s3-1.34 3-3h2c0 2.76-2.24 5-5 5z"/></symbol><symbol id="signal_wifi_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M23.64 7c-.45-.34-4.93-4-11.64-4-1.32 0-2.55.14-3.69.38L18.43 13.5 23.64 7zM3.41 1.31 2 2.72l2.05 2.05C1.91 5.76.59 6.82.36 7L12 21.5l3.91-4.87 3.32 3.32 1.41-1.41L3.41 1.31z"/></symbol><symbol id="social_share" viewBox="0 0 16 16"><path d="M8.5 8.068c-.38 0-.72.15-.98.387L3.955 6.37A1.65 1.65 0 0 0 4 6.021c0-.121-.02-.237-.045-.352L7.48 3.605c.27.251.625.407 1.02.407.83 0 1.5-.673 1.5-1.506a1.501 1.501 0 1 0-3 0c0 .12.02.236.045.351L3.52 4.921a1.49 1.49 0 0 0-1.02-.407c-.83 0-1.5.673-1.5 1.506s.67 1.506 1.5 1.506c.395 0 .75-.156 1.02-.407l3.56 2.089a1.42 1.42 0 0 0-.04.326c0 .808.655 1.466 1.46 1.466.805 0 1.46-.658 1.46-1.466 0-.808-.655-1.466-1.46-1.466Z"/></symbol><symbol id="sort" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/></symbol><symbol id="space_bar" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M18 9v4H6V9H4v6h16V9z"/></symbol><symbol id="star_circle" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/></symbol><symbol id="star_filled" viewBox="0 0 24 24"><path d="m22 9.2-7.2-.6L12 2 9.2 8.6 2 9.2 7.5 14l-1.6 7 6.2-3.7 6.2 3.7-1.6-7L22 9.2z"/></symbol><symbol id="steam_logo_icon" viewBox="0 0 93 93"><path fill-rule="evenodd" d="M46.422 1C71.594 1 92 21.37 92 46.5 92 71.629 71.594 92 46.422 92 25.556 92 7.979 78 2.569 58.9l17.471 7.21c1.184 5.893 6.405 10.343 12.65 10.343 7.114 0 12.901-5.777 12.901-12.88 0-.203-.006-.408-.014-.61l15.494-11.037c.13.004.26.007.39.007 9.478 0 17.19-7.7 17.19-17.16 0-9.462-7.712-17.16-17.19-17.16-9.479 0-17.19 7.698-17.19 17.16l.003.222-10.865 15.719a12.834 12.834 0 0 0-7.98 2.22L1 42.85C2.864 19.43 22.479 1 46.422 1ZM29.263 54.515a9.665 9.665 0 0 1 7.136.108 9.612 9.612 0 0 1 5.229 5.243 9.585 9.585 0 0 1-.015 7.396c-2.054 4.92-7.735 7.255-12.66 5.206a9.639 9.639 0 0 1-4.99-4.737l5.6 2.309c3.634 1.512 7.808-.204 9.322-3.831a7.112 7.112 0 0 0-3.838-9.306Zm32.198-31.177c6.316 0 11.454 5.13 11.454 11.435 0 6.304-5.138 11.433-11.454 11.433-6.315 0-11.454-5.13-11.454-11.433 0-6.304 5.139-11.435 11.454-11.435Zm.02 2.827c-4.752 0-8.605 3.844-8.605 8.588 0 4.743 3.853 8.588 8.604 8.588 4.752 0 8.604-3.845 8.604-8.588 0-4.744-3.852-8.588-8.604-8.588Z"/></symbol><symbol id="stop" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M6 6h12v12H6V6z"/></symbol><symbol id="storage" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M2 20h20v-4H2v4zm2-3h2v2H4v-2zM2 4v4h20V4H2zm4 3H4V5h2v2zm-4 7h20v-4H2v4zm2-3h2v2H4v-2z"/></symbol><symbol id="sword" viewBox="0 0 24 24"><path d="m11.05 15.97 10.23-9.55L22 2l-4.42.72-9.55 10.23-1.6-1.59-1.31 1.31 6.21 6.21 1.31-1.31zm-8.04 5.02c-.83-.83-.83-2.19 0-3.02l2.65-2.65 3.02 3.02-2.65 2.65c-.83.83-2.18.83-3.02 0Z"/></symbol><symbol id="sync" viewBox="0 0 24 24"><path fill="none" d="M.01 0h24v24h-24V0z"/><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></symbol><symbol id="tablet" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="M21 0H3v24h18V0zm-7 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z"/></symbol><symbol id="tag" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M22.83 12.99 11.83 2H2v9.83l10.99 10.99 9.84-9.83zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/></symbol><symbol id="thick_arrow_dash_up" viewBox="0 0 24 24"><path d="M7.027 14.513H0L12.009 0 24 14.513h-6.995v3.44H7.027Zm-.001 5.803h9.978v3.495H7.026Z" fill="#fff"/></symbol><symbol id="thick_arrow_up" viewBox="0 0 24 24"><path fill="#fff" d="M7.027 14.513H0L12.009 0 24 14.513h-6.995V24H7.027v-9.487z"/></symbol><symbol id="time" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2ZM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8Zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7Z"/></symbol><symbol id="tune" viewBox="0 0 24 24"><path d="M3 17v2h6v-2H3ZM3 5v2h10V5H3Zm10 16v-2h8v-2h-8v-2h-2v6h2ZM7 9v2H3v2h4v2h2V9H7Zm14 4v-2H11v2h10Zm-6-4h2V7h4V5h-4V3h-2v6Z"/></symbol><symbol id="upload" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M19 12V5H5v7H3V3h18v9h-2Zm-6-.67 2.59 2.58L17 12.5l-5-5-5 5 1.41 1.41L11 11.33V21h2v-9.67Z"/></symbol><symbol id="video" viewBox="0 0 24 24"><path d="m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H2v16h20V4z"/></symbol><symbol id="videocam" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M17 10.5V6H3v12h14v-4.5l4 4v-11l-4 4z"/></symbol><symbol id="videocam_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M21 16.61V6.5l-4 4V6h-6.61zM3.41 1.86 2 3.27 4.73 6H3v12h13.73l3 3 1.41-1.41z"/></symbol><symbol id="video_off" viewBox="0 0 32 32"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 22.147V8.667L22.667 14V8h-8.814L28 22.147ZM4.547 2.48l-1.88 1.88L6.307 8H4v16h18.307l4 4 1.88-1.88L4.547 2.48Z" fill="#000"/></g></symbol><symbol id="view_detailed" viewBox="0 0 768 768"><path d="M320 160v192h350.016V160zM128 576h160.992V160H128zm192 0h350.016V384H320v192z"/></symbol><symbol id="view_grid" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4 11h5V5H4v6zm0 7h5v-6H4v6zm6 0h5v-6h-5v6zm6 0h5v-6h-5v6zm-6-7h5V5h-5v6zm6-6v6h5V5h-5z"/></symbol><symbol id="view_summary" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 18h17v-6H4v6zM4 5v6h17V5H4z"/></symbol><symbol id="volume" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3A4.5 4.5 0 0 0 14 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></symbol><symbol id="volume_off" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M4.34 2.93 2.93 4.34 7.29 8.7 7 9H3v6h4l5 5v-6.59l4.18 4.18c-.65.49-1.38.88-2.18 1.11v2.06a8.94 8.94 0 0 0 3.61-1.75l2.05 2.05 1.41-1.41L4.34 2.93zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zm-7-8-1.88 1.88L12 7.76zm4.5 8A4.5 4.5 0 0 0 14 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"/></symbol><symbol id="vr" viewBox="0 0 24 24"><path d="M3 8.5v5l-1-1v-3l1-1zm18 0v5l1-1v-3l-1-1zm-3-1.6c-1.3-.3-2-.4-6-.4-3 0-4.7.1-6 .4-1 .3-2 .6-2 1.6v6c0 1 3 3 4 3 2 0 3-1 4-1s2 1 4 1c1 0 4-2 4-3v-6c0-1-1-1.3-2-1.6zm-9.5 6.6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm7 0c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></symbol><symbol id="warning" viewBox="0 0 768 768"><path d="M416 448h-64V320h64zm0 128h-64v-64h64zM32 672h704L384 64 32 672z"/></symbol><symbol id="wifi" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0zm0 0h24v24H0V0z"/><path d="m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8 3 3 3-3a4.237 4.237 0 0 0-6 0zm-4-4 2 2a7.074 7.074 0 0 1 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></symbol><symbol id="wrench" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M12.09 2.91C10.08.9 7.07.49 4.65 1.67l4.34 4.34-3 3-4.34-4.34C.48 7.1.89 10.09 2.9 12.1a6.507 6.507 0 0 0 6.89 1.48l9.82 9.82 3.71-3.71-9.78-9.79c.92-2.34.44-5.1-1.45-6.99z"/></symbol><symbol id="wrench_circle" viewBox="0 0 32 32"><path d="m12.7 14.566-3.133-3.133a5.704 5.704 0 0 0-.417 1.1c-.1.378-.15.756-.15 1.133 0 1.267.45 2.35 1.35 3.251.9.9 1.983 1.35 3.25 1.35A4.412 4.412 0 0 0 15.166 18l5.034 5 2.8-2.8-5-5.034c.089-.2.155-.428.2-.684.044-.255.067-.549.067-.882 0-1.267-.45-2.35-1.35-3.25-.9-.9-1.984-1.35-3.25-1.35-.378 0-.756.05-1.134.15-.378.1-.744.239-1.1.416l3.133 3.134-1.866 1.867ZM16 29.334c-1.845 0-3.578-.35-5.2-1.05a13.456 13.456 0 0 1-4.234-2.85c-1.2-1.2-2.15-2.61-2.849-4.233-.7-1.622-1.05-3.356-1.05-5.2 0-1.845.35-3.578 1.05-5.2a13.47 13.47 0 0 1 2.85-4.234c1.2-1.2 2.61-2.15 4.233-2.85 1.622-.7 3.355-1.05 5.2-1.05 1.844 0 3.578.35 5.2 1.05 1.622.7 3.033 1.65 4.233 2.85a13.47 13.47 0 0 1 2.85 4.234c.7 1.622 1.05 3.355 1.05 5.2 0 1.844-.35 3.578-1.05 5.2a13.456 13.456 0 0 1-2.85 4.233c-1.2 1.2-2.61 2.15-4.233 2.85-1.622.7-3.356 1.05-5.2 1.05Z" fill="currentColor"/></symbol></svg>')),Promise.resolve()}(Le,Re)},deps:[P.jv,o.H7],multi:!0},H={showDelay:0,hideDelay:0,touchendHideDelay:1500,disableTooltipInteractivity:!0};let h=(()=>{class Le{}return Le.\u0275fac=function(Q){return new(Q||Le)},Le.\u0275mod=x.oAB({type:Le}),Le.\u0275inj=x.cJS({providers:[N,{provide:L.Bq,useValue:Object.assign(Object.assign({},new L.vA),{restoreFocus:!1})},{provide:p.xM,useValue:Object.assign(Object.assign({},new p.H9),{restoreFocus:!1})},{provide:F.Jm,useValue:H}],imports:[t.ez,M.o9,n.JF,D,v.aw,y.N,a.t,C.Bz,z.Tx]}),Le})();x.B6R(d.D,[t.mk,t.sg,t.O5,t.tP,Z.xw,Z.SQ,Z.Wh,ue.oO,r.JJ,r.On,u.Lv,i.sN,O.eB,P.Hw,T.OY,T.vy,Y.FC,K.kH,C.rH,S.N,S.b,s.xZ,I.E,w.e,_.h,$.t,J.p],[v.X$]),x.B6R(A.A,[t.mk,t.O5,t.tP,Z.xw,Z.SQ,Z.Wh,Z.XD,Z.yH,ue.oO,i.sN,O.eB,y.V,S.N,I.E,w.e,_.h,J.p],[v.X$]),x.B6R(m.O,[t.sg,t.O5,t.tP,Z.xw,Z.SQ,Z.Wh,Z.yH,i.sN,O.eB,P.Hw,y.V,S.N,I.E,w.e,_.h,J.p],[v.X$]);var E=e(60828),q=(e(31874),e(69052),e(51930)),U=(e(67138),e(43861),e(71568)),re=e(15727),pe=e(16033),Pe=e(92656);let Te=(()=>{class Le{constructor(Q,ve,be,xe){this.matDialog=Q,this.matBottomSheet=ve,this.focusManager=be,this.tvMode=!!xe.tvMode}open(Q,ve){Q.autoFocus=!1;const be=()=>this.tvMode?Q.data.checkbox||Q.data.radioButtonOptions||null!=ve&&ve.preferThreeQuarterSheet?m.O.open(this.matDialog,Q):A.A.open(this.matBottomSheet,Q,this.tvMode):d.D.open(this.matDialog,Q);return this.focusManager.restoreFocusAfterClosed(()=>new pe.J(be()))}closeAll(){this.matDialog.closeAll(),this.matBottomSheet.dismiss()}}return Le.\u0275fac=function(Q){return new(Q||Le)(x.LFG(B.on),x.LFG(p.ch),x.LFG(Pe.I),x.LFG(E.i,8))},Le.\u0275prov=x.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var me=e(45574),et=e(26977),Xe=e(4894),Ze=e(95914),nt=e(80155),Me=e(64710);let ze=(()=>{class Le{constructor(Q,ve,be,xe){this.ngZone=be,this.applicationLifetimeService=xe,this.backToExitAppListener=ke=>{"Escape"!==ke.key&&"GoBack"!==ke.key||ke.defaultPrevented||this.ngZone.run(()=>{this.logger.info("Requesting application exit"),this.applicationLifetimeService.shutdownApplication(Ze.ld.ApplicationRequestedExit)})},this.logger=Q.getLogger("BackNavigationService"),this.window=ve.window}enableBackToExitApp(){this.logger.info("Enabling back to exit app"),this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("keydown",this.backToExitAppListener)})}disableBackToExitApp(){this.logger.info("Disabling back to exit app"),this.window.removeEventListener("keydown",this.backToExitAppListener)}translateSystemBackTo(Q){this.logger.info("System back will be translated to",Q),this.translateTizenBackTo(Q),this.translateShiftedEscapeTo(Q)}translateTizenBackTo(Q){(0,nt.fO)()&&this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("tizenhwkey",ve=>{if("back"===ve.keyName){const be=(0,nt.tE)();(0,nt.a9)(be,"keydown",Q),(0,nt.a9)(be,"keyup",Q)}})})}translateShiftedEscapeTo(Q){const ve=be=>{"Escape"===be.key&&be.shiftKey&&(be.preventDefault(),be.stopImmediatePropagation(),(0,nt.a9)(be.target,be.type,Q))};this.ngZone.runOutsideAngular(()=>{this.window.addEventListener("keydown",ve,{capture:!0}),this.window.addEventListener("keyup",ve,{capture:!0})})}}return Le.\u0275fac=function(Q){return new(Q||Le)(x.LFG(Me.ed),x.LFG(Me.un),x.LFG(x.R0b),x.LFG(Ze.Ll))},Le.\u0275prov=x.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var le=e(93363)},41225:(Ge,ae,e)=>{"use strict";e.d(ae,{b:()=>m,q:()=>y});var t=e(39700),n=e(23815),x=e(50608),M=e(42520),L=e(13800),p=e(74266),P=e(4042),a=e(89258),o=e(57693),v=e(12606),y=(()=>{return(S=y||(y={})).Keyboard="Keyboard",S.Gamepad="Gamepad",S.Mouse="Mouse",S.Touch="Touch",y;var S})(),C=e(39609),A=e(64710),d=e(11688);let m=(()=>{class S{constructor(r,l,i){this.gamepadService=l,this.ngZone=i,this.focusOriginModality={},this.logger=r.getLogger("InputModalityService"),this.ngZone.runOutsideAngular(()=>{const O=(0,t.R)(document,"keydown",{capture:!0}).pipe((0,L.w)(B=>"GoBack"===B.key?(0,n.of)(y.Touch):B.isTrusted?(0,n.of)(y.Keyboard):x.C)),Y=this.gamepadService.isAnyGamepadInUse$.pipe((0,p.h)(B=>!0===B),(0,P.h)(y.Gamepad)),T=(0,t.R)(document,"pointerdown",{capture:!0}).pipe((0,p.h)(B=>"mouse"===B.pointerType||"touch"===B.pointerType),(0,a.U)(B=>{switch(B.pointerType){case"mouse":return y.Mouse;case"touch":return y.Touch}}));this.inputModalityChanged$=(0,M.T)(O,Y,T).pipe((0,o.d)(1),(0,v.x)())})}get lastFocusOrigin(){return this.focusOriginModality.focusOrigin}get lastInputModality(){return this.focusOriginModality.inputModality}startMonitoring(){var r;this.logger.info("start monitoring"),null===(r=this.focusOriginModalitySubscription)||void 0===r||r.unsubscribe(),this.focusOriginModalitySubscription=this.ngZone.runOutsideAngular(()=>this.inputModalityChanged$.pipe((0,a.U)(l=>{let i;switch(l){case y.Keyboard:case y.Gamepad:i="keyboard";break;case y.Mouse:i="mouse";break;case y.Touch:i="touch"}return{focusOrigin:i,inputModality:l}})).subscribe(l=>this.focusOriginModality=l))}stopMonitoring(){var r;this.logger.info("stop monitoring"),null===(r=this.focusOriginModalitySubscription)||void 0===r||r.unsubscribe(),this.focusOriginModalitySubscription=void 0,this.focusOriginModality={}}}return S.\u0275fac=function(r){return new(r||S)(C.LFG(A.ed),C.LFG(d.Se),C.LFG(C.R0b))},S.\u0275prov=C.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},6777:(Ge,ae,e)=>{"use strict";e.d(ae,{Lh:()=>F,tm:()=>S,Zl:()=>xe,gw:()=>J});const x={userId:"",core:{displayName:"",primaryEmail:"",birthdate:"",preferredLocale:"",primaryEmailVerified:"",created:"",lastLogin:"",passwordLastChanged:"",linkedAccounts:{}},privacySettings:{},isAuthenticated:!1};var M=e(23815),L=e(33932),p=e(85566);class P{static encode(Ce){const ge=new P;return ge.data=window.btoa(encodeURIComponent(JSON.stringify(Ce))),ge}static decode(Ce){return JSON.parse(decodeURIComponent(window.atob(Ce.data)))}}class a{constructor(Ce){this.data=(0,p.isNil)(Ce)?{userToken:null,user:x}:Ce}static loadFrom(Ce,ge){const De=(0,p.isEmpty)(ge)?"session":`sdk/${ge}/session`;return Ce.readBlock(De).pipe((0,L.zg)(ye=>(0,M.of)(new a(P.decode(ye)))))}get user(){return this.data.user}set user(Ce){this.data.user=Ce}get sessionToken(){return this.sessionTokenString}set sessionToken(Ce){this.sessionTokenString=Ce}get userToken(){return this.data.userToken}set userToken(Ce){this.data.userToken=Ce}hasUserToken(){return!(0,p.isNil)(this.data.userToken)}hasSessionToken(){return!(0,p.isNil)(this.sessionToken)}writeTo(Ce,ge){const De=(0,p.isEmpty)(ge)?"session":`sdk/${ge}/session`;return Ce.writeBlock(De,P.encode(this.data))}get affiliateStatus(){return this.data.isAffiliated}set affiliateStatus(Ce){this.data.isAffiliated=Ce}get expiry(){return this.data.expiry}set expiry(Ce){this.data.expiry=Ce}}var A=e(21361),m=e(39609);let S=(()=>{class ke{}return ke.\u0275fac=function(ge){return new(ge||ke)},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac}),ke})();var s=e(52954),r=e(52474),l=(()=>{return(ke=l||(l={})).Browser="Browser",ke.Cef="Cef",ke.Android="Android",l;var ke})();class i{constructor(){}}var O=e(59562),Y=e(39138),T=e(18388),B=e(63155),K=e(4042),b=e(71265),f=e(51325),D=e(89258),I=e(74266),w=e(78747),_=e(80155),$=(()=>{return(ke=$||($={})).ShowLoginDialogStarted="Showing Login Dialog",ke.ShowLoginDialogCompleted="Login Dialog Shown",ke.LoginStarted="Login Started",ke.LoginCompleted="Login Completed",ke.LoginAbortedByUser="Login Aborted: User Cancelled Login",ke.LoginAbortedAlreadyLoggedIn="Login Aborted: Already Logged In",ke.LoginFailed="Login Failed",ke.LogoutStarted="Logout Started",ke.LogoutCompleted="Logout Complted",ke.LogoutFailed="Logout Failed",$;var ke})(),G=e(12983);class F extends G.xv{constructor(Ce){super("Could not fetch delegate token",Ce)}}class J extends G.xv{constructor(){super("invalid or missing userSession parameter",null)}}var z=e(66195),Z=e(64710),ue=e(50608),u=e(27344),k=e(45661),W=e(2629),N=e(85948),H=e(69060),h=e(43508);const E="JARVIS",ee=".com",q=3e4,_e=2,U=1e3;let re=(()=>{class ke{constructor(ge,De,ye,Oe,ie,qe,lt,Et){this.jarvisConfig=ge,this.endpointFactory=De,this.bridgeService=ye,this.systemInfoService=Oe,this.distributedtracingUtilService=ie,this.appConfig=qe;const{defaultRetries:kt=_e,defaultTimeBetweenRetries:an=U,defaultTimeout:dn=q}=ge,Nt={config:{maxRetries:kt,timeout:dn,timeBetweenRetries:an}},bn={config:{timeout:1e4,maxRetries:kt,timeBetweenRetries:an}};this.endpointDelegateRequest=this.endpointFactory.createEndpoint(Nt),this.endpointDelegateRedeem=this.endpointFactory.createEndpoint(Nt),this.endpointUserLogin=this.endpointFactory.createEndpoint(Nt),this.endpointClientLogin=this.endpointFactory.createEndpoint(Nt),this.endpointClientChain=this.endpointFactory.createEndpoint(Nt),this.endpointProfileUser=this.endpointFactory.createEndpoint(Nt),this.endpointThirdPartyProvider=this.endpointFactory.createEndpoint(Nt),this.endpointRequestVerify=this.endpointFactory.createEndpoint(Nt),this.endpointProxyCall=this.endpointFactory.createEndpoint(Nt),this.endpointPingServer=this.endpointFactory.createEndpoint(bn),this.logger=lt.getLogger("libraries/jarvis-http.service"),this.fastestDomainStream=Et.createStream(this.getFastestJarvisDomain.bind(this))}get accountsUrl$(){return this.fastestDomainStream.get$().pipe((0,W.q)(1),(0,D.U)(ge=>this.jarvisConfig.accountsUrl.replace(ee,ge)))}get serverUrl$(){return this.fastestDomainStream.get$().pipe((0,W.q)(1),(0,D.U)(ge=>this.jarvisConfig.url.replace(ee,ge)))}getFastestJarvisDomain(){const ge={reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Ping"}};let De=0;const ye=this.distributedtracingUtilService.startSpan(H.j1.GetFastestDomain),Oe=[],ie=Date.now();return this.jarvisConfig.urlDomains.forEach(qe=>{const lt=this.jarvisConfig.url.replace(`${ee}/api/1`,`${qe}/ping`),Et=this.endpointPingServer.get(lt,ge).pipe((0,b.b)(()=>this.logger.info("url",lt,"response time",Date.now()-ie)));Oe.push(this.distributedtracingUtilService.handleHttpEndpointSpan(Et,ge,H.j1.JarvisPing,ye).pipe((0,K.h)(qe),(0,b.b)(()=>{this.logger.info(`Jarvis domain set to ${qe}`),ye&&this.distributedtracingUtilService.setSpanAttribute(ye,H.NI.Error,!1)}),(0,f.K)(kt=>(this.logger.error(`Ping request to ${lt} failed with error ${kt}`),De++,De>=this.jarvisConfig.urlDomains.length?(this.logger.error("All pings to jarvis servers failed, selecting default"),ye&&this.distributedtracingUtilService.setSpanAttribute(ye,H.NI.Error,!0),(0,M.of)(ee)):ue.C))))}),(0,u.S3)(Oe).pipe((0,b.b)(qe=>{ye&&this.distributedtracingUtilService.setSpanAttribute(ye,H.NI.FastestJarvisDomain,qe),this.distributedtracingUtilService.closeSpan(ye)}))}getLoginToken(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing accessCode parameter");const ye={body:{grant_type:"authorization_code",scope:"Any",code:ge,redirect_uri:this.jarvisConfig.redirectUrl,client_id:this.jarvisConfig.clientId},reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_Login_Token"}};return this.serverUrl$.pipe((0,L.zg)(Oe=>this.endpointDelegateRequest.post(`${Oe}/oauth/resource`,ye)))}getDelegateToken(ge,De,ye){if((0,p.isNil)(ge)||0===ge.trim().length)return(0,T._)(new J);const ie={body:{clientId:De},headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_Delegate_Token"}},qe=this.serverUrl$.pipe((0,L.zg)(lt=>this.endpointUserLogin.post(`${lt}/authentication/delegate/request`,ie)));return this.distributedtracingUtilService.handleHttpEndpointSpan(qe,ie,H.j1.DelegateToken,ye)}proxyPost(ge,De,ye,Oe){const ie={body:Oe,headers:this.getJarvisAuthorizeHeaders(`${ge}:`),params:ye};return this.serverUrl$.pipe((0,L.zg)(qe=>this.endpointProxyCall.post(`${qe}/proxy/${De}`,ie)))}redeemDelegateToken(ge,De){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing delegateToken parameter");return(0,k.D)([this.systemInfoService.getSystemInfo(),this.serverUrl$]).pipe((0,L.zg)(([ye,Oe])=>{const qe={body:{clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription,deviceId:ye.DeviceId,scope:De||"session_token"},headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Redeem_Delegate_Token"}};return this.endpointDelegateRedeem.post(`${Oe}/authentication/delegate/redeem`,qe)}))}getUserToken(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing loginToken parameter");return(0,k.D)([this.systemInfoService.getSystemInfo(),this.serverUrl$]).pipe((0,L.zg)(([De,ye])=>{const ie={body:{clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription,deviceDescription:De.SystemName,deviceId:De.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_User_Token"}};return this.endpointUserLogin.post(`${ye}/authentication/user/login`,ie)}),(0,f.K)(De=>(this.logger.error("Error while accessing the endpoint",De),(0,T._)(De))))}getSessionToken(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing userToken parameter");return(0,k.D)([this.systemInfoService.getSystemInfo(),this.serverUrl$]).pipe((0,L.zg)(([De,ye])=>{const ie={body:{clientCapabilities:["OAuthPortal"],clientId:this.jarvisConfig.clientId,clientDescription:this.jarvisConfig.clientDescription.replace("{VERSION}",this.appConfig.get().build.version),deviceId:De.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_Session_Token"}};return this.endpointClientLogin.post(`${ye}/authentication/client/login`,ie)}))}chainSession(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing userSession parameter");return(0,k.D)([this.systemInfoService.getSystemInfo(),this.serverUrl$]).pipe((0,L.zg)(([De,ye])=>{const ie={body:{clientId:this.jarvisConfig.clientId,deviceId:De.DeviceId},headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Chain_Session"}};return this.endpointClientChain.post(`${ye}/authentication/client/chain`,ie)}))}getUserInfo(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing sessionToken parameter");const De={headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_User_Info"}};return this.serverUrl$.pipe((0,L.zg)(ye=>this.endpointProfileUser.get(`${ye}/profile/user`,De)))}getProviderInfo(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing sessionToken parameter");const De={headers:this.getJarvisAuthorizeHeaders(`${ge}:`),reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Get_Third_Party_Provider_Info"}};return this.serverUrl$.pipe((0,L.zg)(ye=>this.endpointThirdPartyProvider.get(`${ye}/authentication/hints/token/linkedaccount`,De)))}requestEmailVerify(ge){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing emailAddress parameter");const De={body:{email:ge},reportRequestData:{originalService:E,serviceUseCase:"JARVIS_Request_Email_Verify"}};return this.serverUrl$.pipe((0,L.zg)(ye=>this.endpointRequestVerify.post(`${ye}/profile/user/email/requestverify`,De)))}getJarvisAuthorizeHeaders(ge){const De=window.btoa(ge);return{[N.n0.authorization]:`Basic ${De}`}}getDeviceId(){return this.bridgeService.executeCommand(A.Iq.GenericCommand("QUERY_DEVICE_ID","",""),{})}getSharedUserData(ge,De,ye){if((0,p.isNil)(ge)||0===ge.trim().length)throw new Error("invalid or missing userSession parameter");const Oe={headers:this.getJarvisAuthorizeHeaders(`${ge}:`)};return this.serverUrl$.pipe((0,L.zg)(ie=>this.endpointUserLogin.get(`${ie}/datastore/user/shared/${De}/client/${ye}`,Oe)))}}return ke.\u0275fac=function(ge){return new(ge||ke)(m.LFG(S),m.LFG(N.V9),m.LFG(Z.dF),m.LFG(Z.Ob),m.LFG(H.Dc),m.LFG(h.XL),m.LFG(Z.ed),m.LFG(_.O_))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();var pe=e(18406),Pe=e(39700),Te=e(86283),me=e(13800),et=e(3691),Xe=e(94751),Ze=e(58765);let Me=(()=>{class ke{constructor(ge,De,ye,Oe){this.bridgeService=ge,this.nativeEventService=ye,this.distributedTracingUtilService=Oe,this.checkWindowOpenInterval=200,this.loginWindow=null,this.isWindowOpen=new pe.X(!1),this.logger=De.getLogger("jarvis/o-auth")}oAuthLogin(ge,De){if(!ge||0===ge.trim().length)throw new Error("invalid or missing Login Url");if(!De)throw new Error("invalid or missing OAuth Config");const ye=this.getWindowParamsString(De.windowParams),Oe=this.distributedTracingUtilService.startSpan(H.j1.JarvisOAuth);ge=this.distributedTracingUtilService.getFormattedUrlForHttpPopupSpan(ge,Oe);const ie=(0,Pe.R)(window,"message").pipe((0,I.h)(lt=>this.validateMessageEvent(lt)),(0,D.U)(lt=>(this.logger.info("Captured OAuth data via post message:",lt.data),lt.data.error?this.distributedTracingUtilService.closeHttpPopupSpan(Oe,!0,lt.data.error):this.distributedTracingUtilService.closeHttpPopupSpan(Oe,!1,{failedUrl:ge,errorCode:"",errorText:""}),this.loginWindow.close(),this.isWindowOpen.next(!1),this.getMessageAccessCode(lt))),(0,B.P)());this.loginWindow=window.open(ge,De.popUpWindowName,ye),this.logger.info("login window opened with url",ge),this.isWindowOpen.next(!0);const qe=(0,Pe.R)(window,"focus").pipe((0,me.w)(lt=>(lt&&lt.preventDefault(),this.bridgeService.executeCommand(A.Gh.Common.Windowcontrol.Focus,{name:"app_oauth_window_with_back_button"})))).subscribe(lt=>{},lt=>{this.logger.error("Failed to set focus with error: ",lt)});if(De.useAppUrl){const lt=(0,Te.F)(this.checkWindowOpenInterval).pipe((0,et.n)(()=>!this.loginWindow.closed),(0,D.U)(kt=>(this.isWindowOpen.next(!1),qe.unsubscribe(),null)),(0,B.P)()),Et=this.nativeEventService.getNativeEvent$(Z.Nx.RouteChange).pipe((0,I.h)(kt=>kt.newRoute.startsWith("oauth/")),(0,D.U)(kt=>(this.isWindowOpen.next(!1),qe.unsubscribe(),this.loginWindow.close(),this.getUrlAccessCode(kt.newRoute))),(0,B.P)());return(0,u.S3)(lt,Et)}return(0,Te.F)(this.checkWindowOpenInterval).pipe((0,et.n)(()=>!this.loginWindow.closed),(0,Xe.M)(ie.pipe((0,Ze.O)(null))),(0,D.U)(([lt,Et])=>(this.isWindowOpen.next(!1),qe.unsubscribe(),Et)),(0,B.P)())}checkIsWindowOpen(){return this.isWindowOpen.asObservable()}tryCloseOAuthWindow(){null!==this.loginWindow&&!this.loginWindow.closed&&this.loginWindow.close()}getWindowParamsString(ge={}){let De="";ge.toolbar&&(De+=`toolbar=${ge.toolbar},`),ge.location&&(De+=`location=${ge.location},`),ge.menubar&&(De+=`menubar=${ge.menubar},`),ge.fullscreen&&(De+=`fullscreen=${ge.fullscreen},`),ge.resizable&&(De+=`resizable=${ge.resizable},`),ge.scrollbars&&(De+=`scrollbars=${ge.scrollbars},`);const ye=ge.width?ge.width:window.innerWidth,Oe=ge.height?ge.height:window.innerHeight,ie=ge.top?ge.top:window.screenY+window.innerHeight/2-Oe/2;return De+=`width=${ye},`,De+=`height=${Oe},`,De+=`left=${ge.left?ge.left:window.screenX+window.innerWidth/2-ye/2},`,De+=`top=${ie},`,De}validateMessageEvent(ge){let De=ge&&ge.data;return Z.ng.isBrowserPlatform()&&(De=De&&ge.origin===window.location.origin&&"oauth"===ge.data.key),!!De}getCodeFromLocalStorage(ge){const De=window.localStorage.getItem(ge);window.localStorage.removeItem(ge);try{return JSON.parse(De)}catch{return this.logger.error("malformed access code object",De),null}}getMessageAccessCode(ge){let De;return De=Z.ng.isBrowserPlatform()?this.getCodeFromLocalStorage((0,p.get)(ge,"data.key")):ge.data,(0,p.get)(De,"code")}getUrlAccessCode(ge){const De=ge.indexOf("?")>-1?ge.split("?"):ge.split("#/");if(De.length>1){let ye=new URLSearchParams(De[1]).get("code");const Oe=new URLSearchParams(De[1]).get("access_token");return ye?ye=ye.split("#/")[0]:Oe&&(ye=Oe),ye}return""}}return ke.\u0275fac=function(ge){return new(ge||ke)(m.LFG(Z.dF),m.LFG(Z.ed),m.LFG(Z.o1),m.LFG(H.Dc))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();var ze=e(91565),le=(()=>{return(ke=le||(le={})).ALREADY_LOGGED_IN="Already logged in",ke.USER_ABORTED_LOGIN="User aborted login",le;var ke})();let Le=(()=>{class ke extends i{constructor(ge,De,ye,Oe,ie,qe,lt,Et,kt,an){super(),this.config=ge,this.jarvisHttpService=ye,this.oAuthService=Oe,this.sharedStorage=ie,this.bridgeService=qe,this.localeService=lt,this.networkStatus=kt,this.gfnSdkService=an,this.SAFE_RETRY_COUNT=5,this.activelyRenewingsession=!1,this.loginTransitionSubject=new O.t(1),this.logger=De.getLogger("jarvis/desktop"),this.logger.info("initialize"),ge.sdkClient&&this.logger.info("Running in GFN SDK mode for SDK client",ge.sdkClient),window.name!==ge.appWindowName&&(window.name=ge.appWindowName),this.sessionTokenSubscription=Et.createStream(this.getSession.bind(this)),this.jarvisUserSubscription=Et.createStream(this.getCurrentUser.bind(this)),this.refreshUser()}get sessionToken(){return this.sessionTokenSubscription.get$().pipe((0,B.P)())}handleError(ge,De){this.logger.error(ge),De.next(!1),De.complete()}clearCookies(){const ge=this.bridgeService.executeCommand(A.Gh.Common.Applicationcontrol.DeleteCookies,{url:".facebook.com",cookiename:""}),De=this.bridgeService.executeCommand(A.Gh.Common.Applicationcontrol.DeleteCookies,{url:".google.com",cookiename:""});return(0,Y.$R)(ge,De)}updateTransitionState(ge,De,ye){const Oe=ge?"loading":"not loading";(0,p.isNil)(ye)?(this.logger.info(`Jarvis state has changed to [${De}] and is now ${Oe}`),this.loginTransitionSubject.next({state:De,isLoading:ge})):(this.logger.error(`Jarvis state has changed to [${De}] and is now ${Oe} with error: ${ye}`),this.loginTransitionSubject.next({state:De,isLoading:ge,error:ye}))}login(ge=!1,De){this.updateTransitionState(!0,$.ShowLoginDialogStarted);const ye=new O.t(1);return(0,Y.$R)(this.jarvisUserSubscription.get$(),this.localeService.localeChanged).pipe((0,B.P)(),(0,L.zg)(([Oe,ie])=>Oe.userId===x.userId||ge?(this.authServiceSubscription&&this.authServiceSubscription.unsubscribe(),this.buildJarvisUrl(this.config,ie,De)):(this.updateTransitionState(!1,$.ShowLoginDialogCompleted),(0,T._)(le.ALREADY_LOGGED_IN))),(0,L.zg)(Oe=>this.clearCookies().pipe((0,K.h)(Oe))),(0,b.b)(()=>this.updateTransitionState(!1,$.ShowLoginDialogCompleted)),(0,L.zg)(Oe=>this.oAuthService.oAuthLogin(Oe,this.config.oAuthConfig)),(0,L.zg)(Oe=>(0,p.isNil)(Oe)?(0,T._)(le.USER_ABORTED_LOGIN):(0,M.of)(Oe)),(0,b.b)(()=>this.updateTransitionState(!0,$.LoginStarted)),(0,L.zg)(Oe=>this.attemptLogin(Oe))).subscribe(()=>{ye.next(!0),ye.complete(),this.updateTransitionState(!1,$.LoginCompleted)},Oe=>{switch(Oe){case le.ALREADY_LOGGED_IN:ye.next(!0),ye.complete(),this.updateTransitionState(!1,$.LoginAbortedAlreadyLoggedIn);break;case le.USER_ABORTED_LOGIN:ye.next(!0),ye.complete(),this.updateTransitionState(!1,$.LoginAbortedByUser);break;default:this.updateTransitionState(!1,$.LoginFailed,Oe),this.handleError(Oe,ye)}}),ye.asObservable()}logout(){this.updateTransitionState(!0,$.LogoutStarted);const ge=new O.t(1);return this.storeSession(new a).subscribe(De=>{this.sessionTokenSubscription.refresh().pipe((0,L.zg)(()=>this.jarvisUserSubscription.refresh())).subscribe(()=>{this.logger.info("Logging out user."),ge.next(!0),ge.complete(),this.updateTransitionState(!1,$.LogoutCompleted)})},De=>(this.updateTransitionState(!1,$.LogoutFailed,De),this.handleError(De,ge))),ge.asObservable()}refreshUser(){return this.refreshSession().pipe((0,L.zg)(ge=>this.jarvisUserSubscription.refresh()))}refreshSession(){return this.activelyRenewingsession?this.sessionToken:(this.activelyRenewingsession=!0,this.sessionTokenSubscription.refresh().pipe((0,b.b)(()=>this.activelyRenewingsession=!1)))}requestVerificationEmail(ge){return this.jarvisHttpService.requestEmailVerify(ge).pipe((0,K.h)(!0),(0,f.K)(De=>(this.logger.error(De),(0,M.of)(!1))))}getDelegateToken(ge,De=!1,ye){return this.safelyFetchData(Oe=>Oe.hasSessionToken()?this.jarvisHttpService.getDelegateToken(Oe.sessionToken,ge,ye).pipe((0,D.U)(ie=>({delegateToken:ie.delegateToken,expiration:new Date(ie.expiration)})),(0,f.K)((ie,qe)=>(this.logger.warn("Could not get delegate token.",ie),(0,T._)(ie)))):(0,M.of)(null),null,De).pipe((0,f.K)(Oe=>(0,T._)(Oe instanceof J?Oe:new F(Oe))))}proxyPost(ge,De,ye,Oe){return this.safelyFetchData(ie=>ie.hasSessionToken()?this.jarvisHttpService.proxyPost(ie.sessionToken,ge+"/"+De,ye,Oe):(0,M.of)(null),null,!0)}get accountsUrl$(){return this.jarvisHttpService.accountsUrl$}get accountStatusChanged(){let ge;return this.jarvisUserSubscription.get$().pipe((0,I.h)(De=>(0,p.isNil)(ge)||!(0,p.isEqual)(ge.userId,De.userId)||!(0,p.isEqual)(ge.core.primaryEmailVerified,De.core.primaryEmailVerified)),(0,b.b)(De=>{ge=De}))}getThirdPartyProviderInfo(){return this.safelyFetchData(ge=>ge.hasSessionToken()?this.jarvisHttpService.getProviderInfo(ge.sessionToken).pipe((0,D.U)(De=>(this.logger.info("Provider received: ",De),De)),(0,f.K)(De=>(this.logger.error("Error to fetch Provider: ",De),404===De.status?(this.logger.info("Handling as user logged in through native provider"),(0,M.of)(null)):(0,T._)(De)))):(0,T._)("Has no session token"),null,!0)}get jarvisUserDataChanged(){let ge;return this.jarvisUserSubscription.get$().pipe((0,I.h)(De=>!(0,p.isEqual)(ge,De)),(0,D.U)(De=>(ge=De,{newJarvisUser:De,oldJarvisUser:ge})))}get loginTransitionState(){return this.loginTransitionSubject.asObservable()}get isUserTokenAvailable(){return(0,p.isNil)(this.session)?(this.logger.info("Loading session object from shared storage to check if user token is present"),a.loadFrom(this.sharedStorage,this.config.sdkClient).pipe((0,D.U)(ge=>ge.hasUserToken()),(0,f.K)(()=>(0,M.of)(!1)))):(0,M.of)(this.session.hasUserToken())}getSharedUserData(ge,De,ye=!1){return this.safelyFetchData(Oe=>Oe.hasSessionToken()?this.jarvisHttpService.getSharedUserData(Oe.sessionToken,ge,De):(0,M.of)(null),null,ye)}getStoredSessionProperty(ge){let De;return(0,p.isNil)(this.session)?(this.logger.info("Reading session from sharedstorage"),De=a.loadFrom(this.sharedStorage,this.config.sdkClient).pipe((0,f.K)(()=>(0,M.of)(new a)))):(this.logger.info("Session Info available in memory"),De=(0,M.of)(this.session)),De.pipe((0,D.U)(ye=>{const Oe=ge(ye);let ie=!1;const qe=new Date;return ie=!(!(0,p.isNil)(ye.expiry)&&!(0,p.isNil)(Oe))||new Date(ye.expiry)<=qe,{data:Oe,expired:ie}}))}get cachedUser(){return this.logger.info("Fetching the cached user"),this.getStoredSessionProperty(ge=>ge.user)}get cachedUserAndAffiliateStatus(){return this.logger.info("Fetching the cached user and affiliate status"),this.getStoredSessionProperty(ge=>[ge.user,ge.affiliateStatus])}get cachedAffiliateStatus(){return this.logger.info("Fetching cached affiliate status"),this.getStoredSessionProperty(ge=>ge.affiliateStatus)}setCachedAffiliateStatus(ge){return ge!==this.session.affiliateStatus?(this.logger.info("Updating the affiliate status to:",ge),this.session.affiliateStatus=ge,this.storeSession(this.session).pipe((0,K.h)(ge))):(this.logger.info("Skipping the affiliate status update shared storage"),(0,M.of)(ge))}attemptLogin(ge){const De=new a;return this.jarvisHttpService.getLoginToken(ge).pipe((0,L.zg)(ye=>this.jarvisHttpService.getUserToken(ye.loginToken)),(0,L.zg)(ye=>(De.userToken=ye.userToken,this.logger.info("Storing session containing only userToken to sharedStorage"),this.storeSession(De))),(0,L.zg)(ye=>this.sessionTokenSubscription.refresh()),(0,L.zg)(ye=>(De.sessionToken=ye.sessionToken,De.expiry=ye.expiry,this.session=De,this.jarvisUserSubscription.refresh())),(0,L.zg)(ye=>(De.user=ye,this.logger.info("Storing complete session to sharedStorage"),this.storeSession(De))))}fetchSession(){return this.activelyRenewingsession=!0,this.jarvisHttpService.getSessionToken(this.session.userToken).pipe((0,b.b)(()=>this.activelyRenewingsession=!1),(0,L.zg)(ge=>(this.session.sessionToken=ge.sessionToken,this.session.expiry=ge.expiration,(0,M.of)(this.session))),(0,f.K)(ge=>(this.logger.info("Error refreshing session with jarvis:",ge),(0,_.f0)(ge)?(this.logger.info("The session refresh failed due to timeout or connection issues. So, will not log out the user"),(0,M.of)(this.session)):(this.logger.info("Error thrown from server. Hence, logging the user out"),(0,M.of)(new a)))))}buildJarvisUrl(ge,De,ye){return this.jarvisHttpService.serverUrl$.pipe((0,D.U)(Oe=>{let ie=":server/oauth/authorize?response_type=code&scope=user_token&client_id=:clientId&redirect_uri=:redirectUri&prompt=login&locale=:locale";return ie=ie.replace(":server",Oe),ie=ie.replace(":clientId",ge.clientId),ie=ie.replace(":redirectUri",encodeURIComponent(ge.redirectUrl)),ie=ie.replace(":locale",De),!(0,p.isNil)(ye)&&!(0,p.isEmpty)(ye)&&(ie+="&preferred_auth=:preferredAuth",ie=ie.replace(":preferredAuth",ye.toString())),ie}))}safelyFetchData(ge,De,ye=!1){return this.sessionToken.pipe((0,L.zg)(Oe=>(0,p.isNil)(this.session)||this.session.hasSessionToken()||!this.session.hasUserToken()?(0,M.of)(Oe):this.sessionTokenSubscription.refresh()),(0,L.zg)(Oe=>ge(Oe)),(0,f.K)(Oe=>401===Oe.status?this.refreshSession().pipe((0,f.K)(ie=>(this.logger.error("Failed to fetchSession",ie),this.logoutAndReturnObservable(De))),(0,L.zg)(ie=>this.safelyFetchData(ge,De,ye))):ye?(0,T._)(Oe):(this.logger.error(Oe),(0,M.of)(De))))}logoutAndReturnObservable(ge){return this.logout(),(0,M.of)(ge)}getCurrentUser(){return this.safelyFetchData(ge=>{if(this.logger.info("Getting current user"),this.logger.info(`hasSessionToken: ${ge.hasSessionToken()}, hasUserToken: ${ge.hasUserToken()}`),!this.networkStatus.isOnline&&ge.hasUserToken())return this.logger.info("User is offline and session has user token. So returning cached user"),(0,M.of)(ge.user);if(ge.hasSessionToken()){const De=!(0,p.isNil)(ge.user)&&!(0,p.isNil)(ge.user.core.primaryEmailVerified);return this.jarvisHttpService.getUserInfo(ge.sessionToken).pipe((0,D.U)(ye=>(ye.isAuthenticated=!0,ye)),(0,L.zg)(ye=>(ge.user=ye,(0,p.isNil)(ye.core.primaryEmailVerified)||De?(0,M.of)(ge):(this.logger.info("Primary Email Verified Info Updated. Hence saving userInfo to shared storage"),this.storeSession(ge)))),(0,f.K)(ye=>(this.logger.info("Error fetching userInfo from jarvis:",ye),(0,_.f0)(ye)?(this.logger.info("UserInfo refresh failed due to timeout or connection issue. So, will not log out the user"),(0,M.of)(ge.user)):(this.logger.info("Error to is thrown by jarvis server. Will rethrow this error"),(0,T._)(ye)))),(0,D.U)(ye=>ge.user))}return ge.hasUserToken()&&!(0,p.isNil)(ge.user)?(this.logger.info("Session fetch failed due to timeout or connection issue, not logging out the user"),(0,M.of)(ge.user)):(0,M.of)(x)},x)}getSession(){return!this.config.sdkClient||!(0,p.isNil)(this.session)&&this.session.hasUserToken()?this.networkStatus.isOnline?this.renewSession():this.loadSessionFromSharedStorage():this.getSessionFromSdk()}renewSession(){return this.activelyRenewingsession=!0,this.loadSessionFromSharedStorage().pipe((0,L.zg)(ge=>ge.hasUserToken()?this.fetchSession():(0,M.of)(ge)),(0,L.zg)(ge=>this.storeSession(ge)),(0,f.K)(ge=>(this.logger.info("Error saving session to shared storage:",ge),(0,M.of)(new a))),(0,w.x)(()=>this.activelyRenewingsession=!1))}loadSessionFromSharedStorage(ge){return a.loadFrom(this.sharedStorage,ge?void 0:this.config.sdkClient).pipe((0,L.zg)(De=>(this.logger.info("Loaded session successfully from shared storage"),this.session=De,De.hasUserToken()?(0,M.of)(De):ge||(0,p.isEmpty)(this.config.sdkClient)?(this.logger.info("Stored session does not have user token. Hence, logging the user out"),(0,M.of)(new a)):this.loadSessionFromSharedStorage(!0))),(0,f.K)(De=>(this.logger.info("Error loading session from shared storage. Hence logging out the user.",De),this.session=new a,(0,M.of)(this.session))))}storeSession(ge){return this.session=ge,this.session.writeTo(this.sharedStorage,this.config.sdkClient).pipe((0,L.zg)(De=>(0,M.of)(this.session)),(0,f.K)(De=>(this.logger.info("Error saving session to shared storage:",De),(0,T._)(De))))}getSessionFromSdk(){if(!this.networkStatus.isOnline||!(0,p.isNil)(this.session)&&this.session.hasSessionToken())return(0,M.of)(this.session);this.activelyRenewingsession=!0;const ge="sdk/"+this.config.sdkClient;return this.sharedStorage.removeBlock(`${ge}/session`).pipe((0,L.zg)(De=>(this.logger.info("Cleared the stored session for SDK node",ge,De),this.gfnSdkService.getAuthInfo())),(0,L.zg)(De=>(this.logger.info("Reading delegate token passed by SDK client",this.config.sdkClient),De.authType===z.Gr.IDM?this.jarvisHttpService.redeemDelegateToken(De.authToken):(0,T._)("Token was an authN JWT, could not redeem"))),(0,L.zg)(De=>(this.session=new a,this.session.sessionToken=De.sessionToken,this.storeSession(this.session))),(0,f.K)(()=>(this.logger.error("Unable to redeem delegate token from SDK client",this.config.sdkClient),this.renewSession())),(0,w.x)(()=>{this.activelyRenewingsession=!1}))}}return ke.\u0275fac=function(ge){return new(ge||ke)(m.LFG(S),m.LFG(Z.ed),m.LFG(re),m.LFG(Me),m.LFG(ze.OA),m.LFG(Z.dF),m.LFG(Z.OL),m.LFG(_.O_),m.LFG(Z._J),m.LFG(z.s))},ke.\u0275prov=m.Yz7({token:ke,factory:ke.\u0275fac,providedIn:"root"}),ke})();const Q={provide:i,useFactory:function Re(ke,Ce,ge,De,ye,Oe,ie,qe,lt,Et){switch(ke.platformType){case l.Browser:case l.Cef:return ke.redirectUrl=ke.redirectUrlIsRelative?window.location.origin+ke.redirectUrl:ke.redirectUrl,new Le(ke,Ce,De,ye,Oe,ge,qe,ie,lt,Et);default:Ce.getLogger("jarvisServiceCreator").error("Cannot create JarvisService for unknown platform type: "+ke.platformType)}},deps:[S,Z.ed,Z.dF,re,Me,ze.OA,_.O_,Z.OL,Z._J,z.s]};var ve=e(32764);const be=[ve.UK];let xe=(()=>{class ke{static configure(ge){return{ngModule:ke,providers:[{provide:S,useValue:ge},Q,Me]}}}return ke.\u0275fac=function(ge){return new(ge||ke)},ke.\u0275mod=m.oAB({type:ke}),ke.\u0275inj=m.cJS({providers:[Q],imports:[r.JF,s.ez,be,ve.UK]}),ke})()},9357:(Ge,ae,e)=>{"use strict";e.d(ae,{e6:()=>s,p6:()=>C,XA:()=>D,yz:()=>S,l3:()=>B,nM:()=>Y,ys:()=>K,$P:()=>T,KM:()=>A,LP:()=>l,do:()=>ue,i8:()=>$,MW:()=>r,y0:()=>W,YM:()=>w,wy:()=>d});var t=e(59562),n=e(42930),x=e(45661),M=e(23815),L=e(53809),p=e(33932),P=e(89258),a=e(51325),o=e(71265),v=e(85566),y=e(64710),C=(()=>{return(N=C||(C={})).Full="Full",N.None="None",N.Temp="Temp",C;var N})(),A=(()=>{return(N=A||(A={})).Functional="functional",N.Technical="technical",N.Behavioral="behavioral",A;var N})(),d=(()=>((d||(d={})).Undefined="undefined",d))(),m=(()=>{return(N=m||(m={})).EventsCommonStore="eventsCommonStore",N.EventsDetailStore="eventsDetailStore",N.EventsDetailStoreTechnical="eventsDetailStoreTechnical",N.EventsDetailStoreBehavioral="eventsDetailStoreBehavioral",N.UserDataConsentStore="userDataConsentStore",m;var N})(),S=(()=>{return(N=S||(S={})).USER_ID="USER_ID",N.DEVICE_ID="DEVICE_ID",N.SESSION_ID="SESSION_ID",S;var N})(),s=(()=>{return(N=s||(s={})).SharedStorage="SharedStorage",N.LocalStorage="LocalStorage",N.AbHub="AbHub",N.IndexedDb="IndexedDb",s;var N})();class r{constructor(H){this.parameters=H,this.ts=(new Date).toISOString()}}const l={server:"https://events.gfe.nvidia.com",version:"v1.0",schemaVersion:"1.0",defaultRetries:2,defaultTimeBetweenRetries:1e3,defaultTimeout:3e4,msBetweenSendRequest:5e3,maxEventsPerRequest:128,clientId:"",systemInfoEventDelay:1e4,productName:"GFN"},i=new r({}),O={clientId:"{CLIENTID}",clientVer:"{CLIENTVER}",eventSchemaVer:"{EVENTSCHEMAVER}",eventSysVer:"0.15.1",deviceId:d.Undefined,userId:d.Undefined,externalUserId:d.Undefined,idpId:d.Undefined,sessionId:d.Undefined,deviceOS:d.Undefined,deviceOSVersion:d.Undefined,deviceType:d.Undefined,deviceModel:d.Undefined,deviceMake:d.Undefined,clientType:d.Undefined,clientVariant:d.Undefined,sentTs:"",events:[i],integrationId:d.Undefined,browserType:d.Undefined,productName:d.Undefined,productVersion:d.Undefined},Y={functional:C.None,technical:C.None,behavioral:C.None},T={functional:C.Temp,technical:C.None,behavioral:C.None},B={functional:C.Full,technical:C.None,behavioral:C.None},K={functional:C.Full,technical:C.Full,behavioral:C.None};var b=(()=>{return(N=b||(b={})).Ok="OK",N.InvalidInfoForEventType="INVALID_INFO_FOR_EVENT_TYPE",N.UnknownEventType="UNKNOWN_EVENT_TYPE",N.UnProcessed="UNPROCESSED",N.ExperimentAlreadyActive="EXPERIMENT_ALREADY_ACTIVE",N.FunctionalConsentNotReceived="FUNCTIONAL_CONSENT_NOT_RECEIVED",N.LocaleSwitchInProgress="LOCALE_SWITCH_INPROGRESS",b;var N})(),f=(()=>{return(N=f||(f={})).Win="Win",N.Mac="Mac",N.Android="Android",N.NvAndroid="NvAndroid",N.Linux="Linux",N.Web="Web",N.Undefined="undefined",f;var N})();const D={userConsent:Y,userId:"",externalUserId:"",idpId:""},w=1e3;var _=e(39609);let $=(()=>{class N{}return N.\u0275fac=function(h){return new(h||N)},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac}),N})();var G=e(69060),F=e(85948);let J=(()=>{class N{constructor(h,E,ee){this.sdkConfig=h,this.endpointFactory=E,this.distributedTracingUtilService=ee,this.eventServerEndpoint=this.endpointFactory.createEndpoint({headers:{"Content-Type":"application/json"},config:{timeout:this.sdkConfig.defaultTimeout,timeBetweenRetries:this.sdkConfig.defaultTimeBetweenRetries,maxRetries:this.sdkConfig.defaultRetries},reportRequest:!1})}generateUrl(h){return this.sdkConfig.server+"/"+this.sdkConfig.version+h}sendEvent(h,E,ee,R){null!==h&&h.hasOwnProperty("sync")&&delete h.sync;const ne={body:E,headers:{"Content-Type":"application/json","X-Event-Protocol":"1.5"},params:{immediateRequest:JSON.stringify(ee)}},_e=this.eventServerEndpoint.makeRequestEx("POST",this.generateUrl("/events/json"),ne);return this.distributedTracingUtilService.handleHttpEndpointSpan(_e,ne,G.j1.SendTelemetryEvent,R)}sendEventviaBeacon(h,E,ee,R){null!=h&&h.hasOwnProperty("sync")&&delete h.sync;const q=new Blob([E],{type:"text/plain"});return navigator.sendBeacon(this.generateUrl("/events/json"),q),(0,M.of)(!0)}setServer(h){return this.sdkConfig.server=h,this.getServerLocale(null)}getServerLocale(h){const E=h||this.sdkConfig.server;return E&&""!==E?E.endsWith(".cn")?"china":"global":"unknown"}}return N.\u0275fac=function(h){return new(h||N)(_.LFG($),_.LFG(F.V9),_.LFG(G.Dc))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),z=(()=>{class N{constructor(){this.windowLocalStorage=null,y.ng.isBrowserPlatform()&&(this.windowLocalStorage=window.localStorage)}getWlsItem(h,E){return this.windowLocalStorage&&JSON.parse(this.windowLocalStorage.getItem(h+E))}setWlsItem(h,E,ee){return this.windowLocalStorage&&this.windowLocalStorage.setItem(h+E,JSON.stringify(ee))}removeWlsItem(h,E){return this.windowLocalStorage&&this.windowLocalStorage.removeItem(h+E)}getLength(){return this.windowLocalStorage.length}getKey(h){return this.windowLocalStorage.key(h)}clearall(h){const E=Object.keys(this.windowLocalStorage);let ee=E.length;for(;ee--;)return E[ee].startsWith(h)&&this.windowLocalStorage.removeItem(E[ee]),!0}}return N.\u0275fac=function(h){return new(h||N)},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),Z=(()=>{class N{constructor(h,E,ee,R,q,ne,_e){this.config=h,this.eventSdkService=E,this.logService=ee,this.dbCacheService=R,this.dbService=q,this.networkStatusService=ne,this.windowLocalStorage=_e,this.commonData=O,this.defaultConsent=Y,this.currentUserConsent=Y,this.currentUserConsentUpdated=!1,this.currentUserId=d.Undefined,this.syncedUserConsentInfo=!1,this.registeredErrorCallback=this.defaultErrorCallback,this.cleanUpBacklogEvents=!1,this.sendBacklogEventsInitiated=!1,this.sendEventsInProgress=!1,this.eventsInBatch=!1,this.sendBatchEventsInProgress={functional:!1,technical:!1,behavioral:!1},this.cleanBacklogEventsInProgress=[],this.cleanWlsBacklogEventsInProgress=[],this.customParams={platform:!1},this.browserPlatform=!1,this.isTelemetryDisabled=!1,this.commonDataSubject=new t.t(1),this.serverLocale="unknown",this.purgeInitiated=!1,this.purgeInProgress={commonIsClear:!1,functionalIsClear:!1,technicalIsClear:!1,behavioralIsClear:!1,wlsIsClear:!1},this.setErrorCallback=U=>{this.registeredErrorCallback=U},this.logger=this.logService.getLogger("JsEventsService"),this.commonData.clientId=this.config.clientId,this.commonData.eventSchemaVer=this.config.schemaVersion,this.sendInterval$=(0,n.H)(0,this.config.msBetweenSendRequest),this.logger.info("initialize",h),this.networkStatusService.onlineStatusChanged.subscribe(this.onOnlineStateChanged.bind(this)),this.browserPlatform=y.ng.isBrowserPlatform(),this.serverLocale=this.eventSdkService.getServerLocale(null)}getCommonData$(){return this.commonDataSubject.asObservable()}get registeredErrorCallbackVal(){return this.registeredErrorCallback}get defaultErrorCallbackVal(){return this.defaultErrorCallback}get cleanUpBacklogEventsVal(){return this.cleanUpBacklogEvents}get currentUserConsentUpdatedVal(){return this.currentUserConsentUpdated}setDefaultConsentVal(h){this.defaultConsent=h}setSendEventsInProgressVal(h){this.sendEventsInProgress=h}defaultErrorCallback(h){this.logger.error("message:",h&&h.message?h.message:"Unknown error")}updateServer(h){const E=this.eventSdkService.setServer(h);this.onLocationStateChanged(E)}sendToServerEndpoint(h,E){const ee=h.detailData.events.slice(0);h.eventsToBeSent=h.detailData.events.length;const R=[];for(;0!==h.eventsToBeSent;){let q;this.logger.event("eventsToBeSent",h.eventsToBeSent.toString()),h.eventsToBeSent>this.config.maxEventsPerRequest?(q=ee.slice(0,this.config.maxEventsPerRequest),ee.splice(0,this.config.maxEventsPerRequest)):q=ee,h.eventsToBeSent=h.eventsToBeSent-q.length;const ne=h.commonData.common;ne.events=q,ne.sentTs=(new Date).toISOString();const _e=JSON.stringify(ne);this.logger.info("events request",_e),R.push(this.eventSdkService.sendEvent(this.customParams,_e,E))}return(0,x.D)(R)}updateCleanupState(h,E,ee){let R=!1,q=0;this.cleanBacklogEventsInProgress.forEach(ne=>{ne.recordKey===h&&(R=!0,ne.functionalIsClear=E===m.EventsDetailStore?ee:ne.functionalIsClear,ne.technicalIsClear=E===m.EventsDetailStoreTechnical?ee:ne.technicalIsClear,ne.behavioralIsClear=E===m.EventsDetailStoreBehavioral?ee:ne.behavioralIsClear,ne.functionalIsClear&&ne.technicalIsClear&&ne.behavioralIsClear&&(this.dbService.getGlobalStore(m.EventsCommonStore).removeItem(h).subscribe(),this.cleanBacklogEventsInProgress.splice(q,1)),q++)}),!1===R&&this.cleanBacklogEventsInProgress.push({recordKey:h,functionalIsClear:E===m.EventsDetailStore&&ee,technicalIsClear:E===m.EventsDetailStoreTechnical&&ee,behavioralIsClear:E===m.EventsDetailStoreBehavioral&&ee})}sendBacklogEventsDetailToServer(h,E,ee,R){return this.logger.event("attempting to send backlog events for dbName:",E," userconsent: ",h,"key: ",ee),this.dbService.getGlobalStore(E).getItem(ee).pipe((0,p.zg)(q=>{let ne;const _e=re=>{if(this.logger.event("jsEvents backlog response",re,ne.eventsToBeSent),0===ne.eventsToBeSent)return this.dbService.getGlobalStore(E).removeItem(ee).subscribe(),(0,M.of)(!0)},U=re=>{this.logger.error("Failed to send backlog events",re.status),this.logger.event("Failed to send backlog events for :",ee,E,".ErrorInfo: status",re.status)};return(h===C.Full||h===C.Temp)&&R&&q&&q.events&&q.events.length>0?(ne={commonData:(0,v.merge)({},R),detailData:(0,v.merge)({},q),eventsToBeSent:0},this.sendToServerEndpoint(ne,!1).pipe((0,P.U)(re=>{re.forEach(pe=>{_e(pe)})}),(0,a.K)(re=>(U(re),L.E)))):(h===C.None&&this.logger.event("cannot send for backlog key",ee,h,q),(!q||!q.events||0===q.events.length)&&this.updateCleanupState(ee,E,!0),this.dbService.getGlobalStore(E).removeItem(ee).subscribe(),(0,M.of)(!0))}),(0,a.K)(q=>(this.logger.event("detail data not available for backlog key",ee),this.dbService.getGlobalStore(E).removeItem(ee).subscribe(),(0,M.of)(!0))))}updateWlsCleanupState(h,E,ee){let R=!1,q=0;this.cleanWlsBacklogEventsInProgress.forEach(ne=>{ne.recordKey===h&&(R=!0,ne.functionalIsClear=E===m.EventsDetailStore?ee:ne.functionalIsClear,ne.technicalIsClear=E===m.EventsDetailStoreTechnical?ee:ne.technicalIsClear,ne.behavioralIsClear=E===m.EventsDetailStoreBehavioral?ee:ne.behavioralIsClear,ne.functionalIsClear&&ne.technicalIsClear&&ne.behavioralIsClear&&(this.windowLocalStorage.removeWlsItem(m.EventsCommonStore,h),this.cleanWlsBacklogEventsInProgress.splice(q,1)),q++)}),!1===R&&this.cleanWlsBacklogEventsInProgress.push({recordKey:h,functionalIsClear:E===m.EventsDetailStore&&ee,technicalIsClear:E===m.EventsDetailStoreTechnical&&ee,behavioralIsClear:E===m.EventsDetailStoreBehavioral&&ee})}sendWlsBacklogEventsDetailToServer(h,E,ee,R){this.logger.event("attempting to send wls backlog events for dbName:",E," userconsent: ",h,"key: ",ee);const q=this.windowLocalStorage.getWlsItem(E,ee);if(q){let ne;const _e=re=>{if(this.logger.event("jsEvents wls backlog response",re,ne.eventsToBeSent),0===ne.eventsToBeSent)return this.windowLocalStorage.removeWlsItem(E,ee)},U=re=>{this.logger.error("Failed to send wls backlog events :",re.status),this.logger.event("Failed to send wls backlog events for :",ee,E,".ErrorInfo: status",re.status)};return(h===C.Full||h===C.Temp)&&R&&q&&q.events&&q.events.length>0?(ne={commonData:(0,v.merge)({},R),detailData:(0,v.merge)({},q),eventsToBeSent:0},this.sendToServerEndpoint(ne,!1).pipe((0,P.U)(re=>{re.forEach(pe=>{_e(pe)})}),(0,a.K)(re=>(U(re),L.E)))):(h===C.None&&this.logger.event("cannot send for wls backlog key",ee,h,q),(!q||!q.events||0===q.events.length)&&this.updateWlsCleanupState(ee,E,!0),(0,M.of)(this.windowLocalStorage.removeWlsItem(E,ee)))}return this.updateWlsCleanupState(ee,E,!0),this.logger.event("detail data not available for wls backlog key",ee),(0,M.of)(this.windowLocalStorage.removeWlsItem(E,ee))}attemptSendFromAllEventStores(h,E,ee,R){return(0,x.D)([h.call(this,E.functional,m.EventsDetailStore,ee,R),h.call(this,E.technical,m.EventsDetailStoreTechnical,ee,R),h.call(this,E.behavioral,m.EventsDetailStoreBehavioral,ee,R)])}sendBacklogEvents(h){try{this.dbService.getGlobalStore(m.EventsCommonStore).getItem(h).pipe((0,p.zg)(E=>{if(this.logger.event("testCommonData",E),E&&E.common){const ee=JSON.parse(h);return this.getUserConsentFromCache(ee.userId||"undefined",!1).pipe((0,p.zg)(R=>(this.logger.event("userConsentFromCache",R),E.common.gdprTechOptIn=this.getString(R.technical),E.common.gdprFuncOptIn=this.getString(R.functional),E.common.gdprBehOptIn=this.getString(R.behavioral),E.common.deviceGdprFuncOptIn=this.getString(this.defaultConsent.functional),E.common.deviceGdprTechOptIn=this.getString(this.defaultConsent.technical),E.common.deviceGdprBehOptIn=this.getString(this.defaultConsent.behavioral),this.attemptSendFromAllEventStores(this.sendBacklogEventsDetailToServer,R,h,E))))}return this.logger.event("common data not available for backlog key",h),this.dbService.getGlobalStore(m.EventsCommonStore).removeItem(h).subscribe(),(0,M.of)(!0)}),(0,a.K)(E=>(this.logger.event("common data not available for backlog key",h),this.dbService.getGlobalStore(m.EventsCommonStore).removeItem(h).subscribe(),(0,M.of)(!0)))).subscribe()}catch(E){this.logger.error("catch backlog::",E)}}sendWlsBacklogEvents(h){try{const E=this.windowLocalStorage.getWlsItem(m.EventsCommonStore,h);if(this.logger.event("wlsCommonData",E),E){const ee=JSON.parse(h);this.getUserConsentFromCache(ee.userId||"undefined",!1).pipe((0,p.zg)(R=>{this.logger.event("userConsentFromCache",R);const q={common:E};return q.common.gdprFuncOptIn=this.getString(R.functional),q.common.gdprTechOptIn=this.getString(R.technical),q.common.gdprBehOptIn=this.getString(R.behavioral),q.common.deviceGdprFuncOptIn=this.getString(this.defaultConsent.functional),q.common.deviceGdprTechOptIn=this.getString(this.defaultConsent.technical),q.common.deviceGdprBehOptIn=this.getString(this.defaultConsent.behavioral),this.attemptSendFromAllEventStores(this.sendWlsBacklogEventsDetailToServer,R,h,q)})).subscribe()}else this.logger.event("wls common data not available for backlog key",h),this.windowLocalStorage.removeWlsItem(m.EventsCommonStore,h)}catch(E){this.logger.error("catch wls backlog:",E)}}setInProgressState(h,E){this.sendBatchEventsInProgress.functional=h===m.EventsDetailStore?E:this.sendBatchEventsInProgress.functional,this.sendBatchEventsInProgress.technical=h===m.EventsDetailStoreTechnical?E:this.sendBatchEventsInProgress.technical,this.sendBatchEventsInProgress.behavioral=h===m.EventsDetailStoreBehavioral?E:this.sendBatchEventsInProgress.behavioral,this.eventsInBatch=this.getInProgressState()}getInProgressState(){return this.sendBatchEventsInProgress.functional||this.sendBatchEventsInProgress.technical||this.sendBatchEventsInProgress.behavioral}sendBatchedEventsDetailToServer(h,E,ee,R){this.logger.event("attempting to send batched events for dbName:",E," userconsent: ",h,"key: ",ee);const q=this.dbCacheService.getCachedGlobalItem(E,ee);let ne;const _e=re=>{this.logger.event("jsEvents batched response",re);const pe=JSON.parse(re.config.data);this.cleanUpSentEvents(pe.events,E,ee),this.setInProgressState(E,!1),this.sendEventsInProgress=!1},U=re=>{this.setInProgressState(E,!1),this.sendEventsInProgress=!1,this.logger.error("Failed to send events for :",ee,".ErrorInfo: status",re.status)};return(h===C.Full||h===C.Temp)&&R&&q&&q.events&&q.events.length>0?(ne={commonData:(0,v.merge)({},R),detailData:(0,v.merge)({},q),eventsToBeSent:0},this.setInProgressState(E,!0),this.sendEventsInProgress=!0,this.sendToServerEndpoint(ne,!1).subscribe(re=>{re.forEach(pe=>{_e(pe)})},re=>{U(re)})):(h===C.None&&(!0===this.syncedUserConsentInfo||this.currentUserId===d.Undefined)&&q&&q.events&&q.events.length>0&&(this.logger.event("deleting events as userConsent is",h),q.events.splice(0,q.events.length),q.persist_().subscribe()),this.setInProgressState(E,!1),this.sendEventsInProgress=!1),L.E}sendEvents(){const h=this.getRecordKey(),E=this.dbCacheService.getCachedGlobalItem(m.EventsCommonStore,h);if(E&&E.common)this.getUserConsentFromCache(this.currentUserId||d.Undefined,!0).pipe((0,p.zg)(ee=>(E.common.gdprFuncOptIn=this.getString(ee.functional),E.common.gdprTechOptIn=this.getString(ee.technical),E.common.gdprBehOptIn=this.getString(ee.behavioral),E.common.deviceGdprFuncOptIn=this.getString(this.defaultConsent.functional),E.common.deviceGdprTechOptIn=this.getString(this.defaultConsent.technical),E.common.deviceGdprBehOptIn=this.getString(this.defaultConsent.behavioral),this.attemptSendFromAllEventStores(this.sendBatchedEventsDetailToServer,ee,h,E)))).subscribe();else{if(this.logger.event("common data not available for key",h),E&&(0,v.isUndefined)(E.common))try{this.registeredErrorCallback("common data not set before starting to send events")}catch(ee){this.logger.error(ee),this.defaultErrorCallback("Invalid callback. Original Error: common data not set before starting to send events")}this.sendEventsInProgress=!1}}startTimeBasedSendToServer(){this.stopTimeBasedSendToServer(),this.sendEventSubscription=this.sendInterval$.subscribe(()=>{this.logger.event("events in batch:",this.eventsInBatch),!0===this.eventsInBatch&&!1===this.sendEventsInProgress&&!1===this.getInProgressState()&&!1===this.getPurgeInProgressState()&&(this.sendEventsInProgress=!0,this.sendEvents())}),this.logger.event("send interval request made")}stopTimeBasedSendToServer(){this.sendEventSubscription&&(this.sendEventSubscription.unsubscribe(),this.sendEventSubscription=null,this.logger.event("send interval stopped"))}onOnlineStateChanged(h){this.isOnline=h,this.isOnline?this.defaultConsent!==Y&&(this.logger.info("jsEvents turns into online"),this.startTimeBasedSendToServer()):(this.logger.info("jsEvents turns into offline"),this.stopTimeBasedSendToServer())}onLocationStateChanged(h){"unknown"!==this.serverLocale&&this.serverLocale!==h&&(this.logger.info("purge stored events"),this.purgeInitiated=!0,this.purgeEventStoreRecords()),this.serverLocale=h}purgeEventStoreRecords(){this.purgeInProgress={commonIsClear:!1,functionalIsClear:!1,technicalIsClear:!1,behavioralIsClear:!1,wlsIsClear:!1},this.dbService.getGlobalStore(m.EventsDetailStore).clear().subscribe(()=>{this.purgeInProgress.functionalIsClear=!0}),this.dbService.getGlobalStore(m.EventsDetailStoreTechnical).clear().subscribe(()=>{this.purgeInProgress.technicalIsClear=!0}),this.dbService.getGlobalStore(m.EventsDetailStoreBehavioral).clear().subscribe(()=>{this.purgeInProgress.behavioralIsClear=!0}),this.dbService.getGlobalStore(m.EventsCommonStore).clear().subscribe(()=>{this.purgeInProgress.commonIsClear=!0}),this.windowLocalStorage.clearall(m.EventsDetailStore),this.windowLocalStorage.clearall(m.EventsDetailStoreTechnical),this.windowLocalStorage.clearall(m.EventsDetailStoreBehavioral),this.windowLocalStorage.clearall(m.EventsCommonStore),this.purgeInProgress.wlsIsClear=!0}getPurgeInProgressState(){let h=!1;return this.purgeInitiated&&(h=!(this.purgeInProgress.wlsIsClear&&this.purgeInProgress.functionalIsClear&&this.purgeInProgress.technicalIsClear&&this.purgeInProgress.behavioralIsClear&&this.purgeInProgress.commonIsClear),this.purgeInitiated=h),h}getUserConsentFromCache(h,E){const R=this.dbCacheService.getOrCreateCachedGlobalItem(m.UserDataConsentStore,h||d.Undefined);return R?R.sync_().pipe((0,P.U)(()=>{const q=R&&R.userConsent;return!0===E&&((0,v.isNil)(q)?this.currentUserId===d.Undefined&&(this.currentUserConsent=this.defaultConsent,this.currentUserConsentUpdated=!0):(this.currentUserConsent=q,this.currentUserConsentUpdated=!0)),q||this.defaultConsent}),(0,a.K)(q=>(0,M.of)(this.defaultConsent))):(0,M.of)(this.defaultConsent)}syncUserConsentInfo(h){const E=h.find(ee=>ee.userId===this.currentUserId);E&&(this.currentUserConsent=E.userConsent,this.currentUserConsentUpdated=!0),h.forEach(ee=>{const R=this.dbCacheService.getOrCreateCachedGlobalItem(m.UserDataConsentStore,ee.userId);this.logger.event("previously cached consent",R.userConsent),R.userConsent=ee.userConsent,R.persist_().subscribe(),this.logger.event("updated consent",ee.userConsent)}),this.syncedUserConsentInfo=!0,this.startSendingEvents()}setDefaultConsent(h){this.defaultConsent=h,(this.currentUserId===d.Undefined||(0,v.isUndefined)(this.currentUserId))&&(this.currentUserConsent=this.defaultConsent,this.currentUserConsentUpdated=!0),this.startSendingEvents()}eventHasUserConsent(h){let E;return E=!0===this.currentUserConsentUpdated?this.currentUserConsent:this.defaultConsent,h===A.Functional?E.functional:h===A.Technical?E.technical:h===A.Behavioral?E.behavioral:C.None}cleanUpDbStore(){if(this.isTelemetryDisabled)return;const h=this;if(this.commonData.sessionId===d.Undefined)return void h.logger.info("Cleanup cannot proceed, this.commonData.sessionId is undefined");this.sendBacklogEventsInitiated=!0;const E=JSON.parse(this.getRecordKey());this.logger.info("cleanUpDbStore excluding session for",E);try{h.dbService.getGlobalStore(m.EventsCommonStore).keys().pipe((0,o.b)(ee=>{ee.forEach((R,q)=>{if(h.logger.event("Key#",q,"key ",R),"_version"===R)h.logger.info("_version to be skipped",R);else{const ne=JSON.parse(R);""===ne.sessionId||ne.sessionId===E.sessionId?h.logger.info("key not to be processed",ne):h.sendBacklogEvents(R)}})})).subscribe()}catch(ee){h.logger.error("iterate trycatch:",ee)}}cleanUpWlsStore(){this.sendBacklogEventsInitiated=!0;const h=JSON.parse(this.getRecordKey());this.logger.info("cleanUpWlsStore excluding session for",h);for(let E=0;E<this.windowLocalStorage.getLength();++E){const ee=this.windowLocalStorage.getKey(E);if(ee.match("^"+m.EventsCommonStore)){this.logger.event("Key#",E,"key ",ee);const R=JSON.parse(ee.replace(m.EventsCommonStore,""));""===R.sessionId||R.sessionId===h.sessionId?this.logger.event("key not to be processed",R):this.sendWlsBacklogEvents(JSON.stringify(R))}}}cleanUpSentEvents(h,E,ee){this.logger.event("cleanUpSentEvents for",ee);const R=this.dbCacheService.getCachedGlobalItem(E,ee);h.forEach(q=>{if(R&&R.events.length>0){const ne=R.events.find(_e=>_e.ts===q.ts);if(ne&&(0,v.isEqual)(ne.parameters,q.parameters)){const _e=R.events.indexOf(ne);this.logger.event("matching event found",q),R.events.splice(_e,1),R.persist_().subscribe()}else this.logger.event("matching event not found")}else this.logger.event("events seem to be already cleared")}),R.persist_().subscribe()}startSendingEvents(){this.isOnline&&this.defaultConsent!==Y&&"unknown"!==this.serverLocale?(this.startTimeBasedSendToServer(),!1===this.sendBacklogEventsInitiated&&(this.cleanUpDbStore(),this.cleanUpBacklogEvents=!1)):this.logger.info("Device offline or No Functional consent. No clean job happened.",this.defaultConsent)}updateGdprQualifiers(h){return(0,v.omit)(h,"gdprLevel")}getString(h){return h&&"string"!=typeof h?JSON.stringify(h):h||""}getRecordKey(){return JSON.stringify({sessionId:this.commonData.sessionId||d.Undefined,userId:this.currentUserId||d.Undefined})}getFormattedInputData(h,E){const ee=(0,v.extend)({},this.commonData);!0===E.anonymize&&(ee.deviceId="undefined",ee.userId="undefined",ee.sessionId="undefined",ee.externalUserId="undefined",ee.idpId="undefined");const R=this.updateGdprQualifiers(h);this.logger.event("eventDetail",R);const q=[];return q.push(R),ee.events=q,ee.sentTs=(new Date).toISOString(),ee.gdprFuncOptIn=this.getString(this.currentUserConsent.functional),ee.gdprTechOptIn=this.getString(this.currentUserConsent.technical),ee.gdprBehOptIn=this.getString(this.currentUserConsent.behavioral),ee.deviceGdprFuncOptIn=this.getString(this.defaultConsent.functional),ee.deviceGdprTechOptIn=this.getString(this.defaultConsent.technical),ee.deviceGdprBehOptIn=this.getString(this.defaultConsent.behavioral),JSON.stringify(ee)}setFormattedEventsDetailData(h,E,ee){const R=this.getRecordKey();let ne,q=m.EventsDetailStore;if(h.gdprLevel===A.Technical&&(q=m.EventsDetailStoreTechnical),h.gdprLevel===A.Behavioral&&(q=m.EventsDetailStoreBehavioral),E){ne=this.windowLocalStorage.getWlsItem(q,R)||{},ne.events=ne.events||[];const _e=(0,v.extend)({},this.updateGdprQualifiers(h));this.logger.event("eventDetail wls",_e),ne.events.push(_e),this.logger.event("details list wls",ne.events),this.windowLocalStorage.setWlsItem(q,R,ne),(0,v.isFunction)(ee)&&ee(),this.logger.event("request to batch an exit time event")}else{ne=this.dbCacheService.getOrCreateCachedGlobalItem(q,R);let _e=ne.events;const U=(0,v.extend)({},this.updateGdprQualifiers(h));if(this.logger.event("eventDetail IDb",U),_e)_e.push(U);else{const re=[];re.push(U),_e=re}this.logger.event("details list indexed db",_e),ne.events=_e,ne.persist_().subscribe(()=>{(0,v.isFunction)(ee)&&ee(),this.logger.event("request to batch an event"),this.eventsInBatch=!0})}}storeEventDetail(h,E){this.setFormattedEventsDetailData(h,this.browserPlatform&&E.appExit||!1,E.afterDone||null)}sendEventDetail(h,E){if(h){if(E=(0,v.merge)({},E),(0,v.isEqual)(this.defaultConsent,Y)||h&&(0,v.isUndefined)(h.gdprLevel))return this.logger.info("Functional consent not received, discarding event",h.name,h.gdprLevel),(0,v.isFunction)(E.afterDone)&&E.afterDone(),b.FunctionalConsentNotReceived;if(this.getPurgeInProgressState())return b.LocaleSwitchInProgress;if("unknown"===this.serverLocale||!0!==E.immediateRequest&&!0!==E.useBeacon||!0!==this.isOnline)this.storeEventDetail(h,E);else{const ee=this.eventHasUserConsent(h.gdprLevel);if(this.logger.event("attempting to send immediate event for userId:",this.currentUserId," userconsent: ",this.currentUserConsent),ee!==C.Full&&ee!==C.Temp)return this.currentUserId&&this.currentUserId!==d.Undefined&&!1===this.currentUserConsentUpdated?(this.storeEventDetail(h,E),this.logger.event("Event stored as userConsent not synced yet",ee,this.currentUserConsentUpdated)):((0,v.isFunction)(E.afterDone)&&E.afterDone(),this.logger.error("Event cannot be sent due to consent level:",ee)),ee;{const R=this.getFormattedInputData(h,E);this.logger.info("jsonString request to send:",R);let q=this.eventSdkService.sendEvent,ne=!0;E.useBeacon&&(q=this.eventSdkService.sendEventviaBeacon,ne=!1),q.call(this.eventSdkService,this.customParams,R,ne).subscribe(_e=>{this.logger.event("jsevents response",_e),(0,v.isFunction)(E.afterDone)&&E.afterDone()},_e=>{this.logger.error("Failed to send eventdata for:",h.name,".ErrorInfo: status",_e.status,", data",_e.config&&_e.config.data),this.storeEventDetail(h,E)})}}return b.Ok}return this.logger.error("Empty request"),b.UnProcessed}sendEventDetailWithPromise(h,E){return new Promise((ee,R)=>{if(h){if(E=(0,v.merge)({},E),(0,v.isEqual)(this.defaultConsent,Y)||h&&(0,v.isUndefined)(h.gdprLevel))return this.logger.info("Functional consent not received, discarding event",h.name,h.gdprLevel),(0,v.isFunction)(E.afterDone)&&E.afterDone(),void R(b.FunctionalConsentNotReceived);if(this.getPurgeInProgressState())return void R(b.LocaleSwitchInProgress);if("unknown"===this.serverLocale||!0!==E.immediateRequest&&!0!==E.useBeacon||!0!==this.isOnline)this.storeEventDetail(h,E),ee(b.Ok);else{const q=this.eventHasUserConsent(h.gdprLevel);if(this.logger.event("attempting to send immediate event for userId:",this.currentUserId," userconsent: ",this.currentUserConsent),q===C.Full||q===C.Temp){const ne=this.getFormattedInputData(h,E);let _e=this.eventSdkService.sendEvent,U=!0;E.useBeacon&&(_e=this.eventSdkService.sendEventviaBeacon,U=!1),_e.call(this.eventSdkService,this.customParams,ne,U).subscribe(re=>{this.logger.event("jsevents response",re),(0,v.isFunction)(E.afterDone)&&E.afterDone(),ee(b.Ok)},re=>{this.logger.error("Failed to send eventdata for:",h.name,".ErrorInfo: status",re.status,", data",re.config&&re.config.data),this.storeEventDetail(h,E),ee(b.UnProcessed)})}else this.currentUserId&&this.currentUserId!==d.Undefined&&!1===this.currentUserConsentUpdated?(this.storeEventDetail(h,E),this.logger.event("Event stored as userConsent not synced yet",q,this.currentUserConsentUpdated)):((0,v.isFunction)(E.afterDone)&&E.afterDone(),this.logger.error("Event cannot be sent due to consent level:",q)),ee(q)}}else this.logger.error("Empty request"),ee(b.Ok)})}isValidPlatformType(h){return h===f.Win||h===f.Mac||h===f.Android||h===f.NvAndroid||h===f.Linux||h===f.Web}setEventsCommonData(h){if(!h)return this.logger.error("Undefined common data sent by client"),(0,M.of)(void 0);this.cleanUpBacklogEvents=!1,this.commonData.sessionId===d.Undefined&&h.sessionId&&(this.cleanUpBacklogEvents=!0),this.commonData=(0,v.merge)({},this.commonData,h),this.logger.info("client user data",h.userId,h.externalUserId,h.idpId),this.logger.info("this.commonData user data",this.commonData.userId,this.commonData.externalUserId,this.commonData.idpId),this.commonData.eventProtocol="1.5",this.currentUserId=this.commonData.idpId!==d.Undefined?this.commonData.userId:this.commonData.externalUserId,this.isValidPlatformType(this.commonData.platform)||(this.commonData.platform=f.Undefined),this.currentUserConsentUpdated=!1,this.logger.info("Device Id:",this.commonData.deviceId,"set for client:",this.commonData.clientId);const E=this.getUserConsentFromCache(this.currentUserId,!0);this.logger.event(this.commonData);const ee=this.getRecordKey(),R=this.dbCacheService.getOrCreateCachedGlobalItem(m.EventsCommonStore,ee);if(R.common=this.commonData,R.persist_().subscribe(),this.browserPlatform){let q=this.windowLocalStorage.getWlsItem(m.EventsCommonStore,ee)||{};q=this.commonData,this.windowLocalStorage.setWlsItem(m.EventsCommonStore,ee,q)}return this.isOnline&&this.defaultConsent!==Y&&"unknown"!==this.serverLocale?(this.startTimeBasedSendToServer(),this.cleanUpBacklogEvents&&!1===this.sendBacklogEventsInitiated&&(this.cleanUpDbStore(),this.cleanUpBacklogEvents=!1),this.browserPlatform&&this.cleanUpWlsStore()):this.logger.info("Device offline or No Functional consent. No clean job happened.",this.defaultConsent),this.commonDataSubject.next(this.commonData),E}setOverrideToolTelemetryState(h){this.isTelemetryDisabled=h}ngOnDestroy(){this.sendEventSubscription&&(this.sendEventSubscription.unsubscribe(),this.sendEventSubscription=void 0)}}return N.\u0275fac=function(h){return new(h||N)(_.LFG($),_.LFG(J),_.LFG(y.ed),_.LFG(y.LA),_.LFG(y.MC),_.LFG(y._J),_.LFG(z))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})(),ue=(()=>{class N{static forRoot(h){return{ngModule:N,providers:[{provide:$,useValue:h||l}]}}}return N.\u0275fac=function(h){return new(h||N)},N.\u0275mod=_.oAB({type:N}),N.\u0275inj=_.cJS({}),N})();var u=e(21361),k=e(63155);let W=(()=>{class N{constructor(h,E,ee){this.loggingService=h,this.bridgeService=E,this.jsEventsService=ee,this.clientVersion="undefined",this.currentScreen="",this.deviceId="undefined",this.isUIRefreshed=!1,this.launchUiEventSent=!1,this.sessionId="undefined",this.sync=!1,this.userId="undefined",this.externalUserId="undefined",this.idpId="undefined",this.platform=null,this.deviceOS=null,this.deviceOSVersion=null,this.deviceType=null,this.deviceModel=null,this.deviceMake=null,this.clientType=null,this.clientVariant=null,this.integrationId=null,this.browserType=null,this.productName=null,this.productVersion=null,this.isTelemetryDisabled=!1,this.defaultConsentListener$=new t.t(1),this.commonDataListener$=new t.t(1),this.validUserIdResetListener$=new t.t(1),this.consentUpdatedPromise=new Promise(R=>{R(null)}),this.logEvaluatorCallback=R=>!0,this.logger=this.loggingService.getLogger("telemetryService"),this.getUIRefreshState(),this.sessionId=this.generateSessionId()}updateTelemetrySessionId(h){this.sessionId=h}initialize(h){this.isTelemetryDisabled=h,this.jsEventsService.setOverrideToolTelemetryState(this.isTelemetryDisabled)}getCommonData$(){return this.jsEventsService.getCommonData$()}setLaunchUiEventSent(h){this.launchUiEventSent=h,this.logger.info("Launch UI event sent: ",this.launchUiEventSent)}getLaunchUiEventSent(){return this.launchUiEventSent}setLoggingEvaluator(h){this.logEvaluatorCallback=h}getUIRefreshState(){this.logger.info("Getting  UI Refreshed state"),this.bridgeService.executeCommand(u.Gh.Common.Applicationinfo.GetIsUIRefreshed).subscribe(h=>{this.isUIRefreshed=h,this.logger.info("Refreshed state",this.isUIRefreshed)},()=>{this.logger.error("Failed to get UI Refreshed state")})}generateSessionId(){let h=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ee){const R=(h+16*Math.random())%16|0;return h=Math.floor(h/16),("x"===ee?R:3&R|8).toString(16)})}get telemetrySessionId(){return this.sessionId}setEventsCommonData(h,E=!1,ee=!1){this.logger.info("telemetry sessionId is ",this.sessionId),!this.deviceId&&h&&h.deviceId&&this.logger.info("telemetry deviceId",h.deviceId),(E&&h&&h.userId||h&&h.externalUserId)&&(this.logger.info("telemetry userId ",h.userId),this.logger.info("telemetry externalUserId ",h.externalUserId),this.logger.info("telemetry idpId ",h.idpId)),this.deviceId=h&&h.deviceId?h.deviceId:this.deviceId,this.clientVersion=h&&h.clientVer||this.clientVersion,E&&(this.userId=h.userId||"undefined",this.externalUserId=h.externalUserId||"undefined",this.idpId=h.idpId||"undefined"),this.platform=this.platform||h.platform,this.deviceOS=this.deviceOS||h.deviceOS,this.deviceOSVersion=this.deviceOSVersion||h.deviceOSVersion,this.deviceType=this.deviceType||h.deviceType,this.deviceModel=this.deviceModel||h.deviceModel,this.deviceMake=this.deviceMake||h.deviceMake,this.clientType=this.clientType||h.clientType,this.clientVariant=this.clientVariant||h.clientVariant,this.integrationId=this.integrationId||h.integrationId,this.browserType=this.browserType||h.browserType,this.productName=this.productName||h.productName,this.productVersion=this.productVersion||h.productVersion,ee&&(this.integrationId=h.integrationId||"undefined"),this.logger.info("Setting common events data: ",{clientVer:this.clientVersion,sessionId:this.sessionId,deviceId:this.deviceId,userId:this.userId,externalUserId:this.externalUserId,idpId:this.idpId,platform:this.platform,deviceOS:this.deviceOS,deviceOSVersion:this.deviceOSVersion,deviceType:this.deviceType,deviceModel:this.deviceModel,deviceMake:this.deviceMake,clientType:this.clientType,clientVariant:this.clientVariant,integrationId:this.integrationId,browserType:this.browserType,productName:this.productName,productVersion:this.productVersion}),this.consentUpdatedPromise=this.jsEventsService.setEventsCommonData({clientVer:this.clientVersion,sessionId:this.sessionId,deviceId:this.deviceId,userId:this.userId,externalUserId:this.externalUserId,idpId:this.idpId,platform:this.platform,deviceOS:this.deviceOS||d.Undefined,deviceOSVersion:this.deviceOSVersion||d.Undefined,deviceType:this.deviceType||d.Undefined,deviceModel:this.deviceModel||d.Undefined,deviceMake:this.deviceMake||d.Undefined,clientType:this.clientType||d.Undefined,clientVariant:this.clientVariant||d.Undefined,integrationId:this.integrationId||d.Undefined,browserType:this.browserType||d.Undefined,productName:this.productName||d.Undefined,productVersion:this.productVersion||d.Undefined}).toPromise(),this.userId&&this.deviceId&&this.deviceId!==d.Undefined&&this.commonDataListener$.next(!0),this.validUserIdResetListener$.next(E&&this.userId&&this.userId!==d.Undefined)}setScreen(h){this.currentScreen=h}getScreen(){return this.currentScreen}changeSync(h){this.sync=h}setDefaultClientConsent(h){this.logger.event("Set client consent: ",h),this.jsEventsService.setDefaultConsent(h),this.defaultConsentListener$.next(!0)}getDefaultClientConsentObserable(){return this.defaultConsentListener$.pipe((0,k.P)())}getCommonDataObservable(){return this.commonDataListener$.pipe((0,k.P)())}getValidUserIdResetObservable(){return this.validUserIdResetListener$.asObservable()}setUserConsent(h){this.logger.event("Set user consent: ",h),this.jsEventsService.syncUserConsentInfo(h)}setServerConfig(h){this.jsEventsService.updateServer(h)}push(h,E,ee){if(this.isUIRefreshed||this.isTelemetryDisabled)this.logger.info("Disabled telemetry",h.name);else if(h){if(ee=(0,v.merge)({},ee),ee=(0,v.extend)(ee,{appExit:this.sync}),E&&h.parameters.hasOwnProperty("totalMs")){const R=Date.now(),q=R-E;this.logger.info("Started ",h.name,"at ",E,"and ended at ",R,"Time elapsed(ms)",q),h.parameters=(0,v.merge)(h.parameters,{totalMs:q})}this.logEvaluatorCallback(h)&&this.logger.event("Event detail: ",h),this.consentUpdatedPromise.then(()=>{this.logger.info("Sending event "+h.name),this.jsEventsService.sendEventDetail(h,ee)})}else this.logger.error("Empty event.")}pushWithPromise(h,E,ee){if(this.isUIRefreshed||this.isTelemetryDisabled)return this.logger.info("Disabled telemetry",h.name),new Promise((R,q)=>{R("Disabled telemetry")});if(h){if(ee=(0,v.merge)({},ee),ee=(0,v.extend)(ee,{appExit:this.sync}),E&&h.parameters.hasOwnProperty("totalMs")){const R=Date.now(),q=R-E;this.logger.info("Started ",h.name,"at ",E,"and ended at ",R,"Time elapsed(ms)",q),h.parameters=(0,v.merge)(h.parameters,{totalMs:q})}return this.logEvaluatorCallback(h)&&this.logger.event("Event detail: ",h),new Promise(R=>{this.consentUpdatedPromise.then(()=>this.jsEventsService.sendEventDetailWithPromise(h,ee)).then(q=>{R(q)})})}return this.logger.error("Empty event."),new Promise((R,q)=>{q("Empty event.")})}}return N.\u0275fac=function(h){return new(h||N)(_.LFG(y.ed),_.LFG(y.dF),_.LFG(Z))},N.\u0275prov=_.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},85948:(Ge,ae,e)=>{"use strict";e.d(ae,{PN:()=>S,n0:()=>r,uW:()=>n,ay:()=>O,V9:()=>Y,Bs:()=>m});var t=e(39609);let n=(()=>{class T{}return T.\u0275fac=function(K){return new(K||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({}),T})();var x=e(52474),M=e(49048),L=e(33932),p=e(89258),P=e(73553),a=e(18388),o=e(42930),v=e(96671),y=e(85566);const C={timeBetweenRetries:0,maxRetries:0,retryOnTimeout:!1,exponentialBackoffMaxDelay:3e4},A="TimeoutError";var m=(()=>{return(T=m||(m={}))[T.UnknownError=0]="UnknownError",T[T.RequestTimeout=-100]="RequestTimeout",T[T.RequestCancelled=-101]="RequestCancelled",T[T.NetworkStatusOffline=-102]="NetworkStatusOffline",T[T.DNSLookupFailed=-103]="DNSLookupFailed",m;var T})();const S=36e5;var s=e(80155);const r={authorization:"Authorization",xRequestId:"x-request-id"};class O{constructor(B,K,b={}){this.http=B,this.networkStatusService=K,this.configOptions=b,(0,y.isNil)(this.configOptions.config)&&(this.configOptions.config=C),(0,y.isNil)(this.configOptions.config.retryOnTimeout)&&(this.configOptions.config.retryOnTimeout=C.retryOnTimeout),(0,y.isNil)(this.configOptions.config.exponentialBackoffMaxDelay)&&(this.configOptions.config.exponentialBackoffMaxDelay=C.exponentialBackoffMaxDelay)}static httpErrorEvents$(){return O.httpErrorEventsSubject.asObservable()}static httpSuccessEvents$(){return O.httpSuccessEventsSubject.asObservable()}static httpStartEvents$(){return O.httpStartEventsSubject.asObservable()}static replaceTemplateKey(B,K,b,f){let D=B;if("string"==typeof b){const I=":"+K;-1!==B.indexOf(I)&&(D=B.replace(new RegExp(I,"g"),encodeURIComponent(b)),f(K))}return D}static formatUrl(B,K){let b=B;return b=Object.keys(K).reduce((f,D)=>O.replaceTemplateKey(f,D,K[D],I=>delete K[I]),b),b}static isRetryableError(B,K,b){let f=!0;return B instanceof x.UA?0!==B.status||b.isOnline?429===B.status?f=!0:0!==B.status&&(B.status<500||B.status>=600)&&(f=!1):f=!1:B instanceof Error&&B.name===A&&!K.retryOnTimeout&&(f=!1),f}static formatError(B,K,b,f){const D=O.getFullUrl(B,K);let I,w;b instanceof x.UA?(I=b,w=b.status):b&&b.name===A&&(w=m.RequestTimeout);const _={url:D,status:w,rawResponse:I};return(0,y.isNil)(f.headers[r.xRequestId])||(_.xRequestId=f.headers[r.xRequestId]),_}static getFullUrl(B,K){const b=Object.keys(K);if(b.length>0){B+="?";for(const f of b)B+=`${f}=${K[f]}&`;B=B.substring(0,B.length-1)}return B}static applyTimeout(B,K){return(0,y.isNil)(K.timeout)?B:B.pipe((0,M.V)(K.timeout))}static isReportRequest(B){return(0,y.isNil)(B.reportRequest)||!0===B.reportRequest}genericRetryStrategy(B,K,b){return b.pipe((0,L.zg)((f,D)=>{var I;const w=D+1,_=O.formatError(B,K.params,f,K);if(O.isReportRequest(K)&&(K.reportRequestData=Object.assign(Object.assign({},K.reportRequestData),{retryCount:String(w)}),O.httpErrorEventsSubject.next({response:_,options:K})),w>K.config.maxRetries||!O.isRetryableError(f,K.config,this.networkStatusService))return(0,a._)(_);let $;if(K.config.timeBetweenRetries)$=K.config.timeBetweenRetries;else{const G=null===(I=K.config)||void 0===I?void 0:I.exponentialBackoffMaxDelay;$=1e3,w>1&&($=Math.min(1e3*Math.pow(2,w-1),G))}if(f instanceof x.UA&&(429===f.status||503===f.status)){const G=+(f.headers.get("retry-after")||0);isNaN(G)||($=Math.max($,1e3*G))}return(0,o.H)($)}))}initRequest(B,K){const b=K;return b.params=Object.assign(Object.assign({},this.configOptions.params),K.params),b.headers=Object.assign(Object.assign({},this.configOptions.headers),K.headers),b.config=Object.assign(Object.assign({},this.configOptions.config),K.config),b.reportRequestData=Object.assign(Object.assign({},this.configOptions.reportRequestData),K.reportRequestData),b.reportRequest=this.configOptions.reportRequest&&K.reportRequest,b.includeRequestId&&(b.headers[r.xRequestId]=(0,s.Rl)()),[b,O.formatUrl(B,b.params)]}makeRequest(B,K,b={}){return this.makeRequestEx(B,K,b).pipe((0,p.U)(f=>null!=b&&b.includeFullResponse?f:f.body))}get(B,K={}){return this.makeRequest("GET",B,K)}delete(B,K={}){return this.makeRequest("DELETE",B,K)}post(B,K={}){return this.makeRequest("POST",B,K)}patch(B,K={}){return this.makeRequest("PATCH",B,K)}put(B,K={}){return this.makeRequest("PUT",B,K)}makeRequestEx(B,K,b={}){const[f,D]=this.initRequest(K,b);O.isReportRequest(f)&&O.httpStartEventsSubject.next({method:B,url:D,options:f}),f.reportRequestData.requestStartTime=Date.now().toString();const I=this.http.request(B,D,{body:f.body,params:f.params,headers:f.headers,responseType:f.responseType,observe:"response",withCredentials:!!f.withCredentials&&f.withCredentials});return O.applyTimeout(I,this.configOptions.config).pipe((0,P.a)(w=>this.genericRetryStrategy(D,f,w)),(0,p.U)(w=>{const _=(0,y.extend)(w,{config:{data:f.body}});return f.reportRequestData.requestEndTime=Date.now().toString(),O.isReportRequest(f)&&"false"!==f.reportRequestData.reportSuccessTelemetry&&O.httpSuccessEventsSubject.next({response:_,options:f}),_}))}getResponse(B,K={}){return this.makeRequestEx("GET",B,K)}}O.httpErrorEventsSubject=new v.xQ,O.httpSuccessEventsSubject=new v.xQ,O.httpStartEventsSubject=new v.xQ;let Y=(()=>{class T{constructor(K,b){this.http=K,this.networkStatusService=b}createEndpoint(K){return new O(this.http,this.networkStatusService,K)}}return T.\u0275fac=function(K){return new(K||T)(t.LFG(x.eN),t.LFG(s.kE))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},59248:(Ge,ae,e)=>{"use strict";e.d(ae,{AZ:()=>Le,Gp:()=>v,Ow:()=>le});var t=e(52954),n=e(37661),x=e(34375),M=e(53722),L=e(715),p=e(235),P=e(50239),a=e(22804),o=e(39609);let v=(()=>{class Re{}return Re.\u0275fac=function(ve){return new(ve||Re)},Re.\u0275mod=o.oAB({type:Re}),Re.\u0275inj=o.cJS({imports:[t.ez,x.yu,M._r,n.Ps,a.hp,p.U8,P.o9,L.aw.forChild()]}),Re})();var y=e(59240),C=e(96671),A=e(42520),d=e(39700),m=e(3691),S=e(89258),s=e(10907),r=e(11688),l=(()=>{return(Re=l||(l={})).Space="Space",Re.CapsLock="CapsLock",Re.Backspace="Backspace",Re.ArrowLeft="ArrowLeft",Re.ArrowRight="ArrowRight",Re.Enter="Enter",Re.Escape="Escape",Re.PrimaryType="abc",Re.SecondaryType="*&$",l;var Re})(),i=(()=>{return(Re=i||(i={}))[Re.Off=0]="Off",Re[Re.Once=1]="Once",Re[Re.Always=2]="Always",i;var Re})();const O=new Map([[["0",")"],"Digit0"],[["1","!"],"Digit1"],[["2","@"],"Digit2"],[["3","#"],"Digit3"],[["4","$"],"Digit4"],[["5","%"],"Digit5"],[["6","^"],"Digit6"],[["7","&"],"Digit7"],[["8","*"],"Digit8"],[["9","("],"Digit9"],[[";",":"],"Semicolon"],[["/","?"],"Slash"],[["`","~"],"Backquote"],[["[","{"],"BracketLeft"],[["\\","|"],"Backslash"],[["]","}"],"BracketRight"],[["'",'"'],"Quote"],[[".",">"],"Period"],[[",","<"],"Comma"],[["-","_"],"Minus"],[["=","+"],"Equal"]]);var Y=e(89597),T=e(6147),B=e(90657);const K=["container"],b=function(){return["1","2","3","4","5","6","7","8","9","0"]},f=function(Re){return{keys:Re}},D=function(){return["q","w","e","r","t","y","u","i","o","p"]},I=function(){return["a","s","d","f","g","h","j","k","l","@"]},w=function(){return["z","x","c","v","b","n","m",",",".","?"]},_=function(Re){return{text:Re}};function $(Re,Q){if(1&Re&&(o.ynx(0),o.TgZ(1,"tr",null,13),o.GkF(3,14),o.TgZ(4,"td",15),o.GkF(5,16),o.qZA()(),o.TgZ(6,"tr"),o.GkF(7,14),o.TgZ(8,"td",17),o.GkF(9,16),o.qZA(),o.TgZ(10,"td",17),o.GkF(11,16),o.qZA()(),o.TgZ(12,"tr"),o.GkF(13,14),o.TgZ(14,"td",18),o.GkF(15,16),o.qZA()(),o.TgZ(16,"tr"),o.GkF(17,14),o.qZA(),o.TgZ(18,"tr")(19,"td",17),o.GkF(20,16),o.qZA(),o.TgZ(21,"td",19),o.GkF(22,16),o.qZA(),o.TgZ(23,"td",17),o.GkF(24,14),o.qZA(),o.TgZ(25,"td",20),o.GkF(26,16),o.qZA()(),o.BQk()),2&Re){const ve=o.oxw(),be=o.MAs(5),xe=o.MAs(19),ke=o.MAs(15),Ce=o.MAs(17),ge=o.MAs(11),De=o.MAs(13),ye=o.MAs(9),Oe=o.MAs(23),ie=o.MAs(21);o.xp6(3),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(18,f,o.DdM(17,b))),o.xp6(2),o.Q6J("ngTemplateOutlet",xe),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(21,f,o.DdM(20,D))),o.xp6(2),o.Q6J("ngTemplateOutlet",ke),o.xp6(2),o.Q6J("ngTemplateOutlet",Ce),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(24,f,o.DdM(23,I))),o.xp6(2),o.Q6J("ngTemplateOutlet",ge),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(27,f,o.DdM(26,w))),o.xp6(3),o.Q6J("ngTemplateOutlet",De),o.xp6(2),o.Q6J("ngTemplateOutlet",ye),o.xp6(2),o.Q6J("ngTemplateOutlet",Oe)("ngTemplateOutletContext",o.VKq(29,_,ve.inputSymbol.SecondaryType)),o.xp6(2),o.Q6J("ngTemplateOutlet",ie)}}const G=function(){return["`","~","!","@","#","$","%","^","&","*"]},F=function(){return["=","+","(",")","[","]","{","}","-","_"]},J=function(){return["\xa3","\u20ac","'",'"',"|",";",":",",",".","?"]},z=function(){return["\u2122","\xa9","\xa2","\xa5","\xa1","\xbf","<",">","\\","/"]};function Z(Re,Q){if(1&Re&&(o.ynx(0),o.TgZ(1,"tr"),o.GkF(2,14),o.TgZ(3,"td",15),o.GkF(4,16),o.qZA()(),o.TgZ(5,"tr"),o.GkF(6,14),o.TgZ(7,"td",17),o.GkF(8,16),o.qZA(),o.TgZ(9,"td",17),o.GkF(10,16),o.qZA()(),o.TgZ(11,"tr"),o.GkF(12,14),o.TgZ(13,"td",18),o.GkF(14,16),o.qZA()(),o.TgZ(15,"tr"),o.GkF(16,14),o.qZA(),o.TgZ(17,"tr")(18,"td",17),o.GkF(19,16),o.qZA(),o.TgZ(20,"td",19),o.GkF(21,16),o.qZA(),o.TgZ(22,"td",17),o.GkF(23,14),o.qZA(),o.TgZ(24,"td",20),o.GkF(25,16),o.qZA()(),o.BQk()),2&Re){const ve=o.oxw(),be=o.MAs(5),xe=o.MAs(19),ke=o.MAs(15),Ce=o.MAs(17),ge=o.MAs(11),De=o.MAs(13),ye=o.MAs(9),Oe=o.MAs(23),ie=o.MAs(21);o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(18,f,o.DdM(17,G))),o.xp6(2),o.Q6J("ngTemplateOutlet",xe),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(21,f,o.DdM(20,F))),o.xp6(2),o.Q6J("ngTemplateOutlet",ke),o.xp6(2),o.Q6J("ngTemplateOutlet",Ce),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(24,f,o.DdM(23,J))),o.xp6(2),o.Q6J("ngTemplateOutlet",ge),o.xp6(2),o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(27,f,o.DdM(26,z))),o.xp6(3),o.Q6J("ngTemplateOutlet",De),o.xp6(2),o.Q6J("ngTemplateOutlet",ye),o.xp6(2),o.Q6J("ngTemplateOutlet",Oe)("ngTemplateOutletContext",o.VKq(29,_,ve.inputSymbol.PrimaryType)),o.xp6(2),o.Q6J("ngTemplateOutlet",ie)}}function ue(Re,Q){if(1&Re&&(o.ynx(0),o.TgZ(1,"td")(2,"button",22),o._uU(3),o.qZA()(),o.BQk()),2&Re){const ve=Q.$implicit;o.xp6(2),o.s9C("name",ve),o.xp6(1),o.Oqu(ve)}}function u(Re,Q){1&Re&&o.YNc(0,ue,4,2,"ng-container",21),2&Re&&o.Q6J("ngForOf",Q.keys)}function k(Re,Q){if(1&Re&&(o.TgZ(0,"div",26),o._uU(1),o.qZA()),2&Re){const ve=o.oxw().key;o.xp6(1),o.Oqu(ve)}}function W(Re,Q){if(1&Re&&o._UZ(0,"mat-icon",27),2&Re){const ve=o.oxw().svgIcon;o.Q6J("svgIcon",ve)}}function N(Re,Q){if(1&Re&&(o.TgZ(0,"div",23),o.YNc(1,k,2,1,"div",24),o.TgZ(2,"button",22),o._uU(3),o.YNc(4,W,1,1,"mat-icon",25),o.qZA()()),2&Re){const ve=Q.key,be=Q.svgIcon,xe=Q.text,ke=Q.name,Ce=Q.class;let ge;o.xp6(1),o.Q6J("ngIf",ve),o.xp6(1),o.Tol(Ce),o.s9C("name",null!==(ge=ke)&&void 0!==ge?ge:xe),o.xp6(1),o.hij(" ",xe," "),o.xp6(1),o.Q6J("ngIf",be)}}const H=function(Re){return{name:Re,svgIcon:"space_bar"}};function h(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(2,H,ve.inputSymbol.Space))}}const E=function(Re,Q){return{text:Re,key:Q,class:"text-capitalize"}};function ee(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.WLB(2,E,ve.inputSymbol.Enter,ve.gamepadKey.LT))}}const R=function(Re,Q,ve){return{key:Re,class:"caps-lock-button",name:Q,svgIcon:ve}};function q(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.kEZ(2,R,ve.gamepadKey.LB,ve.inputSymbol.CapsLock,ve.capsLockOff?"thick_arrow_up":"thick_arrow_dash_up"))}}const ne=function(Re){return{name:Re,svgIcon:"keyboard_arrow_left"}};function _e(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(2,ne,ve.inputSymbol.ArrowLeft))}}const U=function(Re){return{name:Re,svgIcon:"keyboard_arrow_right"}};function re(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(2,U,ve.inputSymbol.ArrowRight))}}const pe=function(Re,Q){return{name:Re,key:Q,svgIcon:"backspace"}};function Pe(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.WLB(2,pe,ve.inputSymbol.Backspace,ve.gamepadKey.X))}}const Te=function(Re){return{name:Re,text:"Hide",class:"text-capitalize"}};function me(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=o.oxw(),be=o.MAs(7);o.Q6J("ngTemplateOutlet",be)("ngTemplateOutletContext",o.VKq(2,Te,ve.inputSymbol.Escape))}}const et=function(Re,Q){return{text:Re,key:Q,class:"text-lower-case"}};function Xe(Re,Q){if(1&Re&&o.GkF(0,14),2&Re){const ve=Q.text,be=o.oxw(),xe=o.MAs(7);o.Q6J("ngTemplateOutlet",xe)("ngTemplateOutletContext",o.WLB(2,et,ve,be.gamepadKey.RB))}}const Ze=function(Re,Q){return{"caps-lock-always":Re,"caps-lock-once":Q}};let nt=(()=>{class Re{constructor(ve,be,xe){this.focusManager=ve,this.nvKeyboardService=be,this.gamepadService=xe,this.primaryType=!0,this.inputSymbol=l,this.gamepadKey={X:"X",LT:"LT",LB:"LB",RB:"RB"},this.capsLockState=i.Off,this.destroy$=new C.xQ,this.pressedKeys=new Set}get capsLockAlways(){return this.capsLockState===i.Always}get capsLockOnce(){return this.capsLockState===i.Once}get capsLockOff(){return this.capsLockState===i.Off}ngAfterViewInit(){const ve=(xe,ke,Ce)=>this.gamepadService.onButtonPressed$(xe,Ce).pipe((0,m.n)(ge=>!ge),(0,S.U)(ge=>[ke,ge]));let be;(0,A.T)(ve(r.z8.X,l.Backspace,{repeat:!0}),ve(r.z8.LeftTrigger,l.Enter,{repeat:!0}),ve(r.z8.LeftBumper,l.CapsLock),ve(r.z8.RightBumper,l.PrimaryType),ve(r.z8.B,l.Escape)).pipe((0,s.R)(this.destroy$)).subscribe(([xe,ke])=>{this.processEvent(this.newKeyboardEvent(ke?"keydown":"keyup",xe))}),(0,A.T)((0,d.R)(this.container.nativeElement,"mousedown"),(0,d.R)(this.container.nativeElement,"mouseup")).pipe((0,s.R)(this.destroy$)).subscribe(xe=>{if(xe.target instanceof HTMLButtonElement){const ke="mousedown"===xe.type?"keydown":"keyup";xe.preventDefault(),("keydown"===ke||xe.target===be)&&this.processEvent(this.newKeyboardEvent(ke,xe.target.name)),be=xe.target}}),this.focusCentralButton()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleKeyboardType(){this.primaryType=!this.primaryType,this.focusCentralButton()}focusCentralButton(){setTimeout(()=>{const ve=this.container.nativeElement,be=ve.rows[Math.floor(ve.rows.length/2)],xe=be.cells[Math.floor(be.cells.length/2)];this.focusManager.focusFirstChild(xe)})}toggleCapsLock(){this.capsLockState=this.capsLockOff?i.Once:this.capsLockOnce?i.Always:i.Off}escapeKeyDown(ve){ve.stopPropagation()}keyDown(ve){ve.isTrusted?(this.nvKeyboardService.sendInput(ve),(ve.key.includes("Arrow")||"Tab"===ve.key)&&ve.preventDefault()):ve.target instanceof HTMLButtonElement&&"Enter"===ve.key&&(this.processEvent(ve,ve.target.name),this.lastKeydownEvent=ve)}keyUp(ve){var be;ve.isTrusted?this.nvKeyboardService.sendInput(ve):ve.target instanceof HTMLButtonElement&&"Enter"===ve.key&&(this.processEvent(ve,ve.target.name),(null===(be=this.lastKeydownEvent)||void 0===be?void 0:be.target)===ve.target&&(this.lastKeydownEvent=void 0))}focusOut(){var ve;(null===(ve=this.lastKeydownEvent)||void 0===ve?void 0:ve.target)instanceof HTMLButtonElement&&(this.processEvent(this.lastKeydownEvent,this.lastKeydownEvent.target.name,"keyup"),this.lastKeydownEvent=void 0)}processEvent(ve,be,xe){const ke=null!=be?be:ve.key,Ce=this.newKeyboardEvent(null!=xe?xe:ve.type,ke),ge=1===ke.length,De="keyup"===Ce.type;ke===l.PrimaryType||ke===l.SecondaryType?De&&this.toggleKeyboardType():ke===l.CapsLock?De&&this.toggleCapsLock():ge?(this.nvKeyboardService.sendInput(Ce),this.capsLockOnce&&(this.capsLockState=i.Off)):this.nvKeyboardService.sendInput(Ce)}getKeyCode(ve){for(const[xe,ke]of O.entries())if(xe.includes(ve))return ke;return[l.Escape,l.Backspace,l.ArrowLeft,l.ArrowRight,l.Enter,l.Space,l.CapsLock].includes(ve)?ve:1===ve.length&&/^[A-Za-z]+$/.test(ve)?"Key"+ve.toUpperCase():void 0}newKeyboardEvent(ve,be){const xe=this.nvKeyboardService.needShiftKey(be);let ke=!1;const Ce=this.pressedKeys.has(be);return"keydown"===ve?(Ce||this.pressedKeys.add(be),ke="Shift"!==be&&Ce):"keyup"===ve&&Ce&&this.pressedKeys.delete(be),new KeyboardEvent(ve,{key:be,code:this.getKeyCode(be),shiftKey:xe,repeat:ke,modifierCapsLock:!this.capsLockOff,view:window,bubbles:!0,cancelable:!0})}}return Re.\u0275fac=function(ve){return new(ve||Re)(o.Y36(a.IK),o.Y36(le),o.Y36(r.Se))},Re.\u0275cmp=o.Xpm({type:Re,selectors:[["nv-keyboard"]],viewQuery:function(ve,be){if(1&ve&&o.Gf(K,5),2&ve){let xe;o.iGM(xe=o.CRH())&&(be.container=xe.first)}},hostBindings:function(ve,be){1&ve&&o.NdJ("keydown.escape",function(ke){return be.escapeKeyDown(ke)})("keydown",function(ke){return be.keyDown(ke)})("keyup",function(ke){return be.keyUp(ke)})("focusout",function(){return be.focusOut()})},decls:24,vars:6,consts:[["nvTrapFocus","","nvSpatialNavigationContainer","",3,"ngClass"],["container",""],[4,"ngIf"],["keyList",""],["composite",""],["spaceBar",""],["enter",""],["capsLock",""],["arrowLeft",""],["arrowRight",""],["backspace",""],["hide",""],["keyboardType",""],["row1",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["colspan","4",1,"top-right-cell"],[3,"ngTemplateOutlet"],["colspan","2"],["rowspan","2","colspan","4"],["colspan","6"],["colspan","4"],[4,"ngFor","ngForOf"],["mat-button","",3,"name"],[1,"key-container"],["class","keypad-circle",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"keypad-circle"],[3,"svgIcon"]],template:function(ve,be){1&ve&&(o.TgZ(0,"table",0,1),o.YNc(2,$,27,31,"ng-container",2),o.YNc(3,Z,26,31,"ng-container",2),o.qZA(),o.YNc(4,u,1,1,"ng-template",null,3,o.W1O),o.YNc(6,N,5,7,"ng-template",null,4,o.W1O),o.YNc(8,h,1,4,"ng-template",null,5,o.W1O),o.YNc(10,ee,1,5,"ng-template",null,6,o.W1O),o.YNc(12,q,1,6,"ng-template",null,7,o.W1O),o.YNc(14,_e,1,4,"ng-template",null,8,o.W1O),o.YNc(16,re,1,4,"ng-template",null,9,o.W1O),o.YNc(18,Pe,1,5,"ng-template",null,10,o.W1O),o.YNc(20,me,1,4,"ng-template",null,11,o.W1O),o.YNc(22,Xe,1,5,"ng-template",null,12,o.W1O)),2&ve&&(o.Q6J("ngClass",o.WLB(3,Ze,be.capsLockAlways,be.capsLockOnce)),o.xp6(2),o.Q6J("ngIf",be.primaryType),o.xp6(1),o.Q6J("ngIf",!be.primaryType))},dependencies:[t.mk,t.sg,t.O5,t.tP,x.eB,n.Hw,Y.N,T.e,B.oO],styles:['table[_ngcontent-%COMP%]{width:100vw;height:23.4vw;border-spacing:0;direction:ltr}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:20%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}table[_ngcontent-%COMP%]   td.top-right-cell[_ngcontent-%COMP%]{width:20%}table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;font-size:max(1.5vw,14px);font-weight:400;text-transform:lowercase;place-content:center;align-items:center;border:1px solid rgba(0,0,0,.5);background-color:#29292980}table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:flex;width:unset;height:unset;font-size:max(1.5vw,14px)}table[_ngcontent-%COMP%]   button.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize}table[_ngcontent-%COMP%]   button.cdk-keyboard-focused[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   button.cdk-program-focused[_ngcontent-%COMP%]{border:1px solid #ffffff}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]{position:relative;height:100%}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:max(1.5vw,14px)}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before{position:absolute;background-color:#fff;border-radius:50%;width:calc(max(1.5vw,14px)/2);height:calc(max(1.5vw,14px)/2);top:10px;left:10px;content:""}table[_ngcontent-%COMP%]   .key-container[_ngcontent-%COMP%]   .keypad-circle[_ngcontent-%COMP%]{display:table-cell;position:absolute;background-color:#0b8abc;width:max(1.5vw,14px);height:max(1.5vw,14px);border-radius:50%;line-height:max(1.5vw,14px);font-size:max(.8vw,6px);color:#fff;text-align:center;vertical-align:middle;top:calc(50% - (max(1.5vw,14px)/2));right:10px;z-index:1;pointer-events:none}table.caps-lock-always[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.text-capitalize):not(.text-lower-case), table.caps-lock-once[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.text-capitalize):not(.text-lower-case){text-transform:uppercase}table.caps-lock-always[_ngcontent-%COMP%]:not(.caps-lock-once)   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before, table.caps-lock-once[_ngcontent-%COMP%]:not(.caps-lock-once)   .key-container[_ngcontent-%COMP%]   .caps-lock-button[_ngcontent-%COMP%]:before{background-color:#76b900}']}),Re})();var Me=e(18937);let ze=(()=>{class Re{}return Re.\u0275fac=function(ve){return new(ve||Re)},Re.\u0275cmp=o.Xpm({type:Re,selectors:[["nv-keyboard-hint"]],decls:6,vars:3,consts:[["fxLayout","row","fxLayoutAlign","start center"],[1,"fab-hint"]],template:function(ve,be){1&ve&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Y"),o.qZA(),o.TgZ(3,"p"),o._uU(4),o.ALo(5,"translate"),o.qZA()()),2&ve&&(o.xp6(4),o.Oqu(o.lcZ(5,1,be.hint)))},dependencies:[Me.xw,Me.Wh,L.X$],styles:[".fab-hint[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:18px;line-height:64px;letter-spacing:0;font-weight:700;display:flex;background-color:#0b8abc;border-radius:50%;color:#fff;justify-content:center;align-items:center;width:64px;height:64px}.tv-view[_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{font-size:36px;line-height:128px}.isLtr[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .fab-hint[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .fab-hint[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}p[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:23px;letter-spacing:0;font-weight:400;white-space:nowrap;margin:0}.tv-view[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:40px;line-height:46px}"]}),Re})(),le=(()=>{class Re{constructor(ve,be){this.matBottomSheet=ve,this.overlay=be,this.onInput=new C.xQ,this.shiftKeyPressed=!1,this._enabled=!1}get enabled(){return this._enabled}set enabled(ve){this._enabled=ve}get onInput$(){return this.onInput.asObservable()}open(){if(!this.enabled)throw new Error("NvKeyboard is not enabled");return this.matBottomSheet.open(nt,{panelClass:["nv-hig","nv-keyboard"],hasBackdrop:!1,disableClose:!1,autoFocus:!1,restoreFocus:!1})}sendShiftKeyEvent(ve,be){this.onInput.next(new KeyboardEvent(ve,{key:"Shift",code:"ShiftLeft",shiftKey:be,view:window,bubbles:!0,cancelable:!0}))}needShiftKey(ve){return'!@#$%^&*()~_+{}|:"<>?'.includes(ve)}sendInput(ve){if(!this.enabled)throw new Error("NvKeyboard is not enabled");const be=this.needShiftKey(ve.key);be&&!this.shiftKeyPressed&&"keydown"===ve.type&&(this.shiftKeyPressed=!0,this.sendShiftKeyEvent(ve.type,!0)),this.onInput.next(ve),be&&this.shiftKeyPressed&&"keyup"===ve.type&&(this.shiftKeyPressed=!1,this.sendShiftKeyEvent(ve.type,!1))}createHintOverlay(ve){const be=this.overlay.position().flexibleConnectedTo(ve).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"bottom",offsetY:96}]),xe=this.overlay.create(new p.X_({positionStrategy:be})),ke=xe.attach(new y.C5(ze)).instance;return{updateHint:Ce=>ke.hint=Ce,dispose:()=>xe.dispose()}}}return Re.\u0275fac=function(ve){return new(ve||Re)(o.LFG(M.ch),o.LFG(p.aV))},Re.\u0275prov=o.Yz7({token:Re,factory:Re.\u0275fac,providedIn:"root"}),Re})();var Le=(()=>{return(Re=Le||(Le={})).SystemKeyboard="keyboardType.system",Re.AppKeyboard="keyboardType.app",Le;var Re})()},55734:(Ge,ae,e)=>{"use strict";e.d(ae,{zJ:()=>I,dp:()=>w,fS:()=>f,ZJ:()=>D,z:()=>i,ZO:()=>A,sy:()=>O,fo:()=>$,RC:()=>_});var t=e(48163),n=e(18406),x=e(16099),M=e(74266),L=e(2629),p=e(85566),P=e(9357),a=e(64710);const o=["portable","laptop","notebook"];var y=(()=>{return(G=y||(y={})).Unknown="-1",G.Disabled="0",G.Enabled="1",y;var G})(),C=(()=>{return(G=C||(C={})).Locale="Locale",G.SystemInfo="SystemInfo",G.User="User",G.Init="Init",G.Geo="Geo",C;var G})(),A=(()=>{return(G=A||(A={})).GfeContent="nvidia_web_services/controller.gfeclientcontent.NG.php",G.Installer="nvidia_web_services/controller.driverinstallercontent.NG.php",G.Profile="nvidia_web_services/controller.gfeclientaffinity.php",G.Vrs="nvidia_web_services/controller.gfeclientvrs.php",A;var G})();const d={hasGeoInfo:!0,hasLocaleInfo:!0,hasSystemInfo:!0,hasUserInfo:!1},m={additionalHwInfo:!1,geo:!1},S=[{LCID:[1029],code:"cs-CZ",name:"\u010ce\u0161tina (Czech)",isoThreeLetter:"ces",countryCode:"CZ"},{LCID:[1030],code:"da-DK",name:"Dansk (Danish)",isoThreeLetter:"dan",countryCode:"DK"},{LCID:[1031,3079,5127,4103,2055],code:"de-DE",name:"Deutsch (German)",isoThreeLetter:"deu",countryCode:"DE"},{LCID:[1032],code:"el-GR",name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac (Greek)",isoThreeLetter:"ell",countryCode:"GR"},{LCID:[1033],code:"en-US",name:"English - United States",isoThreeLetter:"eng",countryCode:"US"},{LCID:[2057,1078,1052,1118,1067,1101,1068,5146,1026,1109,1050,4122,1125,2067,1126,3081,10249,6153,5129,7177,12297,1061,1127,1071,2108,1084,1079,1129,1039,1136,1137,2144,1120,1087,1153,2128,2068,1048,2074,1091,1093,2117,16393,1081,1121,2145,1094,2118,1113,2137,1115,2080,3081,15369,14345,17417,5129,13321,18441],code:"en-GB",name:"English - United Kingdom",isoThreeLetter:"eng",countryCode:"GB"},{LCID:[3082,1069,1027,1034],code:"es-ES",name:"Espa\xf1ol - Espa\xf1a (Spanish - Spain)",isoThreeLetter:"spa",countryCode:"ES"},{LCID:[2058,11274,16394,13322,9226,5130,7178,12298,17418,4106,18442,58378,19466,6154,15370,10250,20490,21514,14346,8202],code:"es-MX",name:"Espa\xf1ol - M\xe9xico (Spanish - Mexico)",isoThreeLetter:"spa",countryCode:"MX"},{LCID:[1035],code:"fi-FI",name:"Suomi (Finnish)",isoThreeLetter:"fin",countryCode:"FI"},{LCID:[1036,2060,11276,3084,9228,12300,15372,5132,13324,6156,14348,58380,8204,10252,4108,7180,1122],code:"fr-FR",name:"Fran\xe7ais (French)",isoThreeLetter:"fra",countryCode:"FR"},{LCID:[1038],code:"hu-HU",name:"Magyar (Hungarian)",isoThreeLetter:"hun",countryCode:"HU"},{LCID:[1040,2064],code:"it-IT",name:"Italiano (Italian)",isoThreeLetter:"ita",countryCode:"IT"},{LCID:[1041],code:"ja-JP",name:"\u65e5\u672c\u8a9e (Japanese)",isoThreeLetter:"jpn",countryCode:"JP"},{LCID:[1042],code:"ko-KR",name:"\ud55c\uad6d\uc5b4 (Korean)",isoThreeLetter:"kor",countryCode:"KR"},{LCID:[1043],code:"nl-NL",name:"Nederlands (Dutch)",isoThreeLetter:"nld",countryCode:"NL"},{LCID:[1044,14],code:"nb-NO",name:"Norsk (Norwegian)",isoThreeLetter:"nor",countryCode:"NO"},{LCID:[1045],code:"pl-PL",name:"Polski (Polish)",isoThreeLetter:"pol",countryCode:"PL"},{LCID:[2070],code:"pt-PT",name:"Portugu\xeas - Portugal (Portuguese - Portugal)",isoThreeLetter:"por",countryCode:"PT"},{LCID:[1046,2070],code:"pt-BR",name:"Portugu\xeas - Brasil (Portuguese - Brazil)",isoThreeLetter:"por",countryCode:"BR"},{LCID:[1049,2092,1059,1088,1104,2073,3098,2115],code:"ru-RU",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (Russian)",isoThreeLetter:"rus",countryCode:"RU"},{LCID:[1051],code:"sk-SK",name:"Sloven\u010dina (Slovak)",isoThreeLetter:"slk",countryCode:"SK"},{LCID:[1060],code:"sl-SI",name:"Sloven\u0161\u010dina (Slovenian)",isoThreeLetter:"slv",countryCode:"SI"},{LCID:[1053],code:"sv-SE",name:"Svenska (Swedish)",isoThreeLetter:"swe",countryCode:"SE"},{LCID:[1054],code:"th-TH",name:"\u0e44\u0e17\u0e22 (Thai)",isoThreeLetter:"tha",countryCode:"TH"},{LCID:[1055],code:"tr-TR",name:"T\xfcrk\xe7e (Turkish)",isoThreeLetter:"tur",countryCode:"TR"},{LCID:[1058],code:"uk-UA",name:"Ukrainian (Ukraine)",isoThreeLetter:"ukr",countryCode:"UA"},{LCID:[2052,804,4],code:"zh-CHS",cmsCode:"zh_CN",name:"\u7b80\u4f53\u4e2d\u6587 (Chinese - Simplified)",isoThreeLetter:"zho",countryCode:"CN"},{LCID:[3076,1028,4100,404,5124,31748],code:"zh-CHT",cmsCode:"zh_TW",name:"\u7e41\u9ad4\u4e2d\u6587 (Chinese - Traditional)",isoThreeLetter:"zho",countryCode:"CN"}];var r=e(21361).Yk.Nvapp.Driverupdaterecommendation.DriverTypeEnum,l=e(39609);let i=(()=>{class G{}return G.\u0275fac=function(J){return new(J||G)},G.\u0275prov=l.Yz7({token:G,factory:G.\u0275fac}),G})(),O=(()=>{class G{constructor(J,z,Z,ue,u){this.config=z,this.systemInfoService=Z,this.localeService=ue,this.injector=u,this.logger=J.getLogger("crimson/sdk/gfwsl/GfwslParamsService"),this.config.includedParams=this.config.includedParams||m,this.params={gcV:this.config.appVersion},this.hasGeneralSystemInfo=!1,this.hasGenericSystemInfo=!1,this.hasGpuInfo=!1,this.hasLocaleInfo=!1,this.hasUserInfo=!1,this.hasGeoInfo=!1,this.gfwslParamsUpdated$=new n.X(this.getParamEventData(C.Init))}digestMessage(J){return(0,t.mG)(this,void 0,void 0,function*(){const z=(new TextEncoder).encode(J),Z=yield crypto.subtle.digest("SHA-256",z);return Array.from(new Uint8Array(Z)).map(k=>k.toString(16).padStart(2,"0")).join("")})}getParamEventData(J){return{type:J,hasSystemInfo:this.isSystemInfoComplete(),hasLocaleInfo:this.hasLocaleInfo,hasUserInfo:this.hasUserInfo,hasGeoInfo:this.hasGeoInfo,params:this.params}}isSystemInfoComplete(){return this.hasGeneralSystemInfo&&this.config.includedParams.additionalHwInfo===this.hasGenericSystemInfo&&this.config.includedParams.additionalHwInfo===this.hasGpuInfo}get gfwslParamsUpdated(){return this.gfwslParamsUpdated$}initialize(){this.processSystemInfo(),this.processLocaleInfo(),this.config.includedParams.additionalHwInfo&&(this.hardwareService=this.injector.get(a.ty),this.hardwareService||this.logger.error("ERROR:: Failed to obtain HardwareInformationService"),this.processGenericInfo(),this.processGpuInfo()),this.config.includedParams.geo&&this.initGeoService(),(0,x.D)(this.digestMessage(this.config.userAgent+"/"+this.params.gcV)).subscribe(J=>{this.params.aiD=J})}onAccountStatusChanged(J,z,Z,ue,u){this.params.jUid=z?btoa(J):J,this.hasUserInfo=z,this.params.uCst=[Z===P.p6.Full?y.Enabled:y.Disabled,ue===P.p6.Full?y.Enabled:y.Disabled,u===P.p6.Full?y.Enabled:y.Disabled],this.gfwslParamsUpdated$.next(this.getParamEventData(C.User))}onGfwslParamsReady(J=d){return this.gfwslParamsUpdated$.pipe((0,M.h)(z=>this.checkAvailableGfwslParams(J,z)),(0,L.q)(1))}initGeoService(){this.processGeoInfo()}checkAvailableGfwslParams(J,z){for(const Z of Object.keys(J))if(J[Z]!==z[Z])return!1;return!0}processSystemInfo(){this.systemInfoService.getSystemInfo().subscribe(J=>{this.params.is6="x64"===J.ProcessorArchitecture?y.Enabled:y.Disabled,({ProcessorArchitecture:this.params.pArch,CPUName:this.params.cID}=J),[this.params.osC,this.params.osB]=this.getOSInfo(J.OSName,J.OSVersion),this.params.sM=this.computeMemory(J),this.params.IsB=y.Disabled,this.params.gIsB=y.Disabled,this.params.apRT="802.11a",this.userDefaultUILanguage=J.UserDefaultUILanguage,this.params.sdWmfp=y.Enabled,this.params.O=`${this.params.pArch}/${this.params.osC}`,this.hasGeneralSystemInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(C.SystemInfo))},J=>{this.logger.error("System info errored out",J)})}processGenericInfo(){this.hardwareService.getGenericInfo(!1).subscribe(J=>{(0,p.isEqual)(J,this.genericInfo)||(this.genericInfo=J,this.params.iLp=o.includes(J.MoboType.toLowerCase())?y.Enabled:y.Disabled,this.params.isCRD=(J.DriverType?J.DriverType:r.GameReadyDriver).toString(),this.params.sM=this.computeMemory(J),({DriverVersion:this.params.GFPV,CurrentResolution:this.params.cSR,IsDCHDriverInstalled:this.params.dch}=J),this.params.GFPV=this.params.GFPV?this.params.GFPV:"0.00",this.hasGenericSystemInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(C.SystemInfo)))},J=>{this.logger.error("Generic info errored out",J)})}computeMemory(J){const z=J.TotalPhysicalMemory&&parseInt(J.TotalPhysicalMemory,10)>.1?J.TotalPhysicalMemory:J.PhysicalMemoryCapacity;return`${(parseInt(z,10)/Math.pow(1024,3)).toFixed()}GB`}getOSInfo(J,z){const Z=z.split(".");let ue="";return J.match(/windows/i)&&(ue=Z.pop()),[Z.join("."),ue]}processGpuInfo(){this.hardwareService.getGpuInfo(!1).subscribe(J=>{if(0===(0,p.size)(J.GPU))return void this.logger.error("Empty GPU list in gpu hardware info",J);const z=J.GPU.find(Z=>Z.IsPrimary===y.Enabled)||J.GPU[0];this.params.IsQ=z.IsQuadro,this.params.D=JSON.parse(`{"VEN_${z.VendorId}&DEV_${z.DeviceId}":"DISPLAY"}`),this.params.dIDa=this.getGpuDeviceIdArray(J),this.params.dFma=this.getGpuDeviceFamilyArray(J),this.params.isO=J.IsOptimus,this.params.isSLI=this.computeSliStatus(J.SLI),this.params.pgpuId=this.getPrimaryGpuId(J),this.hasGpuInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(C.SystemInfo))},J=>{this.logger.error("GPU info errored out",J)})}getPrimaryGpuId(J){let z=null;return J.GPU.every(Z=>!Z.IsPrimary||(z=Z.GpuHandle,!1)),z}getGpuDeviceIdArray(J){return Array.from(this.getSortedGpuArray(J),(z,Z)=>this.buildGpuDeviceId(z,Z))}getSortedGpuArray(J){return Array.from(J.GPU).sort(z=>z.IsPrimary===y.Enabled?-1:1)}buildGpuDeviceId(J,z){let Z="";return J.DeviceId&&J.VendorId?(Z=`${J.DeviceId}_${J.VendorId}`,Z=J.SubSystemId&&J.SubVendorId?`${Z}_${J.SubSystemId}_${J.SubVendorId}`:`${Z}_FFFF_FFFF`):(this.logger.error("GPU info has invalid DeviceId and/or VendorId",J),Z="FFFF_FFFF_FFFF_FFFF"),`${Z}_${++z}`}getGpuDeviceFamilyArray(J){return Array.from(this.getSortedGpuArray(J),z=>parseInt(z.GPUArchitecture,10).toString(16))}computeSliStatus(J){return J.SLISupported===y.Enabled&&J.HasActiveSLITopology===y.Enabled?J.ActiveTopologyGPUCount:J.SLISupported}processGeoInfo(){this.params.go="",this.hasGeoInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(C.Geo))}onUserConsentUpdated(J){this.params.uCst=[this.getFunctionalConsent(J),this.getGfwslConsent(J,"trackTechnicalData"),this.getGfwslConsent(J,"trackBehavioralData")]}getFunctionalConsent(J){return this.formatConsentForGfwsl(J.consentSettings?J.consentSettings.trackFunctionalData:{level:P.p6.None})}formatConsentForGfwsl(J){return J.level===P.p6.Full?y.Enabled:y.Disabled}getGfwslConsent(J,z){return J.consentSettings?this.formatConsentForGfwsl(J.consentSettings[z]):J.privacySettings&&J.privacySettings.dataTracking?this.formatConsentForGfwsl(J.privacySettings.dataTracking[z]):y.Unknown}processLocaleInfo(){this.localeService.localeChanged.subscribe(J=>{this.setGfwslLocaleParams(J),this.hasLocaleInfo=!0,this.gfwslParamsUpdated$.next(this.getParamEventData(C.Locale))},J=>{this.logger.error("Locale info errored out",J)})}setGfwslLocaleParams(J){const z=S.find(ue=>{var u;return ue.code===(null===(u=null!=J?J:this.userDefaultUILanguage)||void 0===u?void 0:u.replace("_","-"))||ue.cmsCode===J}),Z=null==z?void 0:z.LCID[0].toString();this.params.gLg=null==z?void 0:z.code,this.params.lg=Z,this.params.L={CC:null==z?void 0:z.isoThreeLetter,LCID:Z}}getParams(J={},z){J=(0,p.omitBy)(J,ue=>"string"==typeof ue&&"CTP_"===ue.slice(0,4));let Z=(0,p.assignIn)({},this.params,J);return z&&(Z=(0,p.pick)(Z,z)),Z}}return G.\u0275fac=function(J){return new(J||G)(l.LFG(a.ed),l.LFG(i),l.LFG(a.Ob),l.LFG(a.OL),l.LFG(l.zs3))},G.\u0275prov=l.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();var Y=e(80155),T=e(69060),B=e(85948),b=e(18388);let f=(()=>{class G{}return G.\u0275fac=function(J){return new(J||G)},G.\u0275prov=l.Yz7({token:G,factory:G.\u0275fac}),G})(),D=(()=>{class G{constructor(J,z,Z,ue,u){this.endpointFactory=z,this.gfwslParamsService=Z,this.config=ue,this.distributedtracingUtilService=u,this.logger=J.getLogger("crimson/sdk/aem/AemService"),this.endpointMap=new Map,this.endpointDefinitionMap=new Map,this.endpointRetryConfig={},({defaultRetries:this.endpointRetryConfig.maxRetries,defaultTimeBetweenRetries:this.endpointRetryConfig.timeBetweenRetries,defaultTimeout:this.endpointRetryConfig.timeout}=this.config)}setUrlGenerator(J,z,Z){let ue;const u=JSON.stringify(this.gfwslParamsService.getParams(Z,z.paramMask));return ue=(0,Y.D5)([J,z.classPath,z.clientPath,z.endpointPath]),(0,p.isEmpty)(u)||(ue=ue+"?"+u),ue}addEndpointDefinitions(J){J.forEach(z=>{const Z=z.name;this.endpointDefinitionMap.set(Z,z),this.endpointMap.set(Z,this.endpointFactory.createEndpoint(z))})}callAemEndpoint(J,z,Z,ue={},u={},k){const W=this.endpointMap.get(J),N=this.endpointDefinitionMap.get(J);if(!W)return(0,b._)(`No endpoint found for ${J}. Add this definition with the initialize call.`);z=this.gfwslParamsService.getParams(z,N.paramMask);const H=this.setUrlGenerator(this.config.server,N,z);this.logger.info("Going to call AEM URL:",H,"with dynamic headers:",u);const h={config:this.endpointRetryConfig,body:ue,headers:Object.assign(Object.assign({},N.headers),u),includeRequestId:!1,reportRequestData:(0,p.isNil)(Z)?{}:Object.assign({},Z)},E=W.makeRequestEx(N.method,H,h);return this.distributedtracingUtilService.handleHttpEndpointSpan(E,h,T.j1.GetAemReleaseHighlights,k)}setConfigServer(J){this.config.server=J}}return G.\u0275fac=function(J){return new(J||G)(l.LFG(a.ed),l.LFG(B.V9),l.LFG(O),l.LFG(f),l.LFG(T.Dc))},G.\u0275prov=l.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();var I=(()=>((I||(I={})).services="services/com.nvidia.services/",I))(),w=(()=>((w||(w={})).GfeClient="AEMGFEClientContent",w))();let _=(()=>{class G{static forRoot(J){return{ngModule:G,providers:[{provide:i,useValue:J.gfwsl},{provide:f,useValue:J.aem}]}}}return G.\u0275fac=function(J){return new(J||G)},G.\u0275mod=l.oAB({type:G}),G.\u0275inj=l.cJS({}),G})();var $=(()=>{return(G=$||($={})).Get="GET",G.Post="POST",$;var G})()},49840:(Ge,ae,e)=>{"use strict";e.d(ae,{Iv:()=>x,o_:()=>C,cX:()=>A,DN:()=>a});var t=e(85566),n=e(69060);const x={server:"",version:"v1",defaultRetries:2,exponentialBackoffMaxDelay:3e4,defaultTimeout:3e4,clientId:""},L="application/json";var p=(()=>{return(d=p||(p={})).Register="PNS_Registrations",d.Unregister="PNS_Unregister",p;var d})(),P=e(39609);let a=(()=>{class d{}return d.\u0275fac=function(S){return new(S||d)},d.\u0275prov=P.Yz7({token:d,factory:d.\u0275fac}),d})();var o=e(85948);let C=(()=>{class d{constructor(S,s,r){this.serverConfig=S,this.endpointFactory=s,this.distributedTracingUtilService=r,this.commonHeaders={"Content-Type":L,Accept:L,"NV-Client-ID":S.clientId},this.endpointConfig={timeout:this.serverConfig.defaultTimeout,exponentialBackoffMaxDelay:this.serverConfig.exponentialBackoffMaxDelay,maxRetries:this.serverConfig.defaultRetries},this.pnsRegisterEndpointUrl=this.preparePnsRegisterEndpoint(),this.pnsUnregisterEndpointUrl=this.preparePnsUnregisterEndpoint()}generateUrl(S){return this.serverConfig.server+"/"+this.serverConfig.version+"/"+S}preparePnsRegisterEndpoint(){return this.endpointFactory.createEndpoint({headers:this.commonHeaders,config:this.endpointConfig,reportRequestData:{originalService:"PNS",serviceUseCase:p.Register,reportSuccessTelemetry:"true"}})}preparePnsUnregisterEndpoint(){return this.endpointFactory.createEndpoint({headers:this.commonHeaders,config:this.endpointConfig,reportRequestData:{originalService:"PNS",serviceUseCase:p.Unregister,reportSuccessTelemetry:"true"}})}pnsRegister(S,s,r){return this.commonHeaders=(0,t.merge)(this.commonHeaders,s),this.pnsRegistrationRequest(S,this.commonHeaders,r)}pnsUnregister(S,s){return this.commonHeaders=(0,t.merge)(this.commonHeaders,s),this.pnsUnregistrationRequest(S,this.commonHeaders)}getCommonHeaders(){return this.commonHeaders}pnsRegistrationRequest(S,s,r){const l={body:S,headers:s},i=this.pnsRegisterEndpointUrl.post(this.generateUrl("registrations"),l);return this.distributedTracingUtilService.handleHttpEndpointSpan(i,l,n.j1.PnsRegistration,r)}pnsUnregistrationRequest(S,s){const r={body:S,headers:s},l=this.pnsUnregisterEndpointUrl.post(this.generateUrl("unregister"),r);return this.distributedTracingUtilService.handleHttpEndpointSpan(l,r,n.j1.PnsUnregister)}}return d.\u0275fac=function(S){return new(S||d)(P.LFG(a),P.LFG(o.V9),P.LFG(n.Dc))},d.\u0275prov=P.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),A=(()=>{class d{static forRoot(S){return{ngModule:d,providers:[{provide:a,useValue:S||x}]}}}return d.\u0275fac=function(S){return new(S||d)},d.\u0275mod=P.oAB({type:d}),d.\u0275inj=P.cJS({}),d})()},29595:(Ge,ae,e)=>{"use strict";e.d(ae,{b:()=>P});var t=e(39609),n=e(56550),x=e(52954),M=e(70279);const L=function(a){return{highlight:a}},p=["*"];let P=(()=>{class a{constructor(v){this.productTourService=v}highlightCurrentElement(){if(this.anchorId===this.productTourService.currentAnchorId&&this.productTourService.isTourActive)return!0}}return a.\u0275fac=function(v){return new(v||a)(t.Y36(n.Q))},a.\u0275cmp=t.Xpm({type:a,selectors:[["nv-product-tour-step"]],inputs:{anchorId:"anchorId"},ngContentSelectors:p,decls:2,vars:4,consts:[[3,"tourAnchor","ngClass"]],template:function(v,y){1&v&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&v&&(t.s9C("tourAnchor",y.anchorId),t.Q6J("ngClass",t.VKq(2,L,y.highlightCurrentElement())))},dependencies:[x.mk,M.zL,M.Jj],styles:[".highlight[_ngcontent-%COMP%]{z-index:250;position:relative;pointer-events:none}"]}),a})()},97128:(Ge,ae,e)=>{"use strict";e.d(ae,{AP:()=>t,uR:()=>x,wv:()=>n});var t=(()=>{return(M=t||(t={})).Right="right-start",M.BottomRight="bottom-end",M.BottomCenter="bottom",t;var M})(),n=(()=>{return(M=n||(n={})).TourStoreDbName="productTourStore",M.TourStoreBrowseUxDbName="productTourBrowseUxStore",M.TourStoreDbKey="tourData",M.GlobalStoreDbName="global",M.GlobalStoreKeyName="PRODUCT_TOUR_STATUS",n;var M})();class x{}},56550:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>A});var t=e(59562),n=e(50936),x=e(33932),M=e(97128),L=e(21990),p=e(9357);class P extends p.MW{constructor(m){super(m),this.name=L.GM.ProductTourProgress.name,this.gdprLevel=L.GM.ProductTourProgress.gdprLevel}}class a extends p.MW{constructor(m){super(m),this.name=L.GM.ProductTourExit.name,this.gdprLevel=L.GM.ProductTourExit.gdprLevel}}var o=e(39609),v=e(70279),y=e(64710),C=e(95914);let A=(()=>{class d{constructor(S,s,r,l,i,O,Y){this.tourService=S,this.dbCacheService=s,this.telemetryService=l,this.applicationLifetimeService=i,this.ngZone=O,this.productTourConfig=Y,this.isTourActive=!1,this.productTourStore=null,this.disableTour=!1,this.isTourShown=new t.t(1),this.disableKeyInput=T=>{if(!this.isTourActive||"GoBack"===T.key||T.altKey&&"F4"===T.key)return;T.stopImmediatePropagation(),T.preventDefault();const B="nv-product-tour-button",K=document.getElementsByClassName(B)[0],b=()=>document.activeElement.classList.contains(B);"Tab"===T.key&&(b()?K.blur():K.focus()),b()&&"Enter"===T.key&&K.click()},this.logger=r.getLogger("ProductTourService")}get onTourEnd(){return this.tourService.end$.asObservable()}get isTourShown$(){return this.isTourShown.asObservable()}onAccountStatusChanged(S,s){}initialize(){this.productTourStore=this.dbCacheService.getOrCreateCachedGlobalItem(M.wv.TourStoreBrowseUxDbName,M.wv.TourStoreDbKey),this.storeSyncSubscription&&this.storeSyncSubscription.unsubscribe(),this.storeSyncSubscription=this.productTourStore.sync_().subscribe(()=>{this.isTourActive=!1},S=>{this.logger.error("Unable to get Product Tour data from Db",S),this.productTourStore.menuTourEnded=!0}),this.ngZone.runOutsideAngular(()=>{window.addEventListener("keydown",this.disableKeyInput)}),this.tourService.stepShow$.subscribe(()=>{this.currentStepStartTime=Date.now(),this.saveCurrentStepInDB(),this.currentAnchorId=this.tourService.currentStep.anchorId}),this.tourService.end$.pipe((0,x.zg)(()=>(this.productTourStore.menuTourEnded=!0,window.removeEventListener("keydown",this.disableKeyInput),this.productTourStore.persist_()))).subscribe(()=>this.updateIsTourActive(),S=>{this.logger.error("Error saving data to the database",S),this.updateIsTourActive()}),this.applicationLifetimeService.addWorkOnShutdown(()=>new n.y(S=>{S.next(this.sendTourExitTelemetry(L.qb.AppExit)),S.complete()}))}deInitialize(){window.removeEventListener("keydown",this.disableKeyInput)}disableProductTour(){this.disableTour=!0}initializeTourService(S){this.disableTour?(this.logger.info("Product tour is disabled"),this.isTourShown.next(!1),this.isTourShown.complete()):(S.forEach((s,r)=>{s.stepId=r.toString(),s.popperSettings={},s.popperSettings.closeOnClickOutside=!1}),this.totalSteps=S.length,this.tourService.initialize(S),this.startTour())}endActiveTour(){this.isTourActive&&this.tourService.end()}startTour(){this.productTourStore.sync_().subscribe(()=>{var S,s;this.updateIsTourActive(),!0!==(null===(S=this.productTourStore)||void 0===S?void 0:S.menuTourEnded)?this.productTourStore.menuTourCurrentStep?(this.tourService.startAt(this.productTourStore.menuTourCurrentStep),this.isResumeTelemetry=!0,this.startStepTelemetry=this.productTourStore.menuTourCurrentStep):(this.tourService.startAt("0"),this.isResumeTelemetry=!1,this.startStepTelemetry="0"):window.removeEventListener("keydown",this.disableKeyInput),this.isTourShown.next(!(null!==(s=this.productTourStore)&&void 0!==s&&s.menuTourEnded)),this.isTourShown.complete(),this.tourStartTime=Date.now()})}sendProgressTelemetry(S){if(this.productTourConfig&&this.productTourConfig.enableTelemetry){const s=new P({name:L.b9,step:this.productTourStore.menuTourCurrentStep,action:S,totalMs:Date.now()-this.currentStepStartTime});this.telemetryService.push(s)}else this.logger.info("Product Tour telemetry is not enabled by app")}sendTourExitTelemetry(S){if(this.productTourConfig&&this.productTourConfig.enableTelemetry){const s=new a({name:L.b9,startStep:this.startStepTelemetry,exitStep:this.productTourStore.menuTourCurrentStep,isResume:this.isResumeTelemetry,status:S,totalMs:Date.now()-this.tourStartTime});!0===this.isTourActive&&this.telemetryService.push(s)}else this.logger.info("Product Tour telemetry is not enabled by app")}getCurrentRunningStep(){return this.tourService.currentStep.stepId}saveCurrentStepInDB(){this.productTourStore.menuTourCurrentStep=this.getCurrentRunningStep(),this.productTourConfig&&this.productTourConfig.enableAutoCloseOnLastStep&&Number(this.getCurrentRunningStep())===this.totalSteps-1&&(this.productTourStore.menuTourEnded=!0),this.productTourStore.persist_().subscribe()}updateIsTourActive(){this.isTourActive=!0!==this.productTourStore.menuTourEnded}}return d.\u0275fac=function(S){return new(S||d)(o.LFG(v.QL),o.LFG(y.LA),o.LFG(y.ed),o.LFG(p.y0),o.LFG(C.Ll),o.LFG(o.R0b),o.LFG(M.uR,8))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},21990:(Ge,ae,e)=>{"use strict";e.d(ae,{GM:()=>M,Us:()=>n,b9:()=>L,qb:()=>x});var t=e(9357),n=(()=>{return(p=n||(n={})).Next="NEXT",p.GotIt="GOT_IT",n;var p})(),x=(()=>{return(p=x||(x={})).Success="Success",p.AppExit="AppExit",x;var p})();const M={ProductTourProgress:{name:"ProductTourProgress",gdprLevel:t.KM.Functional},ProductTourExit:{name:"ProductTourExit",gdprLevel:t.KM.Functional}},L="ProductTour"},60712:(Ge,ae,e)=>{"use strict";e.d(ae,{uR:()=>v.uR,_F:()=>o,Q3:()=>t.Q,AP:()=>v.AP});var t=e(56550),n=e(16873),x=e(52954),M=e(34375),L=e(70279),p=e(715),P=e(22804),a=e(39609);let o=(()=>{class y{}return y.\u0275fac=function(A){return new(A||y)},y.\u0275mod=a.oAB({type:y}),y.\u0275inj=a.cJS({imports:[n.Bz,x.ez,M.yu,L.RH.forRoot(),p.aw.forChild(),P.hp]}),y})();var v=e(97128)},39103:(Ge,ae,e)=>{"use strict";e.d(ae,{pJ:()=>F,tn:()=>Y,mV:()=>p,m3:()=>P});var t=e(18406),n=e(96671),x=e(59562),M=e(39609),L=e(64710);let p=(()=>{class J{}return J.\u0275fac=function(Z){return new(Z||J)},J.\u0275prov=M.Yz7({token:J,factory:J.\u0275fac}),J})(),P=(()=>{class J{constructor(Z,ue){this.config=ue,this.enableListenerSubject=new t.X(!0),this.logger=Z.getLogger("ProjectInterfaceService"),this.closeOSC$=new n.xQ,this.quitStreaming$=new n.xQ,this.sendCustomMessage$=new n.xQ,this.onCustomMessage$=new n.xQ,this.isNonEnglishKeyboardLayout$=new n.xQ,this.unsupportedDialogCloseSubject=new x.t(1),this.config.waitForDialogClose||this.closeUnsupportedDialog(),this._streamingBegin$=new n.xQ,this._streamingEnd$=new n.xQ,this._streamingSessionSetupSuccess$=new n.xQ}get streamingSessionSetupSuccess$(){return this._streamingSessionSetupSuccess$.asObservable()}get streamingBegin$(){return this._streamingBegin$.asObservable()}get streamingEnd$(){return this._streamingEnd$.asObservable()}notifyStreamingSessionSetupSuccess(Z){this._streamingSessionSetupSuccess$.next(Z)}notifyStreamingBegin(Z){this._streamingBegin$.next(Z)}notifyStreamingEnd(Z){this._streamingEnd$.next(Z)}get gfnUnsupportedDialogCloseState(){return this.unsupportedDialogCloseSubject.asObservable()}get triggerCloseIGO(){return this.closeOSC$.asObservable()}get triggerQuitStreaming(){return this.quitStreaming$.asObservable()}get enableListener(){return this.enableListenerSubject.asObservable()}get sendCustomMessage(){return this.sendCustomMessage$.asObservable()}get onCustomMessageReceived(){return this.onCustomMessage$.asObservable()}get isNonEnglishKeyboardLayout(){return this.isNonEnglishKeyboardLayout$.asObservable()}setNotificationAllowedCallBack(Z){this.logger.verbose("Setting isNotificationAllowed Callback"),this.isNotificationAllowedCallBack=Z}setShortcutCheckCallBacks(Z){this.logger.verbose("Setting checkIfShortcutIsPresent Callback"),this.checkIfShortcutIsPresentCallback=Z}setExitStreamerCallBack(Z){this.logger.verbose("Setting exitStreamer Callback"),this.exitStreamerCallBack=Z}resumeListening(){this.enableListenerSubject.next(!0)}pauseListening(){this.enableListenerSubject.next(!1)}quitStreaming(){this.quitStreaming$.next(!0)}closeIGO(){this.closeOSC$.next(!0)}closeUnsupportedDialog(){this.unsupportedDialogCloseSubject.next(!0)}postCustomMessage(Z,ue,u){const k={messageType:u||"customMessage",messageRecipient:ue,data:Z};this.logger.verbose("CustomMessage being sent:",k),this.sendCustomMessage$.next(k)}onCustomMessage(Z){Z.data=Z.data.replace("\0",""),this.onCustomMessage$.next(Z)}setIsNonEnglishKeyboardLayout(Z){this.isNonEnglishKeyboardLayout$.next(Z)}}return J.\u0275fac=function(Z){return new(Z||J)(M.LFG(L.ed),M.LFG(p))},J.\u0275prov=M.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();var a=e(23815),o=e(45661),v=e(47504),y=e(33932),C=e(2629),A=e(51325),d=e(89258),m=e(38435),S=e(10907),s=e(4042),r=e(71265),l=e(85566),i=e(21361),O=e(97483),Y=(()=>{return(J=Y||(Y={})).PermissionPending="PermissionPending",J.PermissionDenied="PermissionDenied",J.Muted="Muted",J.Unmuted="Unmuted",J.NoMicFound="NoMicFound",Y;var J})(),T=(()=>{return(J=T||(T={})).PerformaceWarning="microphone.performanceWarning",J.PermissionBlocked="microphone.micBlockedWarning",J.PermissionBlockedMacOS="microphone.micBlockedWarningMacOS",J.PermissionBlockedWindows="microphone.micBlockedWarningWindows",T;var J})();const B="undefined",K={startState:B,requestedState:B,streamSessionId:B,subSessionId:B,resultState:B};var b=e(80155),f=(()=>{return(J=f||(f={})).Start="Start",J.Stop="Stop",J.Initializing="Initializing",J.Muted="Muted",J.Unmuted="Unmuted",J.PermissionPending="PermissionPending",J.PermissionDenied="PermissionDenied",J.NoMicFound="NoMicFound",f;var J})(),D=(()=>{return(J=D||(D={})).Initialize="Initialize",J.UnmuteMic="UnmuteMic",J.MuteMic="MuteMic",J.AwaitPermssion="AwaitPermssion",J.DenyPermission="DenyPermission",J.LookForMic="LookForMic",J.StopMic="StopMic",D;var J})();const I=new Map([[Y.Unmuted,D.UnmuteMic],[Y.Muted,D.MuteMic],[Y.PermissionPending,D.AwaitPermssion],[Y.PermissionDenied,D.DenyPermission],[Y.NoMicFound,D.LookForMic]]);var w=e(76549),_=e(715),$=e(91565),G=e(9357);let F=(()=>{class J{constructor(Z,ue,u,k,W,N,H){this.snackbar=ue,this.bridgeService=u,this.translateService=k,this.sharedStorageService=W,this.telemetryService=N,this.systemInfoService=H,this.blockName="gfnMicState",this.isInitialized=!1,this.currentMicState=new t.X(Y.PermissionPending),this.micInfo=K,this.isMicToggled=!1,this.stopSubject=new n.xQ,this.micStateMachine=new b.DV({tag:b.m$.MicrophoneStateMachine,states:{[f.Start]:{onExit:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.applyUserPreference(E)))},[f.Initializing]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.completeInitialization(E)),(0,y.zg)(E=>this.updateStateValue(E))),onExit:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.sendInitTelemetry(E)))},[f.Unmuted]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.showToastMessage(E)),(0,y.zg)(E=>this.writeUserPreference(E)),(0,y.zg)(E=>this.sendToggleTelemetry(E)),(0,y.zg)(E=>this.updateStateValue(E)))},[f.Muted]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.writeUserPreference(E)),(0,y.zg)(E=>this.sendToggleTelemetry(E)),(0,y.zg)(E=>this.updateStateValue(E)))},[f.PermissionPending]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.sendToggleTelemetry(E)),(0,y.zg)(E=>this.updateStateValue(E)))},[f.PermissionDenied]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.showToastMessage(E)),(0,y.zg)(E=>this.sendToggleTelemetry(E)),(0,y.zg)(E=>this.updateStateValue(E)))},[f.NoMicFound]:{onEnter:h=>(0,a.of)(h).pipe((0,y.zg)(E=>this.sendToggleTelemetry(E)),(0,y.zg)(E=>this.updateStateValue(E)))},[f.Stop]:{}},transitions:{[D.Initialize]:[{from:f.Start,to:f.Initializing}],[D.UnmuteMic]:[{from:f.Initializing,to:f.Unmuted},{from:f.Muted,to:f.Unmuted},{from:f.PermissionPending,to:f.Unmuted},{from:f.NoMicFound,to:f.Unmuted},{from:f.PermissionDenied,to:f.Unmuted},{from:f.Unmuted,to:f.Unmuted}],[D.MuteMic]:[{from:b.Kr,to:f.Muted}],[D.AwaitPermssion]:[{from:f.Initializing,to:f.PermissionPending},{from:f.NoMicFound,to:f.PermissionPending}],[D.DenyPermission]:[{from:f.Initializing,to:f.PermissionDenied},{from:f.PermissionPending,to:f.PermissionDenied},{from:f.PermissionDenied,to:f.PermissionDenied},{from:f.Muted,to:f.PermissionDenied}],[D.LookForMic]:[{from:b.Kr,to:f.NoMicFound}],[D.StopMic]:[{from:b.Kr,to:f.Stop}]},startState:f.Start,endState:f.Stop}),this.logger=Z.getLogger("MicrophoneService")}toggleMicrophone(){this.isMicToggled=!0,this.currentMicState$.pipe((0,C.q)(1)).subscribe(Z=>{(0,l.set)(this.micInfo,"startState",Z),Z===Y.Unmuted?(this.setMicrophoneState(!1),(0,l.set)(this.micInfo,"requestedState",Y.Muted),this.logger.info(`Mic button pressed, current state: ${Z}, requested state: Muted`)):(this.setMicrophoneState(!0),(0,l.set)(this.micInfo,"requestedState",Y.Unmuted),this.logger.info(`Mic button pressed, current state: ${Z}, requested state: Unmuted`))})}get currentMicState$(){return this.currentMicState.asObservable()}getMicEvent(){this.logger.info("Get microphone event called"),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.GetMicState).subscribe()}setMicrophoneState(Z){this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.SetMicState,{enable:Z}).subscribe()}start(Z,ue,u=!1){this.logger.info("Started"),(0,l.set)(this.micInfo,"streamSessionId",Z||B),(0,l.set)(this.micInfo,"subSessionId",ue||B),this.setupCallback(Z,ue,u),this.getMicEvent()}stop(){this.logger.info("Stopped"),this.isInitialized=!1,this.stopSubject.next(),this.micStateMachine.on(D.StopMic,null).subscribe(Z=>this.micStateMachine.reset(),Z=>this.micStateMachine.reset())}willBeEnabledOnStreamStart(){return(0,o.D)([this.sharedStorageService.readBlock(this.blockName).pipe((0,A.K)(Z=>(0,a.of)(null))),this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.ShouldDefaultEnableMic)]).pipe((0,d.U)(([Z,ue])=>ue&&((0,l.isEmpty)(Z)||(null==Z?void 0:Z.preference)===Y.Unmuted)),(0,C.q)(1))}setupCallback(Z,ue,u=!1){this.logger.info("Microphone callback is set up"),(0,v.aj)([this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.RegisterMicCallback),this.sharedStorageService.readBlock(this.blockName).pipe((0,A.K)(k=>(0,a.of)(null))),u?(0,a.of)(!0):this.bridgeService.executeCommand(i.Gh.Gfn.Streaming.ShouldDefaultEnableMic),this.systemInfoService.getBrowserName(),this.systemInfoService.getDeviceOSType(),(0,a.of)(Z),(0,a.of)(ue)]).pipe((0,d.U)(([k,W,N,H,h,E,ee])=>this.getActionAndStateData(Object.assign(Object.assign({},k),{blockData:W,shouldDefaultEnableMic:N,osType:h,shouldApplyPreference:!((h===L.wi.IOS||h===L.wi.IPadOS)&&H.BrowserName===L.Aq.SAFARI),streamSessionId:E,streamSubSessionId:ee}))),(0,m.b)(([k,W])=>this.micStateMachine.on(k,W).pipe((0,A.K)(N=>(this.logger.info("error occurred:",N.code,N.message,N.data),(0,a.of)(N))))),(0,S.R)(this.stopSubject)).subscribe({next:k=>this.logger.info("Current mic state:",this.micStateMachine.currentState),error:k=>this.logger.info("Unexpected error occurred:",k),complete:()=>this.logger.info("Observable stream terminated")})}getActionAndStateData(Z){return this.logger.info("getActionAndStateData",Z),[this.isInitialized?I.get(Z.uiMicState):D.Initialize,Z]}updateStateValue(Z){return this.logger.info("updateStateValue",Z),this.currentMicState.next(Z.uiMicState),(0,a.of)(Z)}applyUserPreference(Z){this.logger.info("applyUserPreference",Z);let ue=!1;return Z.shouldApplyPreference&&((0,l.isEmpty)(Z.blockData)&&Z.shouldDefaultEnableMic?(this.logger.info("No preference set, unmuting microphone"),this.setMicrophoneState(!0),ue=!0):(0,l.isEmpty)(Z.blockData)||(this.logger.info("Not initialized, applying stored user preference:",Z.blockData.preference),(Z.uiMicState===Y.Muted||Z.uiMicState===Y.Unmuted)&&(Z.blockData.preference===Y.Unmuted?(this.setMicrophoneState(!0),ue=!0):Z.blockData.preference===Y.Muted&&(this.setMicrophoneState(!1),ue=!0),Z.uiMicState=Z.blockData.preference))),ue||this.getMicEvent(),(0,a.of)(Z)}sendInitTelemetry(Z){return this.logger.info("sendInitTelemetry",Z),this.telemetryService.push(new O.qmX({uiMicState:Z.uiMicState,internalMicState:Z.internalMicState,streamSessionId:Z.streamSessionId||B,streamSubSessionId:Z.streamSubSessionId||B})),(0,a.of)(Z)}completeInitialization(Z){return this.logger.info("completeInitialization",Z),this.isInitialized=!0,(0,a.of)(Z)}sendToggleTelemetry(Z){return this.logger.info("sendToggleTelemetry",Z),this.isMicToggled&&((0,l.set)(this.micInfo,"resultState",Z.uiMicState),this.logger.info("Sending telemetry:",this.micInfo),this.isMicToggled=!1,this.telemetryService.push(new O.W9g(this.micInfo))),(0,a.of)(Z)}writeUserPreference(Z){return this.logger.info("writeUserPreference",Z),this.isMicToggled&&Z.shouldApplyPreference?this.sharedStorageService.writeBlock(this.blockName,{preference:Z.uiMicState}).pipe((0,s.h)(Z)):(0,a.of)(Z)}showToastMessage(Z){this.logger.info("showToastMessage",Z);let ue=null;return Z.uiMicState!==Y.Unmuted||Z.osType!==L.wi.ChromeOS||Z.shouldDefaultEnableMic?Z.uiMicState===Y.PermissionDenied&&(L.ng.isBrowserPlatform()?ue=T.PermissionBlocked:L.ng.isCefPlatform()&&this.isMicToggled&&(Z.osType===L.wi.MacOS?ue=T.PermissionBlockedMacOS:Z.osType===L.wi.Windows&&(ue=T.PermissionBlockedWindows))):ue=T.PerformaceWarning,ue?this.showToastMessageInternal(ue).pipe((0,s.h)(Z)):(0,a.of)(Z)}showToastMessageInternal(Z){return this.logger.info("Showing toast notification"),this.translateService.get(Z).pipe((0,r.b)(ue=>{this.snackbar.open(ue,"",{duration:7e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:"nv-hig"})}))}}return J.\u0275fac=function(Z){return new(Z||J)(M.LFG(L.ed),M.LFG(w.pl),M.LFG(L.dF),M.LFG(_.sK),M.LFG($.OA),M.LFG(G.y0),M.LFG(L.Ob))},J.\u0275prov=M.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},47273:(Ge,ae,e)=>{"use strict";e.d(ae,{g:()=>q});var t=e(39609),n=e(59248),x=e(11688),M=e(96671),L=e(18406),p=e(42520),P=e(39700),a=e(53809),o=e(47504),v=e(10907),y=e(4042),C=e(50572),A=e(74266),d=e(13800),m=e(2629),S=e(71265),s=e(78747),r=e(33932),l=e(36575),i=e(85566),O=e(4898),Y=e(80155),T=e(22804),B=e(41225),K=e(64710),b=e(85562),f=e(55123),D=e(39536),I=e(93557),w=e(52954),_=e(18937),$=e(34375),G=e(79884),F=e(37661),J=e(72122),z=e(20576);let Z=(()=>{class ne{constructor(U,re){this.render=re,this._caretEnabled=!1,this.destroy$=new M.xQ,this.blinkingInterval=1e3,this.inputElement=U.nativeElement}get caretEnabled(){return this._caretEnabled}set caretEnabled(U){this._caretEnabled=(0,z.Ig)(U),this._caretEnabled?(this.initCaret(),setTimeout(()=>this.moveCaret())):this.stopCaret()}initCaret(){const U=getComputedStyle(this.inputElement),re=U.getPropertyValue("font-size"),pe=U.getPropertyValue("padding-left"),Pe=U.getPropertyValue("caret-color"),Te=parseInt(pe,10),me=parseInt(re,10)+Te;this.subTextElement=this.render.createElement("div"),this.render.setStyle(this.subTextElement,"visibility","hidden"),this.render.setStyle(this.subTextElement,"width","fit-content"),this.render.setStyle(this.subTextElement,"position","fixed"),this.render.setStyle(this.subTextElement,"font-size",re),this.inputElementParent=this.inputElement.parentElement,this.inputElementParent.appendChild(this.subTextElement),this.caretElement=this.render.createElement("div"),this.render.setStyle(this.caretElement,"position","absolute"),this.render.setStyle(this.caretElement,"width","1px"),this.render.setStyle(this.caretElement,"height",`${me}px`),this.render.setStyle(this.caretElement,"border-left",`1px solid ${Pe}`),this.render.setStyle(this.caretElement,"opacity","0"),this.inputElementParent.appendChild(this.caretElement);const et=this.inputElement.getBoundingClientRect(),Xe=this.inputElementParent.getBoundingClientRect();this.caretOffset={x:et.left-Xe.left+Te,y:(et.height-me)/2},this.caretAnimation=this.caretElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.blinkingInterval,iterations:1/0,easing:"steps(2, end)"});const Ze=this.inputElement.value.length;this.inputElement.setSelectionRange(Ze,Ze),(0,p.T)((0,P.R)(this.inputElement,"input"),(0,P.R)(window,"resize")).pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.moveCaret()})}moveCaret(){this.subTextElement&&(this.subTextElement.innerHTML=this.inputElement.value.substring(0,this.inputElement.selectionStart).replace(/\s/g,"\xa0"),this.animateCaret(this.subTextElement.clientWidth<this.inputElement.getBoundingClientRect().width),this.render.setStyle(this.caretElement,"transform",`translate(${this.subTextElement.clientWidth+this.caretOffset.x}px, ${this.caretOffset.y}px)`))}animateCaret(U){"running"===this.caretAnimation.playState!==U&&(U?this.caretAnimation.play():this.caretAnimation.cancel())}stopCaret(){var U;null===(U=this.caretAnimation)||void 0===U||U.cancel(),this.subTextElement&&(this.inputElementParent.removeChild(this.subTextElement),this.subTextElement=void 0),this.caretElement&&(this.inputElementParent.removeChild(this.caretElement),this.caretElement=void 0)}ngOnDestroy(){this.stopCaret(),this.destroy$.next(!0),this.destroy$.complete()}}return ne.\u0275fac=function(U){return new(U||ne)(t.Y36(t.SBq),t.Y36(t.Qsj))},ne.\u0275dir=t.lG2({type:ne,selectors:[["input","nvCaret",""]],inputs:{caretEnabled:["nvCaret","caretEnabled"]}}),ne})();var ue=e(73557),u=e(715);const k=["inputContainer"],W=["inputElement"],N=["gamepadHintAnchor"];function H(ne,_e){1&ne&&(t.TgZ(0,"mat-icon",11),t._uU(1," search "),t.qZA())}function h(ne,_e){if(1&ne){const U=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(pe){t.CHM(U);const Pe=t.oxw();return t.KtG(Pe.clearSearchInput(pe))})("focus",function(){t.CHM(U);const pe=t.oxw();return t.KtG(pe.closeButtonFocused=!0)})("blur",function(){t.CHM(U);const pe=t.oxw();return t.KtG(pe.closeButtonFocused=!1)}),t.TgZ(1,"mat-icon",13),t._uU(2,"close"),t.qZA()()}if(2&ne){const U=t.oxw();t.uIk("tabindex",U.activated?null:-1)}}function E(ne,_e){1&ne&&t._UZ(0,"mat-divider")}function ee(ne,_e){1&ne&&t._UZ(0,"div",14,15)}var R=(()=>{return(ne=R||(R={}))[ne.None=0]="None",ne[ne.FocusInputField=1]="FocusInputField",ne[ne.FocusInputFieldWithHint=2]="FocusInputFieldWithHint",ne[ne.FocusInputContainer=3]="FocusInputContainer",ne[ne.FocusFirstTile=4]="FocusFirstTile",R;var ne})();let q=(()=>{class ne{constructor(U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me){this.searchService=re,this.indexService=pe,this.ngZone=Pe,this.windowService=Te,this.nvKeyboardService=me,this.matDialogService=et,this.injector=Xe,this.focusManager=Ze,this.inputModalityService=Me,this.inputType="text",this._activated=!1,this._searchDebounceTime=200,this.query="",this.searchResultUIState=l.Y2,this.searchResultState=l.Y2.None,this.currentCategory="",this.categorizedResult=null,this.recentSearchesCache=[],this.closeButtonFocused=!1,this.logger=U.getLogger("SearchComponent"),this.destroy$=new M.xQ,this.commitSearch$=new M.xQ,this.activatedChange=new t.vpe,this.searchInputInteraction=new t.vpe,this.searchInputFocusOut=new t.vpe,this.isWebSearch||this.indexService.isConnectedToServer().pipe((0,v.R)(this.destroy$)).subscribe(ze=>{this.serverConnectivityStatus=ze,this.serverConnectivityStatus||this.updateSearchResultState(l.Y2.FailedToConnect)}),this.clickSearchInput=nt.guard(T.Ku.Input,this.clickSearchInput.bind(this),"search.requireTapOnSearchBar"),this.onInputContainerClick=nt.guard(T.Ku.Input,this.onInputContainerClick.bind(this),"search.requireTapOnSearchBar")}set activated(U){this._activated!==U&&(this._activated=U,this.activatedChange.emit(this.activated))}get activated(){return this._activated}set searchDebounceTime(U){this._searchDebounceTime=U}get searchDebounceTime(){return this._searchDebounceTime}get nvKeyboardOpened(){var U,re;return null!==(re=null===(U=this.nvKeyboardOpened$)||void 0===U?void 0:U.value)&&void 0!==re&&re}ngOnInit(){this.isWebSearch||(this.indexService.getSearchIndexAvailability().pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.isSearchIndexAvailable=U,this.isSearchIndexAvailable?(this.updateSearchResultState(l.Y2.None),this.performSearch()):this.updateSearchResultState(l.Y2.IndexNotAvailable)}),this.indexService.getRecentSearches().pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.recentSearchesCache=U})),this.indexService.onClickSearchInput.pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.clickSearchInput(U)}),this.indexService.onSearchTriggered.pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.performSearch()}),this.indexService.onSearchActiveStateChanged.pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.activated!==U&&(this.activated=U,this.closeNvKeyboardAndOverlayHint())}),this.useNvKeyboard&&(this.gamepadService=this.injector.get(x.Se),this.nvKeyboardOpened$=new L.X(!1),this.actionAfterDismissed$=new L.X(R.None),this.subscribeToActionState(),this.subscribeToKeyboardState()),this.indexService.onClearSearchQuery().pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.query="",this.inputField.nativeElement.value=""})}ngAfterViewInit(){this.inputField&&(0,p.T)((0,P.R)(this.inputField.nativeElement,"input").pipe((0,y.h)(!1)),this.commitSearch$.pipe((0,y.h)(!0))).pipe((0,C.b)(this.searchDebounceTime),(0,v.R)(this.destroy$)).subscribe(U=>{this.query!==this.inputField.nativeElement.value?(this.query=this.inputField.nativeElement.value,""===this.query&&this.updateSearchResultState(l.Y2.EmptyQuery),this.searchInputInteraction.emit({currentQuery:this.query,interactionType:l.af.Input}),this.performSearch(U)):U&&this.indexService.focusFirstTile()}),this.indexService.onAutoSearchTriggered$.pipe((0,v.R)(this.destroy$)).subscribe(U=>{this.indexService.savedSearchQuery&&setTimeout(()=>{this.query=this.indexService.savedSearchQuery,this.inputField.nativeElement.value=this.query,this.indexService.savedSearchQuery=""},0)}),this.ngZone.runOutsideAngular(()=>{this.windowService.getKeydownEvent().pipe((0,A.h)(U=>(U.metaKey||U.ctrlKey)&&("f"===U.key||"F"===U.key)),(0,v.R)(this.destroy$)).subscribe(U=>{var re,pe;0===(null===(pe=null===(re=this.matDialogService)||void 0===re?void 0:re.openDialogs)||void 0===pe?void 0:pe.length)&&this.clickSearchInput(U)}),(0,P.R)(document,"touchstart").pipe((0,v.R)(this.destroy$)).subscribe(U=>{U.target!==this.inputField.nativeElement&&this.activated&&this.isInputFocused&&this.inputField.nativeElement.blur()})}),!this.isWebSearch&&!this.indexService.wasSearchIndexingTriggered&&this.indexService.isLazySearchIndexingEnabled().pipe((0,d.w)(U=>U?this.activatedChange.pipe((0,A.h)(re=>!0===re)):a.E),(0,m.q)(1)).subscribe(()=>{this.indexService.triggerBuildingSearchIndex()})}openNvKeyboard(){this.nvKeyboardRef=this.nvKeyboardService.open(),(0,p.T)(this.nvKeyboardRef.afterOpened().pipe((0,m.q)(1),(0,y.h)(!0)),this.nvKeyboardRef.afterDismissed().pipe((0,m.q)(1),(0,y.h)(!1))).pipe((0,S.b)(U=>{this.activated=U,this.nvKeyboardOpened$.next(U)}),(0,d.w)(U=>U?this.nvKeyboardService.onInput$:a.E),(0,v.R)(this.destroy$),(0,s.x)(()=>{this.nvKeyboardOpened$.next(!1)})).subscribe(U=>{this.sendToInputField(U)})}subscribeToKeyboardState(){(0,o.aj)([this.nvKeyboardOpened$.asObservable(),this.actionAfterDismissed$.asObservable()]).pipe((0,r.zg)(([U,re])=>{var pe;const Pe=U?n.AZ.SystemKeyboard:re===R.FocusInputFieldWithHint&&document.activeElement===(null===(pe=this.inputField)||void 0===pe?void 0:pe.nativeElement)?n.AZ.AppKeyboard:void 0;if(Pe){const Te=!!this.gamepadHintOverlay;if(Te||(this.gamepadHintOverlay=this.nvKeyboardService.createHintOverlay(this.gamepadHintAnchor.nativeElement)),this.gamepadHintOverlay.updateHint(Pe),!Te)return this.overlayDestroy$=new M.xQ,this.gamepadService.onButtonPressed$(x.z8.Y).pipe((0,v.R)(this.overlayDestroy$),(0,A.h)(me=>!0===me))}else this.disposeGamepadOverlay();return a.E}),(0,v.R)(this.destroy$)).subscribe(()=>{this.nvKeyboardOpened?(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(R.FocusInputFieldWithHint)):this.activateNvKeyboard(!0)})}subscribeToActionState(){this.nvKeyboardOpened$.pipe((0,d.w)(U=>U?a.E:this.actionAfterDismissed$),(0,v.R)(this.destroy$)).subscribe(U=>{switch(U){case R.FocusInputField:case R.FocusInputFieldWithHint:this.focusManager.focusViaLastOrigin(this.inputField.nativeElement);break;case R.FocusFirstTile:this.indexService.focusFirstTile();break;case R.FocusInputContainer:this.focusManager.focusViaLastOrigin(this.inputContainer.nativeElement)}})}disposeGamepadOverlay(){this.actionAfterDismissed$.value!==R.None&&this.actionAfterDismissed$.next(R.None),this.overlayDestroy$&&(this.overlayDestroy$.next(!0),this.overlayDestroy$.complete()),this.gamepadHintOverlay&&(this.gamepadHintOverlay.dispose(),this.gamepadHintOverlay=void 0)}activateNvKeyboard(U){var re;U&&!this.nvKeyboardOpened?(null===(re=this.inputField)||void 0===re||re.nativeElement.blur(),this.openNvKeyboard()):!U&&this.nvKeyboardOpened&&this.nvKeyboardRef.dismiss()}sendToInputField(U){const re=this.inputField.nativeElement;if("keydown"===U.type){switch(U.key){case"Backspace":re.selectionStart===re.selectionEnd?re.selectionStart>0&&re.setRangeText("",re.selectionStart-1,re.selectionStart):re.setRangeText("",re.selectionStart,re.selectionEnd);break;case"ArrowLeft":re.selectionStart>0&&(re.selectionEnd=--re.selectionStart);break;case"ArrowRight":re.selectionStart<re.value.length&&(re.selectionEnd=++re.selectionStart);break;case"Space":this.inputCharacter(re,U);break;default:1===U.key.length&&this.inputCharacter(re,U)}re.dispatchEvent(new Event("input"))}else"Enter"===U.key?(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(R.FocusFirstTile)):"Escape"===U.key&&(this.activateNvKeyboard(!1),this.actionAfterDismissed$.next(R.FocusInputContainer))}inputCharacter(U,re){U.setRangeText("Space"===re.key?" ":re.getModifierState("CapsLock")?re.key.toUpperCase():re.key,U.selectionStart,U.selectionEnd,U.selectionStart===U.selectionEnd?"end":"select"),U.setSelectionRange(U.selectionEnd,U.selectionEnd)}onInputContainerClick(U){this.searchInputInteraction.emit({currentQuery:this.query,interactionType:l.af.Click}),this.activated||this.logger.trace(Y.y$.UserGesture,Y.Px.Search,Y.Rf.open," search operation."),this.activateSearchInput()}clearSearchInput(U){this.logger.trace(Y.y$.UserGesture,Y.Px.Search,Y.Rf.close),this.isWebSearch||this.indexService.sendTextSearchTelemetry({searchType:O.Sc.AbandonedSearch,searchQuery:this.query},this.categorizedResult&&this.categorizedResult[this.currentCategory]||[]),this.query="",this.updateSearchResultState(l.Y2.EmptyQuery),this.categorizedResult=null,this.performSearch()}get isInputFocused(){var U;return document.activeElement===(null===(U=this.inputField)||void 0===U?void 0:U.nativeElement)}clickSearchInput(U){this.onInputContainerClick(U)}activateSearchInput(){this.inputField&&!this.isInputFocused&&(this.useNvKeyboard&&this.inputModalityService.lastInputModality===B.q.Gamepad?this.activateNvKeyboard(!0):(this.focusManager.focusViaLastOrigin(this.inputField.nativeElement),this.inputField.nativeElement.setSelectionRange(0,this.query.length)))}showRecentSearches(){this.categorizedResult=null,this.updateSearchResultState(l.Y2.None),this.recentSearchesCache.length>0&&this.updateSearchResultState(l.Y2.RecentSearches),this.notifySearchResultChanged({resultsLength:this.recentSearchesCache.length,categorizedResult:{recents:this.recentSearchesCache}})}performSearch(U=!1){this.indexService.savedSearchQuery&&(this.query=this.indexService.savedSearchQuery,this.indexService.savedSearchQuery=""),this.isWebSearch?this.indexService.performWebSearchOperation(this.query):this.serverConnectivityStatus?this.isSearchIndexAvailable?0!==this.query.length&&(this.logger.trace(Y.y$.UserGesture,"Searched for game with keyword "+this.query),this.categorizedResult={},this.searchService.performSearch(this.query).pipe((0,r.zg)(re=>this.indexService.processSearchedResultsCallback(re)),(0,v.R)(this.destroy$)).subscribe(re=>{var pe;re.resultsLength>0?(this.categorizedResult=re.categorizedResult,this.categories=Object.keys(this.categorizedResult),this.currentCategory=(null===(pe=this.categories)||void 0===pe?void 0:pe.length)>0?this.categories[0]:"",this.updateSearchResultState(l.Y2.ResultAvailable)):(this.categorizedResult=null,this.updateSearchResultState(l.Y2.ResultNotAvailable)),this.notifySearchResultChanged(re),U&&this.indexService.focusFirstTile()},re=>{this.logger.error("Error in processing search Results"+re)})):this.updateSearchResultState(l.Y2.IndexNotAvailable):this.updateSearchResultState(l.Y2.FailedToConnect)}updateSearchResultState(U){this.searchResultState=U,this.indexService.notifySearchResultStateChanged(this.searchResultState)}notifySearchResultChanged(U){this.indexService.notifySearchResultChanged({processedSearchResult:U,query:this.query})}onInputKeydown(U){var re;(0,Y.wN)(U)?(U.stopPropagation(),U.preventDefault(),this.activated&&(this.useNvKeyboard?null===(re=this.actionAfterDismissed$)||void 0===re||re.next(R.FocusInputContainer):this.focusManager.focusViaLastOrigin(this.inputContainer.nativeElement))):"Enter"===U.key&&(U.stopPropagation(),U.preventDefault(),this.useNvKeyboard?this.activateNvKeyboard(!0):this.commitSearch$.next())}onMouseDown(){var U;this.useNvKeyboard&&(this.activateNvKeyboard(!1),null===(U=this.actionAfterDismissed$)||void 0===U||U.next(R.FocusInputField))}onInputBlur(U){(0,i.isNil)(U.relatedTarget)&&!this.isWebSearch&&this.indexService.sendTextSearchTelemetry({searchType:O.Sc.PausedSearch,searchQuery:this.query},this.categorizedResult&&this.categorizedResult[this.currentCategory]||[]),this.searchInputFocusOut.emit({currentQuery:this.query}),this.deactivateSearchInput()}deactivateSearchInput(){this.activated&&(this.activated=!1,this.closeNvKeyboardAndOverlayHint())}closeNvKeyboardAndOverlayHint(){this.useNvKeyboard&&!this.activated&&(this.activateNvKeyboard(!1),this.disposeGamepadOverlay())}ngOnDestroy(){this.deactivateSearchInput(),this.indexService.savedSearchQuery=this.query,this.destroy$.next(!0),this.destroy$.complete()}}return ne.\u0275fac=function(U){return new(U||ne)(t.Y36(K.ed),t.Y36(b.o),t.Y36(f.x),t.Y36(t.R0b),t.Y36(K.un),t.Y36(n.Ow),t.Y36(D.on),t.Y36(t.zs3),t.Y36(T.IK),t.Y36(T.wI),t.Y36(B.b))},ne.\u0275cmp=t.Xpm({type:ne,selectors:[["nv-search"]],viewQuery:function(U,re){if(1&U&&(t.Gf(k,5),t.Gf(W,5),t.Gf(N,5)),2&U){let pe;t.iGM(pe=t.CRH())&&(re.inputContainer=pe.first),t.iGM(pe=t.CRH())&&(re.inputField=pe.first),t.iGM(pe=t.CRH())&&(re.gamepadHintAnchor=pe.first)}},inputs:{isWebSearch:"isWebSearch",smallWidthMode:"smallWidthMode",useNvKeyboard:"useNvKeyboard",inputType:"inputType",activated:"activated",searchDebounceTime:"searchDebounceTime"},outputs:{activatedChange:"activatedChange",searchInputInteraction:"searchInputInteraction",searchInputFocusOut:"searchInputFocusOut"},decls:12,vars:16,consts:[["ngClass.handset","handset",1,"search-container"],["fxLayout","column"],["fxLayout","row"],["nvAddKeyboardActivate","",1,"search-input-container",3,"tabindex","click"],["inputContainer",""],["class","material-icons search-icon",4,"ngIf"],["maxlength","80","autocomplete","off","spellcheck","false",1,"search-input",3,"ngModel","type","placeholder","nvCaret","blur","focus","keydown","mousedown"],["inputElement",""],["mat-icon-button","","class","clear-icon-button",3,"click","focus","blur",4,"ngIf"],[4,"ngIf"],["class","gamepad-hint-anchor",4,"ngIf"],[1,"material-icons","search-icon"],["mat-icon-button","",1,"clear-icon-button",3,"click","focus","blur"],[1,"material-icons"],[1,"gamepad-hint-anchor"],["gamepadHintAnchor",""]],template:function(U,re){1&U&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3,4),t.NdJ("click",function(Pe){return re.onInputContainerClick(Pe)}),t.YNc(5,H,2,0,"mat-icon",5),t.TgZ(6,"input",6,7),t.NdJ("blur",function(Pe){return re.onInputBlur(Pe)})("focus",function(){return re.activated=!0})("keydown",function(Pe){return re.onInputKeydown(Pe)})("mousedown",function(){return re.onMouseDown()}),t.ALo(8,"translate"),t.qZA(),t.YNc(9,h,3,1,"button",8),t.qZA()(),t.YNc(10,E,1,0,"mat-divider",9),t.qZA()(),t.YNc(11,ee,2,0,"div",10)),2&U&&(t.ekj("nv-keyboard",re.nvKeyboardOpened),t.xp6(3),t.Q6J("tabindex",re.activated?-1:0),t.xp6(2),t.Q6J("ngIf",!re.smallWidthMode),t.xp6(1),t.Tol(re.smallWidthMode?"font-body1":"font-body2"),t.s9C("type",re.inputType),t.s9C("placeholder",t.lcZ(8,14,"search.searchGames")),t.Q6J("ngModel",re.query)("nvCaret",re.nvKeyboardOpened&&!re.isInputFocused),t.uIk("tabindex",re.activated||re.closeButtonFocused?null:-1),t.xp6(3),t.Q6J("ngIf",re.query.length>0),t.xp6(1),t.Q6J("ngIf",re.smallWidthMode),t.xp6(1),t.Q6J("ngIf",re.useNvKeyboard))},dependencies:[I.Fj,I.JJ,I.nD,I.On,w.O5,_.xw,$.eB,G.d,F.Hw,J.r,Z,ue.xZ,u.X$],styles:['.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.search-container[_ngcontent-%COMP%]{position:relative;z-index:100;white-space:initial;min-width:320px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:auto}.search-container[_ngcontent-%COMP%]   .no-focus-outline[_ngcontent-%COMP%]:focus{outline:0;border:0}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{display:flex;position:relative;padding:0!important;height:42px;background-color:#292929}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:before{position:absolute;width:100%;height:100%;border-radius:0;border-style:solid;border-color:#fff3;border-width:1px;box-sizing:border-box;pointer-events:none;z-index:1;content:""}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-right:auto}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:auto}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{margin-left:auto}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:auto}mat-icon[_ngcontent-%COMP%]{color:#fff9;font-size:18px}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#fff9;background-color:#292929;transition:opacity .2s ease-in-out;padding:0;min-width:0;width:40px;flex-shrink:0;line-height:40px;display:flex;justify-content:center;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{height:auto}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .active-search-icon[_ngcontent-%COMP%]{color:#fffc}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{visibility:visible;opacity:1;width:100%;transition:width .2s ease-in-out;max-width:484px;min-width:320px;border-color:#fff3}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{opacity:1}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-shadow:none;border-radius:0;border-style:solid;border-width:0;width:100%;background-color:#292929;padding-top:2px;padding-bottom:2px;margin:0;outline:none;color:#fffc}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]:not(.nv-keyboard)   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within){outline:none}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .clear-icon-button[_ngcontent-%COMP%]{background-color:#ffffff52;transition:background-color .75s ease}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .clear-icon-button[_ngcontent-%COMP%]{background-color:#ffffff14}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   input[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   .search-icon[_ngcontent-%COMP%], .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:active   .clear-icon-button[_ngcontent-%COMP%]{background-color:#fff6}.search-container[_ngcontent-%COMP%]:not(.nv-keyboard)   .search-input-container[_ngcontent-%COMP%]:not(:focus):focus-within:after, .search-container.nv-keyboard[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:after{position:absolute;width:100%;height:100%;border-bottom:2px solid #76b900;background-clip:padding-box;box-sizing:border-box;pointer-events:none;content:""}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{caret-color:#fff}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{color:#fff9;background-color:#292929}.search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[type=search][_ngcontent-%COMP%]::-webkit-search-cancel-button{display:none}.search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{width:40px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-toggle-button[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.selected-search-item[_ngcontent-%COMP%]{background-color:#282828cc!important}.search-container.handset[_ngcontent-%COMP%]{min-width:0}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{max-width:none;min-width:0;background-color:transparent;border-width:0}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within), .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   input[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:hover:not(:focus-within)   .clear-icon-button[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus, .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   input[_ngcontent-%COMP%], .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]:focus   .clear-icon-button[_ngcontent-%COMP%]{background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{caret-color:#ffffffb3}.isLtr[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;color:#ffffff4d;background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#ffffffe6}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   input.search-input[_ngcontent-%COMP%]::placeholder{color:#ffffff4d}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{background-color:transparent}.search-container.handset[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3}.search-container.handset[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:2px;border-top-color:#76b900}.gamepad-hint-anchor[_ngcontent-%COMP%]{position:absolute;left:0;right:0;height:0;width:100vw}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{height:64px;max-width:800px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{height:inherit}.isLtr.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]{width:64px}.tv-view[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:inherit}']}),ne})()},4898:(Ge,ae,e)=>{"use strict";e.d(ae,{Hs:()=>p,Sc:()=>M,kS:()=>P});var t=e(9357);const n={Click:{name:"Click",gdprLevel:t.KM.Technical},TextSearch:{name:"TextSearch",gdprLevel:t.KM.Behavioral}};var M=(()=>{return(a=M||(M={})).RecentSearchResult="RecentSearchResult",a.NewSearchResult="NewSearchResult",a.AbandonedSearch="AbandonedSearch",a.PausedSearch="PausedSearch",M;var a})();class p extends t.MW{constructor(o){super(o),this.name=n.TextSearch.name,this.gdprLevel=n.TextSearch.gdprLevel}}const P=1e3},36575:(Ge,ae,e)=>{"use strict";e.d(ae,{Y2:()=>t,af:()=>n,x4:()=>x});var t=(()=>{return(y=t||(t={}))[y.None=0]="None",y[y.RecentSearches=1]="RecentSearches",y[y.ResultAvailable=2]="ResultAvailable",y[y.ResultNotAvailable=3]="ResultNotAvailable",y[y.FailedToConnect=4]="FailedToConnect",y[y.IndexNotAvailable=5]="IndexNotAvailable",y[y.EmptyQuery=6]="EmptyQuery",t;var y})(),n=(()=>{return(y=n||(n={}))[y.Click=0]="Click",y[y.Input=1]="Input",n;var y})(),x=(()=>((x||(x={})).RecentSearchesStore="recentSearchesStore",x))();!function a(y){for(const C of Object.keys(y)){const A=C.split(/\|/g),d=y[C];delete y[C],A.forEach(m=>{y[m]=d})}}({"en_US|en_GB|da_DK|de_DE|es_ES|es_MX|fi_FI|fr_FR|hu_HU|it_IT|nb_NO|nl_NL|pl_PL|pt_BR|pt_PT|sk_SK|sl_SI|sv_SE|tr_TR|ro_RO|cs_CZ|hr_HR":"Latin","ru_RU|bg_BG|uk_UA":"Cyrillic",th_TH:"Thai",el_GR:"Greek",ko_KR:"Hangul","zh_CHT|zh_CHS|zh_CN|zh_TW":"Chinese",ja_JP:"Japanese",all_locales:"AllSupportedLocales"})},55123:(Ge,ae,e)=>{"use strict";e.d(ae,{x:()=>Y});var t=e(64710),n=e(36575),x=e(4898),M=e(18406),L=e(59562),p=e(96671),P=e(47504),a=e(23815),o=e(49989),v=e(76086),y=e(85566),A=e(13800),d=e(71265),m=e(51325),S=e(4042),s=e(33932),r=e(2629),l=e(39609),i=e(85562),O=e(9357);let Y=(()=>{class T{constructor(K,b,f,D){this.searchService=b,this.dbCacheService=f,this.telemetryService=D,this.searchIndexAvailableSubject=new M.X(!1),this.serverConnectivityStatusSubject=new L.t(1),this.lazySearchIndexingEnabledSubject=new L.t(1),this.maxRecentSearchesCount=5,this.recentSearchesSubject=new L.t(1),this.recentSearches=null,this.recentSearchesStore=null,this.searchResultChangedSubject=new L.t(1),this.searchResultStateChangedSubject=new L.t(1),this.strSearch="SEARCH",this.strRecent="RECENT",this.strNew="NEW",this.clearSearchSub=new p.xQ,this.autoSearchTriggerSubject$=new L.t(1),this.logger=K.getLogger("IndexService"),this.clickSearchInput$=new p.xQ,this.triggerSearch$=new p.xQ,this.triggerRecentSearchUpdate$=new p.xQ,this.searchActiveState$=new p.xQ,this.triggerBuildSearchIndex$=new p.xQ,this.focusFirstTile$=new p.xQ,this._savedSearchQuery="",this._wasSearchIndexingTriggered=!1}get onClickSearchInput(){return this.clickSearchInput$.asObservable()}get onSearchTriggered(){return this.triggerSearch$.asObservable()}get savedSearchQuery(){return this._savedSearchQuery}set savedSearchQuery(K){this._savedSearchQuery=K}get localSearchResultState(){return this.searchResultState}get onSearchActiveStateChanged(){return this.searchActiveState$.asObservable()}get wasSearchIndexingTriggered(){return this._wasSearchIndexingTriggered}get onFocusFirstTile$(){return this.focusFirstTile$.asObservable()}get onAutoSearchTriggered$(){return this.autoSearchTriggerSubject$.asObservable()}getSearchHierarchy(){return`${this.strSearch}/${this.localSearchResultState===n.Y2.RecentSearches?this.strRecent:this.strNew}`}isSearchHierarchy(K){return(null==K?void 0:K.startsWith(this.strSearch))||!1}init(K,b,f){return this.searchIndexAvailableSubject.next(!1),this.serverConnectivityStatusSubject.next(!0),this.lazySearchIndexingEnabledSubject.next(f),this.lazySearchIndexingEnabledSubject.complete(),this.searchService.initialize(K,b)}triggerSearch(){this.triggerSearch$.next(!0)}triggerRecentSearchesUpdateIfSearching(K){this.triggerRecentSearchUpdate$.next(K)}focusFirstTile(){this.focusFirstTile$.next()}updateSearchActiveState(K){this.searchActiveState$.next(K)}triggerAutoSearch(K){this.savedSearchQuery=K,this.autoSearchTriggerSubject$.next()}get onRecentSearchesUpdateTriggered(){return this.triggerRecentSearchUpdate$.asObservable()}setSearchConfig(K){return this.searchService.setSearchConfig(K)}buildStateIndex(K,b,f){return this.searchService.buildStateIndex(K,b,f)}setWebSearchCallback(K){this.performWebSearch=K}performWebSearchOperation(K){this.performWebSearch&&this.performWebSearch(K)}setCallbacks(K,b){this.processSearchedResultsCallback=K,this.processRecentResultsCallback=b}setSearchIndexAvailable(K){this.searchIndexAvailableSubject.next(K)}getSearchIndexAvailability(){return this.searchIndexAvailableSubject.asObservable()}isSearchIndexAvailable(){return this.searchIndexAvailableSubject.value}setServerConnectivityStatus(K){this.serverConnectivityStatusSubject.next(K)}isConnectedToServer(){return this.serverConnectivityStatusSubject.asObservable()}isLazySearchIndexingEnabled(){return this.lazySearchIndexingEnabledSubject.asObservable()}isDBUpgradeRequired(K){return!!(K.length>0&&(0,y.isNil)(K[0].telemetryTitle))}loadRecentSearchesCacheFromDB(K){return this.recentSearchesStore=this.dbCacheService.getOrCreateCachedGlobalItem(n.x4.RecentSearchesStore,K),this.recentSearchesStore.sync_().pipe((0,A.w)(()=>{const b=this.recentSearchesStore.recentSearches||[],f=this.isDBUpgradeRequired(b);return(0,P.aj)([this.processRecentResultsCallback(b),(0,a.of)(f)])}),(0,d.b)(([b,f])=>{this.recentSearches=b,this.recentSearchesSubject.next(this.recentSearches)}),(0,A.w)(([b,f])=>f&&this.recentSearchesStore.status_===t.c1.Saved?(this.recentSearchesStore.recentSearches=b,this.recentSearchesStore.persist_()):(0,a.of)(!0)),(0,m.K)(b=>(this.logger.error("Error in getting recent searches"+b),this.resetRecentSearches(),(0,a.of)(!1))),(0,S.h)(!0))}getRecentSearches(){return this.recentSearchesSubject.asObservable()}onSearchResultChanged(){return this.searchResultChangedSubject.asObservable()}notifySearchResultChanged(K){this.searchResultChangedSubject.next(K)}onSearchResultStateChanged(){return this.searchResultStateChangedSubject.asObservable()}notifySearchResultStateChanged(K){this.searchResultState=K,this.searchResultStateChangedSubject.next(K)}onTriggerBuildingSearchIndex(){return this.triggerBuildSearchIndex$.asObservable()}triggerBuildingSearchIndex(){return this._wasSearchIndexingTriggered=!0,this.triggerBuildSearchIndex$.next(!0)}resetRecentSearches(){this.recentSearchesSubject.next([]),this.recentSearches=null}loadCurrentUserRecentSearches(K){return K?this.loadRecentSearchesCacheFromDB(K).pipe((0,s.zg)(b=>(0,o.s)(()=>!!this.pendingRecentSearchUpdate$,(0,v.P)(()=>this.pendingRecentSearchUpdate$.pipe((0,S.h)(b))),(0,a.of)(b)))):(0,a.of)(!1)}updateCurrentUserRecentSearches(K){if(!this.recentSearches)return void(this.pendingRecentSearchUpdate$=(0,v.P)(()=>this.updateCurrentUserRecentSearches(K)));this.pendingRecentSearchUpdate$=void 0;let b=[];K.isRecentSearch=!0,b=(0,y.filter)(this.recentSearches,function(f){return f.ref!==K.ref}),b.unshift(K),b.length>this.maxRecentSearchesCount&&b.pop(),this.recentSearches=b,this.recentSearchesSubject.next(this.recentSearches),this.recentSearchesStore&&this.recentSearchesStore.status_===t.c1.Saved&&(this.recentSearchesStore.recentSearches=b,this.recentSearchesStore.persist_().subscribe())}onUserLoggedOut(){this.recentSearchesSubject.pipe((0,r.q)(1)).subscribe(()=>{setTimeout(()=>this.triggerSearch())}),this.resetRecentSearches()}onUserLoggedIn(K){return this.loadCurrentUserRecentSearches(K)}clickSearchInput(K){this.clickSearchInput$.next(K)}sendTextSearchTelemetry(K,b){this.initializeTextSearchInfo(K),this.updateTextSearchInfoTopResults(b),this.telemetryService.push(new x.Hs(this.textSearchInfo))}updateRecentSearchesAndSendTelemetry(K,b,f){const D={searchType:K.isRecentSearch?x.Sc.RecentSearchResult:x.Sc.NewSearchResult,searchQuery:f,selectedResult:K.telemetryTitle,selectedPreview:"",selectedRank:K.indexInCategory};this.updateCurrentUserRecentSearches(K),this.sendTextSearchTelemetry(D,b)}initializeTextSearchInfo(K){this.textSearchInfo={searchType:"",searchQuery:"",selectedResult:"",selectedPreview:"",selectedRank:0,aggregatedPreviews:"",rank0Result:"",rank1Result:"",rank2Result:"",rank3Result:"",rank4Result:""},this.textSearchInfo=(0,y.merge)(this.textSearchInfo,K)}updateTextSearchInfoTopResults(K){let b=[];(0,y.each)((0,y.range)(0,5),f=>{K[f]&&(this.textSearchInfo["rank"+f+"Result"]=K[f].telemetryTitle,b.push.apply(b,(0,y.keys)(K[f].preview)))}),b=(0,y.uniq)(b),this.textSearchInfo.aggregatedPreviews=this.formatAggregatedPreviews(b)}formatAggregatedPreviews(K){let b="";for(const f of K){const D=f+", "+b;if(!(D.length<x.kS))break;b=D}return b.slice(0,-2)}clearSearchQuery(){this.savedSearchQuery="",this.clearSearchSub.next()}onClearSearchQuery(){return this.clearSearchSub.asObservable()}}return T.\u0275fac=function(K){return new(K||T)(l.LFG(t.ed),l.LFG(i.o),l.LFG(t.LA),l.LFG(O.y0))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},85562:(Ge,ae,e)=>{"use strict";e.d(ae,{o:()=>p});var t=e(16099),n=e(33932),x=e(4042),M=e(39609),L=e(64710);let p=(()=>{class P{constructor(o){this.workerLoggingService=o}initialize(o,v){const y=this.workerLoggingService.getLoggerSettings();return this.searchHelper=v,this.initialize$=(0,t.D)(this.searchHelper.initialize(o,y)),this.initialize$}setSearchConfig(o){return this.initialize$.pipe((0,n.zg)(()=>this.searchHelper.setSearchConfig(o)),(0,x.h)(!0))}applyPipeline(o){return this.initialize$.pipe((0,n.zg)(()=>this.searchHelper.applyPipeline(o)))}buildStateIndex(o,v,y){return this.initialize$.pipe((0,n.zg)(()=>this.searchHelper.buildStateIndex(o,v,y)))}performSearch(o){return this.initialize$.pipe((0,n.zg)(()=>this.searchHelper.performSearch(o)))}}return P.\u0275fac=function(o){return new(o||P)(M.LFG(L.Yq))},P.\u0275prov=M.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},20010:(Ge,ae,e)=>{"use strict";e.d(ae,{xB:()=>x.x,af:()=>t.af,t8:()=>O});var t=e(36575),x=(e(85562),e(55123)),L=(e(47273),e(93557)),p=e(52954),P=e(50239),a=e(70782),o=e(32764),v=e(37661),y=e(76947),C=e(34375),A=e(63926),d=e(99763),m=e(39609);const S=[L.u5,C.yu,a.IF,A.gR,o.UK,v.Ps,y.x4,d.AA];let s=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=m.oAB({type:Y}),Y.\u0275inj=m.cJS({imports:[L.u5,S,L.u5,C.yu,a.IF,A.gR,o.UK,v.Ps,y.x4,d.AA]}),Y})();var r=e(64710),l=e(59248),i=e(22804);let O=(()=>{class Y{}return Y.\u0275fac=function(B){return new(B||Y)},Y.\u0275mod=m.oAB({type:Y}),Y.\u0275inj=m.cJS({imports:[L.u5,p.ez,P.o9,s,(0,r.zv)(),r.it,l.Gp,i.hp]}),Y})()},85501:(Ge,ae,e)=>{"use strict";e.d(ae,{Fk:()=>s,No:()=>F,nz:()=>i,HR:()=>K,rL:()=>r});var t=e(96671),n=e(42520),x=e(23815),M=e(16099),L=e(57693),p=e(13800),P=e(4042),a=e(2629),o=e(89258),v=e(33932),y=e(74266),C=e(51325);e(53617);var m=(()=>{return(H=m||(m={})).Gfn="geforcenow",H.Nvapp="nvidiaapplication",m;var H})(),S=(()=>{return(H=S||(S={})).FetchSuccess="SW_FETCH_SUCCESS",H.RuntimeCacheUpdated="SW_RUNTIME_CACHE_UPDATED",S;var H})(),s=(()=>{return(H=s||(s={})).ETag="etag",H.SwCacheBypass="x-sw-cachebypass",H.XRequestId="x-request-id",H.SwCacheKeyAppendString="sw-cache-key-append-string",H.SwCache="sw-cache",H.SwNotifyFetch="sw-notify-fetch",H.SwNoDataUpdate="sw-no-data-update",s;var H})(),r=(()=>{return(H=r||(r={})).SkipWaiting="SKIP_WAITING",H.GameLaunched="GAME_LAUNCHED",H.GameExit="GAME_EXIT",H.CloseStreamerSession="CLOSE_STREAM_SESSION",H.PushNotification="BROWSER_PUSH_NOTIFICATION",H.IpcPushNotification="IPC_PUSH_NOTIFICATION",H.PushNotificationTelemetry="PUSH_NOTIFICATION_TELEMETRY",H.UiPushNotification="BROWSER_VISIBLE_PUSH_NOTIFICATION",H.PushNotificationTracing="PUSH_NOTIFICATION_TRACING",H.SharedStorageUpdate="SHARED_STORAGE_UPDATE",H.LoggerNotification="LOGGER_NOTIFICATION",H.GetClientVersion="GET_CLIENT_VERSION",H.SetLoggerSettings="SET_LOGGING_SETTINGS",H.GetClientVersionWaitingSW="GET_CLIENT_VERSION_FROM_WAITING_SW",r;var H})(),l=(()=>{return(H=l||(l={})).INSTALLING="installing",H.INSTALLED="installed",H.ACTIVATING="activating",H.ACTIVATED="activated",H.REDUNDANT="redundant",l;var H})(),i=(()=>{return(H=i||(i={})).PushNotificationReceived="PushNotificationReceived",H.PushNotificationError="PushNotificationError",i;var H})(),T=e(39609),B=e(64710);let K=(()=>{class H{constructor(E){this.swSharedStorageUpdate=new t.xQ,this.swLoggingUpdate=new t.xQ,this.swActivationRequested$=new t.xQ,this.swClientVersion=new t.xQ,this.logger=E.getLogger("libraries/service-worker.service"),this.swCacheUpdate$=new t.xQ,this.networkFetchSucceeded$=new t.xQ,this.swActivated$=new t.xQ,this.swUpdateReady$=new t.xQ,this.resetSwUpdateCache$=new t.xQ,this.swNotifyListener$=new t.xQ,this.swPushNotificationListener$=new t.xQ,this.swPushNotificationTelemetryListener$=new t.xQ,this.swPushNotificationTracing=new t.xQ,this.swUpdateReadyCached$=(0,n.T)(this.swUpdateReady$.asObservable(),this.resetSwUpdateCache$).pipe((0,L.d)(1))}get swCacheUpdated(){return this.swCacheUpdate$.asObservable()}get networkResponseReceived(){return this.networkFetchSucceeded$.asObservable()}get swUpdateReady(){return this.swUpdateReady$.asObservable()}get swUpdateReadyCached(){return this.swUpdateReadyCached$}get swActivated(){return this.swActivated$.asObservable()}get swNotifyListener(){return this.swNotifyListener$.asObservable()}get swPushNotificationListener(){return this.swPushNotificationListener$.asObservable()}get swPushNotificationTelemetryListener(){return this.swPushNotificationTelemetryListener$.asObservable()}get swPushNotificationTracingListener(){return this.swPushNotificationTracing.asObservable()}get swSharedStorageUpdate$(){return this.swSharedStorageUpdate.asObservable()}get swLoggingUpdate$(){return this.swLoggingUpdate.asObservable()}get swAssociatedClientVersion(){return this.swClientVersion.asObservable()}initialize(){this.serviceWorkerSupported()?(this.swHandleMessages(),this.swHandleControllerChanges(),this.swHandleUpdates()):this.logger.info("Service worker not supported")}willGFNServiceWorkerHandleRequest(E,ee){if(ee&&ee===JSON.stringify(!0))return!1;for(const R in F.staleWhileRevalidate)if(F.staleWhileRevalidate.hasOwnProperty(R)&&F.staleWhileRevalidate[R].routePattern.test(E))return!0;return!1}serviceWorkerSupported(){return"serviceWorker"in navigator}getSWRegistrationInfo(){var E,ee;return this.serviceWorkerSupported()?{isSuccess:null===(E=null==window?void 0:window.SWRegistrationInfo)||void 0===E?void 0:E.isSuccess,error:null===(ee=null==window?void 0:window.SWRegistrationInfo)||void 0===ee?void 0:ee.error}:null}clearSwUpdateCache(){this.logger.info("SW Update Cache: Cleared"),this.resetSwUpdateCache$.next(null)}checkForUpdates(){return this.serviceWorkerSupported()?navigator.serviceWorker.getRegistration().then(E=>E?this.swHasUpdate(E)?E:E.update():Promise.reject("Registration does not exist")).then(E=>({updateAvailable:this.swHasUpdate(E),error:null})).catch(E=>(this.logger.error("SW Update Check: Error",E.toString()),Promise.resolve({updateAvailable:!1,error:E}))):Promise.reject("SW Update Check: Browser does not support service workers")}activateServiceWorker(){return this.serviceWorkerSupported()?(0,M.D)(navigator.serviceWorker.getRegistration()).pipe((0,p.w)(E=>E?this.swHasUpdate(E)?E.installing?(this.logger.info("SW Activate: Waiting for new service worker to be installed"),this.swUpdateReady.pipe((0,P.h)(E),(0,a.q)(1))):(0,x.of)(E):(this.logger.info("SW Activate: Nothing to activate"),(0,x.of)(null)):(this.logger.info("SW Activate: No service worker registration"),(0,x.of)(null))),(0,o.U)(E=>null!=E&&E.waiting?(this.logger.info("SW Activate: Requested to activate."),E.waiting.postMessage({type:r.SkipWaiting}),this.swActivationRequested$.next(),!0):(this.logger.info("SW Activate: No service worker waiting."),!1)),(0,a.q)(1)):(this.logger.info("SW Activate: Browser does not support service workers"),(0,x.of)(!1))}get swActivationRequested(){return this.swActivationRequested$.asObservable()}postMessageSw(E){this.serviceWorkerSupported()?navigator.serviceWorker.ready.then(ee=>{var R;E.type===r.SharedStorageUpdate?this.logger.verbose("Calling SW postMessage with: ",E):this.logger.info("Calling SW postMessage with: ",E),null===(R=ee.active)||void 0===R||R.postMessage({type:E.type,content:E.content})}):this.logger.info("SW PostMsg: Browser does not support service workers")}swHasUpdate(E){return!(!E.installing&&!E.waiting)}swHandleMessages(){navigator.serviceWorker.addEventListener("message",E=>{if(E.data.type===S.RuntimeCacheUpdated){const{cacheName:ee,requestUrl:R,noDataUpdate:q}=E.data.payload;(0,M.D)(caches.open(ee)).pipe((0,v.zg)(ne=>ne.match(R)),(0,y.h)(ne=>!!ne),(0,v.zg)(ne=>ne.json()),(0,C.K)(ne=>(this.logger.info("error while checking for cache update",ne.toString()),(0,x.of)(null)))).subscribe(ne=>{ne&&(this.logger.info("SW cache updated",ee),this.swCacheUpdate$.next({name:ee,url:R,data:ne,noDataUpdate:q}))})}else(null==E?void 0:E.data.type)===r.CloseStreamerSession?(this.logger.info("Msg received from another tab: ",E.data.type),this.swNotifyListener$.next(E.data)):(null==E?void 0:E.data.type)===r.PushNotification?(this.logger.info("Firebase Token received from Service Worker: ",E.data.type),this.swPushNotificationListener$.next(E.data)):(null==E?void 0:E.data.type)===r.PushNotificationTelemetry?(this.logger.info("Telemetry Event received from Service Worker: ",E.data.type),this.swPushNotificationTelemetryListener$.next(E.data)):(null==E?void 0:E.data.type)===r.PushNotificationTracing?(this.logger.info("Telemetry Event received from Service Worker: ",E.data.type),this.swPushNotificationTracing.next(E.data)):(null==E?void 0:E.data.type)===r.SharedStorageUpdate?this.swSharedStorageUpdate.next(E.data):(null==E?void 0:E.data.type)===S.FetchSuccess?this.networkFetchSucceeded$.next(E.data.payload):(null==E?void 0:E.data.type)===r.LoggerNotification?this.swLoggingUpdate.next(E.data):(null==E?void 0:E.data.type)===r.GetClientVersion&&(this.swClientVersion.next(E.data.content),this.logger.info("Received client version is ",E.data))})}swHandleUpdates(){return this.serviceWorkerSupported()?(this.logger.info("SW Updates: Init"),navigator.serviceWorker.getRegistration().then(E=>{if(!E)return Promise.reject("SW Updates: Registration does not exist");let ee=this.swIsActive();this.logger.info(`SW Updates: Registration Exists, First Installation: ${!ee}`),this.swOnUpdateInstalled(E,R=>{this.logger.info("SW Updates: Update installed"),this.logger.info("SW Updates: Notifying"),R.firstInstallation=!ee,this.swUpdateReady$.next(R),ee=!0})}).catch(E=>this.logger.error("SW Updates: Error",E.toString()))):Promise.reject("SW Updates: Browser does not support service workers")}swOnUpdateInstalled(E,ee){const R=ne=>{ne.state===l.INSTALLED&&ee({state:ne.state,ts:Date.now()})},q=ne=>{ne&&(this.logger.info("SW Update Listener: Update found"),R(ne),ne.addEventListener("statechange",()=>{this.logger.info("SW Update Listener: New worker state change:",ne.state),R(ne)}))};E?(E.waiting?(this.logger.info("SW Update Listener: An update is ready"),ee({state:l.INSTALLED,ts:Date.now()})):E.installing&&q(E.installing),E.onupdatefound||(this.logger.info("SW Update Listener: Waiting for any updates to current worker"),E.addEventListener("updatefound",()=>q(E.installing)))):this.logger.info("SW Update Listener: No service worker registration")}swIsActive(){var E;return!(null===(E=navigator.serviceWorker)||void 0===E||!E.controller)}swHandleControllerChanges(){if(!this.serviceWorkerSupported()||navigator.serviceWorker.oncontrollerchange)return;this.logger.info("SW Ctrl Change: Init");let E=this.swIsActive();this.logger.info("SW Ctrl Change: has active service worker -",E),navigator.serviceWorker.addEventListener("controllerchange",()=>{if(this.logger.info("SW Ctrl Change: New service worker activated"),this.swActivated$.next({firstInstallation:!E,ts:Date.now()}),!E)return this.logger.info("SW Ctrl Change: First activation"),void(E=!0)})}}return H.\u0275fac=function(E){return new(E||H)(T.LFG(B.ed))},H.\u0275prov=T.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const b=m.Gfn,f=1440,D=60*f;var w=(()=>{return(H=w||(w={})).LCARS="lcars",H.LCARSStatic="lcarsStatic",H.LCARSUserAccount="lcarsUserAccount",H.LCARSClientStrings="lcarsClientStrings",H.ServiceUrls="service",H.ServerInfo="server",H.RConfig="rconfig",H.GxTarget="gxtarget",H.Subscriptions="subscriptions",H.Telemetry="telemetry",H.Offline="offline",H.GfcFeedbacks="gfcFeedbacks",H.PNSNotifications="pnsNotifications",w;var H})();const F={staleWhileRevalidate:{lcars:{name:w.LCARS,cacheName:`${b}-${w.LCARS}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=panels/,expiry:{maxEntries:10,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},lcarsStatic:{name:w.LCARSStatic,cacheName:`${b}-${w.LCARSStatic}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=staticAppData/,expiry:{maxEntries:5,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},lcarsUserAccount:{name:w.LCARSUserAccount,cacheName:`${b}-${w.LCARSUserAccount}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=userAccount/,expiry:{maxEntries:2,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},lcarsClientStrings:{name:w.LCARSClientStrings,cacheName:`${b}-${w.LCARSClientStrings}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+\/graphql\?requestType=clientStrings/,expiry:{maxEntries:2,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},serviceUrls:{name:w.ServiceUrls,cacheName:`${b}-${w.ServiceUrls}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v1\/serviceUrls)/,expiry:{maxEntries:10,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},server:{name:w.ServerInfo,cacheName:`${b}-${w.ServerInfo}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v2\/serverInfo)/,expiry:{maxEntries:10,maxAgeSeconds:14*D,purgeOnQuotaError:!0}},subscriptions:{name:w.Subscriptions,cacheName:`${b}-${w.Subscriptions}-v1`,routePattern:/https:\/\/([a-zA-Z0-9_.-])+(\/v3\/subscriptions)/,expiry:{maxEntries:20,maxAgeSeconds:7*D,purgeOnQuotaError:!0}}},networkFirst:{},networkOnly:{telemetry:{name:w.Telemetry,cacheName:`${b}-${w.Telemetry}-v1`,routePattern:/https:\/\/events\.gfe(stage)?\.nvidia\.com\/v1\.0\/events\/json\?immediateRequest=true/,maxRetentionTime:f},gfcFeedbacks:{name:w.GfcFeedbacks,cacheName:`${b}-${w.GfcFeedbacks}-v1`,routePattern:/https:\/\/telemetry\.gfe(stage)?\.nvidia\.com\/gfc\/v4\.0\//,maxRetentionTime:f},pnsNotifications:{name:w.PNSNotifications,cacheName:`${b}-${w.PNSNotifications}-v1`,routePattern:/https:\/\/(stg.pns.nvidiagrid.net)?(pns.geforcenow.com)?\/v1\/unregister/,maxRetentionTime:f}}}},91565:(Ge,ae,e)=>{"use strict";e.d(ae,{TC:()=>m,OA:()=>d});var t=e(85566),n=e(59562),x=e(18388),M=e(23815),L=e(89258),p=e(51325),P=e(2629),a=e(33932),o=e(71265),v=e(4042),y=e(64710),C=e(21361),A=e(39609);let d=(()=>{class s{constructor(l,i,O){this.bridgeService=l,this.nativeEventService=O,this.logger=i.getLogger("libraries/shared-storage"),this.cachedSharedStorage$=new n.t(1),this.isInitialized=!1}initialize(){this.logger.info("init"),this.bridgeService.executeCommand(C.Gh.Common.Sharedstorage.Cache).subscribe(l=>{this.logger.info("cached shared storage"),this.cachedSharedStorage$.next(l)},l=>{this.logger.error("error caching shared storage",l)}),this.nativeEventService.get$(y.Nx.SharedStorageUpdate,y.bi.Types.HandlerEventType.StructuredWindowEvent).pipe((0,L.U)(l=>JSON.parse(l)),(0,p.K)(l=>(this.logger.error("error receiving native event",l),this.cachedSharedStorage$.pipe((0,P.q)(1))))).subscribe(l=>{this.logger.info("shared storage cache updated"),this.cachedSharedStorage$.next(l)}),this.isInitialized=!0}readBlock(l){return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,P.q)(1),(0,a.zg)(i=>{const O=(0,t.get)(i,l.split("/"));return O?(0,M.of)(O):(0,x._)({code:204})}),(0,p.K)(i=>(this.logReadError(l,i),(0,M.of)({}))))}logReadError(l,i){switch(i.code){case 404:this.logger.info("No shared storage file found, creating a new one.");break;case 204:this.logger.info(`No entry for ${l} exists. Defaulting to empty object.`);break;default:this.logger.error(`Error (${i.code}) ${i.message}. Defaulting to empty object for path ${l}.`)}}writeBlock(l,i,O){const Y=this.writeBlockInternal(l,i).pipe((0,P.q)(1),(0,o.b)(T=>{this.logger.info("write status to shared storage for path",l,T)}),(0,p.K)(T=>(this.logger.error("error writing to shared storage for path",l,T),(0,M.of)(!1))));return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,P.q)(1),(0,a.zg)(T=>(this.cachedSharedStorage$.next((0,t.setWith)(T,l.split("/"),i,Object)),O?Y:(Y.subscribe(),(0,M.of)(!0)))))}writeBlockInternal(l,i){return this.bridgeService.executeCommand(C.Gh.Common.Sharedstorage.Write,{path:l.split("/"),data:i})}removeBlock(l){return this.isInitialized||this.initialize(),this.cachedSharedStorage$.pipe((0,P.q)(1),(0,L.U)(i=>{const O=(0,t.unset)(i,l);return this.cachedSharedStorage$.next(i),this.removeBlockInternal(l).subscribe(),O}))}removeBlockInternal(l){return this.bridgeService.executeCommand(C.Gh.Common.Sharedstorage.Remove,{path:l.split("/")}).pipe((0,v.h)(!0),(0,p.K)(i=>(204===i.code?this.logger.warn(`No entry for ${l} exists. Removal failed.`):this.logger.error(`Error (${i.code}) ${i.message}.`),(0,M.of)(!1))))}}return s.\u0275fac=function(l){return new(l||s)(A.LFG(y.dF),A.LFG(y.ed),A.LFG(y.o1))},s.\u0275prov=A.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),m=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=A.oAB({type:s}),s.\u0275inj=A.cJS({}),s})()},85936:(Ge,ae,e)=>{"use strict";e.d(ae,{FI:()=>x,L$:()=>a,Tq:()=>P,Z0:()=>t,sO:()=>n,vz:()=>p,zs:()=>M});const t=":server/authorize?response_mode=query&response_type=id_token+token&device_id=:deviceId&scope=:scope&client_id=:clientId&redirect_uri=:redirectUri&ui_locales=:locale&nonce=:nonce&prompt=select_account",n=":server/authorize?response_type=code&device_id=:deviceId&scope=:scope&client_id=:clientId&redirect_uri=:redirectUri&ui_locales=:locale&nonce=:nonce&prompt=select_account&code_challenge=:codeChallenge&code_challenge_method=S256",x=":server/logout?id_token_hint=:idToken&ui_locales=:locale",M=":server/logout?id_token_hint=:idToken&ui_locales=:locale&post_logout_redirect_uri=:redirect_uri",p={clientToken:null,accessToken:null,idToken:null,user:{sub:"",idp_name:"",idp_id:"",external_id:"",preferred_username:"",consent:{trackTechnicalData:!1,trackBehavioralData:!1},isAuthenticated:!1},clientTokenExpiry:null,accessTokenExpiry:null,idTokenExpiry:null},P="starfleet";var a=(()=>{return(o=a||(a={}))[o.Failure=0]="Failure",o[o.Success=1]="Success",o[o.Cancel=2]="Cancel",o[o.CloseOnFailure=3]="CloseOnFailure",a;var o})()},10671:(Ge,ae,e)=>{"use strict";e.d(ae,{z:()=>a});var t=e(23815),n=e(33932),x=e(89258),M=e(85936),L=e(85566);class P{static encode(v){const y=new P;return y.data=window.btoa(encodeURIComponent(JSON.stringify(v))),y.authProvider=M.Tq,y}static decode(v){return JSON.parse(decodeURIComponent(window.atob(v.data)))}}class a{constructor(v,y){this.idTokenRefreshUnderDuration=v,this.data=(0,L.isNil)(y)?Object.assign({},M.vz):y}static loadFrom(v,y){return v.readBlock("starfleetSession").pipe((0,n.zg)(A=>{const d=A.authProvider===M.Tq?P.decode(A):null,m=new a(y,d);return(0,L.isEmpty)(d)?m.writeTo(v):(0,t.of)(m)}))}writeTo(v){return v.writeBlock("starfleetSession",P.encode(this.data),!0).pipe((0,x.U)(()=>this))}hasClientToken(){return!(0,L.isNil)(this.data.clientToken)}isClientTokenValid(){return this.hasClientToken()&&this.data.clientTokenExpiry>Date.now()}hasClientTokenExpired(){return this.hasClientToken()&&this.data.clientTokenExpiry<=Date.now()}hasAccessToken(){return!(0,L.isNil)(this.data.accessToken)}isAccessTokenValid(){return this.hasClientToken()&&this.data.accessTokenExpiry>Date.now()}isIdTokenValid(){return 0===this.data.idTokenExpiry||this.hasClientToken()&&this.data.idTokenExpiry>Date.now()+this.idTokenRefreshUnderDuration}}},86465:(Ge,ae,e)=>{"use strict";e.d(ae,{C4:()=>L,L$:()=>w.L$,TR:()=>x,E9:()=>Me,DO:()=>t,fH:()=>M});class t{constructor(){}}var n=e(39609);let x=(()=>{class Le{}return Le.\u0275fac=function(Q){return new(Q||Le)},Le.\u0275prov=n.Yz7({token:Le,factory:Le.\u0275fac}),Le})();var M=(()=>{return(Le=M||(M={})).LoginAlreadyInProgress="Login Already In Progress",Le.OpenOAuthUrlStarted="Open OAuth url started",Le.OpenOAuthUrlCompleted="Open OAuth url completed",Le.LoginStarted="Login Started",Le.LoginCompleted="Login Completed",Le.LoginAbortedByUser="Login Aborted: User Cancelled Login",Le.LoginAbortedAlreadyLoggedIn="Login Aborted: Already Logged In",Le.LoginFailed="Login Failed",Le.LoginFailedNoRetry="Login Failed No Retry",Le.LoginFailedToStart="Login failed to Start",Le.LogoutStarted="Logout Started",Le.LogoutCompleted="Logout Completed",Le.LogoutFailed="Logout Failed",Le.LoginInProgressNeedDisplayCode="Login Started Need Display Code",Le.LoginNotReturningFromLoginPage="Login not returning from login page",M;var Le})(),L=(()=>{return(Le=L||(L={})).NOT_LOGGED_IN="Not Logged In, Must login",Le.USER_OFFLINE="User is Offline",Le.ALREADY_LOGGED_IN="Already logged in",Le.AUTH_ERROR="Auth Error",Le.AGE_RESTRICTED="age_restricted",Le.ACCOUNT_LOCKED="account_locked",Le.HTTP_START_FAILED="Http Server start failed",Le.CLIENT_TOKEN_FAIL="Client token url access failed",Le.OAUTH_DATA_EMPTY="JSON parsing fialed for OAUTH Data",Le.STARFLEET_REDIRECT_FAIL="Failure on Starfleet Redirect Page",Le.REDEEM_AUTHCODE_FAILED="Failuer in redeeming auth code",Le.NONCE_VALIDATION_FAILED="Nonce validation failed",Le.ACCOUNT_INACTIVE="account_inactive",Le.LOGIN_CANCELLED_BY_USER="User pressed back from login page",Le.LOGOUT_NOT_SUPPORTED="logout_not_supported",Le.LOGOUT_GENERIC_ERROR="logout_generic_error",Le.LOGIN_SILENT_LOGIN_FAILED="silent_login_failed",L;var Le})(),p=e(52954),P=e(52474),a=(()=>{return(Le=a||(a={})).Browser="Browser",Le.Cef="Cef",Le.Android="Android",a;var Le})(),o=e(59562),v=e(23815),y=e(18388),C=e(41221),A=e(42930),d=e(47504),m=e(71265),S=e(33932),s=e(2629),r=e(63155),l=e(51325),i=e(57693),O=e(73553),Y=e(89258),T=e(74266),B=e(78747),K=e(13800),b=e(85566),f=e(21361),D=e(80155),I=e(10671),w=e(85936),_=e(64710),$=e(85948),G=e(69060),F=e(43508);const J="Starfleet",z="KVStore",Z=3e4,ue=2,u=1e3;let k=(()=>{class Le{constructor(Q,ve,be,xe,ke,Ce,ge){this.starfleetConfig=Q,this.endpointFactory=ve,this.bridgeService=be,this.systemInfoService=xe,this.appConfig=ke,this.distributedtracingUtilService=ge;const{defaultRetries:De=ue,defaultTimeBetweenRetries:ye=u,defaultTimeout:Oe=Z}=Q,qe={config:{maxRetries:De,timeout:Oe,timeBetweenRetries:ye}};this.endpointAccessToken=this.endpointFactory.createEndpoint(qe),this.endpointClientToken=this.endpointFactory.createEndpoint(qe),this.endpointUserInfo=this.endpointFactory.createEndpoint(qe),this.endpointKVStore=this.endpointFactory.createEndpoint(qe),this.logger=Ce.getLogger("libraries/starfleet-http.service")}requestDeviceAuthorize(Q,ve,be,xe){let ke=(new P.LE).set("client_id",this.starfleetConfig.clientId).set("scope",this.starfleetConfig.scope).set("device_id",Q).set("display_name",ve);be&&(ke=ke.set("idp_id",be));const Ce={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:ke.toString(),reportRequestData:{originalService:J,serviceUseCase:"Device_Authorization"}},De=this.endpointAccessToken.post(`${this.starfleetConfig.url}/device/authorize`,Ce);return this.distributedtracingUtilService.handleHttpEndpointSpan(De,Ce,G.j1.StarfleetGetAccessToken,xe)}getAccessToken(Q,ve,be){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing clientToken parameter"));if((0,b.isNil)(ve)||0===ve.trim().length)return(0,y._)(new Error("invalid or missing sub parameter"));const ke={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new P.LE).set("grant_type","urn:ietf:params:oauth:grant-type:client_token").set("client_token",Q).set("client_id",this.starfleetConfig.clientId).set("sub",ve).toString(),reportRequestData:{originalService:J,serviceUseCase:"Get_Access_Token"}},Ce=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ce,ke,G.j1.StarfleetGetAccessToken,be)}getAccessTokenFromDeviceCode(Q,ve){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing clientToken parameter"));const xe={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new P.LE).set("grant_type","urn:ietf:params:oauth:grant-type:device_code").set("device_code",Q).set("client_id",this.starfleetConfig.clientId).toString(),reportRequestData:{originalService:J,serviceUseCase:"Get_Access_Token"}},ke=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,xe);return this.distributedtracingUtilService.handleHttpEndpointSpan(ke,xe,G.j1.StarfleetGetAccessToken,ve)}getUserInfo(Q,ve){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing accessToken parameter"));const be={headers:this.getStarfleetAuthorizeHeaders(Q),reportRequestData:{originalService:J,serviceUseCase:"Get_User_Info"}},xe=this.endpointUserInfo.get(`${this.starfleetConfig.url}/userinfo`,be);return this.distributedtracingUtilService.handleHttpEndpointSpan(xe,be,G.j1.StarfleetGetUserInfo,ve)}getClientToken(Q,ve){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing accessToken parameter"));const be={headers:this.getStarfleetAuthorizeHeaders(Q),reportRequestData:{originalService:J,serviceUseCase:"Get_Client_Token"}},xe=this.endpointClientToken.get(`${this.starfleetConfig.url}/client_token`,be);return this.distributedtracingUtilService.handleHttpEndpointSpan(xe,be,G.j1.StarfleetGetClientToken,ve)}redeemAuthCode(Q,ve,be,xe){var ke,Ce,ge;if(null===(ke=null==Q?void 0:Q.trim())||void 0===ke||!ke.length)return(0,y._)(new Error("invalid or missing auth code parameter"));if(null===(Ce=null==ve?void 0:ve.trim())||void 0===Ce||!Ce.length)return(0,y._)(new Error("invalid or missing redirectUri parameter"));if(null===(ge=null==be?void 0:be.trim())||void 0===ge||!ge.length)return(0,y._)(new Error("invalid or missing codeVerifier parameter"));const ye={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:(new P.LE).set("grant_type","authorization_code").set("code",Q).set("redirect_uri",ve).set("code_verifier",be).toString(),reportRequestData:{originalService:J,serviceUseCase:"Get_Access_Token"}},Oe=this.endpointAccessToken.post(`${this.starfleetConfig.url}/token`,ye);return this.distributedtracingUtilService.handleHttpEndpointSpan(Oe,ye,G.j1.StarfleetGetAccessToken,xe)}deleteClientTokens(Q,ve){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing accessToken parameter"));const be={params:{level:"client"},headers:this.getStarfleetAuthorizeHeaders(Q),reportRequestData:{originalService:J,serviceUseCase:"Delete_Client_Data"}},xe=this.endpointClientToken.delete(`${this.starfleetConfig.url}/assets/v2/Tokens`,be);return this.distributedtracingUtilService.handleHttpEndpointSpan(xe,be,G.j1.StarfleetDeleteClientToken,ve)}getStarfleetAuthorizeHeaders(Q){return{[$.n0.authorization]:`Bearer ${Q}`}}getClientData(Q,ve,be){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing idToken parameter"));const xe={headers:this.getKVStoreAuthorizeHeaders(Q),reportRequestData:{originalService:z,serviceUseCase:"Get_Client_Data"}},ke=this.formatKeyValStoreUrl(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,ve),Ce=this.endpointKVStore.get(ke,xe);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ce,xe,G.j1.KVStoreGetClientData,be)}deleteClientData(Q,ve,be,xe){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing idToken parameter"));const ke={headers:this.getKVStoreAuthorizeHeaders(Q),reportRequestData:{originalService:z,serviceUseCase:"Delete_Client_Data"}},Ce=this.formatKeyValStoreUrl(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,[ve],be),ge=this.endpointKVStore.delete(Ce,ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(ge,ke,G.j1.KVStoreDeleteClientData,xe)}setClientData(Q,ve,be,xe){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing idToken parameter"));const ke={headers:this.getKVStoreAuthorizeHeaders(Q),reportRequestData:{originalService:z,serviceUseCase:"Set_Client_Data"},body:{key:ve,value:be}},Ce=this.endpointKVStore.post(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ce,ke,G.j1.KVStoreSetClientData,xe)}appendClientData(Q,ve,be,xe){if((0,b.isNil)(Q)||0===Q.trim().length)return(0,y._)(new Error("invalid or missing idToken parameter"));const ke={headers:this.getKVStoreAuthorizeHeaders(Q),reportRequestData:{originalService:z,serviceUseCase:"Set_Client_Data"},body:{key:ve,value:be}},Ce=this.endpointKVStore.put(`${this.starfleetConfig.keyValueServiceUrl}/clientData`,ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ce,ke,G.j1.KVStoreAppendClientData,xe)}formatKeyValStoreUrl(Q,ve,be){if((0,b.isEmpty)(ve))return Q;const xe=[];return ve.forEach(ke=>{xe.push(`key=${ke}`)}),be&&be.forEach(ke=>{xe.push(`value=${ke}`)}),encodeURI(`${Q}?${xe.join("&")}`)}getKVStoreAuthorizeHeaders(Q){return{[$.n0.authorization]:`GFNJWT ${Q}`}}}return Le.\u0275fac=function(Q){return new(Q||Le)(n.LFG(x),n.LFG($.V9),n.LFG(_.dF),n.LFG(_.Ob),n.LFG(F.XL),n.LFG(_.ed),n.LFG(G.Dc))},Le.\u0275prov=n.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var W=e(39700),N=e(49989),H=e(96671),h=e(16099),E=e(4042),ee=e(49048);const R="oauth",ne="GfnOauthUrlData";let _e=(()=>{class Le{constructor(Q,ve,be,xe){this.bridgeService=ve,this.distributedTracingUtilService=xe,this.isBrowserPlatform=!1,this.httpSubscription=null,this.authWindow=null,this.isSameTabLoginFeatureEnabled=!1,this.authSaveDataNotifySubject=new o.t(1),this.logger=be.getLogger("starfleet/o-auth"),this.isBrowserPlatform=_.ng.isBrowserPlatform(),this.isSameTabLoginFeatureEnabled=Q.sameTabLogin}sameTabAuthStarted(){return this.authSaveDataNotifySubject.asObservable()}emitAuthStartNotification(Q){this.authSaveDataNotifySubject.next(Q)}oAuthLogin(Q,ve,be,xe,ke,Ce,ge,De,ye){if(this.isBrowserPlatform)return this.browserClientOAuthLogin(Q,ve,be,xe,ke,Ce,ge,De,ye);let Oe,ie;if(ye)Oe=(0,v.of)(ye.url),ie=ye.observable;else{let qe;[qe,ie]=this.startHttpServer(Q,ve),Oe=qe.pipe((0,Y.U)(lt=>Q.redirectUrl.replace("{portnumber}",lt.toString())))}return Oe.pipe((0,S.zg)(qe=>this.openOAuthUrl(Q,ve,be,xe,qe,ke)),(0,S.zg)(qe=>ie.pipe((0,Y.U)(lt=>this.handleHttpRequest(lt)),(0,Y.U)(lt=>(lt.oAuthUrl=qe,lt)))),(0,m.b)(qe=>{this.closeHttpSpan(qe,qe.oAuthUrl.span,qe.oAuthUrl.url)}))}browserClientOAuthLogin(Q,ve,be,xe,ke,Ce,ge,De,ye){const Oe=!!De,ie=this.openOAuthUrl(Q,ve,be,xe,null,ke,Ce,ge,De);return this.isSameTabLoginFeatureEnabled&&!Oe?ie.pipe((0,E.h)(null)):ie.pipe((0,S.zg)(qe=>{this.logger.info("Received response");const lt=(0,W.R)(window,"message");return(0,N.s)(()=>Oe,lt.pipe((0,ee.V)(Q.maxWaitTimeSSO)),lt).pipe((0,Y.U)(Et=>({event:Et,oAuthUrl:qe})),(0,l.K)(Et=>(this.logger.info("Error occurred during silent login:",Et),(0,y._)(Et))))}),(0,T.h)(qe=>this.validateMessageEvent(qe.event)),(0,Y.U)(qe=>{const lt=this.getOAuthLoginData(qe.event);if(!lt)throw this.logger.error("oAuthLoing Data is null ",lt),L.OAUTH_DATA_EMPTY;if(lt.oAuthUrl=qe.oAuthUrl,this.logger.info("Captured OAuth data via post message: ",lt.error),this.closeHttpSpan(lt,qe.oAuthUrl.span,qe.oAuthUrl.url),Oe)De.silentLoginHelperInstance.closeIframe(lt.oAuthUrl.ifrmEl);else if(null==ye||!ye.skipSuccessRedirect){const Et=new URL(Q.onCompleteRedirectUrl);Q.redirectParams&&Q.redirectParams.forEach(kt=>{kt in lt&&Et.searchParams.append(kt,lt[kt])}),qe.oAuthUrl.oAuthWindow.location.href=Et.href}return lt}),(0,s.q)(1))}openOAuthUrl(Q,ve,be,xe,ke,Ce,ge,De,ye){const Oe=!!ye;let ie=(0,v.of)(null);return this.buildStarfleetUrl(Q,ve,be,ke,Ce,ye).pipe((0,S.zg)(qe=>{let lt;const Et=this.distributedTracingUtilService.startSpan(G.j1.StarfleetOAuth);return lt=Q.addLogintracer?this.distributedTracingUtilService.getFormattedUrlForHttpPopupSpan(qe.url,Et):qe.url,ge?(this.authWindow=ge,this.authWindow.location.href=lt):!Oe&&this.isSameTabLoginFeatureEnabled?(De||this.logger.error("returnLocationUrl Argument is empty ",this.isSameTabLoginFeatureEnabled,De),this.logger.info("overwriting login URL"),this.emitAuthStartNotification(M.LoginStarted),this.authSaveDataNotifySubject.pipe((0,s.q)(1)).subscribe(kt=>{this.logger.info("Received notification for ",kt),qe.returnUrl=De,window.sessionStorage.setItem(ne,JSON.stringify(qe)),window.open(lt,"_self")})):Oe?ie=ye.silentLoginHelperInstance.openIframe(lt):Q.useNativeAuthCommands?this.bridgeService.executeCommand(f.Gh.Common.Nativeauth.initiateLogIn,{url:lt}).pipe((0,s.q)(1)).subscribe():this.authWindow=window.open(lt,"_blank"),this.logger.info("login window opened with url",lt),xe&&xe.next(M.OpenOAuthUrlCompleted),qe.url=lt,qe.span=Et,qe.oAuthWindow=this.authWindow,Oe?ie.pipe((0,Y.U)(kt=>(qe.ifrmEl=kt,qe))):(0,v.of)(qe)}))}closeHttpSpan(Q,ve,be){Q&&Q.error?this.distributedTracingUtilService.closeHttpPopupSpan(ve,!0,{errorCode:Q.error,errorText:Q.error,failedUrl:be}):this.distributedTracingUtilService.closeHttpPopupSpan(ve,!1,{errorCode:"",errorText:"",failedUrl:be})}startHttpServer(Q,ve,be=[]){const xe=new H.xQ,ke=new H.xQ;return this.httpSubscription=this.bridgeService.executeCommand(f.Gh.Common.Httpserver.StartHttpServer,{ports:Q.portNumbers,redirectUrl:Q.onCompleteRedirectUrl,redirectParams:this.getRedirectParams(be,Q.redirectParams,ve)}).subscribe(Ce=>{switch(this.logger.info("httpresponse recieved"),(0,b.get)(Ce,"callbackReason")){case"serverCreated":xe.next((0,b.get)(Ce,"portNumber")),xe.complete();break;case"httpRequest":ke.next(Ce.url),ke.complete(),this.stopHttpServer()}},Ce=>{this.logger.error("error starting httpserver",Ce),xe.error(L.HTTP_START_FAILED),ke.error(L.HTTP_START_FAILED)}),[xe,ke]}getRedirectParams(Q,ve,be){const xe=Q,ke=[];return Q.forEach(Ce=>ke.push(Ce.split("=")[0])),ve.forEach(Ce=>{Ce.split("=")[0]in ke||xe.push(Ce)}),xe.push(`ui_locales=${be}`),xe}handleHttpRequest(Q){const ve={};return new URL(Q).searchParams.forEach((xe,ke)=>{ve[ke]=xe}),ve}b64url(Q){return btoa(String.fromCharCode.apply(null,Q)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}buildStarfleetUrl(Q,ve,be,xe,ke,Ce){var ge,De;let ye=Q.useAuthorizationCodeFlow?w.sO:w.Z0;ye=ye.replace(":server",Q.url),ye=ye.replace(":clientId",Q.clientId),ye=ye.replace(":scope",Q.scope);let Oe="";Oe=xe||Q.redirectUrl,ye=ye.replace(":redirectUri",encodeURIComponent(Oe)),ye=ye.replace(":locale",ve),ye=ye.replace(":deviceId",be);const ie=this.generateNonce();if(ye=ye.replace(":nonce",ie),Ce){if(null===(ge=Ce.ssoSharedPageData)||void 0===ge||!ge.idp_id||null===(De=Ce.ssoSharedPageData)||void 0===De||!De.login_hint)return this.logger.error("Missing login hints for silent login"),(0,y._)("Missing login hints for silent login");ye=ye.replace("select_account","none"),ye+="&idp_id="+encodeURIComponent(Ce.ssoSharedPageData.idp_id),ye+="&login_hint="+encodeURIComponent(Ce.ssoSharedPageData.login_hint)}let qe=null,lt=null;if(Q.useAuthorizationCodeFlow){const Et=window.crypto.getRandomValues(new Uint8Array(32));lt=this.b64url(Et);const kt=(new TextEncoder).encode(lt);qe=(0,h.D)(window.crypto.subtle.digest("SHA-256",kt)).pipe((0,Y.U)(an=>{const dn=this.b64url(new Uint8Array(an));return ye=ye.replace(":codeChallenge",dn),ye}))}else qe=(0,v.of)(ye);return qe.pipe((0,Y.U)(Et=>((0,b.isNil)(ke)||(ye=ye+"&idp_id="+ke),{url:ye,codeVerifier:lt,redirectUrl:Oe,nonce:ie})))}generateNonce(){let Q=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(be){const xe=(Q+16*Math.random())%16|0;return Q=Math.floor(Q/16),("x"===be?xe:3&xe|8).toString(16)})}cancelOAuthLogin(Q,ve,be){let xe=null,ke=null;return be?(this.stopHttpServer(),ke=(0,v.of)("")):[xe,ke]=this.startHttpServer(Q,ve,["error=cancelled"]),this.authWindow&&(this.authWindow.close(),this.authWindow=null),ke.pipe((0,Y.U)(Ce=>this.handleHttpRequest(Ce)))}stopHttpServer(){this.httpSubscription&&(this.httpSubscription.unsubscribe(),this.httpSubscription=null,this.bridgeService.executeCommand(f.Gh.Common.Httpserver.StopHttpServer).subscribe(Q=>this.logger.info("success stopping httpserver",Q),Q=>this.logger.error("error stopping httpserver",Q)))}validateMessageEvent(Q){if("no_localstorage_supported"===Q.data.key)throw this.logger.error("Starfleet Redirect page failure ",Q),L.STARFLEET_REDIRECT_FAIL;return!(!Q||!Q.data||Q.data.key!==R||Q.origin!==window.location.origin)}getOAuthLoginData(Q){const ve=this.isSameTabLoginFeatureEnabled?R:(0,b.get)(Q,"data.key"),be=window.localStorage.getItem(ve);window.localStorage.removeItem(ve),this.logger.info("Extracted key for reading oAuthLogin data ",ve);try{return JSON.parse(be).data}catch{return this.logger.error("malformed access code object",be),null}}readAndValidateoAuthLoginData(){const Q=this.getOAuthLoginData();if(Q){const ve=window.sessionStorage.getItem(ne);window.sessionStorage.removeItem(ne);try{Q.oAuthUrl=JSON.parse(ve)}catch{this.logger.error("malformed access code object",ve)}}return this.logger.info("Received oAuth Data on return from login ",Q),Q}}return Le.\u0275fac=function(Q){return new(Q||Le)(n.LFG(x),n.LFG(_.dF),n.LFG(_.ed),n.LFG(G.Dc))},Le.\u0275prov=n.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();var U=e(91565);let re=(()=>{class Le{constructor(Q,ve){this.bridgeService=ve,this.userIdChanged$=new H.xQ,this.userConsentChanged$=new H.xQ,this.logger=Q.getLogger("starfleet/NvAccountInterfaceService"),this.initializeListenersForNvaccount()}updateNvAccount(Q,ve){let be;if(Q.isAuthenticated){const xe={tokens:{accessToken:ve.accessToken,clientToken:ve.clientToken,identityToken:ve.idToken,accessTokenExpiry:this.getDateInIsoFormat(ve.accessTokenExpiry),clientTokenExpiry:this.getDateInIsoFormat(ve.clientTokenExpiry),identityTokenExpiry:this.getDateInIsoFormat(ve.idTokenExpiry),clientTokenValidityDurationMilliseconds:ve.clientTokenExpiryLength},userAccount:{userId:{userId:Q.sub,externalUserId:Q.external_id,identityProviderId:Q.idp_id},preferredUsername:Q.preferred_username,consentLevel:{hasBehavioralConsent:Q.consent.trackBehavioralData,hasFunctionalConsent:!0,hasTechnicalConsent:Q.consent.trackTechnicalData}}};be=this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.OnLogin,xe)}else be=this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.OnLogout,{});return(0,A.H)(0,1e3).pipe((0,S.zg)(xe=>be),(0,s.q)(1),(0,m.b)(xe=>{this.logger.info("NvAccount Update successful")}),(0,E.h)(!0),(0,l.K)(xe=>{var ke,Ce;return this.logger.error("Some error occured while updating Nvaccount",null!==(ke=xe.message)&&void 0!==ke?ke:""),(0,y._)("Some error occured while updating Nvaccount",null!==(Ce=xe.message)&&void 0!==Ce?Ce:"")}))}readNvAccount(){return(0,A.H)(0,1e3).pipe((0,S.zg)(Q=>this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.GetUserAccount).pipe((0,Y.U)(ve=>(this.logger.info("Reading from nvaccount successful"),ve)),(0,l.K)(ve=>(this.logger.error("Some error occured while reading from Nvaccount. ",ve),(0,v.of)({}))))),(0,s.q)(1))}getUserIdChangeNotification(){return this.userIdChanged$.asObservable()}getUserConsentChangeNotification(){return this.userConsentChanged$.asObservable()}fetchDeviceConsentInfo(Q){return(0,A.H)(0,1e3).pipe((0,S.zg)(ve=>this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.GetDeviceConsent,{clientId:Q})),(0,s.q)(1))}initializeListenersForNvaccount(){this.logger.info("Initialize Nvaccount"),this.registerForUserConsentChangeNotification(),this.registerForUserIdChangeNotification()}getDateInIsoFormat(Q){return new Date(Q).toISOString().split(".")[0]+"Z"}registerForUserIdChangeNotification(){this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.UserIdChangedNotification).subscribe(Q=>{this.logger.info("Received  UserId Change Notification"),this.userIdChanged$.next(Q)},Q=>{var ve;this.logger.error("Failed to get userId change response",null!==(ve=Q.message)&&void 0!==ve?ve:"")})}registerForUserConsentChangeNotification(){this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.UserConsentChangedNotification).subscribe(Q=>{this.logger.info("Received UserConsent Change Notification"),this.userConsentChanged$.next(Q)},Q=>{var ve;this.logger.error("Failed to get userConsent change response",null!==(ve=Q.message)&&void 0!==ve?ve:"")})}setAcceptedEULA(Q){const ve={eulaText:Q};return(0,A.H)(0,1e3).pipe((0,S.zg)(be=>this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.SetEULAAccepted,ve)),(0,s.q)(1))}getEulaAccepted(Q){this.logger.info("Get EULA Acceptance status from NvAccount");const ve={eulaText:Q};return(0,A.H)(0,1e3).pipe((0,S.zg)(be=>this.bridgeService.executeCommand(f.Gh.Common.Nvaccount.GetEULAAccepted,ve)),(0,s.q)(1))}}return Le.\u0275fac=function(Q){return new(Q||Le)(n.LFG(_.ed),n.LFG(_.dF))},Le.\u0275prov=n.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const pe="markLogoutInitiated",Pe="Logout Initiated",Te="logoutNotSupportedUrl";let me=(()=>{class Le extends t{constructor(Q,ve,be,xe,ke,Ce,ge,De,ye,Oe,ie,qe){var lt;super(),this.config=Q,this.starfleetHttpService=be,this.oAuthService=xe,this.sharedStorage=ke,this.localeService=Ce,this.networkStatus=De,this.systemInfoService=ye,this.errorHandler=Oe,this.bridgeService=ie,this.nvAccountInterfaceService=qe,this.SAFE_RETRY_COUNT=5,this.initSub=new o.t(1),this.authStatusSubject=new o.t(1),this.loginSubscription=null,this.deviceIdSub=null,this.useCachedUser=!1,this.firstRefreshDone=!1,this.errorInfo={error_code:"",error_description:"",error_uri:""},this.isSessionRefreshable=!0,this.isNextClientTokenRefreshAllowed=!0,this.deviceDisplayCode=null,this.skipOpeningLogoutUrl=!1,this.isSameTabLoginFeatureEnabled=!1,this.idTokenRefreshUnderDuration=0,this.logger=ve.getLogger("starfleet/desktop"),this.logger.info("constructing"),this.useDeviceAuthLogin=!(null==Q||!Q.useDeviceAuthLogin),this.skipOpeningLogoutUrl=!(null==Q||!Q.skipOpeningLogoutUrl),this.starfleetUserSubscription=ge.createStream(this.getCurrentUser.bind(this)),this.isSameTabLoginFeatureEnabled=this.config.sameTabLogin,this.idTokenRefreshUnderDuration=null!==(lt=this.config.idTokenRefreshUnderDuration)&&void 0!==lt?lt:0,this.idTokenRefreshUnderDuration<0&&(this.idTokenRefreshUnderDuration=0)}getAuthStatus(){return this.authStatusSubject.asObservable()}initialize(Q=!1,ve=!1,be){this.logger.info(`initializing session: ${Q}, user: ${ve}, id_token?: ${!!be}`),this.useCachedUser=ve;const xe=this.oAuthService.readAndValidateoAuthLoginData();xe?this.attemptLoginAtInit(xe):this.loadSessionFromSharedStorage().pipe((0,m.b)(()=>this.initSub.next(!0)),(0,S.zg)(()=>this.getOrRefreshSession(!Q,!0,be))).subscribe(()=>this.logger.info("initialized success")),this.checkIfReturnFromLogout(),this.deviceIdSub=this.getDeviceId(),this.deviceIdSub.subscribe(),this.accountStatusChanged.pipe((0,s.q)(1)).subscribe()}getDeviceId(){return this.systemInfoService.getDeviceId().pipe((0,r.P)(),(0,l.K)(Q=>(this.logger.error("failed to get deviceId",Q),(0,v.of)(""))),(0,i.d)())}handleLoginError(Q){switch(Q){case L.ALREADY_LOGGED_IN:this.logger.info("user already logged in"),this.loginSubject.next(M.LoginAbortedAlreadyLoggedIn),this.loginSubject.complete();break;case L.AUTH_ERROR:this.logger.info("Auth error in login"),this.loginSubject.next(M.LoginFailed),this.loginSubject.complete();break;case L.ACCOUNT_LOCKED:case L.AGE_RESTRICTED:this.logger.info("Auth error in login: ",Q),this.loginSubject.next(M.LoginFailedNoRetry),this.loginSubject.complete();break;case L.HTTP_START_FAILED:this.logger.info("Http Start in error Login"),this.loginSubject.next(M.LoginFailedToStart),this.loginSubject.complete();break;case L.CLIENT_TOKEN_FAIL:this.logger.info("Client token url access failed"),this.errorInfo.error_description=L.CLIENT_TOKEN_FAIL,this.loginSubject.next(M.LoginFailed),this.loginSubject.complete();break;case L.OAUTH_DATA_EMPTY:this.logger.info("JSON parsing fialed for OAUTH Data"),this.errorInfo.error_description=L.OAUTH_DATA_EMPTY,this.loginSubject.next(M.LoginFailed),this.loginSubject.complete();break;case L.STARFLEET_REDIRECT_FAIL:this.logger.info("JSON parsing fialed for OAUTH Data"),this.errorInfo.error_description=L.STARFLEET_REDIRECT_FAIL,this.loginSubject.next(M.LoginFailed),this.loginSubject.complete();break;default:this.logger.info("unknown error in login",Q),this.loginSubject.next(M.LoginFailed),this.loginSubject.complete()}}cancelLogin(Q=!0){return this.logger.info("cancelling login"),this.loginSubject&&!1===this.loginSubject.isStopped&&(this.loginSubject.next(M.LoginAbortedByUser),this.loginSubject.complete()),this.loginSubscription&&(this.loginSubscription.unsubscribe(),this.loginSubscription=null),this.oAuthService.cancelOAuthLogin(this.config,this.localeService.getLocale(),Q)}sameTabAuthStarted(){return this.oAuthService.sameTabAuthStarted()}login(Q){return this.loginSubject&&!this.loginSubject.isStopped?(0,y._)(M.LoginAlreadyInProgress):(this.loginSubject=new o.t(1),this.logger.info("login started"),this.loginSubject.next(M.LoginStarted),this.loginSubscription=this.getOrRefreshSession().pipe((0,S.zg)(ve=>!Q.force&&ve.isAccessTokenValid()?(0,y._)(L.ALREADY_LOGGED_IN):this.deviceIdSub),(0,S.zg)(ve=>this.useDeviceAuthLogin?(Q.deviceName||(this.logger.error("Missing device name in off-device login flow, falling back to default value"),Q.deviceName="unknown"),this.performDeviceLogin(ve,Q.deviceName,Q.idpId)):(this.loginSubject.next(M.OpenOAuthUrlStarted),this.oAuthService.oAuthLogin(this.config,this.localeService.getLocale(),ve,this.loginSubject,Q.idpId,Q.preCreatedWindow,Q.returnLocationUrl,Q.silentLoginInfo,Q.redirect))),(0,r.P)(),(0,S.zg)(ve=>!ve||(0,b.isEmpty)(ve)?(this.logger.info("received empty oauth login data ",this.isSameTabLoginFeatureEnabled),(0,v.of)(null)):(this.logger.info("OAuth login complete, starting to retrive token"),this.loginSubject.next(M.LoginStarted),this.attemptLogin(ve))),(0,S.zg)(ve=>ve?this.refreshUser():(0,v.of)(ve)),(0,m.b)(ve=>{ve?this.loginSubject.next(M.LoginCompleted):this.isSameTabLoginFeatureEnabled||this.logger.error("session is null"),this.loginSubject.complete()})).subscribe(C.Z,this.handleLoginError.bind(this)),this.loginSubject.asObservable())}updatePiplConfigUrls(Q){this.logger.info("Updating PIPL config urls: ",Q),Object.assign(this.config,Q)}checkIfReturnFromLogout(){let ve,Q=null;if(window.sessionStorage.getItem(pe)===Pe){window.sessionStorage.removeItem(pe),this.logger.info("Returning from logout");const be=new URL(window.location.href).searchParams.get("error");ve=window.sessionStorage.getItem(Te),window.sessionStorage.removeItem(Te),be&&(this.logger.info("Logout failed with error ",be),Q=be===L.LOGOUT_NOT_SUPPORTED?L.LOGOUT_NOT_SUPPORTED:L.LOGOUT_GENERIC_ERROR),this.authStatusSubject.next({authReturnState:M.LogoutCompleted,error:Q,logoutNotSupportedRedirectUrl:ve})}else this.logger.info("Not returning from logout")}completeLoginAtInit(Q,ve){Q===M.LoginFailed&&(this.session=new I.z(this.idTokenRefreshUnderDuration)),this.initSub.next(!0),this.authStatusSubject.next({authReturnState:Q,error:ve}),this.refreshUser(),this.loginSubject.next(Q),this.loginSubject.complete()}attemptLoginAtInit(Q){if(this.loginSubject&&!this.loginSubject.isStopped)return this.logger.info("Login already in progress"),(0,v.of)(M.LoginAlreadyInProgress);this.loginSubject=new o.t(1),this.logger.info("OAuth login complete, starting to retrive token"),this.loginSubject.next(M.LoginStarted),this.attemptLogin(Q).pipe((0,m.b)(ve=>{this.completeLoginAtInit(M.LoginCompleted,null)},ve=>{this.completeLoginAtInit(M.LoginFailed,ve)})).subscribe()}retryDeviceLogin(Q,ve,be){return be.pipe((0,S.zg)((xe,ke)=>{var Ce,ge,De,ye;const Oe=ke+1;return console.log("attempt number: ",Oe),Oe>Q?(0,y._)(xe):"authorization_pending"===(null===(ge=null===(Ce=null==xe?void 0:xe.rawResponse)||void 0===Ce?void 0:Ce.error)||void 0===ge?void 0:ge.error)?(0,A.H)(1e3*ve):"slow_down"===(null===(ye=null===(De=null==xe?void 0:xe.rawResponse)||void 0===De?void 0:De.error)||void 0===ye?void 0:ye.error)?(0,A.H)(1e3*(ve+5)):(0,y._)(xe)}))}waitForDeviceLogin(Q){const ve=Math.max(1,Math.floor(Q.expires_in/Q.interval)-1);return(0,A.H)(1e3*Q.interval).pipe((0,S.zg)(()=>this.starfleetHttpService.getAccessTokenFromDeviceCode(Q.device_code)),(0,O.a)(be=>this.retryDeviceLogin(ve,Q.interval,be)),(0,Y.U)(be=>({error:"",error_description:"",access_token:be.access_token,token_type:be.token_type,expires_in:be.expires_in,id_token:be.id_token})))}performDeviceLogin(Q,ve,be){return this.starfleetHttpService.requestDeviceAuthorize(Q,ve,be).pipe((0,r.P)(),(0,S.zg)(xe=>(this.deviceDisplayCode={url:xe.verification_uri,url_complete:xe.verification_uri_complete,user_code:xe.user_code},this.loginSubject.next(M.LoginInProgressNeedDisplayCode),(!xe.interval||xe.interval<=0)&&(xe.interval=5),this.waitForDeviceLogin(xe))))}getStarfleetLogoutURL(Q,ve){return w.FI.replace(":server",this.config.url).replace(":idToken",Q).replace(":locale",ve)}getStarfleetLogoutURLSameTab(Q,ve,be){return w.zs.replace(":server",this.config.logoutUrl).replace(":idToken",Q).replace(":locale",ve).replace(":redirect_uri",be)}saveRequiredDataAndOpenLogoutUrl(Q,ve,be){return this.oAuthService.sameTabAuthStarted().subscribe(xe=>{this.logger.info("Received notification for ",xe),window.sessionStorage.setItem(pe,Pe),window.sessionStorage.setItem(Te,ve),window.open(this.getStarfleetLogoutURLSameTab(Q,this.localeService.getLocale(),be),"_self")}),this.oAuthService.emitAuthStartNotification(M.LogoutStarted),(0,v.of)(!0)}logout(Q,ve,be,xe=!1){var ke,Ce;this.logger.info("Logging out user.");const ge=new o.t(1);ge.next(M.LogoutStarted);const De=null===(Ce=null===(ke=this.session)||void 0===ke?void 0:ke.data)||void 0===Ce?void 0:Ce.idToken;if(!(Q||this.skipOpeningLogoutUrl||this.isSameTabLoginFeatureEnabled||xe)){const ie=this.getStarfleetLogoutURL(De,this.localeService.getLocale());this.config.useNativeAuthCommands?this.bridgeService.executeCommand(f.Gh.Common.Nativeauth.initiateLogOut,{url:ie}).pipe((0,s.q)(1)).subscribe():window.open(ie,"_blank")}return this.deleteClientToken(!1,Q).pipe((0,l.K)(ie=>(this.logger.error("delete token failed with error: ",ie),(0,v.of)(null))),(0,S.zg)(()=>this.storeSession(new I.z(this.idTokenRefreshUnderDuration))),(0,S.zg)(()=>this.skipOpeningLogoutUrl||xe||!this.isSameTabLoginFeatureEnabled?this.refreshUser():this.saveRequiredDataAndOpenLogoutUrl(De,ve,be))).subscribe(()=>{this.logger.info("log out complete."),ge.next(M.LogoutCompleted),ge.complete()},ie=>{this.logger.error("log out failed with error:",ie),ge.next(M.LogoutFailed),ge.complete(),this.skipOpeningLogoutUrl||xe||!this.isSameTabLoginFeatureEnabled?this.refreshUser():this.saveRequiredDataAndOpenLogoutUrl(De,ve,be)}),ge.asObservable()}deleteClientToken(Q=!1,ve){return(ve?(0,v.of)(ve):this.getAccessToken(Q)).pipe((0,S.zg)(be=>this.starfleetHttpService.deleteClientTokens(be)),(0,l.K)(be=>(this.logger.error("Got error while deleting client token.",be),this.handleAuthError(be,Q,this.deleteClientToken.bind(this)))))}refreshUser(){return this.firstRefreshDone=!0,this.starfleetUserSubscription.refresh()}get accountStatusChanged(){let Q;return this.starfleetUserSubscription.get$().pipe((0,T.h)(ve=>{var be,xe,ke,Ce;return(0,b.isNil)(Q)||!(0,b.isEqual)(Q.sub,ve.sub)||!(0,b.isEqual)(null===(be=Q.consent)||void 0===be?void 0:be.trackBehavioralData,null===(xe=ve.consent)||void 0===xe?void 0:xe.trackBehavioralData)||!(0,b.isEqual)(null===(ke=Q.consent)||void 0===ke?void 0:ke.trackTechnicalData,null===(Ce=ve.consent)||void 0===Ce?void 0:Ce.trackTechnicalData)}),(0,m.b)(ve=>{Q=ve}))}get isUserLoggedIn(){return this.initSub.pipe((0,Y.U)(()=>this.session.isClientTokenValid()))}attemptLogin(Q){if(this.errorInfo.error_code=Q.error?Q.error:"",this.errorInfo.error_description=Q.error_description?Q.error_description:"",this.errorInfo.error_uri=Q.error_uri?Q.error_uri:"",Q.error||Q.error_description)return this.logger.error("failed to login user with error",Q.error,Q.error_description),(0,y._)(Q.error);let ve=null;return ve=Q.code&&Q.oAuthUrl.codeVerifier?this.starfleetHttpService.redeemAuthCode(Q.code,Q.oAuthUrl.redirectUrl,Q.oAuthUrl.codeVerifier).pipe((0,Y.U)(be=>(Q.access_token=be.access_token,Q.id_token=be.id_token,Q.expires_in=be.expires_in,Q.token_type=be.token_type,Q)),(0,l.K)(be=>{throw this.logger.error("error in redeeming auth code",be),L.REDEEM_AUTHCODE_FAILED})):(0,v.of)(Q),ve.pipe((0,S.zg)(be=>this.completeLogin(Q)))}validateRedirectResponse(Q){if(this.useDeviceAuthLogin)return!0;const ve=this.parseIdToken(Q.id_token);if(ve&&ve.nonce!==Q.oAuthUrl.nonce)throw L.NONCE_VALIDATION_FAILED;return!0}completeLogin(Q){const ve=new I.z(this.idTokenRefreshUnderDuration);return this.starfleetHttpService.getClientToken(Q.access_token).pipe((0,l.K)(be=>{throw this.logger.error("Client Token url failure ",be),L.CLIENT_TOKEN_FAIL}),(0,Y.U)(be=>(ve.data.accessToken=Q.access_token,ve.data.accessTokenExpiry=Date.now()+1e3*Q.expires_in,ve.data.idToken=Q.id_token,ve.data.clientToken=be.client_token,ve.data.clientTokenExpiry=Date.now()+1e3*be.expires_in,ve.data.clientTokenExpiryLength=1e3*be.expires_in,ve.data.idTokenExpiry=this.getIdTokenExpiry(ve.data.idToken),this.session=ve,this.session)))}syncSession(Q){var ve;return null!=Q&&Q.isClientTokenValid()?null!==(ve=this.session)&&void 0!==ve&&ve.isClientTokenValid()?this.updateUserTokens(Q):this.migrateUser(Q):(0,v.of)(this.session)}migrateUser(Q){return this.session=Q,this.logger.info("migrateUser"),this.refreshUser().pipe((0,Y.U)(ve=>this.session))}updateUserTokens(Q){return this.session.data.idTokenExpiry=Q.data.idTokenExpiry,this.session.data.clientTokenExpiry=Q.data.clientTokenExpiry,this.session.data.accessTokenExpiry=Q.data.accessTokenExpiry,this.session.data.idToken=Q.data.idToken,this.session.data.clientToken=Q.data.clientToken,this.session.data.accessToken=Q.data.accessToken,(0,v.of)(this.session)}getIdTokenExpiry(Q){let ve=0;const be=this.parseIdToken(Q);return be&&(ve=Date.now()+1e3*(+be.exp-+be.iat)),ve}parseIdToken(Q){try{const be=Q.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(be))))}catch(ve){return this.errorHandler.handleError(new Error(`idToken parse failed with error '${ve}'`)),this.logger.error("failed to parse idToken",ve),null}}isClientTokenRefreshRequired(){let Q=!1;if(this.session.isClientTokenValid()){const ve=this.session.data.clientTokenExpiry-Date.now();Q=this.session.data.clientTokenExpiryLength?ve<this.config.clientTokenRefreshDurationInPercentage/100*this.session.data.clientTokenExpiryLength:ve<this.config.clientTokenRefreshDuration}return Q}fetchSession(Q,ve){return this.starfleetHttpService.getAccessToken(this.session.data.clientToken,this.session.data.user.sub,ve).pipe((0,S.zg)(be=>(this.session.data.accessToken=be.access_token,this.session.data.clientToken=be.client_token,this.session.data.idToken=be.id_token,this.session.data.accessTokenExpiry=Date.now()+1e3*be.expires_in,this.session.data.idTokenExpiry=this.getIdTokenExpiry(this.session.data.idToken),this.isSessionRefreshable=!0,(0,v.of)(this.session))),(0,S.zg)(()=>{const be=this.session.data.clientTokenExpiry-Date.now();return this.isClientTokenRefreshRequired()&&this.isNextClientTokenRefreshAllowed?(this.logger.info("Refreshing Client Token"),this.starfleetHttpService.getClientToken(this.session.data.accessToken,ve).pipe((0,Y.U)(xe=>(this.logger.info("Client Token refreshed Successfully"),this.session.data.clientToken=xe.client_token,this.session.data.clientTokenExpiry=Date.now()+1e3*xe.expires_in,this.session.data.clientTokenExpiryLength=1e3*xe.expires_in,this.isNextClientTokenRefreshAllowed=be<this.session.data.clientTokenExpiryLength,this.session)))):(0,v.of)(this.session)}),(0,l.K)(be=>(this.logger.info("Error refreshing access token with starfleet:",be),(0,D.f0)(be)?(this.logger.info("The session refresh failed due to timeout or connection issues. So, will not log out the user"),(0,v.of)(this.session)):(this.logger.info("Error thrown from server. Hence, logging the user out"),this.storeSession(new I.z(this.idTokenRefreshUnderDuration))))),(0,B.x)(()=>{Q||this.refreshUser()}))}getCurrentUser(Q=!1){return this.getOrRefreshSession(Q,!0).pipe((0,S.zg)(ve=>(this.logger.info("Getting current user"),this.useCachedUser?(this.useCachedUser=!1,(0,y._)("using cached user at initialize")):!this.networkStatus.isOnline&&ve.isClientTokenValid()?(this.logger.info("User is offline and session has client token. So returning cached user"),(0,y._)(L.USER_OFFLINE)):ve.isAccessTokenValid()?ve.data.user&&!this.firstRefreshDone?(this.firstRefreshDone=!0,this.refreshUser(),(0,y._)("using deferred refresh for user")):this.starfleetHttpService.getUserInfo(ve.data.accessToken):(0,y._)(L.NOT_LOGGED_IN))),(0,S.zg)(ve=>(ve.isAuthenticated=!0,this.session.data.user=ve,this.storeSession(this.session))),(0,Y.U)(()=>this.session.data.user),(0,l.K)(ve=>this.handleAuthError(ve,Q,this.getCurrentUser.bind(this))),(0,l.K)(ve=>(this.logger.info("Error fetching userInfo from starfleet:",ve),(0,D.f0)(ve)&&this.logger.info("UserInfo refresh failed due to timeout or connection issue"),(0,v.of)(this.session.data.user))))}createNewSessionFromIdToken(Q){return this.getOrRefreshSession(!1,!1,Q).pipe((0,m.b)(()=>this.refreshUser()))}getOrRefreshSession(Q,ve,be,xe){return this.sessionSubject&&!1===this.sessionSubject.isStopped||(this.sessionSubject=new o.t(1),this.initSub.pipe((0,S.zg)(()=>{const ke=this.session.isClientTokenValid();return(Q||!this.session.isAccessTokenValid())&&ke&&this.networkStatus.isOnline&&this.isSessionRefreshable?(this.logger.info("refreshing session. Force Refresh: ",Q),this.fetchSession(ve,xe)):ke?(this.logger.info("Using existing client token "),(0,v.of)(this.session)):be&&0!==be.length?this.createSessionFromIdToken(be):(this.logger.info("Loading session from shared storage"),this.loadSessionFromSharedStorage())})).subscribe(ke=>{this.sessionSubject.next(ke),this.sessionSubject.complete()},ke=>{this.sessionSubject.error(ke),this.logger.error("failed to refersh session",ke)})),this.sessionSubject.asObservable()}createSessionFromIdToken(Q){let ve;this.logger.info("Building session from sdk id token");try{let xe=Q.split(".")[1];xe=JSON.parse(window.atob(xe)),ve={sub:xe.sub,idp_name:xe.idp_name,idp_id:xe.idp_id,external_id:xe.external_id,preferred_username:xe.preferred_username,consent:xe.consent,isAuthenticated:!0}}catch{return this.logger.error("Failed to parse id token to get expiry"),this.logger.info("Loading session from shared storage"),this.loadSessionFromSharedStorage()}const be={clientToken:"This is required for the session object to validate, but is not used",accessToken:"This is required for the session object to validate, but is not used",idToken:Q,user:ve,clientTokenExpiry:Date.now()+1728e5,accessTokenExpiry:Date.now()+1728e5,idTokenExpiry:this.getIdTokenExpiry(Q)};return this.isSessionRefreshable=!1,this.session=new I.z(this.idTokenRefreshUnderDuration,be),(0,v.of)(this.session)}loadSessionFromSharedStorage(){return I.z.loadFrom(this.sharedStorage,this.idTokenRefreshUnderDuration).pipe((0,K.w)(Q=>(0,d.aj)(this.config.useNvAccountForUserConsent?[(0,v.of)(Q),this.nvAccountInterfaceService.readNvAccount()]:[(0,v.of)(Q),(0,v.of)(null)])),(0,Y.U)(([Q,ve])=>{var be,xe,ke,Ce,ge,De;return ve&&(Q.data.user.consent.trackBehavioralData=null!==(ke=null===(xe=null===(be=ve.userAccount)||void 0===be?void 0:be.consentLevel)||void 0===xe?void 0:xe.hasBehavioralConsent)&&void 0!==ke&&ke,Q.data.user.consent.trackTechnicalData=null!==(De=null===(ge=null===(Ce=ve.userAccount)||void 0===Ce?void 0:Ce.consentLevel)||void 0===ge?void 0:ge.hasTechnicalConsent)&&void 0!==De&&De),Q}),(0,S.zg)(Q=>(this.logger.info("Loaded session successfully from shared storage"),this.session=Q,Q.isClientTokenValid()?(0,v.of)(Q):(this.logger.info("Stored session does not have user token. Hence, logging the user out"),this.session=new I.z(this.idTokenRefreshUnderDuration),this.isSessionRefreshable=!0,(0,v.of)(this.session)))),(0,l.K)(Q=>(this.logger.info("Error loading session from shared storage. Hence logging out the user.",Q),this.session=new I.z(this.idTokenRefreshUnderDuration),(0,v.of)(this.session))))}storeSession(Q){return this.session=Q,this.session.writeTo(this.sharedStorage).pipe((0,K.w)(ve=>this.config.useNvAccountForUserConsent?this.nvAccountInterfaceService.updateNvAccount(this.session.data.user,this.session.data):(0,v.of)(null)),(0,S.zg)(()=>(0,v.of)(this.session)),(0,l.K)(ve=>(this.logger.info("Error saving session to shared storage:",ve),(0,y._)(ve))))}getAuthToken(Q,ve){return this.initSub.pipe((0,S.zg)(be=>Q||!this.session.isIdTokenValid()?this.session.hasClientTokenExpired()?(this.refreshUser(),(0,v.of)(new I.z(this.idTokenRefreshUnderDuration))):this.getOrRefreshSession(!0,null,null,ve):(0,v.of)(this.session)),(0,Y.U)(be=>be.data.idToken))}getAccessToken(Q,ve){return this.initSub.pipe((0,S.zg)(be=>Q||!this.session.isAccessTokenValid()?this.getOrRefreshSession(!0,null,null,ve):(0,v.of)(this.session)),(0,Y.U)(be=>be.data.accessToken))}getClientData(Q,ve,be=!1){return this.getAuthToken(be,ve).pipe((0,S.zg)(xe=>this.starfleetHttpService.getClientData(xe,Q,ve)),(0,l.K)(xe=>this.handleAuthError(xe,be,this.getClientData.bind(this),Q)))}setClientData(Q,ve,be,xe=!1){return this.getAuthToken(xe,be).pipe((0,S.zg)(ke=>this.starfleetHttpService.setClientData(ke,Q,ve,be)),(0,l.K)(ke=>this.handleAuthError(ke,xe,this.setClientData.bind(this),Q,ve)))}appendClientData(Q,ve,be,xe=!1){return this.getAuthToken(xe,be).pipe((0,S.zg)(ke=>this.starfleetHttpService.appendClientData(ke,Q,ve,be)),(0,l.K)(ke=>this.handleAuthError(ke,xe,this.appendClientData.bind(this),Q,ve)))}deleteClientData(Q,ve,be,xe=!1){return this.getAuthToken(xe,be).pipe((0,S.zg)(ke=>this.starfleetHttpService.deleteClientData(ke,Q,ve,be)),(0,l.K)(ke=>this.handleAuthError(ke,xe,this.deleteClientData.bind(this),Q)))}handleAuthError(Q,ve,be,...xe){return 401===Q.status?ve?(0,y._)(L.NOT_LOGGED_IN):(this.logger.info("refershing auth token for fn: ",null==be?void 0:be.name),xe.push(!0),be(...xe)):(0,y._)(Q)}get lastError(){return this.errorInfo}getDeviceDisplayCode(){return this.deviceDisplayCode}cancel(){var Q,ve;!1===(null===(Q=this.loginSubject)||void 0===Q?void 0:Q.isStopped)&&this.loginSubject.complete(),null===(ve=this.loginSubscription)||void 0===ve||ve.unsubscribe(),this.loginSubscription=null}}return Le.\u0275fac=function(Q){return new(Q||Le)(n.LFG(x),n.LFG(_.ed),n.LFG(k),n.LFG(_e),n.LFG(U.OA),n.LFG(_.OL),n.LFG(D.O_),n.LFG(_._J),n.LFG(_.Ob),n.LFG(n.qLn),n.LFG(_.dF),n.LFG(re))},Le.\u0275prov=n.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"}),Le})();const Xe={provide:t,useFactory:function et(Le,Re,Q,ve,be,xe,ke,Ce,ge,De,ye,Oe){switch(Le.platformType){case a.Browser:case a.Cef:return Le.redirectUrl=Le.redirectUrlIsRelative?window.location.origin+Le.redirectUrl:Le.redirectUrl,new me(Le,Re,Q,ve,be,xe,ke,Ce,ge,De,ye,Oe);default:Re.getLogger("starfleetServiceCreator").error("Cannot create StarfleetService for unknown platform type: "+Le.platformType)}},deps:[x,_.ed,k,_e,U.OA,_.OL,D.O_,_._J,_.Ob,n.qLn,_.dF,re]};var Ze=e(32764);const nt=[Ze.UK];let Me=(()=>{class Le{static configure(Q){return{ngModule:Le,providers:[{provide:x,useValue:Q},Xe,_e]}}}return Le.\u0275fac=function(Q){return new(Q||Le)},Le.\u0275mod=n.oAB({type:Le}),Le.\u0275inj=n.cJS({providers:[Xe],imports:[P.JF,p.ez,nt,Ze.UK]}),Le})();e(12983)},99733:(Ge,ae,e)=>{"use strict";e.d(ae,{P:()=>d});var t=e(39609),n=e(87085),x=e(64710),M=e(52954),L=e(18937),p=e(90657),P=e(32764),a=e(29894),o=e(6147);const v=["surveyFrame"];function y(m,S){if(1&m){const s=t.EpF();t.TgZ(0,"div",4)(1,"iframe",5,6),t.NdJ("load",function(l){t.CHM(s);const i=t.oxw();return t.KtG(i.onLoad(l))})("error",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.onError())}),t.qZA()()}if(2&m){const s=t.oxw();t.Q6J("hidden",s.loadingFrame)("ngStyle",s.nvContainerSize),t.xp6(1),t.Q6J("src",s.getSource(),t.uOi)("ngStyle",s.nvSize)}}function C(m,S){if(1&m){const s=t.EpF();t.TgZ(0,"div")(1,"nv-hig-dialog",7),t.NdJ("primaryButtonClick",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.dismiss())}),t.qZA()()}if(2&m){const s=t.oxw();t.xp6(1),t.Q6J("data",s.dialogData)}}function A(m,S){if(1&m&&(t.TgZ(0,"div",8)(1,"div"),t._UZ(2,"mat-progress-spinner",9),t.qZA()()),2&m){const s=t.oxw();t.Q6J("ngStyle",s.nvContainerSize),t.xp6(2),t.Q6J("diameter",35)}}let d=(()=>{class m{constructor(s,r){this.networkStatusService=r,this.continue=new t.vpe,this.nvOnClose=new t.vpe,this.nvOnSend=new t.vpe,this.loadingFrame=!0,this.firstLoad=!0,this.isLoading=!1,this.loadEvent=null,this._state=n.Nf.SurveyMain,this.errorText="",this.errorTitle="",this.buttonText="",this.dialogData={},this.logger=s.getLogger("survey-feedback/surveyComponent"),this.logger.info("Attempting to open survey form")}get state(){return this._state}set state(s){this.logger.info("state updated:",s),this._state=s}ngOnInit(){this.isLoading=!1,this.loadEvent=null,this.activateOnlineSubscription(),this.isSurveyError&&(this.loadingFrame=!1),this.errorTitle=this.isSurveyError?"feedback.feedbackErrorTitle":"",this.errorText=this.isSurveyError?"feedback.feedbackErrorMessage":"feedback.problemConnectingToNvidia",this.buttonText="feedback.dismiss",this.dialogData={headerText:{text:this.errorTitle},bodyText:{text:this.errorText},primaryButton:{text:this.buttonText}}}onKeyUp(){this.dismiss()}getSource(){return this.nvSource}onError(){this.state=n.Nf.SurveyError,this.loadingFrame=!1,this.firstLoad=!1}dismiss(){this.loadEvent&&!this.isSurveyError&&!this.loadingFrame&&this.nvOnClose.emit("escape"),this.nvOnClose.emit("closed")}onLoad(s){this.loadEvent=s,this.isLoading=!0,this.loadEvent&&this.loadEvent.target&&this.loadEvent.target.src&&(this.state!==n.Nf.SurveyMain&&(this.state=n.Nf.SurveyMain),this.firstLoad=!1,this.logger.info("survey form opened"),setTimeout(()=>{var r;null===(r=this.surveyFrame)||void 0===r||r.nativeElement.focus(),this.loadingFrame=!1},0),this.isSurveyError&&this.onError())}eventListener(s){switch(s.data){case"surveyengine.error":this.logger.error("invalid survey response",s.data),this.checkIfFailSilently(),this.onError();break;case"surveyengine.nosurvey":case"surveyengine.cancel":this.dismiss();break;case"surveyengine.thanks":this.nvOnSend.emit("sent")}}checkIfFailSilently(){this.failSilently&&this.firstLoad&&(this.firstLoad=!1,this.logger.error("failing silently .."),this.continue.emit("continue"))}activateOnlineSubscription(){this.onlineSubscription=this.networkStatusService.onlineStatusChanged.subscribe(s=>{this.state!==n.Nf.SurveyMain&&(this.state=n.Nf.SurveyMain),this.loadingFrame=!this.isSurveyError,s?this.isLoading||window.addEventListener("message",r=>{this.eventListener(r)}):(this.isLoading||this.checkIfFailSilently(),this.logger.info("showing survey error"),this.onError())},s=>{this.logger.error("Error fetching online status at load",s),this.onError()})}ngOnDestroy(){this.onlineSubscription&&this.onlineSubscription.unsubscribe()}}return m.\u0275fac=function(s){return new(s||m)(t.Y36(x.ed),t.Y36(x._J))},m.\u0275cmp=t.Xpm({type:m,selectors:[["nv-survey"]],viewQuery:function(s,r){if(1&s&&t.Gf(v,5),2&s){let l;t.iGM(l=t.CRH())&&(r.surveyFrame=l.first)}},hostBindings:function(s,r){1&s&&t.NdJ("keyup.esc",function(){return r.onKeyUp()},!1,t.Jf7)},inputs:{nvSize:"nvSize",nvContainerSize:"nvContainerSize",nvErrorSize:"nvErrorSize",nvSource:"nvSource",failSilently:"failSilently",isSurveyError:"isSurveyError"},outputs:{continue:"continue",nvOnClose:"nvOnClose",nvOnSend:"nvOnSend"},decls:4,vars:3,consts:[["nvTrapFocus","",3,"ngSwitch"],["class","survey-container",3,"hidden","ngStyle",4,"ngSwitchDefault"],[4,"ngSwitchCase"],["class","survey-loading-dialog-pane","fxLayoutAlign","center center",3,"ngStyle",4,"ngIf"],[1,"survey-container",3,"hidden","ngStyle"],["data-focus-loss-exempt","","id","survey-frame","allow","gamepad",1,"survey-iframe",3,"src","ngStyle","load","error"],["surveyFrame",""],[3,"data","primaryButtonClick"],["fxLayoutAlign","center center",1,"survey-loading-dialog-pane",3,"ngStyle"],["mode","indeterminate",1,"mat-accent",3,"diameter"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0),t.YNc(1,y,3,4,"div",1),t.YNc(2,C,2,1,"div",2),t.qZA(),t.YNc(3,A,3,2,"div",3)),2&s&&(t.Q6J("ngSwitch",r.state),t.xp6(2),t.Q6J("ngSwitchCase","error"),t.xp6(1),t.Q6J("ngIf",r.loadingFrame))},dependencies:[M.O5,M.PC,M.RF,M.n9,M.ED,L.Wh,p.Zl,P.sN,a.D,o.e],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.survey-loading-dialog-pane[_ngcontent-%COMP%]{background-color:#1f2224;height:610px;width:472px;border:0;overflow-y:overlay;overflow-x:hidden;max-height:80vh}.survey-loading-pane[_ngcontent-%COMP%]{margin:24px}.survey-bottom-filler[_ngcontent-%COMP%]{height:64px}.survey-iframe[_ngcontent-%COMP%]{border:0;max-height:80vh}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):hover{background-color:#6ba800}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):focus{background-color:#6ba800}button.survey-mat-raised-button.mat-accent[_ngcontent-%COMP%]:not([disabled]):active{background-color:#619900}.survey-nav-icon-container[_ngcontent-%COMP%]{display:block;text-align:center;line-height:48px;font-size:48px;height:48px;width:48px}.isLtr[_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{margin-left:25px}html[dir=ltr][_ngcontent-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:25px}.isRtl[_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{margin-right:25px}html[dir=rtl][_ngcontent-%COMP%]   .survey-nav-icon-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:25px}.survey-container[_ngcontent-%COMP%]{overflow-y:hidden;overflow-x:hidden;max-height:80vh;background:#1f2224}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait),screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape){.survey-container[_ngcontent-%COMP%]{overflow-y:hidden;background:#393939}.survey-iframe[_ngcontent-%COMP%]{width:inherit!important;height:inherit!important;min-height:inherit!important;max-height:inherit;padding-bottom:inherit}}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait) and (orientation: portrait),screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape) and (orientation: portrait){.survey-iframe[_ngcontent-%COMP%]{height:-webkit-fill-available!important}}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait),screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape){.survey-container[_ngcontent-%COMP%], .survey-loading-dialog-pane[_ngcontent-%COMP%]{width:100vw!important;height:calc(100vh - env(safe-area-inset-bottom))!important;min-height:unset!important;max-height:unset;padding-bottom:env(safe-area-inset-bottom)}}"]}),m})()},87085:(Ge,ae,e)=>{"use strict";e.d(ae,{$6:()=>v,Kz:()=>o,M4:()=>y,Nf:()=>M,cJ:()=>a});const M={SurveyMain:"main",SurveyError:"error"},a={width:"477px",height:"700px"},o={width:"477px",height:"700px"},v={width:"472px",height:"610px"},y={width:"472px",height:"610px"}},54081:(Ge,ae,e)=>{"use strict";e.d(ae,{TB:()=>I,n_:()=>A});var t=e(34375),n=e(39536),x=e(37661),M=e(32764),L=e(76549),p=e(50239),P=e(52954),a=e(93557),o=e(715),v=e(99763),y=e(22804),C=e(39609);let A=(()=>{class w{}return w.\u0275fac=function($){return new($||w)},w.\u0275mod=C.oAB({type:w}),w.\u0275inj=C.cJS({imports:[P.ez,a.u5,p.o9,n.yj,L.y,x.Ps,M.UK,t.yu,v.AA,o.aw.forChild(),y.hp,P.ez,a.u5]}),w})();var d=e(99733),m=e(87085),S=e(85566),s=e(64710),r=e(18406),l=e(59562),i=e(23815),O=e(33932),Y=e(2629),T=e(89258),B=e(50017),K=e(80155),b=e(3878),f=e(13980);let I=(()=>{class w{constructor($,G,F,J,z,Z,ue,u){this.sanitizer=G,this.dialog=F,this.toastService=J,this.translateService=z,this.systemInfoService=Z,this.snackbar=ue,this.focusManager=u,this.feedbackUrl="",this.feedbackUrlLoaded=new r.X(!1),this.logger=$.getLogger("FeedbackService"),this.userInfo$=new l.t(1)}getUserInfoUpdated(){return this.userInfo$.asObservable()}onAccountStatusChanged($){this.userInfo$.next($)}initializeFeedback($,G,F,J){return this.isAdminHubSurvey=!1,this.isAdminHubSurveyError=!1,F().pipe((0,O.zg)(z=>z?G().pipe((0,Y.q)(1),(0,T.U)(Z=>(Z?(this.logger.info("AdminHub Feedback Survey feature is enabled and survey found"),this.setFeedbackUrl(Z.surveyContainerUrl),this.feedbackUrlLoaded.next(!0),this.isAdminHubSurvey=!0,this.subscribeToSurveyEvents(Z)):(this.logger.info("initializeFeedback - AdminHub Feedback Survey is not availanble"),this.isAdminHubSurveyError=!0,this.setFeedbackUrl("")),!0))):(this.logger.info("Surveys Feature rollout is disabled, show error dialog"),this.isAdminHubSurveyError=!0,this.setFeedbackUrl(""),(0,i.of)(!0))))}setFeedbackUrl($){this.feedbackUrl=this.sanitizer.bypassSecurityTrustResourceUrl($)}closeFeedbackDialog(){this.logger.trace(K.y$.UserGesture,K.Px.Feedback,K.Rf.close," by clicking dismiss"),this.isFeedbackDialogOpen()&&this.globalDialogref.close()}isFeedbackDialogOpen(){return!(0,S.isNil)(this.globalDialogref)&&0===this.globalDialogref.getState()}setUpToastContainer($){this.tc=$}onOpenFeedbackDialog($){if(this.logger.trace(K.y$.UserGesture,K.Px.Feedback,K.Rf.open,"feedback option"),!this.isFeedbackDialogOpen())return this.globalDialogref=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(d.P,{panelClass:"dialogPaddingRemove",autoFocus:!0,hasBackdrop:!0,disableClose:!0,maxWidth:"100vw"})),this.globalDialogref.componentInstance.nvSource=this.feedbackUrl,this.globalDialogref.componentInstance.nvContainerSize={width:this.isAdminHubSurvey?m.cJ.width:m.$6.width,height:this.isAdminHubSurvey?m.cJ.height:m.$6.height},this.globalDialogref.componentInstance.nvSize={width:this.isAdminHubSurvey?m.Kz.width:m.M4.width,height:this.isAdminHubSurvey?m.Kz.height:m.M4.height},this.globalDialogref.componentInstance.isSurveyError=this.isAdminHubSurveyError,this.globalDialogref.componentInstance.nvOnSend.pipe((0,Y.q)(1)).subscribe(G=>{this.onSurveySent(),this.globalDialogref.close()}),this.globalDialogref.componentInstance.nvOnClose.pipe((0,Y.q)(1)).subscribe(G=>{"escape"===G&&$(),this.globalDialogref.close()}),this.showGuideToastIfNeeded(),this.globalDialogref;this.logger.info("Feedback Dialog is already open")}feedbackUrlInitialized(){return this.feedbackUrlLoaded.asObservable()}onSurveySent(){this.logger.trace(K.y$.UserGesture,K.Px.Feedback,K.Rf.close," by clicking send"),this.translateService.get("feedback.thanksMessage").subscribe($=>{this.snackbar.open($,"",{duration:7e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["nv-hig"]})}),this.logger.info("survey sent")}subscribeToSurveyEvents($){$?(this.surveyEventReferenceSubmitted=(0,B.subscribeToIFrameEvents)({surveyId:$.surveyId,type:B.SurveyEventType.Submitted},this.surveyEventListenerSubmitted.bind(this)),this.surveyEventReferenceDismissed=(0,B.subscribeToIFrameEvents)({surveyId:$.surveyId,type:B.SurveyEventType.Dismissed},this.surveyEventListenerDismissed.bind(this)),this.surveyEventReferenceCloseDialog=(0,B.subscribeToIFrameEvents)({surveyId:$.surveyId,type:B.SurveyEventType.CloseDialog},this.surveyEventListenerCloseDialog.bind(this))):this.logger.info("Error subscribing to survey events since survey result is empty")}surveyEventListenerSubmitted(){this.logger.info("Feedback Service - Survey Submitted, close Modal Dialog..."),this.onSurveySent(),this.closeFeedbackDialog(),this.surveyEventReferenceSubmitted.unsubscribe()}surveyEventListenerDismissed(){this.logger.info("Feedback Service - Survey Dismissed, close Modal Dialog..."),this.closeFeedbackDialog(),this.surveyEventReferenceDismissed.unsubscribe()}surveyEventListenerCloseDialog(){this.logger.info("Feedback Service - closing Modal Dialog..."),this.closeFeedbackDialog(),this.surveyEventReferenceCloseDialog.unsubscribe()}showGuideToastIfNeeded(){this.getGuideToastMessage().pipe((0,Y.q)(1)).subscribe($=>{$&&(this.snackbar.open($,"",{duration:7e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["nv-hig"]}),this.logger.info("Showing guide toast"))})}getGuideToastMessage(){return this.systemInfoService.getDeviceOSType().pipe((0,T.U)($=>{if($===s.wi.WebOS)return this.translateService.instant("surveyNotification.toastMessageOnLGTV")}))}}return w.\u0275fac=function($){return new($||w)(C.LFG(s.ed),C.LFG(b.H7),C.LFG(n.on),C.LFG(f.kl),C.LFG(o.sK),C.LFG(s.Ob),C.LFG(L.pl),C.LFG(y.IK))},w.\u0275prov=C.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},13980:(Ge,ae,e)=>{"use strict";e.d(ae,{sB:()=>m,EV:()=>i,kl:()=>l});var t=e(39609),n=e(10742),x=e(85566),M=e(37661),L=e(34375),p=e(52954),P=e(32764),a=e(715);function o(O,Y){1&O&&(t.TgZ(0,"div",7),t._UZ(1,"mat-spinner",8),t.qZA())}function v(O,Y){if(1&O&&(t.TgZ(0,"mat-icon",9),t._uU(1),t.qZA()),2&O){const T=t.oxw();t.Udp("color",T.toastModel.iconColor),t.xp6(1),t.hij(" ",T.toastModel.icon," ")}}function y(O,Y){if(1&O&&(t.TgZ(0,"span",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&O){const T=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,T.toastModel.textContent))}}function C(O,Y){if(1&O&&(t.TgZ(0,"span",10),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&O){const T=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,T.toastModel.textContentUseTranslate))}}function A(O,Y){if(1&O){const T=t.EpF();t.TgZ(0,"div",7)(1,"button",11),t.NdJ("click",function(){t.CHM(T);const K=t.oxw();return t.KtG(K.handleAction())}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"uppercase"),t.qZA()()()}if(2&O){const T=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,1,T.toastModel.button.text))}}let d=(()=>{class O{constructor(T){this.data=T,this.toastModel=T.toastModel,this.viewContainerRef=T.viewContainerRef,this.matSnackBar=T.matSnackBar}handleAction(){this.cancel(),this.toastModel.button.action(this.toastModel.button.actionParams)}cancel(){this.matSnackBar.dismiss(),this.viewContainerRef.clear()}}return O.\u0275fac=function(T){return new(T||O)(t.Y36(n.qD))},O.\u0275cmp=t.Xpm({type:O,selectors:[["lib-toast-content"]],decls:10,vars:5,consts:[["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"mat-toast-content","bg-dark-im-hue-5","color-white-hue-3","font-size-sm1"],["class","toast-item-container",4,"ngIf"],["class","md-24 toast-model-icon",3,"color",4,"ngIf"],["fxFlex","","class","toast-ellipsis-text font-body2",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end",1,"button-alignment"],["type","button","mat-icon-button","",1,"toast-close-button",3,"click"],["mat-font-set","material-icons",1,"mat-16","common-toast-close-icon","color-white-hue-4v"],[1,"toast-item-container"],["id","progressIndicator","diameter","13","mode","indeterminate",1,"mat-accent","margin-right-12"],[1,"md-24","toast-model-icon"],["fxFlex","",1,"toast-ellipsis-text","font-body2"],["mat-button","",1,"color-green","font-button1","padding-right-24",3,"click"]],template:function(T,B){1&T&&(t.TgZ(0,"div",0),t.YNc(1,o,2,0,"div",1),t.YNc(2,v,2,3,"mat-icon",2),t.YNc(3,y,3,3,"span",3),t.YNc(4,C,3,3,"span",3),t.TgZ(5,"div",4),t.YNc(6,A,5,3,"div",1),t.TgZ(7,"button",5),t.NdJ("click",function(){return B.cancel()}),t.TgZ(8,"mat-icon",6),t._uU(9,"close"),t.qZA()()()()),2&T&&(t.xp6(1),t.Q6J("ngIf",B.toastModel.showProgressIndicator),t.xp6(1),t.Q6J("ngIf",B.toastModel.icon),t.xp6(1),t.Q6J("ngIf",B.toastModel.textContent),t.xp6(1),t.Q6J("ngIf",B.toastModel.textContentUseTranslate),t.xp6(2),t.Q6J("ngIf",B.toastModel.button))},dependencies:[M.Hw,L.eB,p.O5,P.sN,p.gd,a.X$],styles:[".mat-toast-content[_ngcontent-%COMP%]{display:flex;margin:8px 16px;background-color:inherit}.mat-toast-content[_ngcontent-%COMP%]   .common-toast-close-icon[_ngcontent-%COMP%]{width:16px!important;height:16px!important;line-height:16px!important}.mat-toast-content[_ngcontent-%COMP%]   .toast-item-container[_ngcontent-%COMP%]{align-self:center}.mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;align-self:center;-webkit-box-orient:vertical;-webkit-line-clamp:3}.mat-toast-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-self:center}.mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{display:flex;align-self:flex-end}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-model-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .mat-toast-content[_ngcontent-%COMP%]   .toast-ellipsis-text[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_nghost-%COMP%]   button.toast-close-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button.toast-close-button[_ngcontent-%COMP%]{display:none}"]}),O})();class m{constructor(){}}const S_defaultPosition_horizontal="start",S_defaultPosition_vertical="bottom";var s=e(76549);let r=(()=>{class O{constructor(T){this.snackBar=T}showToast(T,B){const K=new n.u_;K.horizontalPosition=B.horizontalPosition||S_defaultPosition_horizontal,K.verticalPosition=B.verticalPosition||S_defaultPosition_vertical,(!!(0,x.isNil)(B.autoHide)||B.autoHide)&&(K.duration=B.hideDelay||5e3),K.data={toastModel:B,viewContainerRef:T,matSnackBar:this.snackBar},K.panelClass=["toast","nv-hig"];const f=this.snackBar.openFromComponent(d,K);return f.afterDismissed().subscribe(()=>{T.clear()}),!!f}}return O.\u0275fac=function(T){return new(T||O)(t.Y36(s.pl))},O.\u0275cmp=t.Xpm({type:O,selectors:[["lib-toast"]],decls:1,vars:0,consts:[[1,"nv-toast-container"]],template:function(T,B){1&T&&t._UZ(0,"div",0)},encapsulation:2}),O})(),l=(()=>{class O{constructor(T,B){this.factoryResolver=T,this.translate=B}show(T,B){return this.showToast(T,B)}showOffline(T,B){return this.translate.get("toastMessages.offline").subscribe(K=>{B.textContent=K,B.icon="cloud_off",this.showToast(T,B)}),!0}showProgress(T,B){return B.showProgressIndicator=!0,this.showToast(T,B)}showWarning(T,B){return B.icon="warning",this.showToast(T,B)}showError(T,B){return B.icon="error outline",this.showToast(T,B)}showToast(T,B){const K=this.factoryResolver.resolveComponentFactory(r);return!!T&&(T.clear(),T.createComponent(K).instance.showToast(T,B))}}return O.\u0275fac=function(T){return new(T||O)(t.LFG(t._Vd),t.LFG(a.sK))},O.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),i=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=t.oAB({type:O}),O.\u0275inj=t.cJS({imports:[s.y,M.Ps,L.yu,p.ez,P.UK,a.aw]}),O})()},80155:(Ge,ae,e)=>{"use strict";e.d(ae,{Rf:()=>Z,Px:()=>z,y$:()=>ue,eQ:()=>o,YV:()=>C,kE:()=>$,Gb:()=>a,O_:()=>y,DV:()=>Le,m$:()=>Re,qW:()=>N,Kr:()=>le,h$:()=>T,IM:()=>b,tr:()=>xe,a9:()=>be,rV:()=>ee,gF:()=>Y,M_:()=>J,oc:()=>ye,Rl:()=>r,a_:()=>h,f6:()=>E,tE:()=>ve,KF:()=>i,dK:()=>R,Ij:()=>_e,gd:()=>U,bw:()=>q,bq:()=>re,c1:()=>l,Wl:()=>De,wN:()=>ge,Zp:()=>B,Z3:()=>ke,f0:()=>O,fO:()=>H,RE:()=>K,D5:()=>d,L2:()=>pe,gk:()=>Pe});var t=e(59562),n=e(23815),x=e(76086),M=e(42930),L=e(39138),p=e(71265);class P extends t.t{constructor(ie){super(ie),this.lastValue=null}getValue(){return this.lastValue}setValue(ie){this.lastValue=ie}next(ie){this.lastValue=ie,super.next(ie)}clear(){this.lastValue=null}}class a{constructor(ie,qe=!0,lt=!0,Et=!0,kt=-1){this.workerFn=ie,this.cacheLastResult=lt,this.clearCacheOnRefresh=Et,this.cacheLifeTime=kt,this.internalSubject=null,this.subscription=null,qe||this.get$()}refresh(){const ie=new t.t(1);this.cacheLastResult&&this.internalSubject instanceof P&&this.clearCacheOnRefresh&&this.internalSubject.clear();const qe=this.ensureEntryIsInitialized(!0);return qe&&this.pipeNewDataToReplaySubject(qe,ie),ie.asObservable()}setData(ie,qe=!1){this.internalSubject instanceof P&&this.internalSubject.setValue(ie),qe&&(this.ensureEntryIsInitialized(!1),this.pipeNewDataToReplaySubject((0,n.of)(ie),null))}getData(){return this.internalSubject instanceof P?this.internalSubject.getValue():null}get$(){const ie=this.ensureEntryIsInitialized(!1);return ie&&this.pipeNewDataToReplaySubject(ie,null),this.internalSubject.asObservable()}getRefreshObservable(){return(0,x.P)(()=>this.refresh())}pipeNewDataToReplaySubject(ie,qe){(0,M.H)(0).pipe((0,p.b)(lt=>this.subscription=ie.subscribe(Et=>{qe&&qe.next(Et),this.internalSubject&&this.internalSubject.next(Et),this.cacheLastResult&&this.cacheLifeTime>=0&&(0,M.H)(this.cacheLifeTime).subscribe(()=>{this.internalSubject=null})},Et=>{const kt=this.internalSubject;this.subscription&&this.subscription.unsubscribe(),this.internalSubject=null,qe&&qe.error(Et),kt&&kt.error(Et)}))).subscribe()}ensureEntryIsInitialized(ie){if(ie||!this.internalSubject)return this.subscription&&this.subscription.unsubscribe(),this.internalSubject||(this.internalSubject=this.createNewSubject()),this.workerFn()}createNewSubject(){return this.cacheLastResult?new P(1):new t.t(1)}}class o{constructor(ie,qe=!0,lt=!0,Et=!0,kt=-1){this.workerFn=ie,this.lazyInit=qe,this.cacheLastResult=lt,this.clearCacheOnRefresh=Et,this.cacheLifeTime=kt,this.eventStreamMap=new Map}refresh(ie){return this.ensureMapEntryExists(ie),this.eventStreamMap.get(ie).refresh()}refreshAll(){const ie=[];return this.eventStreamMap.forEach((qe,lt)=>{ie.push(qe.refresh())}),(0,L.$R)(...ie)}setData(ie,qe,lt=!1){this.ensureMapEntryExists(ie),this.eventStreamMap.get(ie).setData(qe,lt)}getData(ie){return this.ensureMapEntryExists(ie),this.eventStreamMap.get(ie).getData()}get$(ie){return this.ensureMapEntryExists(ie),this.eventStreamMap.get(ie).get$()}ensureMapEntryExists(ie){this.eventStreamMap.has(ie)||this.eventStreamMap.set(ie,new a(()=>this.workerFn(ie),this.lazyInit,this.cacheLastResult,this.clearCacheOnRefresh,this.cacheLifeTime))}}var v=e(39609);let y=(()=>{class Oe{createStream(qe,lt=!0,Et=!0,kt=!0,an=-1){return new a(qe,lt,Et,kt,an)}}return Oe.\u0275fac=function(qe){return new(qe||Oe)},Oe.\u0275prov=v.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})(),C=(()=>{class Oe{createStream(qe){return new o(qe)}}return Oe.\u0275fac=function(qe){return new(qe||Oe)},Oe.\u0275prov=v.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();var A=e(85566);function d(Oe){let ie="";return Oe.forEach((qe,lt)=>{!qe.startsWith("/")&&0!==lt&&(ie+="/"),qe.endsWith("/")?ie+=qe.slice(0,qe.length-1):ie+=qe}),ie}let S=(()=>{class Oe{static getUuid(){return Oe.uuid}static refreshUuid(){Oe.uuid=s()}}return Oe.uuid=null,Oe})();function s(){let Oe=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(qe){const lt=(Oe+16*Math.random())%16|0;return Oe=Math.floor(Oe/16),("x"===qe?lt:3&lt|8).toString(16)})}function r(Oe=!1){return Oe?S.getUuid():s()}function l(Oe,ie){return Error(`InvalidPipeArgument: '${ie}' for pipe '${Oe.toString()}'`)}function i(Oe,ie){let qe=Oe&&"string"!=typeof Oe?JSON.stringify(Oe):Oe||"";return ie&&(qe=qe.substr(0,ie)),qe}function O(Oe){return!((0,A.isNil)(Oe)||(0,A.isNil)(Oe.status)||0!==Oe.status&&-100!==Oe.status)}function Y(Oe,ie,qe,lt){let Et="";for(const dn of lt)try{Et+="string"==typeof dn?dn:JSON.stringify(dn,null,"\t"),Et+=" "}catch{}return`${qe.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[ie]}  ${Oe}  ${Et}`}function T(Oe,ie,qe){return qe&&(Oe=window.encodeURIComponent(Oe)),ie&&(Oe=window.unescape(Oe)),window.btoa(Oe)}function B(Oe){if(""===Oe||""===Oe.trim())return!1;try{return btoa(atob(Oe))===Oe}catch{return!1}}function K(Oe){return!!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-4[a-f0-9]{3}\b-[89aAbB][a-f0-9]{3}\b-[0-9a-fA-F]{12}$/gi.test(Oe)}function b(Oe){return Oe?Object.assign({},Oe):null}S.refreshUuid();var f=e(39700),D=e(42520),I=e(4042),w=e(58765),_=e(12606);let $=(()=>{class Oe{constructor(){}onlineStatusChanged(){const qe=(0,f.R)(window,"online").pipe((0,I.h)(!0)),lt=(0,f.R)(window,"offline").pipe((0,I.h)(!1));return(0,D.T)(qe,lt).pipe((0,w.O)(window.navigator.onLine),(0,_.x)())}isOnline(){return window.navigator.onLine}}return Oe.\u0275fac=function(qe){return new(qe||Oe)},Oe.\u0275prov=v.Yz7({token:Oe,factory:Oe.\u0275fac,providedIn:"root"}),Oe})();const G=[];function F(Oe,ie,qe){for(;0!==G.length;){const lt=`${ie.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[Oe]} ${qe[0]} ${G[G.length-1]} ${Z.close}`;console.log(lt),G.pop()}}function J(Oe,ie,qe,lt){if(lt.length>=3&&lt[1].toString().includes("Tracer"))if(G[G.length-1]!==lt[1]){if(lt[2]===Z.close){const kt=`${qe.transform(new Date,"yyyy-MM-dd HH:mm:ss.SSS")} ${[ie]} ${lt[0]} ${G[G.length-1]} ${lt[2]}`;G.pop(),console.log(kt),G.length&&G.pop()}else lt[2]===Z.open&&G.includes(lt[1])&&F(ie,qe,lt);G.push(lt[1])}else G[G.length-1]===lt[1]&&G.pop();else if("Clicked on Back button"===lt[1])return void F(ie,qe,lt);return Y(Oe,ie,qe,lt)}var z=(()=>{return(Oe=z||(z={})).EvidencePanel="EvidencePanelTracer",Oe.Search="SearchTracer",Oe.SeeMore="SeeMoreTracer",Oe.UserInfo="UserDetails",Oe.Login="LoginTracer",Oe.Settings="SettingsTracer",Oe.Feedback="FeedbackTracer",z;var Oe})(),Z=(()=>{return(Oe=Z||(Z={})).open="Opened",Oe.close="Closed",Z;var Oe})(),ue=(()=>{return(Oe=ue||(ue={})).UserGesture="UserGesture",Oe.Endpoint="EndPoint",Oe.Errormessage="ErrorMessage",Oe.PushNotification="PushNotification",Oe.UserDetails="UserDetails",ue;var Oe})(),u=e(50936),k=e(49048),W=(()=>((W||(W={})).EdenResume="http://samsung.com/appcontrol/operation/eden_resume",W))(),N=(()=>{return(Oe=N||(N={})).PlatformCoreCpuArch="http://tizen.org/feature/platform.core.cpu.arch",Oe.ModelName="http://tizen.org/system/model_name",N;var Oe})();function H(){return"tizen"in window}function h(Oe){var ie;if(Oe.operation===W.EdenResume)return null===(ie=Oe.data.find(qe=>"PAYLOAD"===qe.key))||void 0===ie?void 0:ie.value[0]}function E(){return null==tizen?void 0:tizen.application.getCurrentApplication().getRequestedAppControl()}function ee(){null==tizen||tizen.application.getCurrentApplication().exit()}function R(Oe){try{return null==tizen?void 0:tizen.systeminfo.getCapability(Oe)}catch{return}}function q(){return H()?new u.y(ie=>{let qe=!0;return null==tizen||tizen.systeminfo.getPropertyValue("NETWORK",lt=>{qe&&(ie.next(lt.networkType),ie.complete())},lt=>{qe&&ie.error(lt)}),()=>qe=!1}).pipe((0,k.V)(5e3)):(0,n.of)(void 0)}function ne(){return window.webapis}function _e(){var Oe,ie,qe;const lt=null===(ie=null===(Oe=ne())||void 0===Oe?void 0:Oe.productinfo)||void 0===ie?void 0:ie.getModelCode();return null===(qe=null==lt?void 0:lt.split("_"))||void 0===qe?void 0:qe[1]}function U(){var Oe,ie;return null===(ie=null===(Oe=ne())||void 0===Oe?void 0:Oe.productinfo)||void 0===ie?void 0:ie.isUdPanelSupported()}function re(){var Oe,ie;return null===(ie=null===(Oe=ne())||void 0===Oe?void 0:Oe.productinfo)||void 0===ie?void 0:ie.getSmartTVServerVersion()}function pe(Oe){var ie;if(!Oe)return{};const[qe,lt]=null===(ie=Oe.split("T-INFOLINK")[1])||void 0===ie?void 0:ie.split("-");return{year:qe,version:lt}}function Pe(Oe,ie){let qe=null;return new u.y(Et=>{let kt=!0;return qe=tizen.filesystem.openFile(Oe,"w"),qe.writeStringNonBlocking(ie,an=>{kt&&(Et.next(an),Et.complete(),null==qe||qe.closeNonBlocking())},an=>{kt&&(Et.error(an.name),Et.complete(),null==qe||qe.closeNonBlocking())}),()=>{kt=!1,null==qe||qe.closeNonBlocking()}})}var Te=e(96671),me=e(18388),et=e(2629),Xe=e(38435),Ze=e(51325),nt=e(10907),Me=(()=>{return(Oe=Me||(Me={})).InvalidStates="InvalidStates",Oe.InvalidTransitions="InvalidTransitions",Oe.InvalidStartState="InvalidStartState",Oe.InvalidEndState="InvalidEndState",Oe.InvalidWildcardState="InvalidWildcardState",Oe.TransitionFromEndState="TransitionFromEndState",Oe.TransitionNotFound="TransitionNotFound",Oe.TransitionError="TransitionError",Oe.UnreachableState="UnreachableState",Oe.InvalidStateName="InvalidStateName",Oe.AmbiguousTransition="AmbiguousTransition",Oe.WildcardTargetState="WildcardTargetState",Oe.MultipleWildcardTransitions="MultipleWildcardTransitions",Me;var Oe})();class ze extends Error{constructor(ie,qe,lt,Et){super(`${ie} - ${qe} - ${lt}`),this.name="StateMachineError",this.tag=ie,this.code=qe,this.data=Et}}const le="**";class Le{constructor(ie,qe){this._serializer=new Te.xQ,this._reset=new Te.xQ,this.setupStateMachine(ie),qe&&this.validateStateMachine(),this.setupSerializer()}get currentState(){return this._currentState}on(ie,qe){return(0,x.P)(()=>{const lt={action:ie,stateData:qe,response:new t.t(1)};return this._serializer.next(lt),lt.response.asObservable()})}reset(){this._reset.next(),this._currentState=this._startState,this.setupSerializer()}executeTransition(ie,qe){var lt,Et,kt,an;if(this._currentState===this._endState)return(0,me._)(this.createStateMachineError(Me.TransitionFromEndState,"Cannot transition from end state"));const dn=null===(Et=null===(lt=this._transitions[ie])||void 0===lt?void 0:lt.find(pn=>pn.from===this._currentState||pn.from===le))||void 0===Et?void 0:Et.to;if(!dn)return(0,me._)(this.createStateMachineError(Me.TransitionNotFound,`Could not find a valid targetState from currentState ${this.currentState} on action ${ie}`));const xn=this._states[this._currentState],un=this._states[dn],Nt=null!==(kt=null==xn?void 0:xn.onExit)&&void 0!==kt?kt:pn=>(0,n.of)(pn),bn=null!==(an=null==un?void 0:un.onEnter)&&void 0!==an?an:pn=>(0,n.of)(pn);return Nt(qe).pipe((0,et.q)(1),(0,p.b)(()=>this._currentState=dn),(0,Xe.b)(pn=>bn(pn)),(0,et.q)(1),(0,Ze.K)(pn=>(0,me._)(this.createStateMachineError(Me.TransitionError,`Error transitioning to ${dn}`,pn))))}setupStateMachine(ie){if(this._tag=ie.tag,this._states=ie.states,!this._states)throw this.createStateMachineError(Me.InvalidStates,"State list cannot be nullish");if(this._transitions=ie.transitions,!this._transitions)throw this.createStateMachineError(Me.InvalidTransitions,"Transitions list cannot be nullish");if(this._startState=Object.keys(this._states).find(qe=>qe===ie.startState),!this._startState)throw this.createStateMachineError(Me.InvalidStartState,`Could not find valid start state with name ${ie.startState}`);if(this._endState=Object.keys(this._states).find(qe=>qe===ie.endState),!this._endState)throw this.createStateMachineError(Me.InvalidEndState,`Could not find valid end state with name ${ie.endState}`);if(Object.keys(this._states).includes(le))throw this.createStateMachineError(Me.InvalidWildcardState,"Wildcard state name cannot be specified manually in state definitions");this._currentState=ie.startState}setupSerializer(){this._serializer.pipe((0,Xe.b)(ie=>this.executeTransition(ie.action,ie.stateData).pipe((0,Xe.b)(qe=>(ie.response.next(qe),ie.response.complete(),(0,n.of)(qe))),(0,Ze.K)(qe=>(ie.response.error(qe),(0,n.of)(qe))))),(0,nt.R)(this._reset)).subscribe()}createStateMachineError(ie,qe,lt){return new ze(this._tag,ie,qe,lt)}validateStateMachine(){const ie=new Map;Object.keys(this._states).forEach(qe=>ie.set(qe,!1)),ie.set(this._startState,!0),Object.keys(this._transitions).forEach(qe=>{const lt=new Map;Object.keys(this._states).forEach(Et=>lt.set(Et,0)),this._transitions[qe].forEach(Et=>{if(Et.from===this._endState)throw this.createStateMachineError(Me.TransitionFromEndState,"Cannot transition from end state");if(Et.to===le)throw this.createStateMachineError(Me.WildcardTargetState,`Wildcard state cannot be targetState on action ${qe}`);if(Et.from===le&&1!==this._transitions[qe].length)throw this.createStateMachineError(Me.MultipleWildcardTransitions,`Cannot specify multiple transitions on action ${qe} if one of them is a Wildcard`);if(![...Object.keys(this._states),le].includes(Et.from))throw this.createStateMachineError(Me.InvalidStateName,`Invalid currentState ${Et.from} on action ${qe} to state ${Et.to}`);if(!Object.keys(this._states).includes(Et.to))throw this.createStateMachineError(Me.InvalidStateName,`Invalid targetState ${Et.to} on action ${qe} from state ${Et.from}`);lt.set(Et.from,lt.get(Et.from)+1),ie.set(Et.to,!0)}),lt.forEach((Et,kt)=>{if(Et>1)throw this.createStateMachineError(Me.AmbiguousTransition,`Ambiguous transition on action ${qe} from state ${kt}`)})}),ie.forEach((qe,lt)=>{if(!qe)throw this.createStateMachineError(Me.UnreachableState,`State ${lt} is unreachable`)})}}var Re=(()=>((Re||(Re={})).MicrophoneStateMachine="MicrophoneStateMachine",Re))();function ve(){var Oe;return null!==(Oe=document.activeElement)&&void 0!==Oe?Oe:document}function be(Oe,ie,qe){Oe instanceof HTMLIFrameElement||Oe.dispatchEvent(new KeyboardEvent(ie,Object.assign(Object.assign({},function Q(Oe){let ie;switch(Oe){case"ArrowUp":ie=38;break;case"ArrowDown":ie=40;break;case"ArrowLeft":ie=37;break;case"ArrowRight":ie=39;break;case"Enter":ie=13;break;case"Escape":ie=27}return{key:Oe,keyCode:ie}}(qe)),{view:window,bubbles:!0,cancelable:!0})))}function xe(Oe){Oe instanceof HTMLIFrameElement||Oe.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}function ke(Oe){return null==Oe?void 0:Oe.isTrusted}var Ce=e(74266);function ge(Oe){return"Escape"===Oe.key||"GoBack"===Oe.key}function De(Oe){return"ArrowUp"===Oe.key||"ArrowDown"===Oe.key||"ArrowLeft"===Oe.key||"ArrowRight"===Oe.key}function ye(Oe,ie,qe){const lt=(0,f.R)(Oe,ie);return qe?lt.pipe((0,Ce.h)(Et=>Et.key===qe)):lt}},56247:(Ge,ae,e)=>{"use strict";e.d(ae,{F:()=>x});var t=e(39536),n=e(39609);let x=(()=>{class M{constructor(p,P){this.evidencePanelTileDialogData=p,this.matDialogRef=P}onCloseClick(){this.matDialogRef.close()}}return M.\u0275fac=function(p){return new(p||M)(n.Y36(t.eJ),n.Y36(t.hV))},M.\u0275cmp=n.Xpm({type:M,selectors:[["gfn-evidence-panel-tile-dialog"]],decls:2,vars:4,consts:[["fxFill","",1,"container"],[3,"panelTile","sectionType","sectionMachineName","isFullPaged","closeClick"]],template:function(p,P){1&p&&(n.TgZ(0,"div",0)(1,"gfn-evidence-panel-tile",1),n.NdJ("closeClick",function(){return P.onCloseClick()}),n.qZA()()),2&p&&(n.xp6(1),n.Q6J("panelTile",P.evidencePanelTileDialogData.panelTile)("sectionType",P.evidencePanelTileDialogData.sectionType)("sectionMachineName",P.evidencePanelTileDialogData.sectionMachineName)("isFullPaged",!0))},styles:[".container[_ngcontent-%COMP%]{overflow-y:auto}"]}),M})()},85704:(Ge,ae,e)=>{"use strict";e.d(ae,{$A:()=>m,$s:()=>L,B2:()=>v,IS:()=>r,LH:()=>y,Lc:()=>I,Lo:()=>p,R$:()=>Y,T0:()=>M,TB:()=>T,TT:()=>o,Yy:()=>w,_3:()=>d,_B:()=>x,dA:()=>s,ef:()=>i,hV:()=>A,iX:()=>a,oY:()=>P,s9:()=>b,tP:()=>B,u9:()=>S});var t=e(97483),n=e(12983),x=(()=>{return(_=x||(x={}))[_.GameItem=0]="GameItem",_[_.FilterItem=1]="FilterItem",x;var _})(),M=(()=>{return(_=M||(M={})).AllGames="AllGames",_.MyLibrary="MyLibrary",M;var _})(),L=(()=>{return(_=L||(L={}))[_.Loading=0]="Loading",_[_.Ready=1]="Ready",_[_.Error=2]="Error",_[_.Login=3]="Login",_[_.EmptyLibrary=4]="EmptyLibrary",L;var _})(),p=(()=>{return(_=p||(p={})).GenericError="common.genericLoadError",_.ConnectionError="common.connectionError",_.LoginRequired="layout.myLibraryLoginRequiredMessage",_.EmptyLibrary="layout.emptyLibraryMessage",p;var _})();class P{constructor($,G){this.pointOfFailure=$,this.err=G}get failurePoint(){return this.pointOfFailure}get error(){return this.err}}P.ErrorPlaceholder=new P;var a=(()=>{return(_=a||(a={})).AppsFetch="AppsListFetch",_.AppMetadataFetch="AppMetadataFetch",_.LayoutFetch="LayoutFetch",_.FilterGroupListFetch="FilterGroupListFetch",a;var _})(),o=(()=>{return(_=o||(o={})).VariantA="VariantA",_.VariantB="VariantB",o;var _})();const v=[{name:t.yxz.JSModuleLoad,start:t.Y6V.JSInitStart,end:t.Y6V.LayoutJSLoadEnd},{name:t.yxz.LayoutDataLoad,start:t.Y6V.LayoutDataFetchStart,end:t.Y6V.LayoutDataFetchEnd},{name:t.yxz.LayoutSpinner,start:t.Y6V.LayoutSpinnerStart,end:t.Y6V.LayoutSpinnerEnd},{name:t.yxz.LayoutDataRendering,start:t.Y6V.LayoutDataRenderStart,end:t.Y6V.LayoutDataRenderEnd},{name:t.yxz.CompleteLayout,start:t.Y6V.JSInitStart,end:t.Y6V.LayoutDataRenderEnd}];class y extends n.xv{constructor(){super("Got Empty layout for non-personalized data:",{})}}var A=(()=>{return(_=A||(A={}))[_.GameTileWidth=154]="GameTileWidth",_[_.GameTileHeight=218]="GameTileHeight",_[_.WideTileWidth=272]="WideTileWidth",_[_.WideTileHeight=153]="WideTileHeight",_[_.TvGameTileWidth=230]="TvGameTileWidth",_[_.TvGameTileHeight=328]="TvGameTileHeight",_[_.TvWideTileWidth=408]="TvWideTileWidth",_[_.TvWideTileHeight=230]="TvWideTileHeight",_[_.MobileRenderingWidth=256]="MobileRenderingWidth",A;var _})(),d=(()=>{return(_=d||(d={})).WideTileImageFallback="assets/img/DefaultGameArt.png",_.GameTileImageFallback="assets/img/DefaultGameArt-BoxArt.jpg",d;var _})();const m=200,S=500,s=.563;var r=(()=>{return(_=r||(r={})).FadeIn="FadeIn",_.BottomSlideIn="BottomSlideIn",r;var _})();const i=300,Y=7500,T=400,B=3e3,b=1e4;var D=(()=>{return(_=D||(D={})).GameTile="TV_BANNER",_.MaqueeTile="MARQUEE_HERO_IMAGE",_.MaqueeGameLogo="GAME_LOGO",_.MaqueeCascadeImage="assets.cascade.geforce.com/images/",D;var _})();const I=[D.GameTile,D.MaqueeCascadeImage,D.MaqueeTile,D.MaqueeGameLogo];var w=(()=>{return(_=w||(w={}))[_.Wide=0]="Wide",_[_.Tall=1]="Tall",_[_.Filter=2]="Filter",w;var _})()},51825:(Ge,ae,e)=>{"use strict";e.d(ae,{M:()=>B});var t=e(64710),n=e(97483),x=e(96671),M=e(18388),L=e(23815),p=e(47504),P=e(33932),a=e(71265),o=e(89258),v=e(51325),y=e(2629),C=e(78747),A=e(57693),d=e(13800),m=e(74266),S=e(4042),s=e(85566),l=e(85704),i=e(66195),O=e(21361);const Y=[n.BwP.DIRECT_INPUT_GAMEPAD_PARTIAL,n.BwP.X_INPUT_GAMEPAD_PARTIAL,n.BwP.GAMEPAD_PARTIAL,n.BwP.DIRECT_INPUT_GAMEPAD,n.BwP.X_INPUT_GAMEPAD,n.BwP.GAMEPAD],T=[n.BwP.KEYBOARD,n.BwP.MOUSE,n.BwP.MOUSE_KEYBOARD];class B{constructor(b,f,D,I,w,_,$,G,F,J,z,Z,ue,u,k,W,N,H,h,E,ee,R,q,ne){var _e,U,re,pe;this.metaData=b,this.loggingService=f,this.networkStatusService=D,this.launchService=I,this.idmService=w,this.idmLoginService=_,this.ecomService=$,this.dialogService=G,this.nesLayoutService=F,this.lcarsService=J,this.telemetryUtilService=z,this.platformPreferenceService=Z,this.gameShareUrlService=ue,this.ownershipSyncService=u,this.appConfig=k,this.gfnSdkService=W,this.unsupportedBrowserService=N,this.pathService=H,this.settingsService=h,this.systemInfoService=E,this.bridgeService=ee,this.gamepadService=R,this.cloudVarHelperService=q,this.ratingService=ne,this.mobileMode=!1,this.visible=!0,this.clientSupportKBMouseGames=!0,this.checkMobileDataUsage=!1,this.prioritizeGamepadWarning=!1,this.metaDataUpdated=new x.xQ,this.metaDataUpdated$=this.metaDataUpdated.asObservable(),this.campaignDataUpdated=new x.xQ,this.gameOwnershipDefaultVariant=!0,this.isLaunchFlow=!1,this.campaignDataUpdated$=this.campaignDataUpdated.asObservable(),this.logger=this.loggingService.getLogger("ApplicationClass"),!this.isMultiPlatformGame()&&this.metaData.variants&&this.setPlatformPrefernceForSinglePlatform(),this.mobileMode=!(null===(_e=null==k?void 0:k.featureEnablement)||void 0===_e||!_e.mobileMode),this.clientSupportKBMouseGames=null===(U=this.appConfig.client)||void 0===U?void 0:U.supportsKeyboardMouseGames,this.checkMobileDataUsage=null===(re=this.appConfig.client)||void 0===re?void 0:re.checkMobileDataUsage,this.prioritizeGamepadWarning=!(null===(pe=null==k?void 0:k.featureEnablement)||void 0===pe||!pe.prioritizeGamepadWarning)}static onIsInLibraryChanged(){return this.isInLibraryChangedSubject.asObservable()}parseDate(b){if(b){const f=new Date(b);return`${f.toLocaleString("default",{month:"short"})} ${f.getDate()}, ${f.getFullYear()}`}return""}get data(){return this.metaData}get id(){return this.metaData.id}get visibility(){return this.visible}set visibility(b){this.visible=b}get appStore(){var b;return null!==(b=this.metaData.selectedPlatformVariant)&&void 0!==b&&b.appStore?this.metaData.selectedPlatformVariant.appStore:this.metaData.appStore}get appStoreInfo(){return n.vAT.getStoreInfoForAppstore(this.appStore)}get releaseDate(){var b,f,D,I,w;const _=(null===(D=null===(f=null===(b=this.metaData)||void 0===b?void 0:b.selectedPlatformVariant)||void 0===f?void 0:f.gfn)||void 0===D?void 0:D.releaseDate)||(null===(w=null===(I=this.metaData)||void 0===I?void 0:I.computedValues)||void 0===w?void 0:w.earliestReleaseDate);return this.parseDate(_)}get streetDate(){var b,f,D,I;const w=(null===(f=null===(b=this.metaData)||void 0===b?void 0:b.selectedPlatformVariant)||void 0===f?void 0:f.streetDate)||(null===(I=null===(D=this.metaData)||void 0===D?void 0:D.computedValues)||void 0===I?void 0:I.earliestStreetDate);return this.parseDate(w)}get action(){return this.metaData.action}get body(){return this.metaData.body}get digitalStoresInfo(){return this.fetchMultiPlatformDigitalStores()}get combinedLabel(){return this.digitalStoresInfo.map(b=>{var f;return(null==b?void 0:b.label)!==n.rVM?null==b?void 0:b.label:null===(f=this.metaData)||void 0===f?void 0:f.publisherName}).filter(Boolean).join(", ")}get contentRatings(){return this.metaData.contentRatings}get developerName(){var b;return null!==(b=this.metaData.selectedPlatformVariant)&&void 0!==b&&b.developerName?this.metaData.selectedPlatformVariant.developerName:this.metaData.developerName}get displaysOwnRatingDuringGameplay(){var b;return null!==(b=this.metaData.selectedPlatformVariant)&&void 0!==b&&b.displaysOwnRatingDuringGameplay?this.metaData.selectedPlatformVariant.displaysOwnRatingDuringGameplay:this.metaData.displaysOwnRatingDuringGameplay}get genres(){var b,f,D;const I=[];return(0,s.isEmpty)(n.vAT.genreDefinitionsMap)?null!==(D=this.metaData)&&void 0!==D&&D.genres?this.metaData.genres:[]:(null===(f=null===(b=this.metaData)||void 0===b?void 0:b.genres)||void 0===f||f.forEach(w=>{n.vAT.genreDefinitionsMap.has(w)&&I.push(n.vAT.genreDefinitionsMap.get(w))}),I)}get images(){return this.metaData.images}get boxArtImage(){var b,f,D,I,w;return null!==(D=null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.images)||void 0===f?void 0:f.GAME_BOX_ART)&&void 0!==D?D:null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.GAME_BOX_ART}get tvBannerImage(){var b,f,D,I,w;return null!==(D=null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.images)||void 0===f?void 0:f.TV_BANNER)&&void 0!==D?D:null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.TV_BANNER}get heroImage(){var b,f,D,I,w;return null!==(D=null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.images)||void 0===f?void 0:f.HERO_IMAGE)&&void 0!==D?D:null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.HERO_IMAGE}get logoImage(){var b,f,D,I,w;return null!==(D=null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.images)||void 0===f?void 0:f.GAME_LOGO)&&void 0!==D?D:null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.GAME_LOGO}get marqueeHeroImage(){var b,f,D,I,w;return null!==(D=null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.images)||void 0===f?void 0:f.MARQUEE_HERO_IMAGE)&&void 0!==D?D:null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.MARQUEE_HERO_IMAGE}get keywords(){var b;return null!==(b=this.metaData.computedValues)&&void 0!==b&&b.allKeywords?this.metaData.computedValues.allKeywords:[]}get longDescription(){return this.metaData.longDescription}get maxOnlinePlayers(){return this.metaData.maxOnlinePlayers}get maxLocalPlayers(){return this.metaData.maxLocalPlayers}get marqueeScrimPrimaryRGB(){var b,f,D,I;return null!==(b=this._activeCampaignInfo)&&void 0!==b&&b.marqueeScrimPrimaryRGB&&!(0,s.isNil)(null===(D=null===(f=this._activeCampaignInfo)||void 0===f?void 0:f.marqueeScrimPrimaryRGB)||void 0===D?void 0:D.r)?null===(I=this._activeCampaignInfo)||void 0===I?void 0:I.marqueeScrimPrimaryRGB:this.metaData.marqueeScrimPrimaryRGB}get publisherName(){var b;return(null!==(b=this.metaData.selectedPlatformVariant)&&void 0!==b&&b.publisherName?this.metaData.selectedPlatformVariant.publisherName:this.metaData.publisherName)||""}get campaignIds(){var b,f,D;return null!==(D=null===(f=null===(b=this.metaData)||void 0===b?void 0:b.itemMetadata)||void 0===f?void 0:f.campaignIds)&&void 0!==D?D:[]}get activeCampaignInfo(){return this._activeCampaignInfo}get shortName(){var b;return null!==(b=this.metaData.selectedPlatformVariant)&&void 0!==b&&b.shortName?this.metaData.selectedPlatformVariant.shortName:this.metaData.id}get telemetryId(){var b,f;return null!==(f=null===(b=this.metaData.selectedPlatformVariant)||void 0===b?void 0:b.id)&&void 0!==f?f:this.metaData.id}get sortName(){return this.metaData.sortName}get supportedControls(){var b,f;return null!==(f=null===(b=this.metaData.selectedPlatformVariant)||void 0===b?void 0:b.supportedControls)&&void 0!==f?f:this.metaData.supportedControls}get shortDescription(){return this.metaData.shortDescription}get title(){return this.metaData.title}get itemType(){return l._B.GameItem}get type(){return this.metaData.type}get fencedStatus(){var b,f;return null!==(f=null===(b=this.metaData.selectedPlatformVariant)||void 0===b?void 0:b.gfn)&&void 0!==f&&f.status?this.metaData.selectedPlatformVariant.gfn.status:n.zu9.UNAVAILABLE}get variants(){return this.metaData.variants}getAppStoreVariant(b){return this.metaData.variants.find(f=>f.appStore===b)}get selectedPlatformVariant(){return this.metaData.selectedPlatformVariant}setSelectedPlatformVariant(b){this.metaData.selectedPlatformVariant=b}get isInLibrary(){return this.metaData.variants.some(b=>{var f;return null===(f=null==b?void 0:b.gfn)||void 0===f?void 0:f.isInLibrary})}get isInputControlsSupported(){return this.checkInputSupported()}get isNvidiaStoreGame(){return this.appConfig.client.nvidiaStores.some(b=>b===this.selectedPlatformVariant.appStore.toUpperCase())}updateFencedStatus(b,f){this.metaData.variants.map(D=>{D.id===b&&(D.gfn.status=f)}),this.metaDataUpdated.next(),this.logger.info(`Update patching info for id: ${this.metaData.id} cmsId:[${b}] as ${f}`)}updateCampaignData(b,f){this._activeCampaignInfo=f?b:null,this.campaignDataUpdated.next()}get promoTag(){var b,f;return(null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.promoText)||void 0===f?void 0:f.tag)||null}get promoSummary(){var b,f;return(null===(f=null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.promoText)||void 0===f?void 0:f.summary)||null}get activeCampaignId(){var b;return(null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.id)||null}get promoAction(){var b;return(null===(b=this._activeCampaignInfo)||void 0===b?void 0:b.action)||null}updateData(b){var f;const D=[];this.metaData.variants.forEach(I=>{D.push({id:I.id})}),b.variants.forEach(I=>{const w=D.findIndex(_=>_.id===I.id);-1!==w?D[w]=I:D.push(I)}),b.variants=D,!(null===(f=this.metaData)||void 0===f)&&f.itemMetadata&&(this.metaData.itemMetadata.campaignIds=[]),this.metaData=(0,s.merge)(this.metaData,b),!this.isMultiPlatformGame()&&this.metaData.variants&&this.setPlatformPrefernceForSinglePlatform(),this.metaDataUpdated.next()}launch(b,f){if(this.gameLaunch$)return this.logger.info(`Launch game already in progress, returning: ${this.metaData.title} [${this.metaData.id}]`),this.gameLaunch$;this.logger.info(`Launch game ${this.metaData.title} [${this.metaData.id}]`);let D=null,I=Date.now(),w=!1;const _=new x.xQ;return this.gameLaunch$=this.checkNetworkStatus().pipe((0,P.zg)($=>this.pwaGuardCheck()),(0,P.zg)($=>this.unsupportedBrowserCheck()),(0,P.zg)($=>this.checkAuthentication(b)),(0,a.b)($=>{w=w||$.dialogShown}),(0,P.zg)($=>this.entitlementCheck(f)),(0,P.zg)($=>(this.isLaunchFlow=!0,this.accountLinkingCheck())),(0,P.zg)($=>this.ownershipDialogCheck(f)),(0,P.zg)($=>(D=parseInt($.returnValue,10),w=w||$.dialogShown,this.checkFencedtatus())),(0,P.zg)($=>this.gameOwnershipDefaultVariant?this.checkAndOpenAccountLinkingDialog(this.appStore,D).pipe((0,P.zg)(G=>G.returnValue?(0,L.of)(G):(0,M._)("User canceled game launch because account not linked."))):(0,L.of)(this.getLaunchStepResult(!0,!1))),(0,P.zg)($=>(w=w||$.dialogShown,this.checkForRequiredInput())),(0,o.U)($=>(w=w||$.dialogShown,this.telemetryUtilService.sendClickEvent(n.lzt.LaunchGame,this.telemetryId,f,!0,this.activeCampaignId),this.gameShareUrlService.updateShareUrlInfo(this.metaData.id,this.metaData.images.TV_BANNER))),(0,P.zg)($=>(I=w?Date.now():I,this.launchVariantGame(D,I))),(0,a.b)($=>{_.next($)}),(0,v.K)($=>{var G,F;const J=`Error while launching ${null===(G=this.metaData)||void 0===G?void 0:G.title} cmsID: ${null===(F=this.metaData.selectedPlatformVariant)||void 0===F?void 0:F.id}`;return $.isIntentionalAbort?this.logger.info(J,$):this.logger.error(J,$),_.next(!1),(0,L.of)($)}),(0,y.q)(1),(0,C.x)(()=>{this.isLaunchFlow=!1,this.gameLaunch$=null,_.complete()}),(0,A.d)(1)),this.gameLaunch$.subscribe(),_.asObservable()}accountLinkingDialogRequired(){return this.getGameOwnershipABConfig().pipe((0,y.q)(1),(0,o.U)(b=>(this.gameOwnershipDefaultVariant=b.variant===l.TT.VariantA,!(this.isNvidiaStoreGame||this.gameOwnershipDefaultVariant))))}accountLinkingCheck(){return this.accountLinkingDialogRequired().pipe((0,P.zg)(b=>b?this.showAccountLinkingDialog():(0,L.of)(null)))}checkForShowingOwnershipDialog(b){return this.getGameOwnershipABConfig().pipe((0,y.q)(1),(0,o.U)(f=>(this.gameOwnershipDefaultVariant=f.variant===l.TT.VariantA,!(this.isNvidiaStoreGame||this.gameOwnershipDefaultVariant&&this.isMultiPlatformGame()||this.isInLibrary&&!b))))}ownershipDialogCheck(b,f=!1){return this.checkForShowingOwnershipDialog(f).pipe((0,P.zg)(D=>{if(D)return this.showOwnershipDialog(b);const I=this.isMultiPlatformGame()?this.metaData.selectedPlatformVariant.id:this.metaData.variants[0].id;return(0,L.of)(this.getLaunchStepResult(I,!1))}))}showAccountLinkingDialog(){const b=this.isMultiPlatformGame()?parseInt(this.metaData.selectedPlatformVariant.id,10):parseInt(this.metaData.variants[0].id,10);return this.checkAndOpenAccountLinkingDialog(this.appStore,b,!1).pipe((0,P.zg)(f=>f.returnValue?(0,L.of)(f):(0,M._)("User proceeded to link store or the connection is required")))}checkAndOpenAccountLinkingDialog(b,f,D=!1){return this.ownershipSyncService.getAccountLinkingStateForGame(b,f).pipe((0,P.zg)(I=>I.isEnabled?this.ownershipSyncService.openAccountLinkingDialog(b,I.isRequired,D,this.isLaunchFlow?n.jHt.PlayLater:n.jHt.Cancel):(0,L.of)({returnValue:!0,dialogShown:!1})))}checkFencedtatus(){return this.fencedStatus===n.zu9.SERVER_MAINTENANCE||this.fencedStatus===n.zu9.PATCHING?(this.dialogService.openFencedStatusErrorDialog(this.fencedStatus),(0,M._)(`Game is under ${this.fencedStatus}`)):(0,L.of)(!0)}returnTrueWithoutDialog(){return(0,L.of)(this.getLaunchStepResult(!0,!1))}showGamepadWarning(){return this.dialogService.openGamepadRequiredDialog().pipe((0,P.zg)(b=>b?(0,L.of)(this.getLaunchStepResult(!0,!0)):(0,M._)({errorString:"User canceled the launch from requires a gamepad dialog.",isIntentionalAbort:!0})))}showKeyboardMouseWarning(){return this.dialogService.openKeyboardMouseRequiredDialog().pipe((0,P.zg)(b=>b?(0,L.of)(this.getLaunchStepResult(!0,!0)):(0,M._)({errorString:"User canceled the launch from a keyboard/mouse required dialog.",isIntentionalAbort:!0})))}isKeyboardMouseConnected(){return t.ng.isAndroidPlatform()?this.bridgeService.executeCommand(O.Gh.Common.Connectionstate.KeyboardAndMouseConnected):(0,L.of)(!0)}checkForRequiredInput(){var b,f;if(this.launchMode===n.xld.TouchFriendly)return this.returnTrueWithoutDialog();const D=this.clientSupportKBMouseGames&&(null===(b=this.supportedControls)||void 0===b?void 0:b.some($=>T.includes($))),I=null===(f=this.supportedControls)||void 0===f?void 0:f.some($=>Y.includes($)),w=D?this.isKeyboardMouseConnected():(0,L.of)(!1),_=I?this.gamepadService.isGamepadConnected$:(0,L.of)(!1);return(0,p.aj)([w,_]).pipe((0,d.w)(([$,G])=>{let F=this.returnTrueWithoutDialog();return D&&I?!$&&!G&&(F=this.prioritizeGamepadWarning?this.showGamepadWarning():this.showKeyboardMouseWarning()):D&&!$?F=this.showKeyboardMouseWarning():I&&!G&&(F=this.showGamepadWarning()),F}))}get launchMode(){var b;return this.mobileMode&&null!==(b=this.supportedControls)&&void 0!==b&&b.includes(n.BwP.TOUCHSCREEN)?n.xld.TouchFriendly:n.xld.Default}launchVariantGame(b,f){return this.launchService.setGameLaunchData(f,this.shortName),this.fetchMissingFields().pipe((0,y.q)(1)).subscribe(()=>{this.lcarsService.setMetadataForCmsId(b,this.metaData)}),this.lcarsService.setMetadataForCmsId(b,this.metaData),this.ownershipSyncService.isAccountLinkEnabledForGame(this.appStore,b).pipe((0,P.zg)(D=>{var I,w;return this.launchService.launchStreamer(b,this.shortName,this.launchMode,f,D,void 0,void 0,void 0,void 0,this.metaData.title,null===(w=null===(I=this.metaData)||void 0===I?void 0:I.images)||void 0===w?void 0:w.HERO_IMAGE)}),(0,o.U)(D=>(this.logger.info("Launched status - ",D),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.LaunchGame,D?n.N3X.Success:n.N3X.Failure,f),D)),(0,v.K)(D=>(this.logger.error("Launch failed:",D),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.LaunchGame,n.N3X.Failure,f,D),(0,M._)(D))))}setPlatformPrefernceForSinglePlatform(){this.metaData.selectedPlatformVariant=this.metaData.variants[0]}getStoresLabel(b){const f=b.appStoreInfo.label;return f===n.rVM?b.publisherName:f}addToLibrary(b,f){if(this.addToLibrary$)return this.logger.info(`Add game to library for ${this.metaData.title}  [${this.metaData.id}], already in progress, returning`),this.addToLibrary$;this.logger.info(`Add game to library for ${this.metaData.title}  [${this.metaData.id}]`);const D=Date.now();let I=null;const w=new x.xQ;return this.addToLibrary$=this.checkNetworkStatus().pipe((0,P.zg)(_=>this.checkAuthentication(b)),(0,P.zg)(_=>this.accountLinkingCheck()),(0,P.zg)(_=>this.ownershipDialogCheck(f)),(0,P.zg)(_=>(I=_.returnValue,this.addVariantToLibrary(I,D))),(0,a.b)(_=>{this.fetchMissingFields().subscribe(),this.updateLibraryStatus(I,!0),this.telemetryUtilService.sendClickEvent(n.lzt.AddGameToLibrary,this.telemetryId,f,!0,this.activeCampaignId),B.isInLibraryChangedSubject.next(this),w.next(!0)}),(0,v.K)(_=>{var $;return this.logger.error(`Error while adding game to library for ${this.metaData.title} cmsID: ${null===($=this.metaData.selectedPlatformVariant)||void 0===$?void 0:$.id}`,_),w.next(!1),(0,L.of)(_)}),(0,y.q)(1),(0,C.x)(()=>{this.addToLibrary$=null,w.complete()}),(0,A.d)(1)),this.addToLibrary$.subscribe(),w.asObservable()}removeFromLibrary(b,f){if(this.removefromLibrary$)return this.logger.info(`Remove desktop shortcut already in progress for ${this.metaData.title} [${this.metaData.id}], returning`),this.removefromLibrary$;this.logger.info(`Remove game from library for ${this.metaData.title} [${this.metaData.id}]`);const D=Date.now();this.telemetryUtilService.sendClickEvent(n.lzt.UninstallGame,this.telemetryId,f,!0,this.activeCampaignId);const I=new x.xQ;return this.removefromLibrary$=this.checkNetworkStatus().pipe((0,P.zg)(w=>this.removeMultipleGames(D)),(0,P.zg)(w=>(B.isInLibraryChangedSubject.next(this),this.removePlatformPreference(b))),(0,a.b)(w=>{I.next(!0)}),(0,v.K)(w=>{var _;return this.logger.error(`Error while removing game from library for ${this.metaData.title} cmsID: ${null===(_=this.metaData.selectedPlatformVariant)||void 0===_?void 0:_.id}`,w),I.next(!1),(0,L.of)(w)}),(0,y.q)(1),(0,C.x)(()=>{this.removefromLibrary$=null,I.complete()}),(0,A.d)(1)),this.removefromLibrary$.subscribe(),I.asObservable()}addDesktopShortCut(b,f,D){var I,w;if(this.addDesktopShortcut$)return this.logger.info(`Add desktop shortcut already in progress for for parentGameId:${this.metaData.id}, cmsId: ${null===(I=this.metaData.selectedPlatformVariant)||void 0===I?void 0:I.id}, returning`),this.addDesktopShortcut$;this.logger.info(`Adding Desktop Shortcut for parentGameId:${this.metaData.id}, cmsId: ${null===(w=this.metaData.selectedPlatformVariant)||void 0===w?void 0:w.id}`);const _=new x.xQ;return this.addDesktopShortcut$=this.checkAuthentication(b).pipe((0,P.zg)($=>{const G={cmsId:this.metaData.selectedPlatformVariant.id,parentGameId:this.isMultiPlatformGame()?this.metaData.id:"",title:this.metaData.title,shortName:this.shortName,keyArtUrl:this.metaData.images.KEY_ART,appStore:this.appStore};return this.launchService.addDesktopShortcut(G,f,D)}),(0,o.U)($=>$.installed),(0,a.b)($=>{_.next(!0)}),(0,v.K)($=>(this.logger.error("error while adding desktop shortcut platform",$),_.next(!1),(0,L.of)($))),(0,y.q)(1),(0,C.x)(()=>{this.addDesktopShortcut$=null,_.complete()}),(0,A.d)(1)),this.addDesktopShortcut$.subscribe(),_.asObservable()}isMultiPlatformGame(){var b;return(null===(b=this.metaData.variants)||void 0===b?void 0:b.length)>1}onPlatformPreferenceSynced(b){this.isMultiPlatformGame()&&(this.metaData.selectedPlatformVariant=this.metaData.variants.find(f=>f.id===b)),this.metaDataUpdated.next()}fetchMultiPlatformDigitalStores(){return[...this.metaData.variants.map(b=>b.appStoreInfo)]}fetchMultiPlatformCMSIds(){return[...this.metaData.variants.map(b=>b.id)]}updateLibraryStatus(b,f){var D,I,w;const _=this.metaData.variants.findIndex($=>$.id===b);this.metaData.variants[_].gfn.isInLibrary=f,f&&null!==(w=null===(I=null===(D=this.appConfig.lcars)||void 0===D?void 0:D.panelFetch)||void 0===I?void 0:I.library)&&void 0!==w&&w.timeAddedToLibrary&&(this.metaData.variants[_].gfn.timeAddedToLibrary=(new Date).toLocaleString())}resetLibraryStatus(){var b;null===(b=this.metaData.variants)||void 0===b||b.forEach(f=>{f.gfn.isInLibrary=!1}),this.metaDataUpdated.next()}hasFullMetaData(){return this.metaData.hasOwnProperty("developerName")}fetchMissingFields(){return this.hasFullMetaData()?(0,L.of)(!1):this.lcarsService.getAppdata(this.metaData.id).pipe((0,P.zg)(b=>(this.updateData(b[0]),(0,L.of)(!0))),(0,v.K)(b=>(this.logger.error(`Error encountered while fetching app data : ${b}`),(0,L.of)(!1))))}checkNetworkStatus(){return this.networkStatusService.isOnline?this.checkMobileDataUsage?this.systemInfoService.getNetworkInformation().pipe((0,d.w)(b=>(null==b?void 0:b.NetworkType)===t.VV.Mobile?this.settingsService.getSettingsData().pipe((0,P.zg)(f=>f.playWithMobileNetwork?(0,L.of)(!0):this.dialogService.openMobileDataWarningDialog()),(0,P.zg)(f=>f?(this.settingsService.setPlayWithMobileNetworkEnabled(!0),(0,L.of)(!0)):(0,M._)("User canceled game launch."))):(this.logger.info("User is Online"),(0,L.of)(!0)))):(this.logger.info("User is Online"),(0,L.of)(!0)):(this.dialogService.openConnectionErrorDialog(),(0,M._)("User is offline"))}pwaGuardCheck(){return t.ng.isNativeLikePlatform()?this.returnTrueWithoutDialog():this.unsupportedBrowserService.shouldDisplayPWAGuidance$.pipe((0,y.q)(1),(0,P.zg)(b=>b?(this.pathService.navigate([n.fFR.PwaWall],{skipLocationChange:!1}),(0,M._)("Gameplay is only allowed within PWA mode in this browser")):this.returnTrueWithoutDialog()))}unsupportedBrowserCheck(){return t.ng.isNativeLikePlatform()?this.returnTrueWithoutDialog():this.idmService.accountStatusChanged.pipe((0,y.q)(1),(0,P.zg)(b=>b.isAuthenticated?(0,L.of)({unsupportedState:n.DI4.None}):this.unsupportedBrowserService.unsupportedBrowserState$),(0,P.zg)(b=>b.unsupportedState!==n.DI4.None?(this.dialogService.openUnsupportedBrowserDialog(b),(0,M._)("Gameplay is not allowed on unsupported system")):this.returnTrueWithoutDialog()))}checkAuthentication(b){return this.idmService.accountStatusChanged.pipe((0,y.q)(1),(0,P.zg)(f=>f.isAuthenticated?(this.logger.info("User is LoggedIn"),this.returnTrueWithoutDialog()):this.gfnSdkService.getAuthType().pipe((0,P.zg)(D=>{if(D===i.Gr.JWT)return this.logger.info("Skipping login dialog because this is an sdk session with provided credentials, but an anonymous user"),(0,L.of)(this.getLaunchStepResult(!0,!0));this.logger.info("User not logged in, opening alert dialog");const I=this.telemetryUtilService.getJoinTodayAlertDialogHierarchy(b,this.id);return this.dialogService.openJoinTodayAlertDialog(b,I).pipe((0,P.zg)(w=>w===n.V__.Login?this.idmLoginService.login(n.CGJ.ScreenAccountMenu).pipe((0,P.zg)(_=>_?(this.logger.info("Login successful"),(0,L.of)(this.getLaunchStepResult(_,!0))):(0,M._)("Login was not successful."))):(0,M._)("Login cancelled")))}))))}getLaunchStepResult(b,f){return{returnValue:b,dialogShown:f}}entitlementCheck(b){return this.ecomService.getUserMembership().pipe((0,m.h)(f=>f.membershipStatus!==n.Tn6.LoggedOut&&f.membershipStatus!==n.Tn6.UnKnown),(0,y.q)(1),(0,P.zg)(f=>f.eComFeatureEnabled&&f.membershipStatus===n.Tn6.UnEntitled?(this.ecomService.openJoinNowDialog(b),(0,M._)("User is not entitled")):(this.logger.info("User is entitled"),(0,L.of)(!0))))}addVariantToLibrary(b,f){return this.nesLayoutService.addGameToLibrary(b).pipe((0,P.zg)(D=>(this.logger.info(`Successfully added ${this.shortName}[${b}]`),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.AddGameToLibrary,n.N3X.Success,f),(0,L.of)(!0))),(0,v.K)(D=>(this.telemetryUtilService.sendUserSessionEvent(n.Vwu.AddGameToLibrary,n.N3X.Failure,f,D),(0,M._)(`Error encountered while adding ${this.shortName}[${b}] - ${D}`))))}removeMultipleGames(b){const f=this.metaData.variants.filter(I=>I.gfn.isInLibrary),D=[];return f.forEach(I=>{D.push(this.removeVariantFromLibrary(I.id,b).pipe((0,o.U)(w=>(this.updateLibraryStatus(I.id,!1),!0))))}),(0,p.aj)(D)}removeVariantFromLibrary(b,f){return this.nesLayoutService.removeGame(b).pipe((0,P.zg)(D=>(this.logger.info(`Successfully uninstalled ${this.shortName}[${b}]`),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.UninstallGame,n.N3X.Success,f),(0,L.of)(!0))),(0,v.K)(D=>(this.logger.error(`Error encountered while removing ${this.shortName}[${b}]`,D),this.telemetryUtilService.sendUserSessionEvent(n.Vwu.UninstallGame,n.N3X.Failure,f,D),(0,M._)(`Error while removing ${this.shortName}[${b}]`))))}showOwnershipDialog(b){return this.gameOwnershipDefaultVariant?this.dialogService.checkGameOwnershipDialog(this.appStoreInfo,this.isInLibrary,b).pipe((0,y.q)(1),(0,P.zg)(f=>f?(this.logger.info("Game ownership dialog closed (if open)"),(0,L.of)(this.getLaunchStepResult(this.selectedPlatformVariant.id,!0))):(0,M._)("Game ownership dialog dismissed"))):this.dialogService.showGameOwnershipABPrompt(this.appStoreInfo,this.selectedPlatformVariant.storeUrl).pipe((0,y.q)(1),(0,P.zg)(D=>D?(this.logger.info("Game ownership dialog variant closed (if open)"),(0,L.of)(this.getLaunchStepResult(this.selectedPlatformVariant.id,!0))):(0,M._)("Game ownership dialog variant dismissed")))}getGameOwnershipABConfig(){return this.cloudVarHelperService.getFeatureToggle(n._P4.GAME_OWNERSHIP_AB).pipe((0,y.q)(1))}checkABDialogFlow(b){return this.accountLinkingCheck().pipe((0,P.zg)(f=>this.ownershipDialogCheck(b,!0)))}addPlatformPreference(b,f=!1){if(this.addPlatformPreference$)return this.logger.info(`Add Platform Preference already in progress for: ${b}, returning`),this.addPlatformPreference$;this.logger.info("Add Platform Preference:",b),this.metaData.selectedPlatformVariant=this.metaData.variants.find(I=>I.id===b);const D=new x.xQ;return this.addPlatformPreference$=this.platformPreferenceService.addGamePlatformPreference(this.metaData.id,b,this.fetchMultiPlatformCMSIds()).pipe((0,P.zg)(I=>{var w,_;return!this.isInLibrary||null!==(_=null===(w=this.metaData.selectedPlatformVariant)||void 0===w?void 0:w.gfn)&&void 0!==_&&_.isInLibrary?(0,L.of)(!0):this.nesLayoutService.addGameToLibrary(b)}),(0,S.h)(!0),(0,a.b)(I=>{D.next(!0)}),(0,v.K)(I=>(this.logger.error("Error saving the game variant preference."+I),D.next(!1),(0,L.of)(I))),(0,y.q)(1),(0,C.x)(()=>{this.addPlatformPreference$=null,D.complete()}),(0,A.d)(1)),this.addPlatformPreference$.subscribe(),D.asObservable()}removePlatformPreference(b){if(this.removePlatformPreference$)return this.removePlatformPreference$;if(this.isMultiPlatformGame()){const f=new x.xQ;return this.removePlatformPreference$=this.checkAuthentication(b).pipe((0,P.zg)(D=>(this.metaData.selectedPlatformVariant=null,this.platformPreferenceService.removeGamePlatformPreference(this.metaData.id,this.fetchMultiPlatformCMSIds()))),(0,a.b)(D=>{f.next(!0)}),(0,P.zg)(D=>(0,L.of)(!0)),(0,v.K)(D=>(this.logger.info("Error updating the game variant preference",D),f.next(!1),(0,L.of)(D))),(0,y.q)(1),(0,C.x)(()=>{this.removePlatformPreference$=null,f.complete()}),(0,A.d)(1)),this.removePlatformPreference$.subscribe(),f.asObservable()}return(0,L.of)(!0)}checkInputSupported(){var b,f;return!!this.clientSupportKBMouseGames||null!==(f=null===(b=this.supportedControls)||void 0===b?void 0:b.some(D=>!T.includes(D)))&&void 0!==f&&f}fetchCurrentRating(){return this.contentRatings?this.ratingService.getCurrentRating(this.contentRatings.type,this.contentRatings.categoryKey).pipe((0,a.b)(b=>{this.ratingSystemName=b.ratingSystem,this.ratingCategoryTitle=b.rating.label})):(0,L.of)(null)}}B.isInLibraryChangedSubject=new x.xQ},54062:(Ge,ae,e)=>{"use strict";e.d(ae,{R:()=>m});var t=e(64710),n=e(97483),x=e(85704),M=e(56247),L=e(89258),p=e(51325),P=e(2629),a=e(74266),o=e(23815),v=e(49989),y=e(21361),C=e(39609),A=e(39536),d=e(22804);let m=(()=>{class S{constructor(r,l,i,O,Y,T){this.telemetryUtilService=l,this.dialog=i,this.oobeService=O,this.bridgeService=Y,this.focusManager=T,this.imageLoadDuration=0,this.imageCount=0,this.imageTransferSize=0,this.usedJsHeapSize=0,this.resourceComputationDone=!1,this.imgTimingMap=new Map,this.logger=r.getLogger("LayoutUiService"),this.isPerfTelemetryInitiatedOnce=!1,this.isLayoutLoadAbandoned=!1,this.durations=new Map,x.B2.forEach(B=>{this.durations.set(B.name,0)}),this.durations.set(n.yxz.CEFLoad,-1)}fetchCEFStartupTime(){return this.bridgeService.executeCommand(y.Gh.Common.Applicationinfo.GetApplicationTimeInfo,{type:y.Yk.Common.Applicationinfo.ApplicationTimeType.Launch}).pipe((0,L.U)(r=>{const l=window.jsInitStartTs-r.startTime;return this.durations.set(n.yxz.CEFLoad,l),!0}),(0,p.K)(r=>(0,o.of)(!1)))}onLayoutDataFetchStart(){this.isPerfTelemetryInitiatedOnce||performance.mark(n.Y6V.LayoutDataFetchStart)}onLayoutDataFetchEnd(){this.isPerfTelemetryInitiatedOnce||(performance.mark(n.Y6V.LayoutDataFetchEnd),performance.mark(n.Y6V.LayoutSpinnerEnd))}onLayoutComponentDataRenderingStart(){this.isPerfTelemetryInitiatedOnce||performance.mark(n.Y6V.LayoutDataRenderStart)}computeDurationsForStages(){x.B2.forEach(l=>{try{const i=performance.measure(l.name,l.start,l.end);this.durations.set(l.name,i.duration)}catch{this.durations.set(l.name,-1)}});let r="Stage wise durations:\n";this.durations.forEach((l,i)=>{r+=`${i}: ${l}\n`}),this.logger.info(r)}onLayoutComponentDataRenderingEnd(){this.isPerfTelemetryInitiatedOnce||(performance.mark(n.Y6V.LayoutDataRenderEnd),(0,v.s)(t.ng.isCefPlatform,this.fetchCEFStartupTime(),(0,o.of)(!1)).pipe((0,P.q)(1)).subscribe(r=>{this.computeDurationsForStages(),this.computeResourceLoadMetrics(),this.isPerfTelemetryInitiatedOnce=!0}))}onLayoutComponentInit(){this.isPerfTelemetryInitiatedOnce||performance.mark(n.Y6V.LayoutSpinnerStart)}onLayoutLoadAbandoned(){this.isLayoutLoadAbandoned=!0}computeResourceLoadMetrics(){this.observer=new PerformanceObserver(r=>this.perfResourceElementObserverCallback(r)),this.observer.observe({entryTypes:[t.xv.Element,t.xv.Resource]}),setTimeout(()=>{this.observer&&this.observer.disconnect(),this.usedJsHeapSize=this.getUsedJsHeapSize(),this.resourceComputationDone=!0,this.imgTimingMap.clear(),this.sendLayoutPerformanceTelemetry()},x.s9)}perfResourceElementObserverCallback(r){try{r.getEntries().forEach(l=>{if(l instanceof PerformanceResourceTiming&&l.initiatorType===t.IW.Image&&this.isResourceConsidered(l.name)){const i=this.imgTimingMap.get(l.name);if(i&&l.connectStart){const O=i-l.connectStart;O<0&&this.logger.error(`Negative duration for entry ${JSON.stringify(l.toJSON())}, with loadTime ${i}`),this.imageLoadDuration+=O,this.imgTimingMap.delete(l.name),this.imageCount++}else this.imgTimingMap.set(l.name,l.connectStart);l.transferSize&&(this.imageTransferSize+=l.transferSize)}else if(l.entryType===t.xv.Element){const i=this.imgTimingMap.get(l.url);if(l.loadTime&&i){const O=l.loadTime-i;O<0&&this.logger.error(`Negative duration for entry ${JSON.stringify(l.toJSON())}, with startime ${i}`),this.imageLoadDuration+=O,this.imgTimingMap.delete(l.url),this.imageCount++}else this.imgTimingMap.set(l.url,l.loadTime)}})}catch(l){this.logger.error("Error occured in perfResourceElementObserverCallback ",l),this.observer.disconnect(),this.observer=null,this.imageCount=-1,this.imageLoadDuration=-1,this.imageTransferSize=-1}}isResourceConsidered(r){return x.Lc.some(l=>r.includes(l))}getUsedJsHeapSize(){var r,l;return null!==(l=null===(r=null==performance?void 0:performance.memory)||void 0===r?void 0:r.usedJSHeapSize)&&void 0!==l?l:-1}sendLayoutPerformanceTelemetry(){const r=window.geForceNowStartLocationHash;this.isLayoutLoadAbandoned||null!=r&&r.length&&!r.includes(n.fFR.DefaultRedirect)||!this.resourceComputationDone?this.logger.warn(`Abort sendLayoutPerformanceTelemetry, isLayoutLoadAbandoned: ${this.isLayoutLoadAbandoned}, startHash: ${r}`):(this.telemetryUtilService.sendPageLoadPerfEvent(n.PyH.Layout_L0,{viewDataLoadDuration:this.durations.get(n.yxz.LayoutDataLoad),sectionNames:[n.yxz.CEFLoad,n.yxz.JSModuleLoad,n.yxz.LayoutSpinner,n.yxz.LayoutDataRendering,n.yxz.CompleteLayout],sectionDataLoadDurations:[0,0,0,0,0],sectionTotalLoadDurations:[this.durations.get(n.yxz.CEFLoad),this.durations.get(n.yxz.JSModuleLoad),this.durations.get(n.yxz.LayoutSpinner),this.durations.get(n.yxz.LayoutDataRendering),this.durations.get(n.yxz.CompleteLayout)],imageLoadDuration:this.imageLoadDuration,imageCount:this.imageCount,imageTransferSize:this.imageTransferSize,usedJsHeapSize:this.usedJsHeapSize}),this.telemetryUtilService.sendNavigationPerfEvent())}openGameDetailsDialog(r){return this.oobeService.oobeDialogClosedState.pipe((0,a.h)(l=>l),(0,L.U)(()=>this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(M.F,{panelClass:"dialog-component-container",maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:r}))),(0,P.q)(1))}}return S.\u0275fac=function(r){return new(r||S)(C.LFG(t.ed),C.LFG(n.wU6),C.LFG(A.on),C.LFG(n.HKp),C.LFG(t.dF),C.LFG(d.IK))},S.\u0275prov=C.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},29235:(Ge,ae,e)=>{"use strict";e.d(ae,{P:()=>q});var t=e(85566),n=e(59562),x=e(96671),M=e(18406),L=e(41221),p=e(50608),P=e(47504),a=e(23815),o=e(27344),v=e(42930),y=e(53809),C=e(42520),A=e(18388),d=e(48929),m=e(54930),S=e(89258),s=e(74266),r=e(58765),l=e(2502),i=e(71265),O=e(2629),Y=e(56232),T=e(33932),B=e(99636),K=e(4042),b=e(13800),f=e(94751),D=e(51325),I=e(64710),w=e(97483),_=e(6777),$=e(80155),G=e(51825),F=e(85704),Z=e(69060);class ue{constructor(_e,U){this.filterItem=_e,this.loggingService=U,this.visible=!0,this.logger=this.loggingService.getLogger("FilterTile")}get filterIds(){return this.filterItem.filterIds}get itemType(){return F._B.FilterItem}get boxArtImage(){return this.filterItem.image}get id(){return this.filterItem.id}get visibility(){return this.visible}set visibility(_e){this.visible=_e}get title(){return this.filterItem.title}updateData(_e){this.filterItem=_e}}var u=e(39609),k=e(9357),W=e(97782),N=e(715),H=e(91565),h=e(66195),E=e(11688),ee=e(54062);let q=(()=>{class ne{constructor(U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve,be,xe,ke,Ce,ge,De,ye,Oe,ie,qe,lt,Et,kt,an,dn,xn,un,Nt){var bn,pn;this.idmService=U,this.gridService=re,this.nesLayoutService=pe,this.localeService=Pe,this.networkStatusService=Te,this.telemetryService=me,this.loggingService=et,this.dialogService=Xe,this.idmLoginService=Ze,this.launchService=nt,this.telemetryUtilService=Me,this.ecomService=ze,this.translateService=le,this.ownershipSyncService=Le,this.appConfig=Re,this.lcarsService=Q,this.platformPreferenceService=ve,this.sharedStorage=be,this.gameShareUrlService=xe,this.errorHandler=ke,this.gfnSdkService=Ce,this.distributedTracingUtilService=ge,this.unsupportedBrowserService=De,this.refreshUiService=ye,this.browseUxService=Oe,this.pathService=ie,this.settingsService=qe,this.systemInfoService=lt,this.bridgeService=Et,this.gamepadService=kt,this.injector=an,this.campaignHelperService=dn,this.cloudVarHelperService=xn,this.layoutUIService=un,this.ratingService=Nt,this.accountChangeVpcIdChangeSub=new n.t(1),this.requestAppsRefresh$=new x.xQ,this.libraryRefreshReceived=new x.xQ,this.libraryRefreshReceived$=this.libraryRefreshReceived.asObservable(),this.currentProcessedLayoutData=null,this.getPanelError=null,this.isMarqueeDisabled=!1,this._phoneMarqueeEnabled=!1,this.triggerLayoutInteraction={name:w.Bbu.InitialFetch},this.localMyLibraryChangedSubject=new x.xQ,this.enforceGameTileRestore=new x.xQ,this.removeGameChangedSubject=new x.xQ,this.appsListMap=new Map,this.marketingTilesMap=new Map,this.shouldBypassSwCache=!1,this.panelList=[w.whE.Marquee,w.whE.Library,w.whE.Main],this.updatePlatformPreference=new M.X(!0),this.updatePlatformPreference$=this.updatePlatformPreference.asObservable(),this.reapplyExistingLibraryFilter=new x.xQ,this.reapplyExistingLibraryFilter$=this.reapplyExistingLibraryFilter.asObservable(),this.selectedGameSectionEvidencePanelChange$=new x.xQ,this.selectedGameGridEvidencePanelChange$=new x.xQ,this.logger=et.getLogger("LayoutService"),this.showLayoutLoading$=new n.t(1),this.appsFetchInProgress$=new n.t(1),this.silentLayoutRefresh$=new x.xQ,this.layoutState=F.$s.Loading,this.enableSeeMoreTile=this.appConfig.featureEnablement.seeMoreTile,this.isMarqueeDisabled=null===(pn=null===(bn=this.appConfig)||void 0===bn?void 0:bn.featureEnablement)||void 0===pn?void 0:pn.marqueeDisabled,this.layoutEventStreams=new $.Gb(()=>this.fetchLayout(),!0,!0,!1),this.removeGameChangedSubject.next(null),this.initializeAccountChangeVpcIdChangeObservable(),this.triggerAccountStatusVpcIdChange$={createObservable:()=>this.accountChangeVpcIdChangeSub.asObservable(),name:w.Bbu.LoginStatusChange},this.idmService.accountStatusChanged.subscribe(Mn=>{this.isUserAuthenticated=Mn.isAuthenticated,this.layoutState=F.$s.Loading,this.showLayoutLoading$.next(!0)}),this.gridService.vpcId$.subscribe(Mn=>{this.vpcId=Mn},Mn=>{this.logger.error("Cannot fetch vpcId",Mn)}),this.triggerUserSKUChange$={createObservable:()=>this.ecomService.getUserMembership().pipe((0,m.G)(),(0,S.U)(([Mn,ht])=>{var xt,Fe;const ut=null===(xt=null==Mn?void 0:Mn.product)||void 0===xt?void 0:xt.id,gt=null===(Fe=null==ht?void 0:ht.product)||void 0===Fe?void 0:Fe.id;return void 0!==ut&&void 0!==gt&&ut!==gt}),(0,s.h)(Mn=>Mn),(0,r.O)(!0)),name:w.Bbu.UserSKUChanged},this.triggerLocale$={createObservable:()=>this.localeService.localeChanged,name:w.Bbu.LocaleChange},this.triggerLayoutRefreshOnDataExpiry$={createObservable:()=>this.refreshUiService.layoutRefresh$.pipe((0,l.g)(5e3),(0,i.b)(Mn=>this.logger.info(`LayoutRefreshOnDataExpiry, refreshing layout on ${null==Mn?void 0:Mn.source}`)),(0,r.O)(!1)),name:w.Bbu.RefreshOnDataExpiry},this.triggerLayoutRefreshOnCampaignChange$={createObservable:()=>this.campaignHelperService.refetchGameCampaignIds$.pipe((0,i.b)(Mn=>this.logger.info("LayoutRefreshOnCampaignChange")),(0,r.O)(!1)),name:w.Bbu.RefreshOnCampaignChange},this.initPushNotifications(),this.initLibraryChangedNotification(),this.initPhoneMarqueeEnablement(),this.setShouldBypassSwCache(),this.initPlatformPreference(),this.startSilentLayoutRefreshListener(),this.initLayoutDataUpdatedListener(),this.listenStreamingTerminatedEvent(),this.listenLibraryRefreshNotification(),this.listenPanelRefreshNotification(),this.listenAssetChangePushNotification(),this.listenKVStoreRefreshNotification(),this.listenOwnershipChangeNotification(),this.removeCampaignUIForGame(),this.updateCampaignUI()}get onLocalMyLibraryChanged(){return this.localMyLibraryChangedSubject.asObservable()}get enforceGameTileRestore$(){return this.enforceGameTileRestore}get onRemoveGameChanged(){return this.removeGameChangedSubject.asObservable()}get onShowLayoutLoading(){return this.showLayoutLoading$.asObservable()}get onAppsFetchComplete(){return this.appsFetchInProgress$.pipe((0,s.h)(U=>!1===U))}get onAppsRefreshRequested(){return this.requestAppsRefresh$.asObservable()}get isPhoneMarqueeEnabled(){return this._phoneMarqueeEnabled}notifyGameSectionEvidencePanelChange(U,re,pe){this.selectedGameSectionEvidencePanelChange$.next([U,re,pe])}notifyGameGridEvidencePanelChange(U,re,pe){this.selectedGameGridEvidencePanelChange$.next([U,re,pe])}updateAppFetchStatus(U){this.appsFetchInProgress$.next(U)}initialize(){this.layoutUIService.onLayoutDataFetchStart(),this.getLayout().pipe((0,O.q)(1)).subscribe(L.Z,L.Z)}initializeAccountChangeVpcIdChangeObservable(){this.idmService.accountStatusChanged.pipe((0,Y.f)(this.gridService.vpcId$.pipe((0,i.b)(U=>{this.vpcId=U}))),(0,i.b)(U=>{this.logger.info("accountChangeVpcIdChange tap after buffer and before filter with users.lenght of ",U.length)}),(0,s.h)(U=>0!==U.length),(0,i.b)(U=>{this.logger.info("emitting accountChangeVpcIdChange"),this.accountChangeVpcIdChangeSub.next({vpcId:this.vpcId,isUserAuthenticated:this.isUserAuthenticated})})).subscribe(L.Z,L.Z)}listenOwnershipChangeNotification(){this.ownershipSyncService.onLibraryUpdated().pipe((0,T.zg)(U=>{var re,pe,Pe;if(!this.isUserAuthenticated)return p.C;const Te=null===(pe=null===(re=this.currentProcessedLayoutData)||void 0===re?void 0:re.data)||void 0===pe?void 0:pe.findIndex(et=>et.name===w.whE.Library);let me=null;return-1!==Te&&(me=null===(Pe=this.currentProcessedLayoutData)||void 0===Pe?void 0:Pe.data[Te]),(0,P.aj)([(0,a.of)(me),this.fetchPanelAndUpdateLayoutStream(w.whE.Library,w.$3D.LibraryRefresh)]).pipe((0,O.q)(1))})).subscribe(([U,re])=>{this.handleLibraryUpdates(U,re)},L.Z)}startSilentLayoutRefreshListener(){this.silentLayoutRefresh$.pipe((0,B.p)(F.tP),(0,T.zg)(re=>(0,o.S3)((0,v.H)(5e3).pipe((0,O.q)(1),(0,K.h)({options:re,doSilentRefresh:!0})),this.libraryRefreshReceived$.pipe((0,O.q)(1),(0,K.h)({options:re,doSilentRefresh:!1})))),(0,T.zg)(re=>{if(null!=re&&re.doSilentRefresh){this.logger.info("No Library Refresh notification after add/remove library operation - waitTime was: ",5e3);const pe=this.distributedTracingUtilService.startSpan(Z.j1.ClientGetPanel);return re.options.currentSpan=pe,re.options.triggerName=w.$3D.SilentRefresh,this.getPanelData(re.options,w.whE.Library).pipe((0,i.b)(Pe=>{this.updateLayoutStream(Pe)}),(0,K.h)(!0))}return this.logger.info("Library Refresh notification received after add/remove library operation"),(0,a.of)(!1)})).subscribe(re=>{this.logger.info(`Silent layout refresh ${re} ? completed : ignored`)})}fetchPanelAndUpdateLayoutStream(U,re){const pe={},Pe=this.distributedTracingUtilService.startSpan(Z.j1.ClientGetPanel);return pe.currentSpan=Pe,pe.triggerName=re,this.getPanelData(pe,U).pipe((0,i.b)(Te=>{this.updateLayoutStream(Te)}))}listenLibraryRefreshEvent(U){U.pipe((0,b.w)(()=>{var re,pe,Pe;this.libraryRefreshReceived.next();const Te=null===(pe=null===(re=this.currentProcessedLayoutData)||void 0===re?void 0:re.data)||void 0===pe?void 0:pe.findIndex(et=>et.name===w.whE.Library);let me=null;return-1!==Te&&(me=null===(Pe=this.currentProcessedLayoutData)||void 0===Pe?void 0:Pe.data[Te]),(0,P.aj)([(0,a.of)(me),this.fetchPanelAndUpdateLayoutStream(w.whE.Library,w.$3D.LibraryRefresh)]).pipe((0,O.q)(1))})).subscribe(([re,pe])=>{pe&&this.handleLibraryUpdates(re,pe)})}listenLibraryRefreshNotification(){this.listenLibraryRefreshEvent(this.refreshUiService.libraryRefresh$)}listenStreamingTerminatedEvent(){if(I.ng.isCefPlatform())return;const U=this.browseUxService.streamingTerminated$.pipe((0,T.zg)(re=>{let pe=(0,a.of)(!1);if(I.ng.isBrowserPlatform()){const Pe=this.injector.get(w.uu8);Pe&&(pe=Pe.isNotificationAllowed())}return pe}),(0,s.h)(re=>this.shouldTriggerLibraryRefreshOnStreamExit(re)));this.listenLibraryRefreshEvent(U)}shouldTriggerLibraryRefreshOnStreamExit(U){return!U||(null==Notification?void 0:Notification.permission)!==w.Ad8.Granted}handleLibraryUpdates(U,re){var pe,Pe,Te,me,et,Xe,Ze;if(re&&U){this.logger.info("Updating Library Panel UI");const nt=null===(pe=null==U?void 0:U.sections)||void 0===pe?void 0:pe.find(Le=>(null==Le?void 0:Le.type)===w.ByO.MyLibrary),Me=null===(Te=null===(Pe=re[0])||void 0===Pe?void 0:Pe.sections)||void 0===Te?void 0:Te.find(Le=>(null==Le?void 0:Le.type)===w.ByO.MyLibrary);this.logger.info(`oldLibraySection items length : ${null===(me=null==nt?void 0:nt.items)||void 0===me?void 0:me.length} , newLibrarySection items length : ${null===(et=null==Me?void 0:Me.items)||void 0===et?void 0:et.length}`);const ze=null===(Xe=null==nt?void 0:nt.items)||void 0===Xe?void 0:Xe.filter(Le=>{var Re;return!(null!==(Re=null==Me?void 0:Me.items)&&void 0!==Re&&Re.some(Q=>(null==Le?void 0:Le.id)===(null==Q?void 0:Q.id)))});this.logger.info("on LIBRARY_REFRESH , Removed Games count: ",null==ze?void 0:ze.length),null==ze||ze.forEach(Le=>{Le.resetLibraryStatus()});const le=null===(Ze=null==Me?void 0:Me.items)||void 0===Ze?void 0:Ze.filter(Le=>{var Re;return!(null!==(Re=null==nt?void 0:nt.items)&&void 0!==Re&&Re.some(Q=>(null==Le?void 0:Le.id)===(null==Q?void 0:Q.id)))});this.logger.info("on LIBRARY_REFRESH , Added Games count: ",null==le?void 0:le.length),((null==ze?void 0:ze.length)>0||(null==le?void 0:le.length)>0)&&(this.reapplyExistingLibraryFilter.next(),this.updatePlatformPreference.next(!0))}}listenKVStoreRefreshNotification(){this.refreshUiService.kvStorePlatformSelectionRefresh$.subscribe(U=>{this.logger.info("Refresh KVStore",null==U?void 0:U.source),this.updatePlatformPreference.next(!0)})}listenPanelRefreshNotification(){this.refreshUiService.panelRefresh$.pipe((0,b.w)(U=>{var re,pe;const Pe=[],Te=[w.whE.Main,w.whE.Marquee];return(null==U?void 0:U.source)===w.cFU.OnPushNotification?(null===(re=null==U?void 0:U.metadata)||void 0===re?void 0:re.changeIdType)===w.F0r.PANEL?null===(pe=null==U?void 0:U.metadata)||void 0===pe||pe.changedIds.forEach(me=>{Pe.push(this.fetchPanelAndUpdateLayoutStream(me,w.$3D.PanelRefresh))}):Te.forEach(me=>{Pe.push(this.fetchPanelAndUpdateLayoutStream(me,w.$3D.PanelRefresh))}):Te.forEach(me=>{this.refreshUiService.isContentExpired(w.QUw[me])&&Pe.push(this.fetchPanelAndUpdateLayoutStream(me,w.$3D.PanelRefresh))}),(0,P.aj)(Pe).pipe((0,O.q)(1))})).subscribe(U=>{this.logger.info("Updating Panels in the UI")})}listenAssetChangePushNotification(){this.refreshUiService.assetRefresh$.pipe((0,T.zg)(U=>{var re,pe,Pe;const Te=null===(re=U.metadata)||void 0===re?void 0:re.changedIds,me=(null===(pe=U.metadata)||void 0===pe?void 0:pe.changeIdType)===w.F0r.CMSID||!(null!==(Pe=U.metadata)&&void 0!==Pe&&Pe.changeIdType);return(0,t.isArray)(Te)&&(null==Te?void 0:Te.length)>0?this.lcarsService.getAppdata(Te,{isCmsId:me}):(this.requestAppsRefresh$.next(),y.E)})).subscribe(U=>{this.logger.info("Apps metadata updated after ASSET_CHANGE notification"),null==U||U.forEach(re=>{const pe=this.fetchApplication(re.id);pe&&pe.updateData(re)})})}triggerSilentLayoutRefresh(U={}){this.silentLayoutRefresh$.next(U)}initPlatformPreference(){(0,P.aj)([this.idmService.accountStatusChanged,this.updatePlatformPreference$]).pipe((0,T.zg)(([U,re])=>U&&U.isAuthenticated?this.platformPreferenceService.getPlatformPreferences():(0,a.of)([])),(0,i.b)(U=>{this.platformPreferenceSubscription&&this.platformPreferenceSubscription.unsubscribe(),this.platformPreferencesAppliedForLayout=!1,this.platformPreferencesAppliedForApps=!1})).subscribe(U=>{this.processPlatformPreferences(U)},U=>{this.logger.error("Error while fetching platform preferences."+U)})}processPlatformPreferences(U){const re=this.onShowLayoutLoading.pipe((0,s.h)(Te=>!Te),(0,T.zg)(Te=>this.platformPreferencesAppliedForLayout?(0,a.of)(!0):this.applyPlatformPreferences(U)),(0,i.b)(Te=>{this.platformPreferencesAppliedForLayout=!0,this.isUserAuthenticated&&this.handlePlatformSelectionForLibraryItems()})),pe=this.onAppsFetchComplete.pipe((0,T.zg)(Te=>this.platformPreferencesAppliedForApps?(0,a.of)(!0):this.applyPlatformPreferences(U)),(0,i.b)(Te=>this.platformPreferencesAppliedForApps=!0)),Pe=(0,C.T)(re,pe);this.platformPreferenceSubscription=Pe.subscribe(Te=>{Te&&this.isUserAuthenticated&&this.platformPreferencesAppliedForApps&&this.platformPreferencesAppliedForLayout&&this.platformPreferenceService.processGamesPostLogin()},Te=>{Array.from(this.appsListMap.values()).forEach(me=>me.onPlatformPreferenceSynced(null)),this.logger.error("Error received while initializing platform preference ",Te)})}applyPlatformPreferences(U){return(0,a.of)(!0).pipe((0,f.M)(this.idmService.accountStatusChanged),(0,T.zg)(([re,pe])=>{const Pe=pe&&pe.isAuthenticated&&pe.userId;if(U&&U.length>0&&Pe){this.logger.info("Preferences received successfully");const Te={};return Te[Pe]={},U.forEach(me=>{try{const et=JSON.parse(me),[[Xe,Ze]]=Object.entries(et);if(!this.platformPreferenceService.hasLocalOrLoggedOutPreference(Xe)){Te[Pe][Xe]={variantId:Ze};const nt=this.fetchApplication(Xe);nt&&nt.onPlatformPreferenceSynced(Ze)}}catch(et){this.logger.info("Error while adding preference to the app list ",et)}}),this.sharedStorage.writeBlock("PlatformPreference",Te)}return this.logger.info("Empty Platform Preference array received, clearing all the platform preferences"),Array.from(this.appsListMap.values()).forEach(Te=>{this.platformPreferenceService.hasLocalOrLoggedOutPreference(Te.id)||Te.onPlatformPreferenceSynced(null)}),(0,a.of)(!0)}),(0,D.K)(re=>(this.logger.info("Error initializing Platform Preference",re),(0,a.of)(!1))))}initLayoutDataUpdatedListener(){this.lcarsService.onLayoutDataUpdated$.subscribe(U=>{this.updateLayoutStream(null==U?void 0:U.panels)},U=>{this.logger.error("Error while processing updated layout data."+U)})}initLibraryChangedNotification(){G.M.onIsInLibraryChanged().pipe((0,T.zg)(U=>{this.logger.info(`Update local library for Parent-id:${U.id} CmsId:[${U.selectedPlatformVariant.id}] as ${U.isInLibrary}`);const re=U.id,pe=U.selectedPlatformVariant.id,Pe=U.isInLibrary;return this.layoutState===F.$s.Ready?(0,a.of)(U):(0,P.aj)([this.onShowLayoutLoading,this.onAppsFetchComplete]).pipe((0,s.h)(([Te,me])=>!Te),(0,O.q)(1),(0,S.U)(([Te,me])=>{this.logger.info("Layout loading response:",Te);const et=this.fetchApplication(re);return null==et||et.updateLibraryStatus(pe,Pe),et}))}),(0,s.h)(U=>!(0,t.isNil)(U)),(0,S.U)(U=>{U.isInLibrary?this.addGameToLocalLibrary(U):this.removeGameFromLocalLibrary(U)})).subscribe()}addGameToLocalLibrary(U){if(this.myLibrarySection){this.logger.info("Add game to local library for",U.id);let re=0;this.myLibrarySection.items.forEach(pe=>{pe.id!==U.id?pe.id===w.U19.id&&re++:re=null}),(0,t.isNil)(re)||(this.myLibrarySection.items.splice(re,0,U),this.enableSeeMoreTile&&this.manageSeeMoreTile(this.myLibrarySection),this.localMyLibraryChangedSubject.next(this.myLibrarySection))}else this.logger.error("My library section missing")}removeGameFromLocalLibrary(U){this.removeGameChangedSubject.next(U.id),setTimeout(()=>{if(this.myLibrarySection){const re=this.myLibrarySection.items.findIndex(pe=>pe.id===U.id);-1!==re?(this.logger.info("Remove game from local library for",U.id),this.myLibrarySection.items.splice(re,1),this.enableSeeMoreTile&&this.manageSeeMoreTile(this.myLibrarySection)):this.logger.info("Game not present in library"),this.localMyLibraryChangedSubject.next(this.myLibrarySection)}else this.logger.info("Library section not present");this.removeGameChangedSubject.next(null)},F.u9)}getLayout(){return this.layoutEventStreams.get$()}refreshLayout(U){this.triggerLayoutInteraction.name=U,this.layoutEventStreams.refresh()}updateLayoutStream(U){var re,pe;if(!U||this.areAllSectionsEmpty(U))return;const Pe=null===(pe=null===(re=this.currentProcessedLayoutData)||void 0===re?void 0:re.data)||void 0===pe?void 0:pe.findIndex(Te=>{var me;return Te.name===(null===(me=U[0])||void 0===me?void 0:me.name)});if(-1!==Pe&&this.currentProcessedLayoutData){const Te=this.mapToLcarsApplication(U);this.currentProcessedLayoutData.data[Pe]=Te[0],this.layoutEventStreams.setData(this.currentProcessedLayoutData,!0)}}mapExceptionToLayoutError(U){let re;return re=U instanceof w.uaH?new F.oY(w.cPW.VpcId,U.error):U instanceof _.Lh?new F.oY(w.cPW.DelegateTokenFetch,U.error):U instanceof w.$e1?new F.oY(w.cPW.LayoutFetch,U.error):U instanceof w.PT0?new F.oY(w.cPW.AppsListFetch,U.error):U instanceof w._Rm?new F.oY(w.cPW.AppMetadataFetch,U.error):U instanceof F.LH?new F.oY(w.cPW.EmptyLayout,null):U instanceof _.gw?new F.oY(w.cPW.SessionToken,null):new F.oY(w.cPW.Unknown,U),re}handleLayoutException(U,re,pe){const Pe=this.mapExceptionToLayoutError(U);return(0,t.isNil)(Pe.error)||(0,t.isNil)(Pe.error.status),(0,t.isNil)(Pe.error)||(0,t.isNil)(Pe.error.rawResponse)||(0,t.isNil)(Pe.error.rawResponse.statusText),{data:null,error:Pe,metaData:re,cacheKey:pe}}getLiveData(U,re,pe){return U(pe).pipe((0,S.U)(Pe=>({data:Pe,metaData:pe,cacheKey:re})),(0,D.K)(Pe=>(0,a.of)(this.handleLayoutException(Pe,pe,re))),(0,S.U)(Pe=>Pe))}getData(U,re,pe,Pe,Te){return function z(ne,_e,U){let re;const pe=[];return _e.forEach(Pe=>{const Te=(0,t.isNil)(Pe.createObservable)?(0,a.of)(void 0):Pe.createObservable();let me=!0;pe.push(Te.pipe((0,S.U)(et=>(me&&(me=!1,U.info("Trigger "+Pe.name+" initialized.")),{trigger:Pe,data:et,timestamp:Date.now()})),(0,D.K)(et=>(0,a.of)({trigger:Pe,data:void 0,timestamp:Date.now(),error:et}))))}),(0,P.aj)(pe).pipe((0,S.U)(Pe=>{const Te=(0,t.merge)({},ne),me={baseTrigger:Te,trigger:Te,responses:new Map};return re!==Te.name?re=Te.name:(Pe=(0,t.sortBy)(Pe,[et=>et.timestamp]),me.trigger=Pe[Pe.length-1].trigger),Pe.forEach(et=>{me.responses.set(et.trigger.name,et)}),me}))}(pe,[this.triggerLocale$,...Pe],Te).pipe((0,b.w)(et=>this.getLiveData(U,re,et).pipe((0,i.b)(Xe=>{Xe.metaData=et,Xe.cacheKey=re}),(0,D.K)(Xe=>(et.trigger.name===w.Bbu.LoginStatusChange&&this.showLayoutLoading$.next(!1),(0,A._)(Xe))))))}logSummary(U){return(0,d.z)((0,i.b)(re=>{const pe=this.networkStatusService.isOnline;let me=`${re.cacheKey} refreshed by ${re.metaData.trigger.name}`;(0,t.isNil)(re.error)?!pe&&!re.data&&(me+=" and had no cache while offline.",re.error=new F.oY(w.cPW.OfflineNoCache)):me=me+" and got error "+re.error.failurePoint,this.sendTelemetry(re,U),U.info(me)}))}areAllSectionsEmpty(U){if((0,t.isEmpty)(U)||(0,t.isNil)(U)||0===U.length)return!0;let re=0,pe=0;return U.forEach(Pe=>{var Te;pe+=null===(Te=null==Pe?void 0:Pe.sections)||void 0===Te?void 0:Te.length,Pe.sections.forEach(me=>{const et=null==me?void 0:me.items;((0,t.isNil)(et)||0===et.length)&&re++})}),re===pe}checkForEmptyLayout(U){return!U.data||this.areAllSectionsEmpty(U.data)}createApplication(U){return new G.M(U,this.loggingService,this.networkStatusService,this.launchService,this.idmService,this.idmLoginService,this.ecomService,this.dialogService,this.nesLayoutService,this.lcarsService,this.telemetryUtilService,this.platformPreferenceService,this.gameShareUrlService,this.ownershipSyncService,this.appConfig,this.gfnSdkService,this.unsupportedBrowserService,this.pathService,this.settingsService,this.systemInfoService,this.bridgeService,this.gamepadService,this.cloudVarHelperService,this.ratingService)}fetchApplication(U){return this.appsListMap.has(U)?this.appsListMap.get(U):null}updateAndFetchApp(U){var re;w.vAT.sortVariants(U.variants),U.variants.forEach(Pe=>{Pe.appStoreInfo=w.vAT.getStoreInfoForAppstore(Pe.appStore)});let pe=this.fetchApplication(U.id);return pe?pe.updateData(U):(pe=this.createApplication(U),this.appsListMap.set(U.id,pe)),this.campaignHelperService.updateCampaignIdToGameListMap(null!==(re=null==pe?void 0:pe.campaignIds)&&void 0!==re?re:[],pe.id),pe}mapToLcarsAppsData(U){const re=[];return null==U||U.forEach(pe=>{re.push(this.updateAndFetchApp(pe))}),this.campaignHelperService.triggerCampaignUIRefresh(w.K$w.AppsRefresh),re}getPanelData(U,re){return re===w.whE.Marquee&&this.isMarqueeDisabled?(0,a.of)(null):this.lcarsService.getPanel(U,re).pipe((0,i.b)(()=>{this.refreshUiService.setContentExpiryInfo(w.QUw[re])}),(0,D.K)(pe=>(this.logger.error(`Error in fetching panel: ${re} `,pe),this.getPanelError=pe,(0,a.of)(null))))}getLibraryPanelData(U){return this.idmService.accountStatusChanged.pipe((0,O.q)(1),(0,T.zg)(re=>re.isAuthenticated?this.getPanelData(U,w.whE.Library):(0,a.of)([w.mJI])))}getLayoutData(U){const re=this.distributedTracingUtilService.startSpan(Z.j1.ClientGetLayout);return U.parentSpan=re,(0,P.aj)([this.getLibraryPanelData(U),this.getPanelData(U,w.whE.Main),this.getPanelData(U,w.whE.Marquee),this.lcarsService.ensureLatestStaticAppData$()]).pipe((0,S.U)(([pe,Pe,Te,me])=>{let et=[];if(et[0]=Te&&Te[0]?Te[0]:null,et[1]=pe&&pe[0]?pe[0]:null,et[2]=Pe&&Pe[0]?Pe[0]:null,et=et.filter(Xe=>null!=Xe),(null==et?void 0:et.length)>0)return this.getPanelError=null,this.distributedTracingUtilService.setSpanAttribute(re,Z.NI.Error,!1),this.distributedTracingUtilService.closeSpan(re),et;throw this.distributedTracingUtilService.setSpanAttribute(re,Z.NI.Error,!0),this.distributedTracingUtilService.closeSpan(re),this.showLayoutLoading$.next(!1),new Error(this.getPanelError)}),(0,i.b)(pe=>this.resetShouldBypassSwCache()))}setShouldBypassSwCache(){this.shouldBypassSwCache=!!window.location.hash.match(w.nnJ.Deeplink)}resetShouldBypassSwCache(){this.shouldBypassSwCache=!1}hasValidLayoutData(){var U,re;return(null===(re=null===(U=this.currentProcessedLayoutData)||void 0===U?void 0:U.data)||void 0===re?void 0:re.length)>0}fetchLayout(){const U=this.loggingService.getLogger("LayoutService:LF/");return this.getData(re=>this.getLayoutData({triggerName:null==re?void 0:re.trigger.name,bypassSwCache:this.shouldBypassSwCache}),F.iX.LayoutFetch,this.triggerLayoutInteraction,[this.triggerAccountStatusVpcIdChange$,this.triggerUserSKUChange$,this.triggerLayoutRefreshOnDataExpiry$,this.triggerLayoutRefreshOnCampaignChange$],U).pipe(this.logSummary(U),(0,T.zg)(re=>{if(this.checkForEmptyLayout(re)){if(this.hasValidLayoutData())return p.C;this.currentProcessedLayoutData=this.handleLayoutException(new F.LH,re.metaData,re.cacheKey),this.currentProcessedLayoutData.data=[]}else this.processLayoutResponse(re);return(0,a.of)(this.currentProcessedLayoutData)}),(0,D.K)(re=>(this.logger.error("Error while processing layout. "+re),this.errorHandler.handleError(new Error("Error while processing layout. "+re)),this.hasValidLayoutData()?p.C:(0,a.of)(null))))}processLayoutResponse(U){this.refreshUiService.setContentExpiryInfo(w.Gxu.Layout);const re=Object.assign(Object.assign({},U),{data:this.mapToLcarsApplication(U.data)});if(this.hasValidLayoutData()){let pe=0;this.panelList.forEach(Pe=>{const Te=re.data.find(et=>et.name===Pe),me=this.currentProcessedLayoutData.data.findIndex(et=>et.name===Pe);-1!==me?(Te&&(this.currentProcessedLayoutData.data[me]=Te),pe++):Te&&(this.currentProcessedLayoutData.data.splice(pe,0,Te),pe++)})}else this.currentProcessedLayoutData=re;this.layoutState=F.$s.Ready,this.showLayoutLoading$.next(!1)}handlePlatformSelectionForLibraryItems(){this.appsListMap.forEach(U=>{if(U.isInLibrary&&U.isMultiPlatformGame()&&!U.selectedPlatformVariant){let pe,re=0;U.variants.forEach(Pe=>{var Te;null!==(Te=Pe.gfn)&&void 0!==Te&&Te.isInLibrary&&(re++,pe=Pe.id)}),1===re&&U.addPlatformPreference(pe).subscribe(Pe=>{this.logger.info("Setting platform preference for In-Library game:",U.id,pe)},Pe=>{this.logger.error("Error while setting platform preference for In-Library game:",U.id,pe,Pe)})}})}mapToLcarsApplication(U){let re=!1;const pe=U.map(Pe=>(Pe.sections.map(Te=>(Te.items=Te.items.reduce((me,et)=>{if(et.__typename===w.YUT.Filter)return et.visibility=!0,me.push(new ue(et,this.loggingService)),me;if(et.__typename===w.YUT.Marketing||et.__typename===w.YUT.Game){try{const Xe=this.mapItemsToApplication(et);me.push(Xe)}catch(Xe){this.logger.error("Error while mapping LCARS item to Application. "+Xe),re||(this.errorHandler.handleError(new Error(`Error while mapping LCARS item to Application: ${et.id}`)),re=!0)}return me}return me},[]),Te.type===w.ByO.MyLibrary&&(this.updateMyLibrary(Te),this.myLibrarySection=Te),Te)),Pe));return this.campaignHelperService.triggerCampaignUIRefresh(w.K$w.PanelRefresh),pe}fetchMarketingTileFromMap(U){return this.marketingTilesMap.has(U)?this.marketingTilesMap.get(U):null}updateAndFetchMarketingTile(U){let re=this.fetchMarketingTileFromMap(U.id);return re?re.updateData(U):(re=this.createApplication(U),this.marketingTilesMap.set(U.id,re)),re}mapItemsToApplication(U){return U.__typename===w.YUT.Marketing?(U.app={id:U.id,appStore:null,variants:[],title:U.title,images:{MARQUEE_HERO_IMAGE:U.images.MARQUEE_HERO_IMAGE||null,HERO_IMAGE:U.images.HERO_IMAGE||null},action:U.action,body:U.body||null,type:U.__typename},this.updateAndFetchMarketingTile(U.app)):(U.app.type=U.__typename,this.updateAndFetchApp(U.app))}getTelemetryNameForTrigger(U){return U}sendTelemetry(U,re){const pe=U.metaData.responses;let Pe=!1,Te="undefined";if(pe.has(w.Bbu.LoginStatusChange)){const et=pe.get(w.Bbu.LoginStatusChange).data;et&&(Pe=et.isUserAuthenticated,Te=et.vpcId)}const me={layoutKey:U.cacheKey,trigger:this.getTelemetryNameForTrigger(U.metaData.trigger.name),failurePoint:w.cPW.NA,errorCode:"",vpcId:Te||"undefined",isUserOnline:this.networkStatusService.isOnline?w.wye.TRUE:w.wye.FALSE,isUserLoggedIn:Pe?w.wye.TRUE:w.wye.FALSE,cachedDataSuccessful:w.wye.UNDEFINED,liveDataSuccessful:(0,t.isNil)(U.error)?w.wye.TRUE:w.wye.FALSE,error:""};!U.error&&U.cacheKey.includes(F.iX.LayoutFetch)&&this.areAllSectionsEmpty(U.data)&&(this.logger.error("Server response successful, but received EmptyLayout"),me.liveDataSuccessful=w.wye.FALSE,me.failurePoint=w.cPW.EmptyLayout),(0,t.isNil)(U.error)||(me.failurePoint=U.error.failurePoint||w.cPW.Unknown,(0,t.isNil)(U.error.error)||(me.errorCode=""+U.error.error.status),(0,t.isNil)(U.error.error)||(me.error=(0,t.isNil)(U.error.error.rawResponse)?U.error.error.toString():U.error.error.rawResponse.statusText)),re.info("Layout Telemetry Data:",me),this.telemetryService.push(new w.sNt(me))}updateMyLibrary(U){var re;if(!(0,t.isNil)(U)){const pe=this.createApplication(w.U19),Pe=null===(re=this.myLibrarySection)||void 0===re?void 0:re.items.find(Te=>Te.id===w.U19.id);void 0!==(null==Pe?void 0:Pe.visibility)&&(pe.visibility=Pe.visibility),U.items.unshift(pe),U.title=this.translateService.instant("layout.myLibrary")}}initPushNotifications(){this.refreshUiService.patchingInfoRefresh$.pipe((0,T.zg)(U=>(this.logger.info("Refresh patchingInfo",null==U?void 0:U.source),this.handlePatchingEvent(null==U?void 0:U.metadata)))).subscribe(()=>{},U=>{this.logger.error("Error handling push notification for patching event",U)})}handlePatchingEvent(U){var re;if(null==U?void 0:U.patchingInfo){const Pe=this.getAppFencedStateBasedByPatchingPushMessage(U);return((null==U?void 0:U.changeIdType)===w.F0r.CMSID||!(null!=U&&U.changeIdType))&&!(null===(re=null==U?void 0:U.changedIds)||void 0===re)&&re.length&&U.changedIds.forEach(me=>{this.updateFencedStatusForApp(me,Pe)}),(0,a.of)(!0)}return(0,a.of)(!1)}updateFencedStatusForApp(U,re){const pe=this.getApplicationClassByCmsId(U);null==pe||pe.updateFencedStatus(U,re)}getApplicationClassByCmsId(U){const re=Array.from(this.appsListMap.values()).find(pe=>pe.variants.some(Pe=>Pe.id===U));return this.logger.info(`App meta data parent-id for cmsID: ${U} is `,null==re?void 0:re.id),re}getAppFencedStateBasedByPatchingPushMessage(U){let re;switch(U.patchingInfo.patchingState){case w.Ilb.PATCHING_STARTED:re=w.zu9.PATCHING;break;case w.Ilb.SERVER_MAINTENANCE_STARTED:re=w.zu9.SERVER_MAINTENANCE;break;default:re=w.zu9.UNAVAILABLE}return re}manageSeeMoreTile(U){var re,pe,Pe;const Te=Array.isArray(null===(re=null==U?void 0:U.seeMoreInfo)||void 0===re?void 0:re.filterIds)&&(null===(pe=null==U?void 0:U.items)||void 0===pe?void 0:pe.length)>(null===(Pe=null==U?void 0:U.seeMoreInfo)||void 0===Pe?void 0:Pe.minTiles),me=U.items.findIndex(et=>et.id===w.Jn8.id);if(Te){if(-1===me){const et=this.createApplication(w.Jn8);et.data.title=U.seeMoreInfo.title,U.items.push(et)}}else-1!==me&&U.items.splice(me,1)}removeCampaignUIForGame(){this.campaignHelperService.removeGameFromCampaign$.subscribe(U=>{var re;null===(re=this.fetchApplication(U))||void 0===re||re.updateCampaignData(null,!1)})}updateCampaignUI(){this.campaignHelperService.refreshCampaignUI$.pipe((0,b.w)(U=>(0,P.aj)([(0,a.of)(U),this.campaignHelperService.getChangedCampaigns()]).pipe((0,O.q)(1))),(0,i.b)(([U,re])=>{var pe,Pe,Te;if((null===(pe=null==re?void 0:re.activatedCampaigns)||void 0===pe?void 0:pe.length)>0||(null===(Pe=null==re?void 0:re.deactivatedCampaigns)||void 0===Pe?void 0:Pe.length)>0){this.logger.info("Updating Campaign UI because of trigger ",U),re.activatedCampaigns.forEach(et=>{const Xe=this.campaignHelperService.getGameListForCampaignId(null==et?void 0:et.id);null==Xe||Xe.forEach(Ze=>{var nt;null===(nt=this.fetchApplication(Ze))||void 0===nt||nt.updateCampaignData(et,!0)})}),null===(Te=re.deactivatedCampaigns)||void 0===Te||Te.forEach(et=>{const Xe=this.campaignHelperService.getGameListForCampaignId(null==et?void 0:et.id);null==Xe||Xe.forEach(Ze=>{var nt;null===(nt=this.fetchApplication(Ze))||void 0===nt||nt.updateCampaignData(et,!1)})});const me=new w.zfT({trigger:w.eCT[U],activeCampaignIds:re.activatedCampaigns.map(et=>et.id),deActiveCampaignIds:re.deactivatedCampaigns.map(et=>et.id)});this.telemetryService.push(me)}})).subscribe(L.Z,U=>this.logger.error("Error in updateCampaignUI",U))}initPhoneMarqueeEnablement(){this.isMarqueeDisabled||this.systemInfoService.getDeviceType().pipe((0,O.q)(1)).subscribe(U=>{this._phoneMarqueeEnabled=U===I.z7.Phone})}}return ne.\u0275fac=function(U){return new(U||ne)(u.LFG(w.No2),u.LFG(w.rIG),u.LFG(w.JYZ),u.LFG(I.OL),u.LFG(I._J),u.LFG(k.y0),u.LFG(I.ed),u.LFG(w.xAy),u.LFG(w.ZB5),u.LFG(W.rw),u.LFG(w.wU6),u.LFG(w.BHV),u.LFG(N.sK),u.LFG(w.qMk),u.LFG(w.VKt),u.LFG(w.zcQ),u.LFG(w.S77),u.LFG(H.OA),u.LFG(w.tDF),u.LFG(u.qLn),u.LFG(h.s),u.LFG(Z.Dc),u.LFG(w.rHN),u.LFG(w.ePW),u.LFG(w.OMY),u.LFG(w.unb),u.LFG(w.gbG),u.LFG(I.Ob),u.LFG(I.dF),u.LFG(E.Se),u.LFG(u.zs3),u.LFG(w.a$B),u.LFG(w.$lO),u.LFG(ee.R),u.LFG(w.V5e))},ne.\u0275prov=u.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},22341:(Ge,ae,e)=>{"use strict";e.d(ae,{c:()=>a});var t=e(96671),n=e(39609),x=e(64710),M=e(16873),L=e(37263),p=e(18937),P=e(32764);let a=(()=>{class o{constructor(y,C,A){this.loggingService=y,this.activatedRoute=C,this.deeplinkService=A,this.destroy$=new t.xQ}ngOnInit(){this.deeplinkService.handlePath(this.activatedRoute.snapshot.queryParamMap)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return o.\u0275fac=function(y){return new(y||o)(n.Y36(x.ed),n.Y36(M.gz),n.Y36(L._))},o.\u0275cmp=n.Xpm({type:o,selectors:[["gfn-deeplink"]],decls:3,vars:0,consts:[["fxLayout","column","fxFlexFill","",1,"common-window"],["fxLayoutAlign","center center","fxFlexFill","",1,"layout-spinner-container"],["mode","indeterminate","color","accent","diameter","48","strokeWidth","4",1,"layout-spinner"]],template:function(y,C){1&y&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"mat-progress-spinner",2),n.qZA()())},dependencies:[p.xw,p.Wh,p.s9,P.sN],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background:transparent;height:100%}html.cdk-global-scrollblock[_ngcontent-%COMP%]{overflow-y:hidden}body[_ngcontent-%COMP%]{margin:0;overflow:hidden!important;height:100%;max-width:100%;-webkit-touch-callout:none}body[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}.common-window[_ngcontent-%COMP%]   .common-container-overflow[_ngcontent-%COMP%]{overflow-y:overlay;overflow-x:hidden;max-height:100%}.common-window[_ngcontent-%COMP%]   .common-overflow-auto[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.common-window[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{background:rgba(51,51,51,.5);border-radius:0}.common-window[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]:not(.mat-card-no-hover):hover{box-shadow:0 3px 15px 1px #000000bf}[_ngcontent-%COMP%]::selection{background:#478b06}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0;box-shadow:inset 0 0 1px #ffffff40}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:#343434;box-shadow:inset 0 0 6px #33333380}[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cdcdcd}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:#888888}[_ngcontent-%COMP%]:not(:hover)::-webkit-scrollbar-track{background:transparent;box-shadow:none}.dialog-background[_ngcontent-%COMP%], .final-black-gradient[_ngcontent-%COMP%], .gray-overlay[_ngcontent-%COMP%], .black-gradient[_ngcontent-%COMP%], .white-gradient[_ngcontent-%COMP%], .ext-background-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.center-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}@supports (-webkit-touch-callout: none) or (font: -apple-system-body){@media (display-mode: standalone){.gfn-viewport-fill[_ngcontent-%COMP%]{height:100vh}}}.gfn-background-plain[_ngcontent-%COMP%]{background-color:#000}.gfn-background-plain[_ngcontent-%COMP%]   .splash-gfn-logo[_ngcontent-%COMP%]{z-index:1;display:none}.gfn-background[_ngcontent-%COMP%]{background-color:#000;background-image:url(assets/hashed/DefaultGameArt-TVBanner.c0134135205b12b0.jpg);background-repeat:no-repeat;background-size:cover}.gfn-background-grey[_ngcontent-%COMP%]{background-color:#191919;background-repeat:repeat}.gfn-background[_ngcontent-%COMP%]   .splash-gfn-logo[_ngcontent-%COMP%]{z-index:1;display:none}@media screen and (max-width: 599px){.splash-gfn-logo[_ngcontent-%COMP%]{width:84px;height:64px;margin-bottom:16px}}@media screen and (min-width: 600px){.splash-gfn-logo[_ngcontent-%COMP%]{width:174px;height:131px;margin-bottom:24px}}@media screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 820px) and (device-height: 1180px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:24px}}@media screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait),screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2),screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:20px}}@media screen and (device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3),screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:48px}}@media screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:50px}}@media screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3){.splash-gfn-logo[_ngcontent-%COMP%]{margin-bottom:44px}}.white-gradient[_ngcontent-%COMP%]{background-image:radial-gradient(circle closest-corner at top,rgba(255,255,255,.2),rgba(255,255,255,.05) 50%,rgba(255,255,255,0))}.black-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(0,0,0,.8) 0%,rgba(0,0,0,.4) 25%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.2) 65%,rgba(0,0,0,.4) 75%,rgba(0,0,0,.8) 100%)}.gray-overlay[_ngcontent-%COMP%]{background-color:#0000002e}.final-black-gradient[_ngcontent-%COMP%]{background-image:linear-gradient(180deg,rgba(0,0,0,0) 0%,black 50% 100%)}.dialog-background[_ngcontent-%COMP%]{flex-direction:column!important}.common-window[_ngcontent-%COMP%]{background:#0e1114 url(assets/hashed/spotlight-bg.700e840564f0251c.png) no-repeat center top}.common-window[_ngcontent-%COMP%]   .common-window-content[_ngcontent-%COMP%]{background:#191919;background-attachment:fixed}.common-window[_ngcontent-%COMP%]   .mat-accent.foreground[_ngcontent-%COMP%]{color:#76b900}.common-window[_ngcontent-%COMP%]   div.mat-right-section[_ngcontent-%COMP%]{position:absolute;right:28px;bottom:20px}mat-icon.mat-12[_ngcontent-%COMP%], .font-size-sm[_ngcontent-%COMP%]{font-size:12px!important}mat-icon.mat-16[_ngcontent-%COMP%], .font-size-xl[_ngcontent-%COMP%]{font-size:16px!important}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{outline:none;background-color:#464646;min-width:112px;padding:0}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style-type:none;min-height:36px;height:36px;min-width:64px;border-radius:0}.isLtr[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{line-height:36px}.gfnGamesMenu[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{list-style-type:none;background-color:#9f9f9f}@keyframes _ngcontent-%COMP%_createBox{0%{transform:scale(0)}to{transform:scale(1)}}div[aria-label][_ngcontent-%COMP%]:hover:after{content:attr(aria-label);position:absolute;left:-50%;right:-50%;margin-top:15px;background-color:#464646;text-align:center;padding:5px 10px;z-index:100;animation:_ngcontent-%COMP%_createBox .25s}.games-filter-menu.mat-focused.mat-primary[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%]{color:#ffffffb3}.games-filter-menu[_ngcontent-%COMP%]   .mat-select[_ngcontent-%COMP%]{height:0}.games-filter-menu[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{display:none}.games-filter-menu[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0;width:65px;height:45px}.games-filter-menu[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{border-top:0}.isLtr[_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.settings-streaming-profile-details-container[_ngcontent-%COMP%]   .settings-streaming-profile-details[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{height:0}.loading-ui-container[_ngcontent-%COMP%]   .mat-progress-bar-buffer[_ngcontent-%COMP%], .nes-auth-ui-container[_ngcontent-%COMP%]   .mat-progress-bar-buffer[_ngcontent-%COMP%]{background:rgba(255,255,255,.24)}.loading-ui-container[_ngcontent-%COMP%]   .mat-progress-bar-background[_ngcontent-%COMP%], .nes-auth-ui-container[_ngcontent-%COMP%]   .mat-progress-bar-background[_ngcontent-%COMP%]{display:none}a.font-link-state[_ngcontent-%COMP%]:focus:not(:hover){border-bottom:0}.text-button-icon[_ngcontent-%COMP%]{padding:0 12px!important}.text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:20px;font-size:18px;line-height:18px;width:20px}.isLtr[_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-right:4px}.isRtl[_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .text-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{--dummy2: 0;padding-left:4px}.tv-view[_ngcontent-%COMP%]   .text-button-icon[_ngcontent-%COMP%]{padding:18px 24px!important}.mat-tooltip.custom-tooltip[_ngcontent-%COMP%]{margin:22px;overflow-wrap:break-word;background-color:#464646;text-align:center;pointer-events:none!important}.mat-menu-panel.games-sort-dropdown[_ngcontent-%COMP%], .mat-menu-panel.toolbar-dropdown[_ngcontent-%COMP%]{border-radius:0}.mat-menu-panel.games-sort-dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mat-menu-panel.toolbar-dropdown[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3}.mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%]{max-height:min(396px,100vh - 139px);width:270px;border-radius:0;margin-top:3px}.isLtr[_nghost-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%]{margin-left:-212px}html[dir=ltr][_ngcontent-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%]{--dummy3: 0;margin-left:-212px}.isRtl[_nghost-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%]{margin-right:-212px}html[dir=rtl][_ngcontent-%COMP%]   .mat-select-panel.games-filter-dropdown[_ngcontent-%COMP%]{--dummy3: 0;margin-right:-212px}.mat-select-panel.games-filter-dropdown.small-screen[_ngcontent-%COMP%]{max-height:min(396px,100vh - 121px)}.mat-select-panel.games-filter-dropdown.ng-animating[_ngcontent-%COMP%]{display:none}[_ngcontent-%COMP%]:not(.mobile-view).game-section-view   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-select-trigger[_ngcontent-%COMP%]{display:unset}[_ngcontent-%COMP%]:not(.mobile-view).games-filter-dropdown.mat-primary.mat-select-panel{margin-top:10px}.games-filter-dropdown[_ngcontent-%COMP%]   div.mat-select-arrow[_ngcontent-%COMP%]{margin:-24px 4px}.games-filter-dropdown[_ngcontent-%COMP%]   .mat-optgroup-label[_ngcontent-%COMP%]{color:#ffffffe6;padding:4px 16px 0}.games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{border-radius:0}.isLtr[_nghost-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{margin-right:23px}html[dir=ltr][_ngcontent-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{--dummy4: 0;margin-right:23px}.isRtl[_nghost-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{margin-left:23px}html[dir=rtl][_ngcontent-%COMP%]   .games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox[_ngcontent-%COMP%]{--dummy4: 0;margin-left:23px}.games-filter-dropdown[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked[_ngcontent-%COMP%]{background:#76b900}.games-filter-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:rgba(255,255,255,.16)}.games-filter-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.32)}.games-filter-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background:rgba(255,255,255,.48)}.scroll-view[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]{flex:1 1 0%;width:100%;height:100%;box-sizing:border-box}"]}),o})()},13777:(Ge,ae,e)=>{"use strict";e.r(ae),e.d(ae,{DeeplinkModule:()=>o});var t=e(52954),n=e(50239),x=e(97483),M=e(16873),L=e(4197),p=e(64710),P=e(93260),a=e(39609);let o=(()=>{class v{}return v.\u0275fac=function(C){return new(C||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({imports:[t.ez,x.lUL,n.o9,P.Q,p.it,(0,p.zv)(),M.Bz.forChild(L.v)]}),v})()},4197:(Ge,ae,e)=>{"use strict";e.d(ae,{v:()=>n});const n=[{path:"",component:e(22341).c,runGuardsAndResolvers:"paramsOrQueryParamsChange"}]},37263:(Ge,ae,e)=>{"use strict";e.d(ae,{_:()=>K});var t=e(64710),n=e(21361),x=e(97483),M=e(96671),L=e(23815),p=e(16099),P=e(18388),a=e(49989),o=e(39138),v=e(33932),y=e(4042),C=e(2629),A=e(89258),d=e(51325),m=e(71265),S=e(13800),s=e(74266),r=e(39609),l=e(16873),i=e(29235),O=e(60712),Y=e(97782),T=e(9357),B=e(6148);let K=(()=>{class b{constructor(D,I,w,_,$,G,F,J,z,Z,ue,u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe){var Pe;this.loggingService=D,this.router=I,this.pathService=w,this.layoutService=_,this.productTourService=$,this.lcarsService=G,this.gameShareUrlService=F,this.oobeService=J,this.launchService=z,this.gameLaunchAnalyticsService=Z,this.ownershipSyncService=ue,this.redirectService=u,this.deeplinkHelperService=k,this.gridService=W,this.telemetryUtilService=N,this.telemetryService=H,this.guestModeService=h,this.networkConfigurationService=E,this.nativeEventService=ee,this.playtestLiveService=R,this.unsupportedBrowserService=q,this.bridgeService=ne,this.systemInfoService=_e,this.appConfig=U,this.gameSearchFilterService=re,this.guestModeHelperService=pe,this.hideDeeplinkOverlay$=new M.xQ,this.viewGameQueryParams={[x.uE5.GameId]:"",[x.uE5.ShowEvidencePanel]:!1,[x.uE5.SectionId]:""},this.isViewGameInProgress=!1,this.deeplinkedGameChangeSubject=new M.xQ,this.mobileMode=!1,this.logger=this.loggingService.getLogger("DeeplinkService"),this.isGDNDomain=null==window?void 0:window.isGDNDomain,this.handlerMap=new Map([[x.EMz.PlayGame,{handle:this.handlePlayGame.bind(this),canHandle:this.canHandlePlayGame.bind(this)}],[x.EMz.ViewGame,{handle:this.handleViewGame.bind(this),canHandle:this.canHandleViewGame.bind(this)}]]),this.registerURLRouteChangeEvent(),this.mobileMode=!(null===(Pe=this.appConfig.featureEnablement)||void 0===Pe||!Pe.mobileMode)}removeDeeplinkOverlay(){this.hideDeeplinkOverlay$.next(!0)}markViewGameComplete(){this.isViewGameInProgress=!1}getViewGameDeeplinkInfo(){return this.viewGameQueryParams[x.uE5.ShowEvidencePanel]=this.isViewGameInProgress,this.viewGameQueryParams}setViewGameDeeplinkInfo(D,I,w,_){this.viewGameQueryParams={[x.uE5.GameId]:D,[x.uE5.SectionId]:w,[x.uE5.ShowEvidencePanel]:I,[x.uE5.Store]:_}}get deeplinkedGameChanged$(){return this.deeplinkedGameChangeSubject.asObservable()}navigateToGameDeeplink(D,I){this.getDeeplinkLandingInfo(D).pipe((0,v.zg)(w=>this._navigateToGameDeeplink(w,I))).subscribe()}_navigateToGameDeeplink(D,I,w){var _;return D.isGameFound?(this.isViewGameInProgress=!0,this.setViewGameDeeplinkInfo(D.gameId,!0,D.sectionId,w),this.deeplinkedGameChangeSubject.next(!0),D.landingPageUrl===x.nnJ.GamesSectionGridL1&&this.gameSearchFilterService.triggerAutoSearch(D.gameTitle,I,!0),(0,p.D)(this.pathService.navigateByUrl(D.landingPageUrl,{skipLocationChange:!0})).pipe((0,y.h)(x.cYw.None))):(0,L.of)(null!==(_=D.errorInfo)&&void 0!==_?_:x.cYw.Unknown)}registerURLRouteChangeEvent(){this.nativeEventService.get$(t.Nx.RouteChange,t.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(D=>{try{const I=JSON.parse(D);if(I&&I.hasOwnProperty("new-route")&&I["new-route"].includes(x.eKR)){const w=I["new-route"].substring(1);return void this.router.navigateByUrl(w)}this.logger.error("Invalid game change data given, ignoring")}catch(I){this.logger.error("Error while processing url-route change event. ",I)}},D=>{this.logger.error("Received error for RouteChange window event: ",D)})}canHandleViewGame(D){const I=D.has(x.uE5.GameId);return(0,L.of)({canHandle:I,isBadRequest:!I})}getDeeplinkLandingInfo(D){let I=x.cYw.Unknown;const w=this.layoutService.getLayout().pipe((0,C.q)(1),(0,v.zg)($=>{var G,F,J;const z=null===(G=null==$?void 0:$.data)||void 0===G?void 0:G.find(k=>k.name===x.whE.Main);if(!z)return this.logger.error("Error while fetching layout data, redirecting to default"),I=x.cYw.ServerError,(0,L.of)({gameId:D,isGameFound:!1,errorInfo:x.cYw.ServerError});const u=((null===(J=null===(F=null==$?void 0:$.data)||void 0===F?void 0:F.find(k=>k.name===x.whE.Library))||void 0===J?void 0:J.sections)||[]).concat((null==z?void 0:z.sections)||[]);for(let k=0;k<u.length;k++){const W=u[k];for(let N=0;N<W.items.length;N++)if(W.items[N].id===D)return(0,L.of)({gameId:D,isGameFound:!0,sectionId:null==W?void 0:W.id,errorInfo:x.cYw.None,landingPageUrl:x.nnJ.Games})}return(0,L.of)(null)})),_=this.lcarsService.getAppdata(D).pipe((0,A.U)($=>$[0]),(0,v.zg)($=>(0,L.of)($.id===D?{gameId:D,isGameFound:!0,errorInfo:x.cYw.None,landingPageUrl:x.nnJ.GamesSectionGridL1,gameTitle:$.title}:null)));return w.pipe((0,v.zg)($=>$?(0,L.of)($):_),(0,v.zg)($=>$?(0,L.of)($):(0,P._)("Error getting deeplink landing info")),(0,d.K)($=>(this.logger.error("Deeplinked game not present in layout data, redirecting to default. ",$),I=x.cYw.GameNotFound,(0,L.of)({gameId:D,isGameFound:!1,errorInfo:x.cYw.GameNotFound}))))}handleViewGame(D){const I=D.get(x.uE5.GameId),w=D.get(x.uE5.Store);return this.getDeeplinkLandingInfo(I).pipe((0,m.b)(_=>{_.isGameFound&&this.productTourService.disableProductTour()}),(0,v.zg)(_=>this._navigateToGameDeeplink(_,x.hMy.Deeplink,w)),(0,A.U)(_=>({success:_===x.cYw.None,error:_})))}canHandlePlayGame(D){return D.has(x.uE5.GameId)||D.has(x.uE5.CmsId)?this.unsupportedBrowserService.shouldDisplayPWAGuidance$.pipe((0,C.q)(1),(0,v.zg)(w=>(0,L.of)(w?{canHandle:!1,isBadRequest:!1,redirectLink:x.fFR.PwaWall}:{canHandle:!0,isBadRequest:!1}))):(0,L.of)({canHandle:!1,isBadRequest:!0})}handlePlayGame(D){let I,w,_,$,G,F,J,z;const Z=Date.now();if(D.has(x.uE5.GameId))I=D.get(x.uE5.GameId),w=!1;else{if(!D.has(x.uE5.CmsId))return(0,L.of)({success:!1,error:x.cYw.BadRequest});I=D.get(x.uE5.CmsId),w=!0}const ue=D.get(x.uE5.PartnerData),u=D.get(x.uE5.ExtraData),k=this.deeplinkHelperService.getUpdatedPartnerId(D.get(x.uE5.PartnerId))||"";let W=(0,L.of)(!1),N=null;if(D.has(x.uE5.Nonce)){this.guestModeHelperService.isGuestMode=!0,N=D.get(x.uE5.Nonce),k||(this.logger.error("partnerId is missing in guest flow"),W=(0,P._)(x.cYw.BadRequest));const H=D.get(x.uE5.Redirect)||"",h=D.get(x.uE5.State)||"",E=this.systemInfoService.getDeviceOSType().pipe((0,C.q)(1));W=this.guestModeService.setAuthDataUsingNonceAndUpdateGuestFlowConfig(N,k,I,w,H,h).pipe((0,S.w)(ee=>E),(0,v.zg)(ee=>{var R,q;const ne=null===(q=null===(R=this.guestModeHelperService.getGuestModeConfig())||void 0===R?void 0:R.igoSettings)||void 0===q?void 0:q.shortcutControls;return this.logger.info("Hotkey overrides: ",ne),this.bridgeService.executeCommand(n.Gh.Share.Shareserver.Init,{osType:ee,areHotkeysOverridden:!!ne,overriddenHotkeysList:null!=ne?ne:[]})}),(0,y.h)(!0))}if(u){F=atob(u);try{JSON.parse(F)[0].id===x.$Yn.VDKPlayTest?G=JSON.parse(F)[0].data:this.logger.error("opaqueData data for unknown client ",JSON.parse(F)[0].id)}catch(H){this.logger.error("invalid opaqueData ",H)}}return W.pipe((0,v.zg)(H=>G?this.playtestLiveService.initiatePlaytestLive(I,G):(0,L.of)(!0)),(0,m.b)(()=>{ue&&this.deeplinkHelperService.setDeeplinkPartnerData(ue)}),(0,v.zg)(H=>this.lcarsService.getAppdata(I,{isCmsId:w}).pipe((0,d.K)(h=>(this.logger.error("Error while fetching appdata",h),(0,P._)("serverError"))))),(0,v.zg)(H=>{var h,E,ee,R;if(null!=H&&H.length){w&&(_=null===(h=H[0].variants.find(ne=>ne.id===I))||void 0===h?void 0:h.shortName,$=H[0].title,J=null!==(ee=null===(E=H[0].images)||void 0===E?void 0:E.HERO_IMAGE)&&void 0!==ee?ee:"");const q=null===(R=H[0])||void 0===R?void 0:R.supportedControls;return z=this.mobileMode&&null!=q&&q.includes(x.BwP.TOUCHSCREEN)?x.xld.TouchFriendly:x.xld.Default,(0,L.of)(this.gameShareUrlService.updateShareUrlInfo(H[0].id,H[0].images.TV_BANNER))}return this.logger.error("Empty/null response in appmetadata"),(0,P._)("serverError")}),(0,v.zg)(H=>this.oobeService.oobeDialogClosedState),(0,s.h)(H=>!0===H),(0,v.zg)(H=>{if(this.gameLaunchAnalyticsService.setGameLaunchMetadata(void 0,Z,this.ownershipSyncService.isAccountLinked(x.iDX.EPIC),!1),D.has(x.uE5.WindowedMode)){const h=JSON.parse(D.get(x.uE5.WindowedMode))||!1;this.deeplinkHelperService.windowedMode=h}return this.deeplinkHelperService.isDeeplinkGameLaunch=!0,this.launchService.launchStreamer(w?parseInt(I,10):void 0,w?_:void 0,z,Z,void 0,this.guestModeHelperService.isGuestMode?x.zO5.Deeplink:x.zO5.GeForceNOW,this.guestModeHelperService.isGuestMode||this.deeplinkHelperService.isSpecialAffiliatePartner(k)?k:void 0,w?void 0:I,this.guestModeHelperService.isGuestMode?this.guestModeService.getGuestModeExitUrl():null,$,J)}),(0,A.U)(H=>(H||(this.deeplinkHelperService.isDeeplinkGameLaunch=!1),{success:H,error:H?x.cYw.None:x.cYw.Unknown})),(0,d.K)(H=>{this.deeplinkHelperService.isDeeplinkGameLaunch=!1;let h=x.cYw.Unknown;switch(this.deeplinkHelperService.resetDeeplinkPartnerData(),H){case"serverError":h=x.cYw.ServerError;break;case x.cYw.Unauthorized:h=x.cYw.Unauthorized;break;case x.cYw.PartnerAuthFailed:h=x.cYw.PartnerAuthFailed;break;case x.cYw.RedirectURLNotAllowed:h=x.cYw.RedirectURLNotAllowed}return(0,L.of)({success:!1,error:h})}))}setDeeplinkZoneOverride(D,I){var w;const _=D.get(x.uE5.Zone);if(_)try{const $=new URL(_).host;(null===(w=this.networkConfigurationService.deeplinkOverrideZone)||void 0===w?void 0:w.address)!==$&&(this.networkConfigurationService.deeplinkOverrideZone=this.deeplinkHelperService.getDeeplinkZoneOverride(_,I),this.gridService.refreshServerInfo())}catch($){this.logger.error("Incorrect deeplink override zone",$)}}handlePath(D){const I=D.get(x.uE5.Action)||x.iJP;this.handlerMap.get(I).handle(D).pipe((0,m.b)(w=>{this.sendTelemetry(D,w)})).subscribe(w=>{if(this.logger.info(w),!w.success)if(this.isGDNDomain&&(w.redirectPath=x.hEi.GdnInvalidDeeplink,w.redirectOptions={replace:!0}),w.error===x.cYw.Unauthorized||w.error===x.cYw.PartnerAuthFailed||w.error===x.cYw.RedirectURLNotAllowed)this.oobeService.oobeDialogClosedState.pipe((0,m.b)(()=>{if(w.error===x.cYw.RedirectURLNotAllowed){if(null!=w&&w.redirectPath)return this.redirectService.redirectTo(w.redirectPath,w.redirectOptions);window.location.replace(document.baseURI),window.location.reload()}else this.redirectService.redirectToExternalUrl(this.guestModeService.getGuestModeExitUrl(),{replace:!0})})).subscribe();else{if(null!=w&&w.redirectPath)return this.redirectService.redirectTo(w.redirectPath,w.redirectOptions);this.pathService.navigateByUrl(x.fFR.DefaultRedirect)}},w=>{if(this.isGDNDomain)return this.logger.error("Error while handling GDN deeplink, redirecting to GDN Invalid Deeplink",w),this.redirectService.redirectTo(x.hEi.GdnInvalidDeeplink,{replace:!0});this.logger.error("Error while handling deeplink, redirecting to mall",w),this.pathService.navigateByUrl(x.fFR.DefaultRedirect)})}canActivate(D,I){const w=D.queryParamMap;return this.setDeeplinkZoneOverride(w,I.url),this.deeplinkHelperService.getFeatureToggle().pipe((0,v.zg)(_=>{const $=w.get(x.uE5.Action)||x.iJP,G={canHandle:!1,isBadRequest:!0};if(!this.handlerMap.has($))return this.logger.error("No handler for specified action"),(0,L.of)(G);const F=x.g7O[$];return F?_[F]?this.handlerMap.get($).canHandle(w).pipe((0,m.b)(Z=>{Z.canHandle||this.logger.error("Invalid set of parameters")})):(G.isBadRequest=!1,this.logger.error("Action not enabled in feature toggle"),(0,L.of)(G)):(this.logger.error("Feature toggle not configured for action"),(0,L.of)(G))}),(0,A.U)(_=>(this.isGDNDomain&&(_.redirectPath=x.hEi.GdnInvalidDeeplink,_.redirectOptions={replace:!0}),_.isBadRequest&&this.sendTelemetry(w,{success:!1,error:x.cYw.BadRequest}),_)),(0,A.U)(_=>!!_.canHandle||(null!=_&&_.redirectLink?this.router.createUrlTree([_.redirectLink]):null!=_&&_.redirectPath?(this.redirectService.redirectTo(_.redirectPath,_.redirectOptions),!1):this.router.createUrlTree([x.fFR.DefaultRedirect]))))}sendTelemetry(D,I){if((D.get(x.uE5.UtmSource)||"")!==x.zVP.Application){const _=x.rmE[D.get(x.uE5.Action)]||x.rmE[x.iJP],$=D.get(x.uE5.GameId)||"",G=parseInt(D.get(x.uE5.CmsId),10)||0,F=[I.error||x.cYw.None],J=D.get(x.uE5.Store)||"",z=D.get(x.uE5.Zone)||"",Z=D.get(x.uE5.UtmSource)||"",ue=D.get(x.uE5.UtmCampaign)||"",u=D.get(x.uE5.UtmMedium)||"",k=D.get(x.uE5.UtmTerm)||"",W=D.get(x.uE5.UtmContent)||"";let N="";(null==I?void 0:I.error)===x.cYw.RedirectURLNotAllowed&&(N=`Redirect URL: ${D.get(x.uE5.Redirect)}`);const H=this.deeplinkHelperService.getUpdatedPartnerId(D.get(x.uE5.PartnerId))||"";this.deeplinkHelperService.getFeatureToggle().pipe((0,s.h)(h=>h.sendDeeplinkTelemetry),(0,v.zg)(h=>(0,a.s)(()=>!!z,this.gridService.deeplinkZoneOverrideStatus,(0,L.of)(!1))),(0,C.q)(1),(0,v.zg)(h=>(h&&F.push(x.cYw.ZoneNotFound),(0,o.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable())))).subscribe(([h,E])=>{if(h&&E){const ee=this.guestModeHelperService.isGuestMode||this.deeplinkHelperService.isSpecialAffiliatePartner(H)?{useBeacon:!0}:null;this.telemetryUtilService.sendDeeplinkSourceEvent({gameId:$,cmsId:G,action:_,source:"",store:J,zone:z,errors:F,utmSource:Z,utmCampaign:ue,utmMedium:u,utmTerm:k,utmContent:W,partnerId:H,additionalErrorInfo:N},ee)}})}}}return b.\u0275fac=function(D){return new(D||b)(r.LFG(t.ed),r.LFG(l.F0),r.LFG(x.unb),r.LFG(i.P),r.LFG(O.Q3),r.LFG(x.zcQ),r.LFG(x.tDF),r.LFG(x.HKp),r.LFG(Y.rw),r.LFG(x.V89),r.LFG(x.qMk),r.LFG(x.VHe),r.LFG(x.gIP),r.LFG(x.rIG),r.LFG(x.wU6),r.LFG(T.y0),r.LFG(x.o15),r.LFG(x.XS0),r.LFG(t.o1),r.LFG(x.Q0y),r.LFG(x.rHN),r.LFG(t.dF),r.LFG(t.Ob),r.LFG(x.VKt),r.LFG(B.En),r.LFG(x.hTr))},b.\u0275prov=r.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},2929:(Ge,ae,e)=>{"use strict";e.d(ae,{_x:()=>M._}),e(22341),e(4197),e(13777);var M=e(37263)},6148:(Ge,ae,e)=>{"use strict";e.d(ae,{En:()=>z,Tb:()=>p,N3:()=>x});var t=e(97483),n=(()=>{return(Z=n||(n={}))[Z.None=0]="None",Z[Z.NetworkOffline=1]="NetworkOffline",Z[Z.FetchError=2]="FetchError",n;var Z})(),x=(()=>{return(Z=x||(x={}))[Z.Default=0]="Default",Z[Z.Concealed=1]="Concealed",x;var Z})(),M=(()=>{return(Z=M||(M={})).OnlySearch="OnlySearch",Z.OnlyFilter="OnlyFilter",Z.SearchFilter="SearchFilter",Z.AllGames="AllGames",M;var Z})();const L={filterIds:[],operationTrigger:t.hMy.None};var p=(()=>{return(Z=p||(p={}))[Z.InitialFetchInProgress=0]="InitialFetchInProgress",Z[Z.PartialFetchInProgress=1]="PartialFetchInProgress",Z[Z.InitialFetchComplete=2]="InitialFetchComplete",Z[Z.FetchComplete=3]="FetchComplete",Z[Z.PartialFetchComplete=4]="PartialFetchComplete",Z[Z.InitialFetchError=5]="InitialFetchError",Z[Z.PartialFetchError=6]="PartialFetchError",Z[Z.InitialFetchNetworkOffline=7]="InitialFetchNetworkOffline",Z[Z.PartialFetchNetworkOffline=8]="PartialFetchNetworkOffline",p;var Z})();const P=t.PMS.Relevance;var o=e(18406),v=e(96671),y=e(41221),C=e(42520),A=e(47504),d=e(23815),m=e(48334),S=e(89258),s=e(13800),r=e(74266),l=e(2629),i=e(33932),O=e(2502),Y=e(71265),T=e(51325),B=e(72221),K=e(51825),b=e(85704),f=e(69060),D=e(39609),I=e(64710),w=e(20010),_=e(53511),$=e(29235),G=e(715),F=e(16873),J=e(9357);let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe){this.indexService=k,this.breakpointObserver=W,this.appBarService=N,this.customLocationService=H,this.pathService=h,this.lcarsService=E,this.layoutService=ee,this.translateService=R,this.refreshUIService=q,this.networkStatusService=ne,this.appConfig=_e,this.browseUxService=U,this.distributedTracingUtilService=re,this.router=pe,this.telemetryService=Pe,this.filters={},this.gameFilterSubject=new o.X(L),this.hasNextPage=!1,this.logger=u.getLogger("gfn/GameSearchFilterService"),this.forceRefreshSubject=new v.xQ,this.searchFilterDataSubject=new v.xQ,this.isGridL1ViewActiveSubject=new o.X(!1),this.viewStateSubject=new v.xQ,this.focusFirstTileSubject=new v.xQ}get gameFilterSubject$(){return this.gameFilterSubject.asObservable()}get isFirstPage(){return this._isFirstPage}set isFirstPage(u){this._isFirstPage=u,this._isFirstPage&&(this.endCursor=void 0)}get hasSearchQuery(){var u;return(null===(u=this.searchString)||void 0===u?void 0:u.length)>0}get hasFilters(){return Object.keys(this.filters).length>0}isMyLibraryFilterApplied(){var u;return null===(u=JSON.stringify(this.filters))||void 0===u?void 0:u.includes("isInLibrary")}initializeLibraryItemRemovedListener(){this.libraryItemRemovedSubscription=K.M.onIsInLibraryChanged().subscribe(u=>{if(this.isMyLibraryFilterApplied()){const k=this.lastSearchFilterData.resultItems.findIndex(W=>W.id===u.id);-1!==k&&setTimeout(()=>{this.lastSearchFilterData.resultItems.splice(k,1),this.totalMatchCount=this.totalMatchCount-1,this.translateService.get("layout.listViewData.games").subscribe(W=>{const N=`${this.totalMatchCount} / ${this.totalGameCount} ${W}`;this.lastGameCountString=N,this.viewStateSubject.next({queryState:this.lastQueryState,gameCountString:N,countFetchInProgress:!1}),this.searchFilterDataSubject.next(this.lastSearchFilterData)})},b.u9)}},y.Z)}initializePunctualUIListener(){this.punctualUISubscription=(0,C.T)(this.refreshUIService.appsRefresh$.pipe((0,S.U)(u=>t.hMy.AppsRefresh)),this.layoutService.reapplyExistingLibraryFilter$.pipe((0,S.U)(u=>t.hMy.LibraryRefresh)),this.layoutService.onAppsRefreshRequested.pipe((0,S.U)(u=>t.hMy.AppsRefresh))).pipe((0,s.w)(u=>{const k=this.browseUxService.gridSectionEvidencePanelOpenStatus$.pipe((0,r.h)(W=>!W),(0,l.q)(1));return(0,A.aj)([k,(0,d.of)(u)])}),(0,r.h)(([u,k])=>!(k===t.hMy.LibraryRefresh&&!this.isMyLibraryFilterApplied())),(0,i.zg)(([u,k])=>k===t.hMy.LibraryRefresh?(0,d.of)(k):(0,d.of)(!0).pipe((0,O.g)(5e3),(0,S.U)(()=>k)))).subscribe(u=>{this.operationTrigger=u,this.refreshSearchFilterGames()},y.Z)}mapErrorTypeToQueryState(u,k=!0){switch(u){case n.NetworkOffline:return k?p.InitialFetchNetworkOffline:p.PartialFetchNetworkOffline;case n.FetchError:return k?p.InitialFetchError:p.PartialFetchError}}initializeDataFetchSubscription(){this.dataFetchSubscription=this.forceRefreshSubject.pipe((0,Y.b)(u=>{this.layoutService.updateAppFetchStatus(!0),this.updateState(this.isFirstPage?p.InitialFetchInProgress:p.PartialFetchInProgress)}),(0,s.w)(u=>this.fetchGames()),(0,Y.b)(u=>{if(this.layoutService.updateAppFetchStatus(!1),!u.errorType)return void this.updateState(this.isFirstPage?p.InitialFetchComplete:p.PartialFetchComplete);const k=this.mapErrorTypeToQueryState(u.errorType,this.isFirstPage);this.updateState(k)})).subscribe(u=>{this.lastSearchFilterData=u,this.searchFilterDataSubject.next(u),this.sendGameSearchFilterEvent(!u.errorType)})}get onFocusFirstTile$(){return this.focusFirstTileSubject.asObservable()}updateState(u){this.lastQueryState=u;let k="";const W={gameCountString:"",queryState:u,countFetchInProgress:!0};switch(u){case p.InitialFetchNetworkOffline:return W.errorMessage="common.connectionError",W.countFetchInProgress=!1,void this.viewStateSubject.next(W);case p.InitialFetchError:return W.errorMessage="common.genericLoadError",W.countFetchInProgress=!1,void this.viewStateSubject.next(W);case p.InitialFetchInProgress:return this.totalGameCount?this.operationTrigger===t.hMy.SortOrderChanged?(W.gameCountString=this.lastGameCountString,W.countFetchInProgress=!1,void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:u,countFetchInProgress:!1})):void this.translateService.get("layout.listViewData.games").subscribe(h=>{var E;this.searchString||this.filters&&null!==(E=Object.keys(this.filters))&&void 0!==E&&E.length?(W.countFetchInProgress=!0,W.gameCountString=` / ${this.totalGameCount} ${h}`):(W.countFetchInProgress=!1,W.gameCountString=`${this.totalGameCount} ${h}`),this.lastGameCountString=W.gameCountString,this.viewStateSubject.next(W)}):void this.viewStateSubject.next(W);case p.InitialFetchComplete:return this.totalGameCount!==this.totalMatchCount&&(k=`${this.totalMatchCount} / `),k+=`${this.totalGameCount}`,void this.translateService.get(1===this.totalMatchCount?"layout.listViewData.game":"layout.listViewData.games").subscribe(h=>{W.gameCountString=`${k} ${h}`,W.countFetchInProgress=!1,this.lastGameCountString=W.gameCountString,this.viewStateSubject.next(W)});case p.PartialFetchNetworkOffline:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:u,countFetchInProgress:!1,errorMessage:"common.connectionError"});case p.PartialFetchError:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:u,countFetchInProgress:!1,errorMessage:"common.genericLoadError"});case p.PartialFetchInProgress:case p.PartialFetchComplete:return void this.viewStateSubject.next({gameCountString:this.lastGameCountString,queryState:u,countFetchInProgress:!1})}}refreshSearchFilterGames(){this.isFirstPage=!0,this.forceRefreshSubject.next()}getSortStringForQuery(){var u;switch(this.selectedSortOption){case t.PMS.AtoZ:return"sortName:ASC";case t.PMS.ZtoA:return"sortName:DESC";default:return null!==(u=this.searchString)&&void 0!==u&&u.length?"itemMetadata.relevance:DESC":"sortName:ASC"}}getCursorForQuery(){return this.endCursor}fetchGames(){const u=this.getSortStringForQuery(),k=this.getCursorForQuery(),W=this.appConfig.gameSearchFilterConfig.pageSize;if(!this.networkStatusService.isOnline)return(0,d.of)({resultItems:[],errorType:n.NetworkOffline,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage});const N=this.distributedTracingUtilService.startSpan(f.j1.SearchFilterGames);return this.distributedTracingUtilService.setSpanAttribute(N,f.NI.HasFilters,this.hasFilters),this.distributedTracingUtilService.setSpanAttribute(N,f.NI.HasSearchQuery,this.hasSearchQuery),this.distributedTracingUtilService.setSpanAttribute(N,f.NI.IsFirstPage,this.isFirstPage),this.lcarsService.getSearchFilterResults(u,this.searchString,this.filters,k,W,N).pipe((0,S.U)(H=>{var h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me;const et=this.layoutService.mapToLcarsAppsData(null===(E=null===(h=null==H?void 0:H.data)||void 0===h?void 0:h.apps)||void 0===E?void 0:E.items);this.hasNextPage=null===(q=null===(R=null===(ee=null==H?void 0:H.data)||void 0===ee?void 0:ee.apps)||void 0===R?void 0:R.pageInfo)||void 0===q?void 0:q.hasNextPage,this.totalGameCount=null===(_e=null===(ne=null==H?void 0:H.data)||void 0===ne?void 0:ne.apps)||void 0===_e?void 0:_e.numberSupported,this.totalMatchCount=null===(pe=null===(re=null===(U=null==H?void 0:H.data)||void 0===U?void 0:U.apps)||void 0===re?void 0:re.pageInfo)||void 0===pe?void 0:pe.totalCount,this.endCursor=null===(me=null===(Te=null===(Pe=null==H?void 0:H.data)||void 0===Pe?void 0:Pe.apps)||void 0===Te?void 0:Te.pageInfo)||void 0===me?void 0:me.endCursor;const Xe={resultItems:et,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage};return this.refreshUIService.setContentExpiryInfo(t.Gxu.Apps),this.distributedTracingUtilService.setSpanAttribute(N,f.NI.Error,!1),this.distributedTracingUtilService.closeSpan(N),Xe}),(0,T.K)(H=>(this.logger.error("Error while getting response for search/filter: ",H),this.distributedTracingUtilService.setSpanAttribute(N,f.NI.Error,!0),this.distributedTracingUtilService.closeSpan(N),(0,d.of)({resultItems:[],errorType:n.FetchError,isFirstPage:this.isFirstPage,hasNextPage:this.hasNextPage}))))}searchMode(){return this.breakpointObserver.observe([B.u3.Handset]).pipe((0,S.U)(u=>u.matches?x.Concealed:x.Default))}get isGridL1ViewActive$(){return this.isGridL1ViewActiveSubject.asObservable()}set isGridL1ViewActive(u){u&&this.router.url!==t.nnJ.GamesSectionGridL1&&this.pathService.navigateByUrl(t.nnJ.GamesSectionGridL1),this.isGridL1ViewActiveSubject.next(u)}get isGridL1ViewActive(){return this.isGridL1ViewActiveSubject.value}performWebSearch(u,k=t.hMy.Search){var W;this.operationTrigger=k,this.searchString=null===(W=null==u?void 0:u.replace(/\\/g,"\\\\"))||void 0===W?void 0:W.replace(/"/g,'\\"'),this.refreshSearchFilterGames(),this.isGridL1ViewActive=!0}sendGameSearchFilterEvent(u=!0){var k,W,N,H;const h=new t.sf3({searchQuery:null!==(k=this.searchString)&&void 0!==k?k:"",appliedFilterIds:null!==(W=this.lastFilterIds)&&void 0!==W?W:[],appliedSortOrder:null!==(N=this.selectedSortOption)&&void 0!==N?N:t.PMS.Relevance,triggeringOperation:null!==(H=this.operationTrigger)&&void 0!==H?H:t.hMy.None,totalResults:u&&void 0!==this.totalMatchCount?this.totalMatchCount:-1});this.telemetryService.push(h)}init(){this.indexService.onFocusFirstTile$.subscribe(()=>{this.focusFirstTileSubject.next()}),this.indexService.setWebSearchCallback(this.performWebSearch.bind(this)),this.appBarService.actionClicked$.subscribe(u=>{"arrow_left"===u&&this.isGridL1ViewActive&&(this.customLocationService.navigateToPreviousRoute(t.MNE.Search),this.indexService.updateSearchActiveState(!1))})}initializeGameSearchFilters(){this.initializeDataFetchSubscription(),this.initializePunctualUIListener(),this.initializeLibraryItemRemovedListener()}resetGameSearchFilters(){var u,k,W;null===(u=this.dataFetchSubscription)||void 0===u||u.unsubscribe(),null===(k=this.punctualUISubscription)||void 0===k||k.unsubscribe(),null===(W=this.libraryItemRemovedSubscription)||void 0===W||W.unsubscribe(),this.searchString=null,this.selectedSortOption=P,this.filters={},this.gameFilterSubject.next(L),this.indexService.clearSearchQuery(),this.totalGameCount=void 0,this.totalMatchCount=void 0,this.endCursor=void 0,this.hasNextPage=void 0,this.operationTrigger=void 0,this.lastFilterIds=[]}getFilterGroupDefinitions(){return this.lcarsService.getFilterGroupDefinitions()}refetchResults(){this.operationTrigger=t.hMy.ManualRetry,this.forceRefreshSubject.next()}getData(u=!1){return u||this.refreshSearchFilterGames(),this.searchFilterDataSubject.asObservable()}getQueryState(){return this.viewStateSubject.asObservable()}applyFilter(u){this.operationTrigger=u.operationTrigger,this.gameFilterSubject.next(u),this.isGridL1ViewActive=!0}updateFilter(u,k){let W={};this.lastFilterIds=[],u.forEach(N=>{var H;for(let h=0;h<(null===(H=N.filterFields)||void 0===H?void 0:H.length);h++)W=(0,m.Z)(W,N.filterFields[h]);this.lastFilterIds.push(N.id)}),this.logger.info("mergedFilter",W),this.filters=W,this.operationTrigger=k,this.refreshSearchFilterGames()}updateSortOrder(u){this.selectedSortOption=u,this.operationTrigger=t.hMy.SortOrderChanged,this.refreshSearchFilterGames()}triggerAutoSearch(u,k,W=!1){let N=u;W&&(N=`title_exact:'${u}'`),this.indexService.triggerAutoSearch(N),this.performWebSearch(N,k)}fetchNextPage(){this.isFirstPage=!1,this.operationTrigger=t.hMy.NextPage,this.forceRefreshSubject.next()}getL1ViewHierarchy(){let u="";return u=this.hasSearchQuery&&this.hasFilters?M.SearchFilter:this.hasFilters?M.OnlyFilter:this.hasSearchQuery?M.OnlySearch:M.AllGames,u}}return Z.\u0275fac=function(u){return new(u||Z)(D.LFG(I.ed),D.LFG(w.xB),D.LFG(B.Yg),D.LFG(_.ad),D.LFG(t.X5k),D.LFG(t.unb),D.LFG(t.zcQ),D.LFG($.P),D.LFG(G.sK),D.LFG(t.ePW),D.LFG(I._J),D.LFG(t.VKt),D.LFG(t.OMY),D.LFG(f.Dc),D.LFG(F.F0),D.LFG(J.y0))},Z.\u0275prov=D.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},93260:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>B});var t=e(93557),n=e(70782),x=e(39536),M=e(37661),L=e(12427),p=e(32764),P=e(45224),a=e(31603),o=e(31526),v=e(99763),y=e(34375),C=e(63926),A=e(70932),d=e(71365),m=e(99581),S=e(25800),s=e(85780),r=e(67840),l=e(79884),i=e(72467),O=e(22804),Y=e(39609);const T=[t.u5,y.yu,n.IF,x.yj,l.t,C.gR,L.jT,A.g0,p.UK,P.jc,M.Ps,v.AA,a.Xo,o.Wd,d.uw,m.XF,S.SJ,O.hp,s.Cl,r.yD,i.rt];let B=(()=>{class K{}return K.\u0275fac=function(f){return new(f||K)},K.\u0275mod=Y.oAB({type:K}),K.\u0275inj=Y.cJS({imports:[t.u5,T,t.u5,y.yu,n.IF,x.yj,l.t,C.gR,L.jT,A.g0,p.UK,P.jc,M.Ps,v.AA,a.Xo,o.Wd,d.uw,m.XF,S.SJ,O.hp,s.Cl,r.yD,i.rt]}),K})()},97782:(Ge,ae,e)=>{"use strict";e.d(ae,{rw:()=>I,dX:()=>_});var t=e(18406),n=e(96671),x=e(23815),M=e(18388),L=e(41221),p=e(53809),P=e(16099),a=e(74266),o=e(2629),v=e(33932),y=e(13800),C=e(51325),A=e(89258),d=e(71265),m=e(85501),S=e(64710),s=e(21361),r=e(97483),l=e(39609),i=e(715),O=e(39536),Y=e(16873),T=e(22804),B=e(91565);const K="Previous game launch is in progress",f_body_text="common.connectionError",f_primaryButton={text:"common.close",accentColor:!0};var D=(()=>{return($=D||(D={})).GeforceNow="GeForceNOW",$.GeForceNowStreamer="GeForceNOWStreamer",D;var $})();let I=(()=>{class ${constructor(F,J,z,Z,ue,u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re){var pe;this.loggingService=J,this.bridgeService=z,this.translateService=Z,this.dialog=ue,this.telemetryUtilService=u,this.ecomService=k,this.nativeEventService=W,this.settingsService=N,this.systemInfoService=H,this.router=h,this.gameLaunchAnalyticsService=E,this.gameShareUrlService=ee,this.ownershipSyncService=R,this.pathService=q,this.serviceWorkerService=ne,this.genericDialog=_e,this.sharedStorageService=U,this.guestModeHelperService=re,this.logger=this.loggingService.getLogger("gfn/launch"),this.isLaunchInProgress$=new t.X(!1),this.mobileMode=!(null===(pe=null==F?void 0:F.featureEnablement)||void 0===pe||!pe.mobileMode),this.isBrowserPlatform=S.ng.isBrowserPlatform()}initialize(){this.registerURLRouteChangeEvent(),this.registerForegroundEvent()}setGameLaunchData(F,J){this.gameLaunchAnalyticsService.setGameLaunchMetadata(J,F,this.ownershipSyncService.isAccountLinked(r.iDX.EPIC),!0)}addDesktopShortcut(F,J,z){const Z=Date.now(),ue={installed:!1,message:""};this.logger.info(`Adding\xa0Desktop\xa0Shortcut\xa0for\xa0${F.title},\xa0${F.cmsId},\xa0${J}.`);const u=new n.xQ;return this.telemetryUtilService.sendClickEvent(r.lzt.AddGameShortcut,F.cmsId,J,!0,z),this.ecomService.getUserMembership().pipe((0,a.h)(k=>k.membershipStatus!==r.Tn6.LoggedOut&&k.membershipStatus!==r.Tn6.UnKnown),(0,o.q)(1),(0,v.zg)(k=>k.eComFeatureEnabled&&k.membershipStatus===r.Tn6.UnEntitled?(this.ecomService.openJoinNowDialog(J),this.logger.info("add\xa0to\xa0desktop\xa0canceled\xa0as\xa0user\xa0is\xa0not\xa0entitled."),u.next(ue),u.complete(),(0,x.of)(ue)):this.translateService.get("interface.gametitle",{title:F.title}).pipe((0,y.w)(W=>this.createDesktopShortcut(W,F)),(0,C.K)(W=>(this.telemetryUtilService.sendUserSessionEvent(r.Vwu.AddDesktopShortcut,r.N3X.Failure,Z,W),u.next(ue),u.complete(),(0,M._)(W))),(0,A.U)(W=>{if(W.installed){const N={installed:!0,message:""};return this.logger.info("Created\xa0game\xa0desktop\xa0shortcut\xa0successfully"),this.telemetryUtilService.sendUserSessionEvent(r.Vwu.AddDesktopShortcut,r.N3X.Success,Z),u.next(N),u.complete(),W}{const N=`Game\xa0desktop\xa0shortcut\xa0creation\xa0failed:\xa0${W}`;throw this.logger.error(N),this.telemetryUtilService.sendUserSessionEvent(r.Vwu.AddDesktopShortcut,r.N3X.Failure,Z,N),u.next(ue),u.complete(),new Error("Game\xa0Desktop\xa0shortcut\xa0creation\xa0failed")}}))))}createDesktopShortcut(F,J){return this.systemInfoService.getOsInformation().pipe((0,A.U)(z=>{let Z=D.GeforceNow;return this.logger.info("Getting the OS info using System info Service :",z),"Windows"===z.Platform&&(Z=D.GeForceNowStreamer),Z}),(0,v.zg)(z=>{var Z;return this.bridgeService.executeCommand(s.Gh.Gfn.Streamer.AddDesktopShortcut,{streamer:z,parentGameId:null!==(Z=J.parentGameId)&&void 0!==Z?Z:"",cmsId:""+J.cmsId,appName:F,shortName:J.shortName,iconUrl:J.keyArtUrl})}),(0,d.b)(z=>{this.sharedStorageService.writeBlock(r.mPX.cmsIdToMetadataMap+"/"+J.cmsId,{appStore:J.appStore}).subscribe(()=>{},Z=>{this.logger.error(`Error while storing in sharedStorage for key ${r.mPX.cmsIdToMetadataMap} :`,Z)})}),(0,v.zg)(z=>{if(z)return(0,x.of)(z);{const Z="Null InstallResult received while creating game shortcut";return this.logger.error(Z),(0,M._)(Z)}}))}openConnectionErrorDialog(){const F=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"common.genericLoadError"},bodyText:{text:f_body_text},primaryButton:Object.assign({},f_primaryButton)}});F.primaryButtonClick.pipe((0,o.q)(1)).subscribe(()=>F.close())}requestUserAttention(){this.bridgeService.executeCommand(s.Gh.Common.Windowcontrol.RequestUserAttention).subscribe()}registerForegroundEvent(){this.nativeEventService.get$(S.Nx.ForegroundEvent,S.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.requestUserAttention()},F=>{this.logger.error("Received error in Foreground window event: ",F)})}registerURLRouteChangeEvent(){this.nativeEventService.get$(S.Nx.RouteChange,S.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(F=>{this.checkToLaunchGame(F)},F=>{this.logger.error("Received error for RouteChange window event: ",F)})}checkToLaunchGame(F){try{if((0,r.MAX)(this.router.url))return void this.logger.info("Ignoring RouteChange since we are already in Streamer");const J=JSON.parse(F);if(!(J&&J.hasOwnProperty("current-route")&&J.hasOwnProperty("new-route")&&J["new-route"].includes("cmsId")))return void this.logger.error("Invalid game change data given, ignoring");this.logger.info("Received game change data: ",J);const z=(0,r.A8q)(J["new-route"]),Z=z.cmsId,ue=z.shortName,u=z.launchSource,k=z.parentGameId,W=z.appLaunchMode,N=z.accountLinked,H=Date.now();this.gameLaunchAnalyticsService.setGameLaunchMetadata(ue,H,this.ownershipSyncService.isAccountLinked(r.iDX.EPIC),!0),this.launchStreamer(Z,ue,W,H,N,u,z.sdkClient,k).subscribe(L.Z,L.Z)}catch(J){this.logger.error(`Game change data failed JSON parsing. Error: ${J} | Game change string: ${F}`)}}launchStreamer(F,J,z,Z,ue=!1,u=r.zO5.GeForceNOW,k=null,W="",N=null,H,h){if((0,r.MAX)(this.router.url))return this.logger.info("Ignoring launching game, already in Streamer"),(0,x.of)(!1);window.jsInitStartTs=Z;const E=(0,r.IGn)({cmsId:F,shortName:J,appLaunchMode:z,launchSource:u,sdkClient:k,parentGameId:W,accountLinked:ue,bgImageUrl:h});if(this.settingsService.isVsyncChangedAndToggleSupported())return this.logger.info("Vsync state changed, need to restart game",E),this.settingsService.resetVsyncChanged(),this.restartAppWithParameters(E),p.E;{this.serviceWorkerService.postMessageSw({type:m.rL.GameLaunched,content:H}),this.logger.info("Navigating to streamer url",E);let ee=!1,R="",q="";const ne=this.router.routerState.snapshot.url,_e=window.location.href;return this.logger.info("Router state snapshot url - ",ne),this.logger.info("window href before streamer navigation - ",_e),this.isLaunchInProgress$.pipe((0,o.q)(1),(0,v.zg)(U=>U?(0,M._)(K):(this.isLaunchInProgress$.next(!0),(0,x.of)(!0))),(0,v.zg)(U=>(0,P.D)(this.pathService.navigateByUrl(E))),(0,C.K)(U=>U===K?(0,M._)(U):(ee=!0,R=U,q=(0,r.bY)({cmsId:F,shortName:J,appLaunchMode:z,launchSource:u,sdkClient:k,parentGameId:W},!0),this.logger.error("Error while launching game",U,"attempting to launch with absolute URL",q),window.location.href=q,(0,x.of)(!0))),(0,d.b)(U=>this.closeOpenDialogs()),(0,v.zg)(U=>(U&&this.isBrowserPlatform&&(!this.mobileMode||this.mobileMode&&this.guestModeHelperService.isGuestMode)&&(N?this.gameShareUrlService.setExitUrl(N):this.gameShareUrlService.setGameUrlAsExitUrl()),ee?(this.logger.error(`Hit a router error while launching game, streamerUrl: ${E}, routerErrorMessage: ${R}`),this.logger.error(`New URL we set was ${q}. Previous Href: ${_e}, Previous SnapshotURL: ${ne}`)):U||this.logger.error("No router error but navigation to streamer failed"),this.isLaunchInProgress$.next(!1),(0,x.of)(U))),(0,C.K)(U=>(this.logger.error("Navigation to streamer failed "+U),(0,x.of)(!1))))}}closeOpenDialogs(){this.dialog.closeAll()}restartAppWithParameters(F){const J="#"+F;this.logger.info("Restart app requested with launchArgument: ","--url-route="+J),this.bridgeService.executeCommand(s.Gh.Common.Applicationcontrol.Restart,{launchArguments:"--url-route="+J}).subscribe()}}return $.\u0275fac=function(F){return new(F||$)(l.LFG(r.VKt),l.LFG(S.ed),l.LFG(S.dF),l.LFG(i.sK),l.LFG(O.on),l.LFG(r.wU6),l.LFG(r.BHV),l.LFG(S.o1),l.LFG(r.gbG),l.LFG(S.Ob),l.LFG(Y.F0),l.LFG(r.V89),l.LFG(r.tDF),l.LFG(r.qMk),l.LFG(r.unb),l.LFG(m.HR),l.LFG(T.TX),l.LFG(B.OA),l.LFG(r.hTr))},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();var w=e(47504);let _=(()=>{class ${constructor(F,J,z,Z,ue){this.loggingService=F,this.nesUserInfoService=J,this.localeService=z,this.idmService=Z,this.configuration=ue,this.isRedeemEnabled$=new t.X(!1),this.redeemLinkURL$=new t.X(""),this.logger=this.loggingService.getLogger("RedeemService"),(0,w.aj)([this.idmService.accountStatusChanged,this.nesUserInfoService.providerInfo$]).subscribe(([u,k])=>{if(u.isAuthenticated)this.updateRedeemStatus(k.gfnServiceEndpoints.find(W=>W.idpId===u.idpId));else switch(k.loginPreferredProviders.length){case 0:this.updateRedeemStatus(k.gfnServiceEndpoints.find(W=>W.loginProvider===k.defaultProvider));break;case 1:this.updateRedeemStatus(k.gfnServiceEndpoints.find(W=>W.loginProvider===k.loginPreferredProviders[0]));break;default:{const W=k.gfnServiceEndpoints.filter(N=>k.loginPreferredProviders.includes(N.loginProvider));W.every(N=>N.redeemRedirectUrl===W[0].redeemRedirectUrl)?this.updateRedeemStatus(W[0]):this.updateRedeemStatus({redeemRedirectUrl:this.configuration.redirect.serverUrl.split("?")[0]+"?page="+r.qBq.GFN_PC_REDEEM_MULTI_AFFILIATE});break}}},u=>{this.logger.info("Error fetching the userinfo/provider info for redeem ",u),this.isRedeemEnabled$.next(!1),this.redeemLinkURL$.next("")})}updateRedeemStatus(F){if(null!=F&&F.redeemRedirectUrl){const J=new URL(F.redeemRedirectUrl);J.searchParams.append("language",this.localeService.getLocale()),this.redeemLinkURL$.next(J.href),this.isRedeemEnabled$.next(!0)}else this.isRedeemEnabled$.next(!1),this.redeemLinkURL$.next("")}isRedeemEnabled(){return this.isRedeemEnabled$.asObservable()}}return $.\u0275fac=function(F){return new(F||$)(l.LFG(S.ed),l.LFG(r.fIQ),l.LFG(S.OL),l.LFG(r.No2),l.LFG(r.VKt))},$.\u0275prov=l.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},7866:(Ge,ae,e)=>{"use strict";var t=e(3878),n=e(39609),M=(e(24697),e(52954)),L=e(17169),p=e(52474),P=e(50239),a=e(16873),o=e(93557),v=e(715),y=e(93260),C=e(20010),A=e(60712),d=e(54081),m=e(79585),S=e(63795),s=e(64710),r=e(53511);let l=(()=>{class Ee{constructor(te,we,Ve){this.uiStateSub=void 0,this.showGrid=!1;const pt=we.getLogger("OOGG");te.init().then(()=>{pt.info("OOGG singleton services initialized")}),Ve.setDefaultNavButton({})}ngOnDestroy(){this.uiStateSub&&this.uiStateSub.unsubscribe()}prepareRoute(te){return te&&te.isActivated&&te.activatedRoute?"oogg":"void"}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(S.Vu),n.Y36(s.ed),n.Y36(r.ad))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["nv-oogg"]],decls:4,vars:0,consts:[["fxFlexFill","","fxLayout","column"],["fxFlex","none","logoBehavior","showWhenNoNavButton"],["fxFlex","",1,"master"],["name","oogg"]],template:function(te,we){1&te&&(n.TgZ(0,"div",0),n._UZ(1,"nv-app-bar",1),n.TgZ(2,"div",2),n._UZ(3,"router-outlet",3),n.qZA()())},styles:["[_nghost-%COMP%]{width:100%;height:100%;-webkit-user-select:none;user-select:none;cursor:default;margin:0;background:rgba(0,0,0,0)!important}"]}),Ee})();var i=e(49289),O=e(18937);let Y=(()=>{class Ee{}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=n.oAB({type:Ee}),Ee.\u0275inj=n.cJS({imports:[r.ip,M.ez,a.Bz,P.o9,m.Q,v.aw.forChild()]}),Ee})();n.B6R(l,function(){return[i.w,a.lC,O.xw,O.s9,O.yH]},[]);var T=e(55385),K=(e(97718),e(83943)),b=e(8929),f=e(22804);let D=(()=>{class Ee{constructor(te){if(te)throw new Error("HomeModule already loaded; Import in root module only.")}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(Ee,12))},Ee.\u0275mod=n.oAB({type:Ee}),Ee.\u0275inj=n.cJS({imports:[M.ez,P.o9,o.u5,a.Bz,y.Q,v.aw.forRoot(),C.t8,A._F,d.n_,Y,r.ip,s.it,f.hp]}),Ee})();var I=e(96671),w=e(2629),_=e(10907),$=e(89258),G=e(74266),F=e(85704),J=e(80155),z=e(97483),Z=e(72467),ue=e(41225),u=e(34375),k=e(37661),W=e(25800);const N=["sidenav"];function H(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",12,5),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw();return n.KtG(Ve.onClickGallery())}),n.TgZ(2,"div",6)(3,"div",7),n._UZ(4,"mat-icon",15),n.qZA(),n.TgZ(5,"div",9)(6,"span",10),n._uU(7),n.ALo(8,"translate"),n.qZA()()()()}2&Ee&&(n.xp6(7),n.Oqu(n.lcZ(8,1,"menu.gallery")))}const h=["*"];let E=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn){this.loggingService=te,this.router=we,this.idmService=Ve,this.pathService=pt,this.focusMonitor=Dt,this.inputModalityService=Ht,this.spatialNavigationService=Gt,this.focusManager=rn,this.isAndroidPlatform=!1,this.isBrowserPlatform=!1,this.showGallery=!1,this.destroy$=new I.xQ,this.logger=this.loggingService.getLogger("sidebar.component"),this.isAndroidPlatform=s.ng.isAndroidPlatform(),this.isBrowserPlatform=s.ng.isBrowserPlatform(),this.idmService.accountStatusChanged.pipe((0,_.R)(this.destroy$)).subscribe(Rn=>{this.showGallery=!this.isAndroidPlatform&&!this.isBrowserPlatform&&Rn.isAuthenticated})}ngAfterViewInit(){this.spatialNavigationService.enabled&&this.sidenav.openedChange.pipe((0,_.R)(this.destroy$)).subscribe(te=>{te?this.startMonitoringFocus():this.stopMonitoringFocus()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggle(){this.sidenav.toggle(!this.sidenav.opened,this.inputModalityService.lastFocusOrigin)}close(){this.sidenav.toggle(!1,this.inputModalityService.lastFocusOrigin)}startMonitoringFocus(){this.lastFocusedElement=this.focusManager.currentFocusedElement,this.focusManager.focusFirstChild(this.container.nativeElement),this.focusMonitorSubscription=this.focusMonitor.monitor(this.container.nativeElement,!0).pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.sidenav.opened&&(te?this.focusedElement=this.focusManager.currentFocusedElement:this.focusedElement&&this.focusManager.focusViaLastOrigin(this.focusedElement))})}stopMonitoringFocus(){var te;null===(te=this.focusMonitorSubscription)||void 0===te||te.unsubscribe(),this.focusMonitorSubscription=void 0,this.focusMonitor.stopMonitoring(this.container.nativeElement),this.lastFocusedElement&&(this.focusManager.focusViaLastOrigin(this.lastFocusedElement),this.lastFocusedElement=void 0),this.focusedElement=void 0}onClickGames(){this.logger.info("Games clicked"),this.onNavigate("/layout/games"),this.logger.trace(J.y$.UserGesture,J.Px.Settings,J.Rf.close," Settings option")}onClickGallery(){this.logger.info("Gallery clicked"),this.onNavigate("/layout/gallery")}onClickSettings(){this.logger.trace(J.y$.UserGesture,J.Px.Settings,J.Rf.open," Settings option"),this.logger.info("Settings clicked?"),this.onNavigate("/layout/settings")}onNavigate(te){this.close(),this.router.url!==te&&this.pathService.navigate([te])}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(s.ed),n.Y36(a.F0),n.Y36(z.No2),n.Y36(z.unb),n.Y36(Z.tE),n.Y36(ue.b),n.Y36(f.jr),n.Y36(f.IK))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-sidebar"]],viewQuery:function(te,we){if(1&te&&(n.Gf(N,7),n.Gf(N,5,n.SBq)),2&te){let Ve;n.iGM(Ve=n.CRH())&&(we.sidenav=Ve.first),n.iGM(Ve=n.CRH())&&(we.container=Ve.first)}},ngContentSelectors:h,decls:25,vars:8,consts:[["fxFlexFill","",1,"nv-hig",3,"hasBackdrop"],["autoFocus","false",1,"main-sidebar-drawer"],["sidenav",""],["fxLayout","column","fxFlex",""],["mat-button","","tabIndex","0",1,"nv-item-button-container","complex-button","font-body2",3,"click"],["button",""],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],["svgIcon","game_controller"],["fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",1,"nv-item-labels"],[1,"font-body2"],["mat-button","","class","nv-item-button-container complex-button font-body2","tabIndex","1",3,"click",4,"ngIf"],["mat-button","","tabIndex","1",1,"nv-item-button-container","complex-button","font-body2",3,"click"],["svgIcon","settings"],[1,"main-sidebar-content"],["svgIcon","gallery"]],template:function(te,we){1&te&&(n.F$t(),n.TgZ(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"button",4,5),n.NdJ("click",function(){return we.onClickGames()}),n.TgZ(6,"div",6)(7,"div",7),n._UZ(8,"mat-icon",8),n.qZA(),n.TgZ(9,"div",9)(10,"span",10),n._uU(11),n.ALo(12,"translate"),n.qZA()()()(),n.YNc(13,H,9,3,"button",11),n.TgZ(14,"button",12,5),n.NdJ("click",function(){return we.onClickSettings()}),n.TgZ(16,"div",6)(17,"div",7),n._UZ(18,"mat-icon",13),n.qZA(),n.TgZ(19,"div",9)(20,"span",10),n._uU(21),n.ALo(22,"translate"),n.qZA()()()()()(),n.TgZ(23,"mat-drawer-content",14),n.Hsn(24),n.qZA()()),2&te&&(n.Q6J("hasBackdrop",!0),n.xp6(11),n.Oqu(n.lcZ(12,4,"menu.games")),n.xp6(2),n.Q6J("ngIf",we.showGallery),n.xp6(8),n.Oqu(n.lcZ(22,6,"toolbar.settings")))},dependencies:[M.O5,O.xw,O.Wh,O.s9,O.XD,O.yH,u.eB,k.Hw,W.jA,W.kh,W.LW,v.X$],styles:[".isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.nv-custom-icons[_ngcontent-%COMP%]{display:inline-block;font-family:nvCustomIcons!important;font-variant:normal;color:gray;-webkit-font-smoothing:antialiased}.main-sidebar-drawer[_ngcontent-%COMP%]{width:256px}.main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%]{height:48px;margin:0;padding:0}.main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{align-self:center}.isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl][_ngcontent-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}.main-sidebar-content[_ngcontent-%COMP%]{overflow:hidden}.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]{width:400px}.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.isLtr.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl.tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-sidebar-drawer[_ngcontent-%COMP%]   .nv-item-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.tv-view[_nghost-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-item-button-container[_ngcontent-%COMP%]{height:88px}"]}),Ee})();var ee=e(72221),R=e(95914),q=e(32764),ne=e(21990),_e=e(56550),U=e(70279),re=e(89597),pe=e(6147),Pe=e(61340);const Te=["buttonContainer"];function me(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return Ve.sendTourProgressTelemetry(Ve.actionTypeEnum.Next),n.KtG(Ve.nextStep())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"productTour.next")," "))}function et(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return Ve.sendTourProgressTelemetry(Ve.actionTypeEnum.GotIt),Ve.sendTourExitTelemetry(),n.KtG(Ve.endTour())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"productTour.end")," "))}function Xe(Ee,_t){if(1&Ee&&(n.TgZ(0,"p",1),n._uU(1),n.qZA(),n.TgZ(2,"div",2)(3,"span",3),n._uU(4),n.qZA()(),n.TgZ(5,"div",4,5),n.YNc(7,me,3,3,"button",6),n.YNc(8,et,3,3,"button",6),n.qZA()),2&Ee){const te=_t.step,we=n.oxw();n.xp6(1),n.hij(" ",null==te?null:te.title," "),n.xp6(3),n.hij(" ",null==te?null:te.content," "),n.xp6(3),n.Q6J("ngIf",we.hasNextStep(te)),n.xp6(1),n.Q6J("ngIf",!we.hasNextStep(te))}}let Ze=(()=>{class Ee{constructor(te,we,Ve){this.productTourService=te,this.tourService=we,this.focusManager=Ve,this.destroy$=new I.xQ,this.nextStep=this.tourService.next.bind(this.tourService),this.endTour=this.tourService.end.bind(this.tourService),this.hasNextStep=this.tourService.hasNext.bind(this.tourService),this.actionTypeEnum=ne.Us}sendTourProgressTelemetry(te){this.productTourService.sendProgressTelemetry(te)}sendTourExitTelemetry(){this.productTourService.sendTourExitTelemetry(ne.qb.Success)}ngAfterViewInit(){this.tourService.stepShow$.pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.buttonContainer&&this.focusManager.focusFirstChild(this.buttonContainer.nativeElement)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(_e.Q),n.Y36(U.QL),n.Y36(f.IK))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["nv-product-tour"]],viewQuery:function(te,we){if(1&te&&n.Gf(Te,5),2&te){let Ve;n.iGM(Ve=n.CRH())&&(we.buttonContainer=Ve.first)}},decls:2,vars:0,consts:[["nvTrapFocus","",1,"backdrop"],[1,"nv-product-tour-popover-title","font-header6"],[1,"nv-product-tour-popover-content"],[1,"font-body2"],["nvSpatialNavigationContainer","","nvCaptureRestoreFocus","",1,"nv-product-tour-button-container"],["buttonContainer",""],["mat-button","","class","nv-product-tour-button font-button2",3,"click",4,"ngIf"],["mat-button","",1,"nv-product-tour-button","font-button2",3,"click"]],template:function(te,we){1&te&&(n.TgZ(0,"tour-step-template",0),n.YNc(1,Xe,9,4,"ng-template"),n.qZA())},dependencies:[M.O5,u.eB,U.R5,re.N,pe.e,Pe.D,v.X$],styles:[":root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.backdrop{position:fixed;background-color:#00000080;top:0;left:0;z-index:200;width:100vw;height:100vh}.nv-product-tour-popover-title{margin:16px;cursor:default}.nv-product-tour-popover-content{margin:16px}.nv-product-tour-button{font-size:12px;min-width:64px!important;margin:8px;color:#76b900!important}.nv-product-tour-button-container{display:flex;justify-content:flex-end}.ngxp__container{padding:0!important;width:min(100vw - 32px,344px);border:none!important;box-shadow:none!important;border-radius:0!important;background-color:#46505a}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait),screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape){.ngxp__container{width:calc(min(100vw,100vh) - 32px)}}.ngxp__container[x-placement^=right]{margin-top:20px}html[dir=ltr] .ngxp__container[x-placement^=right]{margin-left:10px!important}html[dir=rtl] .ngxp__container[x-placement^=right]{margin-right:10px!important}.ngxp__container[x-placement^=bottom]{top:22px!important;margin-top:2px!important}html[dir=ltr] .ngxp__container[x-placement^=bottom]{margin-left:5px!important;margin-right:10px!important}html[dir=rtl] .ngxp__container[x-placement^=bottom]{margin-left:10px!important;margin-right:5px!important}.ngxp__container>.ngxp__arrow{border-color:#46505a!important;border-width:19px!important}.ngxp__container[x-placement^=right]>.ngxp__arrow{border-left-width:0!important;left:-10px!important;border-top-color:transparent!important;border-bottom-color:transparent!important}.ngxp__container[x-placement^=bottom]>.ngxp__arrow{border-top-width:0!important;top:-15px!important;border-right-color:transparent!important;border-left-color:transparent!important}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait){html[dir=ltr] .ngxp__container[x-placement^=bottom]{margin-right:14px!important;margin-left:10px!important}html[dir=rtl] .ngxp__container[x-placement^=bottom]{margin-right:10px!important;margin-left:14px!important}html[dir=ltr] .ngxp__container[x-placement=bottom],html[dir=rtl] .ngxp__container[x-placement=bottom]{left:0px!important;right:0px!important;margin-left:16px!important;margin-right:16px!important;transform:translateY(48px)!important}.ngxp__container>.ngxp__arrow{border-width:24px!important}html[dir=ltr] .ngxp__container[x-placement=bottom]>.ngxp__arrow{transform:translate(-5px)}html[dir=rtl] .ngxp__container[x-placement=bottom]>.ngxp__arrow{transform:translate(5px)}}@media screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape){html[dir=ltr] .ngxp__container[x-placement=bottom-end]{margin-left:max(env(safe-area-inset-left) - 5px,11px)!important;margin-right:11px!important}html[dir=rtl] .ngxp__container[x-placement=bottom-end]{margin-left:calc(100vw - 100vh - env(safe-area-inset-right))!important;margin-right:11px!important}html[dir=ltr] .ngxp__container[x-placement=bottom]{margin-left:max(env(safe-area-inset-left) - 5px,11px)!important;margin-right:calc(env(safe-area-inset-right) + 11px)!important}html[dir=rtl] .ngxp__container[x-placement=bottom]{margin-left:calc(env(safe-area-inset-right) + 11px)!important;margin-right:max(env(safe-area-inset-left) - 5px,11px)!important}.ngxp__container>.ngxp__arrow{border-width:24px!important}html[dir=ltr] .ngxp__container[x-placement=bottom-end]>.ngxp__arrow{left:0!important}html[dir=rtl] .ngxp__container[x-placement=bottom-end]>.ngxp__arrow{left:unset!important}}.tv-view .ngxp__container{width:min(100vw - 32px,621px)}.tv-view .ngxp__container>.ngxp__arrow{transform:scale(2)}.tv-view .nv-product-tour-popover-title,.tv-view .nv-product-tour-popover-content{margin:32px}.tv-view .nv-product-tour-button{margin:16px}\n"],encapsulation:2}),Ee})();var nt=e(47504),Me=e(12606),ze=e(33932),le=e(13800),Le=e(94751),Re=e(63155),Q=e(50017),ve=e(13980),be=e(86465),xe=e(21361),ke=e(6148),Ce=e(39536),ge=e(9357),De=e(59248),ye=e(90657),Oe=e(12427),ie=e(99763),qe=e(73557),lt=e(95531),Et=e(47273),kt=e(29595),an=e(35151);const dn=["tc"],xn=["feedbackButton"],un=["searchButton"],Nt=["moreMenuButton"];function bn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"nv-product-tour-step",16)(1,"nv-search",17),n.NdJ("searchInputInteraction",function(Ve){n.CHM(te);const pt=n.oxw(2);return n.KtG(pt.onSearchInputInteraction(Ve))})("searchInputFocusOut",function(Ve){n.CHM(te);const pt=n.oxw(2);return n.KtG(pt.onSearchInputFocusOut(Ve))}),n.qZA()()}if(2&Ee){const te=n.oxw(2);n.s9C("anchorId",te.defaultSearchAnchorId),n.Q6J("hidden",te.shouldDisplaySearchButton),n.xp6(1),n.Q6J("searchDebounceTime",te.searchDebounceTime)("isWebSearch",!0)("smallWidthMode",te.isConcealedSearchMode)("useNvKeyboard",te.nvKeyboardSupported)("activated",te.searchBarActivated)("inputType",te.searchInputType)}}function pn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"nv-product-tour-step",25)(1,"button",26,27),n.NdJ("click",function(Ve){n.CHM(te);const pt=n.oxw(3);return n.KtG(pt.mobileSearchButtonClicked(Ve))}),n.ALo(3,"translate"),n._UZ(4,"mat-icon",28),n.qZA()()}if(2&Ee){const te=n.oxw(3);n.s9C("anchorId",te.lowWidthSearchAnchorId),n.xp6(1),n.s9C("matTooltip",n.lcZ(3,3,"search.search")),n.Q6J("fxHide.lt-340",te.loggedIn)}}function Mn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",29,30),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(3);return n.KtG(Ve.openFeedbackDialog())}),n.ALo(2,"translate"),n._UZ(3,"mat-icon",10),n.qZA()}if(2&Ee){const te=n.oxw(3);n.s9C("matTooltip",n.lcZ(2,2,"feedback.send")),n.Q6J("disabled",te.isFeedbackCalled)}}function ht(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",31),n.NdJ("click",function(Ve){n.CHM(te);const pt=n.oxw(3);return n.KtG(pt.onLogin(Ve))}),n.TgZ(1,"div",32),n._UZ(2,"img",33),n.TgZ(3,"span",34),n._uU(4),n.ALo(5,"translate"),n.qZA()()()}2&Ee&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"toolbar.login")))}function xt(Ee,_t){if(1&Ee&&n._UZ(0,"img",45),2&Ee){const te=n.oxw(4);n.s9C("src",te.badgeUrl,n.LSH)}}function Fe(Ee,_t){if(1&Ee&&(n.TgZ(0,"span",46),n._uU(1),n.qZA()),2&Ee){const te=n.oxw(4);n.xp6(1),n.Oqu(te.currentPlanShortName)}}function ut(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",35,36),n.NdJ("touchstart",function(){n.CHM(te);const Ve=n.MAs(7),pt=n.MAs(1);return n.KtG("none"===Ve.style.display?pt.show(500):null)}),n.TgZ(2,"div",37)(3,"div",38),n._UZ(4,"img",33),n.YNc(5,xt,1,1,"img",39),n.qZA(),n.TgZ(6,"div",40,41)(8,"span",42),n._uU(9),n.qZA(),n.YNc(10,Fe,2,1,"span",43),n.qZA(),n.TgZ(11,"mat-icon",44),n._uU(12,"arrow_drop_down"),n.qZA()()()}if(2&Ee){const te=n.oxw(3),we=n.MAs(4);n.s9C("matTooltip",te.displayName),n.Q6J("matMenuTriggerFor",we),n.xp6(2),n.Q6J("fxLayoutGap",te.badgeUrl?"0":"8px"),n.xp6(3),n.Q6J("ngIf",te.badgeUrl),n.xp6(4),n.Oqu(te.displayName),n.xp6(1),n.Q6J("ngIf",te.currentPlanShortName)}}function gt(Ee,_t){if(1&Ee&&(n.ynx(0),n.YNc(1,pn,5,5,"nv-product-tour-step",18),n.YNc(2,Mn,4,4,"button",19),n.TgZ(3,"button",20,21),n._UZ(5,"mat-icon",22),n.qZA(),n.YNc(6,ht,6,3,"button",23),n.YNc(7,ut,13,6,"button",24),n.BQk()),2&Ee){const te=n.oxw(2),we=n.MAs(12);n.xp6(1),n.Q6J("ngIf",te.searchVisible&&te.shouldDisplaySearchButton),n.xp6(1),n.Q6J("ngIf",te.loggedIn),n.xp6(1),n.Q6J("fxShow.lt-340",te.loggedIn)("matMenuTriggerFor",we),n.xp6(3),n.Q6J("ngIf",!te.loggedIn),n.xp6(1),n.Q6J("ngIf",te.loggedIn)}}function yt(Ee,_t){if(1&Ee&&(n.TgZ(0,"div",13),n.YNc(1,bn,2,8,"nv-product-tour-step",14),n.YNc(2,gt,8,6,"ng-container",15),n.qZA()),2&Ee){const te=n.oxw();n.Q6J("fxLayoutGap",te.isConcealedSearchMode?"8px":"16px"),n.xp6(1),n.Q6J("ngIf",te.searchVisible),n.xp6(1),n.Q6J("ngIf",!te.isConcealedSearchMode||te.shouldDisplaySearchButton)}}function Ut(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",47),n.NdJ("click",function(Ve){n.CHM(te);const pt=n.oxw();return n.KtG(pt.mobileSearchButtonClicked(Ve))}),n._UZ(1,"mat-icon",28),n.TgZ(2,"span"),n._uU(3),n.ALo(4,"translate"),n.qZA()()}2&Ee&&(n.xp6(3),n.Oqu(n.lcZ(4,1,"search.search")))}var en=(()=>{return(Ee=en||(en={})).defaultSearchAnchor="search",Ee.lowWidthSearchAnchor="lowWidthSearch",en;var Ee})();let _n=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn,Rn,Wt,hn,Jn,Zn,ri,gi,Mi,qi,Oi,Gi,eo,to,no,yi,Ei,Bi,bi){var io,oo;this.idmService=we,this.idmLoginService=Ve,this.gameSearchFilterService=pt,this.matDialog=Dt,this.telemetryService=Ht,this.router=Gt,this.nesUserInfoService=rn,this.ecommerceService=Rn,this.loggingService=Wt,this.translateService=hn,this.toastService=Jn,this.telemetryUtilService=Zn,this.customLocationService=ri,this.pathService=gi,this.gfcHelperService=Mi,this.surveyService=qi,this.feedbackService=Oi,this.appBarService=Gi,this.oobeService=eo,this.bridgeService=to,this.indexService=no,this.genericDialog=yi,this.focusManager=Ei,this.destroy$=new I.xQ,this.lastEntitlement=null,this.appInstanceId="",this.searchInputType="text",this.searchVisible=!0,this.shouldDisplaySearchButton=!1,this.searchBarActivated=!1,this.isSearchResultRoute=!1,this.isFeedbackCalled=!1,this.nvKeyboardSupported=!1,this.appBarTemplate="",this.defaultSearchAnchorId=en.defaultSearchAnchor,this.lowWidthSearchAnchorId=en.lowWidthSearchAnchor,this.menuClicked=new n.vpe,this.closeSidebar=new n.vpe,this.loggedIn=!1,this.logger=this.loggingService.getLogger("toolbar.component"),this.nvKeyboardSupported=Bi.enabled,this.hideSoftKeyboardPasswordBar=!(null===(io=null==te?void 0:te.client)||void 0===io||!io.hideSoftKeyboardPasswordBar),this.searchInputType=this.hideSoftKeyboardPasswordBar?"search":"text",this.searchDebounceTime=null===(oo=null==te?void 0:te.gameSearchFilterConfig)||void 0===oo?void 0:oo.searchDebounceTime,this.onLogin=bi.guard(f.Ku.Link,this.onLogin.bind(this)),this.goToAccount=bi.guard(f.Ku.Link,this.goToAccount.bind(this))}ngOnInit(){this.setAppBarInitial(),this.appBarService.actionClicked$.pipe((0,_.R)(this.destroy$)).subscribe(te=>{"menu"===te&&this.menuClicked.emit()}),s.ng.isBrowserPlatform()?(0,nt.aj)([this.gfcHelperService.getAppInstanceId(),this.idmService.accountStatusChanged]).pipe((0,_.R)(this.destroy$)).subscribe(([te,we])=>{this.appInstanceId=te,this.setLoginData(we)}):this.idmService.accountStatusChanged.pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.setLoginData(te)}),this.idmService.accountStatusChanged.pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.logger.info("User login/logout detected, clearing customLocationService state"),this.customLocationService.clearState(),this.router.url.includes(z.nnJ.GamesSectionGridL1)&&!window.location.hash.match(z.nnJ.Deeplink)&&(this.logger.info("Navigating from L1 game-section-grid view to L0"),this.pathService.navigate([z.nnJ.Games]))}),this.initEcommerce(),this.gameSearchFilterService.searchMode().pipe((0,Me.x)(),(0,_.R)(this.destroy$)).subscribe(te=>{this.isConcealedSearchMode=te===ke.N3.Concealed,this.shouldDisplaySearchButton=te===ke.N3.Concealed,this.searchAnchor=this.shouldDisplaySearchButton?this.lowWidthSearchAnchorId:this.defaultSearchAnchorId}),this.setupListeners(),this.feedbackService.setUpToastContainer(this.tc)}onSearchInputFocusOut(te){if(this.isConcealedSearchMode){let we=!1;this.router.url===z.nnJ.GamesSectionGridL1?0===te.currentQuery.length&&(this.appBarService.setNavButtonArrow(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0,we=!0):(this.appBarService.setNavButtonMenu(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0,we=!0),we&&setTimeout(()=>{var Ve,pt,Dt,Ht;const rn=this.loggedIn&&(null===(Ve=this.moreMenuButton)||void 0===Ve?void 0:Ve.nativeElement)&&"none"!==(null===(pt=this.moreMenuButton)||void 0===pt?void 0:pt.nativeElement.style.display)?null===(Dt=this.moreMenuButton)||void 0===Dt?void 0:Dt.nativeElement:null===(Ht=this.searchButton)||void 0===Ht?void 0:Ht.nativeElement;this.focusManager.focusViaLastOrigin(rn)})}}setupListeners(){this.appBarService.template$.pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.appBarTemplate=te.id,"main"===te.id&&(this.searchVisible=te.params.hasOwnProperty("searchVisible")&&te.params.searchVisible)}),this.oobeService.oobeDialogClosedState.pipe((0,_.R)(this.destroy$)).subscribe(te=>{te&&(this.logger.info("OOBE is closed. Reveal logo slide animation"),this.appBarService.revealLogo())}),this.router.events.pipe((0,G.h)(te=>te instanceof a.m2),(0,_.R)(this.destroy$)).subscribe(()=>{this.router.url!==z.nnJ.GamesSectionGridL1&&(this.enableSearchResultRoute(!1),this.gameSearchFilterService.isGridL1ViewActive=!1,this.isConcealedSearchMode&&(this.appBarService.setNavButtonMenu(),this.appBarService.setShrinkNavigation(!1),this.shouldDisplaySearchButton=!0))})}onSearchInputInteraction(te){switch(te.interactionType){case C.af.Click:case C.af.Input:te.currentQuery.length>0&&!this.searchBarActivated&&this.enableSearchResultRoute(!0)}}mobileSearchButtonClicked(te){this.shouldDisplaySearchButton&&this.appBarService.setShrinkNavigation(!0),this.shouldDisplaySearchButton=!1,this.closeSidebar.emit(),this.appBarService.setNavButtonArrow(),setTimeout(()=>this.indexService.clickSearchInput(te))}openFeedbackDialog(){if(s.ng.isAndroidPlatform())return void this.bridgeService.executeCommand(xe.Gh.Common.Survey.Launch).pipe((0,w.q)(1),(0,_.R)(this.destroy$)).subscribe();this.isFeedbackCalled=!0;const te=()=>this.surveyService.getAvailableSurvey([Q.TriggerType.Feedback],"0","",0),we=()=>this.surveyService.isSurveyFeatureAvailable([Q.TriggerType.Feedback]),Ve=()=>this.surveyService.surveyEventListenerCloseDialog(Q.TriggerType.Feedback);this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,ze.zg)(pt=>this.feedbackService.initializeFeedback(pt.serviceEndpoint.loginProvider,te,we,this.appInstanceId)),(0,G.h)(pt=>pt),(0,le.w)(()=>{const pt=this.feedbackService.onOpenFeedbackDialog(Ve);return this.isFeedbackCalled=!1,pt.afterClosed()}),(0,w.q)(1),(0,_.R)(this.destroy$)).subscribe(()=>{this.feedbackButton&&this.focusManager.focusViaLastOrigin(this.feedbackButton._elementRef.nativeElement)},pt=>{this.isFeedbackCalled=!1,this.logger.error("Error opening feedback dialog",pt)})}onLogin(te){this.idmLoginService.login(z.CGJ.ScreenAccountMenu).pipe((0,_.R)(this.destroy$)).subscribe()}onLogout(){this.sendLogoutAttemptTelemetry(),this.logger.trace(J.y$.UserGesture,J.Px.Login,"clicked on logout"),this.idmService.logout().pipe((0,G.h)(te=>te===be.fH.LogoutCompleted||te===be.fH.LogoutFailed),(0,w.q)(1)).subscribe(te=>{te===be.fH.LogoutCompleted?this.logger.info("User logged out"):this.logger.error("Error logging out"),this.resetTelemetryUserId(),this.feedbackService.closeFeedbackDialog()},te=>{this.logger.error("Error logging out: ",te)})}goToAccount(te){this.ecommerceService.openAccountProfilePage(z.CGJ.ScreenAccountMenu,z.D7$.ToolbarComponent)}ngOnDestroy(){this.logger.info("Destroying view!"),this.destroy$.next(!0),this.destroy$.complete(),this.gameSearchFilterService.isGridL1ViewActive=!1}onTestNetwork(){this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(z.U5H,{panelClass:"dialog-component-container",disableClose:!0}))}onSettingsClicked(){this.telemetryService.setScreen(z.CGJ.ScreenSettings),this.router.url!==z.nnJ.Settings&&(this.router.url===z.nnJ.Surveys?this.checkForSurveyCompletion():(this.navigateToSettingsPage(),this.customLocationService.backNavigationRoute=this.router.url))}setAppBarInitial(){this.logoBehavior=r.tc.ShowInitialReveal,this.appBarService.setAll({title:{entry:"",params:{}},info:{entry:"",params:{}},defaultNavButton:{id:"menu",tooltip:"toolbar.menu"},navButtonSetToDefault:!0,icons:[],template:{id:"main",params:{searchVisible:!0}},active:!1})}navigateToSettingsPage(){this.telemetryUtilService.sendClickEvent(z.lzt.Settings,z.CGJ.ScreenSettings,""),this.pathService.navigate([z.nnJ.Settings])}sendLogoutAttemptTelemetry(){this.telemetryUtilService.sendClickEvent(z.lzt.ManualLogout,"ManualLogout","",!1,"",{immediateRequest:!0})}resetTelemetryUserId(){this.telemetryService.setEventsCommonData({userId:"undefined",externalUserId:"undefined",idpId:"undefined"},!0)}showPlanUpgradeToast(te,we,Ve){if(null!==this.lastEntitlement&&this.lastEntitlement.userId===Ve.userId&&this.lastEntitlement.productSku!==te){const pt=new ve.sB;pt.textContent=this.translateService.instant("membership.updatedTo",{name:we}),pt.button={text:this.translateService.instant("common.viewDetails"),action:this.onViewDetailsClicked.bind(this),actionParams:null},this.toastService.show(this.tc,pt)}this.lastEntitlement={userId:Ve.userId,productSku:te}}onViewDetailsClicked(){this.telemetryUtilService.sendClickEvent(z.lzt.ViewMembershipDetails,"",`${z.CGJ.ScreenMainToolbar}/${z.CGJ.ScreenToastMessage}`,!1),this.matDialog.closeAll(),this.pathService.navigate([z.nnJ.Settings])}initEcommerce(){this.ecommerceService.getUserMembership().pipe((0,_.R)(this.destroy$),(0,Le.M)(this.idmService.accountStatusChanged)).subscribe(([te,we])=>{var Ve,pt,Dt,Ht,Gt;te.eComFeatureEnabled&&te.membershipStatus===z.Tn6.Entitled?(this.showPlanUpgradeToast(te.subscription.productSku,null===(Ve=te.product)||void 0===Ve?void 0:Ve.shortDescription,we),this.currentPlanShortName=null===(pt=te.product)||void 0===pt?void 0:pt.shortDescription):te.eComFeatureEnabled?(this.lastEntitlement={userId:we.userId,productSku:null},this.currentPlanShortName=null):(this.lastEntitlement=null,this.currentPlanShortName=null),this.badgeUrl=null===(Gt=null===(Ht=null===(Dt=te.product)||void 0===Dt?void 0:Dt.assets)||void 0===Ht?void 0:Ht.find(rn=>(null==rn?void 0:rn.subType)===z.X92.Badge&&rn.url))||void 0===Gt?void 0:Gt.url})}setLoginData(te){this.user=te,this.loggedIn=this.user.isAuthenticated,this.user.isAuthenticated&&(this.displayName=this.user.displayName)}checkForSurveyCompletion(){const te=this.surveyService.getSurveyBannerInProgress();te?this.openEndSurveyConfirmationDialog(te):this.navigateToSettingsPage()}openEndSurveyConfirmationDialog(te){const we=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:z.vzH.header},bodyText:{text:te.triggerType===Q.TriggerType.UXTestBanner?z.vzH.body.text:z.vzH.bodySurvey.text},primaryButton:Object.assign({},z.vzH.primaryButton),secondaryButton:{text:z.vzH.secondaryButton}}});we.primaryButtonClick.pipe((0,Re.P)(),(0,ze.zg)(()=>this.surveyService.declineSurveys(z._G.DismissManual,z.wN.SurveyScreen,te))).subscribe(()=>{this.navigateToSettingsPage(),we.close()}),we.secondaryButtonClick.pipe((0,Re.P)()).subscribe(()=>{we.close()})}enableSearchResultRoute(te){this.searchBarActivated=te,this.isSearchResultRoute=te,this.gameSearchFilterService.isGridL1ViewActive=te,this.isSearchResultRoute&&(this.closeSidebar.emit(),this.appBarService.setNavButtonArrow())}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(z.VKt),n.Y36(z.No2),n.Y36(z.ZB5),n.Y36(ke.En),n.Y36(Ce.on),n.Y36(ge.y0),n.Y36(a.F0),n.Y36(z.fIQ),n.Y36(z.BHV),n.Y36(s.ed),n.Y36(v.sK),n.Y36(ve.kl),n.Y36(z.wU6),n.Y36(z.X5k),n.Y36(z.unb),n.Y36(z.dgl),n.Y36(z.FR5),n.Y36(d.TB),n.Y36(r.ad),n.Y36(z.HKp),n.Y36(s.dF),n.Y36(C.xB),n.Y36(f.TX),n.Y36(f.IK),n.Y36(De.Ow),n.Y36(f.wI))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-toolbar"]],viewQuery:function(te,we){if(1&te&&(n.Gf(dn,7,n.s_b),n.Gf(xn,5,u.eB),n.Gf(un,5,n.SBq),n.Gf(Nt,5,n.SBq)),2&te){let Ve;n.iGM(Ve=n.CRH())&&(we.tc=Ve.first),n.iGM(Ve=n.CRH())&&(we.feedbackButton=Ve.first),n.iGM(Ve=n.CRH())&&(we.searchButton=Ve.first),n.iGM(Ve=n.CRH())&&(we.moreMenuButton=Ve.first)}},outputs:{menuClicked:"menuClicked",closeSidebar:"closeSidebar"},decls:23,vars:17,consts:[["nvSpatialNavigationGroup","","navigateFunction","normal",3,"logoBehavior","searchAnchor"],[3,"ngSwitch"],["fxLayout","row","fxLayoutAlign","end center","fxFlex","grow",3,"fxLayoutGap",4,"ngSwitchCase"],["nvMatMenuFocusFixup","",1,"toolbar-dropdown"],["userInfoMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"toolbar-dropdown"],["overflowMenu","matMenu"],["mat-menu-item","","class","hig-button-overlay",3,"click",4,"ngIf"],["mat-menu-item","",1,"hig-button-overlay",3,"disabled","click"],["svgIcon","feedback"],["toastContainer",""],["tc",""],["fxLayout","row","fxLayoutAlign","end center","fxFlex","grow",3,"fxLayoutGap"],["fxFlex","",3,"hidden","anchorId",4,"ngIf"],[4,"ngIf"],["fxFlex","",3,"hidden","anchorId"],["fxFlex","",1,"search-box-container",3,"searchDebounceTime","isWebSearch","smallWidthMode","useNvKeyboard","activated","inputType","searchInputInteraction","searchInputFocusOut"],[3,"anchorId",4,"ngIf"],["fxHide.lt-340","","mat-button","","data-focus-loss-exempt","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3","class","feedback-button hig-button-icon",3,"matTooltip","disabled","click",4,"ngIf"],["fxHide","","mat-icon-button","",3,"fxShow.lt-340","matMenuTriggerFor"],["moreMenuButton",""],["svgIcon","more_vert"],["mat-button","","class","user-info user-logged-out font-button2",3,"click",4,"ngIf"],["mat-button","","class","user-info","matTooltipClass","mat-tooltip-font-body3",3,"matMenuTriggerFor","matTooltip","touchstart",4,"ngIf"],[3,"anchorId"],["mat-icon-button","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3",1,"feedback-button",3,"fxHide.lt-340","matTooltip","click"],["searchButton",""],["svgIcon","search"],["fxHide.lt-340","","mat-button","","data-focus-loss-exempt","","nvDisableTooltipIfNeeded","","matTooltipClass","mat-tooltip-font-body3",1,"feedback-button","hig-button-icon",3,"matTooltip","disabled","click"],["feedbackButton",""],["mat-button","",1,"user-info","user-logged-out","font-button2",3,"click"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px"],["src","assets/img/avatar_generic_118.png",1,"avatar-img"],["fxHide.lt-400","",1,"login"],["mat-button","","matTooltipClass","mat-tooltip-font-body3",1,"user-info",3,"matMenuTriggerFor","matTooltip","touchstart"],["accountTooltip","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",3,"fxLayoutGap"],[1,"avatar"],["class","avatar-badge",3,"src",4,"ngIf"],["fxLayout","column","fxHide.lt-md","",1,"display-name"],["accountField",""],[1,"username","font-body2"],["class","font-body3",4,"ngIf"],[1,"material-icons"],[1,"avatar-badge",3,"src"],[1,"font-body3"],["mat-menu-item","",1,"hig-button-overlay",3,"click"]],template:function(te,we){1&te&&(n.TgZ(0,"nv-app-bar",0),n.ynx(1,1),n.YNc(2,yt,3,3,"div",2),n.BQk(),n.qZA(),n.TgZ(3,"mat-menu",3,4)(5,"button",5),n.NdJ("click",function(pt){return we.goToAccount(pt)}),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"button",5),n.NdJ("click",function(){return we.onLogout()}),n._uU(9),n.ALo(10,"translate"),n.qZA()(),n.TgZ(11,"mat-menu",6,7),n.YNc(13,Ut,5,3,"button",8),n.TgZ(14,"button",9),n.NdJ("click",function(){return we.openFeedbackDialog()}),n._UZ(15,"mat-icon",10),n.TgZ(16,"span"),n._uU(17),n.ALo(18,"translate"),n.qZA()()(),n._UZ(19,"div",null,11)(21,"div",null,12)),2&te&&(n.ekj("low-width-search-box",we.isConcealedSearchMode),n.Q6J("logoBehavior",we.logoBehavior)("searchAnchor",we.searchAnchor),n.xp6(1),n.Q6J("ngSwitch",we.appBarTemplate),n.xp6(1),n.Q6J("ngSwitchCase","main"),n.xp6(4),n.hij(" ",n.lcZ(7,11,"toolbar.account")," "),n.xp6(3),n.hij(" ",n.lcZ(10,13,"toolbar.logout")," "),n.xp6(4),n.Q6J("ngIf",we.searchVisible&&we.shouldDisplaySearchButton),n.xp6(1),n.Q6J("disabled",we.isFeedbackCalled),n.xp6(3),n.Oqu(n.lcZ(18,15,"feedback.send")))},dependencies:[M.O5,M.RF,M.n9,O.xw,O.SQ,O.Wh,O.yH,ye.b8,u.eB,Oe.W0,Oe.tN,Oe.D8,k.Hw,ie.Kd,re.b,qe.jf,lt.S,Et.g,kt.b,i.w,an.W,v.X$],styles:[".constants-position-relative[_ngcontent-%COMP%]{position:relative}[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}.nv-custom-icons[_ngcontent-%COMP%]{display:inline-block;font-family:nvCustomIcons!important;font-variant:normal;color:gray;-webkit-font-smoothing:antialiased}nv-app-bar[_ngcontent-%COMP%]{height:56px;background:#393939;box-shadow:0 3px 3px -1px #000,0 4px 5px #00000019,0 1px 10px #00000015;position:relative;z-index:10}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{height:40px;width:auto;align-self:center}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 0 0 8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy: 0;padding:0 0 0 8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0 8px 0 0}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy: 0;padding:0 8px 0 0}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%]{width:24px;height:24px;align-self:center}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{position:relative;height:17px;width:auto;top:9px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{right:11px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{left:34px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-left:4px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy1: 0;padding-left:4px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-right:4px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy1: 0;padding-right:4px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{padding-left:0}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy1: 0;padding-left:0}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{padding-right:0}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy1: 0;padding-right:0}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:64px;max-width:144px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:24px;height:24px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button.feedback-button[_ngcontent-%COMP%]{width:40px;height:40px}nv-app-bar[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], nv-app-bar[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{min-width:40px;line-height:initial}nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#777}.isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin-left:20px}html[dir=ltr][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:20px}.isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin-right:20px}html[dir=rtl][_ngcontent-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:20px}nv-app-bar[_ngcontent-%COMP%]   .low-width-search-box[_ngcontent-%COMP%]   .search-box-container[_ngcontent-%COMP%]{margin:0}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   button.hig-button-icon[_ngcontent-%COMP%]{min-width:70px;min-height:70px;max-height:70px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:32px;height:32px;width:32px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{padding:0;height:70px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info.user-logged-out[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info.user-logged-out[_ngcontent-%COMP%]{padding:12px 16px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:fit-content;height:fit-content}.isLtr.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 14px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{--dummy: 0;margin:0 14px}.isRtl.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin:0 14px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{--dummy: 0;margin:0 14px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;align-self:center}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{height:24px}.isLtr.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{right:15px}.isRtl.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img.avatar-badge[_ngcontent-%COMP%]{left:30px}.tv-view[_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .feedback-button.hig-button-icon.mat-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   nv-app-bar[_ngcontent-%COMP%]   .feedback-button.hig-button-icon.mat-button[_ngcontent-%COMP%]{width:fit-content;height:fit-content}"]}),Ee})();var Vt=e(23815),cn=e(86283),sn=e(71265),tn=e(51325),ct=e(85566),ft=(()=>{return(Ee=ft||(ft={}))[Ee.OS=0]="OS",Ee[Ee.CriticalUpdate=1]="CriticalUpdate",Ee[Ee.RequiredUpdate=2]="RequiredUpdate",Ee[Ee.RecommendedUpdate=3]="RecommendedUpdate",Ee[Ee.NonAdminRecommendedNotification=4]="NonAdminRecommendedNotification",Ee[Ee.BrowserAppUpdate=5]="BrowserAppUpdate",Ee[Ee.AccountLinkingExpired=6]="AccountLinkingExpired",Ee[Ee.NewSyncFeature=7]="NewSyncFeature",Ee[Ee.UsabilityStudy=8]="UsabilityStudy",Ee[Ee.Survey=9]="Survey",Ee[Ee.DownloadNativeClient=10]="DownloadNativeClient",Ee[Ee.InstallPWA=11]="InstallPWA",Ee[Ee.BrowserPushNotification=12]="BrowserPushNotification",Ee[Ee.Games=13]="Games",Ee[Ee.UpdatePWA=14]="UpdatePWA",ft;var Ee})();const ot="clientDownloadStatus",Ct="installPWAStatus",Tt="updatePWAStatus",Xt="browserPushNotification",nn={notificationMsg:"notification.octSurveyMessage",participate:"common.yes",dismiss:"notification.noThanks"},On={notificationMsg:"notification.octSurveyPostMinimizeMessage",participate:"common.continue",dismiss:"notification.quit"},Ye={notificationMsg:"notification.surveyBannerMessage",participate:"notification.participate",dismiss:"notification.dismiss"},Je={notificationMsg:"notification.usabilitySurveyMessage",participate:"notification.participate",dismiss:"notification.dismiss"};var Rt=e(4042),he=e(91565),Ne=e(29235);let at=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt){this.applicationLifetimeService=te,this.sharedStorageService=we,this.updateService=Ve,this.loggingService=pt,this.layoutService=Dt,this.lcarsService=Ht,this.router=Gt,this.confirmationDialogResult=new I.xQ,this.logger=this.loggingService.getLogger("MallRelaunchService")}startRelaunch(te){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.startRelaunch(te)}completeRelaunch(){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.readRelaunchSharedData().pipe((0,ze.zg)(te=>this.currentStateMachine.clearRelaunchSharedData().pipe((0,Rt.h)(te))),(0,$.U)(te=>(0,z.wIc)(this.router.url)?null:te),(0,ze.zg)(te=>(0,ct.isNil)(te)||(0,ct.isNil)(te.cmsId)?(0,Vt.of)(null):(this.logger.info(`Attempting to get application class object for ${te.cmsId}`),this.lcarsService.getMetadataByCmsId(parseInt(te.cmsId,10)))),(0,ze.zg)(te=>{if(te){const we=this.layoutService.updateAndFetchApp(te);return we?we.launch(z.CGJ.ScreenMallHome,"relaunch"):(this.logger.error("Could not find application class object. Cannot complete relaunch"),(0,Vt.of)(!1))}return(0,Vt.of)(!1)}),(0,tn.K)(te=>(this.logger.error("Relaunch failed.",te),(0,Vt.of)(!1))))}ensureNewRelaunchStateMachine(){!(0,ct.isNil)(this.currentStateMachine)&&this.currentStateMachine.isActive()&&this.currentStateMachine.cancelRelaunch(),this.currentStateMachine=new z.WM6(this.applicationLifetimeService,this.sharedStorageService,this.updateService,this.loggingService)}resolveConfirmationDialog(te){this.confirmationDialogResult.next(te)}getStateMachineState$(){return(0,ct.isNil)(this.currentStateMachine)?null:this.currentStateMachine.currentState()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(R.Ll),n.LFG(he.OA),n.LFG(z.GMF),n.LFG(s.ed),n.LFG(Ne.P),n.LFG(z.zcQ),n.LFG(a.F0))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var vt=e(76549),zt=e(26977);function yn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"button",7),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.OS))}),n.TgZ(8,"i",8),n._uU(9,"close"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.xi3(6,2,"notification.systemcheckInformation",te.os)," ")}}function jt(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"button",7),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.Games))}),n.TgZ(8,"i",8),n._uU(9,"close"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,2,"notification.mustOwnGames")," ")}}function Qt(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"button",9),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickRestart(Ve.noteTypes.RecommendedUpdate))}),n._uU(8),n.ALo(9,"translate"),n.qZA()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.xi3(6,3,"notification.recommendedUpdateAvailable",te.newVersion)," "),n.xp6(3),n.hij(" ",n.lcZ(9,6,"notification.restartNow")," ")}}function Zt(Ee,_t){1&Ee&&n._UZ(0,"div")}function ln(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(3);return n.KtG(Ve.onClickRefresh(Ve.noteTypes.RequiredUpdate))}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"notification.refreshNow")," "))}function Tn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(3);return n.KtG(Ve.onClickRestart(Ve.noteTypes.RequiredUpdate))}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"notification.restartNow")," "))}function wt(Ee,_t){if(1&Ee&&(n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",10),n.YNc(8,Zt,1,0,"div",11),n.YNc(9,ln,3,3,"ng-template",null,12,n.W1O),n.YNc(11,Tn,3,3,"ng-template",null,13,n.W1O),n.qZA()()),2&Ee){const te=n.MAs(10),we=n.MAs(12),Ve=n.oxw(2);n.Q6J("ngClass",Ve.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,5,"common.updateRequiredDescription")," "),n.xp6(3),n.Q6J("ngIf",Ve.isBrowserPlatform)("ngIfThen",te)("ngIfElse",we)}}function Dn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6)(5,"span"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"span"),n._uU(9),n.qZA()()(),n.TgZ(10,"button",9),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickRestart(Ve.noteTypes.CriticalUpdate))}),n._uU(11),n.ALo(12,"translate"),n.qZA()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(6),n.hij(" ",n.lcZ(7,4,"notification.criticalUpdateAvailableAndTimeLeft")," "),n.xp6(3),n.Oqu(te.relaunchDisplayTimeRemaining),n.xp6(2),n.hij(" ",n.lcZ(12,6,"notification.restartNow")," ")}}function Bt(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"button",9),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickShowMeHow())}),n._uU(8),n.ALo(9,"translate"),n.qZA()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,3,"notification.showMeHowNotification")," "),n.xp6(3),n.hij(" ",n.lcZ(9,5,"notification.showMeHow")," ")}}function Jt(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"div",6),n._uU(3),n.ALo(4,"translate"),n.qZA()(),n.TgZ(5,"div",10)(6,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickParticipate())}),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.Survey))}),n._uU(10),n.ALo(11,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(3),n.hij(" ",n.lcZ(4,4,te.surveyBannerText.notificationMsg)," "),n.xp6(4),n.hij(" ",n.lcZ(8,6,te.surveyBannerText.participate)," "),n.xp6(3),n.hij(" ",n.lcZ(11,8,te.surveyBannerText.dismiss)," ")}}function Pn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",15),n._uU(3,"get_app"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"div",10)(9,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.DownloadNativeClient))}),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.TgZ(12,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickDownload())}),n._uU(13),n.ALo(14,"translate"),n.ALo(15,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",te.isAppStoreLinkEnabled?n.lcZ(6,4,"notification.useGfnApp"):n.lcZ(7,6,"notification.downloadGfnApp")," "),n.xp6(5),n.hij(" ",n.lcZ(11,8,"common.notNow")," "),n.xp6(3),n.hij(" ",te.isAppStoreLinkEnabled?n.lcZ(14,10,"common.get"):n.lcZ(15,12,"notification.download")," ")}}function kn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",15),n._uU(3,"add_circle_outline"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",10)(8,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.InstallPWA))}),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickInstallPwa())}),n._uU(12),n.ALo(13,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,4,"notification.installPwaMessage")," "),n.xp6(4),n.hij(" ",n.lcZ(10,6,"common.notNow")," "),n.xp6(3),n.hij(" ",n.lcZ(13,8,"notification.install")," ")}}function zn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",5),n._uU(3,"info"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",10)(8,"button",16),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.UpdatePWA))}),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.TgZ(11,"button",16),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickUpdatePWA())}),n._uU(12),n.ALo(13,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,4,"notification.updatePWAMessage")," "),n.xp6(4),n.hij(" ",n.lcZ(10,6,"common.notNow")," "),n.xp6(3),n.hij(" ",n.lcZ(13,8,"notification.update")," ")}}function oi(Ee,_t){1&Ee&&n._UZ(0,"div")}function si(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(3);return n.KtG(Ve.onClickLearnMore())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"common.learnMore")," "))}function qn(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(3);return n.KtG(Ve.onClickAllowNotification())}),n._uU(1),n.ALo(2,"translate"),n.qZA()}2&Ee&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"notification.notifyMe")," "))}function Wi(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"i",15),n._uU(3,"notifications"),n.qZA(),n.TgZ(4,"div",6),n._uU(5),n.ALo(6,"translate"),n.qZA()(),n.TgZ(7,"div",10)(8,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.BrowserPushNotification))}),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.YNc(11,oi,1,0,"div",11),n.YNc(12,si,3,3,"ng-template",null,17,n.W1O),n.YNc(14,qn,3,3,"ng-template",null,18,n.W1O),n.qZA()()}if(2&Ee){const te=n.MAs(13),we=n.MAs(15),Ve=n.oxw(2);n.Q6J("ngClass",Ve.notificationAvailable?"notification":"notification-animate"),n.xp6(5),n.hij(" ",n.lcZ(6,6,"notification.browserPushNotificationMessage")," "),n.xp6(4),n.hij(" ",n.lcZ(10,8,"common.notNow")," "),n.xp6(2),n.Q6J("ngIf",Ve.isPermissionDenied)("ngIfThen",te)("ngIfElse",we)}}const Ln=function(Ee){return{store:Ee}};function Li(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4),n._UZ(2,"img",19),n.TgZ(3,"div",6),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",10)(7,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.AccountLinkingExpired))}),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"button",20),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickGotoSettings(Ve.noteTypes.AccountLinkingExpired))}),n._uU(11),n.ALo(12,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(2),n.s9C("src",te.accountLinking.icon,n.LSH),n.xp6(2),n.hij(" ",n.xi3(5,5,"accountConnection.accountLinking.warningExpired",n.VKq(12,Ln,te.accountLinking.provider))," "),n.xp6(4),n.hij(" ",n.lcZ(9,8,"common.notNow")," "),n.xp6(3),n.hij(" ",n.lcZ(12,10,"common.goToSettings")," ")}}function $e(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",3)(1,"div",4),n._UZ(2,"img",19),n.TgZ(3,"div",6),n._uU(4),n.ALo(5,"translate"),n.qZA()(),n.TgZ(6,"div",10)(7,"button",14),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickClose(Ve.noteTypes.NewSyncFeature))}),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.TgZ(10,"button",20),n.NdJ("click",function(){n.CHM(te);const Ve=n.oxw(2);return n.KtG(Ve.onClickGotoSettings(Ve.noteTypes.NewSyncFeature))}),n._uU(11),n.ALo(12,"translate"),n.qZA()()()}if(2&Ee){const te=n.oxw(2);n.Q6J("ngClass",te.notificationAvailable?"notification":"notification-animate"),n.xp6(2),n.s9C("src",te.accountLinking.icon,n.LSH),n.xp6(2),n.hij(" ",n.lcZ(5,5,"notification.newUbisoftFeatureBanner")," "),n.xp6(4),n.hij(" ",n.lcZ(9,7,"common.notNow")," "),n.xp6(3),n.hij(" ",n.lcZ(12,9,"common.goToSettings")," ")}}const bt=function(){return["left","right"]};function g(Ee,_t){if(1&Ee&&(n.TgZ(0,"div",1),n.YNc(1,yn,10,5,"div",2),n.YNc(2,jt,10,4,"div",2),n.YNc(3,Qt,10,8,"div",2),n.YNc(4,wt,13,7,"div",2),n.YNc(5,Dn,13,8,"div",2),n.YNc(6,Bt,10,7,"div",2),n.YNc(7,Jt,12,10,"div",2),n.YNc(8,Pn,16,14,"div",2),n.YNc(9,kn,14,10,"div",2),n.YNc(10,zn,14,10,"div",2),n.YNc(11,Wi,16,10,"div",2),n.YNc(12,Li,13,14,"div",2),n.YNc(13,$e,13,11,"div",2),n.qZA()),2&Ee){const te=n.oxw();n.Q6J("ngSwitch",te.showNote())("containFocus",n.DdM(15,bt)),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.OS),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.Games),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.RecommendedUpdate),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.RequiredUpdate),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.CriticalUpdate),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.NonAdminRecommendedNotification),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.Survey),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.DownloadNativeClient),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.InstallPWA),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.UpdatePWA),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.BrowserPushNotification),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.AccountLinkingExpired),n.xp6(1),n.Q6J("ngSwitchCase",te.noteTypes.NewSyncFeature)}}let X=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn,Rn,Wt,hn,Jn,Zn,ri,gi,Mi,qi,Oi,Gi,eo,to,no,yi,Ei,Bi){this.updateService=we,this.oobeService=Ve,this.mallRelaunchService=pt,this.networkStatusService=Dt,this.surveyService=Ht,this.router=Gt,this.dialog=rn,this.appConfig=Rn,this.localeService=Wt,this.sharedStorageService=hn,this.gfnSwUpdateService=Jn,this.ownershipSyncService=Zn,this.customLocationService=ri,this.pathService=gi,this.pwaService=Mi,this.pwaPromptService=qi,this.snackbar=Oi,this.translateService=Gi,this.genericDialog=eo,this.systemInfoService=to,this.browserPushService=no,this.focusManager=yi,this.appleScreenService=Ei,this.dialogService=Bi,this.noteQueue=[],this.displayTimeConfig=[z.Or7.MINUTES,z.Or7.SECONDS],this.defaultVersion="0.0.0.0",this.millisecondsPerDay=864e5,this.snackBarDuration=7e3,this.bannerOverBannerDelay=1e3,this.noteTypes=ft,this.os={minOsVersion:this.oobeService.getMinOsVersion},this.newVersion={updateVersion:this.defaultVersion},this.notificationAvailable=!1,this.accountLinking={provider:"",icon:""},this.logger=te.getLogger("notification.component"),this.destroy$=new I.xQ,this.isAppStoreLinkEnabled=!!this.appConfig.client.enableAppStoreLink}get isBrowserPlatform(){return s.ng.isBrowserPlatform()}ngOnInit(){var te,we;this.relaunchSecondsRemaining=300,this.relaunchDisplayTimeRemaining="",this.oobeService.oobeDialogClosedState.pipe((0,_.R)(this.destroy$)).subscribe({complete:()=>{this.onOobeSkipped()}}),this.getDownloadPageUrl(),this.checkForClientUpdates(),this.checkForServiceWorkerUpdates(),this.checkForSurveys(),this.checkForAccountLinking(),this.checkForPushNotification(),this.checkOnboardingSyncFeature(),this.systemInfoService.getDeviceOSType().pipe((0,_.R)(this.destroy$),(0,w.q)(1)).subscribe(Ve=>{const Ht=Ve===s.wi.Linux,Gt=Ve===s.wi.ChromeOS;(this.shouldShowClientDownload(Ve===s.wi.Windows,Ve===s.wi.MacOS)||this.isAppStoreLinkEnabled)&&this.checkForClientDownload(),this.shouldShowPwaInstall(Gt,Ht)&&this.checkForPwaInstall()}),null!==(we=null===(te=this.appConfig)||void 0===te?void 0:te.featureEnablement)&&void 0!==we&&we.enableAppleTranslucentStatusBar&&this.checkForPwaUpdate()}getDownloadPageUrl(){const te=this.appConfig.redirect.serverUrl,we=z.qBq.GFN_PC_DOWNLOAD;this.localeService.localeChanged.pipe((0,_.R)(this.destroy$)).subscribe(Ve=>{this.downloadNativeClientUrl=`${te}${Ve}&page=${we}`})}checkForAccountLinking(){this.ownershipSyncService.providerOperationUpdate().pipe((0,G.h)(te=>te.operation===z.pr3.InitialFetchDone||te.operation===z.pr3.LinkingDone||te.operation===z.pr3.LinkingError||te.operation===z.pr3.SyncingDone||te.operation===z.pr3.Expiring),(0,_.R)(this.destroy$)).subscribe(te=>{this.logger.info("Account linking provider:",te.provider),this.checkForAccountLinkingExpiration(te.provider)})}checkOnboardingSyncFeature(){this.ownershipSyncService.waitForAccountLinkingData.pipe((0,$.U)(te=>this.ownershipSyncService.getEnabledAccountProviders().filter(Ve=>this.appConfig.accountLinking.newFeatureAddition.includes(Ve.type))),(0,le.w)(te=>{const we=[];return null==te||te.forEach(Ve=>{Ve&&(this.logger.info("Check for new feature noification",Ve),we.push(this.checkForNewSyncingFeature(Ve.type)))}),(0,nt.aj)(we)}),(0,w.q)(1),(0,_.R)(this.destroy$)).subscribe()}checkForClientUpdates(){this.updateService.getUpdates$().pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.logger.info("New udpate available"),this.onUpdateAvailable({update:te,isNonAdmin:!1})},te=>{this.logger.error("Received error from getUpdate$ observable: ",te)}),this.updateService.updateRequiredOnLaunch$().pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.logger.info("Successfully checked for existing update")},te=>{this.logger.error("Failed to check for existing update ticket",te)})}checkForServiceWorkerUpdates(){s.ng.isBrowserPlatform()&&(this.logger.info("Service worker registring for updates"),this.gfnSwUpdateService.updateReady().pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.logger.info("Service worker update ready. Showing notification."),this.onUpdateAvailable({update:{version:null,severity:z.WOA.Required},isNonAdmin:!1})}))}persistPromptState(te){this.sharedStorageService.writeBlock(te,{appVersion:this.appConfig.build.version,isPromptDismissed:!0}).pipe((0,_.R)(this.destroy$)).subscribe()}persistPushNotificationPromptState(){this.sharedStorageService.writeBlock(Xt,{appVersion:this.appConfig.build.version,isPromptDismissed:!0,timeLastShown:Date.now()}).pipe((0,w.q)(1),(0,_.R)(this.destroy$)).subscribe(()=>this.logger.info("persist Push Notification Prompt State is success"),te=>this.logger.error("Error while writing to shared storage for browserPushNotification",te))}isMajorVersionUpdate(te,we){return!te||Number(te.split(".")[2])<Number(we.split(".")[2])}shouldShowClientDownload(te,we){return s.ng.isBrowserPlatform()&&(we&&!s.ng.isTouchPlatform()||te)}shouldShowPwaInstall(te,we){return te||we}checkForClientDownload(){this.sharedStorageService.readBlock(ot).pipe((0,sn.b)(te=>{(!te.appVersion||this.isMajorVersionUpdate(te.appVersion,this.appConfig.build.version)||!te.isPromptDismissed)&&(this.logger.info("Showing download client prompt"),this.addNote(ft.DownloadNativeClient))}),(0,_.R)(this.destroy$)).subscribe()}checkForPwaInstall(){(0,nt.aj)([this.sharedStorageService.readBlock(Ct),this.pwaService.onPWAModeChange,this.pwaPromptService.pwaInstallPromptCaptured$]).pipe((0,$.U)(([te,we,Ve])=>{this.logger.info("PWA Prompt: Emitted values:",te,we),te.appVersion&&!this.isMajorVersionUpdate(te.appVersion,this.appConfig.build.version)&&te.isPromptDismissed||we?(this.logger.info("Removing PWA installation prompt"),this.removeNote(ft.InstallPWA)):(this.logger.info("Showing PWA installation prompt"),this.addNote(ft.InstallPWA))}),(0,_.R)(this.destroy$)).subscribe()}checkForPwaUpdate(){(0,nt.aj)([this.sharedStorageService.readBlock(Tt),this.pwaService.onPWAModeChange,this.appleScreenService.isDeprecated()]).pipe((0,$.U)(([te,we,Ve])=>{this.logger.info("PWA Prompt: Emitted values:",te,we),!Ve||!we||te.appVersion&&!this.isMajorVersionUpdate(te.appVersion,this.appConfig.build.version)&&te.isPromptDismissed?(this.logger.info("Removing PWA Update prompt"),this.removeNote(ft.UpdatePWA)):(this.logger.info("Showing PWA Update prompt"),this.addNote(ft.UpdatePWA))}),(0,_.R)(this.destroy$)).subscribe()}checkForPushNotification(){this.pushNotificationBannerSubscription=this.browserPushService.isNotificationAllowed().pipe((0,ze.zg)(te=>(this.logger.info("Notification Banner is allowed to show: ",te),te?this.checkForNotificationBanner():(0,Vt.of)(!1)))).subscribe(te=>{this.logger.info("Notification Banner is shown: ",te)},te=>{this.logger.error("Error occured while checking for Push Notification Banner",te)})}checkForNotificationBanner(){return this.sharedStorageService.readBlock(Xt).pipe((0,$.U)(te=>this.browserPushService.isNotificationSupported()&&Notification.permission!==z.Ad8.Granted&&(!te.appVersion||!te.isPromptDismissed||this.isMajorVersionUpdate(te.appVersion,this.appConfig.build.branch)&&this.checkBannerExpiry(te.timeLastShown,7))?(this.logger.info("Showing Browser Push Notification Permission Prompt"),this.logger.info("Notification.permission from Notification API ",Notification.permission),this.isPermissionDenied=Notification.permission===z.Ad8.Denied,this.addNote(ft.BrowserPushNotification),!0):(this.removeNote(ft.BrowserPushNotification),!1)))}checkBannerExpiry(te,we){return!te||(Date.now()-te)/this.millisecondsPerDay>we}checkForSurveys(){this.logger.info("Check if survey is available"),this.surveyService.checkForAvailableSurvey([Q.TriggerType.SurveyBanner,Q.TriggerType.UXTestBanner,Q.TriggerType.CommunicationBanner]).pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.showSurveyNotification(te)}),this.surveyService.getMinimizedSurvey$().pipe((0,_.R)(this.destroy$)).subscribe(te=>{this.showSurveyNotification(te)})}showSurveyNotification(te){this.logger.info("Received survey from survey service: ",te),this.logger.info("Is a minimized survey ?",null==te?void 0:te.surveyVisited);const we=this.surveyService.getBannerSurveyTriggerType(),Ve=ft.Survey;!(0,ct.isNil)(te)&&this.checkForBrowserPlatform()?(this.logger.info("showing survey notification",we),this.addNote(Ve),this.surveyBannerText=this.getSurveyBannerText(we,te.surveyVisited),this.surveyService.sendUserSurveyTelemetry(te.surveyVisited?z._G.NotifyPostMinimize:z._G.Notify,z.wN.MallScreen,we,te),we!==Q.TriggerType.CommunicationBanner&&this.addNoteTimer()):(this.hasSpecificNote(ft.UsabilityStudy)||this.hasSpecificNote(ft.Survey))&&(0,ct.isNil)(te)?(this.logger.info("usability study or survey already present and result is undefined",Ve),this.removeNote(Ve)):this.logger.info("Skipping usability study",te)}getSurveyBannerText(te,we=!1){switch(te){case Q.TriggerType.SurveyBanner:return Ye;case Q.TriggerType.UXTestBanner:return Je;case Q.TriggerType.CommunicationBanner:return we?On:nn}}checkForBrowserPlatform(){return!s.ng.isBrowserPlatform()||s.ng.isBrowserPlatform()&&this.router.url!==z.nnJ.Surveys}stopExistingNotificationTimer(){this.notificationIntervalSubscription&&(this.notificationIntervalSubscription.unsubscribe(),this.notificationIntervalSubscription=null,this.logger.info("notification interval stopped"))}addNoteTimer(){this.stopExistingNotificationTimer();const te=this.surveyService.getBannerNotificationTimer();this.logger.info("config: get timer: ",te),this.notificationIntervalSubscription=(0,cn.F)(te).pipe((0,Re.P)(),(0,G.h)(()=>this.hasSpecificNote(ft.UsabilityStudy)||this.hasSpecificNote(ft.Survey)),(0,ze.zg)(()=>{this.logger.info("Survey or usability study notification timed out removing the notification"),this.removeNote(this.hasSpecificNote(ft.Survey)?ft.Survey:ft.UsabilityStudy);const we=this.surveyService.getSurveyBannerInProgress();return this.surveyService.declineSurveys(z._G.DismissTimeout,z.wN.MallScreen,we)})).subscribe()}addNote(te){this.logger.info("Adding note:",te),this.noteQueue.includes(te)||this.noteQueue.push(te),this.noteQueue.sort((we,Ve)=>we-Ve),this.notificationAvailable=!0}removeNote(te){let we=!1;this.logger.info("Removing note:",te);const Ve=this.noteQueue.indexOf(te),pt=-1===Ve?void 0:this.noteQueue.splice(Ve,1)[0];return this.notificationAvailable=this.hasAnyNote(),this.notificationAvailable&&(we=!0,this.notificationAvailable=!1,setTimeout(()=>{this.notificationAvailable=we},this.bannerOverBannerDelay)),pt}onOobeSkipped(){this.showOsNotificationIfNeeded()}onUpdateAvailable(te){var we;const Ve=te.isNonAdmin;let pt;if(this.logger.info("onUpdateAvailable",te,te.update.severity,Ve),Ve)pt=ft.NonAdminRecommendedNotification;else switch(te.update.severity){case z.WOA.Recommended:pt=ft.RecommendedUpdate;break;case z.WOA.Required:pt=ft.RequiredUpdate;break;case z.WOA.Critical:pt=ft.CriticalUpdate,this.criticalUpdateCountdown();break;default:return void this.logger.error("Unknown update type : ",te.update.severity)}this.addNote(pt),this.newVersion.updateVersion=(null===(we=te.update.version)||void 0===we?void 0:we.toString())||this.defaultVersion}updateCountdownTimer(){this.relaunchSecondsRemaining--,this.relaunchDisplayTimeRemaining=(0,z.TWU)(this.relaunchSecondsRemaining,this.displayTimeConfig)}criticalUpdateCountdown(){const te=(0,cn.F)(1e3).pipe((0,w.q)(this.relaunchSecondsRemaining),(0,sn.b)(we=>{this.logger.info(this.relaunchSecondsRemaining),this.relaunchSecondsRemaining>=1&&this.updateCountdownTimer()}),(0,$.U)(()=>this.relaunchSecondsRemaining),(0,G.h)(we=>0===we),(0,sn.b)(we=>this.logger.info("Calling update and restart..")),(0,ze.zg)(we=>this.mallRelaunchService.startRelaunch(!0)));this.startUpdate(te,ft.CriticalUpdate)}showOsNotificationIfNeeded(){s.ng.isBrowserPlatform()||this.oobeService.meetSysRequirements().pipe((0,_.R)(this.destroy$)).subscribe(te=>{te||(this.logger.info("OS min. requirement is not met, show OS notification"),setTimeout(()=>{this.addNote(ft.OS)},2e3))})}onUpdateError(){return(0,nt.aj)([this.translateService.get("notification.dismiss"),this.translateService.get("notification.updateFailure")]).pipe((0,$.U)(([Ve,pt])=>(this.snackbar.open(pt,Ve,{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}),!1)),(0,_.R)(this.destroy$))}startUpdate(te,we){te.pipe((0,tn.K)(Ve=>(this.removeNote(we),this.logger.error("Update error: ",Ve),this.onUpdateError())),(0,_.R)(this.destroy$)).subscribe(Ve=>{this.logger.info("Update result: ",Ve)})}showNote(){return this.noteQueue[0]}hasAnyNote(){return this.noteQueue.length>0}hasSpecificNote(te){return this.noteQueue.includes(te)}onClickClose(te){const we=this.removeNote(te);we===ft.Games?(this.logger.info("closing oobe message: you must own games"),this.showOsNotificationIfNeeded()):we===ft.OS?this.logger.info("closing oobe message: OS requirements"):we===ft.UsabilityStudy?this.declineSurveys():we===ft.DownloadNativeClient?this.persistPromptState(ot):we===ft.InstallPWA?this.persistPromptState(Ct):we===ft.UpdatePWA?this.persistPromptState(Tt):we===ft.Survey?this.declineSurveys():we===ft.BrowserPushNotification?this.persistPushNotificationPromptState():this.logger.info("closing oobe message")}onClickRefresh(te){this.logger.info("REFRESH NOW clicked. Requesting SW to activate"),this.removeNote(te),this.logger.info("Notification removed due to refresh, type: ",te),this.gfnSwUpdateService.activateServiceWorker().pipe((0,_.R)(this.destroy$)).subscribe(we=>this.logger.info("SW activation result",we),we=>this.logger.info("SW activation err",we.toString()))}onClickParticipate(){this.networkStatusService.isOnline?(this.surveyService.participateInUsabilityStudy(),this.removeNote(this.getNotificationSurveyType())):(this.removeNote(this.getNotificationSurveyType()),this.openConnectionErrorDialog())}getNotificationSurveyType(){return this.hasSpecificNote(ft.Survey)?ft.Survey:ft.UsabilityStudy}onClickDownload(){var te;this.persistPromptState(ot),this.removeNote(ft.DownloadNativeClient),this.isAppStoreLinkEnabled?window.open(null===(te=this.appConfig.client)||void 0===te?void 0:te.appStoreLink):window.open(this.downloadNativeClientUrl)}onClickInstallPwa(){this.persistPromptState(Ct),this.removeNote(ft.InstallPWA),this.pwaPromptService.promptFromDeferredEvent()}onClickUpdatePWA(){this.dialogService.openPwaWallHelpDialog()}onClickAllowNotification(){this.persistPushNotificationPromptState(),this.removeNote(ft.BrowserPushNotification),this.browserPushService.requestPermissionForPushNotification()}onClickLearnMore(){this.persistPushNotificationPromptState(),this.removeNote(ft.BrowserPushNotification),window.open(this.browserPushService.pushNotificationKBAUrl)}declineSurveys(){if(this.networkStatusService.isOnline){const te=this.surveyService.getSurveyBannerInProgress();this.surveyService.declineSurveys(te.surveyVisited?z._G.DismissManualPostMinimize:z._G.DismissManual,z.wN.MallScreen,te).pipe((0,Re.P)()).subscribe(()=>{this.removeNote(this.getNotificationSurveyType()),this.logger.info("Notification removed since survey declined")})}else this.openConnectionErrorDialog(!0)}openConnectionErrorDialog(te=!1){const we=this.focusManager.restoreFocusAfterClosed(()=>this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"notification.errorHeader"},bodyText:{text:"notification.errorDescription"},primaryButton:{text:"common.tryAgain",accentColor:!0},secondaryButton:{text:"common.exit"}}}));we.primaryButtonClick.pipe((0,w.q)(1)).subscribe(()=>{we.close(),te?this.onClickClose(this.getNotificationSurveyType()):(this.logger.info("Trying again to participate"),this.onClickParticipate())}),we.secondaryButtonClick.pipe((0,w.q)(1)).subscribe(()=>{we.close()})}onClickRestart(te){this.startUpdate(this.mallRelaunchService.startRelaunch(!1),te)}onClickShowMeHow(){window.open(z.hEi.BaseUrl+"en_US&page=gfn_pc_help_update"),this.removeNote(ft.NonAdminRecommendedNotification)}checkForAccountLinkingExpiration(te){const we=this.ownershipSyncService.getNotificationInfo(te);if(this.hasSpecificNote(ft.AccountLinkingExpired)&&(this.logger.info("Remove stale expiry notification",te),this.removeNote(ft.AccountLinkingExpired)),we&&we.isAccountLinkingSsoAvailable&&we.loggedIn){const Ve=we.expirationStatus;Ve!==z.hB7.NotExpired&&(this.accountLinking.provider=we.storeName,this.accountLinking.icon=we.icon,Ve===z.hB7.Expired)&&(this.addNote(ft.AccountLinkingExpired),this.dismissNotificationsOnCtaCancel())}}dismissNotificationsOnCtaCancel(){var te;null===(te=this.launchCTASub)||void 0===te||te.unsubscribe(),this.launchCTASub=this.ownershipSyncService.onCancelCTA().pipe((0,_.R)(this.destroy$),(0,w.q)(1)).subscribe(()=>{this.removeNote(ft.AccountLinkingExpired)})}checkForNewSyncingFeature(te){const we=this.ownershipSyncService.getNotificationInfo(te);return this.hasSpecificNote(ft.NewSyncFeature)&&(this.logger.info("Remove stale new feature notification",te),this.removeNote(ft.NewSyncFeature)),te&&we.showOnboardingReconnect?(this.accountLinking.icon=we.icon,this.logger.info("Showing new feature notification",te),this.addNote(ft.NewSyncFeature),this.ownershipSyncService.onboardingStatusChange().pipe((0,G.h)(Ve=>Ve.state&&Ve.providerType===te),(0,w.q)(1),(0,$.U)(()=>(this.logger.info("Clearing new feature notification",te),this.removeNote(ft.NewSyncFeature),(0,Vt.of)(!0))))):(0,Vt.of)(!1)}onClickGotoSettings(te){var we;this.removeNote(te),null===(we=this.launchCTASub)||void 0===we||we.unsubscribe(),this.launchCTASub=null,this.ownershipSyncService.syncCTATileClicked(),this.customLocationService.backNavigationRoute=this.router.url,this.pathService.navigate([z.nnJ.Settings],{skipLocationChange:!0,fragment:"settings_integrations"})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.notificationIntervalSubscription&&this.notificationIntervalSubscription.unsubscribe(),this.snackBarSubscription&&(this.snackBarSubscription.unsubscribe(),this.snackBarSubscription=null),this.pushNotificationBannerSubscription&&(this.pushNotificationBannerSubscription.unsubscribe(),this.pushNotificationBannerSubscription=null)}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(s.ed),n.Y36(z.GMF),n.Y36(z.HKp),n.Y36(at),n.Y36(s._J),n.Y36(z.FR5),n.Y36(a.F0),n.Y36(Ce.on),n.Y36(z.VKt),n.Y36(s.OL),n.Y36(he.OA),n.Y36(z.m$M),n.Y36(z.qMk),n.Y36(z.X5k),n.Y36(z.unb),n.Y36(z.nG5),n.Y36(z.UJ),n.Y36(vt.pl),n.Y36(v.sK),n.Y36(f.TX),n.Y36(s.Ob),n.Y36(z.uu8),n.Y36(f.IK),n.Y36(z.mfJ),n.Y36(z.xAy))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-notification"]],decls:1,vars:1,consts:[["class","notification-container","fxLayout","column","fxLayoutAlign","center","nvSpatialNavigationContainer","","captureFocusForChild","true","nvFocusBackToFirstChild","",3,"ngSwitch","containFocus",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center","nvSpatialNavigationContainer","","captureFocusForChild","true","nvFocusBackToFirstChild","",1,"notification-container",3,"ngSwitch","containFocus"],["class","notification-base",3,"ngClass",4,"ngSwitchCase"],[1,"notification-base",3,"ngClass"],[1,"icon-title-row"],[1,"material-icons","info-icon","notification-info-icon"],[1,"notification-base-message-description","font-body2"],["mat-button","",1,"button-alignment",3,"click"],[1,"material-icons"],["mat-button","","aria-label","now",1,"font-button2","button-alignment",3,"click"],[1,"button-alignment"],[4,"ngIf","ngIfThen","ngIfElse"],["refreshButton",""],["relaunchButton",""],["mat-button","","aria-label","now",1,"font-button2",3,"click"],[1,"material-icons","notification-info-icon"],["mat-button","",1,"font-button2",3,"click"],["learnMoreButton",""],["notifyMeButton",""],[1,"al-icon",3,"src"],["mat-button","","aria-label","go to settings",1,"font-button2",3,"click"]],template:function(te,we){1&te&&n.YNc(0,g,14,16,"div",0),2&te&&n.Q6J("ngIf",we.notificationAvailable)},dependencies:[M.mk,M.O5,M.RF,M.n9,O.xw,O.Wh,ye.oO,u.eB,re.N,zt.s,v.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.notification-gap[_ngcontent-%COMP%]{height:8px}.notification-base[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#393939;width:100%;z-index:1}.notification-base[_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]{display:flex;align-items:center}.notification-base-message-description[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.isLtr[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.notification[_ngcontent-%COMP%]{z-index:1}.notification.ng-hide-add[_ngcontent-%COMP%]{transition:ease-in-out 1s;transition-delay:1s}.notification-animate[_ngcontent-%COMP%]{z-index:1}.notification-animate.ng-hide[_ngcontent-%COMP%]{margin-top:-32px}.notification-animate.ng-hide-add[_ngcontent-%COMP%], .notification-animate.ng-hide-remove[_ngcontent-%COMP%]{transition:ease-in-out .8s;transition-delay:0s}.notification-info-icon[_ngcontent-%COMP%]{color:#ffffffbf;font-size:40px}.isLtr[_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px}.isLtr[_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .icon-title-row[_ngcontent-%COMP%]   .al-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.notification-container[_ngcontent-%COMP%]   button.mat-accent[_ngcontent-%COMP%]{color:#76b900}.notification-container[_ngcontent-%COMP%]{background:#393939;padding:16px 0}.notification-container.ng-hide[_ngcontent-%COMP%]{margin-top:-32px}.notification-container.ng-hide-add[_ngcontent-%COMP%], .notification-container.ng-hide-remove[_ngcontent-%COMP%]{transition:ease-in-out .8s;transition-delay:0s}button[_ngcontent-%COMP%]{height:36px;min-width:36px;border-radius:0}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-right:8px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy2: 0;padding-right:8px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{padding-left:8px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy2: 0;padding-left:8px}.isLtr[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr] button[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl] button[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.isLtr[_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.button-alignment[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-self:flex-end;line-height:36px}.isLtr[_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-left:auto}html[dir=ltr][_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-left:auto}.isRtl[_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .button-alignment[_ngcontent-%COMP%]{margin-right:auto}html[dir=rtl][_ngcontent-%COMP%]   .button-alignment[_ngcontent-%COMP%]{--dummy3: 0;margin-right:auto}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.notification-container[_ngcontent-%COMP%]{background:#191919;padding-bottom:8px;border-bottom:2px solid #393939}.notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]{background:#191919;flex-flow:row wrap;justify-content:space-between}.notification-container[_ngcontent-%COMP%]   .notification-base[_ngcontent-%COMP%]   .notification-base-message-description[_ngcontent-%COMP%]{margin:0 16px}}.tv-view[_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .notification-container[_ngcontent-%COMP%]{padding:8px 0}.tv-view[_nghost-%COMP%]   button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   button[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .notification-info-icon[_ngcontent-%COMP%]{font-size:32px}"]}),Ee})();const de=["mainRouterOutletContainer"],Se=["mainViewport"];function He(Ee,_t){1&Ee&&(n.TgZ(0,"div",4),n._UZ(1,"mat-progress-spinner",5),n.qZA())}function it(Ee,_t){1&Ee&&n._UZ(0,"nv-product-tour")}function dt(Ee,_t){1&Ee&&n._UZ(0,"gfn-notification")}function Pt(Ee,_t){1&Ee&&n._UZ(0,"gfn-notification")}function St(Ee,_t){if(1&Ee){const te=n.EpF();n.TgZ(0,"div",6),n.YNc(1,it,1,0,"nv-product-tour",7),n.TgZ(2,"gfn-toolbar",8),n.NdJ("menuClicked",function(){n.CHM(te);const Ve=n.oxw();return n.KtG(Ve.onMenuClicked())})("closeSidebar",function(){n.CHM(te);const Ve=n.oxw();return n.KtG(Ve.onCloseSidebar())}),n.qZA(),n.YNc(3,dt,1,0,"gfn-notification",7),n.TgZ(4,"gfn-sidebar",9)(5,"div",10,11)(7,"div",12),n.YNc(8,Pt,1,0,"gfn-notification",7),n._UZ(9,"router-outlet"),n.qZA()()()()}if(2&Ee){const te=n.oxw();n.xp6(1),n.Q6J("ngIf",te.isTourActive()),n.xp6(2),n.Q6J("ngIf",!te.smallScreen),n.xp6(5),n.Q6J("ngIf",te.smallScreen)}}let Mt=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn,Rn){var Wt,hn;this.productTourService=Ve,this.router=pt,this.titleService=Dt,this.breakpointObserver=Ht,this.applicationLifetimeService=Gt,this.dialogService=rn,this.backNavigationService=Rn,this.shouldEnableBackToExitApp=!1,this.promptBeforeExitApp=!1,this.viewState=F.$s,this.activeView=F.$s.Loading,this.smallScreen=!1,this.paddingLeft=0,this.paddingRight=0,this.shouldEnableBackToExitApp=!(null===(Wt=we.backNavigation)||void 0===Wt||!Wt.backToExitApp),this.promptBeforeExitApp=!(null===(hn=we.client)||void 0===hn||!hn.promptBeforeExitApp),this.logger=te.getLogger("main-content.component"),this.destroy$=new I.xQ}ngOnInit(){this.isMacPlatform=navigator.platform.toUpperCase().indexOf("MAC")>=0,this.registerForAffilateInfo(),this.titleService.setTitle("GeForce NOW"),this.breakpointObserver.observe(ee.u3.Handset).pipe((0,w.q)(1),(0,_.R)(this.destroy$)).subscribe(te=>{this.smallScreen=te.matches}),this.promptBeforeExitApp&&(this.shutdownWorkHandle=this.applicationLifetimeService.addWorkOnShutdownRequested(()=>(this.logger.info("Showing exit confirmation dialog"),this.dialogService.showExitAppDialog().pipe((0,w.q)(1),(0,$.U)(te=>!te))))),this.shouldEnableBackToExitApp&&this.backNavigationService.enableBackToExitApp()}ngAfterViewInit(){const te=window.getComputedStyle(this.mainViewport.nativeElement);this.paddingLeft=parseInt(te.getPropertyValue("padding-left"),10),this.paddingRight=parseInt(te.getPropertyValue("padding-right"),10),this.mainViewport.nativeElement.addEventListener("touchstart",we=>{const Ve=we.touches[0].pageX;this.paddingLeft<Ve&&Ve<window.innerWidth-this.paddingRight||we.preventDefault()},{passive:!1})}onOrientationChange(){const te=window.getComputedStyle(this.mainViewport.nativeElement);this.paddingLeft=parseInt(te.getPropertyValue("padding-left"),10),this.paddingRight=parseInt(te.getPropertyValue("padding-right"),10)}isTourActive(){return this.productTourService.isTourActive}get isMac(){return this.isMacPlatform}onMenuClicked(){this.gfnSidebar.toggle()}onCloseSidebar(){this.gfnSidebar.close()}registerForAffilateInfo(){this.activeView=F.$s.Ready,this.router.events.pipe((0,G.h)(te=>te instanceof a.m2)).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.mainRouterOutletContainer&&(this.mainRouterOutletContainer.nativeElement.scrollTop=0)},()=>{this.activeView=F.$s.Ready})}ngOnDestroy(){var te;this.destroy$.next(!0),this.destroy$.complete(),null===(te=this.shutdownWorkHandle)||void 0===te||te.remove(),this.shouldEnableBackToExitApp&&this.backNavigationService.disableBackToExitApp()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(s.ed),n.Y36(z.VKt),n.Y36(A.Q3),n.Y36(a.F0),n.Y36(t.Dx),n.Y36(ee.Yg),n.Y36(R.Ll),n.Y36(z.xAy),n.Y36(f.SL))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-main-content"]],viewQuery:function(te,we){if(1&te&&(n.Gf(de,5,n.SBq),n.Gf(E,5),n.Gf(Se,5,n.SBq)),2&te){let Ve;n.iGM(Ve=n.CRH())&&(we.mainRouterOutletContainer=Ve.first),n.iGM(Ve=n.CRH())&&(we.gfnSidebar=Ve.first),n.iGM(Ve=n.CRH())&&(we.mainViewport=Ve.first)}},hostBindings:function(te,we){1&te&&n.NdJ("orientationchange",function(){return we.onOrientationChange()},!1,n.Jf7)},decls:4,vars:3,consts:[["fxLayout","column","fxFlexFill","",1,"common-window","covered-padding",3,"ngSwitch"],["mainViewport",""],["class","layout-spinner-container","fxLayoutAlign","center center","fxFlexFill","",4,"ngSwitchCase"],["fxLayout","column","fxFlexFill","",4,"ngSwitchCase"],["fxLayoutAlign","center center","fxFlexFill","",1,"layout-spinner-container"],["mode","indeterminate","color","accent","diameter","48","strokeWidth","4",1,"layout-spinner"],["fxLayout","column","fxFlexFill",""],[4,"ngIf"],["fxFlex","0 0 auto",1,"main-toolbar",3,"menuClicked","closeSidebar"],["fxFlex","","fxFlexFill","",1,"common-window-content","common-container-overflow"],["fxLayout","row","fxFlex","","fxFlexFill","",1,"common-window-content","common-container-overflow"],["mainRouterOutletContainer",""],["fxFlex","","fxFlexFill",""]],template:function(te,we){1&te&&(n.TgZ(0,"div",0,1),n.YNc(2,He,2,0,"div",2),n.YNc(3,St,10,3,"div",3),n.qZA()),2&te&&(n.Q6J("ngSwitch",we.activeView),n.xp6(2),n.Q6J("ngSwitchCase",we.viewState.Loading),n.xp6(1),n.Q6J("ngSwitchCase",we.viewState.Ready))},dependencies:[M.O5,M.RF,M.n9,O.xw,O.Wh,O.s9,O.yH,a.lC,q.sN,Ze,_n,X,E],styles:[".nv-custom-icons[_ngcontent-%COMP%]{display:inline-block;font-family:nvCustomIcons!important;font-variant:normal;color:gray;-webkit-font-smoothing:antialiased}gfn-toolbar[_ngcontent-%COMP%]{z-index:10}nv-product-tour[_ngcontent-%COMP%]{z-index:200}.gfn-main-content-text[_ngcontent-%COMP%]{margin:24px}.isLtr[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-left)}html[dir=ltr][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy1: 0;padding-left:env(safe-area-inset-left)}.isRtl[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-right:env(safe-area-inset-left)}html[dir=rtl][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy1: 0;padding-right:env(safe-area-inset-left)}.isLtr[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-right:env(safe-area-inset-right)}html[dir=ltr][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy2: 0;padding-right:env(safe-area-inset-right)}.isRtl[_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .covered-padding[_ngcontent-%COMP%]{padding-left:env(safe-area-inset-right)}html[dir=rtl][_ngcontent-%COMP%]   .covered-padding[_ngcontent-%COMP%]{--dummy2: 0;padding-left:env(safe-area-inset-right)}"]}),Ee})();var Be=e(2929),Ie=e(50608);let se=(()=>{class Ee{constructor(te,we,Ve){var pt;this.router=Ve,this.skipLocationChange=!1,this.shouldHandleTizenDeeplink=s.ng.isPWAModeOnSamsungTV(),this.logger=we.getLogger("RedirectGuard"),this.skipLocationChange=!(null===(pt=te.client)||void 0===pt||!pt.skipLocationChange)}canActivate(te,we){if(this.skipLocationChange){const Ve=this.router.getCurrentNavigation();Ve.extras&&(Ve.extras.skipLocationChange=!0)}if(this.shouldHandleTizenDeeplink){this.logger.info("Checking if the app is launched by a deeplink...");const{appControl:Ve}=(0,J.f6)(),pt=Ve&&(0,J.a_)(Ve);if(pt)return this.logger.info("Launched by a deeplink! Now redirecting to",pt),this.router.navigateByUrl(pt,{skipLocationChange:!1,replaceUrl:!0}),Ie.C}return(0,z.n6x)(te.queryParamMap)?this.router.createUrlTree([z.fFR.StreamerRoot],{queryParams:te.queryParams}):this.router.createUrlTree([z.fFR.DefaultRedirect])}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(z.VKt),n.LFG(s.ed),n.LFG(a.F0))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var We=e(57693);let rt=(()=>{class Ee{constructor(te,we,Ve,pt){var Dt;this.redirectService=we,this.systemInfoService=Ve,this.configuration=pt,this.logger=te.getLogger("unsupported-device-guard"),this.browserUniversal=null===(Dt=this.configuration.featureEnablement)||void 0===Dt?void 0:Dt.browserClientUniversalEnablement,this.isSupportedDevice$=this.browserUniversal||(0,z.svt)()?(0,Vt.of)(!0):this.systemInfoService.getSystemInfo().pipe((0,$.U)(Ht=>{let Gt;return s.ng.isBrowserPlatform()?(Gt=!0,s.ng.isMobileFromUserAgent()&&(Gt=Gt&&Ht.OSName!==s.wi.Undefined)):Gt=!0,this.logger.info("Is Browser supported - ",Gt),Gt}),(0,We.d)(1))}canActivateChild(te,we){return this.isSupportedDevice$.pipe((0,ze.zg)(Ve=>Ve?(0,Vt.of)(!0):(this.redirectService.handleUnsupportedAndroidPlatform(),Ie.C)))}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(z.VHe),n.LFG(s.Ob),n.LFG(z.VKt))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),mt=(()=>{class Ee{constructor(te,we,Ve){this.router=te,this.loggingService=we,this.errorHandler=Ve,this.logger=this.loggingService.getLogger("unsupported-route.guard")}canActivateChild(te,we){return this.logger.error("Incorrect route url was entered: ",we.url.toString()),this.errorHandler.handleError(new Error("Error while processing an incorrect route: "+we.url.toString())),this.router.createUrlTree([z.fFR.DefaultRedirect])}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(a.F0),n.LFG(s.ed),n.LFG(n.qLn))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),It=(()=>{class Ee{constructor(te,we){this.loggingService=te,this.redirectService=we,this.logger=this.loggingService.getLogger("trailingdot.guard"),this.options={replace:!0}}canActivateChild(te,we){if(window.location.hostname.endsWith(".")){this.logger.info("Trailing Dot Domain was entered");const Ve=window.location.origin.replace(window.location.hostname,window.location.hostname.slice(0,-1));return this.redirectService.redirectToExternalUrl(`${Ve}${window.location.pathname}`,this.options),!1}return!0}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(z.VHe))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var on=e(79884),Cn=e(14893),Sn=e(58241),Yn=e(88902);let Qn=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn){this.domSanitizer=Ve,this.localeService=pt,this.settingsService=Dt,this.dialogService=Ht,this.breakpointObserver=Gt,this.genericDialog=rn,this.destroy$=new I.xQ,this.logger=te.getLogger("pwa-wall.component"),we.addSvgIcon("gfnLogo",this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/img/Logo_GFN_Lockup.svg"))}ngOnInit(){this.genericDialog.closeAll(),this.logo=this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/icons/GFN-Logo-72.png");let te=this.localeService.getLocale();"en_GB"===te&&(te="en_US");const we=this.settingsService.getLinksUrl(z.qBq.GFN_PC_FAQ_IOS,te),Ve=this.settingsService.getLinksUrl(z.qBq.GFN_PC_INFO,te);this.breakpointObserver.observe(ee.u3.Handset).pipe((0,_.R)(this.destroy$)).subscribe(pt=>{this.smallScreen=pt.matches;const Dt=this.smallScreen?"font-body3-link":"font-body1-link";this.learnArgs={learnMoreLink:`/a><br><a class='${Dt}' href='${Ve}'`},this.infoArgs={faqLink:`class="${Dt}" href="${we}"`},this.helpArgs={helpLink:`class="${Dt}"`}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}addToHomeHelp(){this.dialogService.openPwaWallHelpDialog()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(s.ed),n.Y36(k.jv),n.Y36(t.H7),n.Y36(s.OL),n.Y36(z.gbG),n.Y36(z.xAy),n.Y36(ee.Yg),n.Y36(f.TX))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-pwa-wall"]],decls:57,vars:47,consts:[["fxFlexFill","",1,"parent"],[1,"gfn-background","ext-background-fill"],[1,"white-gradient"],[1,"black-gradient"],[1,"gray-overlay"],[1,"final-black-gradient"],["fxFlexFill","","fxLayoutAlign","start center",1,"dialog-background"],["fxFlex","none","fxLayout","column","fxLayoutAlign","start center",1,"logo-box",3,"fxLayoutGap"],["fxFlex","none","svgIcon","gfnLogo",1,"logo"],["cdkMonitorSubtreeFocus","",1,"logo-text","blurb-font",3,"innerHTML"],["fxFlex","1 1 0.01%",1,"padding"],["fxFlex","none","fxLayout","column","fxLayoutAlign","start stretch",1,"text-box","mat-elevation-z4"],["fxFlex","none","fxLayout","row","fxLayoutAlign","center center",1,"text-header"],[1,"setup-font"],["fxFlex","noshrink","fxLayout","row","fxLayoutAlign","start center",1,"text-box-row",3,"fxLayoutGap"],["fxLayout","row","fxLayoutAlign","center center",1,"icon"],["svgIcon","ios_share"],["fxLayout","column","fxLayoutAlign","center start"],[1,"instruction-font","green"],[1,"instruction-font"],["fxFlex","none",1,"divider"],["svgIcon","add_square"],["cdkMonitorSubtreeFocus","",1,"footer-font",3,"innerHTML","click"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"icon"],["svgIcon","nvidia_logo_green"],["fxFlex","none",1,"divider-full"],["fxFlex","none","fxLayout","row","fxLayoutAlign","center center",1,"last-row"],["cdkMonitorSubtreeFocus","",1,"footer-font",3,"innerHTML"]],template:function(te,we){1&te&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),n._UZ(5,"div",5),n.qZA()()()(),n.TgZ(6,"div",6)(7,"div",7),n._UZ(8,"mat-icon",8)(9,"div",9),n.ALo(10,"trustAsHtml"),n.ALo(11,"translate"),n.qZA(),n._UZ(12,"div",10),n.TgZ(13,"div",11)(14,"div",12)(15,"div",13),n._uU(16),n.ALo(17,"translate"),n.qZA()(),n.TgZ(18,"div",14)(19,"div",15),n._UZ(20,"mat-icon",16),n.qZA(),n.TgZ(21,"div",17)(22,"div",18),n._uU(23),n.ALo(24,"translate"),n.qZA(),n.TgZ(25,"div",19),n._uU(26),n.ALo(27,"translate"),n.qZA()()(),n._UZ(28,"mat-divider",20),n.TgZ(29,"div",14)(30,"div",15),n._UZ(31,"mat-icon",21),n.qZA(),n.TgZ(32,"div",17)(33,"div",18),n._uU(34),n.ALo(35,"translate"),n.qZA(),n.TgZ(36,"div",19),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.TgZ(39,"div",22),n.NdJ("click",function(){return we.addToHomeHelp()}),n.ALo(40,"translate"),n.qZA()()(),n._UZ(41,"mat-divider",20),n.TgZ(42,"div",14)(43,"div",23),n._UZ(44,"mat-icon",24),n.qZA(),n.TgZ(45,"div",17)(46,"div",18),n._uU(47),n.ALo(48,"translate"),n.qZA(),n.TgZ(49,"div",19),n._uU(50),n.ALo(51,"translate"),n.qZA()()(),n._UZ(52,"mat-divider",25),n.TgZ(53,"div",26),n._UZ(54,"div",27),n.ALo(55,"trustAsHtml"),n.ALo(56,"translate"),n.qZA()()()()),2&te&&(n.xp6(1),n.ekj("small",we.smallScreen),n.xp6(5),n.ekj("big",!we.smallScreen)("small",we.smallScreen),n.xp6(1),n.Q6J("fxLayoutGap",we.smallScreen?"24px":"50px"),n.xp6(2),n.Q6J("innerHTML",n.lcZ(10,20,n.xi3(11,22,"iosPWA.promotion.subtitle",we.learnArgs)),n.oJD),n.xp6(7),n.Oqu(n.lcZ(17,25,"iosPWA.instruction.title")),n.xp6(2),n.Q6J("fxLayoutGap",we.smallScreen?"16px":"24px"),n.xp6(5),n.Oqu(n.lcZ(24,27,"iosPWA.instruction.step1")),n.xp6(3),n.Oqu(n.lcZ(27,29,"iosPWA.instruction.step1Text")),n.xp6(3),n.Q6J("fxLayoutGap",we.smallScreen?"16px":"24px"),n.xp6(5),n.Oqu(n.lcZ(35,31,"iosPWA.instruction.step2")),n.xp6(3),n.Oqu(n.lcZ(38,33,"iosPWA.instruction.step2Text")),n.xp6(2),n.Q6J("innerHTML",n.xi3(40,35,"iosPWA.instruction.step2Subtext",we.helpArgs),n.oJD),n.xp6(3),n.Q6J("fxLayoutGap",we.smallScreen?"16px":"24px"),n.xp6(5),n.Oqu(n.lcZ(48,38,"iosPWA.instruction.step3")),n.xp6(3),n.Oqu(n.lcZ(51,40,"iosPWA.instruction.step3Text")),n.xp6(4),n.Q6J("innerHTML",n.lcZ(55,42,n.xi3(56,44,"iosPWA.information",we.infoArgs)),n.oJD))},dependencies:[O.xw,O.SQ,O.Wh,O.s9,O.yH,on.d,k.Hw,Cn.E,Sn.p,Z.kH,v.X$,Yn.W],styles:[".parent[_ngcontent-%COMP%]{position:relative}@media (orientation: landscape){.small.dialog-background[_ngcontent-%COMP%]{flex-direction:row!important;align-items:center!important}}@media (orientation: landscape){.small.gfn-background[_ngcontent-%COMP%]{width:50%}}.logo-box[_ngcontent-%COMP%]{margin-top:75px}.big[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{margin-top:150px}.padding[_ngcontent-%COMP%]{max-height:55px;height:55px}.big[_ngcontent-%COMP%]   .padding[_ngcontent-%COMP%]{max-height:60px;height:60px}@media (orientation: landscape){.small[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{flex:0 0 50%!important;margin-top:0}.big[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{margin-top:40px}.small[_ngcontent-%COMP%]   .padding[_ngcontent-%COMP%]{height:0;max-height:0}}.logo[_ngcontent-%COMP%]{width:120px;height:24px}.big[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:245px;height:47px}.logo-text[_ngcontent-%COMP%]{padding:0 20% 10px;text-align:center}.text-box[_ngcontent-%COMP%]{background:#292929;margin:0 16px 16px;width:calc(100vw - 32px)}.big[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{max-width:548px}@media (orientation: landscape){.small[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{margin:0;width:50vw;flex:0 0 50%!important;align-self:stretch}}.text-header[_ngcontent-%COMP%]{background:#191919;width:100%;height:42px;padding:0 16px}.big[_ngcontent-%COMP%]   .text-header[_ngcontent-%COMP%]{height:55px}.text-box-row[_ngcontent-%COMP%]{padding:14px 16px}.big[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding:26px 0}@media (orientation: landscape){.isLtr[_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding-right:max(env(safe-area-inset-right,16px),16px)}html[dir=ltr][_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{--dummy2: 0;padding-right:max(env(safe-area-inset-right,16px),16px)}.isRtl[_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{padding-left:max(env(safe-area-inset-right,16px),16px)}html[dir=rtl][_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]   .text-box-row[_ngcontent-%COMP%]{--dummy2: 0;padding-left:max(env(safe-area-inset-right,16px),16px)}}.last-row[_ngcontent-%COMP%]{height:42px;padding:0 16px}.big[_ngcontent-%COMP%]   .last-row[_ngcontent-%COMP%]{height:55px}.icon[_ngcontent-%COMP%]{width:44px;height:44px;color:#fff}.isLtr[_nghost-%COMP%]   .icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:16px}.isRtl[_nghost-%COMP%]   .icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:16px}.big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:46px;height:46px}.isLtr[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:30px}html[dir=ltr][_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:30px}.isRtl[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:30px}html[dir=rtl][_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:30px}.icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:44px;height:44px}.big[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:46px;height:46px}.divider[_ngcontent-%COMP%]{margin:0 16px}.big[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:0 24px}.divider-full[_ngcontent-%COMP%]{margin:0}.blurb-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:24px;line-height:32px;letter-spacing:0;font-weight:500;text-transform:uppercase}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .blurb-font[_ngcontent-%COMP%]{font-size:48px;line-height:64px}.setup-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-align:center}.tv-view[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .setup-font[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.instruction-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.instruction-font.green[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;color:#76b900}.tv-view[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-weight:500;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0;color:#76b900}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .instruction-font.green[_ngcontent-%COMP%]{font-size:32px;line-height:48px}.footer-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:12px;line-height:16px;letter-spacing:0;text-align:center;margin-top:8px}.tv-view[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffb3;font-weight:400;font-style:normal;text-transform:none;font-size:16px;line-height:24px;letter-spacing:0}.tv-view[_ngcontent-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .big[_ngcontent-%COMP%]   .footer-font[_ngcontent-%COMP%]{font-size:32px;line-height:48px}"]}),Ee})(),ei=(()=>{class Ee{constructor(te){this.unsupportedBrowserService=te}canActivate(te,we){return this.unsupportedBrowserService.shouldDisplayPWAGuidance$}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(z.rHN))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),pi=(()=>{class Ee{constructor(te,we,Ve){this.loggingService=te,this.injector=we,this.meta=Ve,this.logger=this.loggingService.getLogger("gdn-guard")}canActivateChild(te,we){return!(null==window?void 0:window.isGDNDomain)||(this.meta.addTag({name:"robots",content:"noindex, nofollow"}),!!(0,z.svt)()||(this.redirectService=this.injector.get(z.VHe),this.logger.info("Redirecting to GDN Home Page"),this.redirectService&&this.redirectService.redirectTo(z.hEi.GdnHomePage,{replace:!0}),!1))}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(n.zs3),n.LFG(t.h_))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var Ri=e(2502);let zi=(()=>{class Ee{constructor(te){this.appConfig=te}preload(te,we){var Ve;const pt=null===(Ve=te.data)||void 0===Ve?void 0:Ve.eagerLoadingConfigKey;if(!pt)return(0,Vt.of)(null);const Dt=this.appConfig.eagerLoadingConfig[pt];return void 0===Dt?(0,Vt.of)(null):(0,Vt.of)(!0).pipe((0,Ri.g)(1e3*Dt),(0,$.U)(Ht=>we()))}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(z.VKt))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var ai=e(43508);const li=[{path:"",pathMatch:"full",canActivate:[se],children:[]},{path:"layout",component:Mt,children:[{path:"games",loadChildren:()=>s.OA.retry(()=>Promise.all([e.e(592),e.e(992)]).then(e.bind(e,23992)).then(Ee=>(performance.mark(z.Y6V.LayoutJSLoadEnd),Ee.LayoutModule)),"LayoutModule")},{path:"gallery",loadChildren:()=>Promise.resolve().then(e.bind(e,55385)).then(Ee=>Ee.GalleryModule)},{path:"preview",loadChildren:()=>Promise.resolve().then(e.bind(e,97718)).then(Ee=>Ee.PreviewModule)},{path:"settings",loadChildren:()=>s.OA.retry(()=>Promise.all([e.e(592),e.e(386)]).then(e.bind(e,32386)).then(Ee=>Ee.SettingsModule),"SettingsModule"),data:{}},{path:"surveys",loadChildren:()=>Promise.all([e.e(592),e.e(126)]).then(e.bind(e,94126)).then(Ee=>Ee.SurveysModule),data:{}}]},{path:"deeplink",loadChildren:()=>Promise.resolve().then(e.bind(e,13777)).then(Ee=>Ee.DeeplinkModule),canActivate:[Be._x],data:{}},{path:"",data:{eagerLoadingConfigKey:"streamerPreloadDuration"},loadChildren:()=>s.OA.retry(()=>e.e(353).then(e.bind(e,96353)).then(Ee=>Ee.StreamerModule),"StreamerModule")},{path:"install",canActivate:[ei],component:Qn}],wi=[{path:"",canActivateChild:[rt,pi,It],children:li},{path:"**",canActivateChild:[mt],children:li}];let fn=(()=>{class Ee{constructor(te,we){this.appConfig=we,this.logger=te.getLogger("mall/app-routing-module"),s.OA.sendTelemetry(this.logger),this.appConfig.configFetched$.subscribe(()=>{s.OA.retryAttempts=Number(this.appConfig.get().chunkRetry.retryAttempts),s.OA.intervalBetweenRetries=Number(this.appConfig.get().chunkRetry.interval)})}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(ai.XL))},Ee.\u0275mod=n.oAB({type:Ee}),Ee.\u0275inj=n.cJS({imports:[a.Bz.forRoot(wi,{useHash:!0,preloadingStrategy:zi}),a.Bz]}),Ee})();var $n=e(42930),ar=e(96827),Ai=e(49989),Di=e(39138),Ki=e(66195),lr=e(42520);const wo={entitlement:{userSignedIn:!1,subscribed:!1},recentPlays:{useRecentPlays:!1}},Ni="wgt-private/gaming-hub.json",$t={ESRB:{E:"Everyone","E10+":"Everyone 10+",T:"Teen",M:"Mature"},PEGI:{3:"3+",7:"7+",12:"12+",16:"16+",18:"18+"},GRAC:{ALL:"All"},ClassInd:{L:"Livre",10:"N\xe3o recomendado para menores de 10 anos",12:"N\xe3o recomendado para menores de 12 anos",14:"N\xe3o recomendado para menores de 14 anos",16:"N\xe3o recomendado para menores de 16 anos",18:"N\xe3o recomendado para menores de 18 anos"}};let No=(()=>{class Ee{constructor(te,we,Ve,pt,Dt){this.imageFormatService=we,this.idmService=Ve,this.ecomService=pt,this.layoutService=Dt,this.millisecondsOfDay=864e5,this.maxDays=90,this.logger=te.getLogger("TizenGamingHubService"),this.webServiceLogger=te.getLogger("TizenGamingHubService/WebService")}initialize(){if(!(0,J.fO)())throw new Error("Attempting to initialize on platform without Tizen API support!");tizen.messageport.requestLocalMessagePort("debugging.port").addMessagePortListener((we,Ve)=>{this.webServiceLogger.info(`${we[0].key}, value : ${we[0].value}`)}),this.tizenGfnAppInfo=null==tizen?void 0:tizen.application.getCurrentApplication().appInfo,this.isUserLoggedIn().pipe((0,le.w)(we=>we?this.gamingHubDataChanged():(0,Vt.of)(wo)),(0,tn.K)(we=>(this.logger.info("Failed to get GamingHubData, error: ",we.toString()),Ie.C)),(0,le.w)(we=>{this.logger.info(`Writing GamingHubData to ${Ni}: `,we);const Ve=JSON.stringify(we);return(0,J.gk)(Ni,Ve)})).subscribe(we=>this.logger.info(`Finished writing ${Ni}, bytesCount: `,we),we=>this.logger.error(`Failed when writing ${Ni}, error: `,we))}gamingHubDataChanged(){return(0,nt.aj)([this.entitlementChanged(),this.getRecentPlayItems()]).pipe((0,$.U)(([te,we])=>({entitlement:te,recentPlays:{useRecentPlays:!0,items:we}})))}entitlementChanged(){return this.isUserEntitled().pipe((0,$.U)(te=>({userSignedIn:!0,subscribed:te})))}isUserLoggedIn(){return this.idmService.accountStatusChanged.pipe((0,$.U)(te=>te.isAuthenticated))}isUserEntitled(){return this.ecomService.getUserMembership().pipe((0,G.h)(te=>te.membershipStatus!==z.Tn6.LoggedOut&&te.membershipStatus!==z.Tn6.UnKnown),(0,$.U)(te=>!(te.eComFeatureEnabled&&te.membershipStatus===z.Tn6.UnEntitled)))}getRecentPlayItems(){const te=this.layoutService.getLayout().pipe((0,$.U)(we=>{const Ve=we.data;let pt=null;for(const Dt of Ve){const Ht=Dt.sections;for(const Gt of Ht)Gt.type===z.ByO.MyLibrary&&(pt=Gt)}return pt}));return(0,lr.T)(te,this.layoutService.onLocalMyLibraryChanged).pipe((0,$.U)(we=>{var Ve;const pt=null!==(Ve=null==we?void 0:we.items)&&void 0!==Ve?Ve:[],Dt=[];for(const Ht of pt){const Gt=this.layoutService.fetchApplication(Ht.id);if(null==Gt||!Gt.data||Gt.id===z.U19.id||Gt.id===z.Jn8.id)continue;const rn=this.createRecentPlayItem(Gt.data);rn&&Dt.push(rn)}return Dt}))}createRecentPlayItem(te){const we=[];for(const Ht of te.variants){const Gt=Date.parse(Ht.gfn.timeAddedToLibrary);Number.isNaN(Gt)||Math.floor((Date.now()-Gt)/this.millisecondsOfDay)>=this.maxDays||we.push(Date.parse(Ht.gfn.timeAddedToLibrary))}if(0===we.length)return this.logger.info(`No valid value or the timestamp is outdated for timeAddedToLibrary in game:${te.title}, id:${te.id}`,te.variants.map(Ht=>Ht.gfn.timeAddedToLibrary)),null;const Ve=we.length>1?we.reduce((Ht,Gt)=>Math.max(Ht,Gt)):we[0],pt=this.imageFormatService.formatImageServiceUrl(te.images.KEY_ART,{w:288,f:s.k0.jpg});return{timestamp:Ve,title:te.title,image:pt,rating:this.getMappedRatingCode(te.contentRatings),genre:"",deeplink:`/deeplink?${z.uE5.GameId}=${te.id}&${z.uE5.Action}=${z.EMz.PlayGame}&${z.uE5.UtmSource}=samsung&${z.uE5.UtmCampaign}=game_hub`,app_id:this.tizenGfnAppInfo.id,app_name:this.tizenGfnAppInfo.name,app_logo_url:"",cp_game_id:te.id}}getMappedRatingCode(te){if(null==te||!te.type||null==te||!te.categoryKey)return"";const we=te.type,Ve=te.categoryKey;return we in $t&&Ve in $t?$t[we][Ve]:Ve}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(s.CQ),n.LFG(z.No2),n.LFG(z.BHV),n.LFG(Ne.P))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),cr=(()=>{class Ee{constructor(te){this.tizenGameHubService=te}initialize(){this.tizenGameHubService.initialize()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(No))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var Uo=e(59562),kr=e(18388),An=e(41221),dr=e(46057),gr=e(71168),Fo=e(39382),Kt=e(69060),Ci=e(85948),co=(e(5249),e(48131)),go=e(31331),Si=e(31479),ho=e(84658),Ui=e(34764);let hr=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn){this.endpointFactory=we,this.distributedtracingUtilService=Ve,this.idmService=pt,this.clientHeaderService=Dt,this.appConfig=Ht,this.systemInfoService=Gt,this.telemetryUtilService=rn,this.gxtRemoteConfigDefaultTimeout=3e3,this.gxtRemoteConfigDefaultTimeBetweenRetries=1e4,this.gxtRemoteConfigDefaultRetries=2,this.logger=te.getLogger("GxtRemoteConfigSdkService")}getRemoteConfig(te,we,Ve){return(0,nt.aj)([this.clientHeaderService.getCommonHeaders(),this.systemInfoService.getSystemInfo(),this.idmService.getAuthToken(we).pipe((0,w.q)(1))]).pipe((0,w.q)(1),(0,ze.zg)(([pt,Dt,Ht])=>{var Gt,rn,Rn;const Wt=Object.assign({project:this.appConfig.gxtRemoteConfig.rconfigProject},{product:this.appConfig.gxtRemoteConfig.rconfigProduct},{clientParams:JSON.stringify(te)}),hn={headers:this.createHeader(pt,Dt,Ht),reportRequestData:{originalService:co.v6v.GxTarget,serviceUseCase:co.f$p.GetRemoteConfig,reportSuccessTelemetry:"true"},params:Wt,includeRequestId:!0},Jn={timeout:null!==(Gt=this.appConfig.gxtRemoteConfig.defaultTimeout)&&void 0!==Gt?Gt:this.gxtRemoteConfigDefaultTimeout,timeBetweenRetries:null!==(rn=this.appConfig.gxtRemoteConfig.defaultTimeBetweenRetries)&&void 0!==rn?rn:this.gxtRemoteConfigDefaultTimeBetweenRetries,maxRetries:null!==(Rn=this.appConfig.gxtRemoteConfig.defaultRetries)&&void 0!==Rn?Rn:this.gxtRemoteConfigDefaultRetries},gi=this.endpointFactory.createEndpoint({config:Jn}).get((0,J.D5)([this.appConfig.gxtRemoteConfig.server+"/rconfig/v2"]),hn);return this.distributedtracingUtilService.handleHttpEndpointSpan(gi,hn,Kt.j1.GetRemoteConfigV2,Ve).pipe((0,sn.b)(Mi=>(this.logger.info("Successfully got remote config from GXT"),Mi)))}))}createHeader(te,we,Ve){const pt=Object.assign({},te);return pt["NV-GXT-Device-Id"]=we.DeviceId,pt["NV-Device-Make"]=(null==we?void 0:we.VendorName)||"undefined",pt["NV-Client-Variant"]=this.telemetryUtilService.getCommonClientVariant(this.appConfig.build.variant),null!=Ve&&Ve.token&&(pt[Ci.n0.authorization]=`GFNJWT ${Ve.token}`),pt}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(Ci.V9),n.LFG(Kt.Dc),n.LFG(go.N),n.LFG(Si.x),n.LFG(ho.V),n.LFG(s.Ob),n.LFG(Ui.w))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),ur=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt){this.gridService=we,this.nesUserInfoService=Ve,this.remoteConfigService=pt,this.appConfig=Dt,this.gxtRemoteConfigSdkService=Ht,this.telemetryService=Gt,this.isCachedRCTelemetrySent=!1,this.forceRefreshNeeded=!1,this.forceRefreshNeededSub=new Uo.t(1),this.forceRefreshNeeded$=this.forceRefreshNeededSub.asObservable(),this.logger=te.getLogger("gfn/RemoteConfigTriggerService")}initialize(){var te,we;this.logger.info("init"),this.forceRefreshNeededSub.next();const pt=(null===(we=null===(te=this.appConfig)||void 0===te?void 0:te.gxtRemoteConfig)||void 0===we?void 0:we.forceRefreshIntervalInMS)||864e5;(0,$n.H)(pt,pt).pipe((0,sn.b)(()=>{this.forceRefreshNeeded=!0,this.forceRefreshNeededSub.next()})).subscribe();const Dt=[this.gridService.defaultZone$,this.nesUserInfoService.fetchUserInfoWithStreamingUrl(),this.forceRefreshNeeded$];let Ht,Gt,rn,Rn;(0,nt.aj)(Dt).pipe((0,ze.zg)(([Wt,hn,Jn])=>(0,nt.aj)([(0,Vt.of)(hn.isAffiliate?hn.serviceEndpoint.loginProviderCode:null),(0,Vt.of)(hn),this.gridService.vpcId$.pipe((0,w.q)(1)),this.remoteConfigService.getCurrentZonePrefix()])),(0,G.h)(([Wt,hn,Jn,Zn])=>(Ht=Wt,Gt=hn,rn=Zn,Rn=Jn,rn!==this.remoteConfigService.cachedZonePrefix||Gt.user.userId!==this.remoteConfigService.cachedUserId||Ht!==this.remoteConfigService.cachedProviderCode||this.forceRefreshNeeded)),(0,ze.zg)(Wt=>{var hn;return this.forceRefreshNeeded=!1,this.isCachedRCTelemetrySent||(this.sendRCDebugInfoTelemetry(!1,!0),this.isCachedRCTelemetrySent=!0),this.logger.info("fetching remote config data from GXT",Ht,null===(hn=Gt.user)||void 0===hn?void 0:hn.userId,rn,Rn),this.fetchRemoteConfigFromGXT(rn,Rn)})).subscribe(Wt=>{var hn;this.logger.info("remote config fetched successfully"),this.remoteConfigService.cachedProviderCode=Ht,this.remoteConfigService.cachedUserId=(null===(hn=Gt.user)||void 0===hn?void 0:hn.userId)||"",this.remoteConfigService.cachedZonePrefix=rn,this.remoteConfigService.cachedVPCId=Rn,this.sendRCDebugInfoTelemetry(!0,!0)},Wt=>{this.sendRCDebugInfoTelemetry(!0,!1,Rn,rn),this.logger.error("Failed to get remote config",Wt)})}fetchRemoteConfigFromGXT(te,we){return this.gxtRemoteConfigSdkService.getRemoteConfig({zoneName:we,regionName:te}).pipe((0,sn.b)(pt=>{var Dt;this.logger.info("remote config data fetched successfully from GXT");const Ht=null===(Dt=null==pt?void 0:pt.params)||void 0===Dt?void 0:Dt.find(rn=>"rcParamNameToLocalConfigKeyPathMap"===rn.name);let Gt=this.appConfig.rcParamNameToLocalConfigKeyPathMap;Ht&&(Gt=(0,ct.merge)(this.appConfig.rcParamNameToLocalConfigKeyPathMap,Ht.value)),this.remoteConfigService.updateRemoteConfigFromGXT(pt,te,we,Gt)}),(0,tn.K)(pt=>(this.logger.error("Failed to get remoteConfig from GXT: ",pt),this.remoteConfigService.propagatePreviousOverides(),(0,kr._)(pt))))}sendRCDebugInfoTelemetry(te,we,Ve,pt){const Dt=we&&te?this.remoteConfigService.remoteConfigFetched$.pipe((0,Rt.h)(!0)):(0,Vt.of)(!1);(0,Di.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable(),Dt).pipe((0,w.q)(1),(0,sn.b)(()=>{this.logger.info("Sending RemoteConfigInfo telemetry event");const Gt=pt||(te?this.remoteConfigService.cachedZonePrefix:this.remoteConfigService.zonePrefixForCachedRCTelemetry),rn=te?this.remoteConfigService.currentRemoteConfigRevision:this.remoteConfigService.projectRevisionForCachedRCTelemetry,Rn=new z.Ran({isLive:te?z.wye.TRUE:z.wye.FALSE,isSuccess:we?z.wye.TRUE:z.wye.FALSE,regionName:null!=Gt?Gt:"",zoneName:Ve||(te?this.remoteConfigService.cachedVPCId:this.remoteConfigService.vpcIdForForCachedRCTelemetry)||"",project:this.appConfig.gxtRemoteConfig.rconfigProject,product:this.appConfig.gxtRemoteConfig.rconfigProduct,revision:null!=rn?rn:"",isFetchedFromGXT:z.wye.TRUE});this.logger.info(`telemetry params for ${te?"live":"cached"} RemoteConfigInfo`,Rn),this.telemetryService.push(Rn)})).subscribe(An.Z,Ht=>{this.logger.error("Error in sending remoteConfigInfo telemetry",Ht)})}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(z.rIG),n.LFG(dr.f),n.LFG(gr.s),n.LFG(Fo.VK),n.LFG(hr),n.LFG(ge.y0))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var uo=e(70494),ko=e(45908),Pi=e(55734),Go=e(97782),mo=e(85501),po=e(77779),Bo=e(4894),In=e(93363),ci=(()=>{return(Ee=ci||(ci={})).SharedStorage="sharedStorage",Ee.DbStorage="dbStorage",Ee.CacheStorage="cacheStorage",ci;var Ee})(),$i=e(16099);let fo=(()=>{class Ee{constructor(te,we,Ve){this.dbService=we,this.sharedStorageService=Ve,this.logger=te.getLogger("libraries/service-worker.service")}get cleanupHandlers(){return{[ci.SharedStorage]:this.sharedStorageCleanup.bind(this),[ci.DbStorage]:this.dbStorageCleanup.bind(this),[ci.CacheStorage]:this.cacheStorageCleanup.bind(this)}}sharedStorageCleanup(te){this.logger.info("Running sharedStorageCleanup for keys ",te);const we=[];return null==te||te.forEach(Ve=>{we.push(this.sharedStorageService.removeBlock(Ve))}),(0,nt.aj)(we).pipe((0,w.q)(1),(0,Rt.h)(!0))}dbStorageCleanup(te){this.logger.info("Running dbStorageCleanup for keys ",te);const we=[];return null==te||te.forEach(Ve=>{we.push(this.dbService.deleteOldKeys(Ve))}),(0,nt.aj)(we).pipe((0,w.q)(1),(0,Rt.h)(!0))}cacheStorageCleanup(te){this.logger.info("Running cacheStorageCleanup for keys ",te);const we=[];return null==te||te.forEach(Ve=>{const pt=(0,$i.D)(caches.has(Ve)).pipe((0,ze.zg)(Dt=>Dt?(0,$i.D)(caches.delete(Ve)):(this.logger.info(`cacheStorage with key ${Ve} not available`),(0,Vt.of)(!0))));we.push(pt)}),(0,nt.aj)(we).pipe((0,w.q)(1),(0,Rt.h)(!0))}clearStorages(te){const we=[];for(const Ve in this.cleanupHandlers)this.cleanupHandlers.hasOwnProperty(Ve)&&we.push((0,this.cleanupHandlers[Ve])(te[Ve]));return(0,nt.aj)(we).pipe((0,w.q)(1),(0,Rt.h)(!0))}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(s.MC),n.LFG(he.OA))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),Fi=(()=>{class Ee{}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=n.oAB({type:Ee}),Ee.\u0275inj=n.cJS({}),Ee})();var vo=e(51637);let Ho=(()=>{class Ee{constructor(te,we,Ve,pt,Dt,Ht,Gt,rn,Rn,Wt,hn,Jn,Zn,ri,gi,Mi,qi,Oi,Gi,eo,to,no,yi,Ei,Bi,bi,io,oo,ro,Mo,Hi,Oo,fi,yo,so,vi,xi,Eo,bo,Er,xo,Io,br,xr,Ir,Tr,Lr,qo,ls,Xn,Gn,ao,cs,er,Fn,ds,gs,hs,us,ms,ps,tr,Rr,Ms,wr,fs,vs,nr){var jn,To,Ii,Ft,Kn,Lo;this.injector=we,this.appConfig=Ve,this.guestModeService=pt,this.oobeService=Dt,this.userConsentService=Ht,this.stringTableSvc=Gt,this.localeService=rn,this.startupService=Rn,this.mallRelaunchService=Wt,this.confirmationDialogService=hn,this.bridgeService=Jn,this.remoteConfigTriggerService=Zn,this.experienceControlService=gi,this.releaseHighlightsService=Mi,this.updateService=qi,this.idmService=Oi,this.productTourService=to,this.browserSupportService=no,this.gfcHelperService=yi,this.telemetryService=Ei,this.feedbackService=Bi,this.gfwslParamsService=bi,this.playtestLiveService=io,this.gameSearchFilterService=Hi,this.gfnSdkService=fi,this.pwaService=Eo,this.ntEventsHandlerService=bo,this.networkTestService=Er,this.backgroundColorService=xo,this.spatialNavigationService=Io,this.gamepadNavigationService=br,this.systemInfoService=Ir,this.browserPushNotificationService=Tr,this.router=Lr,this.surveyService=qo,this.snackbar=Xn,this.translateService=Gn,this.settingsService=ao,this.unsupportedBrowserService=cs,this.resolutionUpscaleService=er,this.nvKeyboardService=ds,this.audioPlayService=gs,this.clipboardService=hs,this.dbService=ms,this.gfnWebWorkerService=tr,this.userActivationGuardService=Rr,this.guestModeHelperService=Ms,this.inputModalityService=wr,this.genericDialog=fs,this.storageCleanupService=vs,this.appleScreenService=nr,this.destroy$=new I.xQ,this.direction="ltr",this.isBrowserClient=!1,this.enableSoundNotification=!1;const{remoteLogging:_s=!1,consoleLogging:Ti=!0,telemetryReporting:Cs=!0,devTools:Os=!0}=Ve.featureEnablement;te.initialize(_s,Ti),this.logger=te.getLogger("app component"),this.logger.info("Using configuration:",Ve),this.backgroundColorService.init(!0),this.updateLocale(),!(null===(jn=this.appConfig.featureEnablement)||void 0===jn)&&jn.osrMode&&(this.openOsrSubscription=this.bridgeService.executeCommand(xe.Gh.Gfn.Streaming.OpenOsr,{enableInput:!0}).subscribe()),this.isBrowserClient=s.ng.isBrowserPlatform();let ir=this.appConfig.build.version;this.isBrowserClient&&void 0!==ro.production&&!1===ro.production&&(ir=this.appConfig.build.version+"-dev"),Ei.initialize(!Cs),so.init(ir),this.systemInfoService.getDeviceId().pipe((0,w.q)(1)).subscribe(wn=>{document.cookie=`device_id=${wn}; max-age=31536000; samesite=lax; secure; path=/`}),gi.initialize(so.getClientType(),ri.fetchCountryCode()),ls.initialize(_s,Ti),Oo.initialize(),yo.initialize(),this.gfnWebWorkerService.initialize(),ri.initializeDistributedTracing(),this.streamerConfigSubscription=xi.config$.pipe((0,$.U)(wn=>{const hi=!(0,ct.isNil)(null==wn?void 0:wn.sdkClient)&&(null==wn?void 0:wn.sdkClient.length)>0;return hi&&fi.setSdkClient(wn.sdkClient),so.setTelemetryConfig(wn),hi}),(0,G.h)(wn=>wn&&fi.isThisAGFNSDKSession()),(0,ze.zg)(()=>fi.getAuthInfo()),(0,ze.zg)(wn=>{switch(wn.authType){case Ki.Gr.IDM:if(wn.authToken)return Oi.setIdToken(wn.authToken);break;case Ki.Gr.JWT:return this.guestModeHelperService.isGuestMode?(0,Vt.of)(null):Gi.getUserMembership()}return(0,Vt.of)(null)}),(0,G.h)(wn=>{var hi;return!1===(null===(hi=null==wn?void 0:wn.subscription)||void 0===hi?void 0:hi.upsellOptions.canUpsell)})).subscribe(wn=>{this.logger.info("GaaS session available, but user has a premium account. Using that instead"),fi.forceIDMAuthType()}),Oi.initialize(this.guestModeHelperService.isGuestMode),Fn.initialize(),Ve.featureEnablement.remoteLogging&&!this.guestModeHelperService.isGuestMode&&yi.initialize(ir),Dt.initialize(),this.isBrowserClient&&(this.browserSupportService.initialize(!0,!ro.production||Os),this.ntEventsHandlerService.initiateAnalyticsEvents(),this.browserPushNotificationService.init(),this.oobeService.oobeDialogClosedState.pipe((0,G.h)(hi=>hi),(0,_.R)(this.destroy$)).subscribe(hi=>this.unsupportedBrowserService.initialize())),this.userConsentService.initUserConsent(),this.remoteConfigTriggerService.initialize(),Gi.initialize(),eo.initialize(),this.gameSearchFilterService.init(),(0,z.wIc)(this.router.url)||(this.layoutService=this.injector.get(Ne.P),this.layoutService&&this.layoutService.initialize()),this.productTourService.initialize(),oo.initialize(),Mo.initialize(),vi.init(),Eo.initialize(),this.surveyService.initialize(),this.clipboardService.setDefaultClipboardSetting(),!(null===(To=Ve.featureEnablement)||void 0===To)&&To.openLinksOffDevice&&(this.logger.info("Enabling off-device link feature"),xr.enable()),!(null===(Ii=this.appConfig.featureEnablement)||void 0===Ii)&&Ii.spatialNavigation&&(this.logger.info("Enabling spatial navigation"),this.spatialNavigationService.enable(!0),this.spatialNavigationService.activated=!1),!(null===(Ft=this.appConfig.featureEnablement)||void 0===Ft)&&Ft.nvKeyboard&&(this.nvKeyboardService.enabled=!0),!(null===(Kn=this.appConfig)||void 0===Kn)&&Kn.userActivationGuardConfig&&(this.userActivationGuardService.enabled=!0),us.init(),Ve.backNavigation&&(this.backNavigationService=we.get(f.SL)),this.enableSoundNotification=!(null===(Lo=null==Ve?void 0:Ve.featureEnablement)||void 0===Lo||!Lo.enableSoundNotification),ps.initialize()}ngOnInit(){var te,we,Ve,pt;this.inputModalityService.startMonitoring(),this.telemetryService.setScreen(z.CGJ.ScreenMallHome),this.idmService.accountStatusChanged.pipe((0,_.R)(this.destroy$)).subscribe(Wt=>{this.productTourService.onAccountStatusChanged(Wt.userId,Wt.isAuthenticated),this.feedbackService.onAccountStatusChanged({userId:Wt.userId,externalUserId:Wt.externalId,idpId:Wt.idpId,isAuthenticated:Wt.isAuthenticated}),this.gfwslParamsService.onAccountStatusChanged(Wt.userId,Wt.isAuthenticated,ge.p6.Full,Wt.technicalConsent,Wt.behavioralConsent),this.networkTestService.initGxTargetConfiguration(this.isBrowserClient)}),this.startupService.checkAndFixOverrideZone().pipe((0,_.R)(this.destroy$)).subscribe();const Dt=(0,Vt.of)(null).pipe((0,sn.b)(()=>{this.gfnSdkService.continueStartup()}),(0,ze.zg)(()=>this.showReleaseHighlightsOnAppUpdate()),(0,le.w)(Wt=>this.mallRelaunchService.completeRelaunch()),(0,tn.K)(Wt=>(this.logger.error("Failed to launch stored cmsId ",Wt),(0,Vt.of)(null))),(0,sn.b)(Wt=>{Wt&&this.logger.info("Successfuly launched stored cmsId")})),Ht=(0,$n.H)(0).pipe((0,le.w)(()=>{const Wt=this.confirmationDialogService.open({disableClose:!0,hasBackdrop:!0,data:{message:"install.installFirstMessage",closeButtonText:"common.close",header:"common.productName"}});return(0,ar.z)(Wt.afterClosed(),this.bridgeService.executeCommand(xe.Gh.Common.Windowcontrol.Close)).pipe((0,tn.K)(hn=>(this.logger.error("Failed to close the app while app is not installed: ",hn),(0,Vt.of)(null))))}));let Gt=Dt;if(!(0,z.wIc)(this.router.url)){const Wt=this.updateService.updateApplication$();Gt=this.updateService.isUpdateAvailable$().pipe((0,sn.b)(hn=>this.logger.info("Update check, isAvailable",hn)),(0,le.w)(hn=>(0,Ai.s)(()=>hn,Wt,Dt)))}(0,Di.$R)(this.oobeService.oobeDialogClosedState,this.oobeService.launch()).pipe((0,le.w)(()=>this.bridgeService.executeCommand(xe.Gh.Common.Applicationinfo.IsApplicationInstalled)),(0,le.w)(Wt=>(0,Ai.s)(()=>Wt,Gt,Ht))).pipe((0,_.R)(this.destroy$)).subscribe(()=>this.logger.info("Mall AppComponent init finished"),Wt=>this.logger.error("Error while starting mall",Wt)),this.osType$=this.systemInfoService.getDeviceOSType().pipe((0,w.q)(1),(0,We.d)(1)),this.resolutionUpscaleService.initialize(),this.playtestLiveService.initialize(),null!==(te=this.appConfig.featureEnablement)&&void 0!==te&&te.spatialNavigation&&(null===(we=this.appConfig.client)||void 0===we||!we.handleGamepadInputInNative)&&this.gamepadNavigationService.initialize();const Rn=null===(Ve=this.appConfig.backNavigation)||void 0===Ve?void 0:Ve.translateSystemBackTo;if(Rn&&(null===(pt=this.backNavigationService)||void 0===pt||pt.translateSystemBackTo(Rn)),this.isBrowserClient){this.guestModeHelperService.isGuestMode||this.osType$.pipe((0,ze.zg)(hn=>this.bridgeService.executeCommand(xe.Gh.Share.Shareserver.Init,{osType:hn,areHotkeysOverridden:!1,overriddenHotkeysList:[]})),(0,_.R)(this.destroy$)).subscribe(()=>{this.logger.info("ShareServer Browser plugin Initialized")});const Wt=z.N0y.RigReadyAndStreamerIdleTimeout;this.enableSoundNotification&&this.audioPlayService.registerAudio(null==Wt?void 0:Wt.type,null==Wt?void 0:Wt.src)}this.productTourService.onTourEnd.pipe((0,_.R)(this.destroy$)).subscribe(Wt=>{this.showInitToastForXbox()}),this.productTourService.isTourShown$.pipe((0,_.R)(this.destroy$),(0,G.h)(Wt=>!Wt)).subscribe(Wt=>this.showInitToastForXbox()),this.appConfig.instrumentation.isEnabled&&this.systemInfoService.getSystemInfo().pipe((0,w.q)(1)).subscribe(Wt=>{const Zn=`\n${JSON.stringify({systemInfo:Wt},null,"\t")}`;this.logger.info(`\nINSTRUMENTATION_LOG_BEGIN${Zn}\nINSTRUMENTATION_LOG_END`)}),s.ng.isPWAModeOnSamsungTV()&&(this.tizenService=this.injector.get(cr),this.tizenService.initialize()),this.appleScreenService.enableTranslucentStatusBar&&this.appleScreenService.initialize()}ngAfterViewInit(){var te,we;this.updateService.isFirstRunAfterUpdate().pipe((0,w.q)(1),(0,G.h)(Ve=>Ve),(0,ze.zg)(()=>this.storageCleanupService.clearStorages(this.appConfig.storageCleanupKeys).pipe((0,w.q)(1)))).subscribe(()=>{},Ve=>{this.logger.error("Error clearing store",Ve)}),!this.isBrowserClient&&!(0,z.wIc)(this.router.url)&&setTimeout(()=>this.checkLastInstallationStatus(),null===(we=null===(te=this.appConfig)||void 0===te?void 0:te.client)||void 0===we?void 0:we.updateFailureNotificationDelay)}onInstallingApp(te){this.logger.info("PWA installed: Success")}updateLocale(){this.localeService.isRTLLocaleSupported=this.appConfig.featureEnablement.rtlLocaleSupported;let te=this.localeService.useDefaultLocale();(0,z.cjf)(z.S8R.CascadePreviewToken)&&(0,z.cjf)(z.S8R.Locale)?te=this.localeService.setLocale((0,z.cjf)(z.S8R.Locale)):!(0,ct.isNil)(this.appConfig.locale)&&this.appConfig.locale.value&&(te=this.localeService.setLocale(this.appConfig.locale.value)),this.localeServiceSubscription=te.pipe((0,ze.zg)(()=>this.stringTableSvc.load())).subscribe(()=>{this.logger.info("Successfully loaded string table")},we=>{this.logger.error("Failed to load string table with error: ",we)}),this.layoutDirectionUpdateSubscription=this.localeService.layoutDirectionUpdated$.subscribe(()=>{this.direction=this.localeService.isRTLLayoutEnabled?"rtl":"ltr"})}showReleaseHighlightsOnAppUpdate(){if(this.appConfig.featureEnablement.releaseHighlights){const te=this.updateService.isFirstAppRunAfterMajorUpdate$(),we=this.releaseHighlightsService.showReleaseHighlightsFromSharedStorage((0,z.sc2)(this.appConfig)),Ve=this.updateService.readUpdateData();return(0,Di.$R)(Ve,te).pipe((0,w.q)(1),(0,le.w)(([pt,Dt])=>null!=pt&&pt.updateFromStreamer?(this.logger.info("Update was triggered during game launch, do not show RH."),this.updateService.appendUpdateData({updateFromStreamer:!1}).pipe((0,ze.zg)(Ht=>this.releaseHighlightsService.updateReleaseHighlightsSkippedStatus((0,z.sc2)(this.appConfig),!0)),(0,Rt.h)(!1))):(this.logger.info("StoredUpdateData is null or updateFromStreamer value is false/null."),Dt?(this.logger.info("Major update done."),(0,Vt.of)(!0)):we.pipe((0,ze.zg)(Ht=>(this.logger.info("show release highlights SharedStorage value: ",Ht),Ht?this.releaseHighlightsService.showReleaseHighlightsFromRemoteConfig((0,z.sc2)(this.appConfig)).pipe((0,w.q)(1),(0,ze.zg)(Gt=>Gt?(0,Vt.of)(Gt):this.releaseHighlightsService.readReleaseHighlightsSkippedStatus((0,z.sc2)(this.appConfig)))):(0,Vt.of)(!1)))))),(0,ze.zg)(pt=>!pt||(0,z.wIc)(this.router.url)||this.guestModeHelperService.isGuestMode?(0,Vt.of)(!1):this.idmService.accountStatusChanged.pipe((0,w.q)(1),(0,$.U)(()=>(this.logger.info("Opening highlights dialog at startup after an update."),this.releaseHighlightsService.onShowReleaseHighlight(!1,s.ng.isAndroidPlatform()?z.bFC.getPaddedFourOctetVersion((0,z.sc2)(this.appConfig)):(0,z.sc2)(this.appConfig),"1"),!0)),(0,tn.K)(Dt=>(this.logger.error("Error fetching accountStatusChanged:",Dt),(0,Vt.of)(!1))))))}return(0,Vt.of)(!1)}showInitToastForXbox(){this.osType$.pipe((0,_.R)(this.destroy$),(0,le.w)(te=>te===s.wi.XBox?this.translateService.get("console.useGameControlsMode"):(0,Vt.of)(void 0))).subscribe(te=>{if(te)return this.snackbar.open(te,"",{duration:7e3,horizontalPosition:"left",panelClass:["nv-hig"]})})}checkLastInstallationStatus(){this.osType$.pipe((0,_.R)(this.destroy$),(0,G.h)(te=>te===s.wi.Windows),(0,ze.zg)(()=>this.bridgeService.executeCommand(xe.Gh.Common.Applicationcontrol.RequestLastInstallerStatus))).subscribe(te=>{this.logger.info("RequestLastInstallerStatus response: ",te),te&&!(0,ct.isEmpty)(null==te?void 0:te.errorcode)?(this.getDownloadPageUrl(),this.showUpdateFailedErrorDialog(te.errorcode)):this.logger.error("RequestLastInstallerStatus data is not valid.")},te=>{this.logger.error("RequestLastInstallerStatus returns error: ",te)})}getDownloadPageUrl(){const te=this.appConfig.redirect.serverUrl,we=z.qBq.GFN_PC_DOWNLOAD;this.localeService.localeChanged.pipe((0,_.R)(this.destroy$)).subscribe(Ve=>{this.downloadAppUrl=`${te}${Ve}&page=${we}`})}errorDialogLinkClicked(){this.logger.info("App manual download link clicked"),window.open(this.downloadAppUrl)}showUpdateFailedErrorDialog(te){const we={text:"notification.getLatestApp",linkClickedCallback:this.errorDialogLinkClicked.bind(this)};let Ve;te&&(Ve={text:"error.errorCode",placeholders:{errorCode:te}});const pt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"notification.updateFailureTitle"},bodyText:{text:"notification.updateFailureNotification"},primaryButton:{text:"common.close"},link:we,errorCodeText:te?Ve:null}});pt.primaryButtonClick.pipe((0,w.q)(1)).subscribe(()=>{this.logger.info("close clicked "),pt.close()})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.localeServiceSubscription&&this.localeServiceSubscription.unsubscribe(),this.layoutDirectionUpdateSubscription&&this.layoutDirectionUpdateSubscription.unsubscribe(),this.tracingSubscription&&this.tracingSubscription.unsubscribe(),this.isBrowserClient&&this.browserSupportService.cleanup(),this.openOsrSubscription&&this.openOsrSubscription.unsubscribe(),this.streamerConfigSubscription&&this.streamerConfigSubscription.unsubscribe()}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.Y36(s.ed),n.Y36(n.zs3),n.Y36(z.VKt),n.Y36(z.o15),n.Y36(z.HKp),n.Y36(z.ZZY),n.Y36(z.Drq),n.Y36(s.OL),n.Y36(z.HS8),n.Y36(at),n.Y36(z.OX4),n.Y36(s.dF),n.Y36(ur),n.Y36(z.hmT),n.Y36(uo.Q6),n.Y36(z.NS5),n.Y36(z.GMF),n.Y36(z.No2),n.Y36(z.BHV),n.Y36(z.OMY),n.Y36(A.Q3),n.Y36(ko.OA),n.Y36(z.dgl),n.Y36(ge.y0),n.Y36(d.TB),n.Y36(Pi.sy),n.Y36(z.Q0y),n.Y36(Go.rw),n.Y36(ai._c),n.Y36(z.qMk),n.Y36(ke.En),n.Y36(mo.HR),n.Y36(Ki.s),n.Y36(z.m$M),n.Y36(z.wU6),n.Y36(b.V),n.Y36(po.o),n.Y36(z.nG5),n.Y36(z.uZ6),n.Y36(z.R2C),n.Y36(s.gN),n.Y36(f.jr),n.Y36(z.xQn),n.Y36(Bo.q),n.Y36(s.Ob),n.Y36(z.uu8),n.Y36(a.F0),n.Y36(z.FR5),n.Y36(s.Yq),n.Y36(vt.pl),n.Y36(v.sK),n.Y36(z.gbG),n.Y36(z.rHN),n.Y36(z.zrw),n.Y36(z.ZB5),n.Y36(De.Ow),n.Y36(s.P),n.Y36(z.YvH),n.Y36(z.ePW),n.Y36(s.MC),n.Y36(z.a$B),n.Y36(z.$_t),n.Y36(In.w),n.Y36(z.hTr),n.Y36(ue.b),n.Y36(f.TX),n.Y36(fo),n.Y36(z.mfJ))},Ee.\u0275cmp=n.Xpm({type:Ee,selectors:[["gfn-root"]],hostBindings:function(te,we){1&te&&n.NdJ("appinstalled",function(pt){return we.onInstallingApp(pt)},!1,n.Jf7)},decls:1,vars:1,consts:[[3,"dir"]],template:function(te,we){1&te&&n._UZ(0,"router-outlet",0),2&te&&n.s9C("dir",we.direction)},dependencies:[a.lC,vo.Lv],encapsulation:2}),Ee})();const pr={defaultLoggingLevel:s.GJ.Trace},fr={name:(0,z.svt)()?s.L6.Gdn:s.L6.Gfn},Yi=Object.assign({bridge:{mocks:[]},logger:pr,window:fr,locale:{supportedLang:["bg_BG","cs_CZ","da_DK","de_DE","el_GR","en_GB","en_US","es_ES","es_MX","fi_FI","fr_FR","hr_HR","hu_HU","it_IT","ja_JP","ko_KR","nb_NO","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","ru_RU","sk_SK","sl_SI","sv_SE","th_TH","tr_TR","uk_UA","zh_CN","zh_TW","ar_SA"]},configFileName:"shared/assets/config/config.json"},{production:!0});var Zi=e(6777),ji=e(12983);let di=(()=>{class Ee{constructor(te){this.logger=te.getLogger("HttpLoggingService")}intercept(te,we){return we.handle(te).pipe((0,sn.b)(Ve=>{},Ve=>{this.handleHttpError(Ve,te)}))}handleHttpError(te,we){this.logger.info(`Http request method '${we.method}', url '${we.url}' FAILED with response`,te)}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();var Hn=e(64259),_o=e(22973),vr=e(6106);const Ko={provide:s.m1,useClass:vr.$,multi:!0};var ki=e(30610);const Wn={provide:s.RW,useClass:ki.$,multi:!0};var ti=e(54360),ni=e(35880),Vn=e(96743),Co=e(6083);class j extends ge.MW{constructor(){super(...arguments),this.gdprLevel=ge.KM.Functional,this.name="HighlightCapture"}}var tt=e(61799),ii=e(82195);let Un=(()=>{class Ee extends Vn.b{constructor(te,we,Ve){super(),this.loggingService=te,this.injector=we,this.telemetryService=Ve,this.cachedSessionId="",this.logger=this.loggingService.getLogger("TelemetryHelperGFNService"),this.logger.info("Constructing TelemetryHelperGFNService")}init(){this.clientHost=Co.fP.gfn,this.streamingService=this.injector.get(tt.F),this.streamingSubscription=this.streamingService.streamingEvent$.subscribe(we=>{we.event===ii.V4.SESSION_SETUP_SUCCESS&&(this.cachedSessionId=this.streamingService.streamingProperties.sessionId||"",this.streamingSubscription.unsubscribe())});const te=this.injector.get(po.o);this.bridgeService=this.injector.get(s.dF),this.perGameEventFactory=new Co.KZ(this.bridgeService,te)}sendHighlightCapture(te,we,Ve,pt,Dt){const Ht=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost,sessionId:this.cachedSessionId},te),{sdkVersion:we,videoLengthMs:Ve||-1,highlightId:pt,contentType:Dt,modsActive:this.toTelemetryBoolean(this.modsActive)}),j);this.telemetryService.push(Ht)}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(n.zs3),n.LFG(ge.y0))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:null}),Ee})();const $o=xe.Gh.Share.Osc;let Gr=(()=>{class Ee extends s.nM{constructor(te){super(),this.logger=te.getLogger("OscPlugin")}get handlers(){return{module:$o.SetPainting.module,commands:{[$o.SetPainting.method]:this.setPainting.bind(this),[$o.FullscreenState.method]:this.fullscreenState.bind(this)}}}setPainting(){return this.makeResult("true")}fullscreenState(){return this.makeResult(JSON.stringify({fullscreen:!0}))}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})();var So=e(82374),Br=e(22402),Po=e(94679),Yo=(()=>((Yo||(Yo={})).ShowHotkey="showHotkeyMessage",Yo))(),_r=e(88567),Zo=e(44684),Qi=e(70372),jo=e(39103);const Ji=xe.Gh.Share.Shareserver,Vr=[{provide:s.m1,useClass:(()=>{class Ee extends s.nM{constructor(te,we,Ve,pt,Dt,Ht){super(),this.dbCacheService=we,this.browserSupportService=Ve,this.hotkeyMonitoringService=pt,this.projectInterfaceService=Dt,this.hotkeyDefaultMappingService=Ht,this.isDefaultHotkeyMappingInitialized$=new I.xQ,this.overridesPresent=!1,this.logger=te.getLogger("ShareServerPlugin"),this.igoShortcutsDb=this.dbCacheService.getOrCreateCachedGlobalItem(Br.Vi,Br.Sk.Shortcuts)}get handlers(){return{module:Ji.GetInitData.module,commands:{[Ji.GetInitData.method]:this.getInitData.bind(this),[Ji.GetHotkeyShortcut.method]:this.getHotkeyShortcut.bind(this),[Po.e.ResetHotkeysToDefault.method]:this.resetHotkeysToDefault.bind(this),[Po.e.RegisterHotkeyNotifications.method]:this.registerHotkeyNotifications.bind(this),[Po.e.GetCaptureProcessInfo.method]:this.getCaptureProcessInfo.bind(this),[Po.e.RegisterWindowStateChangeNotifications.method]:this.registerWindowStateChangeNotifications.bind(this),[Po.e.SetHotkeyMonitoring.method]:this.setHotkeyMonitoring.bind(this),[Ji.SetHotkeyShortcut.method]:this.setHotkeyShortcut.bind(this),[Ji.Init.method]:this.init.bind(this)}}}init(te){return this.defaultHotkeyMapping=this.hotkeyDefaultMappingService.get(te.payload.osType),te.payload.areHotkeysOverridden&&(this.overridesPresent=te.payload.areHotkeysOverridden,this.overriddenHotkeyList=new Map(this.defaultHotkeyMapping),this.logger.info("Overriding hotkeys: ",te.payload.overriddenHotkeysList),this.overrideDefaultHotkeyList(te.payload.overriddenHotkeysList,te.payload.osType)),this.hotkeyMonitoringService.initHotkeyMapping(this.overriddenHotkeyList,te.payload.osType),this.isDefaultHotkeyMappingInitialized$.next(!0),this.isDefaultHotkeyMappingInitialized$.complete(),this.logger.info("initialize called with osType",te.payload.osType),this.makeResult("true")}setHotkeyMonitoring(te){return te.payload.enable?(this.logger.info("setHotkeyMonitoring resumeListening"),this.projectInterfaceService.resumeListening()):(this.logger.info("setHotkeyMonitoring pauseListening"),this.projectInterfaceService.pauseListening()),this.makeResult("true")}getCaptureProcessInfo(){return this.makeResult("true")}registerHotkeyNotifications(){return this.makeResult("true")}getInitData(){const te={captureSupported:!1,desktopCaptureSupported:!1,coplayEnabled:!1};return this.logger.info("getInitData response from ShareserverPlugin ",te),this.makeResult(JSON.stringify(te))}setHotkeyShortcut(te){const we={_return_internal:xe.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok},Ve={_return_internal:xe.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg};return te.payload.keys?te.payload.hotkey===_r.sWi.OpenIGO&&te.payload.keys.length<2?this.makeResult(JSON.stringify(Ve)):this.igoShortcutsDb.sync_().pipe((0,ze.zg)(()=>(this.igoShortcutsDb[te.payload.hotkey]=te.payload.keys,this.hotkeyMonitoringService.updateHotkeyMapping(te.payload.hotkey,te.payload.keys),this.igoShortcutsDb.persist_())),(0,ze.zg)(()=>this.makeResult(JSON.stringify(we)))):this.makeResult(JSON.stringify(Ve))}registerWindowStateChangeNotifications(){const te={windowMsg:Yo.ShowHotkey};return this.makePersistentResult(this.browserSupportService.fullScreenEventObs$.pipe((0,$.U)(we=>{if(we)return JSON.stringify(te)}),(0,sn.b)(()=>this.logger.info("registerWindowStateChange response from ShareserverPlugin ",te))))}cacheExists(te){return void 0!==this.igoShortcutsDb[te]}getHotkeyShortcut(te){return this.igoShortcutsDb.sync_().pipe((0,So.j)(we=>this.isDefaultHotkeyMappingInitialized$),(0,ze.zg)(()=>{let we;return this.overridesPresent?(we=this.getHotkeyWhenOverriddesArePresent(te.payload.hotkey),this.makeResult(JSON.stringify({keys:we||[]}))):(we=this.igoShortcutsDb[te.payload.hotkey]?this.igoShortcutsDb[te.payload.hotkey]:this.defaultHotkeyMapping.get(te.payload.hotkey),this.makeResult(JSON.stringify({keys:we||[]})))}))}getHotkeyWhenOverriddesArePresent(te){let we;const Ve=this.defaultHotkeyMapping.get(te),pt=this.overriddenHotkeyList.get(te);return we=this.cacheExists(te)?(0,Zo.m)(pt,this.igoShortcutsDb[te])||(0,Zo.m)(Ve,this.igoShortcutsDb[te])?pt:this.igoShortcutsDb[te]:(0,Zo.m)(Ve,pt)?Ve:null!=pt?pt:Ve,we}resetHotkeysToDefault(){return this.hotkeyMonitoringService.resetToDefaultObs$().pipe((0,ze.zg)(()=>this.makeResult("true")))}overrideDefaultHotkeyList(te,we){te.forEach(Ve=>{we===s.wi.Windows?this.overriddenHotkeyList.set(Ve.name,Ve.winHotkey):we===s.wi.MacOS&&this.overriddenHotkeyList.set(Ve.name,Ve.macHotkey)})}}return Ee.\u0275fac=function(te){return new(te||Ee)(n.LFG(s.ed),n.LFG(s.LA),n.LFG(ko.OA),n.LFG(Qi.i),n.LFG(jo.m3),n.LFG(_r.M94))},Ee.\u0275prov=n.Yz7({token:Ee,factory:Ee.\u0275fac,providedIn:"root"}),Ee})(),multi:!0},{provide:s.m1,useClass:Gr,multi:!0}];var Cr=e(235),Qo=e(49840),zr=e(11688),Sr=e(10742);const Kr=JSON.parse('{"ar_SA":"d595d7c9e7b38063e543","tr_TR":"ab3bdaa583bc69e7e0f0","hu_HU":"04ee56af9db2f2580155","pt_PT":"81ee4c7d147bfb323907","sv_SE":"7452788833ac74bdbbec","ko_KR":"8db7a0eacce775e94f75","es_ES":"0e45e3135d0889fc9d85","ja_JP":"10f752d5cb95c5ac4e20","zh_CN":"8869214ab2b0ea5ee0c4","bg_BG":"9f89426f0ff8f475aa89","el_GR":"090a141d6bd2c7afaeca","it_IT":"16f4b5f1072952d93c2c","th_TH":"16cf17edd747b453e82b","fi_FI":"bf224f7d01710984402b","en_US":"7d7c5a272ce373084da4","en_GB":"11e59b8534e819dfc373","es_MX":"e081ad5b3db938f2e820","ru_RU":"28d7a9aa7fd8ec230340","sl_SI":"c18d23d4ad2429affa62","nl_NL":"00c11acadcd025a5cda3","nb_NO":"7d6668d7c0cd886e3e79","da_DK":"98a7eb0fe3911885bfd9","de_DE":"5091c5f3d41edfb40bca","pt_BR":"1e28e9b4c2e7f4492fe0","zh_TW":"9c6cf63217a0e6162a38","fr_FR":"9769c7bd9c9edf9b10d4","cs_CZ":"f3c3a2ee92e0893714df","uk_UA":"a7a3453080d62389099b","sk_SK":"783dfe252192c9126f28","ro_RO":"49338a45fcaea7410d1c","pl_PL":"54c270c5667483638675","hr_HR":"d620ee36340bd076bb82"}');var $r=e.t(Kr,2);function Jo(Ee){return Object.assign({featureId:Ee.gxTarget.experiences&&Ee.gxTarget.experiences.starfleet||z.dvL.featureId},Ee.idm)}function Xo(Ee,_t){const te=Ee.jarvis;return te.sdkClient=_t.activeConfig.sdkClient,te}function Yr(Ee){return Ee.starfleet}function Zr(Ee){return Ee.gfcFeedbackEvents||Hn.a7}function jr(Ee){return Ee.jsEvents||ge.LP}function Qr(Ee){return Ee.exception||ji.Dr}function Jr(){return{waitForDialogClose:!0}}function Mr(Ee){return Object.assign(Object.assign({appWindowName:s.L6.Gfn,storage:ge.e6.SharedStorage,clientVersion:Ee.build.version,clientVariant:Ee.build.variant},Ee.gxTarget),{openTracingConfig:Ee.otelTracerConfig})}function Xr(Ee){return Object.assign({appVersion:Ee.build.version},Ee.gfwsl)}function Xi(Ee){return Object.assign({},Ee.aem)}function qr(Ee){var _t;return{IGOFeatureEnabled:!(null===(_t=Ee.featureEnablement)||void 0===_t||!_t.igo),branding:"GFN",GFNCefClient:!0,OSDEnabled:!1,NvCameraFeaturesEnabled:"PRODUCTION",GameFilterEnabled:Ee.igo&&Ee.igo.gameFilterEnabled||!1,PhotoModeEnabled:Ee.igo&&Ee.igo.photoModeEnabled||!1,GFNBroadcastEnabled:Ee.igo&&Ee.igo.gfnBroadcastEnabled||!1,DirectBroadcastEnabled:Ee.igo&&Ee.igo.directBroadcastEnabled||!1,ControlUGCEnabled:Ee.igo&&Ee.igo.controlUGCEnabled||!1,Path:z.fFR.StreamerRoot}}function es(Ee){return()=>{window.addEventListener("beforeinstallprompt",_t=>{_t.preventDefault(),Ee.setDeferredPromptEvent(_t)})}}function ts(Ee){return{offDeviceLinkConfig:{title:"offDeviceLink.title",primaryButtonText:"offDeviceLink.button"},tvMode:Ee.featureEnablement.tvMode,mobileMode:Ee.featureEnablement.mobileMode,spatialNavigationConfig:Ee.spatialNavigation,userActivationGuardConfig:Object.assign(Object.assign({},Ee.userActivationGuardConfig),{linkWarningMessage:"userActivationGuard.requireTapOnLink",buttonWarningMessage:"userActivationGuard.requireTapOnButton"})}}function ns(Ee){var _t;return{doNotUseWebGamepadAPI:!(null===(_t=null==Ee?void 0:Ee.client)||void 0===_t||!_t.handleGamepadInputInNative)}}function is(Ee){return Ee.pnsServerConfig||Qo.Iv}function Or(){const Ee={systemInfoOverrideConfig:{allowedOSs:[s.wi.WebOS,s.wi.Tizen],override:{}}},_t=new URLSearchParams(window.location.search);return new Map([["modelName","SystemName"],["osVersion","OSVersion"],["cpuName","CPUName"]]).forEach((we,Ve,pt)=>{const Dt=_t.get(Ve);Dt&&(Ee.systemInfoOverrideConfig.override[we]=Dt)}),Ee}e(86151);const yr={enableTelemetry:!1,enableAutoCloseOnLastStep:!1},os={verticalPosition:"bottom",panelClass:["nv-hig"],duration:7e3},rs=[Wn],ss=[..._o.j,Ko,ti.N,...Vr];let as=(()=>{class Ee{}return Ee.\u0275fac=function(te){return new(te||Ee)},Ee.\u0275mod=n.oAB({type:Ee,bootstrap:[Ho]}),Ee.\u0275inj=n.cJS({providers:[{provide:ai._c,useValue:{filePath:Yi.configFileName,production:Yi.production}},{provide:Hn.sy,useFactory:Zr,deps:[z.VKt]},{provide:z.T6w,useFactory:Jo,deps:[z.VKt]},{provide:Zi.tm,useFactory:Xo,deps:[z.VKt,po.o]},{provide:be.TR,useFactory:Yr,deps:[z.VKt]},ai.tj,z.OY9,{provide:ge.i8,useFactory:jr,deps:[z.VKt]},{provide:ji.BU,useFactory:Qr,deps:[z.VKt]},{provide:n.qLn,useClass:z.f0},{provide:p.TP,useClass:di,multi:!0},Kt.Vi,{provide:A.uR,useValue:yr},{provide:uo.sY,useFactory:Mr,deps:[z.VKt]},{provide:Pi.z,useFactory:Xr,deps:[z.VKt]},{provide:Pi.fS,useFactory:Xi,deps:[z.VKt]},rs,ss,{provide:ni.g,useFactory:qr,deps:[z.VKt]},{provide:Vn.b,useClass:Un},s.Eo,{provide:n.ip1,useFactory:es,multi:!0,deps:[z.UJ,s.ed]},{provide:Cr.Xj,useClass:Cr.YJ},{provide:f.iN,useFactory:ts,deps:[z.VKt]},{provide:zr.GM,useFactory:ns,deps:[z.VKt]},{provide:_o.LK,useFactory:Or},{provide:jo.mV,useFactory:Jr},{provide:Qo.DN,useFactory:is,deps:[z.VKt]},{provide:Sr.Ve,useValue:os}],imports:[fn,p.JF,M.ez,t.b2,P.o9,Hn.sd,Zi.Zl,be.E9,D,y.Q,(0,s.L2)($r),Ci.uW,s.it.configure(Yi),L.PW,z.lUL,he.TC,Fi,uo.$b,ve.EV,ge.do,ji.iX,A._F,Kt.sZ,Pi.RC,t.t6,T.GalleryModule,K.I,r.ip,f.hp,Qo.cX]}),Ee})();Yi.production&&(0,n.G48)(),t.q6().bootstrapModule(as).catch(Ee=>console.log(Ee))},93450:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>n,z:()=>t});var t=(()=>{return(x=t||(t={})).AUTHORIZATION_ERROR="AUTHORIZATION_ERROR",x.UNKNOWN="UNKNOWN",x.LOGGED_IN="LOGGED_IN",x.NOT_LOGGED_IN="NOT_LOGGED_IN",x.PENDING_LOGIN="PENDING_LOGIN",x.LOGIN_ERROR="LOGIN_ERROR",t;var x})(),n=(()=>{return(x=n||(n={})).NotStarted="NotStarted",x.Started="Started",x.LoggedOut="LoggedOut",x.LoggedIn="LoggedIn",x.Pending="Pending",x.Failed="Failed",n;var x})()},31095:(Ge,ae,e)=>{"use strict";e.d(ae,{q:()=>v});var t=e(33932),n=e(69060),x=e(80155),M=e(23827),L=e(39609),p=e(39382),P=e(85948),a=e(64710),o=e(83024);let v=(()=>{class y{constructor(A,d,m,S,s){this.endpointFactory=d,this.distributedtracingUtilService=m,this.headerService=s,this.logger=S.getLogger("uasSdkService"),this.uasConfig=A.uasConfig;const{defaultRetries:r,defaultTimeBetweenRetries:l,defaultTimeout:i,retryOnTimeout:O,exponentialBackoffMaxDelay:Y}=A.uasConfig;this.uasEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:r,timeout:i,timeBetweenRetries:l,retryOnTimeout:O,exponentialBackoffMaxDelay:Y}})}getUrl(A){return(0,x.D5)([this.uasConfig.server,this.uasConfig.version,A])}acquireUser(A,d,m,S,s){this.logger.info("calling acquire user");const r={headers:{Authorization:"Bearer "+A,"Content-Type":"application/json","Accept-Language":S},body:{redirectUri:d,homeUrl:m},reportRequestData:{originalService:M.v6v.UAS,serviceUseCase:M.f$p.AcquireUser,reportSuccessTelemetry:"true"},includeRequestId:!0};return this.headerService.getCommonHeaders().pipe((0,t.zg)(l=>{Object.assign(r.headers,l);const i=this.uasEndpoint.post(this.getUrl("acquire/login"),r);return this.distributedtracingUtilService.handleHttpEndpointSpan(i,r,n.j1.UasAcquireUser,s)}))}getUserAcquisitionState(A,d,m){this.logger.info("checking acquire user state");const S={headers:{Authorization:"Bearer "+A,"Content-Type":"application/json"},params:{requestId:d},reportRequestData:{originalService:M.v6v.UAS,serviceUseCase:M.f$p.GetAcquisitionState,reportSuccessTelemetry:"true"},includeRequestId:!0};return this.headerService.getCommonHeaders().pipe((0,t.zg)(s=>{Object.assign(S.headers,s);const r=this.uasEndpoint.get(this.getUrl("acquire/loginStatus"),S);return this.distributedtracingUtilService.handleHttpEndpointSpan(r,S,n.j1.UasAcquireUser,m)}))}}return y.\u0275fac=function(A){return new(A||y)(L.LFG(p.VK),L.LFG(P.V9),L.LFG(n.Dc),L.LFG(a.ed),L.LFG(o.x5))},y.\u0275prov=L.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},79576:(Ge,ae,e)=>{"use strict";e.d(ae,{K:()=>f});var t=e(18406),n=e(23815),x=e(41221),M=e(96671),L=e(86283),p=e(18388),P=e(50608),a=e(39700),o=e(89258),v=e(33932),y=e(74266),C=e(2629),A=e(51325),d=e(4042),m=e(49048),S=e(93450),s=e(21361),r=e(85566),i=e(23827),O=e(39609),Y=e(64710),T=e(39382),B=e(31095),K=e(62024),b=e(9357);let f=(()=>{class D{constructor(w,_,$,G,F,J,z,Z){if(this.config=_,this.uasSdk=$,this.bridgeService=G,this.localeService=F,this.pathService=J,this.telemetryUtilService=z,this.telemetryService=Z,this.httpSubscription=null,this.redirectUrl=null,this.httpRequestSub=null,this.AutoEntitleStateSub=new t.X(S.n.NotStarted),this.loginInitiated=!1,this.pendingEntitlement=!1,this.uasKey="AutoEntitleState",this.redirectInputKey="inputData",this.redirectResponseKey="responseData",this.tabWindow=null,this.pollingSubscription=null,this.logger=w.getLogger("uas/uas-service"),this.config.uasConfig.redirectUrlIsRelative){const ue=window.sessionStorage.getItem(this.uasKey);this.config.starfleet.sameTabLogin&&ue&&(this.loginInitiated=ue===S.n.Started),this.config.uasConfig.sameTab&&ue&&(this.pendingEntitlement=ue===S.n.Pending),this.redirectUrl=window.location.origin+this.config.uasConfig.redirectUrl,window.sessionStorage.removeItem(this.uasKey),window.sessionStorage.removeItem(this.redirectInputKey)}}handleHttpRequest(w){const _={};return new URL(w).searchParams.forEach((G,F)=>{_[F]=G}),_}get AutoEntitleState(){return this.AutoEntitleStateSub.asObservable()}onLoginInitiated(w){if(this.tabWindow=w,this.logger.info("on login initiated"),this.AutoEntitleStateSub.next(S.n.NotStarted),this.loginInitiated=!0,this.isAutoEntitlementEnabled()){if(this.config.starfleet.useDeviceAuthLogin)return(0,n.of)(null);if(!this.config.starfleet.redirectUrlIsRelative){this.logger.info("starting http server");const[_,$]=this.startHttpServer(this.config.starfleet.portNumbers);return this.httpRequestSub=$,_.pipe((0,o.U)(G=>(this.redirectUrl=this.config.starfleet.redirectUrl.replace("{portnumber}",G.toString()),this.logger.info("Success login init"),{url:this.redirectUrl,observable:$})))}return this.config.starfleet.redirectUrlIsRelative?(this.config.starfleet.sameTabLogin&&window.sessionStorage.setItem(this.uasKey,S.n.Started),(0,n.of)({skipSuccessRedirect:!0})):(this.logger.info("Auto entitle not implemented for android"),(0,n.of)(null))}return this.logger.info("Auto entitle disabled"),(0,n.of)(null)}onLoginFailed(w){if(this.loginInitiated&&this.isAutoEntitlementEnabled()&&(this.loginInitiated=!1,!this.config.starfleet.useDeviceAuthLogin)&&(!this.config.starfleet.redirectUrlIsRelative||this.config.starfleet.redirectUrlIsRelative&&this.config.starfleet.sameTabLogin)){const _=new URL(this.config.starfleet.onCompleteRedirectUrl);_.searchParams.append("error",w||"unknown"),_.searchParams.append("ui_locales",this.localeService.getLocale()),this.tabWindow?this.tabWindow.location.href=_.href:this.bridgeService.executeCommand(s.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:_.href,redirectParams:[]}).subscribe(x.Z,x.Z,()=>this.stopHttpServer())}}stopHttpServer(){this.logger.info("Stopping http server"),this.httpSubscription&&(this.httpSubscription.unsubscribe(),this.httpSubscription=null,this.bridgeService.executeCommand(s.Gh.Common.Httpserver.StopHttpServer).subscribe(w=>this.logger.info("success stopping httpserver",w),w=>this.logger.error("error stopping httpserver",w)),this.logger.info("Success stopping http server"))}startHttpServer(w){const _=new M.xQ,$=new M.xQ;return this.httpSubscription=this.bridgeService.executeCommand(s.Gh.Common.Httpserver.StartHttpServer,{ports:w,redirectUrl:"",redirectParams:[]}).subscribe(G=>{switch(this.logger.info("httpresponse recieved"),(0,r.get)(G,"callbackReason")){case"serverCreated":this.logger.info("http server created"),_.next((0,r.get)(G,"portNumber")),_.complete();break;case"httpRequest":this.logger.info("http request recieved"),$.next((0,r.get)(G,"url"))}},G=>{this.logger.error("error starting httpserver",G),_.error("HTTP_START_FAILED"),$.error("HTTP_START_FAILED")}),[_,$]}isAutoEntitlementEnabled(){return this.config.featureEnablement.UASAutoEntitle}handleOffDeviceAcquisition(w,_){if(_.loginState===S.z.PENDING_LOGIN){const $=new M.xQ;this.httpRequestSub=$.asObservable(),this.pollingSubscription=(0,L.F)(this.config.uasConfig.pollingInterval).pipe((0,v.zg)(G=>this.uasSdk.getUserAcquisitionState(w,_.requestId)),(0,y.h)(G=>G.loginState!==S.z.PENDING_LOGIN),(0,C.q)(1),(0,A.K)(G=>(this.logger.error("error in get acquisition state",G),this.sendTelemetry(i.N3X.UALoginFailed,this.stringOrObj(G)),(0,n.of)({loginState:S.z.NOT_LOGGED_IN,requestId:null,landingPageUrl:null})))).subscribe(G=>$.next(G))}return(0,n.of)(_)}handleNativeRedirect(w){var _;return(null===(_=w.landingPageUrl)||void 0===_?void 0:_.length)>0?this.bridgeService.executeCommand(s.Gh.Common.Nativeauth.initiateLogIn,{url:w.landingPageUrl}).pipe((0,C.q)(1),(0,d.h)(w)):(0,n.of)(w)}showNextPage(w,_){if(this.config.starfleet.useDeviceAuthLogin)return this.handleOffDeviceAcquisition(w,_);if(this.config.uasConfig.redirectUrlIsRelative)return this.redirectUserBrowser(_);if(this.config.uasConfig.isNativeRedirect)return this.handleNativeRedirect(_);let $=null;return _.loginState!==S.z.UNKNOWN&&_.landingPageUrl?$=new URL(_.landingPageUrl):($=new URL(this.config.starfleet.onCompleteRedirectUrl),$.searchParams.append("error","unknown")),this.logger.info("redirecting user to: ",$.href),this.bridgeService.executeCommand(s.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:$.href,redirectParams:[]}).pipe((0,d.h)(_))}getRedirectResponse(){let w=null;try{w=JSON.parse(window.localStorage.getItem(this.redirectResponseKey)),this.logger.info("redirect response",w)}catch(_){this.logger.error("failed to parse response JSON",_)}return window.localStorage.removeItem(this.redirectResponseKey),w}validateMessageEvent(w,_){let $=w&&w.data;return $=$&&w.origin===window.location.origin&&w.data.reason===_,!!$}redirectUserBrowser(w){var _,$;if(w.loginState===S.z.PENDING_LOGIN){if(!((null===(_=w.landingPageUrl)||void 0===_?void 0:_.length)>0))return(0,p._)("landing page url must be defined for LOGIN_PENDING");const G=this.pathService.getCurrentUrl();if(this.config.uasConfig.sameTab)return window.sessionStorage.setItem(this.redirectInputKey,JSON.stringify({returnUrl:G})),window.sessionStorage.setItem(this.uasKey,S.n.Pending),window.open(w.landingPageUrl,"_self"),P.C;this.tabWindow?this.tabWindow.location.href=w.landingPageUrl:this.tabWindow=window.open(w.landingPageUrl,"_blank"),this.httpRequestSub=(0,a.R)(window,"message").pipe((0,y.h)(F=>this.validateMessageEvent(F,"redirectCallback")),(0,o.U)(()=>this.getRedirectResponse()))}else(null===($=w.landingPageUrl)||void 0===$?void 0:$.length)>0&&(this.config.uasConfig.sameTab?window.open(w.landingPageUrl,"_self"):(this.tabWindow||(this.tabWindow=window.open("","_blank")),this.tabWindow.location.href=w.landingPageUrl));return(0,n.of)(w)}cancelAutoEntitlement(){this.loginInitiated=!1,this.pendingEntitlement=!1,this.stopHttpServer(),this.pollingSubscription&&(this.pollingSubscription.unsubscribe(),this.pollingSubscription=null)}autoEntitleUser(w,_=!1){if(this.AutoEntitleStateSub.next(S.n.Started),this.logger.info("Auto Entitle triggered"),!1===this.loginInitiated&&!1===this.pendingEntitlement)return this.AutoEntitleStateSub.next(S.n.LoggedIn),this.logger.warn("Auto entitle cancelled, login not initiated"),(0,n.of)(S.z.LOGGED_IN);if(this.loginInitiated=!1,!0!==this.isAutoEntitlementEnabled())return this.AutoEntitleStateSub.next(S.n.LoggedIn),this.logger.info("Auto entitlement is disabled"),this.pendingEntitlement=!1,(0,n.of)(S.z.LOGGED_IN);if(!w)return this.AutoEntitleStateSub.next(S.n.LoggedOut),this.logger.warn("Invalid idToken, aborting auto entitle"),this.pendingEntitlement=!1,this.showNextPage(null,{landingPageUrl:null,loginState:S.z.UNKNOWN,requestId:null}).pipe((0,o.U)(G=>(this.stopHttpServer(),S.z.NOT_LOGGED_IN)));this.logger.info("triggering auto entitle");let $=null;if(this.pendingEntitlement)$=(0,n.of)(this.getRedirectResponse()),this.pendingEntitlement=!1;else{const G=this.config.uasConfig.redirectUrlIsRelative?this.pathService.getCurrentUrl():this.config.uasConfig.homeUrl;$=this.uasSdk.acquireUser(w,this.redirectUrl,G,this.localeService.getLocale())}return $.pipe((0,v.zg)(G=>(this.logger.info("acquire user success",G),this.showNextPage(w,G))),(0,v.zg)(G=>{switch(G.loginState){case S.z.LOGGED_IN:return this.stopHttpServer(),this.AutoEntitleStateSub.next(S.n.LoggedIn),this.sendTelemetry(i.N3X.UALoginComplete),(0,n.of)(S.z.LOGGED_IN);case S.z.PENDING_LOGIN:return this.AutoEntitleStateSub.next(S.n.Pending),this.sendTelemetry(i.N3X.UALoginPending,`requestId: ${G.requestId}, page: ${G.landingPageUrl}`),this.logger.info("acquire user input required, pending"),this.httpRequestSub.pipe((0,C.q)(1),(0,m.V)(this.config.uasConfig.redirectTimeout),(0,A.K)(F=>{throw this.sendTelemetry(i.N3X.UALoginPendingTimedOut,`timeout ${this.config.uasConfig.redirectTimeout}, requestId: ${G.requestId}`),new Error("timed out")}),(0,v.zg)(F=>{const J=this.config.starfleet.useDeviceAuthLogin||this.config.uasConfig.redirectUrlIsRelative?F:this.handleHttpRequest(F);return this.logger.info("user input completed: ",J),this.showNextPage(w,J)}),(0,o.U)(F=>F.loginState===S.z.LOGGED_IN?(this.stopHttpServer(),this.AutoEntitleStateSub.next(S.n.LoggedIn),this.sendTelemetry(i.N3X.UALoginPendingSuccess),S.z.LOGGED_IN):(this.stopHttpServer(),this.AutoEntitleStateSub.next(S.n.LoggedOut),this.sendTelemetry(i.N3X.UALoginPendingFailure,`request id ${G.requestId}, state: ${F.loginState}`),S.z.NOT_LOGGED_IN)));default:return this.stopHttpServer(),this.AutoEntitleStateSub.next(S.n.LoggedOut),this.sendTelemetry(i.N3X.UALoginFailed,`request id ${G.requestId}, state: ${G.loginState}`),(0,n.of)(S.z.NOT_LOGGED_IN)}}),(0,A.K)(G=>(this.logger.error("acquire user failed with error:",G,null==G?void 0:G.message),401!==(null==G?void 0:G.status)||_?(this.sendTelemetry(i.N3X.UALoginFailed,this.stringOrObj(G)),this.AutoEntitleStateSub.next(S.n.Failed),this.showNextPage(null,{landingPageUrl:null,loginState:S.z.UNKNOWN,requestId:null}).pipe((0,o.U)(F=>(this.stopHttpServer(),S.z.NOT_LOGGED_IN)))):(this.loginInitiated=!0,(0,n.of)(S.z.AUTHORIZATION_ERROR)))))}stringOrObj(w){try{return JSON.stringify(w)}catch{return w}}sendTelemetry(w,_){const $=new i.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:i.Vwu.AutoEntitle,status:w,errorDetails:(null==_?void 0:_.substring(0,1023))||"",totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push($)}}return D.\u0275fac=function(w){return new(w||D)(O.LFG(Y.ed),O.LFG(T.VK),O.LFG(B.q),O.LFG(Y.dF),O.LFG(Y.OL),O.LFG(K.un),O.LFG(i.wU6),O.LFG(b.y0))},D.\u0275prov=O.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},46389:(Ge,ae,e)=>{"use strict";e.d(ae,{cI:()=>s,LB:()=>z,rH:()=>w,DI:()=>S});var t=e(64710),n=e(97483),x=e(23815),M=e(53809),L=e(39138),p=e(47504),P=e(27344),a=e(2629),o=e(57693),v=e(71265),y=e(13800),C=e(89258),A=e(78747),d=e(33932),m=e(18164),S=(()=>{return(Z=S||(S={})).None="None",Z.UnsupportedOS="UnsupportedOS",Z.UnsupportedBrowser="UnsupportedBrowser",Z.PWARequired="PWARequired",Z.NativeAppOnly="NativeAppOnly",Z.UnsupportedGameLaunch="UnsupportedGameLaunch",S;var Z})(),s=(()=>{return(Z=s||(s={})).None="None",Z.OfficiallySupported="OfficiallySupported",Z.UnofficiallySupported="UnofficiallySupported",s;var Z})(),r=e(39609),l=e(39536),i=e(22804),O=e(30613),Y=e(39103),T=e(40479),B=e(715),K=e(9357),b=e(5193);const f_body_text="layout.universalUnsupportedDialogOnLoadText.bodyText",f_body_textPlatform="layout.universalUnsupportedDialogOnLoadText.bodyTextPlatform",f_body_textBrowser="layout.universalUnsupportedDialogOnLoadText.bodyTextBrowser",f_link_unsupportedPlatform="layout.universalUnsupportedDialogText.unsupportedPlatformLinkText",f_link_unsupportedBrowser="layout.universalUnsupportedDialogText.unsupportedBrowserLinkText",f_link_unsupportedBrowserWithNativeApps="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsLinkText",f_link_unsupportedPlatformOnTV="layout.universalUnsupportedDialogText.unsupportedPlatformLinkTextOnTV",f_link_unsupportedBrowserOnTV="layout.universalUnsupportedDialogText.unsupportedBrowserLinkTextOnTV",f_link_unsupportedBrowserOnIOS="common.setUpOnSafari",f_link_unsupportedBrowserWithNativeAppsOnTV="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsLinkTextOnTV",f_link_nativeAppOnlyPlatform="layout.universalUnsupportedDialogText.nativeAppOnlyPlatformLinkText",f_link_pwaRequiredGuidance="layout.universalUnsupportedDialogText.pwaRequiredGuidanceLinkText",f_primaryButton={text:"layout.universalUnsupportedDialogOnLoadText.primaryButton"},f_offDeviceLink_unsupportedBrowserWithNativeApps="offDeviceLink.unsupportedBrowserWithNativeAppsText",D={supportType:s.OfficiallySupported,supportedBrowser:!0,supportedOS:!0,nativeClientSupported:!0,pwaRequired:!1,nativeAppOnly:!1,pwaGuidance:!1},I={supportType:s.OfficiallySupported,supportedBrowser:!0,supportedOS:!0,nativeClientSupported:!1,pwaRequired:!1,nativeAppOnly:!1,pwaGuidance:!1};let w=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe){this.appConfig=k,this.systemInfoService=W,this.dialog=N,this.genericDialog=H,this.deeplinkHelperService=h,this.projectInterfaceService=E,this.pwaService=ee,this.redirectService=R,this.translateService=q,this.telemetryUtilService=ne,this.telemetryService=_e,this.configuration=U,this.guestModeHelperService=re,this.focusManager=pe,this.tvMode=!1,this.openSetupGuidance=()=>{this.genericDialog.closeAll(),this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(n.LB$,{autoFocus:!0,hasBackdrop:!0,panelClass:["dialogPaddingRemove","nv-overlay-panel"]}))},this.logger=u.getLogger("gfn/browser-universal-service"),this.tvMode=!!k.featureEnablement.tvMode,this.unsupportedBrowsersConfig$=this.fetchClientConfiguration().pipe((0,a.q)(1),(0,o.d)(1)),this._unsupportedBrowserState$=this.unsupportedBrowsersConfig$.pipe((0,v.b)(Pe=>this.logger.info("Unsupported Browser Config: ",Pe)),(0,y.w)(Pe=>this.getUnsupportedBrowserState$(Pe)),(0,v.b)(Pe=>this.logger.info(`browser / platform Unsupported State: ${Pe.unsupportedState}, Supported State: ${Pe.supportedState}`)),(0,o.d)(1))}isUnsupported(u){return!(u.supportType!==s.None&&u.supportedBrowser&&u.supportedOS&&(!u.pwaRequired||this.pwaService.isInPWAMode()))}get unsupportedBrowserState$(){return this._unsupportedBrowserState$}get shouldDisplayPWAGuidance$(){return this.unsupportedBrowsersConfig$.pipe((0,a.q)(1),(0,y.w)(u=>u.pwaGuidance?this._unsupportedBrowserState$.pipe((0,C.U)(k=>k.unsupportedState===S.PWARequired)):(0,x.of)(!1)))}initialize(){this.unsupportedBrowsersConfig$.pipe((0,y.w)(u=>this.isUnsupported(u)&&!this.deeplinkHelperService.isDeeplinkScenario()?this.openUnsupportedBrowserDialogOnLoad$(u):M.E),(0,a.q)(1),(0,A.x)(()=>{this.projectInterfaceService.closeUnsupportedDialog()})).subscribe(()=>this.logger.info("Unsupported browser dialog is not displayed or dismissed by the user."),u=>{this.logger.error("Error displaying unsupported browser dialog",u)})}getUnsupportedBrowserState$(u){const k={supportedState:s.None,unsupportedState:S.None};return u.nativeAppOnly?(k.unsupportedState=S.NativeAppOnly,(0,x.of)(k)):u.supportedOS?u.supportedBrowser?u.pwaRequired?this.pwaService.onPWAModeChange.pipe((0,C.U)(W=>W?(k.supportedState=u.supportType===s.OfficiallySupported?s.OfficiallySupported:s.UnofficiallySupported,k):(k.unsupportedState=S.PWARequired,k))):(k.supportedState=u.supportType===s.OfficiallySupported?s.OfficiallySupported:s.UnofficiallySupported,(0,x.of)(k)):(k.unsupportedState=S.UnsupportedBrowser,(0,x.of)(k)):(k.unsupportedState=S.UnsupportedOS,(0,x.of)(k))}getRedirectKey(u){if(u.supportedState===s.None)switch(u.unsupportedState){case S.UnsupportedOS:return n.hEi.GfnPcUnsupportedDevice;case S.UnsupportedBrowser:case S.PWARequired:case S.NativeAppOnly:return n.hEi.GfnPcUnsupportedBrowser;default:throw new Error("should not happen!")}else if(u.unsupportedState===S.None)throw new Error("To be Implemented")}getBodyText(u){if(u.supportedState===s.None)switch(u.unsupportedState){case S.UnsupportedOS:return f_body_textPlatform;case S.UnsupportedBrowser:case S.PWARequired:case S.NativeAppOnly:return f_body_textBrowser;default:throw new Error("should not happen!")}else if(u.unsupportedState===S.None)throw new Error("To be Implemented")}getDialogLink$(u,k){return this.unsupportedBrowsersConfig$.pipe((0,a.q)(1),(0,y.w)(W=>this._getDialogLink$(u,W,k)))}_getDialogLink$(u,k,W){const N=this.getRedirectKey(u),H=null!=W&&W.anchorLink||!this.tvMode?this.getLinkText(u,k):this.getTVModeLinkText(u,k),h=u.unsupportedState===S.UnsupportedBrowser&&(null==k?void 0:k.pwaGuidance),E=N===n.hEi.GfnPcUnsupportedBrowser&&null!=k&&k.nativeClientSupported?f_offDeviceLink_unsupportedBrowserWithNativeApps:void 0;return this.redirectService.getRedirectUrl(N).pipe((0,C.U)(ee=>({url:ee,text:H,shortUrl:m.hD[N],shortUrlDescription:E,routerLink:this.getRouterLink(u,k),linkClickedCallback:h?this.openSetupGuidance.bind(this):void 0})))}getRouterLink(u,k){if(u.unsupportedState===S.PWARequired&&null!=k&&k.pwaGuidance)return{commands:n.fFR.PwaWall,skipLocationChange:!1}}getTranslatedBodyText$(){return this.unsupportedBrowserState$.pipe((0,y.w)(k=>{const W=this.translateService.get(f_body_text),N=this.translateService.get(this.getBodyText(k));return(0,L.$R)(W,N).pipe((0,a.q)(1),(0,C.U)(([H,h])=>`${H}<br><br>${h}`))}))}getLinkText(u,k){if(u.supportedState===s.None)switch(u.unsupportedState){case S.NativeAppOnly:return f_link_nativeAppOnlyPlatform;case S.UnsupportedOS:return f_link_unsupportedPlatform;case S.UnsupportedBrowser:case S.PWARequired:return null!=k&&k.pwaGuidance?u.unsupportedState===S.UnsupportedBrowser?f_link_unsupportedBrowserOnIOS:f_link_pwaRequiredGuidance:null!=k&&k.nativeClientSupported?f_link_unsupportedBrowserWithNativeApps:f_link_unsupportedBrowser;default:throw new Error("should not happen!")}else if(u.unsupportedState===S.None)throw new Error("To be Implemented")}getTVModeLinkText(u,k){if(!this.tvMode)throw new Error("Not in TV mode!");if(u.supportedState===s.None)switch(u.unsupportedState){case S.NativeAppOnly:return f_link_unsupportedBrowserWithNativeAppsOnTV;case S.UnsupportedOS:return f_link_unsupportedPlatformOnTV;case S.UnsupportedBrowser:case S.PWARequired:return null!=k&&k.nativeClientSupported?f_link_unsupportedBrowserWithNativeAppsOnTV:f_link_unsupportedBrowserOnTV;default:throw new Error("should not happen!")}else if(u.unsupportedState===S.None)throw new Error("To be Implemented")}openUnsupportedBrowserDialogOnLoad$(u){const k=this.unsupportedBrowserState$.pipe((0,y.w)(W=>this._getDialogLink$(W,u)));return(0,L.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,a.q)(1),(0,d.zg)(W=>(0,p.aj)([this.getTranslatedBodyText$(),k]).pipe((0,a.q)(1),(0,y.w)(([N,H])=>{const h=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.universalUnsupportedDialogOnLoadText.headerText"},bodyText:{text:N,translated:!0},link:H,primaryButton:Object.assign({},f_primaryButton),autoFocusOnPrimaryButton:!1}},{preferThreeQuarterSheet:!0});this.telemetryUtilService.sendPopUpDialogShownEvent(n.ItH.Unsupported_Browser_Or_Platform_Load);const E=h.primaryButtonClick.pipe((0,v.b)(ee=>{this.telemetryUtilService.sendPopUpDialogClosedEvent(n.ItH.Unsupported_Browser_Or_Platform_Load,n.XzU.Dialog_Closed),h.close()}));return(0,P.S3)(E,h.afterClosed())}))))}isSupportedBrowser(u,k){return!(!k&&!this.pwaService.isInPWAMode())&&this.checkSystemCompatibility(u,k)}compareVersions(u,k){return u.localeCompare(k,void 0,{numeric:!0,sensitivity:"base"})}compareOSVersions(u,k){return this.compareVersions(u,k.replace("+",""))}checkSystemCompatibility(u,k){let W=0,N=!1;return k.minBrowserVersion&&u.BrowserVersion&&(W=this.compareVersions(k.minBrowserVersion,u.BrowserVersion)),W<=0&&k.minOSVersion&&u.OSVersion&&(W=this.compareOSVersions(k.minOSVersion,u.OSVersion)),N=k.supportedPlatforms.includes(u.OSName)||this.pwaService.isInPWAMode(),W<=0&&N}checkGuestModeOverrides(u,k){return!(!this.guestModeHelperService.isGuestMode||!u)&&this.checkSystemCompatibility(k,u)}isSupportedPlatform(u,k,W){let N=0;return null!=W&&W.minOSVersion&&k.OSVersion&&(N=this.compareOSVersions(W.minOSVersion,k.OSVersion)),N<=0&&(null==u?void 0:u.includes(k.OSName))}getSupportType(u,k,W){return this.isSupportedBrowser(u,k)?s.OfficiallySupported:this.isSupportedBrowser(u,W)?s.UnofficiallySupported:s.None}fetchClientConfiguration(){var u;return t.ng.isNativeLikePlatform()||null!==(u=this.configuration.featureEnablement)&&void 0!==u&&u.browserClientUniversalEnablement?(0,x.of)(D):this.systemInfoService.getStaticSystemInfo().pipe((0,C.U)(k=>{var W,N;const H=this.appConfig.supportedBrowsersAndPlatforms,h=null==H?void 0:H.officiallySupported.find(q=>(null==q?void 0:q.browser)===k.BrowserName),E=null==H?void 0:H.unofficiallySupported.find(q=>(null==q?void 0:q.browser)===k.BrowserName),ee=null===(W=null==H?void 0:H.guestModeOverrides)||void 0===W?void 0:W.find(q=>(null==q?void 0:q.browser)===k.BrowserName);if(this.logger.info("officially Supported Info from Config.json",JSON.stringify(h)),this.logger.info("unofficially Supported Info from Config.json",JSON.stringify(E)),this.logger.info("Guest Mode Overrides from Config.json",JSON.stringify(ee)),this.logger.info("Current System Info",JSON.stringify(k)),this.checkGuestModeOverrides(ee,k))return I;const R=this.getSupportType(k,h,E);return this.logger.info("Browser Compatibility Support Type: ",R),{supportType:R,supportedBrowser:R!==s.None,supportedOS:this.isSupportedPlatform(null==H?void 0:H.allSupportedPlatforms,k,R===s.OfficiallySupported?h:E),nativeClientSupported:H.nativeClientSupportedPlatforms.includes(k.OSName),pwaRequired:H.pwaRequiredPlatforms.includes(k.OSName),nativeAppOnly:!(null===(N=H.nativeAppOnlyPlatforms)||void 0===N||!N.includes(k.OSName)),pwaGuidance:H.pwaGuideSupportedPlatforms.includes(k.OSName)}}))}}return Z.\u0275fac=function(u){return new(u||Z)(r.LFG(t.ed),r.LFG(n.VKt),r.LFG(t.Ob),r.LFG(l.on),r.LFG(i.TX),r.LFG(O.g),r.LFG(Y.m3),r.LFG(T.nG),r.LFG(m.VH),r.LFG(B.sK),r.LFG(n.wU6),r.LFG(K.y0),r.LFG(n.VKt),r.LFG(b.h),r.LFG(i.IK))},Z.\u0275prov=r.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();var _=e(96671),$=e(16099),G=e(10907),F=e(18937),J=e(34375);let z=(()=>{class Z{constructor(u,k){this.dialogRef=k,this.destroy$=new _.xQ,this.dismissMessageDelay=4e3,this.gfnLink=location.hostname,this.logger=u.getLogger("unsupported-browser-help.component")}onClose(){this.dialogRef.close()}onCopy(){(0,$.D)(navigator.clipboard.writeText(this.gfnLink)).pipe((0,G.R)(this.destroy$)).subscribe(u=>{this.successMessageVisible=!0,setTimeout(()=>{this.successMessageVisible=!1},this.dismissMessageDelay)},u=>{this.logger.error(`${this.gfnLink} is copied failed, error: ${u}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return Z.\u0275fac=function(u){return new(u||Z)(r.Y36(t.ed),r.Y36(l.hV))},Z.\u0275cmp=r.Xpm({type:Z,selectors:[["gfn-unsupported-browser-pwa-setup"]],decls:30,vars:24,consts:[["fxFlex","","fxLayout","column",1,"main-container"],["fxLayout","column",1,"content-container"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-header6","color-white","prompt-header"],[1,"font-body2"],[1,"link-container","font-body2"],["fxLayoutAlign","start center",1,"gfn-link"],["mat-button","","fxLayout","row","fxLayoutAlign","end center",1,"color-white",3,"click"],[1,"success-message","font-body2"],["fxLayout","row","fxLayoutAlign","end end",1,"button-container"],["mat-button","",3,"click"]],template:function(u,k){1&u&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._uU(4),r.ALo(5,"translate"),r.qZA(),r.TgZ(6,"span",4),r._uU(7),r.ALo(8,"translate"),r.qZA(),r.TgZ(9,"span",4),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.TgZ(12,"span",4),r._uU(13),r.ALo(14,"translate"),r.qZA()(),r.TgZ(15,"div",5)(16,"span",6),r._uU(17),r.qZA(),r.TgZ(18,"button",7),r.NdJ("click",function(){return k.onCopy()}),r.TgZ(19,"span"),r._uU(20),r.ALo(21,"translate"),r.qZA()()(),r.TgZ(22,"span",8),r._uU(23),r.ALo(24,"translate"),r.qZA()(),r.TgZ(25,"div",9)(26,"button",10),r.NdJ("click",function(){return k.onClose()}),r.TgZ(27,"span"),r._uU(28),r.ALo(29,"translate"),r.qZA()()()()),2&u&&(r.xp6(4),r.Oqu(r.lcZ(5,10,"iosUnsupportedBrowserHelpDialog.title")),r.xp6(3),r.Oqu(r.lcZ(8,12,"iosUnsupportedBrowserHelpDialog.setUpStep1")),r.xp6(3),r.Oqu(r.lcZ(11,14,"iosUnsupportedBrowserHelpDialog.setUpStep2")),r.xp6(3),r.Oqu(r.lcZ(14,16,"iosUnsupportedBrowserHelpDialog.setUpStep3")),r.xp6(4),r.Oqu(k.gfnLink),r.xp6(3),r.Oqu(r.lcZ(21,18,"iosPWA.copy")),r.xp6(2),r.ekj("visible",k.successMessageVisible),r.xp6(1),r.Oqu(r.lcZ(24,20,"iosPWA.linkCopied")),r.xp6(5),r.Oqu(r.lcZ(29,22,"common.close")))},dependencies:[F.xw,F.Wh,F.yH,J.eB,B.X$],styles:[".main-container[_ngcontent-%COMP%]{width:560px;height:fit-content}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:20px 24px 8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .prompt-header[_ngcontent-%COMP%]{margin-bottom:12px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;margin:16px 0 8px;border:1px solid rgba(255,255,255,.2)}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{visibility:hidden}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 0 8px 8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 8px 8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 8px 8px 0}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 8px 0}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message.visible[_ngcontent-%COMP%]{visibility:visible}.main-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin:0 8px 8px}"]}),Z})()},54360:(Ge,ae,e)=>{"use strict";e.d(ae,{N:()=>d,u:()=>s});var t=e(64710),n=e(96671),x=e(12981),M=e(21361),L=e(33986);const p={result:1},a=new Map([[0,L.Rn.NCT_R_SUCCESS],[1401,L.Rn.NCT_R_AUTH_FAILED],[1509,L.Rn.NCT_R_CAPACITY_FULL]]);var o=e(65793),v=e(39609);let y=(()=>{class r{constructor(i){this.loggingService=i}logBasedOnLevel(i){switch(i.logLevel){case"INFO":case"DEBUG":this.logger.info(i.logstr,i.timeStamp);break;case"ERROR":this.logger.error(i.logstr,i.timeStamp);break;case"WARN":this.logger.warn(i.logstr,i.timeStamp)}}sendNetworkTestLog(i){this.logger=this.loggingService.getLogger(i.logtag),this.logBasedOnLevel(i)}}return r.\u0275fac=function(i){return new(i||r)(v.LFG(t.ed))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const C=M.Gh.Gfn.Networktest,d={provide:t.m1,useClass:(()=>{class r extends t.nM{constructor(i,O,Y){super(),this.zone=i,this.networkTestLoggingService=Y,this.logger=O.getLogger("network-test-plugin"),this.networkTestEvents=new n.xQ,this.networkTestAnalyticsEvent=new n.xQ}get handlers(){return{module:C.Start.module,commands:{[C.Start.method]:this.startNetworkTest.bind(this),[C.NetworkTestFinishedCallback.method]:this.networkTestFinishCallback.bind(this),[C.ConfigureNetworkTestSettings.method]:this.ConfigureNetworkTestSettings.bind(this),[C.RegisterCallback.method]:this.registerCallback.bind(this)}}}initializeNetworkTestApp(){if(!this.ntApp){this.logger.info("Initializing Webrtc Network Test"),this.ntApp=new x.NetworkTestApp;const i=(O,Y)=>{this.ntApp.addListener(O,(...T)=>{this.zone.run(()=>{Y.bind(this)(T[0])})})};i("NetworkTestCompleted",this.onNetworkTestCompleted),i("NetworkTestAnalytics",this.onNetworkTestAnalyticEvent),i("Log",this.onNetworkTestLogEvent)}}getNetworkTestAuthType(i){let O=1;switch(i){case o.q.NVB_AUTH_JWT_GFN:O=1;break;case o.q.NVB_AUTH_JWT:O=2}return O}startNetworkTest(i){let O=!0;return this.zone.runOutsideAngular(()=>{this.displayResolution=i.payload.displayResolution,this.initializeNetworkTestApp();const Y={platformId:"gfn_browser_client",serverAddress:i.payload.address,networkTestProfile:[i.payload.displayResolution],authInfo:{type:this.getNetworkTestAuthType(i.payload.authType),token:i.payload.authToken}};this.logger.info("Network test params for ntwebrtc: ",Y.platformId,Y.serverAddress,Y.networkTestProfile),this.ntApp.startNetworkTest(Y)||(O=!1)}),O?this.makeResult("true"):this.makeError(500,"Network test application cannot be initialized")}networkTestFinishCallback(){return this.makePersistentResult(this.networkTestEvents.asObservable())}onNetworkTestCompleted(i){if(this.logger.info("Network test completed, result: ",i),i.error){const O={result:{result:a.get(i.error.code)||i.error.code},testResult:{networkSessionId:i.sessionId,resultCode:i.error.code,errorDetails:i.error.errorDetail,zone:i.zone}};this.networkTestEvents.next(JSON.stringify(O))}else{const O={bandwidthLimit:i.testResult.networkTestThreshold.bandwidthLimit,bandwidthRecommended:i.testResult.networkTestThreshold.bandwidthRecommended,packetLossLimit:i.testResult.networkTestThreshold.packetLossLimit,packetLossRecommended:i.testResult.networkTestThreshold.packetLossRecommended,latencyLimit:i.testResult.networkTestThreshold.latencyLimit,latencyRecommended:i.testResult.networkTestThreshold.latencyRecommended,profile:{height:this.displayResolution.height,width:this.displayResolution.width,frameRate:this.displayResolution.frameRate}},Y=Object.assign(Object.assign(Object.assign({},i.testResult),i.testResult.networkTestThreshold),{networkSessionId:i.sessionId,zone:i.zone,thresholds:[O],maxPacketSize:0,maxTestBandwidthMbps:0});delete Y.networkTestThreshold,this.networkTestEvents.next(JSON.stringify({result:p,testResult:Y}))}}onNetworkTestLogEvent(i){this.networkTestLoggingService.sendNetworkTestLog(i)}ConfigureNetworkTestSettings(i){return this.zone.runOutsideAngular(()=>{x.ConfigureNetworkTestSettings(i.payload)}),this.makeResult("true")}onNetworkTestAnalyticEvent(i){this.logger.event("callback onAnalyticsEvent called from ntrtc with eventData, ",i),this.networkTestAnalyticsEvent.next(JSON.stringify(i))}registerCallback(i){return this.makePersistentResult(this.networkTestAnalyticsEvent.asObservable())}}return r.\u0275fac=function(i){return new(i||r)(v.LFG(v.R0b),v.LFG(t.ed),v.LFG(y))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),multi:!0};var m=e(48131),S=e(9357);let s=(()=>{class r{constructor(i,O,Y){this.bridgeService=O,this.telemetryService=Y,this.logger=i.getLogger("networkTestAnalyticsEventHandlerService")}initiateAnalyticsEvents(){this.bridgeService.executeCommand(M.Gh.Gfn.Networktest.RegisterCallback).subscribe(i=>{this.logger.event("Network test event",i),this.parseAndSendData(i)})}parseAndSendData(i){const O=this.getEventInformation(i);O&&O.name?this.telemetryService.push(O,null,{immediateRequest:!0}):this.logger.info("unable to parse Network Test Analytics event",i)}getEventInformation(i){return i.name===m.GMl.NetworkTest_Http_Event.name?this.prepareNetworkTestHttpEventData(i):i.name===m.GMl.NetworkTest_Exception_Event.name?this.prepareNetworkTestExceptionEventData(i):void this.logger.info("analytics event from Network Test lib not tracked",i.name)}prepareNetworkTestHttpEventData(i){return new m.ORi(Object.assign({url:i.url||"",verb:i.verb||"",statusCode:i.statusCode||"",requestStatusCode:i.requestStatusCode||"",networkSessionId:i.networkSessionId||"",requestId:i.requestId||"",serverId:i.serverId||"",callDuration:i.callDuration||0}))}prepareNetworkTestExceptionEventData(i){return new m.P3M(Object.assign({category:i.category||"",message:i.message||"",networkSessionId:i.networkSessionId||"",stacktrace:i.stacktrace||"",filename:i.filename||"",lineno:i.lineno||0,colno:i.colno||0,handled:i.handled,zoneAddress:i.zoneAddress||""}))}}return r.\u0275fac=function(i){return new(i||r)(v.LFG(t.ed),v.LFG(t.dF),v.LFG(S.y0))},r.\u0275prov=v.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},5249:(Ge,ae,e)=>{"use strict";e.d(ae,{J$:()=>x,ce:()=>n,hc:()=>M});var t=e(64710);const n=L=>{switch(L){case"IOS":return"PHONE";case"IPADOS":return"TABLET";case"TIZEN":case"WEBOS":return"TV";case"XBOX":return"CONSOLE";default:return"DESKTOP"}},x=L=>{switch(null==L?void 0:L.toLowerCase()){case"windows":return"WINDOWS";case"mac":case"macos":return"MACOS";case"linux":return"LINUX";case"chrome os":case"chromeos":return"CHROMEOS";case"ios":return"IOS";case"ipados":return"IPADOS";case"webos":return"WEBOS";case"tizen":return"TIZEN";case"xbox":return"XBOX";case"android":return"ANDROID";case"steamos":return"STEAMOS";case"shield":return"SHIELD";default:return"UNKNOWN"}},M=L=>{switch(L){case t.z7.Desktop:return"DESKTOP";case t.z7.Laptop:return"LAPTOP";case t.z7.TV:return"TV";case t.z7.Phone:return"PHONE";case t.z7.Tablet:return"TABLET";case t.z7.Console:return"CONSOLE";default:return"DESKTOP"}}},31479:(Ge,ae,e)=>{"use strict";e.d(ae,{x:()=>o});var t=e(64710),n=e(49989),x=e(89258),M=e(57693),L=e(80155),p=e(39382),P=e(83024),a=e(39609);let o=(()=>{class v{constructor(C,A){this.systemInfoService=C,this.appConfig=A}getDeviceModelHeader(C){var A,d;if(C.DeviceType!==t.z7.TV)return null===(A=C.SystemName)||void 0===A?void 0:A.toUpperCase();const m=null===(d=C.CPUName)||void 0===d?void 0:d.toUpperCase();if("TIZEN"!==C.OSName)return m;const{year:S}=(0,L.L2)((0,L.bq)());return S?`${m}-${S}`:m}getClientIdHeaderValue(C){if(!C)throw new Error(`Unrecognized client ID type (${C})`);return this.appConfig.lcars.clientId}initialize(){this.commonHeaders$=(0,n.s)(t.ng.isBrowserLikePlatform,this.systemInfoService.getClientHeadersInfo(),this.systemInfoService.getOsInformation()).pipe((0,x.U)(C=>{const A={};if(t.ng.isBrowserPlatform()){A["NV-Device-Type"]=C.DeviceType,A["NV-Device-OS"]=C.OSName;const d=this.getDeviceModelHeader(C);d&&(A["NV-Device-Model"]=d),A["NV-Client-Type"]="BROWSER",A["NV-Client-Streamer"]="WEBRTC",A["NV-Browser-Type"]=C.BrowserName}else{const d=(0,P.J$)(C.Platform);A["NV-Device-Type"]=C.DeviceType?(0,P.hc)(C.DeviceType):(0,P.ce)(d),C.Make&&(A["NV-Device-Make"]=C.Make),C.Model&&(A["NV-Device-Model"]=C.Model),A["NV-Device-OS"]=d,A["NV-Client-Type"]="NATIVE",A["NV-Client-Streamer"]="NVIDIA-CLASSIC"}return A["NV-Client-Version"]=(0,p.sc)(this.appConfig),A}),(0,M.d)(1))}getCommonHeaders(C){return this.commonHeaders$||this.initialize(),this.commonHeaders$.pipe((0,x.U)(A=>Object.assign({},A)),(0,x.U)(A=>(null!=C&&C.withClientId&&(A["NV-Client-ID"]=this.getClientIdHeaderValue(C.withClientId)),A)))}}return v.\u0275fac=function(C){return new(C||v)(a.LFG(t.Ob),a.LFG(p.VK))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},83024:(Ge,ae,e)=>{"use strict";e.d(ae,{J$:()=>n.J$,ce:()=>n.ce,hc:()=>n.hc,x5:()=>t.x});var t=e(31479),n=e(5249)},99923:(Ge,ae,e)=>{"use strict";e.d(ae,{$l:()=>A,_P:()=>p});var t=e(70494),n=e(23815),x=e(89258),M=e(51325),L=e(16386),p=(()=>{return(d=p||(p={})).RESERVED_SKU_IBETA="reservedSKUiBeta",d.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID="resolutionUpScaleDefaultOptionId",d.CLIPBOARD_PASTE_FEATURE_CONFIG="clipboardPasteFeatureConfig",d.BACKGROUND_WEBRTC_NETWORK_TEST="webRtcNetworkTestV2",d.ENABLE_BROWSER_IGSS="enableBrowserIGSS",d.GAME_OWNERSHIP_AB="gameOwnershipAB",p;var d})();const P=new Map([[p.RESERVED_SKU_IBETA,{defaultValue:!1,subUseCaseName:t.Qu.GxTargetGetReservedSKUIBetaFlag,mapperFn:d=>d.value[p.RESERVED_SKU_IBETA]}],[p.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID,{defaultValue:L.Jr.STANDARD.id,subUseCaseName:t.Qu.Other,mapperFn:d=>d.value[p.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID]}],[p.CLIPBOARD_PASTE_FEATURE_CONFIG,{defaultValue:{isEnabled:!1,maxPasteBuffer:4096},subUseCaseName:t.Qu.GxTargetGetClipboardPasteConfig,mapperFn:d=>d.value}],[p.ENABLE_BROWSER_IGSS,{defaultValue:!1,subUseCaseName:t.Qu.GxTargetGetEnableBrowserIGSS,mapperFn:d=>d.value[p.ENABLE_BROWSER_IGSS]}],[p.BACKGROUND_WEBRTC_NETWORK_TEST,{defaultValue:{value:{enabled:!1,supportedZonesList:[],showUI:!1}},subUseCaseName:t.Qu.Other,mapperFn:d=>d}],[p.GAME_OWNERSHIP_AB,{defaultValue:{variant:"VariantA"},subUseCaseName:t.Qu.GxTargetGetGameOwnershipABConfig,mapperFn:d=>d.value}]]),a=new Map([[p.BACKGROUND_WEBRTC_NETWORK_TEST,"webRtcNetworkTestV2"]]);var o=e(39609),v=e(64710),y=e(39382),C=e(97483);let A=(()=>{class d{constructor(S,s,r,l){this.loggingService=S,this.experienceControlService=s,this.configuration=r,this.idmService=l,this.fetchedFeatureToggleValueMap=new Map,this.logger=this.loggingService.getLogger("CloudVariableHelperService"),this.idmService.accountStatusChanged.subscribe(()=>{var i;return null===(i=this.fetchedFeatureToggleValueMap)||void 0===i?void 0:i.clear()})}getFeatureToggle(S,s={}){return s.configCheckEnabled&&!this.configuration.featureEnablement[s.useDifferentConfigAttributeName?a.get(S):S]?(this.logger.info("Feature disabled in config, returning default value"),(0,n.of)(P.get(S).defaultValue)):this.fetchedFeatureToggleValueMap.has(S)?(0,n.of)(this.fetchedFeatureToggleValueMap.get(S)):this.fetchFeatureToggle(S,s)}fetchFeatureToggle(S,s={}){var r,l;return this.experienceControlService.getCloudVariable(this.configuration.gxTarget.experiences[S],{variant:null!==(r=s.buildVariant)&&void 0!==r?r:null},{useCache:null===(l=s.useCache)||void 0===l||l,useNetworkTimeoutForCacheFallback:!0},t.Z4.GxTargetGetCloudVariable,P.get(S).subUseCaseName).pipe((0,x.U)(i=>{const O=P.get(S).mapperFn(i);return this.fetchedFeatureToggleValueMap.set(S,O),O}),(0,M.K)(i=>{this.logger.error(`Error while fetching feature toggle ${S}:`,i);const O=P.get(S).defaultValue;return(0,n.of)(O)}))}}return d.\u0275fac=function(S){return new(S||d)(o.LFG(v.ed),o.LFG(t.Q6),o.LFG(y.VK),o.LFG(C.No2))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},84658:(Ge,ae,e)=>{"use strict";e.d(ae,{V:()=>t});class t{}},39382:(Ge,ae,e)=>{"use strict";e.d(ae,{VK:()=>t.V,OY:()=>Y,sc:()=>T.s});var t=e(84658),n=e(39609),x=e(33932),M=e(71265),L=e(51325),p=e(43508),P=e(91565),a=e(64710),o=e(49989),v=e(47504),y=e(23815),C=e(71168),A=e(83157),d=e(21361);const m="overrides";function i(B,K,b){return b&&0!==Object.keys(b).length?B.writeBlock(K,b,!0):B.removeBlock(K)}const Y=[{provide:n.ip1,useFactory:function l(B,K,b,f,D,I){return()=>(0,o.s)(a.ng.isAndroidPlatform,I.executeCommand(d.Gh.Common.Overrides.getConfig).pipe((0,x.zg)(w=>{const _=w;return(0,v.aj)([i(K,m,_.overrides),i(K,"session",_.session),i(K,"presets",_.presets),i(K,"networkConfig",_.networkConfig)])})),(0,y.of)(null)).pipe((0,x.zg)(()=>K.readBlock(m)),(0,M.b)(w=>{B.setOverrides(w)}),(0,x.zg)(()=>b.getRemoteConfigOnLaunch()),(0,M.b)(()=>f.initialize()),(0,L.K)(w=>(D.getLogger("shared/configuration.provider").error("Failed to fetch overrides",w),(0,y.of)(!0)))).toPromise()},multi:!0,deps:[p.XL,P.OA,C.s,A.E,a.ed,a.dF]},(0,p.W4)(t.V)];var T=e(36970)},36970:(Ge,ae,e)=>{"use strict";function t(n){var x;return(null===(x=n.product)||void 0===x?void 0:x.version)||n.build.version}e.d(ae,{s:()=>t})},39001:(Ge,ae,e)=>{"use strict";e.d(ae,{N0:()=>A,S5:()=>x,V:()=>m,V_:()=>o,Y6:()=>p,dC:()=>L,e_:()=>y,jH:()=>v,mP:()=>d,qB:()=>t,uV:()=>C,xl:()=>a,yx:()=>P});const t={NETWORK_TROUBLESHOOT:"gfn_pc_net_help",GFN_PC_INFO:"gfn_pc_info",GFN_PC_HELP:"gfn_pc_help",TERMS_CONDITIONS:"gfn_pc_terms_of_use",ACCOUNT_TERMS:"nvidia_account_tos",OSS_LICENSES:"gfn_pc_oss",PRIVACY_POLICY:"privacy_policy",ACCOUNT_MANAGEMENT:"nvidia_account_management",ACCOUNT_MANAGEMENT_SSO:"nvidia_account_management_default",GFN_MEMBERSHIP_MANAGEMENT:"nvidia_account_management_gfn",SYS_REQUIREMENTS:"gfn_pc_sys_req",UDP_BUFFER_TIPS:"gfn_pc_net_help_udp_socket",GFN_PC_UNSUPPORTED_REGION:"gfn_pc_unsupported_region",GFN_PC_NET_HELP_FIREWALL:"gfn_pc_net_help_firewall",GFN_PC_NET_HELP_WIFI:"gfn_pc_net_help_wifi",GFN_PC_HELP_UPDATE:"gfn_pc_help_update",GFN_PC_HELP_MISSING_DECODER:"gfn_pc_help_missing_decoder",GFN_PC_MEMBERSHIP_JOIN:"gfn_pc_membership",GFN_SERVER_STATUS:"gfn_service_status",GFN_PC_REDEEM_ACTIVATION_CODE:"gfn_pc_redeem_activation_code",GFN_PC_ACCOUNT_NOT_ACTIVATED:"gfn_pc_account_not_activated",GFN_PC_WAITLIST:"gfn_pc_waitlist",DISCORD_TERMS:"discord_terms_of_service",GFN_PC_MEMBERSHIP_UPGRADE:"gfn_pc_membership_upgrade",COOKIE_POLICY:"nvidia_cookie_policy",GFN_PC_KEYBOARD_TROUBLESHOOTING:"gfn_pc_keyboard_troubleshooting",STEAM_ACCOUNT_SETTINGS:"steam_account_settings",GFN_PC_REDEEM_MULTI_AFFILIATE:"gfn_pc_redeem_multi_affiliate",GFN_PC_DOWNLOAD:"gfn_pc_download",GFN_PC_RECOMMENDED_GAMEPADS:"gfn_pc_recommended_gamepads",GFN_PC_FAQ_IOS:"gfn_pc_faq_ios",EPIC_ACCOUNT_SETTINGS:"epic_account_settings",GFN_PC_HELP_KEYBOARD_GAMES_UNAVAILABLE:"gfn_pc_help_keyboard_games_unavailable",GFN_PC_BROWSER_PUSH_NOTIFICATION:"gfn_pc_help_browser_push_notification",GFN_PC_HELP_PASTE:"gfn_pc_help_paste",GFN_PC_HELP_CONNECTIONS:"gfn_pc_help_connections"};var x=(()=>((x||(x={})).US="US",x))();const L="GeForce NOW";var p=(()=>{return(S=p||(p={})).JSInitStart="JSInitStart",S.LayoutSpinnerStart="LayoutSpinnerStart",S.LayoutSpinnerEnd="LayoutSpinnerEnd",S.LayoutJSLoadEnd="LayoutJSLoadEnd",S.LayoutDataFetchStart="LayoutDataFetchStart",S.LayoutDataFetchEnd="LayoutDataFetchEnd",S.LayoutDataRenderStart="LayoutDataRenderStart",S.LayoutDataRenderEnd="LayoutDataRenderEnd",p;var S})(),P=(()=>{return(S=P||(P={})).CEFLoad="CEFLoad",S.JSModuleLoad="JSModuleLoad",S.LayoutDataLoad="LayoutDataLoad",S.LayoutSpinner="LayoutSpinner",S.LayoutDataRendering="LayoutDataRendering",S.CompleteLayout="CompleteLayout",P;var S})(),a=(()=>{return(S=a||(a={})).Default="Default",S.GamepadFriendly="GamepadFriendly",S.TouchFriendly="TouchFriendly",a;var S})(),o=(()=>{return(S=o||(o={})).Join="Join",S.Close="Close",S.Login="Login",o;var S})(),v=(()=>{return(S=v||(v={})).PlayLater="accountConnection.playLater",S.Cancel="common.cancel",v;var S})(),y=(()=>{return(S=y||(y={})).Continue="Continue",S.Cancel="Cancel",y;var S})(),C=(()=>((C||(C={})).Cancel="Cancel",C))();const A={RigReadyAndStreamerIdleTimeout:{type:"RIG_READY_AND_STREAMER_IDLE_TIMEOUT",src:"./assets/audio/rig_ready_streamer_timeout.ogg"}};var d=(()=>((d||(d={})).cmsIdToMetadataMap="cmsIdToMetadataMap",d))();const m={width:470,height:264}},33986:(Ge,ae,e)=>{"use strict";e.d(ae,{N0:()=>t.N0,Rn:()=>n.R,S5:()=>t.S5,V:()=>t.V,V_:()=>t.V_,Y6:()=>t.Y6,dC:()=>t.dC,e_:()=>t.e_,jH:()=>t.jH,mP:()=>t.mP,qB:()=>t.qB,qq:()=>n.q,uV:()=>t.uV,xl:()=>t.xl,yx:()=>t.yx});var t=e(39001),n=e(65793)},65793:(Ge,ae,e)=>{"use strict";e.d(ae,{R:()=>n,q:()=>t});var t=(()=>{return(x=t||(t={}))[x.NVB_AUTH_INVALID=-1]="NVB_AUTH_INVALID",x[x.NVB_AUTH_NONE=0]="NVB_AUTH_NONE",x[x.NVB_AUTH_OAUTH2_PINGFEDERATE=1]="NVB_AUTH_OAUTH2_PINGFEDERATE",x[x.NVB_AUTH_OAUTH2_GOOGLE=2]="NVB_AUTH_OAUTH2_GOOGLE",x[x.NVB_AUTH_OAUTH2_JANRAIN=3]="NVB_AUTH_OAUTH2_JANRAIN",x[x.NVB_AUTH_ACTIVE_DIRECTORY=4]="NVB_AUTH_ACTIVE_DIRECTORY",x[x.NVB_AUTH_CLIENT_CERTIFICATE=5]="NVB_AUTH_CLIENT_CERTIFICATE",x[x.NVB_AUTH_SESSION_ID=6]="NVB_AUTH_SESSION_ID",x[x.NVB_AUTH_JARVIS=7]="NVB_AUTH_JARVIS",x[x.NVB_AUTH_JWT=8]="NVB_AUTH_JWT",x[x.NVB_AUTH_JWT_GFN=9]="NVB_AUTH_JWT_GFN",t;var x})(),n=(()=>{return(x=n||(n={}))[x.NCT_R_UNKNOWN=0]="NCT_R_UNKNOWN",x[x.NCT_R_SUCCESS=1]="NCT_R_SUCCESS",x[x.NCT_R_INVALID_PARAM=2]="NCT_R_INVALID_PARAM",x[x.NCT_R_SYN_FAILED=3]="NCT_R_SYN_FAILED",x[x.NCT_R_FIN_FAILED=4]="NCT_R_FIN_FAILED",x[x.NCT_R_AUTH_FAILED=5]="NCT_R_AUTH_FAILED",x[x.NCT_R_POST_FAILED=6]="NCT_R_POST_FAILED",x[x.NCT_R_TEST_IN_PROGRESS=7]="NCT_R_TEST_IN_PROGRESS",x[x.NCT_R_CANCELED=8]="NCT_R_CANCELED",x[x.NCT_R_CAPACITY_FULL=9]="NCT_R_CAPACITY_FULL",x[x.NCT_R_SESSION_EXIST=10]="NCT_R_SESSION_EXIST",x[x.NCT_R_INVALID_DATA=11]="NCT_R_INVALID_DATA",x[x.NCT_R_SETUP_FAILED=12]="NCT_R_SETUP_FAILED",x[x.NCT_R_RETRYABLE_POST_FAILURE=13]="NCT_R_RETRYABLE_POST_FAILURE",x[x.NCT_R_BLOCK_STREAM=14]="NCT_R_BLOCK_STREAM",n;var x})()},36128:(Ge,ae,e)=>{"use strict";e.d(ae,{u:()=>P});var t=e(39609),n=e(52954),x=e(18937),M=e(72122);function L(a,o){if(1&a&&(t.ynx(0),t._UZ(1,"hr"),t.TgZ(2,"div",8),t._uU(3),t.qZA(),t.BQk()),2&a){const v=t.oxw(2);t.xp6(3),t.Oqu(v.interactiveElementsText)}}function p(a,o){if(1&a&&(t.TgZ(0,"div",4)(1,"div")(2,"div",5),t._uU(3),t.qZA(),t.TgZ(4,"div",6),t._uU(5),t.qZA()(),t.YNc(6,L,4,1,"ng-container",7),t.qZA()),2&a){const v=t.oxw();t.xp6(3),t.Oqu(v.ratingClass),t.xp6(2),t.Oqu(v.contentDescriptorsText),t.xp6(1),t.Q6J("ngIf",v.showInteractiveElements)}}let P=(()=>{class a{constructor(v){this.cdRef=v}ngOnInit(){this.updateFields()}ngOnChanges(){this.updateFields()}updateFields(){this.contentDescriptors&&this.contentDescriptors.length&&(this.contentDescriptorsText=this.contentDescriptors.join(", ")),this.interactiveElements&&this.interactiveElements.length?(this.interactiveElementsText=this.interactiveElements.join(", "),this.showInteractiveElements=!0):this.showInteractiveElements=!1}imageLoaded(){this.ratingImageLoaded=!0,this.cdRef.detectChanges()}}return a.\u0275fac=function(v){return new(v||a)(t.Y36(t.sBO))},a.\u0275cmp=t.Xpm({type:a,selectors:[["gfn-content-rating"]],inputs:{ratingLogoUrl:"ratingLogoUrl",ratingClass:"ratingClass",contentDescriptors:"contentDescriptors",interactiveElements:"interactiveElements",hasGradientBackground:"hasGradientBackground"},features:[t.TTD],decls:4,vars:4,consts:[["fxLayout","row","fxFlex","auto","ngClass.iphone","small-screen"],[1,"rating-logo"],[3,"src","load"],["fxLayout","column","class","rating-details",4,"ngIf"],["fxLayout","column",1,"rating-details"],["dir","auto",1,"font-sub2"],[1,"font-body3","font-color-tertiary","content-descriptors"],[4,"ngIf"],[1,"font-body3","interactive-elements"]],template:function(v,y){1&v&&(t.TgZ(0,"div",0)(1,"div",1)(2,"img",2),t.NdJ("load",function(){return y.imageLoaded()}),t.qZA()(),t.YNc(3,p,7,3,"div",3),t.qZA()),2&v&&(t.ekj("content-rating-container",y.hasGradientBackground),t.xp6(2),t.s9C("src",y.ratingLogoUrl,t.LSH),t.xp6(1),t.Q6J("ngIf",y.ratingImageLoaded))},dependencies:[n.O5,x.xw,x.yH,M.r],styles:[".content-rating-container[_ngcontent-%COMP%]{padding:56px 16px 16px;background-image:linear-gradient(to bottom,rgba(0,0,0,0),rgb(0,0,0))}hr[_ngcontent-%COMP%]{height:1px;background-color:#ffffff4d;border:none;width:100%;margin:0}.rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:68px;width:auto}.isLtr[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .rating-details[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .rating-details[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.content-descriptors[_ngcontent-%COMP%]{padding-top:3px;padding-bottom:4px}.interactive-elements[_ngcontent-%COMP%]{padding-top:3px}.content-rating-container.small-screen[_ngcontent-%COMP%]{padding-bottom:8px}.isLtr[_nghost-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .content-rating-container.small-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.content-rating-container.small-screen[_ngcontent-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:53px}.tv-view[_nghost-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .rating-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:82px;width:auto}"]}),a})()},12365:(Ge,ae,e)=>{"use strict";e.d(ae,{H:()=>A,V:()=>v});var t=e(18388),n=e(23815),x=e(33932),M=e(89258),L=e(85566),p=e(39609),P=e(64710),a=e(32268),o=e(80155);let v=(()=>{class d{constructor(S,s,r){this.loggingService=S,this.lcarsService=s,this.logger=this.loggingService.getLogger("gfn/content-rating"),this.fetchRatingInfoStream=r.createStream(l=>this.fetchRatingInfo(l))}getCurrentRating(S,s){return this.fetchRatingInfoStream.get$(S).pipe((0,x.zg)(r=>{if((0,L.isNil)(r)||(0,L.isNil)(r.ratings))return(0,t._)(`ratingInfo is ${JSON.stringify(r)}`);const l=r.ratings.find(O=>O.categoryKey===s);return(0,L.isNil)(l)?(this.logger.info("no rating found for this rating category:",s),(0,n.of)(null)):(0,n.of)({rating:l,ratingSystem:r.label,displayInterval:r.displayInterval})}))}getContentDescriptors(S,s){return this.fetchRatingInfoStream.get$(S).pipe((0,x.zg)(r=>{if((0,L.isNil)(r)||(0,L.isEmpty)(r))return(0,t._)(`ratingInfo is ${JSON.stringify(r)}`);if((0,L.isNil)(r.contentDescriptors))return this.logger.info("no content descriptors field"),(0,n.of)([]);let l=r.contentDescriptors.filter(O=>(0,L.includes)(s,O.key));l=(0,L.sortBy)(l,["sortOrder"]);const i=l.map(O=>O.label);return(0,n.of)(i)}))}getInteractiveElements(S,s){return this.fetchRatingInfoStream.get$(S).pipe((0,x.zg)(r=>{if((0,L.isNil)(r)||(0,L.isEmpty)(r))return(0,t._)(`ratingInfo is ${JSON.stringify(r)}`);if((0,L.isNil)(r.interactiveElements))return this.logger.info("no interactive elements field"),(0,n.of)([]);let l=r.interactiveElements.filter(O=>(0,L.includes)(s,O.key));l=(0,L.sortBy)(l,["sortOrder"]);const i=l.map(O=>O.label);return(0,n.of)(i)}))}fetchRatingInfo(S,s){return this.lcarsService.getStaticAppData().pipe((0,M.U)(r=>(null==r?void 0:r.ratingDefinitions).find(i=>i.ratingSystem===S)))}}return d.\u0275fac=function(S){return new(S||d)(p.LFG(P.ed),p.LFG(a.zc),p.LFG(o.YV))},d.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var y=e(52954),C=e(50239);let A=(()=>{class d{}return d.\u0275fac=function(S){return new(S||d)},d.\u0275mod=p.oAB({type:d}),d.\u0275inj=p.cJS({imports:[y.ez,C.o9,P.it]}),d})()},30613:(Ge,ae,e)=>{"use strict";e.d(ae,{g:()=>y});var t=e(23815),n=e(70494),x=e(84658),M=e(89258),L=e(51325),p=e(5937),P=e(29733),a=e(13051),o=e(39609),v=e(64710);let y=(()=>{class C{constructor(d,m){this.injector=d,this.useWindowedMode=!1,this._isDeeplinkGameLaunch=!1,this.logger=m.getLogger("deeplink-helper")}getDeeplinkZoneOverride(d,m){if(!(-1!==window.location.href.indexOf(P.nn.Deeplink)||m&&-1!==m.indexOf(P.nn.Deeplink)))return null;{let S=d||(0,P.cj)(p.uE.Zone);try{if(this.logger.info("Deeplink Zone Override: ",S),S){const s=new URL(S);if(S=s.host,"https:"!==s.protocol||!S.endsWith("nvidiagrid.net"))return null;{const r=null==S?void 0:S.substring(0,null==S?void 0:S.indexOf("."));if(S)return{address:S,runNetworkTest:!0,name:r,isInternal:!0}}}}catch(s){return this.logger.error("Incorrect deeplink override zone",s),null}}}isDeeplinkScenario(){return!!window.location.hash.match(P.nn.Deeplink)}getFeatureToggle(){return this.fetchedFeatureToggleValue?(0,t.of)(this.fetchedFeatureToggleValue):this.fetchDeeplinkFeatureToggle()}isSpecialAffiliatePartner(d){return Object.values(p.dp).includes(d)}fetchDeeplinkFeatureToggle(){var d,m,S;if(this.configuration||(this.configuration=this.injector.get(x.V)),this.experienceControlService||(this.experienceControlService=this.injector.get(n.Q6)),this.experienceControlService)return this.experienceControlService.getCloudVariable(null===(d=this.configuration)||void 0===d?void 0:d.gxTarget.experiences.deeplinkSupportV2,void 0,{useCache:!0,useNetworkTimeoutForCacheFallback:!0},n.Z4.GxTargetGetCloudVariable,n.Qu.GxTargetGetDeeplinkSupport).pipe((0,M.U)(s=>(this.fetchedFeatureToggleValue=s.value,this.fetchedFeatureToggleValue)),(0,L.K)(s=>{var r,l;this.logger.error("Error while fetching deeplink feature toggle:",s);const O=null===(l=null===(r=this.configuration)||void 0===r?void 0:r.featureEnablement)||void 0===l?void 0:l.deeplinkSupportV2;return(0,t.of)(O||p.C6)}));{const r=null===(S=null===(m=this.configuration)||void 0===m?void 0:m.featureEnablement)||void 0===S?void 0:S.deeplinkSupportV2;return(0,t.of)(r||p.C6)}}getDeeplinkPartnerData(){return this.deeplinkPartnerData}setDeeplinkPartnerData(d){this.deeplinkPartnerData=d}resetDeeplinkPartnerData(){this.deeplinkPartnerData=null}allowApplicationReload(){var d;return this.guestModeHelperService||(this.guestModeHelperService=this.injector.get(a.h)),!(null!==(d=this.guestModeHelperService)&&void 0!==d&&d.isGuestMode||this.getDeeplinkPartnerData())}getUpdatedPartnerId(d){return p.X3[d]||d}postStreamingCleanUp(){this.resetDeeplinkPartnerData(),this.windowedMode=!1,this.isDeeplinkGameLaunch=!1}get isDeeplinkGameLaunch(){return this._isDeeplinkGameLaunch}set isDeeplinkGameLaunch(d){this._isDeeplinkGameLaunch=d}set windowedMode(d){this.useWindowedMode=d}get windowedMode(){return this.useWindowedMode}}return C.\u0275fac=function(d){return new(d||C)(o.LFG(o.zs3),o.LFG(v.ed))},C.\u0275prov=o.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},41827:(Ge,ae,e)=>{"use strict";e.d(ae,{q6:()=>L,rV:()=>t,f1:()=>n,vA:()=>p});const t="",n="Other",M={store:"UNKNOWN",label:t};var L=(()=>{return(P=L||(L={})).AccountGamesSyncing="AccountGamesSyncing",P.AccountLinkingSso="AccountLinkingSso",L;var P})();class p{static get StoresList(){return this.digitalStoresList||[]}static buildDigitalStoresMapFromList(){var a;null!==(a=this.digitalStoresList)&&void 0!==a&&a.length&&(this.digitalStoresMap={},this.digitalStoresList.forEach(o=>{this.digitalStoresMap[o.store]={store:o.store,label:o.label||t,keywords:o.keywords||[],smallImageUrl:o.smallImageUrl||"",largeImageUrl:o.largeImageUrl||"",sortOrder:o.sortOrder,accountLinkingMetadata:o.accountLinkingMetadata}}))}static get StoresMap(){return this.digitalStoresMap||{}}static getStoreInfoForAppstore(a){return this.StoresMap[a]||M}static setAppStoresDefinitions(a){null!=a&&a.length&&(this.digitalStoresList=a),this.buildDigitalStoresMapFromList()}static setGenreDefinitions(a){a&&a.forEach(o=>this.genreDefinitionsMap.set(o.genre,o.label))}static sortVariants(a){a.length>1&&a.sort((o,v)=>{var y,C;return(null===(y=this.StoresMap[o.appStore])||void 0===y?void 0:y.sortOrder)-(null===(C=this.StoresMap[v.appStore])||void 0===C?void 0:C.sortOrder)})}}p.digitalStoresMap=null,p.genreDefinitionsMap=new Map},54599:(Ge,ae,e)=>{"use strict";e.d(ae,{U:()=>m});var t=e(39536),n=e(57986),x=e(96671),M=e(10907),L=e(85566),P=e(39609),a=e(64710),o=e(84658);function v(S,s){if(1&S){const r=P.EpF();P.TgZ(0,"gfn-join-now",5),P.NdJ("primaryButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.onPrimaryButtonClicked(i))})("loginButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.onLoginButtonClicked(i))})("closeButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.oncloseButtonClicked(i))}),P.qZA()}if(2&S){const r=P.oxw();P.Q6J("data",r.data)}}function y(S,s){if(1&S){const r=P.EpF();P.TgZ(0,"gfn-membership-update-progress",6),P.NdJ("primaryButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.onPrimaryButtonClicked(i))})("closeButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.oncloseButtonClicked(i))}),P.qZA()}if(2&S){const r=P.oxw();P.Q6J("data",r.data)}}function C(S,s){if(1&S){const r=P.EpF();P.TgZ(0,"gfn-membership-refresh-error",7),P.NdJ("closeButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.oncloseButtonClicked(i))}),P.qZA()}if(2&S){const r=P.oxw();P.Q6J("data",r.data)}}function A(S,s){if(1&S){const r=P.EpF();P.TgZ(0,"gfn-membership-not-updated",7),P.NdJ("closeButtonClicked",function(i){P.CHM(r);const O=P.oxw();return P.KtG(O.oncloseButtonClicked(i))}),P.qZA()}if(2&S){const r=P.oxw();P.Q6J("data",r.data)}}const d=function(S){return[S]};let m=(()=>{class S{constructor(r,l,i,O){this.dialogRef=l,this.appConfig=i,this.data=O,this.currentUIState=n.l2.InitialState,this.ecomUIState=n.l2,this.destroy$=new x.xQ,this.lastEntitlement=null,this.isEcomPlanChanged=!1,this.membershipUpdateProgressPrimaryButtonClicked=!1,this.logger=r.getLogger("EcomDialogComponent")}get closeResult(){return[this.isEcomPlanChanged,this.currentUIState]}ngOnInit(){this.currentUIState=this.data.ecomUIState,this.initEcommerceSub()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onPrimaryButtonClicked(r){if(this.currentUIState===n.l2.InitialState)this.goToNextEcomDlgUIState(n.l2.MembershipUpdateProgress);else if(this.currentUIState===n.l2.MembershipUpdateProgress){if(this.data.useCase===n.vq.GaaSFree1HourExceeded||this.data.useCase===n.vq.GaaSFreeSampleAlreadyUsed||this.data.useCase===n.vq.GaaSUnsupportedFreeTitle)return this.goToNextEcomDlgUIState(n.l2.ExitedToLogin),this.closeDialog(),void this.data.buttonClickCallback(n.l2.ExitedToLogin);this.membershipUpdateProgressPrimaryButtonClicked=!0}}onLoginButtonClicked(r){this.currentUIState===n.l2.InitialState&&(this.goToNextEcomDlgUIState(n.l2.ExitedToLogin),this.closeDialog())}oncloseButtonClicked(r){this.closeDialog()}initEcommerceSub(){this.data.getUserMembership$.pipe((0,M.R)(this.destroy$)).subscribe(r=>{const l=(0,L.get)(r,"subscription.productSku");null!==this.lastEntitlement?(this.isEcomPlanChanged=this.isPlanChanged(l),this.isEcomPlanChanged?this.closeDialog():this.membershipUpdateProgressPrimaryButtonClicked&&this.goToErrorOrRefreshState(r),this.lastEntitlement={productSku:l}):this.lastEntitlement={productSku:l}})}isPlanChanged(r){return this.lastEntitlement.productSku!==r}goToErrorOrRefreshState(r){this.goToNextEcomDlgUIState(r.membershipStatus===n.Tn.ServerError||r.membershipStatus===n.Tn.UnKnown?n.l2.MembershipRefreshError:n.l2.MembershipNotUpdated)}closeDialog(){this.dialogRef.close(this.closeResult)}goToNextEcomDlgUIState(r){this.currentUIState=r}}return S.\u0275fac=function(r){return new(r||S)(P.Y36(a.ed),P.Y36(t.hV),P.Y36(o.V),P.Y36(t.eJ))},S.\u0275cmp=P.Xpm({type:S,selectors:[["gfn-ecom-dialog"]],decls:7,vars:9,consts:[["nvBackToCloseModal","","nvTrapFocus","",3,"ngClass","backToCloseResult"],["fxFlexFill","","fxLayout","column","fxFlex","grow",3,"ngSwitch"],[3,"data","primaryButtonClicked","loginButtonClicked","closeButtonClicked",4,"ngSwitchCase"],[3,"data","primaryButtonClicked","closeButtonClicked",4,"ngSwitchCase"],[3,"data","closeButtonClicked",4,"ngSwitchCase"],[3,"data","primaryButtonClicked","loginButtonClicked","closeButtonClicked"],[3,"data","primaryButtonClicked","closeButtonClicked"],[3,"data","closeButtonClicked"]],template:function(r,l){1&r&&(P.TgZ(0,"div",0)(1,"div",1),P.YNc(2,v,1,1,"gfn-join-now",2),P.YNc(3,y,1,1,"gfn-membership-update-progress",3),P.YNc(4,C,1,1,"gfn-membership-refresh-error",4),P.YNc(5,A,1,1,"gfn-membership-not-updated",4),P._UZ(6,"div"),P.qZA()()),2&r&&(P.Q6J("ngClass",P.VKq(7,d,l.data.isStreamerApp?"joinnow-component-container-streamer":"joinnow-component-container-mall"))("backToCloseResult",l.closeResult),P.xp6(1),P.Q6J("ngSwitch",l.currentUIState),P.xp6(1),P.Q6J("ngSwitchCase",l.ecomUIState.InitialState),P.xp6(1),P.Q6J("ngSwitchCase",l.ecomUIState.MembershipUpdateProgress),P.xp6(1),P.Q6J("ngSwitchCase",l.ecomUIState.MembershipRefreshError),P.xp6(1),P.Q6J("ngSwitchCase",l.ecomUIState.MembershipNotUpdated))},styles:[":root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.joinnow-component-container-mall,.joinnow-component-container-streamer{width:470px;height:668px}.joinnow-component-container-mall,.joinnow-component-container-streamer,.mat-dialog-container{border-radius:0;overflow:hidden;transition:height .5s;background-color:#1f2224;padding:0}.joinnow-component-container-streamer{height:618px}@media (max-height: 668px){.joinnow-component-container-mall,.mat-dialog-container{height:100%}.main-content-mall{height:550px}.main-content-mall .dialog-content{height:136px!important}}@media (max-width: 959.98px) and (orientation: landscape){.joinnow-component-container-mall,.joinnow-component-container-streamer{width:560px;height:fit-content}.mat-dialog-container:has(gfn-ecom-dialog){height:fit-content}}@media (max-width: 599.98px) and (orientation: portrait),screen and (max-width: 568px) and (max-height: 320px) and (orientation: landscape){.joinnow-component-container-mall,.joinnow-component-container-streamer{width:calc(100vw - 32px);height:fit-content}.mat-dialog-container:has(gfn-ecom-dialog){height:fit-content}}.tv-view .joinnow-component-container-mall,.tv-view .joinnow-component-container-streamer{width:840px;height:925px}\n"],encapsulation:2}),S})()},93449:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>k});var t=e(39609),n=e(85566),M=e(96671),L=e(10907),p=e(23827),P=e(57986),a=e(2629),o=e(18164),v=e(64710),y=e(39382),C=e(22804),A=e(64537),d=e(18937),m=e(90657),S=e(39536),s=e(37661),r=e(34375),l=e(52954),i=e(89597),O=e(14893),Y=e(89829),T=e(58241),B=e(48037),K=e(61340),b=e(88902),f=e(715);function D(W,N){if(1&W){const H=t.EpF();t.TgZ(0,"div",14)(1,"button",15),t.NdJ("click",function(){t.CHM(H);const E=t.oxw(2);return t.KtG(E.closeDialog())}),t.TgZ(2,"mat-icon",16),t._uU(3,"close"),t.qZA()()()}}function I(W,N){if(1&W&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h1",12),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.YNc(5,D,4,0,"div",13),t.qZA()),2&W){const H=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,2,"common.gfn")),t.xp6(2),t.Q6J("ngIf",!H.isGaaS&&H.closeButtonVisible)}}function w(W,N){1&W&&t._UZ(0,"img",17)}function _(W,N){1&W&&t._UZ(0,"img",18)}function $(W,N){if(1&W){const H=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(H);const E=t.oxw(2);return t.KtG(E.closeDialog())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&W){const H=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,H.notNowButtonText)," ")}}function G(W,N){if(1&W){const H=t.EpF();t.TgZ(0,"span")(1,"button",23),t.NdJ("click",function(){t.CHM(H);const E=t.oxw(2);return t.KtG(E.joinNowClicked())}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&W){const H=t.oxw(2);t.xp6(1),t.Q6J("isVisible",H.showLoadingOnJoinNow),t.xp6(1),t.hij(" ",t.lcZ(3,2,H.buttonText)," ")}}function F(W,N){if(1&W&&(t.TgZ(0,"div",19),t.YNc(1,$,3,3,"button",20),t.YNc(2,G,4,4,"span",21),t.qZA()),2&W){const H=t.oxw();t.xp6(1),t.Q6J("ngIf",!H.isGaaS||H.isUpgrade),t.xp6(1),t.Q6J("ngIf",H.canHardUpsell)}}function J(W,N){if(1&W&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&W){const H=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,H.upsellMessage))}}function z(W,N){if(1&W){const H=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(H);const E=t.oxw(2);return t.KtG(E.joinNowClicked())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&W){const H=t.oxw(2);t.Q6J("isVisible",H.showLoadingOnJoinNow),t.xp6(1),t.hij(" ",t.lcZ(2,2,H.buttonText)," ")}}function Z(W,N){if(1&W){const H=t.EpF();t.TgZ(0,"div",24),t.YNc(1,J,4,3,"div",25),t.TgZ(2,"div",26)(3,"button",27),t.NdJ("click",function(){t.CHM(H);const E=t.oxw();return t.KtG(E.closeDialog())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.YNc(6,z,3,4,"button",28),t.qZA()()}if(2&W){const H=t.oxw();t.xp6(1),t.Q6J("ngIf",H.upsellMessage),t.xp6(3),t.hij(" ",t.lcZ(5,3,H.queueLimitExceededCloseButtonText)," "),t.xp6(2),t.Q6J("ngIf",H.showUpgradeButtonForQueueLimitExceeded)}}const ue=function(W){return[W]},u=function(W){return{accountManagementLink:W}};let k=(()=>{class W{constructor(H,h,E,ee,R,q){var ne;this.telemetryUtilService=E,this.spatialNavigationService=ee,this.ecomService=R,this.redirectService=q,this.primaryButtonClicked=new t.vpe,this.closeButtonClicked=new t.vpe,this.loginButtonClicked=new t.vpe,this.notNowButtonText="common.notNow",this.showUpgradeButtonForQueueLimitExceeded=!0,this.queueLimitExceededCloseButtonText="common.close",this.queueLimitReached=!1,this.showLoadingOnJoinNow=!1,this.isGaaS=!1,this.isUpgrade=!1,this.canHardUpsell=!0,this.closeButtonVisible=!0,this.destroy$=new M.xQ,this.logger=H.getLogger("JoinNowComponent"),this.closeButtonVisible=!(null!==(ne=null==h?void 0:h.featureEnablement)&&void 0!==ne&&ne.tvMode)}ngOnInit(){switch((this.data.useCase===P.vq.GaaSFree1HourExceeded||this.data.useCase===P.vq.GaaSFreeSampleAlreadyUsed||this.data.useCase===P.vq.GaaSUnsupportedFreeTitle||this.data.useCase===P.vq.GaaSFreeUserCanUpgrade)&&(this.isGaaS=!0,this.isUpgrade=this.data.useCase===P.vq.GaaSFreeUserCanUpgrade),this.canHardUpsell=this.ecomService.canHardUpsell(),this.getDialogText(this.data),this.data.useCase){case P.vq.MaxSessionLengthExceeded:this.sendUpsellTelemetry(p.N3X.StreamerPostSessionUpsell);break;case P.vq.GaaSFreeUserCanUpgrade:this.sendUpsellTelemetry(p.N3X.StreamerPostSessionFreeGaaSUpsell);break;case P.vq.GaaSFree1HourExceeded:this.sendUpsellTelemetry(p.N3X.StreamerPostSessionAnonGaaSUpsell);break;case P.vq.GaaSFreeSampleAlreadyUsed:this.sendUpsellTelemetry(p.N3X.StreamerUsedFreeUpsell);break;case P.vq.GaaSUnsupportedFreeTitle:this.sendUpsellTelemetry(p.N3X.StreamerNoFreeUpsell)}this.accountManagementLinkShortUrl=o.hD[o.hE.GfnAccountManagement],this.redirectService.getRedirectUrl(o.hE.GfnAccountManagement).pipe((0,a.q)(1),(0,L.R)(this.destroy$)).subscribe(H=>{this.accountManagementLink=`href="${H}" class='font-body2-link membership-options-link'`})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}sendUpsellTelemetry(H){this.telemetryUtilService.sendUserSessionEvent(p.Vwu.LaunchGame,H,0,"",this.data.gameLaunchScreen)}sendUIActionTelemetry(H){let h;switch(this.data.useCase){case P.vq.MaxSessionLengthExceeded:h=p.c8x.StreamerPostSessionUpsell;break;case P.vq.QueueLimitExceeded:h=p.c8x.StreamerQueueUpsell;break;case P.vq.GaaSFree1HourExceeded:h=p.c8x.StreamerPostSessionAnonGaaSUpsell;break;case P.vq.GaaSUnsupportedFreeTitle:h=p.c8x.StreamerNoFreeUpsell;break;case P.vq.GaaSFreeSampleAlreadyUsed:h=p.c8x.StreamerUsedFreeUpsell;break;case P.vq.GaaSFreeUserCanUpgrade:h=p.c8x.StreamerPostSessionFreeGaaSUpsell;break;default:h=p.c8x.StreamerPostSessionUpsell}this.telemetryUtilService.sendUiActionEvent(H,h)}ngAfterViewInit(){const H=document.getElementsByClassName("join-now-login-link"),h=(null==H?void 0:H.length)>0?H[0]:void 0;h&&this.spatialNavigationService.onClick(h).pipe((0,L.R)(this.destroy$)).subscribe(E=>{E&&(this.loginButtonClicked.emit(),this.data.buttonClickCallback(P.l2.ExitedToLogin),this.sendUIActionTelemetry(p.VHB.Login))})}closeDialog(){this.closeButtonClicked.emit(),this.sendUIActionTelemetry(p.VHB.Close)}joinNowClicked(){this.logger.info("User clicked on Join button."),this.data.buttonClickCallback(P.l2.InitialState),this.showLoadingOnJoinNow=!0,setTimeout(()=>{this.primaryButtonClicked.emit(),this.showLoadingOnJoinNow=!1},P.qM),this.sendUIActionTelemetry(p.VHB.Join)}getDialogText(H){if(this.logger.info("Dialog data received from caller: ",H),(0,n.isNil)(H))this.logger.error("recieved null data in join now component");else{switch(this.data.useCase){case P.vq.MaxSessionLengthExceeded:this.dialogTitle="ecommerce.upgradeDialog.title",this.description="ecommerce.upgradeDialog.description",this.canHardUpsell?(this.buttonText="ecommerce.upgrade",this.notNowButtonText="common.notNow"):this.notNowButtonText="common.close";break;case P.vq.QueueLimitExceeded:this.queueLimitReached=!0,H.getUserMembership$.pipe((0,a.q)(1)).subscribe(h=>{var E;this.canHardUpsell&&null!==(E=h.subscription)&&void 0!==E&&E.upsellOptions.betterSessionPriorityProductExists?(this.description="ecommerce.queueLimitReached.upgradable",this.upsellMessage="ecommerce.upsellPromptForBetterQueuePositionA",this.buttonText="ecommerce.upgrade",this.queueLimitExceededCloseButtonText="common.notNow"):(this.description="ecommerce.queueLimitReached.notUpgradable",this.showUpgradeButtonForQueueLimitExceeded=!1)});break;case P.vq.GaaSFree1HourExceeded:this.dialogTitle="ecommerce.joinNowDialog.gaaSFree1HourExceededTitle",this.description="ecommerce.joinNowDialog.gaaSFree1HourExceededDescription",this.buttonText="common.joinToday";break;case P.vq.GaaSUnsupportedFreeTitle:this.dialogTitle="common.joinTodayToPlay",this.description="ecommerce.joinNowDialog.gaaSUnsupportedFreeDescription",this.buttonText="common.joinToday";break;case P.vq.GaaSFreeSampleAlreadyUsed:this.dialogTitle="common.joinTodayToPlay",this.description="ecommerce.joinNowDialog.gaaSFree1HourExceededDescription",this.buttonText="common.joinToday";break;case P.vq.GaaSFreeUserCanUpgrade:return this.dialogTitle="ecommerce.joinNowDialog.gaaSFreeUserCanUpgradeTitle",this.description="ecommerce.joinNowDialog.gaaSFreeUserCanUpgradeDescription",this.buttonText="ecommerce.upgrade",void(this.notNowButtonText="common.notNow");default:this.canHardUpsell?(this.dialogTitle="common.almostReadyToPlay",this.description="ecommerce.joinNowDialog.selectMembershipDescription",this.buttonText="common.selectMembership",this.notNowButtonText="common.notNow"):(this.dialogTitle="common.membershipRequired",this.description="ecommerce.joinNowDialogSoftUpsell.selectMembershipDescription",this.notNowButtonText="common.close")}this.loginButtonText="common.login"}}}return W.\u0275fac=function(H){return new(H||W)(t.Y36(v.ed),t.Y36(y.VK),t.Y36(p.wU6),t.Y36(C.jr),t.Y36(A.B),t.Y36(o.VH))},W.\u0275cmp=t.Xpm({type:W,selectors:[["gfn-join-now"]],inputs:{data:"data"},outputs:{primaryButtonClicked:"primaryButtonClicked",closeButtonClicked:"closeButtonClicked",loginButtonClicked:"loginButtonClicked"},decls:14,vars:23,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["class","dialog-art","src","shared/assets/img/GaaSUpsellBanner.jpg",4,"ngIf"],["class","dialog-art","src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",4,"ngIf"],[3,"ngClass"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML","shortUrl"],["fxFlex","none","class","dialog-button","fxLayout","row","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","none","fxLayout","column","class","upsell-pane",4,"ngIf"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"],["src","shared/assets/img/GaaSUpsellBanner.jpg",1,"dialog-art"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","class","font-button2 not-now-button",3,"click",4,"ngIf"],[4,"ngIf"],["mat-button","",1,"font-button2","not-now-button",3,"click"],["mat-raised-button","","nvProgressCircular","","nvAutoFocus","",1,"font-button2",3,"isVisible","click"],["fxFlex","none","fxLayout","column",1,"upsell-pane"],["fxFlex","","fxLayout","column","fxLayoutAlign","start center","class","upsell-pane-message",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","end end","fxLayoutGap","8px",1,"upgrade-container"],["mat-button","",1,"font-button2",3,"click"],["class","font-button2","mat-raised-button","","color","accent","nvProgressCircular","","nvAutoFocus","",3,"isVisible","click",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutAlign","start center",1,"upsell-pane-message"],[1,"font-sub2"],["mat-raised-button","","color","accent","nvProgressCircular","","nvAutoFocus","",1,"font-button2",3,"isVisible","click"]],template:function(H,h){1&H&&(t.TgZ(0,"div",0),t.YNc(1,I,6,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,w,1,0,"img",3),t.YNc(4,_,1,0,"img",4),t.TgZ(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t._UZ(9,"p",7),t.ALo(10,"trustAsHtml"),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,F,3,2,"div",8),t.YNc(13,Z,7,5,"div",9),t.qZA()),2&H&&(t.Q6J("ngClass",t.VKq(17,ue,h.data.isStreamerApp?"main-content-streamer":"main-content-mall")),t.xp6(1),t.Q6J("ngIf",!h.data.isStreamerApp),t.xp6(2),t.Q6J("ngIf",h.isGaaS),t.xp6(1),t.Q6J("ngIf",!h.isGaaS),t.xp6(1),t.Q6J("ngClass",t.VKq(19,ue,h.queueLimitReached?"dialog-content-queue-limit":"dialog-content")),t.xp6(2),t.Oqu(t.lcZ(8,10,h.dialogTitle)),t.xp6(2),t.Q6J("innerHTML",t.lcZ(10,12,t.xi3(11,14,h.description,t.VKq(21,u,h.accountManagementLink))),t.oJD)("shortUrl",h.accountManagementLinkShortUrl),t.xp6(3),t.Q6J("ngIf",!h.queueLimitReached),t.xp6(1),t.Q6J("ngIf",h.queueLimitReached))},dependencies:[d.xw,d.SQ,d.Wh,d.s9,d.yH,m.oO,S.YS,s.Hw,r.eB,l.mk,l.O5,i.N,O.E,Y.h,T.p,B.W,K.D,b.W,f.X$],styles:[":root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.main-content-streamer,.main-content-mall{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer .custom-title-bar,.main-content-mall .custom-title-bar{width:470px;height:50px}:host-context(.isLtr) .main-content-streamer .custom-title-bar,:host-context(.isLtr) .main-content-mall .custom-title-bar{padding-left:24px}html[dir=ltr] .main-content-streamer .custom-title-bar,html[dir=ltr] .main-content-mall .custom-title-bar{--dummy1: 0;padding-left:24px}:host-context(.isRtl) .main-content-streamer .custom-title-bar,:host-context(.isRtl) .main-content-mall .custom-title-bar{padding-right:24px}html[dir=rtl] .main-content-streamer .custom-title-bar,html[dir=rtl] .main-content-mall .custom-title-bar{--dummy1: 0;padding-right:24px}:host-context(.isLtr) .main-content-streamer .custom-title-bar,:host-context(.isLtr) .main-content-mall .custom-title-bar{padding-right:24px}html[dir=ltr] .main-content-streamer .custom-title-bar,html[dir=ltr] .main-content-mall .custom-title-bar{--dummy2: 0;padding-right:24px}:host-context(.isRtl) .main-content-streamer .custom-title-bar,:host-context(.isRtl) .main-content-mall .custom-title-bar{padding-left:24px}html[dir=rtl] .main-content-streamer .custom-title-bar,html[dir=rtl] .main-content-mall .custom-title-bar{--dummy2: 0;padding-left:24px}.main-content-streamer .custom-title-bar .mat-dialog-title,.main-content-mall .custom-title-bar .mat-dialog-title{margin-bottom:0}.main-content-streamer .dialog-art,.main-content-mall .dialog-art{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer .dialog-content,.main-content-mall .dialog-content{padding:24px;height:254px}.main-content-streamer .dialog-content-queue-limit,.main-content-mall .dialog-content-queue-limit{padding:24px;height:91px}.main-content-streamer .dialog-content-queue-limit>p,.main-content-mall .dialog-content-queue-limit>p{text-align:center;margin:4px 0 0}.main-content-streamer .dialog-content-queue-limit>h2,.main-content-mall .dialog-content-queue-limit>h2{display:none}.main-content-streamer .dialog-content>h2,.main-content-mall .dialog-content>h2{margin-top:0}.main-content-streamer .dialog-button,.main-content-mall .dialog-button{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}:host-context(.isLtr) .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) .main-content-mall .dialog-button button:last-child{margin-left:8px}html[dir=ltr] .main-content-streamer .dialog-button button:last-child,html[dir=ltr] .main-content-mall .dialog-button button:last-child{--dummy3: 0;margin-left:8px}:host-context(.isRtl) .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) .main-content-mall .dialog-button button:last-child{margin-right:8px}html[dir=rtl] .main-content-streamer .dialog-button button:last-child,html[dir=rtl] .main-content-mall .dialog-button button:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer .upsell-pane,.main-content-mall .upsell-pane{height:215px}.main-content-streamer .upsell-pane-message,.main-content-mall .upsell-pane-message{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer .upgrade-container,.main-content-mall .upgrade-container{margin:8px}@media (max-width: 469px){.main-content-streamer,.main-content-mall{width:100vw}.main-content-streamer .custom-title-bar,.main-content-mall .custom-title-bar{width:unset}.main-content-streamer .dialog-art,.main-content-mall .dialog-art{width:100vw;height:auto}.main-content-streamer .dialog-content,.main-content-mall .dialog-content,.main-content-streamer .dialog-button,.main-content-mall .dialog-button{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall .dialog-art,.main-content-streamer .dialog-art{display:none}.main-content-mall .custom-title-bar,.main-content-streamer .custom-title-bar{display:none!important}.main-content-mall .dialog-content,.main-content-streamer .dialog-content{height:fit-content!important}}.tv-view .main-content-mall,.tv-view .main-content-streamer,:host-context(.tv-view) .main-content-mall,:host-context(.tv-view) .main-content-streamer{width:840px;height:925px}.tv-view .main-content-mall .custom-title-bar,.tv-view .main-content-streamer .custom-title-bar,:host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.tv-view) .main-content-streamer .custom-title-bar{width:100%;height:88px}:host-context(.isLtr) .tv-view .main-content-mall .custom-title-bar,:host-context(.isLtr) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-left:32px}html[dir=ltr] .tv-view .main-content-mall .custom-title-bar,html[dir=ltr] .tv-view .main-content-streamer .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy1: 0;padding-left:32px}:host-context(.isRtl) .tv-view .main-content-mall .custom-title-bar,:host-context(.isRtl) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-right:32px}html[dir=rtl] .tv-view .main-content-mall .custom-title-bar,html[dir=rtl] .tv-view .main-content-streamer .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy1: 0;padding-right:32px}:host-context(.isLtr) .tv-view .main-content-mall .custom-title-bar,:host-context(.isLtr) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-right:32px}html[dir=ltr] .tv-view .main-content-mall .custom-title-bar,html[dir=ltr] .tv-view .main-content-streamer .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy2: 0;padding-right:32px}:host-context(.isRtl) .tv-view .main-content-mall .custom-title-bar,:host-context(.isRtl) .tv-view .main-content-streamer .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .custom-title-bar,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .custom-title-bar{padding-left:32px}html[dir=rtl] .tv-view .main-content-mall .custom-title-bar,html[dir=rtl] .tv-view .main-content-streamer .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-mall .custom-title-bar,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .custom-title-bar{--dummy2: 0;padding-left:32px}.tv-view .main-content-mall .dialog-art,.tv-view .main-content-streamer .dialog-art,:host-context(.tv-view) .main-content-mall .dialog-art,:host-context(.tv-view) .main-content-streamer .dialog-art{width:100%;height:auto}.tv-view .main-content-mall .dialog-content,.tv-view .main-content-streamer .dialog-content,:host-context(.tv-view) .main-content-mall .dialog-content,:host-context(.tv-view) .main-content-streamer .dialog-content{padding:32px;height:auto}.tv-view .main-content-mall .dialog-button,.tv-view .main-content-streamer .dialog-button,:host-context(.tv-view) .main-content-mall .dialog-button,:host-context(.tv-view) .main-content-streamer .dialog-button{margin:8px 32px}:host-context(.isLtr) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-left:32px}html[dir=ltr] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=ltr] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy3: 0;margin-left:32px}:host-context(.isRtl) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-right:32px}html[dir=rtl] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=rtl] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy3: 0;margin-right:32px}:host-context(.isLtr) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isLtr) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-right:0}html[dir=ltr] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=ltr] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=ltr] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy4: 0;margin-right:0}:host-context(.isRtl) .tv-view .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) .tv-view .main-content-streamer .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,:host-context(.isRtl) :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{margin-left:0}html[dir=rtl] .tv-view .main-content-mall .dialog-button button:last-child,html[dir=rtl] .tv-view .main-content-streamer .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-mall .dialog-button button:last-child,html[dir=rtl] :host-context(.tv-view) .main-content-streamer .dialog-button button:last-child{--dummy4: 0;margin-left:0}.tv-view .main-content-mall div.dialog-content,:host-context(.tv-view) .main-content-mall div.dialog-content{height:200px}.tv-view .main-content-streamer div.dialog-content,:host-context(.tv-view) .main-content-streamer div.dialog-content{height:288px}\n"],encapsulation:2}),W})()},57986:(Ge,ae,e)=>{"use strict";e.d(ae,{D7:()=>a,NV:()=>x,Tn:()=>p,Vv:()=>P,X9:()=>L,l2:()=>o,qM:()=>t,u0:()=>n,vq:()=>v,w1:()=>M});const t=2e3;var n=(()=>{return(y=n||(n={})).Windows="Windows",y.Mac="Mac",n;var y})();const x={name:"gfn"};var M=(()=>{return(y=M||(M={})).Development="dev",y.Staging="stage",y.Preview="preview",y.Production="prod",M;var y})(),L=(()=>{return(y=L||(L={}))[y.Badge=28]="Badge",L;var y})(),p=(()=>{return(y=p||(p={}))[y.UnKnown=0]="UnKnown",y[y.ServerError=1]="ServerError",y[y.LoggedOut=2]="LoggedOut",y[y.UnEntitled=3]="UnEntitled",y[y.Entitled=4]="Entitled",p;var y})();const P={eComFeatureEnabled:!1,membershipStatus:p.UnKnown,subscription:null,product:null,affiliateStatus:null,unentitledUserData:null};var a=(()=>{return(y=a||(a={})).SettingsMembershipPanel="SETTINGS_MEMBERSHIP_PANEL",y.EntitlementErrorComponent="ENTITLEMENT_ERROR_COMPONENT",y.LoadingComponent="LOADING_COMPONENT",y.ToolbarComponent="TOOLBAR_COMPONENT",y.MembershipUpdateProgressEcomUIState="MEMBERSHIP_UPDATE_PROGRESS_ECOM_UI_STATE",y.MembershipNotUpdatedEcomUIState="MEMBERSHIP_NOT_UPDATED_ECOM_UI_STATE",y.SettingsStreamingProfilePanel="SETTINGS_STREAMING_PROFILE_PANEL",y.SettingsInGameGraphicsPanel="SETTINGS_IN_GAME_GRAPHICS_SETTINGS_PANEL",y.StreamingError="STREAMING_ERROR",a;var y})(),o=(()=>{return(y=o||(o={}))[y.InitialState=0]="InitialState",y[y.MembershipUpdateProgress=1]="MembershipUpdateProgress",y[y.MembershipRefreshError=2]="MembershipRefreshError",y[y.MembershipNotUpdated=3]="MembershipNotUpdated",y[y.ExitedToLogin=4]="ExitedToLogin",o;var y})(),v=(()=>{return(y=v||(v={}))[y.BridgeState=0]="BridgeState",y[y.Join=1]="Join",y[y.MaxSessionLengthExceeded=2]="MaxSessionLengthExceeded",y[y.QueueLimitExceeded=3]="QueueLimitExceeded",y[y.GaaSFree1HourExceeded=4]="GaaSFree1HourExceeded",y[y.GaaSUnsupportedFreeTitle=5]="GaaSUnsupportedFreeTitle",y[y.GaaSFreeSampleAlreadyUsed=6]="GaaSFreeSampleAlreadyUsed",y[y.GaaSFreeUserCanUpgrade=7]="GaaSFreeUserCanUpgrade",v;var y})()},27897:(Ge,ae,e)=>{"use strict";e.d(ae,{BH:()=>n.B,D7:()=>x.D7,Tn:()=>x.Tn,Vv:()=>x.Vv,X9:()=>x.X9,l2:()=>x.l2,qM:()=>x.qM,u0:()=>x.u0,vq:()=>x.vq}),e(93449);var n=e(64537),x=e(57986)},64537:(Ge,ae,e)=>{"use strict";e.d(ae,{B:()=>W});var t=e(48163),n=e(59562),x=e(18406),M=e(96671),L=e(23815),p=e(50608),P=e(42930),a=e(47504),o=e(74266),v=e(33932),y=e(2629),C=e(4042),A=e(56232),d=e(51325),m=e(57693),S=e(78747),s=e(89258),r=e(85566),i=e(64710),O=e(57986),Y=e(23827),T=e(85236),B=e(54599),K=e(62024),b=e(18164),f=e(80956),D=e(16386),I=e(21361),w=e(39609),_=e(27942),$=e(9357),G=e(36540),F=e(39536),J=e(16873),z=e(66195),Z=e(50906),ue=e(22804),u=e(71168),k=e(39382);let W=(()=>{class N{constructor(h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt){this.localeService=h,this.nesEntitlementService=E,this.systemInfoService=ee,this.telemetryService=R,this.gridService=q,this.telemetryUtilService=ne,this.dialog=_e,this.router=U,this.bridgeService=re,this.gfnSdkService=pe,this.idmService=Pe,this.offDeviceLinkService=Te,this.refreshUiService=et,this.remoteConfigService=Xe,this.appConfig=Ze,this.focusManager=nt,this.platform$=new n.t(1),this.userMembership$=new x.X(O.Vv),this.userMembership=Object.assign({},O.Vv),this.isManualLogin=null,this.autoRefreshInterval=432e5,this.refreshEntitlement$=null,this.subscriptionProcessed$=new M.xQ,this.userEntitlementSubscription=null,this.jarvisIdpId="",this.logger=me.getLogger("EcommerceService"),this.featureEnabledInConfig=Ze.featureEnablement.ecommerce,this.openLinksOffDevice=!!Ze.featureEnablement.openLinksOffDevice,this.detectPlatform(),this.redirectUrl=Ze.redirect.serverUrl,this.redirectEnv=Ze.redirect.environment,this.clientVersion=(0,r.get)(Ze,"build.version"),this.canClientHardUpsell=Ze.upsellPresentation.canHardUpsell,this.redirectEnvMap=new Map,this.jarvisIdpId=Ze.starfleet.jarvisIdpId,this.buildRedirectionEnvMap()}initialize(){this.checkUserMembershipStatus(),this.initPushNotifications(),i.ng.isAndroidPlatform()&&this.userMembership$.asObservable().pipe((0,o.h)(h=>{var E;return!(null===(E=null==h?void 0:h.subscription)||void 0===E||!E.productSku)}),(0,v.zg)(h=>this.bridgeService.executeCommand(I.Gh.Common.Subscriptioninfo.InitializeSubscriptionProductSku,{value:h.subscription.productSku})),(0,y.q)(1)).subscribe(),this.remoteConfigService.remoteConfigFetched$.subscribe(h=>{var E;null!==(E=h.config)&&void 0!==E&&E.upsellPresentation&&(!0===h.config.upsellPresentation.canHardUpsell||!1===h.config.upsellPresentation.canHardUpsell)&&(this.canClientHardUpsell=h.config.upsellPresentation.canHardUpsell)}),this.nesEntitlementService.subscriptionNetworkFetchedNoUpdate.pipe((0,y.q)(1),(0,v.zg)(h=>(h&&(this.userMembership.isCached=!1),this.checkEntitlement(!0)))).subscribe()}checkEntitlement(h){if(!0===this.appConfig.featureEnablement.UASAutoEntitle&&this.userMembership.membershipStatus===O.Tn.UnEntitled){if(!this.userMembership.isCached)return this.logger.info("uas auto entitlement enabled, logging out unentitled user"),this.idmService.logout(null,null,null,!0).pipe((0,C.h)(h));this.logger.info("unentitled cached user, will not log out")}return(0,L.of)(h)}buildRedirectionEnvMap(){this.redirectEnvMap.set(O.w1.Development,"d"),this.redirectEnvMap.set(O.w1.Staging,"s"),this.redirectEnvMap.set(O.w1.Preview,"w"),this.redirectEnvMap.set(O.w1.Production,"p")}listenSubscriptionRefreshNotification(){return this.refreshUiService.subscriptionRefresh$.pipe((0,v.zg)(h=>(this.logger.info("Refresh Subscription",null==h?void 0:h.source),this.checkUsersEntitlement(!0))))}initPushNotifications(){this.listenSubscriptionRefreshNotification().subscribe()}checkUserMembershipStatus(){this.idmService.accountStatusChanged.pipe((0,A.f)(this.gridService.vpcId$.pipe((0,d.K)(()=>(0,L.of)(null)))),(0,o.h)(h=>h.length>0),(0,v.zg)(h=>(h.length&&(this.user=(0,r.last)(h)),this.logger.info("user account change received authentication status:  ",this.user.isAuthenticated),this.userMembership=Object.assign({},O.Vv),this.user.isAuthenticated||(this.userMembership.membershipStatus=O.Tn.LoggedOut),this.logger.info("ecom state config: ",this.featureEnabledInConfig),this.userMembership.eComFeatureEnabled=this.featureEnabledInConfig,this.checkUsersEntitlement())),(0,d.K)(h=>(this.logger.error("Error in get userinfo and affiliate status: ",h),(0,L.of)(null)))).subscribe()}checkUsersEntitlement(h=!1){const E=(0,K.MA)(this.router.url),ee=!h&&E&&!this.isManualLogin;return this.userMembership.membershipStatus===O.Tn.LoggedOut?this.getClientStreamingQuality(E).pipe((0,v.zg)(R=>(this.logger.info("Got ClientStreamingQuality: ",R),this.userMembership.unentitledUserData=R,this.userMembership$.next(Object.assign({},this.userMembership)),(0,L.of)(null)))):(this.userEntitlementSubscription&&(this.userEntitlementSubscription.unsubscribe(),this.userEntitlementSubscription=null,this.subscriptionProcessed$&&(this.subscriptionProcessed$.complete(),this.subscriptionProcessed$=null,this.subscriptionProcessed$=new M.xQ)),this.userEntitlementSubscription=this.nesEntitlementService.getUserEntitlement(this.user,{useCache:ee,cacheLifetimeOverride:E?-1:void 0}).pipe((0,m.d)(1),(0,v.zg)(R=>{if(this.userMembership.membershipStatus===O.Tn.LoggedOut)return this.logger.info("user subscription revolved for last user"),p.C;const ne=(0,t._T)(R,["product"]);return this.logger.info("user subscription: ",ne),this.userMembership.subscription=R.subscription,this.userMembership.product=R.product,this.userMembership.isCached=R.isCached,(0,r.isNil)(R.subscription)?(this.userMembership.membershipStatus=O.Tn.UnEntitled,this.getClientStreamingQuality(E).pipe((0,v.zg)(_e=>(this.logger.info("Got ClientResolutions: ",_e),this.userMembership.unentitledUserData=_e,this.userMembership$.next(Object.assign({},this.userMembership)),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(R),(0,L.of)(R))))):(this.userMembership.membershipStatus=O.Tn.Entitled,this.userMembership$.next(Object.assign({},this.userMembership)),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(R),(0,L.of)(R))}),(0,d.K)(R=>(this.logger.error("error in fetching user entitlement: ",R),this.userMembership.membershipStatus=O.Tn.ServerError,this.userMembership$.next(Object.assign({},this.userMembership)),this.initTimedEntitlementRefresh(),this.subscriptionProcessed$.next(null),(0,L.of)(null))),(0,v.zg)(R=>this.checkEntitlement(R))).subscribe(()=>{this.refreshUiService.setContentExpiryInfo(f.Gx.Subscription),this.logger.info("User membership fetched")},R=>{this.logger.error("Error while fetched user membership. "+R)}),this.subscriptionProcessed$.asObservable())}getClientStreamingQuality(h){return this.nesEntitlementService.getClientStreamingQuality({useCache:!0,cacheLifetimeOverride:h?-1:void 0}).pipe((0,m.d)(1),(0,d.K)(E=>(this.logger.error("error in fetching client resolutions: ",E),(0,L.of)(null))))}initTimedEntitlementRefresh(){this.refreshEntitlement$&&(this.refreshEntitlement$.unsubscribe(),this.refreshEntitlement$=null),this.refreshEntitlement$=(0,P.H)(this.autoRefreshInterval).pipe((0,v.zg)(h=>(this.logger.info("auto refreshing entitlement"),this.checkUsersEntitlement())),(0,S.x)(()=>{this.refreshEntitlement$=null})).subscribe()}getUserMembership(h=!1){return h?this.checkUsersEntitlement(h).pipe((0,v.zg)(()=>this.userMembership$.asObservable())):this.userMembership$.asObservable()}canHardUpsell(){return this.canClientHardUpsell}refreshUsersEntitlement(){this.checkUsersEntitlement(!0).subscribe()}openAccountManagementPage(h,E){this.openBrowserWindow(h,b.hE.GfnAccountManagement,E,b.hD[b.hE.GfnAccountManagement])}openJoinMembershipPage(h,E){this.openBrowserWindow(h,b.hE.GfnPcMembershipJoin,E,b.hD[b.hE.GfnPcMembershipJoin])}openUpgradeMemberShipPage(h,E){this.openBrowserWindow(h,b.hE.GfnPcMembershipUpgrade,E,b.hD[b.hE.GfnPcMembershipUpgrade])}getUpgradeMembershipUrl(){return this.prepareProductMatrixURL(b.hE.GfnPcMembershipUpgrade)}openAccountProfilePage(h,E){this.openBrowserWindow(h,b.hE.GfnAccountManagementSSO,E,b.hD[b.hE.GfnAccountManagementSSO])}openJoinNowDialog(h,E=O.vq.Join,ee){var R;const q=this.telemetryService.getScreen();return h=`${h}/${Y.CGJ.ScreenJoinGfnDialog}`,E===O.vq.MaxSessionLengthExceeded&&this.gfnSdkService.isThisAGFNSDKSession()&&(E=null!==(R=this.userMembership.subscription)&&void 0!==R&&R.upsellOptions.betterSessionLengthProductExists?O.vq.GaaSFreeUserCanUpgrade:O.vq.GaaSFree1HourExceeded),this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(B.U,{autoFocus:!1,disableClose:!0,panelClass:"nv-overlay-panel",data:{isStreamerApp:(0,K.MA)(this.router.url),useCase:E,gameLaunchScreen:q,ecomUIState:(0,r.isNil)(ee)?O.l2.InitialState:ee,getUserMembership$:this.getUserMembership(),buttonClickCallback:ne=>{ne===O.l2.InitialState&&(E===O.vq.MaxSessionLengthExceeded||E===O.vq.QueueLimitExceeded?this.openUpgradeMemberShipPage(q,h):this.openJoinMembershipPage(q,h))}}}))}openBrowserWindow(h,E,ee,R){this.sendClickTelemetryForBrowserWindow(h,E,ee);const q=Date.now();this.prepareProductMatrixURL(E).subscribe(ne=>{this.logger.info("opening browser with url: ",ne),this.offDeviceLinkService.open(ne,{shortUrl:R}),this.sendManageSubscriptionTelemetry(!0,h,q)},ne=>{this.logger.error("Failed to open web page "+E+" with error: ",ne.message),this.sendManageSubscriptionTelemetry(!1,h,q,ne.message)})}openMembershipPageAndDialog(h,E){this.openLinksOffDevice?this.openProgressDialog(h).afterOpened().pipe((0,y.q)(1)).subscribe(()=>{null==E||E()}):(null==E||E(),setTimeout(()=>{this.openProgressDialog(h)},O.qM))}featureEntitled(h){var E,ee,R,q;return null===(q=null===(R=null===(ee=null===(E=this.userMembership$.value)||void 0===E?void 0:E.subscription)||void 0===ee?void 0:ee.features)||void 0===R?void 0:R.features)||void 0===q?void 0:q.some(ne=>ne.key===h&&"true"===ne.textValue)}featureUpsellAvailable(h){const E=[];return h.forEach(ee=>{var R,q;const ne=null===(q=null===(R=this.userMembership$.value.subscription)||void 0===R?void 0:R.upsellFeatures)||void 0===q?void 0:q.some(_e=>_e.key===ee&&!0===_e.booleanValue);E.push(ne)}),E}getStreamingModeDetails(h){return this.getStreamingProfileFromStreamingQuality(this.getStreamingQuality(h))}getMaxBitrate(){var h;return null===(h=this.getStreamingQuality())||void 0===h?void 0:h.maxBitRate}getStreamingQuality(h){var E,ee;const R=h?D.aL[h]:T.xw.BALANCED,q=this.userMembership$.value.membershipStatus===O.Tn.Entitled?null===(E=this.userMembership$.value.subscription)||void 0===E?void 0:E.streamingQualities:null===(ee=this.userMembership$.value.unentitledUserData)||void 0===ee?void 0:ee.streamingQualities;return null==q?void 0:q.find(_e=>_e.clientStreamingQualityMode===R)}openProgressDialog(h){return this.openJoinNowDialog(h,O.vq.BridgeState,O.l2.MembershipUpdateProgress)}sendClickTelemetryForBrowserWindow(h,E,ee){switch(E){case b.hE.GfnAccountManagement:this.telemetryUtilService.sendClickEvent(Y.lzt.ManageMembership,"",`${h}/${ee}`,!1);break;case b.hE.GfnPcMembershipJoin:this.telemetryUtilService.sendClickEvent(Y.lzt.JoinGfn,"",`${h}/${ee}`,!1);break;case b.hE.GfnPcMembershipUpgrade:this.telemetryUtilService.sendClickEvent(Y.lzt.Upgrade,"",`${h}/${ee}`,!1);break;case b.hE.GfnAccountManagementSSO:this.telemetryUtilService.sendClickEvent(Y.lzt.AccountManagementSso,"",`${h}/${ee}`,!1)}}prepareProductMatrixURL(h){const E=this.localeService.localeChanged.pipe((0,y.q)(1));return(0,a.aj)([E,this.platform$,this.idmService.cachedAffiliateStatus]).pipe((0,s.U)(([ee,R,q])=>{var ne;const _e={cNm:O.NV.name,env:this.redirectEnvMap.get(this.redirectEnv),Plt:R,gcV:this.clientVersion,idpId:this.user.idpId,prv:null===(ne=q.data)||void 0===ne?void 0:ne.loginProvider};this.user.idpId===this.jarvisIdpId&&(_e.loginHint=this.user.email),this.logger.info("JSO",_e);const U=new URL(this.redirectUrl+ee);return U.searchParams.append("page",h),U.searchParams.append("jso",btoa(JSON.stringify(_e))),U.toString()}))}detectPlatform(){i.ng.isCefPlatform()?this.systemInfoService.getOsInformation().subscribe(h=>{this.platform$.next(h.Platform===O.u0.Mac?b.PY.Mac:b.PY.PC)}):this.platform$.next(b.PY.Browser)}sendManageSubscriptionTelemetry(h,E,ee,R){const q=new Y.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:E,userAction:Y.Vwu.ManageECommerceSubscription,status:h?Y.N3X.Success:Y.N3X.ECommercePaywallLaunchError,errorDetails:R||h.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(q,ee)}getStreamingProfileFromStreamingQuality(h){return h?{width:h.resolution.widthInPixels,height:h.resolution.heightInPixels,fps:h.resolution.framesPerSecond,maxBitrateAuto:!h.maxBitRate.bitrateOption,maxBitrate:h.maxBitRate.bitrateValue,drc:this.getStreamingQualityFeatureValue(h,T.Uq.PROFILE_ADJUST_FOR_NETWORK),hdrStreaming:this.getStreamingQualityFeatureValue(h,T.Uq.PROFILE_HDR),reflex:this.getStreamingQualityFeatureValue(h,T.Uq.PROFILE_REFLEX),vSync:this.getStreamingQualityVsyncValue(h)}:null}getStreamingQualityFeatureValue(h,E){var ee,R;return"true"===(null===(R=null===(ee=null==h?void 0:h.features)||void 0===ee?void 0:ee.find(q=>q.key===E))||void 0===R?void 0:R.textValue)}getStreamingQualityVsyncValue(h){var E;return JSON.parse(null===(E=null==h?void 0:h.features)||void 0===E?void 0:E.find(ee=>ee.key===T.Uq.PROFILE_VSYNC).textValue)}}return N.\u0275fac=function(h){return new(h||N)(w.LFG(i.OL),w.LFG(_.l6),w.LFG(i.Ob),w.LFG($.y0),w.LFG(G.r),w.LFG(Y.wU6),w.LFG(F.on),w.LFG(J.F0),w.LFG(i.dF),w.LFG(z.s),w.LFG(Z.No),w.LFG(ue.qA),w.LFG(i.ed),w.LFG(f.eP),w.LFG(u.s),w.LFG(k.VK),w.LFG(ue.IK))},N.\u0275prov=w.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},28985:(Ge,ae,e)=>{"use strict";e.d(ae,{Z:()=>y});var t=e(59562),n=e(18388),x=e(42930),M=e(96671),L=e(23815),p=e(33932),P=e(73553),a=e(51325),o=e(39609),v=e(64710);let y=(()=>{class C{constructor(d){this.defaultMaxRetries=3,this.defaultRetryInterval=1e3,this.retryCount=0,this.jsLoadTelemetrySubject$=new t.t(1),this.logger=d.getLogger("ExternalJsLoadService")}getJsLoadScriptTag(d){return Array.from(document.getElementsByTagName("script")).find(S=>S.src.includes(d))}retryStrategy({maxRetries:d,retryInterval:m,isExponentialRetry:S},s){return s.pipe((0,p.zg)((r,l)=>l+1>d?(0,n._)(r):(0,x.H)(Math.pow(S?2:1,l)*m)))}isScriptLoaded(d){return!!this.getJsLoadScriptTag(d)}unloadJS(d){const m=this.getJsLoadScriptTag(d);m&&m.remove()}loadJS(d,{scriptType:m="text/javascript",isAsyncLoad:S=!0}){const s=new M.xQ,r=document.createElement("script");return r.src=d,r.type=m,r.async=S,r.onload=()=>{this.logger.info("External Script loaded successfully"),s.next(!0),s.complete()},r.onerror=l=>{this.unloadJS(d),this.logger.info("External Script load failed"),s.error(l)},document.body.appendChild(r),s.asObservable()}loadJSWithRetry(d,{scriptType:m="text/javascript",isAsyncLoad:S=!0,maxRetries:s=this.defaultMaxRetries,retryInterval:r=this.defaultRetryInterval,isExponentialRetry:l=!0}){return this.retryCount=0,this.loadJS(d,{scriptType:m,isAsyncLoad:S}).pipe((0,P.a)(i=>(this.retryCount++,this.retryStrategy({maxRetries:s,retryInterval:r,isExponentialRetry:l},i))),(0,a.K)(i=>(this.jsLoadTelemetrySubject$.next({isSuccess:!1,attemptCount:this.retryCount,fileName:d,error:i}),(0,L.of)(!1))))}}return C.\u0275fac=function(d){return new(d||C)(o.LFG(v.ed))},C.\u0275prov=o.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},18087:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>m});var t=e(39138),n=e(23815),x=e(27897),M=e(51657),L=e(85236),p=e(16386),P=e(94751),a=e(33932),o=e(89258),v=e(39609),y=e(64710),C=e(70577),A=e(32268),d=e(715);let m=(()=>{class S{constructor(r,l,i,O,Y){this.streamingProfileService=l,this.ecommerceService=i,this.lcarsService=O,this.translateService=Y,this.logger=r.getLogger("gfn/shared/GameFeaturesService")}getGameFeatures(r,l){return this.streamingProfileService.initializeGameFeatureProperties$().pipe((0,P.M)(this.ecommerceService.getUserMembership()),(0,a.zg)(([i,O])=>{this.gameFeatureProperties=i;const Y=M.Ev;this.initializeFeatures(Y);const T=[];if(Y.forEach(B=>{this.isFeatureSupportedOnGame(L.xA[B.featureKey],r)&&(B.supportedOnGame=!0,this.getFeaturebadgeDetails(B,O),(B.supportedOnSubscription||B.canUpsell||B.upsellToUnentitledUsers)&&T.push(B))}),T.length>0){const B=T.map(K=>K.description);return(0,t.$R)((0,n.of)(T),this.translateService.get(B))}return(0,t.$R)((0,n.of)(T),(0,n.of)([]))}),(0,o.U)(([i,O])=>(i.forEach(Y=>{Y.description=O[Y.description],Y.description=Y.description&&!Y.systemSupported?Y.description+".":Y.description}),l?null==i?void 0:i.filter(Y=>Y.showInLoadingScreen):i)))}isFeatureSupportedOnGame(r,l){return l.some(i=>this.lcarsService.isFeatureSupportedOnVariant(i,r))}getFeaturebadgeDetails(r,l){if(this.updateFeatureLabel(r),l.membershipStatus===x.Tn.Entitled){const i=this.featureSupportedOnSystem(r.featureKey);r.supportedOnSubscription=this.ecommerceService.featureEntitled(r.featureKey),r.supportedOnSubscription?(this.logger.info("Feature supported on game and available in subscription, featureKey: ",r.featureKey),i?this.updateReadyFeatureDescriptionAndState(r):this.updateUnsupportedFeatureDescription(r)):(r.canUpsell=this.ecommerceService.featureUpsellAvailable([r.featureUpsellKey])[0],r.canUpsell&&(this.logger.info("Feature supported on game and upsell in subscription, featureKey: ",r.featureKey),i?this.updateLockedFeatureDescription(r):this.updateUnsupportedFeatureDescription(r)))}else r.upsellToUnentitledUsers?(this.logger.info("Feature supported on game, display upsell for unentitled user: ",r.featureKey),this.updateUnentitledFeatureDescription(r)):this.logger.info("Feature supported on game, no upsell for unentitled user: ",r.featureKey)}updateUnentitledFeatureDescription(r){r.description="layout.evidenceMetadata.unknownUserFeatureText",r.icon="info"}featureSupportedOnSystem(r){var l,i;switch(r){case L.xA.RTX_ENABLED:return!0;case L.xA.HDR_ENABLED:return null===(l=this.gameFeatureProperties)||void 0===l?void 0:l.hdrDecodeSupported;case L.xA.REFLEX_ENABLED:return null===(i=this.gameFeatureProperties)||void 0===i?void 0:i.reflexSupported}return!1}updateReadyFeatureDescriptionAndState(r){var l,i,O,Y,T,B,K,b,f;switch(r.featureKey){case L.xA.RTX_ENABLED:r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0;break;case L.xA.HDR_ENABLED:null!==(l=this.gameFeatureProperties)&&void 0!==l&&l.hdrRenderSupported?(null===(i=this.gameFeatureProperties)||void 0===i?void 0:i.streamingMode)===p.M1.Custom&&null!==(O=this.gameFeatureProperties)&&void 0!==O&&O.hdrToggledOff?(r.description="layout.evidenceMetadata.hdrFeatureSettingsTip",r.icon="info"):(null===(Y=this.gameFeatureProperties)||void 0===Y?void 0:Y.streamingMode)===p.M1.DataSaver||(null===(T=this.gameFeatureProperties)||void 0===T?void 0:T.streamingMode)===p.M1.Competitive?(r.description="layout.evidenceMetadata.balancedStreamingModeTip",r.icon="info"):(r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0):(r.description="layout.evidenceMetadata.hdrFeatureDisplayTip",r.icon="info");break;case L.xA.REFLEX_ENABLED:(null===(B=this.gameFeatureProperties)||void 0===B?void 0:B.streamingMode)===p.M1.Custom&&null!==(K=this.gameFeatureProperties)&&void 0!==K&&K.reflexToggledOff?(r.description="layout.evidenceMetadata.hdrFeatureSettingsTip",r.icon="info"):(null===(b=this.gameFeatureProperties)||void 0===b?void 0:b.streamingMode)===p.M1.DataSaver||(null===(f=this.gameFeatureProperties)||void 0===f?void 0:f.streamingMode)===p.M1.Balanced?(r.description="layout.evidenceMetadata.reflexStreamingModeTip",r.icon="info"):(r.description="layout.evidenceMetadata.paidUserFeatureText",r.icon="check_circle",r.showInLoadingScreen=!0)}}updateLockedFeatureDescription(r){switch(r.featureKey){case L.xA.RTX_ENABLED:case L.xA.REFLEX_ENABLED:r.description="layout.evidenceMetadata.freeUserFeatureText";break;case L.xA.HDR_ENABLED:r.description="layout.evidenceMetadata.hdrFeatureUnsubscibedUserUpsell"}r.icon="lock",r.showInLoadingScreen=!0}updateUnsupportedFeatureDescription(r){var l,i;switch(r.featureKey){case L.xA.HDR_ENABLED:r.description="settings.streamingProfiles.hdrSystemUnsupportedTip",r.icon="info",r.systemSupported=!1,r.learnMoreUrl=null===(l=this.gameFeatureProperties)||void 0===l?void 0:l.hdrLearnMoreUrl;break;case L.xA.REFLEX_ENABLED:r.description="layout.evidenceMetadata.reflexUnsupported",r.icon="info",r.systemSupported=!1,r.learnMoreUrl=null===(i=this.gameFeatureProperties)||void 0===i?void 0:i.reflexLearnMoreUrl}}updateFeatureLabel(r){switch(r.featureKey){case L.xA.RTX_ENABLED:r.label="layout.evidenceMetadata.rtx";break;case L.xA.HDR_ENABLED:r.label="settings.streamingProfiles.hdrStreaming";break;case L.xA.REFLEX_ENABLED:r.label="settings.streamingProfiles.reflex"}}initializeFeatures(r){r.forEach(l=>{l.supportedOnGame=!1,l.supportedOnSubscription=!1,l.canUpsell=!1,l.showInLoadingScreen=!1,l.upsellToUnentitledUsers=l.featureKey===L.xA.RTX_ENABLED,l.systemSupported=!0,l.label="",l.icon="",l.description="",l.learnMoreUrl=""})}}return S.\u0275fac=function(r){return new(r||S)(v.LFG(y.ed),v.LFG(C.GK),v.LFG(x.BH),v.LFG(A.zc),v.LFG(d.sK))},S.\u0275prov=v.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},58049:(Ge,ae,e)=>{"use strict";e.d(ae,{t:()=>a});var t=e(64710),n=e(2629),x=e(51657),M=e(29733),L=e(39609),p=e(40479),P=e(45908);let a=(()=>{class o{constructor(y,C,A,d,m){this.localeService=y,this.loggingService=C,this.pwaService=A,this.systemInfoService=d,this.browserSupportService=m,this.url="",this.defaultUrl=M.fF.BrowserBookmark,this.shouldAvoidAddressBarUpdateFlag=!1,this.isAddressBarUrlUpdated=!1,this.isShareUrlTypeOGP=!0,this.isShareURLRequireBranch=!1,this.logger=this.loggingService.getLogger("GameShareUrlService"),this.isBrowserPlatform=t.ng.isBrowserPlatform(),this.isShareUrlTypeOGP=!(this.browserSupportService.isLocalDomain()||this.browserSupportService.isPartnerDomain()),this.isShareURLRequireBranch=this.browserSupportService.isStagingDomain(),this.initAvoidAddressBarUpdateFlag()}splitUrl(y){const C=y.split("/");let A=C[C.length-1];return A=A.replace(x.Xf,""),A=A.split(".")[0],A}updateShareUrlInfo(y,C){if(!this.isBrowserPlatform)return!1;this.gameId=y,this.assetIdentifier=C;const A=`${x.uE.GameId}=${this.gameId}`;if(this.isShareUrlTypeOGP){const d=`&${x.uE.Locale}=${this.localeService.getLocale()}`,m=C?this.splitUrl(C):"";if(this.queryParamsString=`${A}${d}${m?`&${x.uE.AssetId}=${m}`:""}`,this.isShareURLRequireBranch){const s=this.browserSupportService.getHostBranchName();this.queryParamsString=`${this.queryParamsString}${s?`&${x.uE.Branch}=${s}`:""}`}this.url=`${window.location.origin}/${x.EM.Games}?${this.queryParamsString}`}else this.queryParamsString=`${A}`,this.url=`${window.location.origin}${window.location.pathname}#/${x.eK}?${this.queryParamsString}`;return!0}initAvoidAddressBarUpdateFlag(){this.isBrowserPlatform&&(this.pwaService.onPWAModeChange.subscribe(y=>{this.shouldAvoidAddressBarUpdateFlag=y},y=>{this.logger.error("Error while setting initial value, defaulting to false"+y),this.shouldAvoidAddressBarUpdateFlag=!1}),this.systemInfoService.getSystemInfo().pipe((0,n.q)(1)).subscribe(y=>{this.isMobileSafari=(y.OSName===t.wi.IOS||y.OSName===t.wi.IPadOS)&&y.BrowserName===t.Aq.SAFARI}))}getIsAddressbarUrlUpdated(){return this.isAddressBarUrlUpdated}setShareUrlInAddressBar(){this.shouldAvoidAddressBarUpdateFlag||!this.isBrowserPlatform||(this.gameId&&-1!==this.url.indexOf(this.gameId)?(window.history.replaceState("","",this.url),this.isAddressBarUrlUpdated=!0):this.resetUrlInAddressBar())}getDeeplinkShareUrl(){return this.url}getShareInfo(y,C,A){if(!(this.gameId===y&&this.assetIdentifier===C||this.updateShareUrlInfo(y,C)))return void this.logger.error("Error while validating gameId");const m=A?`&${x.uE.UtmSource}=${A}`:"";return this.gameId?{url:`${this.url}${m}`,queryParamsString:`${this.queryParamsString}${m}`}:{url:window.location.origin,queryParamsString:""}}resetUrlInAddressBar(y){this.shouldAvoidAddressBarUpdateFlag||this.gameId!==y||!this.isBrowserPlatform||(window.history.replaceState("","",this.defaultUrl),this.isAddressBarUrlUpdated=!1)}setExitUrl(y){this.isBrowserPlatform&&(this.exitUrl=y)}setGameUrlAsExitUrl(){this.isBrowserPlatform&&(this.exitUrl=this.queryParamsString?`${M.nn.Deeplink}?${this.queryParamsString}&${x.uE.UtmSource}=${x.zV.Application}`:M.fF.DefaultRedirect)}getExitUrl(){if(this.isMobileSafari&&!(0,M.sv)()||!this.isBrowserPlatform)return M.fF.DefaultRedirect;let C;return C=this.exitUrl?this.exitUrl:this.queryParamsString?`${M.nn.Deeplink}?${this.queryParamsString}`:M.fF.DefaultRedirect,C}}return o.\u0275fac=function(y){return new(y||o)(L.LFG(t.OL),L.LFG(t.ed),L.LFG(p.nG),L.LFG(t.Ob),L.LFG(P.OA))},o.\u0275prov=L.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},56654:(Ge,ae,e)=>{"use strict";e.d(ae,{t:()=>t.t});var t=e(58049)},37004:(Ge,ae,e)=>{"use strict";e.d(ae,{Y:()=>o,u:()=>y});var t=e(80155),n=e(23827),x=e(69060),M=e(85501),L=e(39609),p=e(39382),P=e(64710),a=e(85948);let o=(()=>{class C{constructor(d,m,S,s){this.appConfig=d,this.distributedtracingUtilService=S,this.endpointFactory=s,this.logger=m.getLogger("GridSdkService");const{defaultRetries:r=0,defaultTimeBetweenRetries:l=0,defaultTimeout:i=1e4}=d.grid;this.serverInfoEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:r,timeBetweenRetries:l,timeout:i}}),this.firstFetchSet=new Set}makeUrl(d,m=this.appConfig.grid.server){return(0,t.D5)([m,this.appConfig.grid.version,d])}getSpecificServerInfo(d,m){var S;d.startsWith("http")||(d=null!==(S=this.appConfig.featureEnablement)&&void 0!==S&&S.enablePassThru?"http://"+d:"https://"+d);const r={includeRequestId:!0,reportRequestData:{originalService:n.v6v.Grid,serviceUseCase:n.f$p.GetSpecificServerInformation},headers:{}},l=r.reportRequestData.serviceUseCase;this.firstFetchSet.has(l)?r.headers[M.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(l);const i=this.serverInfoEndpoint.get(this.makeUrl("/serverInfo",d),r);return this.distributedtracingUtilService.handleHttpEndpointSpan(i,r,x.j1.GetSpecificServerInfo,m)}}return C.\u0275fac=function(d){return new(d||C)(L.LFG(p.VK),L.LFG(P.ed),L.LFG(x.Dc),L.LFG(a.V9))},C.\u0275prov=L.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();var v=e(12983);class y extends v.xv{constructor(A){super("Could not fetch vpcId",A)}}},773:(Ge,ae,e)=>{"use strict";e.d(ae,{r:()=>_});var t=e(59562),n=e(45661),x=e(47504),M=e(23815),L=e(18388),p=e(96827),P=e(39138),a=e(74266),o=e(2629),v=e(33932),y=e(89258),C=e(51325),A=e(71265),d=e(78747),m=e(63155),S=e(85566),r=e(37004),l=e(84904),i=e(85501),O=e(80956),Y=e(39609),T=e(64710),B=e(39382),K=e(1472),b=e(7675),f=e(28278),D=e(46057),I=e(80155),w=e(85085);let _=(()=>{class ${constructor(F,J,z,Z,ue,u,k,W,N,H,h,E){this.loggingService=F,this.gridSdk=J,this.appConfig=z,this.serverRouting=Z,this.networkConfigurationService=ue,this.zoneStorageService=u,this.nesUserInfoService=k,this.serviceWorkerService=N,this.gfnWebWorkerService=H,this.refreshUiService=h,this.networkStatusService=E,this.cachedRecommendedZone=null,this.streamingServiceUrl=null,this.hasServerInfoStreamErrored=!1,this.deeplinkZoneOverrideError$=new t.t(1),this.defaultZoneOnError=(ee,R)=>(this.logger.info(ee," : ",R),this.defaultZone$),this.logger=this.loggingService.getLogger("gfn/grid"),this.serverInfoStream=W.createStream(()=>this.requestServerInfo()),this.initServiceWorkerNotifications(),this.listenServerInfoRefreshNotification()}listenServerInfoRefreshNotification(){this.refreshUiService.serverInfoRefresh$.subscribe(F=>{this.logger.info("Refresh ServerInfo",null==F?void 0:F.source),this.refreshServerInfo()})}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,a.h)(F=>F.name===i.No.staleWhileRevalidate.server.cacheName),(0,o.q)(1)).subscribe(F=>{const J=this.serverInfoStream.getData();if(!J)return;const z=this.processServerInfo(F.data);(0,n.D)([this.gfnWebWorkerService.hash(J),this.gfnWebWorkerService.hash(z)]).subscribe(([Z,ue])=>{ue!==Z&&this.serverInfoStream.setData(z,!0)},Z=>{this.logger.error("error hashing updated server info",Z)})})}findZone(F,J){return(0,S.find)(F,z=>z.name===(null==J?void 0:J.value))}processServerInfo(F){if(this.logger.info("processServerInfo"),(0,S.isNil)(F))throw new Error("Server info was invalid.");const J=F.metaData,z=F.requestStatus;let Z;if((0,S.isNil)(z))throw new Error('Bad schema in server info. Missing "requestStatus".');const ue=z.serverId;if((0,S.isNil)(J))throw new Error('Bad schema in server info. Missing "metaData".');(0,S.isEmpty)(J)&&this.logger.warn("Server metadata is empty");const u=F.monitorSettings,k=F.serverType,W=(0,S.chain)(J).filter(h=>h.value.startsWith("http")).map(h=>{const E=h.value.replace("http://","").replace("https://","");return{name:h.key,address:E}}).keyBy("address").value(),N=(0,S.find)(J,h=>"local-region"===h.key),H=this.findZone(W,N);if(this.logger.info("Local region: ",H),this.streamingServiceUrl?Z={address:this.getDefaultZone(),name:this.appConfig.grid.name}:(0,S.isObject)(N)&&!(0,S.isUndefined)(N.value)&&(Z=this.findZone(W,N)),!(0,S.isObject)(Z))if((0,S.isNil)(this.cachedRecommendedZone)){const h=this.appConfig.grid;Z={name:h.name,address:h.server.replace("http://","").replace("https://","").replace("/","")},this.logger.error(`default zone not valid, using config zone: ${Z.name}`)}else Z=this.cachedRecommendedZone,this.logger.error(`default zone not valid, using cached zone: ${Z.name}`);return this.saveDefaultZone(Z),{vpcId:ue,serverType:k,zones:W,defaultZone:Z,monitorSettings:u,detectedLocalZone:H}}saveDefaultZone(F){this.zoneStorageService.setDefaultZone(F).subscribe(()=>S.noop,J=>this.logger.error("failed to set default zone",J))}requestServerInfo(F){let J=null;return this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,v.zg)(z=>(0,x.aj)([this.networkConfigurationService.getNetworkOverride(),this.networkConfigurationService.getCurrentCachedZone(),(0,M.of)(z)])),(0,v.zg)(([z,Z,ue])=>{this.streamingServiceUrl=ue.serviceEndpoint.streamingServiceUrl;const u=this.getDefaultZone();return this.logger.info("cached zone and override Zone are:",Z,z),this.cachedRecommendedZone=(0,S.isNil)(z)?(0,S.isNil)(Z)?null:Z:z,(0,S.isNil)(this.cachedRecommendedZone)?(this.logger.info("cachedRecommendedZone zone is null. Use new server info"),this.getServerInfo({address:this.streamingServiceUrl,name:""},J,F)):(J=this.checkIfCachedOrOverrideZoneAvailable(u,z,Z),this.clearNotAvailableZones(J),J.isOverrideZoneAvailable?(this.logger.info("Override zone available in zonesList. Get serverInfo for override zone"),this.getServerInfo(z,J,F)):J.isCachedZoneAvailable?(this.logger.info("cached zone available in zonesList. Get serverInfo for cached zone"),this.getServerInfo(Z,J,F)):(this.logger.info("Override or cached zone present but not available in zonesList, clearing NetworkOverride"),this.getServerInfo({address:this.streamingServiceUrl,name:""},J,F)))}))}getServerInfo(F,J,z){return this.gridSdk.getSpecificServerInfo(F.address,z).pipe((0,y.U)(Z=>this.processServerInfo(Z)),(0,C.K)(Z=>(this.logger.error("error in fetching serverInfo",Z),null!=J&&J.isCachedZoneAvailable||null!=J&&J.isOverrideZoneAvailable?(this.networkConfigurationService.deeplinkOverrideZone&&this.deeplinkZoneOverrideError$.next(!0),this.clearNotAvailableZones({isCachedZoneAvailable:!J.isCachedZoneAvailable,isOverrideZoneAvailable:!J.isOverrideZoneAvailable}),this.getServerInfo({address:this.streamingServiceUrl,name:""},J,z)):(this.hasServerInfoStreamErrored=!0,(0,L._)(Z)))),(0,A.b)(Z=>{this.networkConfigurationService.deeplinkOverrideZone&&this.deeplinkZoneOverrideError$.next(!1),this.refreshUiService.setContentExpiryInfo(O.Gx.ServerInfo),this.hasServerInfoStreamErrored=!1}))}checkIfCachedOrOverrideZoneAvailable(F,J,z){let Z,ue;return!(0,S.isNil)(J)&&J.isInternal&&(this.logger.info("Internal override is set"),Z=!0),!(0,S.isNil)(J)&&!Z&&(Z=F===J.defaultZone),(0,S.isNil)(z)||(ue=F===z.defaultZone),{isOverrideZoneAvailable:Z,isCachedZoneAvailable:ue}}clearNotAvailableZones(F){F.isOverrideZoneAvailable?F.isCachedZoneAvailable?this.logger.info("Both override and cached zones are available in the zonelist"):(this.logger.info("Cached zone is not available in the zonelist. Clearing cached zone"),this.networkConfigurationService.clearCurrentFingerprintCachedZone().subscribe()):(this.logger.info("Override zone is not available in the zonelist. Clearing override zone"),this.networkConfigurationService.clearNetworkOverride().subscribe())}getServerProperty(F){return this.serverInfoStream.get$().pipe((0,y.U)(F))}get deeplinkZoneOverrideStatus(){return this.deeplinkZoneOverrideError$.asObservable().pipe((0,d.x)(()=>{this.deeplinkZoneOverrideError$=new t.t(1)}))}get vpcId$(){return this.getServerProperty(F=>F.vpcId).pipe((0,C.K)(F=>{if(!this.networkStatusService.isOnline){const J=this.networkStatusService.onlineStatusChanged.pipe((0,a.h)(z=>z),(0,o.q)(1),(0,v.zg)(()=>this.vpcId$));return(0,p.z)((0,M.of)(null),J)}return(0,L._)(F)}),(0,C.K)(F=>(0,L._)(new r.u(F))))}get defaultZone$(){return this.getProperty(F=>F.defaultZone)}get zoneList$(){return this.getProperty(F=>F.zones)}get serverType$(){return this.getProperty(F=>F.serverType)}get monitorSettings$(){return this.hasServerInfoStreamErrored?(0,M.of)(void 0):this.getProperty(F=>F.monitorSettings)}get detectedLocalZone$(){return this.getProperty(F=>F.detectedLocalZone)}getProperty(F){return this.getServerProperty(F)}getZone(F,J){return(0,P.$R)(this.zoneList$,this.defaultZone$).pipe((0,m.P)(),(0,v.zg)(z=>{const[Z,ue]=z;return F.defaultZone=ue.address,this.serverRouting.getFastestRegionalZone(F,Z,J).pipe((0,A.b)(u=>{this.logger.info("Got the latency based router zone: ",u),this.serverInfoStream.refresh()}))}))}getCachedZone(){return this.serverRouting.getCachedServerZone().pipe((0,v.zg)(F=>(0,S.isNil)(F)?this.defaultZoneOnError("Empty zone in cache, falling back to default zone"):(0,M.of)(F)),(0,C.K)(F=>this.defaultZoneOnError("No zone in cache, falling back to default zone",F)))}getCachedLatencies(){const F=this.networkConfigurationService.getCurrentCachedLatencies(),J=this.networkConfigurationService.getNetworkOverride();return(0,x.aj)([F,J]).pipe((0,o.q)(1),(0,y.U)(([z,Z])=>{var ue,u,k,W;if(Z&&null!==(u=null===(ue=this.appConfig)||void 0===ue?void 0:ue.lbrConfig)&&void 0!==u&&u.applyDeterministicServerRouting){const E="latency@"+Z.address;return{[E]:z&&z[E]?z[E]:"-1"}}if(!z)return{};const N=(null===(W=null===(k=this.appConfig)||void 0===k?void 0:k.lbrConfig)||void 0===W?void 0:W.cachedLatencyCount)||l.FJ,H=Object.keys(z).sort((E,ee)=>parseInt(z[E],10)-parseInt(z[ee],10)).slice(0,N),h={};return H.forEach(E=>{h[E]=z[E]}),h}))}refreshServerInfo(){return this.serverInfoStream.refresh()}getDefaultZone(){return this.streamingServiceUrl?this.streamingServiceUrl.replace("http://","").replace("https://","").replace("/",""):""}}return $.\u0275fac=function(F){return new(F||$)(Y.LFG(T.ed),Y.LFG(r.Y),Y.LFG(B.VK),Y.LFG(K.m),Y.LFG(b.X),Y.LFG(f.W),Y.LFG(D.f),Y.LFG(I.O_),Y.LFG(i.HR),Y.LFG(w.$_),Y.LFG(O.eP),Y.LFG(T._J))},$.\u0275prov=Y.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},36540:(Ge,ae,e)=>{"use strict";e.d(ae,{r:()=>t.r});var t=e(773)},13051:(Ge,ae,e)=>{"use strict";e.d(ae,{h:()=>o});var t=e(48163),n=e(29733),x=e(51657),M=e(85566),p=e(39609),P=e(64710),a=e(30613);let o=(()=>{class v{constructor(C,A){if(this.deeplinkHelperService=A,this.guestModeConfig=x.db,this.guestMode=!1,this.logger=C.getLogger("GuestModeHelperService"),(0,n.sv)()){this.guestMode=!0;const d=this.deeplinkHelperService.getUpdatedPartnerId((0,n.cj)(x.uE.PartnerId))||"";this.setGuestModeConfig(d)}}isGuestAppFlow(){var C;return this.isGuestMode&&(null===(C=this.getGuestModeConfig())||void 0===C?void 0:C.isGuestAppFlow)}updateGuestModeConfig(C){if(C){const d=(0,t._T)(C,["allowedRedirectUrls"]);this.guestModeConfig=Object.assign(Object.assign({},this.guestModeConfig),d),this.logger.info("updated GuestModeConfig",this.guestModeConfig)}}mergeGuestModeConfig(C,A){return C&&A?(0,M.merge)(A,C):A}fetchDefaultGDNMetaData(C){var A;const d=null===(A=this.getGuestModeConfig())||void 0===A?void 0:A.metadata,m=this.createDefaultMetdata(C);return this.logger.info("metadata Overrides: ",JSON.stringify(d)),this.logger.info("default MetaData: ",JSON.stringify(m)),m&&d?[(0,M.merge)(m,d)]:[m]}createDefaultMetdata(C){const A=Object.assign({},x.h4);return A.variants[0].id=C,A}getGuestModeConfig(){return this.guestModeConfig}isWhiteLabelingEnabled(){var C;return null===(C=this.getGuestModeConfig())||void 0===C?void 0:C.isWhiteLabelingEnabled}get isGuestMode(){return this.guestMode}set isGuestMode(C){this.guestMode=C}setGuestModeConfig(C){this.guestModeConfig=x.T8[C]||x.db}}return v.\u0275fac=function(C){return new(C||v)(p.LFG(P.ed),p.LFG(a.g))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},5193:(Ge,ae,e)=>{"use strict";e.d(ae,{h:()=>l.h,o:()=>T});var t=e(59562),n=e(23815),x=e(18388),M=e(47504),L=e(89258),p=e(2629),P=e(51325),a=e(33932),o=e(69060),v=e(66195),y=e(9357),C=e(5937),A=e(29733),d=e(48131),m=e(70494),S=e(80155),s=e(39609),r=e(64710),l=e(13051),i=e(84658),O=e(85948),Y=e(58049);let T=(()=>{class B{constructor(b,f,D,I,w,_,$,G,F,J){this.guestModeHelperService=f,this.gfnSdkService=D,this.appConfig=I,this.endpointFactory=w,this.distributedtracingUtilService=_,this.telemetryService=$,this.gameShareUrlService=G,this.experienceControlService=F,this.systemInfoService=J,this.guestModeExitUrl="",this.guestModeStatusQueryParamKey="status",this.guestModeStateQueryParamKey="state",this.guestModeAllowedRedirectUrls=[],this.isGuestFlowConfigFetchedSubject=new t.t(1),this.logger=b.getLogger("GuestModeService")}getAuthConfigFromNonce(b,f,D,I){var w,_;const $={timeout:null!==(w=this.appConfig.accountLinking.defaultTimeout)&&void 0!==w?w:15e3,timeBetweenRetries:0,maxRetries:null!==(_=this.appConfig.accountLinking.defaultRetries)&&void 0!==_?_:1},G=this.endpointFactory.createEndpoint({config:$}),J=this.createRequestOptions({partnerId:f,cmsId:D,nonce:b,deviceId:I},{}),z=G.post(this.buildApiUrl("token"),J);return this.distributedtracingUtilService.handleHttpEndpointSpan(z,J,o.j1.AlsTokenExchange).pipe((0,L.U)(Z=>(this.logger.info("Successfully got JWT token from ALS API"),{authType:"jwt",partnerData:"",partnerSecureData:null==Z?void 0:Z.partnerSecureData,token:null==Z?void 0:Z.token})))}buildApiUrl(b){var f;return(null===(f=this.appConfig.accountLinking)||void 0===f?void 0:f.server)+"/v2/"+b}createRequestOptions(b={},f={}){return{params:f,body:b}}get guestModeAllowedRedirectUrlsList(){return this.guestModeAllowedRedirectUrls}set guestModeAllowedRedirectUrlsList(b){this.guestModeAllowedRedirectUrls=b}get isGuestFlowConfigFetched$(){return this.isGuestFlowConfigFetchedSubject.asObservable()}getGuestModeExitUrl(){return this.guestModeExitUrl}isStateValid(b){return!!((0,S.RE)(b)||(0,S.Zp)(b)||/^[a-zA-Z0-9-]{1,36}$/.test(b))}createRedirectURLWithState(b,f,D){return(0,A.GW)(b,f,D)}initializeGuestModeExitUrl(b,f,D){this.guestModeExitUrl=(0,A.GW)(b,f,D.toString())}updateGuestModeExitUrl(b){this.guestModeExitUrl=(0,A.GW)(this.guestModeExitUrl,this.guestModeStatusQueryParamKey,b.toString()),this.gameShareUrlService.setExitUrl(this.guestModeExitUrl)}fetchGuestFlowConfigCloudVariable(b,f,D,I){return this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.guestFlowClientConfig,{partnerId:b},{useCache:!1,useNetworkTimeoutForCacheFallback:!1},m.Z4.GxTargetGetCloudVariable,m.Qu.Other).pipe((0,p.q)(1),(0,L.U)(w=>{var _;this.gxtGuestFlowClientConfig=w.value,this.logger.info("guestFlowClientConfig from gxtarget is: ",this.gxtGuestFlowClientConfig);const $=this.gxtGuestFlowClientConfig.defaultPartnerConfig;let G;D&&(G=this.gxtGuestFlowClientConfig[D]);const F=this.guestModeHelperService.mergeGuestModeConfig(G,$),J=(null==F?void 0:F.allowedRedirectUrls)||[];if(this.guestModeHelperService.updateGuestModeConfig(F),this.logger.info("Final Guest Mode Config: ",JSON.stringify(F)),this.isGuestFlowConfigFetchedSubject.next(),""!==f||0!==J.length){let Z=decodeURIComponent(f);if(!J.includes(Z))return{success:!1,error:d.cYw.RedirectURLNotAllowed};if(""!==I){if(!this.isStateValid(I))return{success:!1,error:d.cYw.RedirectURLNotAllowed};Z=this.createRedirectURLWithState(Z,this.guestModeStateQueryParamKey,I)}else this.logger.info("Optional param state is empty");this.initializeGuestModeExitUrl(Z,this.guestModeStatusQueryParamKey,C.et.Success)}return null===(_=null==$?void 0:$.enabled)||void 0===_||_?{success:!0,error:d.cYw.None,guestFlowStatusCode:C.et.Success}:(this.logger.error("Guest Mode is not enabled for ",b),{success:!1,error:d.cYw.Unauthorized,guestFlowStatusCode:C.et.Campaign_Suspended})}),(0,P.K)(w=>(this.logger.error("Error in fetching guestFlowClientConfig from GXT",w),(0,n.of)({success:!1,error:d.cYw.Unknown}))))}setAuthDataUsingNonce(b,f,D){return this.systemInfoService.getDeviceId().pipe((0,a.zg)(I=>this.getAuthConfigFromNonce(b,f,parseInt(D,10),I)),(0,L.U)(I=>I.token&&0!==I.token.length?(this.gfnSdkService.setSdkClient(f,I),{success:!0,error:d.cYw.None,guestFlowStatusCode:C.et.Success}):(this.logger.error("Invalid JWT token from ALS API"),{success:!1,error:d.cYw.Unauthorized,guestFlowStatusCode:C.et.GFN_Error})),(0,P.K)(I=>(this.logger.error("Failed to fetch JWT token from ALS API",I),(0,n.of)(401===I.status?{success:!1,error:d.cYw.PartnerAuthFailed,guestFlowStatusCode:C.et.Partner_Error}:{success:!1,error:d.cYw.Unauthorized,guestFlowStatusCode:C.et.GFN_Error}))))}setAuthDataUsingNonceAndUpdateGuestFlowConfig(b,f,D,I,w,_){if(!I)return this.logger.error("No cms-id in deeplink with nonce"),(0,x._)(d.cYw.BadRequest);const $=this.fetchGuestFlowConfigCloudVariable(f,w,D,_),G=this.setAuthDataUsingNonce(b,f,D);return(0,M.aj)([$,G]).pipe((0,p.q)(1),(0,a.zg)(([F,J])=>F.success?J.success?(0,n.of)([F,J]):(null!=J&&J.guestFlowStatusCode&&this.updateGuestModeExitUrl(null==J?void 0:J.guestFlowStatusCode),(0,x._)(J.error)):(null!=F&&F.guestFlowStatusCode&&this.updateGuestModeExitUrl(null==F?void 0:F.guestFlowStatusCode),(0,x._)(F.error))),(0,a.zg)(F=>this.gfnSdkService.getAuthInfo()),(0,L.U)(F=>(F.authType===v.Gr.JWT&&(this.telemetryService.setEventsCommonData({userId:F.userId,externalUserId:F.externalUserId,idpId:F.idpId},!0),this.experienceControlService.setUserInfo({userId:y.wy.Undefined,idpId:y.wy.Undefined})),!0)))}}return B.\u0275fac=function(b){return new(b||B)(s.LFG(r.ed),s.LFG(l.h),s.LFG(v.s),s.LFG(i.V),s.LFG(O.V9),s.LFG(o.Dc),s.LFG(y.y0),s.LFG(Y.t),s.LFG(m.Q6),s.LFG(r.Ob))},B.\u0275prov=s.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},83157:(Ge,ae,e)=>{"use strict";e.d(ae,{E:()=>S});var t=e(52474),n=e(85948),x=e(9357),M=e(23827),L=e(64710),p=e(85566),a=e(41221),o=e(39138),v=e(23815),y=e(84658),C=e(33932),A=e(85501),d=e(39609),m=e(28985);let S=(()=>{class s{constructor(l,i,O,Y,T,B){this.injector=l,this.statusCodeZeroAnalyzerFactoryService=O,this.localeService=Y,this.serviceWorkerService=T,this.externalJsLoadService=B,this.logger=i.getLogger("http-telemetry.service"),this.reverseOriginalService=new Map,Object.keys(M.v6v).forEach(K=>{this.reverseOriginalService.set(M.v6v[K],K)}),this.reverseServiceUseCase=new Map,Object.keys(M.f$p).forEach(K=>{this.reverseServiceUseCase.set(M.f$p[K],K)}),this.reverseServiceSubUseCase=new Map,Object.keys(M.HGL).forEach(K=>{this.reverseServiceSubUseCase.set(M.HGL[K],K)}),this.pendingNetworkResponseMap=new Map}getStatusCodeZeroAnalyzer(){var l;if(this.statusCodeZeroAnalyzer)return this.statusCodeZeroAnalyzer;const i=null===(l=this.injector.get(y.V))||void 0===l?void 0:l.statusCodeZeroAnalyzerConfig;return this.statusCodeZeroAnalyzer=this.statusCodeZeroAnalyzerFactoryService.createAnalyzer(i),this.statusCodeZeroAnalyzer}initialize(){this.logger.info("Initializing Http Telemetry Service"),n.ay.httpErrorEvents$().subscribe(l=>{this.sendHttpFailureEvent(l)}),n.ay.httpSuccessEvents$().subscribe(l=>{this.sendHTTPSuccessEvent(l)}),this.sendHTTPGetCallsTelemetry(),this.serviceWorkerService.networkResponseReceived.subscribe(l=>{this.handleNetworkResponseReceived(l)},a.Z)}handleNetworkResponseReceived(l){var i;const O=l.requestId;if(this.pendingNetworkResponseMap.has(O)){const Y=this.pendingNetworkResponseMap.get(O);if(this.pendingNetworkResponseMap.delete(O),l.responseStatusCode<=0||l.responseStatusCode>=400){const T=Y.httpSuccessEvent.parameters,B=new M.MjV({destinationIp:T.destinationIp,serviceSubUseCase:T.serviceSubUseCase,sourceComponent:T.sourceComponent,serviceUseCase:T.serviceUseCase,originalService:T.originalService,xRequestId:T.xRequestId,url:T.url,retryCount:T.retryCount,wasSWCacheBypassed:T.wasSWCacheBypassed,networkErrorCode:String(l.responseStatusCode),networkErrorMessage:(null===(i=l.responseBody)||void 0===i?void 0:i.substring(0,1024))||""});this.telemetryService.push(B)}else Y.httpSuccessEvent.parameters.durationMs=l.responseReceivedTimeMs-Y.requestStartTime,this.telemetryService.push(Y.httpSuccessEvent)}}sendHTTPGetCallsTelemetry(){this.externalJsLoadService.jsLoadTelemetrySubject$.subscribe(l=>{this.updateAndSendTelemetry(l,M.f$p.FetchJSFile)}),L.ng.isBrowserPlatform()&&(L.OA.retrySubject.subscribe(l=>{this.updateAndSendTelemetry(l,M.f$p.FetchJSFile)}),this.localeService.getLocaleDownloadRetryTelemetryData().subscribe(l=>{this.updateAndSendTelemetry(l,M.f$p.FetchLocaleJson)}))}updateAndSendTelemetry(l,i){const O={includeRequestId:!1,reportRequestData:{originalService:M.v6v.AwsS3,serviceUseCase:i,serviceSubUseCase:M.HGL.Other,retryCount:l.attemptCount.toString(),requestEndTime:"0",requestStartTime:"0"}};if(l.isSuccess){const T={response:new t.Zn({status:200,url:l.fileName}),options:O};this.sendHTTPSuccessEvent(T)}else this.sendHttpFailureEvent({response:{url:l.fileName,status:404},options:O})}getRetryCount(l){return(0,p.isNil)(l)||(0,p.isNil)(l.retryCount)?0:parseInt(l.retryCount,10)}getSWCacheBypassInfo(l){let O,i=M.wye.UNDEFINED;return l.headers&&l.headers[A.Fk.SwCacheBypass]&&(O=l.headers[A.Fk.SwCacheBypass],i=O===JSON.stringify(!0)?M.wye.TRUE:M.wye.FALSE),{swCacheBypassHeaderValue:O,wasSWCacheBypassed:i}}sendHttpFailureEvent(l){(0,p.isNil)(this.telemetryService)&&(this.telemetryService=this.injector.get(x.y0)),(0,p.isNil)(this.telemetryUtilService)&&(this.telemetryUtilService=this.injector.get(M.wU6));const i=l.response.xRequestId?l.response.xRequestId:"";(0,p.isNil)(this.telemetryService)||(0,p.isNil)(this.telemetryUtilService)?this.logger.warn("Unable to send event for failed http request: ",l.response.url):(0,o.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,C.zg)(O=>0!==l.response.status?(0,v.of)({statusCode:l.response.status}):this.getStatusCodeZeroAnalyzer().getFailureCode({requestUrl:l.response.url,uniqueRequestId:i}))).subscribe(O=>{var Y,T,B,K;const b=O.cachedDNSEntry,f=(null==b?void 0:b.destinationIp)||"",D=this.getSWCacheBypassInfo(l.options);let I="";I=0===l.response.status?null!==(T=null===(Y=l.response.rawResponse)||void 0===Y?void 0:Y.message)&&void 0!==T?T:"":null!==(K=JSON.stringify(null===(B=l.response.rawResponse)||void 0===B?void 0:B.error))&&void 0!==K?K:"";const w=new M.MjV({sourceComponent:this.telemetryUtilService.getClientType(),originalService:this.getOriginalService(l.options.reportRequestData),serviceUseCase:this.getServiceUseCase(l.options.reportRequestData),serviceSubUseCase:this.getServiceSubUseCase(l.options.reportRequestData),url:l.response.url,networkErrorCode:String(O.statusCode),destinationIp:f,xRequestId:i,retryCount:this.getRetryCount(l.options.reportRequestData),wasSWCacheBypassed:D.wasSWCacheBypassed,networkErrorMessage:I.substring(0,1024)});this.telemetryService.push(w)})}sendHTTPSuccessEvent(l){(0,p.isNil)(this.telemetryService)&&(this.telemetryService=this.injector.get(x.y0)),(0,p.isNil)(this.telemetryUtilService)&&(this.telemetryUtilService=this.injector.get(M.wU6)),(0,p.isNil)(this.telemetryService)||(0,p.isNil)(this.telemetryUtilService)?this.logger.info("Unable to send event for http success request: ",l.response.url):(0,o.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).subscribe(i=>{const O=this.getSWCacheBypassInfo(l.options),Y=new M.wEN({sourceComponent:this.telemetryUtilService.getClientType(),originalService:this.getOriginalService(l.options.reportRequestData),serviceUseCase:this.getServiceUseCase(l.options.reportRequestData),serviceSubUseCase:this.getServiceSubUseCase(l.options.reportRequestData),url:l.response.url,httpStatus:l.response.status,durationMs:parseInt(l.options.reportRequestData.requestEndTime,10)-parseInt(l.options.reportRequestData.requestStartTime,10),destinationIp:"",responseData:"",xRequestId:l.options.includeRequestId?l.options.headers[n.n0.xRequestId]:"",retryCount:this.getRetryCount(l.options.reportRequestData),wasSWCacheBypassed:O.wasSWCacheBypassed});Y.parameters.xRequestId&&this.serviceWorkerService.willGFNServiceWorkerHandleRequest(l.response.url,O.swCacheBypassHeaderValue)?this.pendingNetworkResponseMap.set(Y.parameters.xRequestId,{httpSuccessEvent:Y,requestStartTime:parseInt(l.options.reportRequestData.requestStartTime,10)}):this.telemetryService.push(Y)})}getOriginalService(l){return(0,p.isNil)(l)||(0,p.isNil)(l.originalService)||(0,p.isNil)(this.reverseOriginalService.get(l.originalService))?M.v6v.Other:M.v6v[this.reverseOriginalService.get(l.originalService)]}getServiceUseCase(l){return(0,p.isNil)(l)||(0,p.isNil)(l.serviceUseCase)||(0,p.isNil)(this.reverseServiceUseCase.get(l.serviceUseCase))?M.f$p.Other:M.f$p[this.reverseServiceUseCase.get(l.serviceUseCase)]}getServiceSubUseCase(l){return(0,p.isNil)(l)||(0,p.isNil)(l.serviceSubUseCase)||(0,p.isNil)(this.reverseServiceSubUseCase.get(l.serviceSubUseCase))?M.HGL.Other:M.HGL[this.reverseServiceSubUseCase.get(l.serviceSubUseCase)]}}return s.\u0275fac=function(l){return new(l||s)(d.LFG(d.zs3),d.LFG(L.ed),d.LFG(L.Ng),d.LFG(L.OL),d.LFG(A.HR),d.LFG(m.Z))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},32220:(Ge,ae,e)=>{"use strict";e.d(ae,{i:()=>o});var t=e(13800),n=e(2629),x=e(33932),M=e(22281),L=e(21361),p=e(39609),P=e(64710),a=e(50906);let o=(()=>{class v{constructor(C,A,d,m){this.ipcService=C,this.idmService=d,this.bridgeService=m,this.logger=A.getLogger("shared/idm-ipc"),this.ipcService.get$(M.oI.LoginStatusChanged).pipe((0,t.w)(S=>d.refreshUser())).subscribe(()=>{this.logger.info("User refreshed successfully")},S=>{this.logger.error("Failed refresh User with error: ",S)})}sendLoginStatusChange(){this.idmService.accountStatusChanged.pipe((0,n.q)(1),(0,x.zg)(C=>this.bridgeService.executeCommand(L.Gh.Common.Ipc.LoginStatus,{data:C}))).subscribe(C=>this.logger.info("success sending LoginStatus",C),C=>this.logger.error("error sending LoginStatus",C))}}return v.\u0275fac=function(C){return new(C||v)(p.LFG(M.uC),p.LFG(P.ed),p.LFG(a.No),p.LFG(P.dF))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},79901:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>y});var t=e(39138),n=e(23827),x=e(74266),M=e(2629),L=e(33932),p=e(39609),P=e(64710),a=e(9357),o=e(86465);const v="loginStartEvent";let y=(()=>{class C{constructor(d,m,S,s){this.telemetryUtilService=m,this.telemetryService=S,this.starfleetService=s,this.logger=d.getLogger("gfn/shared/idm/idmLoginService")}sendLoginSuccessUserSessionEvent(d=!1){this.telemetryService.getValidUserIdResetObservable().pipe((0,x.h)(m=>!0===m),(0,M.q)(1),(0,L.zg)(m=>(this.logger.info("Sending login success user session event"),this.starfleetService.accountStatusChanged.pipe((0,M.q)(1))))).subscribe(m=>{const S=new n.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:d?n.Vwu.SilentLoginDirectLaunch:n.Vwu.LoginWithStarfleet,status:n.N3X.Success,errorDetails:status.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(S,null,{immediateRequest:!0}),this.logger.info("Sent loginSuccessEvent telemetry")})}sendLoginFailureUserSessionEvent(d=!1){this.logger.info("Sending login failed user session event"),(0,t.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).pipe((0,L.zg)(m=>this.starfleetService.accountStatusChanged.pipe((0,M.q)(1)))).subscribe(m=>{const S=new n.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:d?n.Vwu.SilentLoginDirectLaunch:n.Vwu.LoginWithStarfleet,status:n.N3X.Failure,errorDetails:this.starfleetService.lastError.error_description,totalMs:0,serverErrorCode:this.starfleetService.lastError.error_code,errorUri:this.starfleetService.lastError.error_uri});this.telemetryService.push(S,null,{immediateRequest:!0})})}sendLoginStartEvent(d,m){this.logger.info("Sending login triggered event");const S={loginProviderIdpId:d||""},s=new n.uEx(S);m?sessionStorage.setItem(v,JSON.stringify(S)):this.telemetryService.push(s)}checkAndSendLoginStartEvent(){(0,t.$R)(this.telemetryService.getCommonDataObservable(),this.telemetryService.getDefaultClientConsentObserable()).subscribe(d=>{const m=sessionStorage.getItem(v);if(m){const S=new n.uEx(JSON.parse(m));this.telemetryService.push(S),sessionStorage.removeItem(v)}})}}return C.\u0275fac=function(d){return new(d||C)(p.LFG(P.ed),p.LFG(n.wU6),p.LFG(a.y0),p.LFG(o.DO))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},70028:(Ge,ae,e)=>{"use strict";e.d(ae,{KN:()=>x,dv:()=>n});var t=e(64710);const n={featureId:"",useCachedToggle:!1,defaultStarfleetStatus:!1,toggleRefreshTime:864e5},x={userId:"",externalId:"",idpId:"",displayName:"",isAuthenticated:!1,technicalConsent:t.p6.None,behavioralConsent:t.p6.None,email:""}},31331:(Ge,ae,e)=>{"use strict";e.d(ae,{N:()=>z});var t=e(59562),n=e(23815),x=e(42520),M=e(50608),L=e(76086),p=e(33932),P=e(63155),a=e(89258),o=e(28805),v=e(51325),y=e(71265),C=e(39654),A=e(2629),d=e(4042),m=e(64710),S=e(86465),r=(()=>{return(Z=r||(r={})).LoginSSONotApplicable="Login SSO not applicable",Z.LoginSSOProcessing="Login SSO in progress",r;var Z})(),l=e(18164),i=e(66195),O=e(29733),Y=e(70028),T=e(93450),B=e(39609),K=e(70494),b=e(91565),f=e(16873),D=e(39382),I=e(45908),w=e(23827),_=e(79901),$=e(10671),G=e(21361);let F=(()=>{class Z{constructor(u,k,W,N){var H;this.config=u,this.bridgeService=W,this.sharedStorage=N,this.logger=k.getLogger("crimson/NativeAuthService"),this.idTokenRefreshUnderDuration=null!==(H=this.config.idTokenRefreshUnderDuration)&&void 0!==H?H:0,this.idTokenRefreshUnderDuration<0&&(this.idTokenRefreshUnderDuration=0)}syncSessionData(){return $.z.loadFrom(this.sharedStorage,this.idTokenRefreshUnderDuration).pipe((0,p.zg)(u=>{var k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me;let et={};return!(null===(W=null===(k=null==u?void 0:u.data)||void 0===k?void 0:k.user)||void 0===W)&&W.isAuthenticated&&(et={clientToken:null===(N=u.data)||void 0===N?void 0:N.clientToken,accessToken:null===(H=u.data)||void 0===H?void 0:H.accessToken,idToken:null===(h=u.data)||void 0===h?void 0:h.idToken,clientTokenExpiry:null===(E=u.data)||void 0===E?void 0:E.clientTokenExpiry,accessTokenExpiry:null===(ee=u.data)||void 0===ee?void 0:ee.accessTokenExpiry,idTokenExpiry:null===(R=u.data)||void 0===R?void 0:R.idTokenExpiry,sub:null===(q=u.data.user)||void 0===q?void 0:q.sub,idpName:null===(ne=u.data.user)||void 0===ne?void 0:ne.idp_name,idpId:null===(_e=u.data.user)||void 0===_e?void 0:_e.idp_id,externalId:null===(U=u.data.user)||void 0===U?void 0:U.external_id,preferredUserName:null===(re=u.data.user)||void 0===re?void 0:re.preferred_username,trackTechnicalData:null===(Pe=null===(pe=u.data.user)||void 0===pe?void 0:pe.consent)||void 0===Pe?void 0:Pe.trackTechnicalData,trackBehavioralData:null===(me=null===(Te=u.data.user)||void 0===Te?void 0:Te.consent)||void 0===me?void 0:me.trackBehavioralData}),this.bridgeService.executeCommand(G.Gh.Common.Nativeauth.syncSessionData,et).pipe((0,a.U)(Xe=>Xe?new $.z(this.idTokenRefreshUnderDuration,{clientToken:Xe.clientToken,accessToken:Xe.accessToken,idToken:Xe.idToken,clientTokenExpiry:Xe.clientTokenExpiry,accessTokenExpiry:Xe.accessTokenExpiry,idTokenExpiry:Xe.idTokenExpiry,user:{isAuthenticated:!0,sub:Xe.sub,idp_name:Xe.idpName,idp_id:Xe.idpId,external_id:Xe.externalId,preferred_username:Xe.preferredUserName,consent:{trackTechnicalData:Xe.trackTechnicalData,trackBehavioralData:Xe.trackBehavioralData}}}):null))}))}}return Z.\u0275fac=function(u){return new(u||Z)(B.LFG(S.TR),B.LFG(m.ed),B.LFG(m.dF),B.LFG(b.OA))},Z.\u0275prov=B.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();var J=e(79576);let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne,_e,U){this.loggingService=u,this.experienceControlService=k,this.sharedStorageService=W,this.gfnSdkService=N,this.starfleetService=H,this.router=h,this.appConfig=E,this.browserSupportService=ee,this.telemetryUtilService=R,this.idmTelemetryService=q,this.redirectService=ne,this.nativeAuthService=_e,this.uasService=U,this.isStreamer=!1,this._loginProvider=null,this.disableStarfleetUser=!1,this.notifyLogoutStartedSubject=new t.t(1),this.isSameTabLoginFeatureEnabled=!1,this.initSub=new t.t(1),this.accountStatusChanged$=new t.t(1),this.getAuthStatus=()=>this.starfleetService.getAuthStatus(),this.cancel=()=>this.starfleetService.cancel(),this.getDeviceDisplayCode=()=>this.starfleetService.getDeviceDisplayCode(),this.logger=u.getLogger("gfn/shared/idm/idmService"),this.starfleetEnabled=!1,this.idmProvider$=new t.t(1),this.isStreamer=(0,O.wI)(this.router.url),this.isSameTabLoginFeatureEnabled=this.appConfig.starfleet.sameTabLogin}get loginProvider(){return this._loginProvider}set loginProvider(u){this._loginProvider=u}initialize(u){this.disableStarfleetUser=null!=u&&u,this.updateIdmProvider(!0),this.accountStatusChanged.subscribe(k=>{m.ng.isAndroidPlatform()&&this.nativeAuthService.syncSessionData().pipe((0,p.zg)(W=>this.starfleetService.syncSession(W))).subscribe(W=>this.logger.info("sucess in native session sync"),W=>this.logger.error("error in native session sync",W)),this.setExperienceControlData(k)}),this.checkAndSilentLogin(),this.telemetryUtilService.saveTelmetrySessionIdOnLoginAndLogout(this.sameTabAuthStarted()),this.manageAccountStatusChanged()}setExperienceControlData(u){this.experienceControlService.setUserInfo(u);const k=this.appConfig.gxTarget.denyListExperiences||[];let W=Object.values(this.appConfig.gxTarget.experiences).filter(N=>!k.includes(N));!u.userId&&!(0,O.sv)()&&(W=W.filter(N=>this.appConfig.gxTarget.deviceIdActivatedExperiences.includes(N))),this.experienceControlService.setCvList(W),this.experienceControlService.refreshCloudVariables()}verifySsoSharedPageMessage(u){return u&&u.login_hint&&u.idp_id===this.appConfig.starfleet.jarvisIdpId}isSsoEnabled(){return!this.browserSupportService.isLocalDomain()&&this.appConfig.starfleet.ssoEnabled&&!this.disableStarfleetUser}checkAndSilentLogin(){if(!this.isSsoEnabled())return this.initSub.next(!0),void this.logger.info("SSO not applicable, unblocking login status broadcast");let u,k,W;this.silentLoginHelperClass=new m.ol(this.loggingService,this.appConfig.starfleet.ssoSharedPageUrl,this.appConfig.starfleet.maxWaitTimeIframeLoad),this.starfleetService.getAuthStatus().pipe((0,p.zg)(N=>N.authReturnState===S.fH.LogoutCompleted?this.silentLoginHelperClass.clearUserDetailsFromSharedPage:this.starfleetAccountStatusChangedWrapper()),(0,p.zg)(N=>null!=N&&N.isAuthenticated?this.silentLoginHelperClass.saveUserDetailsToSharedPage({login_hint:N.email,idp_id:N.idp_id,sub:N.sub,timestamp:(new Date).toISOString()}):(0,n.of)(null))).subscribe(N=>this.logger.info("getAuthStatus success"),N=>this.logger.info("getAuthStatus error:",N)),(0,x.T)(this.starfleetService.accountStatusChanged.pipe((0,P.P)(),(0,a.U)(N=>(u=N,u))),this.silentLoginHelperClass.getUserDetailsFromSharedPage.pipe((0,a.U)(N=>(k=null!=N?N:{idp_id:""},k))),this.starfleetService.getAuthStatus().pipe((0,a.U)(N=>N.authReturnState===S.fH.LogoutCompleted&&(W=!0,W)))).pipe((0,p.zg)(N=>u&&u.isAuthenticated?(this.logger.info("User is already logged in so silent login not required"),(0,n.of)(r.LoginSSONotApplicable)):W?(this.logger.info("Returning from Logout so skipping silent login"),(0,n.of)(r.LoginSSONotApplicable)):u&&!u.isAuthenticated&&k?this.verifySsoSharedPageMessage(k)?(this.logger.info("Silent login starting"),this.starfleetService.login({silentLoginInfo:{silentLoginHelperInstance:this.silentLoginHelperClass,ssoSharedPageData:k}}).pipe((0,o.Z)())):(this.logger.info("Silent login not possible due to login hints verification"),(0,n.of)(r.LoginSSONotApplicable)):(this.logger.info("Silent login processing ongoing"),(0,n.of)(r.LoginSSOProcessing))),(0,v.K)(N=>(this.logger.error("SSO checking failed with error ",N),(0,n.of)(r.LoginSSONotApplicable))),(0,y.b)(N=>{N!==r.LoginSSOProcessing&&(this.logger.info("Unblocking login status broadcast"),this.initSub.next(!0)),N===S.fH.LoginCompleted?this.idmTelemetryService.sendLoginSuccessUserSessionEvent(!0):N!==r.LoginSSOProcessing&&N!==r.LoginSSONotApplicable&&this.idmTelemetryService.sendLoginFailureUserSessionEvent(!0)}),(0,C.o)(N=>N===r.LoginSSOProcessing)).subscribe()}updateIdmProvider(u){this.starfleetEnabled=u;const k={data:"starfleet"};this.gfnSdkService.getAuthInfo().subscribe(W=>{let N=null;W.authType===i.Gr.IDM&&(N=W.authToken),this.starfleetService.initialize(!0,this.isStreamer,N),this.isStreamer&&this.starfleetService.getAuthToken().subscribe(),this.idmProvider$.next({starfleetEnabled:this.starfleetEnabled,service:this.starfleetService})}),k.data="starfleet",this.sharedStorageService.writeBlock("authProvider",k).subscribe(W=>this.logger.info("success updating authProvider: ",W),W=>this.logger.error("error in updating auth provider: ",W))}handleAccountStatusChanged(u,k=!1){return!0!==u.isAuthenticated?(this.logger.info("account status changed, user is logged out"),(0,n.of)(u)):this.getAuthToken(k).pipe((0,p.zg)(W=>null===W?(0,n.of)(T.z.NOT_LOGGED_IN):(this.logger.info("acquiring user at account status changed"),this.uasService.autoEntitleUser(W.token,k))),(0,p.zg)(W=>W===T.z.AUTHORIZATION_ERROR&&!1===k?(this.logger.warn("account-status-changed Auth Error retrying"),this.handleAccountStatusChanged(u,!0)):W===T.z.NOT_LOGGED_IN||W===T.z.UNKNOWN||W===T.z.AUTHORIZATION_ERROR?this.logout(void 0,void 0,void 0,!0).pipe((0,p.zg)(N=>M.C)):(0,n.of)(u)))}manageAccountStatusChanged(){let u=null;this.starfleetService.accountStatusChanged.pipe((0,p.zg)(k=>this.handleAccountStatusChanged(k)),(0,a.U)(k=>{k&&(u&&JSON.stringify(u)===JSON.stringify(k)||this.accountStatusChanged$.next(k),u=k)})).subscribe()}starfleetAccountStatusChangedWrapper(){return this.initSub.pipe((0,p.zg)(u=>this.accountStatusChanged$))}get accountStatusChanged(){return this.starfleetAccountStatusChangedWrapper().pipe((0,a.U)(u=>this.disableStarfleetUser?Y.KN:this.getUserFromStarfleet(u)))}getUserFromStarfleet(u){var k,W;return{userId:u.sub,externalId:u.external_id,idpId:u.idp_id,displayName:u.preferred_username,isAuthenticated:u.isAuthenticated,technicalConsent:null!==(k=u.consent)&&void 0!==k&&k.trackTechnicalData?m.p6.Full:m.p6.None,behavioralConsent:null!==(W=u.consent)&&void 0!==W&&W.trackBehavioralData?m.p6.Full:m.p6.None,email:u.email}}get isUserTokenAvailable(){return this.starfleetService.isUserLoggedIn}get isLoggedIn(){return this.starfleetService.isUserLoggedIn}get cachedUser(){return this.getCachedUserForStarfleet().pipe((0,a.U)(u=>{const k={data:{},expired:!0};return k.expired=u.expired,u.data&&(k.data=this.getUserFromStarfleet(u.data)),k}))}get cachedUserAndAffiliateStatus(){return(0,L.P)(()=>this.getCachedUserAndAffiliateStatusForStarfleet()).pipe((0,a.U)(u=>{const k={data:[],expired:!0};return k.expired=u.expired,u.data&&u.data.length&&(k.data.push(this.getUserFromStarfleet(u.data[0])),k.data.push(u.data[1])),k}))}getCachedUserAndAffiliateStatusForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,A.q)(1),(0,p.zg)(u=>u.isAuthenticated?this.readStoredStarfleetUserAndAffiliateStatus(u,!0):(0,n.of)({data:[u,null],expired:!0})))}getCachedUserForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,A.q)(1),(0,a.U)(u=>u.isAuthenticated?{data:u,expired:!1}:{data:void 0,expired:!0}))}get cachedAffiliateStatus(){return this.getCachedAffiliateStatusForStarfleet()}getCachedAffiliateStatusForStarfleet(){return this.starfleetAccountStatusChangedWrapper().pipe((0,A.q)(1),(0,p.zg)(u=>u.isAuthenticated?this.readStoredStarfleetUserAndAffiliateStatus(u,!1):(0,n.of)({data:void 0,expired:!0})))}readStoredStarfleetUserAndAffiliateStatus(u,k){return this.sharedStorageService.readBlock(`idm_${u.sub}`).pipe((0,a.U)(W=>k?{data:[u,W],expired:!1}:{data:W,expired:!1}))}setCachedAffiliateStatus(u,k){return this.setCachedAffiliateStatusForStarfleet(u,k)}setCachedAffiliateStatusForStarfleet(u,k){return this.sharedStorageService.writeBlock(`idm_${u||m.kQ}`,k)}getAuthToken(u,k){return this.starfleetService.getAuthToken(u,k).pipe((0,a.U)(W=>({token:W=this.disableStarfleetUser?null:W})))}setIdToken(u){return this.starfleetService.createNewSessionFromIdToken(u)}login(u,k,W,N,H,h){return this.uasService.onLoginInitiated(W).pipe((0,p.zg)(E=>(0,x.T)(this.starfleetService.login({force:u,idpId:k,preCreatedWindow:W,deviceName:N,returnLocationUrl:H,silentLoginInfo:h,redirect:E}).pipe((0,y.b)(ee=>{(ee===S.fH.LoginFailed||ee===S.fH.LoginFailedNoRetry)&&this.uasService.onLoginFailed(this.starfleetService.lastError.error_code)})),this.uasService.AutoEntitleState)))}generateLogoutURL(){return this.accountStatusChanged.pipe((0,A.q)(1),(0,p.zg)(u=>this.redirectService.getRedirectUrl(l.hE.GfnAccountManagementSSO,{idpId:u.idpId,Plt:l.PY.Browser})))}logout(u,k,W,N){this.isSameTabLoginFeatureEnabled&&this.notifyLogoutStartedSubject.next(!0);const H=this.isSameTabLoginFeatureEnabled&&!N?this.generateLogoutURL():(0,n.of)(k),h=(W||document.baseURI).split("?")[0];return H.pipe((0,p.zg)(E=>this.starfleetService.logout(u,E,h,N)))}refreshUser(){return this.starfleetService.refreshUser().pipe((0,a.U)(u=>this.getUserFromStarfleet(u)))}getUserServiceEndpoint(u){return this.getServiceEndpointViaStarfleet(u)}getClientData(u,k){return this.starfleetService.getClientData(u,k)}setClientData(u,k,W){return this.starfleetService.setClientData(u,k,W)}appendClientData(u,k,W){return this.starfleetService.appendClientData(u,k)}deleteClientData(u,k,W){return this.starfleetService.deleteClientData(u,k)}getServiceEndpointViaStarfleet(u){return this.starfleetAccountStatusChangedWrapper().pipe((0,a.U)(k=>{let W=u.gfnServiceEndpoints.find(N=>N.idpId===k.idp_id);if(!W||this.disableStarfleetUser){this.logger.info("Login provider not found with idp id, returning default provider");const N=u.defaultProvider;W=u.gfnServiceEndpoints.find(H=>H.loginProvider===N)}return{user:this.getUserFromStarfleet(k),serviceEndpoint:W}}))}get accountsUrl$(){return(0,n.of)("")}handleAuthError(u,k,W,...N){return this.starfleetService.handleAuthError(u,k,W,...N)}getLogoutInitializeNotification(){return this.isSameTabLoginFeatureEnabled?this.notifyLogoutStartedSubject.asObservable():M.C}sameTabAuthStarted(){return this.isSameTabLoginFeatureEnabled?this.starfleetService.sameTabAuthStarted():M.C}cancelLogin(u){return this.uasService.cancelAutoEntitlement(),this.isLoggedIn.pipe((0,p.zg)(k=>k?(this.logger.info("user was logged in, and cancelled during auto entitle"),(0,n.of)({authData:{},isLoggedIn:k})):this.starfleetService.cancelLogin(u).pipe((0,a.U)(W=>({authData:W,isLoggedIn:k})))),(0,p.zg)(k=>(this.logger.info("Cancelled error detected while user logging in",k.authData),!k.authData.error&&!this.appConfig.starfleet.useAuthorizationCodeFlow||k.isLoggedIn?this.logout(k.authData.access_token,null,null,!0).pipe((0,d.h)(k.authData)):(0,n.of)({}))))}}return Z.\u0275fac=function(u){return new(u||Z)(B.LFG(m.ed),B.LFG(K.Q6),B.LFG(b.OA),B.LFG(i.s),B.LFG(S.DO),B.LFG(f.F0),B.LFG(D.VK),B.LFG(I.OA),B.LFG(w.wU6),B.LFG(_.e),B.LFG(l.VH),B.LFG(F),B.LFG(J.K))},Z.\u0275prov=B.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},50906:(Ge,ae,e)=>{"use strict";e.d(ae,{dv:()=>x.dv,T6:()=>n,No:()=>M.N});var t=e(39609);let n=(()=>{class p{}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),p})();var x=e(70028),M=e(31331)},22281:(Ge,ae,e)=>{"use strict";e.d(ae,{oI:()=>a.oI,Mx:()=>a.Mx,uC:()=>v,vS:()=>a.vS});var t=e(53809),n=e(71265),x=e(39505),M=e(39654),L=e(85566),p=e(21361),P=e(64710),a=e(94511),o=e(39609);let v=(()=>{class y extends P.Il{constructor(A,d,m){const S=d.getLogger("IpcService");super(A,S),this.logger=S,this.defaultHandlerType=P.bi.Types.HandlerEventType.IpcEvent,this.registerNewHandler(P.bi.Types.HandlerEventType.IpcEvent,s=>!0,s=>(Object.values(a.oI).includes(s.type)||this.logger.error("Unrecognized IPC type: ",s.type),s.type),s=>s.content,s=>{const r=JSON.parse(s);return((0,L.isNil)(r)||(0,L.isNil)(r.type)||r.type!==a.oI.QueueEmpty&&(0,L.isNil)(r.content))&&this.logger.error("Improperly formed IPC message received: ",s),r}),m.get$(P.Nx.IpcNewMessage).subscribe(()=>this.checkIpcMessages(),s=>{this.logger.error("Error received from nativeEventService for IpcNewMessage event: ",s)})}pushMessage(A){if((0,L.isNil)(A))throw new Error("Must be a valid message");return this.bridgeService.executeCommand(p.Gh.Common.Ipc.Push,{message:A}).pipe((0,n.b)(d=>this.logger.info(d,A)))}checkIpcMessages(){this.bridgeService.executeCommand(p.Gh.Common.Ipc.Pop).pipe((0,x.jn)(A=>(null==A?void 0:A.type)===a.oI.QueueEmpty?t.E:(0,L.isNil)(null==A?void 0:A.type)?(this.logger.error("Invalid ipc message received: ",A),t.E):this.bridgeService.executeCommand(p.Gh.Common.Ipc.Pop)),(0,M.o)(A=>(null==A?void 0:A.type)!==a.oI.QueueEmpty)).subscribe(A=>{this.processMessage(JSON.stringify(A))})}}return y.\u0275fac=function(A){return new(A||y)(o.LFG(P.dF),o.LFG(P.ed),o.LFG(P.o1))},y.\u0275prov=o.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},94511:(Ge,ae,e)=>{"use strict";e.d(ae,{Mx:()=>x,oI:()=>n,vS:()=>M});var t=e(21361),n=(()=>{return(L=n||(n={})).SelfUpdate="IPC_SELF_UPDATE_EVENT",L.RecommendedUpdate="IPC_RECOMMENDED_UPDATE_EVENT",L.RequiredUpdate="IPC_REQUIRED_UPDATE_EVENT",L.CriticalUpdate="IPC_CRITICAL_UPDATE_EVENT",L.PushNotification="IPC_PUSH_NOTIFICATION",L.LoginStatusChanged="IPC_LOGIN_STATUS_CHANGED_EVENT",L.CollectClientLogs="IPC_COLLECT_LOGS",L.UpdateExperimentContext="IPC_UPDATE_EXPERIMENT_CONTEXT",L.ProgressUpdate="IPC_PROGRESS_UPDATE",L.QueueEmpty="IPC_QUEUE_EMPTY",L.UploadExceptionInfo="IPC_UPLOAD_EXCEPTION_INFO",n;var L})(),x=(()=>{return(L=x||(x={})).ExceptionOccurred="ExceptionOccurred",L.UserFeedBack="UserFeedback",L.LoginFailure="LoginFailure",x;var L})(),M=t.Yk.Common.Ipc.IpcTargets},93731:(Ge,ae,e)=>{"use strict";e.d(ae,{$3:()=>M,An:()=>t,Bw:()=>v,By:()=>o,Gp:()=>C,K$:()=>A,Lc:()=>a,YU:()=>x,ll:()=>y,mJ:()=>P,wh:()=>L});const t=1e4;var x=(()=>{return(d=x||(x={})).Marketing="MarketingItem",d.Game="GameItem",d.Filter="FilterItem",x;var d})(),M=(()=>{return(d=M||(M={})).SilentRefresh="SilentRefresh",d.LibraryRefresh="LibraryRefresh",d.PanelRefresh="PanelRefresh",d.OwnershipSync="OwnershipSync",M;var d})(),L=(()=>{return(d=L||(L={})).Marquee="MARQUEE",d.Main="MAIN",d.Library="LIBRARY",L;var d})();const P={id:"",name:L.Library,sections:[]},a={items:[]};var o=(()=>{return(d=o||(o={})).Feature="FEATURED",d.Wide="WIDE",d.MyLibrary="MY_LIBRARY",d.Generic="GENERIC",o;var d})(),v=(()=>{return(d=v||(v={})).UNKNOWN="UNKNOWN",d.MOUSE="MOUSE",d.MOUSE_KEYBOARD="MOUSE_KEYBOARD",d.X_INPUT_GAMEPAD="X_INPUT_GAMEPAD",d.DIRECT_INPUT_GAMEPAD="DIRECT_INPUT_GAMEPAD",d.JOYSTICK="JOYSTICK",d.WHEEL="WHEEL",d.TOUCHSCREEN="TOUCHSCREEN",d.WII_CONTROLLER="WII_CONTROLLER",d.KINECT_CONTROLLER="KINECT_CONTROLLER",d.KEYBOARD="KEYBOARD",d.X_INPUT_GAMEPAD_PARTIAL="X_INPUT_GAMEPAD_PARTIAL",d.DIRECT_INPUT_GAMEPAD_PARTIAL="DIRECT_INPUT_GAMEPAD_PARTIAL",d.GAMEPAD="GAMEPAD",d.GAMEPAD_PARTIAL="GAMEPAD_PARTIAL",d.DUALSENSE_GAMEPAD="DUALSENSE_GAMEPAD",d.DUALSHOCK4_GAMEPAD="DUALSHOCK4_GAMEPAD",v;var d})(),y=(()=>{return(d=y||(y={})).MyLibrary="MY_LIBRARY",d.RTX="RTX",d.DeviceSupport="DEVICE_SUPPORT",d.HDR="HDR",d.Reflex="Reflex",y;var d})();const C="CLIENT_UPSELL_MESSAGES";var A=(()=>{return(d=A||(A={})).AppsRefresh="AppsRefresh",d.PanelRefresh="PanelRefresh",d.CampaignsRefresh="CampaignsRefresh",d.TimerRefresh="TimerRefresh",A;var d})()},32268:(Ge,ae,e)=>{"use strict";e.d(ae,{a$:()=>nt,K$:()=>m.K$,mJ:()=>m.mJ,ll:()=>m.ll,Bw:()=>m.Bw,zc:()=>Pe,$3:()=>m.$3,wh:()=>m.wh,S7:()=>Te.S,By:()=>m.By,YU:()=>m.YU,Gp:()=>m.Gp});var t=e(96671),n=e(23815),x=e(47504),M=e(18388),L=e(74266),p=e(33932),P=e(12606),a=e(2629),o=e(89258),v=e(71265),y=e(51325),C=e(57693),A=e(69060),d=e(80155),m=e(93731),S=e(41827),s=e(85501),r=e(66195),l=e(80956),i=e(85566),O=e(23827);const z={StaticAppData:"query GetStaticAppData($locale: String!){\n  genreDefinitions(language: $locale){\n    genre\n    label\n  }\n  appStoreDefinitions(language: $locale){\n    store\n    label\n    keywords\n    sortOrder\n    smallImageUrl\n    features {\n      __typename\n      ... on AccountLinkingSso {\n        displayProposition\n        supported\n      }\n      ... on AccountGamesSyncing {\n        displayProposition\n        supported\n      }\n    }\n    accountLinkingMetadata {\n      supportedVariantIds\n      connectValueProposition\n      isSupported\n      isRequired\n      label,\n      linkedInfo\n    }\n  }\n  ratingDefinitions(language: $locale){\n    ratingSystem\n    label\n    displayInterval\n    contentDescriptors{\n      key\n      label\n      sortOrder\n    }\n    interactiveElements {\n      key\n      label\n      sortOrder\n    }\n    ratings {\n      categoryKey\n      description\n      label\n      minimumAge\n      largeImageUrl\n      smallImageUrl\n    }\n  }\n}",UserAccount:"{\n  userAccount {\n    storesData {\n      store\n      accountLinkingData {\n        userDisplayName\n        expiresIn\n        userIdentifier\n        accountSyncingData {\n          totalNumberOfSyncedGfnGames\n          syncState\n          syncDate\n        }\n      }\n    }\n  }\n}",Marquee:"query GetMarquee($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      type\n      title\n      items {\n        __typename\n        ...marketingFields\n        ...marqueeGameFields\n      }\n    }\n  }\n}\nfragment marketingFields on MarketingItem {\n  id\n  title\n  images {\n    MARQUEE_HERO_IMAGE\n    HERO_IMAGE\n  }\n  body\n  action {\n    uri\n    label\n    infoText\n  }\n}\nfragment marqueeGameFields on GameItem {\n  app {\n    id\n    title\n    type\n    supportedControls\n    maxLocalPlayers\n    publisherName\n    contentRatings {\n      categoryKey\n      contentDescriptorKeys\n      interactiveElementKeys\n      type\n    }\n    marqueeScrimPrimaryRGB {\n      r\n      g\n      b\n    }\n    images {\n      GAME_LOGO\n      MARQUEE_HERO_IMAGE\n      HERO_IMAGE\n    }\n    contentRatings {\n      type\n      categoryKey\n    }\n    itemMetadata {\n      campaignIds\n    }\n    variants {\n      id\n      appStore\n      shortName\n    }\n  }\n}",LibrarySection:"\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles\n      }    \n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n      HERO_IMAGE\n    }\n    title\n    itemMetadata {\n      campaignIds\n    }\n    supportedControls\n    maxLocalPlayers\n    variants {\n      id\n      appStore\n      publisherName\n      shortName\n      supportedControls\n      gfn {\n        isInLibrary\n        status\n      }\n    }\n  }\n}",LibrarySectionWithTime:"\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles\n      }    \n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n      KEY_ART\n      HERO_IMAGE\n    }\n    title\n    itemMetadata {\n      campaignIds\n    }\n    supportedControls\n    maxLocalPlayers\n    variants {\n      id\n      appStore\n      publisherName\n      shortName\n      supportedControls\n      gfn {\n        isInLibrary\n        status\n        timeAddedToLibrary\n      }\n      contentRatings {\n        categoryKey\n        type\n      }\n    }\n  }\n}",Main:"\nquery GetGameSection($vpcId: String!, $locale: String!, $panelNames: [String]!) {\n  panels(vpcId: $vpcId, language: $locale, names: $panelNames) {\n    id\n    name\n    sections {\n      id\n      telemetryName\n      type\n      title\n      seeMoreInfo {\n        filterTileId\n        title\n        filterIds\n        minTiles\n      }    \n      items {\n        __typename\n        ...filterFields\n        ...minimalGameFields\n      }\n    }\n  }\n}\n\nfragment filterFields on FilterItem {\n  id\n  title\n  image\n  filterIds\n}\n\nfragment minimalGameFields on GameItem {\n  app {\n    id\n    images {\n      TV_BANNER\n      HERO_IMAGE\n    }\n    title\n    itemMetadata {\n      campaignIds\n    }\n    supportedControls\n    maxLocalPlayers\n    variants {\n      id\n      appStore\n      publisherName\n      shortName\n      supportedControls\n      gfn {\n        isInLibrary\n        status\n      }\n    }\n  }\n}",Campaigns:"query GetCampaignsInfo($locale: String!, $vpcId: String!) {\n  campaigns(vpcId: $vpcId, language: $locale) {\n    items {\n      action {\n        label\n        url\n      }\n      id\n      images {\n        GAME_BOX_ART\n        GAME_LOGO\n        TV_BANNER\n        HERO_IMAGE\n        MARQUEE_HERO_IMAGE\n      }\n      promoText {\n        summary\n        tag\n      }\n      marqueeScrimPrimaryRGB {\n        r\n        g\n        b\n      }\n      schedule {\n        endTime\n        startTime\n      }\n    }\n  }\n}",FilterGroupDefinitions:"query GetFilterGroupDefinitions($locale: String!) {\n  filterGroupDefinitions(language: $locale) {\n    id\n    label\n    filters {\n      id\n      label\n      filters\n    }\n  }\n}",AppsWithSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $searchString: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    searchQuery: $searchString,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n        gfn {\n          isInLibrary\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",AppsWithoutSearch:"query GetSearchFilterResults(\n  $vpcId: String!,\n  $locale: String!,\n  $sortString: String!,\n  $fetchCount: Int!,\n  $cursor: String!,\n  $filters: AppFilterFields!) {\n  apps(\n    vpcId: $vpcId,\n    language: $locale,\n    orderBy: $sortString,\n    first: $fetchCount,\n    after: $cursor,\n    filters: $filters\n    ){\n    numberReturned\n    numberSupported\n    pageInfo {\n      hasNextPage\n      endCursor\n      totalCount\n    }\n    items {\n      id\n      title\n      images {\n        TV_BANNER\n      }\n      variants {\n        id\n        appStore\n        supportedControls\n        gfn {\n          isInLibrary\n        }\n      }\n      itemMetadata {\n        campaignIds\n      }\n    }\n  }\n}",UpsellMessages:"query GetUpsellMessages($locale: String!, $upsellMessageKey: [String]!) {\n  clientStrings(language: $locale, keys: $upsellMessageKey)\n}",AppDataForAppId:"query GetAppDataQueryForAppId($vpcId: String!, $locale: String!, $appIds: [String]!) {\n  apps(vpcId: $vpcId, language: $locale, appIds: $appIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      computedValues {\n        earliestStreetDate\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        gfn {\n          releaseDate\n          status\n          features {\n              ...feature\n          }\n        }\n      }\n    }\n  }\n}\nfragment feature on GfnSubscriptionFeature {\n  __typename\n  ... on GfnSubscriptionFeatureValue {\n    key\n    value\n  }\n  ... on GfnSubscriptionFeatureValueList {\n    key\n    values\n  }\n}\n",AppDataForCmsId:"query GetAppDataQueryForCmsId($vpcId: String!, $locale: String!, $cmsIds: [Int]!) {\n  apps(vpcId: $vpcId, language: $locale, variantIds: $cmsIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      computedValues {\n        earliestStreetDate\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n        gfn {\n          releaseDate\n          status\n          features {\n              ...feature\n          }\n        }\n      }\n    }\n  }\n}\nfragment feature on GfnSubscriptionFeature {\n  __typename\n  ... on GfnSubscriptionFeatureValue {\n    key\n    value\n  }\n  ... on GfnSubscriptionFeatureValueList {\n    key\n    values\n  }\n}\n",AppDataForCmsIdWithoutVpcId:"query GetAppDataQueryForCmsIdWithoutVpcId($locale: String!, $cmsIds: [Int]!) {\n  apps(language: $locale, variantIds: $cmsIds) {\n    items {\n      appStore\n      contentRatings {\n        categoryKey\n        contentDescriptorKeys\n        interactiveElementKeys\n        type\n      }\n      developerName\n      displaysOwnRatingDuringGameplay\n      id\n      genres\n      images {\n        GAME_BOX_ART\n        HERO_IMAGE\n        SCREENSHOTS\n        TV_BANNER\n        KEY_ART\n      }\n      nvidiaTech {\n        ANSEL\n        FREESTYLE\n        HIGHLIGHTS\n      }\n      title\n      longDescription\n      maxLocalPlayers\n      maxOnlinePlayers\n      supportedControls\n      publisherName\n      computedValues {\n        earliestStreetDate\n      }\n      itemMetadata {\n        campaignIds\n      }\n      variants {\n        streetDate\n        appStore\n        id\n        shortName\n        supportedControls\n        storeUrl\n        publisherName\n        developerName\n      }\n    }\n  }\n}"},Z={StaticAppData:"e213e3f549e4d31e393da817ca8afa867b5b35c82fd86575965884e786d031de",UserAccount:"c0d32eea714da66ceaaea8a894fdf26a503270c87b5494897f0579c390e3d479",Marquee:"b8a9425e651c8bcce4cf8f6301af7e421e2087abea5251b165df8b00af092e9b",LibrarySection:"f813a5f755ffee4dcd1eba4bdbab706566695f50b11b5a56d5d6e4abc39c50aa",LibrarySectionWithTime:"a9074e048e30e9cefc2a51cb496534df86999e67474f51daff36d2778675ad73",Main:"f813a5f755ffee4dcd1eba4bdbab706566695f50b11b5a56d5d6e4abc39c50aa",Campaigns:"c75162f669ceb2b5d0ce5062474fd65b471a8a13085cbbb885ac1fe6fbbfbf8d",FilterGroupDefinitions:"756049f79d3f1738c8facc295a70c84275a6ada5551eed43693e520314900131",AppsWithSearch:"52486546907cd5a4951c220b3aefc15acf844e4750f4b1b5108130232899e88d",AppsWithoutSearch:"be5204246c3b9e487b23a2906c31df1e10b68e2ff5451ecd0364a4dac77a2499",UpsellMessages:"f367fe9d438dd1da67e8e9a9055f7219c258ee10bf6f6f48e539f6d5d3fd0120",AppDataForAppId:"c3465404550d3b55226a44724a0db9e7187de0e27e7f070daa8f895d3582140d",AppDataForCmsId:"c2dca801eaf1176d37e25164126606706df613672d38449ff7d639d59cb90d73",AppDataForCmsIdWithoutVpcId:"cd062412655da0be6345db8a6772370a390e3a8d7ccdde2bfd61270d18b2aaa9"};var ue=(()=>{return(Me=ue||(ue={})).StaticAppData="StaticAppData",Me.UserAccount="UserAccount",Me.Marquee="Marquee",Me.LibrarySection="LibrarySection",Me.LibrarySectionWithTime="LibrarySectionWithTime",Me.Main="Main",Me.Campaigns="Campaigns",Me.FilterGroupDefinitions="FilterGroupDefinitions",Me.AppsWithSearch="AppsWithSearch",Me.AppsWithoutSearch="AppsWithoutSearch",Me.UpsellMessages="UpsellMessages",Me.AppDataForAppId="AppDataForAppId",Me.AppDataForCmsId="AppDataForCmsId",Me.AppDataForCmsIdWithoutVpcId="AppDataForCmsIdWithoutVpcId",ue;var Me})(),u=(()=>{return(Me=u||(u={})).AppMetadata="appMetaData",Me.StaticAppData="staticAppData",Me.PanelsMain="panels/MainV2",Me.PanelsMarquee="panels/Marquee",Me.PanelsLibrary="panels/Library",Me.UserAccount="userAccount",Me.ClientStrings="clientStrings",Me.Campaigns="campaigns",Me.Apps="apps",Me.FilterGroupDefinitions="filterGroupDefinitions",u;var Me})();const k={[ue.StaticAppData]:{query:z[ue.StaticAppData],cacheKey:u.StaticAppData,serviceUseCase:O.f$p.Other,isUserSpecificQuery:!1,sha256hash:Z[ue.StaticAppData]},[ue.UserAccount]:{query:z[ue.UserAccount],cacheKey:u.UserAccount,serviceUseCase:O.f$p.GetUserAccount,isUserSpecificQuery:!0,sha256hash:Z[ue.UserAccount]},[ue.Marquee]:{query:z[ue.Marquee],cacheKey:u.PanelsMarquee,serviceUseCase:O.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:Z[ue.Marquee]},[ue.LibrarySectionWithTime]:{query:z[ue.LibrarySectionWithTime],cacheKey:u.PanelsLibrary,serviceUseCase:O.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:Z[ue.LibrarySectionWithTime]},[ue.LibrarySection]:{query:z[ue.LibrarySection],cacheKey:u.PanelsLibrary,serviceUseCase:O.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:Z[ue.LibrarySection]},[ue.Main]:{query:z[ue.Main],cacheKey:u.PanelsMain,serviceUseCase:O.f$p.GetPanel,isUserSpecificQuery:!0,sha256hash:Z[ue.Main]},[ue.Campaigns]:{query:z[ue.Campaigns],cacheKey:u.Campaigns,serviceUseCase:O.f$p.GetCampaigns,isUserSpecificQuery:!0,sha256hash:Z[ue.Campaigns]},[ue.AppsWithSearch]:{query:z[ue.AppsWithSearch],cacheKey:u.Apps,serviceUseCase:O.f$p.GetApps,isUserSpecificQuery:!0,sha256hash:Z[ue.AppsWithSearch]},[ue.AppsWithoutSearch]:{query:z[ue.AppsWithoutSearch],cacheKey:u.Apps,serviceUseCase:O.f$p.GetApps,isUserSpecificQuery:!0,sha256hash:Z[ue.AppsWithoutSearch]},[ue.FilterGroupDefinitions]:{query:z[ue.FilterGroupDefinitions],cacheKey:u.FilterGroupDefinitions,serviceUseCase:O.f$p.GetFilterGroupDefinitions,isUserSpecificQuery:!0,sha256hash:Z[ue.FilterGroupDefinitions]},[ue.AppDataForAppId]:{query:z[ue.AppDataForAppId],cacheKey:u.AppMetadata,serviceUseCase:O.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:Z[ue.AppDataForAppId]},[ue.AppDataForCmsId]:{query:z[ue.AppDataForCmsId],cacheKey:u.AppMetadata,serviceUseCase:O.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:Z[ue.AppDataForCmsId]},[ue.AppDataForCmsIdWithoutVpcId]:{query:z[ue.AppDataForCmsIdWithoutVpcId],cacheKey:u.AppMetadata,serviceUseCase:O.f$p.GetAppData,isUserSpecificQuery:!0,sha256hash:Z[ue.AppDataForCmsIdWithoutVpcId]},[ue.UpsellMessages]:{query:z[ue.UpsellMessages],cacheKey:u.ClientStrings,serviceUseCase:O.f$p.Other,isUserSpecificQuery:!0,sha256hash:Z[ue.UpsellMessages]}};function W(Me){return k[Me]}var N=e(39609),H=e(64710),h=e(85948),E=e(62024),ee=e(94518),R=e(83024),q=e(39382),ne=e(50906);let _e=(()=>{class Me{constructor(le,Le,Re,Q,ve,be){this.appConfig=le,this.endpointFactory=Le,this.distributedtracingUtilService=Re,this.idmService=Q,this.clientHeaderService=be,this.cascadePreviewToken=null,this.lastFetchedStaticAppDataTime=null,this.lastFetchedStaticAppData$=null,this.nvPreviewTime=null,this.logger=ve.getLogger("LcarsSdkService");const{defaultRetries:xe,defaultTimeBetweenRetries:ke,defaultTimeout:Ce,retryOnTimeout:ge,exponentialBackoffMaxDelay:De}=le.lcars;this.queryDataEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:xe,timeout:Ce,timeBetweenRetries:ke,retryOnTimeout:ge,exponentialBackoffMaxDelay:De}}),this.firstFetchSet=new Set,this.setCascadePreviewData()}setCascadePreviewData(){this.cascadePreviewToken=(0,E.cj)(E.S8.CascadePreviewToken),this.cascadePreviewToken?(this.logger.info(`Got cascadePreviewToken: ${this.cascadePreviewToken}`),this.nvPreviewTime=(0,E.cj)(E.S8.PreviewAtTime),this.logger.info(this.nvPreviewTime?`Got previewAtTime: ${this.nvPreviewTime}`:"No previewAtTime in query params")):this.logger.info("No cascadePreviewToken in query params")}createHeader(le,Le,Re,Q){const ve=Object.assign({},Le);return ve["Content-Type"]="application/graphql",this.firstFetchSet.has(le)||Q?ve[s.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(le),null!=Re&&Re.token&&(ve[h.n0.authorization]=`GFNJWT ${Re.token}`),this.appConfig.lcars.cascadeHeaderValue&&(ve["NV-Cascade-Content"]=this.appConfig.lcars.cascadeHeaderValue),this.appConfig.lcars.stageHeaderValue&&(ve["NV-Env"]=this.appConfig.lcars.stageHeaderValue),this.cascadePreviewToken&&(ve["cache-control"]="no-cache",ve[s.Fk.SwCacheBypass]=JSON.stringify(!1),ve["NV-Additional"]=this.cascadePreviewToken,this.nvPreviewTime&&(ve["NV-Preview-Time"]=this.nvPreviewTime)),ve}fetchQueryData(le,Le,Re,Q,ve){return(0,x.aj)([this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}),this.idmService.accountStatusChanged.pipe((0,a.q)(1))]).pipe((0,p.zg)(([be,xe])=>{const ke=W(le),Ce=ke.cacheKey;xe.isAuthenticated&&ke.isUserSpecificQuery&&xe.userId!==this.lastHashedUserId&&(this.userIdHash=(0,ee.sha1)(xe.userId),this.lastHashedUserId=xe.userId);const ge=Object.assign(Ce?{requestType:Ce}:null,{extensions:JSON.stringify({persistedQuery:{sha256Hash:ke.sha256hash}})},xe.isAuthenticated?{huId:this.userIdHash}:null,{variables:Le?JSON.stringify(Le):null}),De={headers:this.createHeader(Ce,be,Q,ve),reportRequestData:{originalService:O.v6v.Lcars,serviceUseCase:ke.serviceUseCase,reportSuccessTelemetry:"true"},params:ge,includeRequestId:!0};return this.handleRequest(xe.isAuthenticated&&Ce!==u.AppMetadata||xe.isAuthenticated&&Ce===u.AppMetadata&&Q?this.appConfig.lcars.serverUrl:this.appConfig.lcars.serverUrlCDN,De,ke.query,Re)}))}handleRequest(le,Le,Re,Q){const ve=this.queryDataEndpoint.get((0,d.D5)([le]),Le);return this.distributedtracingUtilService.handleHttpEndpointSpan(ve,Le,A.j1.LcarsFetchQueryData,Q).pipe((0,y.K)(be=>{var xe;if(400!==(null==be?void 0:be.status)||null!==(xe=null==Le?void 0:Le.params)&&void 0!==xe&&xe.query)return(0,M._)(be);{const ke=Object.assign({},Le);ke.params.query=Re;const Ce=this.queryDataEndpoint.get((0,d.D5)([le]),ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ce,ke,A.j1.LcarsFetchQueryData,Q)}}))}fetchStaticDataQuery(le,Le){const Re=Date.now();if(Re-this.lastFetchedStaticAppDataTime>m.An){this.lastFetchedStaticAppDataTime=Re;const ve=W(ue.StaticAppData),be=Object.assign({requestType:ve.cacheKey},{variables:JSON.stringify(le),extensions:JSON.stringify({persistedQuery:{sha256Hash:ve.sha256hash}})});this.lastFetchedStaticAppData$=this.clientHeaderService.getCommonHeaders().pipe((0,p.zg)(xe=>{const ke={headers:this.createHeader(ve.cacheKey,xe),reportRequestData:{originalService:O.v6v.Lcars,reportSuccessTelemetry:"true"},params:be,includeRequestId:!0,includeFullResponse:!0};return this.handleRequest(this.appConfig.lcars.serverUrlCDN,ke,ve.query,Le)}),(0,C.d)(1))}return this.lastFetchedStaticAppData$}}return Me.\u0275fac=function(le){return new(le||Me)(N.LFG(q.VK),N.LFG(h.V9),N.LFG(A.Dc),N.LFG(ne.No),N.LFG(H.ed),N.LFG(R.x5))},Me.\u0275prov=N.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();var U=e(36540),re=e(27897),pe=e(5193);let Pe=(()=>{class Me{constructor(le,Le,Re,Q,ve,be,xe,ke,Ce,ge,De,ye,Oe,ie){this.lcarsSdk=Re,this.localeService=Q,this.idmService=ve,this.gridService=be,this.systemInfoService=xe,this.ecommerceService=ke,this.serviceWorkerService=Ce,this.distributedTracingUtilService=ge,this.gfnSdkService=De,this.refreshUiService=ye,this.config=Oe,this.guestModeHelperService=ie,this.layoutDataUpdated$=new t.xQ,this.userAccountInfoUpdated$=new t.xQ,this.gameMetaDataMap=new Map,this.staticAppDataCurrentEtag=null,this.getAppDataQuery=(qe,lt)=>qe?lt?ue.AppDataForCmsId:ue.AppDataForCmsIdWithoutVpcId:ue.AppDataForAppId,this.logger=le.getLogger("LcarsService"),this.fetchStaticDataInfoStream=Le.createStream(()=>this.fetchStaticAppDataInfo()),this.AppMetadataStreams=new d.eQ(qe=>this.fetchAppdata(qe)),this.userAccountDataStream=Le.createStream(()=>this.fetchUserAccountInfo()),this.fetchClientUpsellMessageStream=Le.createStream(()=>this.fetchUpsellMessages()),this.campaignsInfoStream=Le.createStream(()=>this.fetchCampaignsInfo()),this.filterGroupDefinitionsStream=Le.createStream(()=>this.fetchFilterGroupDefinitions()),this.initalize(),this.initServiceWorkerNotifications()}initalize(){this.getVpcIdLocaleOsPlatform().subscribe(()=>{},le=>{this.logger.error("Could not fetch vpcId",le)}),this.idmService.accountStatusChanged.subscribe(le=>{!1===this.isUserLoggedIn&&le.isAuthenticated&&(this.refreshAppMetaData=!0,this.refreshClientStrings=!0),void 0!==this.refreshCampaignsInfo&&(this.refreshCampaignsInfo=!0),void 0!==this.refreshFilterGroupDefinitions&&(this.refreshFilterGroupDefinitions=!0),this.isUserLoggedIn=le.isAuthenticated})}initServiceWorkerNotifications(){const le=s.No.staleWhileRevalidate.lcarsStatic.cacheName,Le=s.No.staleWhileRevalidate.lcars.cacheName,Re=s.No.staleWhileRevalidate.lcarsUserAccount.cacheName,Q=s.No.staleWhileRevalidate.lcarsClientStrings.cacheName,ve=[Le,le,Re,Q];this.serviceWorkerService.swCacheUpdated.pipe((0,L.h)(be=>ve.includes(be.name))).subscribe(be=>{var xe,ke,Ce;switch(be.name){case le:this.logger.info("Received updated data SW notification for static app data");const ge=null===(xe=be.data)||void 0===xe?void 0:xe.data;ge&&this.fetchStaticDataInfoStream.setData(ge,!0);break;case Le:this.logger.info("Received updated data SW notification for panels");const De=null===(ke=be.data)||void 0===ke?void 0:ke.data;this.logPanelsData(De.panels),De&&this.layoutDataUpdated$.next(De);break;case Re:this.logger.info("Received updated data SW notification for user account data");const ye=null===(Ce=be.data)||void 0===Ce?void 0:Ce.data;ye&&(this.userAccountDataStream.setData(ye,!1),this.userAccountInfoUpdated$.next(ye));break;case Q:this.logger.info("Received updated data SW notification for client string");const Oe=this.processUpsellMessageResponse(be.data);Oe&&this.fetchClientUpsellMessageStream.setData(Oe,!0)}})}get onUserAccountInfoUpdated$(){return this.userAccountInfoUpdated$.asObservable()}get onLayoutDataUpdated$(){return this.layoutDataUpdated$.asObservable()}getLocaleOsPlatform(){if(this.locale&&this.osPlatformName)return(0,n.of)([this.locale,this.osPlatformName]);{const le=this.localeService.localeChanged,Le=this.systemInfoService.getOsInformation();return(0,x.aj)([le,Le]).pipe((0,p.zg)(([Re,Q])=>(this.locale=Re,this.osPlatformName=Q.Platform,(0,n.of)([this.locale,this.osPlatformName]))))}}getVpcIdLocaleOsPlatform(){if(this.vpcId&&this.locale&&this.osPlatformName)return(0,n.of)([this.vpcId,this.locale,this.osPlatformName]);{const le=this.gridService.vpcId$.pipe((0,P.x)());return(0,x.aj)([le,this.getLocaleOsPlatform()]).pipe((0,p.zg)(([Le,Re])=>(this.vpcId=Le,(0,n.of)([this.vpcId,...Re]))))}}getVpcIdLocaleOsPlatformStatusandToken(le=!1,Le){const Re=this.idmService.getAuthToken(le,Le);return(0,x.aj)([Re,this.getVpcIdLocaleOsPlatform()]).pipe((0,a.q)(1),(0,o.U)(([Q,ve])=>[Q||null,...ve]))}fetchAppdata(le,Le=!1){const Re=JSON.parse(le),Q=this.getAppDataOptions;if(!Re)return(0,M._)("Error while reading gameId");const ve=this.distributedTracingUtilService.startSpan(A.j1.ClientGetAppMetadata,Q.parentSpan),be={authToken:null,vpcId:null,locale:null,osPlatformName:null},xe=this.gfnSdkService.getAuthType().pipe((0,o.U)(Ce=>Ce!==r.Gr.JWT));return(0,x.aj)([this.getVpcIdLocaleOsPlatformStatusandToken(Le,ve),xe]).pipe((0,v.b)(([[Ce,ge,De,ye],Oe])=>{be.authToken=Ce,be.vpcId=ge,be.locale=De,be.osPlatformName=ye,null!=Q&&Q.isCmsId&&Oe&&Ce&&Ce.token?Q.useVpcIdWithCmsId=!0:null!=Q&&Q.isCmsId&&(be.authToken=null)})).pipe((0,p.zg)(Ce=>{let ge;const De={locale:this.locale};if(Q.isCmsId){ge=this.getAppDataQuery(!0,null==Q?void 0:Q.useVpcIdWithCmsId);let ye=[];(0,i.isArray)(Re)?ye=null==Re?void 0:Re.map(Oe=>parseInt(Oe,10)):"string"==typeof Re?ye=[parseInt(Re,10)]:"number"==typeof Re&&(ye=[Re]),De.cmsIds=ye,null!=Q&&Q.useVpcIdWithCmsId&&(De.vpcId=this.vpcId)}else ge=this.getAppDataQuery(!1,!0),De.appIds=[Re],De.vpcId=this.vpcId;return this.setSpanTags(ve,void 0,this.vpcId,this.locale,this.isUserLoggedIn),(0,x.aj)([this.getStaticAppData().pipe((0,a.q)(1),(0,y.K)(()=>(0,n.of)(null))),this.lcarsSdk.fetchQueryData(ge,De,ve,be.authToken)]).pipe((0,p.zg)(([ye,Oe])=>(ye||this.logger.info("Using default appstore info values for static app data"),0===Oe.data.apps.items.length&&this.guestModeHelperService.isGuestMode?(this.logger.info("Appdata is empty for GDN flow, using default metadata"),(0,n.of)(this.guestModeHelperService.fetchDefaultGDNMetaData(Re))):(Oe.data.apps.items.forEach(ie=>{S.vA.sortVariants(ie.variants),ie.variants.forEach(qe=>{qe.appStoreInfo=S.vA.getStoreInfoForAppstore(qe.appStore)})}),this.refreshAppMetaData=this.refreshAppMetaData?!this.isUserLoggedIn:this.refreshAppMetaData,(0,n.of)(Oe.data.apps.items)))),(0,v.b)(()=>this.endSpan(ve,!1)),(0,y.K)(ye=>this.idmService.handleAuthError(ye,Le,this.fetchAppdata.bind(this),Re)),(0,y.K)(ye=>(this.endSpan(ve,!0),ye.status>=300&&this.guestModeHelperService.isGuestMode?(this.logger.info("Appdata fetch fails for GDN, using default metadata"),(0,n.of)(this.guestModeHelperService.fetchDefaultGDNMetaData(Re))):(0,M._)(ye))))}))}getAppdata(le,Le={},Re=!1){return this.getAppDataOptions=Le,this.refreshAppMetaData||Re?this.fetchAppdata(JSON.stringify(le)).pipe((0,v.b)(Q=>this.AppMetadataStreams.setData(JSON.stringify(le),Q))):this.AppMetadataStreams.get$(JSON.stringify(le))}getPanelQuery(le){var Le;switch(le.panelName){case m.wh.Marquee:return ue.Marquee;case m.wh.Main:return ue.Main;case m.wh.Library:return null!==(Le=null==le?void 0:le.fetch)&&void 0!==Le&&Le.library?ue.LibrarySectionWithTime:ue.LibrarySection}}getPanel(le,Le,Re=!1){const Q=le.currentSpan?le.currentSpan:this.distributedTracingUtilService.startSpan(A.j1.ClientGetPanel,le.parentSpan);return this.getVpcIdLocaleOsPlatformStatusandToken(Re,Q).pipe((0,p.zg)(([ve,be,xe,ke])=>{var Ce,ge;const De={default:null===(Ce=this.config.lcars)||void 0===Ce?void 0:Ce.panelFetch.default,library:Le===m.wh.Library?null===(ge=this.config.lcars)||void 0===ge?void 0:ge.panelFetch.library:void 0},ye={vpcId:be,locale:xe,panelName:Le,fetch:De};this.logger.info(`Fetching fresh panel ${Le} for trigger ${null==le?void 0:le.triggerName} with ${be}`),this.setSpanTags(Q,le.triggerName,be,xe,this.isUserLoggedIn),this.distributedTracingUtilService.setSpanAttribute(Q,A.NI.PanelType,Le);const Oe=this.getPanelQuery(ye);return this.lcarsSdk.fetchQueryData(Oe,{vpcId:be,locale:xe,panelNames:[Le]},Q,ve,le.bypassSwCache).pipe((0,p.zg)(qe=>{var lt;return this.logPanelsData(null===(lt=null==qe?void 0:qe.data)||void 0===lt?void 0:lt.panels),(0,n.of)(qe.data.panels)}),(0,v.b)(qe=>this.endSpan(Q,!1)))}),(0,y.K)(ve=>this.idmService.handleAuthError(ve,Re,this.getPanel.bind(this),Object.assign({},le,{currentSpan:Q}))),(0,y.K)(ve=>(this.endSpan(Q,!0),(0,M._)(ve))))}logPanelsData(le){null==le||le.forEach(Le=>{var Re;this.logger.info(`Found Panel ${null==Le?void 0:Le.name}`),null===(Re=null==Le?void 0:Le.sections)||void 0===Re||Re.forEach(Q=>{this.logger.info(`Found section ${null==Q?void 0:Q.telemetryName}`)})})}getSearchFilterResults(le,Le,Re,Q,ve,be,xe=!1){return this.getVpcIdLocaleOsPlatformStatusandToken(xe).pipe((0,p.zg)(([ke,Ce,ge,De])=>{const ye=(null==Le?void 0:Le.length)>0,Oe={vpcId:Ce,locale:ge,filters:Re,sortString:le,fetchCount:ve,cursor:Q||""};return ye&&(Oe.searchString=Le),this.lcarsSdk.fetchQueryData(ye?ue.AppsWithSearch:ue.AppsWithoutSearch,Oe,be,ke,!0)}),(0,y.K)(ke=>this.idmService.handleAuthError(ke,xe,this.getSearchFilterResults.bind(this),le,Le,Re,Q,ve,be)))}fetchStaticAppDataInfo(){return this.guestModeHelperService.isGuestAppFlow()?(0,n.of)(void 0):this.getLocaleOsPlatform().pipe((0,p.zg)(([le,Le])=>this.lcarsSdk.fetchStaticDataQuery({locale:le}).pipe((0,o.U)(Q=>(this.staticAppDataCurrentEtag=Q.headers.get(s.Fk.ETag),Q.body.data)))))}ensureLatestStaticAppData$(){return this.getLocaleOsPlatform().pipe((0,a.q)(1),(0,p.zg)(([le,Le])=>this.lcarsSdk.fetchStaticDataQuery({locale:le}).pipe((0,o.U)(Q=>{var ve,be;const xe=Q.headers.get(s.Fk.ETag);return!(!xe||xe===this.staticAppDataCurrentEtag||(this.logger.info("New StaticAppData recevived and updated"),S.vA.setGenreDefinitions(null===(ve=Q.body.data)||void 0===ve?void 0:ve.genreDefinitions),S.vA.setAppStoresDefinitions(null===(be=Q.body.data)||void 0===be?void 0:be.appStoreDefinitions),this.fetchStaticDataInfoStream.setData(Q.body.data,!0),this.staticAppDataCurrentEtag=Q.headers.get(s.Fk.ETag),0))}),(0,y.K)(Q=>(this.logger.error("Error while fetching static app data",Q),(0,n.of)(!1))))))}getStaticAppData(){return this.fetchStaticDataInfoStream.get$().pipe((0,o.U)(le=>(S.vA.setGenreDefinitions(null==le?void 0:le.genreDefinitions),S.vA.setAppStoresDefinitions(null==le?void 0:le.appStoreDefinitions),le)))}setSpanTags(le,Le,Re,Q,ve){const be={};Le&&(be[A.NI.Trigger]=Le),be[A.NI.VpcId]=Re,be[A.NI.Locale]=Q,be[A.NI.LoginStatus]=ve,this.distributedTracingUtilService.setSpanAttributes(le,be)}endSpan(le,Le){le&&(this.distributedTracingUtilService.setSpanAttribute(le,A.NI.Error,Le),this.distributedTracingUtilService.closeSpan(le))}setMetadataForCmsId(le,Le){this.gameMetaDataMap.set(le.toString(),Le)}getMetadataByCmsId(le){const Le=le.toString();return this.gameMetaDataMap.has(Le)?(0,n.of)(this.gameMetaDataMap.get(Le)):this.getAppdata(Le,{isCmsId:!0}).pipe((0,o.U)(Re=>Re[0]))}isFeatureSupportedOnVariant(le,Le){var Re;const Q=null===(Re=null==le?void 0:le.gfn)||void 0===Re?void 0:Re.features;return Q&&Array.isArray(Q)?Q.some(ve=>"true"===ve.value&&ve.key===Le):"true"===(null==Q?void 0:Q.value)&&(null==Q?void 0:Q.key)===Le}getLatestUserAccountInfo(){return this.userAccountDataStream.refresh()}fetchUserAccountInfo(le=!1){const Le=this.distributedTracingUtilService.startSpan(A.j1.UserAccountData);return this.idmService.getAuthToken(le,Le).pipe((0,p.zg)(Re=>this.lcarsSdk.fetchQueryData(ue.UserAccount,void 0,Le,Re)),(0,o.U)(Re=>(this.refreshUiService.setContentExpiryInfo(l.Gx.LinkedAccountChanged),this.endSpan(Le,!1),Re.data)),(0,y.K)(Re=>this.idmService.handleAuthError(Re,le,this.fetchUserAccountInfo.bind(this))),(0,y.K)(Re=>(this.endSpan(Le,!0),(0,M._)(Re))))}getUpsellMessages(){return this.refreshClientStrings?this.fetchUpsellMessages().pipe((0,v.b)(le=>this.fetchClientUpsellMessageStream.setData(le,!0))):this.fetchClientUpsellMessageStream.get$()}fetchUpsellMessages(le=!1){const Le=[m.Gp],Re=this.distributedTracingUtilService.startSpan(A.j1.UpsellMessages),Q=this.localeService.localeChanged,ve=this.idmService.getAuthToken(le,Re);return(0,x.aj)([ve,Q]).pipe((0,C.d)(1),(0,p.zg)(([be,xe])=>null===be.token?(0,n.of)({}):this.lcarsSdk.fetchQueryData(ue.UpsellMessages,{locale:xe,upsellMessageKey:Le},Re,be)),(0,o.U)(be=>(this.endSpan(Re,!1),this.refreshClientStrings=!1,this.processUpsellMessageResponse(be))),(0,y.K)(be=>this.idmService.handleAuthError(be,le,this.fetchUpsellMessages.bind(this))),(0,y.K)(be=>(this.endSpan(Re,!0),(0,M._)(be))))}processUpsellMessageResponse(le){var Le,Re;return null!==(Le=null==le?void 0:le.data)&&void 0!==Le&&Le.clientStrings?null===(Re=null==le?void 0:le.data)||void 0===Re?void 0:Re.clientStrings[m.Gp]:{}}fetchCampaignsInfo(le=!1){if(!this.config.promoUI.isEnabled)return this.logger.info("promo UI feature is disabled"),(0,n.of)(m.Lc);const Le=this.distributedTracingUtilService.startSpan(A.j1.CampaignsInfo),Re=this.idmService.getAuthToken(le,Le);return(0,x.aj)([Re,this.getVpcIdLocaleOsPlatform()]).pipe((0,a.q)(1),(0,p.zg)(([Q,ve])=>this.lcarsSdk.fetchQueryData(ue.Campaigns,{locale:ve[1],vpcId:ve[0]},Le,Q)),(0,o.U)(Q=>(this.refreshUiService.setContentExpiryInfo(l.Gx.CampaignsData),this.endSpan(Le,!1),this.refreshCampaignsInfo=!1,Q.data.campaigns)),(0,y.K)(Q=>this.idmService.handleAuthError(Q,le,this.fetchCampaignsInfo.bind(this))),(0,y.K)(Q=>(this.logger.error("Error in fetching CampaignsInfo",Q),this.endSpan(Le,!0),(0,M._)(Q))))}getCampaignsInfo(){return this.refreshCampaignsInfo?this.fetchCampaignsInfo().pipe((0,v.b)(le=>this.campaignsInfoStream.setData(le,!0))):this.campaignsInfoStream.get$()}refreshCampaignsInfoStream(){this.campaignsInfoStream.refresh()}fetchFilterGroupDefinitions(le=!1){const Le=this.distributedTracingUtilService.startSpan(A.j1.FilterGroupDefinitions),Re=this.idmService.getAuthToken(le,Le);return(0,x.aj)([Re,this.getLocaleOsPlatform()]).pipe((0,a.q)(1),(0,p.zg)(([Q,ve])=>this.lcarsSdk.fetchQueryData(ue.FilterGroupDefinitions,{locale:ve[0]},Le,Q)),(0,o.U)(Q=>{this.endSpan(Le,!1),this.refreshFilterGroupDefinitions=!1;const ve=Q.data.filterGroupDefinitions;return ve.forEach(be=>{be.filters.forEach(xe=>{xe.filterFields=[];for(let ke=0;ke<xe.filters.length;ke++){const Ce=JSON.parse(xe.filters[ke]);xe.filterFields[ke]=Ce}})}),ve}),(0,y.K)(Q=>this.idmService.handleAuthError(Q,le,this.fetchFilterGroupDefinitions.bind(this))),(0,y.K)(Q=>(this.logger.error("Error in fetching fetchFilterGroupDefinitions",Q),this.endSpan(Le,!0),(0,n.of)([]))))}getFilterGroupDefinitions(){return this.refreshFilterGroupDefinitions?this.fetchFilterGroupDefinitions().pipe((0,v.b)(le=>this.filterGroupDefinitionsStream.setData(le,!0))):this.filterGroupDefinitionsStream.get$()}refreshFilterGroupDefinitionsStream(){this.filterGroupDefinitionsStream.refresh()}}return Me.\u0275fac=function(le){return new(le||Me)(N.LFG(H.ed),N.LFG(d.O_),N.LFG(_e),N.LFG(H.OL),N.LFG(ne.No),N.LFG(U.r),N.LFG(H.Ob),N.LFG(re.BH),N.LFG(s.HR),N.LFG(A.Dc),N.LFG(r.s),N.LFG(l.eP),N.LFG(q.VK),N.LFG(pe.h))},Me.\u0275prov=N.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})();var Te=e(68739),me=e(86283),et=e(54877),Xe=e(16873),Ze=e(84658);let nt=(()=>{class Me{constructor(le,Le,Re,Q,ve,be,xe){this.lcarsService=Le,this.router=Re,this.refreshUiService=Q,this.appConfig=ve,this.lcarsSdkService=be,this.ngZone=xe,this.campaignIdToGameListMap=new Map,this.activeCampaigns=[],this.deactiveCampaigns=[],this.refreshCampaignUI=new t.xQ,this.refreshCampaignUI$=this.refreshCampaignUI.asObservable(),this.removeGameFromCampaign=new t.xQ,this.removeGameFromCampaign$=this.removeGameFromCampaign.asObservable(),this.refetchGameCampaignIds=new t.xQ,this.refetchGameCampaignIds$=this.refetchGameCampaignIds.asObservable(),this._allCampaignsInfo=null,this.logger=le.getLogger("CampaignHelperService"),this.campaignIdToGameListMap=new Map}initialize(){this.ngZone.runOutsideAngular(()=>{(0,me.F)(this.appConfig.promoUI.refreshUICheckInterval).pipe((0,v.b)(()=>this.triggerCampaignUIRefresh(m.K$.TimerRefresh))).subscribe()}),this.refreshUiService.campaignDataRefresh$.subscribe(le=>{var Le;this.appConfig.promoUI.isEnabled?(this.logger.info("Processing CampaignDataRefresh for",le.source," campaignInfo: ",null===(Le=le.metadata)||void 0===Le?void 0:Le.campaignInfo),this.onCampaignDataRefresh(le)):this.logger.info("promo UI feature is disabled")})}onCampaignDataRefresh(le){var Le,Re,Q,ve,be,xe,ke,Ce;if(null!==(Re=null===(Le=null==le?void 0:le.metadata)||void 0===Le?void 0:Le.campaignInfo)&&void 0!==Re&&Re.eventType)switch(null===(ve=null===(Q=null==le?void 0:le.metadata)||void 0===Q?void 0:Q.campaignInfo)||void 0===ve?void 0:ve.eventType){case et.qu.CAMPAIGN_SCHEDULED:this.fullCampaignUIRefresh();break;case et.qu.CAMPAIGN_START:(null===(xe=null===(be=null==le?void 0:le.metadata)||void 0===be?void 0:be.campaignInfo)||void 0===xe?void 0:xe.resourceIds.length)>0&&!this.areCampaignIdsPresent(null===(Ce=null===(ke=null==le?void 0:le.metadata)||void 0===ke?void 0:ke.campaignInfo)||void 0===Ce?void 0:Ce.resourceIds)?this.fullCampaignUIRefresh():this.triggerCampaignUIRefresh(m.K$.CampaignsRefresh);break;case et.qu.CAMPAIGN_COMPLETE:this.triggerCampaignUIRefresh(m.K$.CampaignsRefresh);break;case et.qu.CAMPAIGN_CANCELED:this.lcarsService.refreshCampaignsInfoStream();break;default:this.logger.info("Unknown CampaignInfoEventType")}else le.source!==l.cF.OnPushNotification&&this.fullCampaignUIRefresh()}fullCampaignUIRefresh(){this.resetCampaignDataFlags(),this.lcarsService.refreshCampaignsInfoStream(),this.refetchGameCampaignIds.next()}resetCampaignDataFlags(){this.activeCampaigns=[],this.deactiveCampaigns=[]}areCampaignIdsPresent(le){return null==le?void 0:le.every(Le=>{var Re,Q;return null===(Q=null===(Re=this._allCampaignsInfo)||void 0===Re?void 0:Re.items)||void 0===Q?void 0:Q.find(ve=>(null==ve?void 0:ve.id)===Le)})}addGameToCampaignId(le,Le){if(this.campaignIdToGameListMap.has(le))this.campaignIdToGameListMap.get(le).add(Le);else{const Re=new Set;Re.add(Le),this.campaignIdToGameListMap.set(le,Re)}}removeGameFromCampaignId(le,Le){const Re=this.getGameListForCampaignId(le);null!=Re&&Re.has(Le)&&(this.logger.info("Game removed from campaign UI",Le,le),Re.delete(Le),this.removeGameFromCampaign.next(Le))}getCurrentCampaignIdsForGame(le){const Le=[];return this.campaignIdToGameListMap.forEach((Re,Q)=>{Re.has(le)&&Le.push(Q)}),Le}updateCampaignIdToGameListMap(le,Le){const Re=this.getCurrentCampaignIdsForGame(Le),Q=null==Re?void 0:Re.filter(ve=>!(null!=le&&le.some(be=>be.substring(0,be.lastIndexOf("-"))===ve.substring(0,ve.lastIndexOf("-")))));null==Q||Q.forEach(ve=>{this.removeGameFromCampaignId(ve,Le)}),le.length>0&&le.forEach(ve=>this.addGameToCampaignId(ve,Le))}getGameListForCampaignId(le){return this.campaignIdToGameListMap.get(le)}getChangedCampaigns(){const le=[],Le=[];return this.lcarsService.getCampaignsInfo().pipe((0,a.q)(1),(0,o.U)(Re=>(this.campaignIdToGameListMap.forEach((Q,ve)=>{var be;this._allCampaignsInfo=Re;const xe=null===(be=null==Re?void 0:Re.items)||void 0===be?void 0:be.find(ke=>(null==ke?void 0:ke.id)===ve);if(xe){const ke=this.lcarsSdkService.nvPreviewTime?new Date(this.lcarsSdkService.nvPreviewTime):new Date,Ce=new Date(xe.schedule.startTime),ge=new Date(xe.schedule.endTime);Ce<=ke&&ge>ke&&!this.activeCampaigns.includes(xe.id)?(this.activeCampaigns.push(xe.id),le.push(xe)):ge<=ke&&!this.deactiveCampaigns.includes(xe.id)&&(this.deactiveCampaigns.push(xe.id),Le.push(xe))}}),{activatedCampaigns:le,deactivatedCampaigns:Le})),(0,y.K)(Re=>(this.logger.error("Error in getChangedCampaigns",Re),(0,n.of)({activatedCampaigns:[],deactivatedCampaigns:[]}))))}triggerCampaignUIRefresh(le){(0,E.wI)(this.router.url)||(le!==m.K$.TimerRefresh&&this.resetCampaignDataFlags(),this.refreshCampaignUI.next(le))}}return Me.\u0275fac=function(le){return new(le||Me)(N.LFG(H.ed),N.LFG(Pe),N.LFG(Xe.F0),N.LFG(l.eP),N.LFG(Ze.V),N.LFG(_e),N.LFG(N.R0b))},Me.\u0275prov=N.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me})()},68739:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>r});var t=e(97483),n=e(18406),x=e(23815),M=e(18388),L=e(41221),p=e(53809),P=e(39138),a=e(74266),o=e(2629),v=e(33932),y=e(51325),C=e(39609),A=e(64710),d=e(91565),m=e(50906);const S="platform_preference",s="PlatformPreference";let r=(()=>{class l{constructor(O,Y,T,B){this.sharedStorage=Y,this.idmService=T,this.refreshUiService=B,this.isKVStoreInteractionActive$=new n.X(!1),this.gamesChangedWhileLoggedOut=new Map,this.gamesChangedWhileLoggedIn=new Set,this.logger=O.getLogger("PlatformPreferenceService"),this.idmService.accountStatusChanged.subscribe(K=>this.gamesChangedWhileLoggedIn.clear())}getPlatformPreferences(){return this.isKVStoreInteractionActive$.pipe((0,a.h)(O=>!O),(0,o.q)(1),(0,v.zg)(O=>(this.isKVStoreInteractionActive$.next(!0),this.idmService.getClientData([S]))),(0,v.zg)(O=>{var Y;return this.refreshUiService.setContentExpiryInfo(t.Gxu.KVStorePlatformSelection),this.isKVStoreInteractionActive$.next(!1),this.logger.info("Response length of get all preferences ",null===(Y=null==O?void 0:O.data)||void 0===Y?void 0:Y.length),(0,x.of)(O.data.length?O.data[0].value:[])}),(0,y.K)(O=>(this.isKVStoreInteractionActive$.next(!1),this.logger.info("Error getting list of selected variants from the KV store",O),(0,M._)(O))))}getGameSpecificPlatformPreference(O){return this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,v.zg)(Y=>Y.isAuthenticated?this.sharedStorage.readBlock(s+"/"+Y.userId+"/"+O):(0,M._)("User is not authenticated")),(0,v.zg)(Y=>Y.variantId?(0,x.of)(Y.variantId):this.getGameSpecificPlatformPreferenceFromKVStore(O)))}getGameSpecificPlatformPreferenceFromKVStore(O){return this.getPlatformPreferences().pipe((0,v.zg)(Y=>{this.logger.info("Response length of get all preferences ",null==Y?void 0:Y.length);const T=Y.find(B=>B.includes(O));return T?(0,x.of)(this.getCmsIdFromParentChildPair(T)[O]):(0,M._)("ParentID not found in the KVStore")}),(0,y.K)(Y=>(this.logger.info("Error getting list of selected variants from the KV store",Y),(0,M._)(Y))))}updateGameSpecificPlatformPreference(O,Y,T,B){const K=[];return Y.forEach(b=>K.push(this.getParentChildPair(O,b))),this.isKVStoreInteractionActive$.pipe((0,a.h)(b=>!b),(0,o.q)(1),(0,v.zg)(b=>(this.isKVStoreInteractionActive$.next(!0),this.idmService.deleteClientData(S,K))),(0,v.zg)(b=>{if(this.logger.info("All relevant preferences deleted ",b),T&&B){const f=this.getParentChildPair(O,B);return this.idmService.appendClientData(S,[f])}return(0,x.of)(b)}),(0,v.zg)(b=>(this.isKVStoreInteractionActive$.next(!1),(0,x.of)(b))),(0,y.K)(b=>(this.isKVStoreInteractionActive$.next(!1),this.logger.info("Error updating preference to the Keyvalue store ",b),(0,M._)(b))))}processGamesPostLogin(){this.gamesChangedWhileLoggedOut.forEach((O,Y)=>{this.addGamePlatformPreference(Y,O.selectedVariantId,O.variantIds).subscribe(L.Z,L.Z)}),this.gamesChangedWhileLoggedOut.clear()}hasLocalOrLoggedOutPreference(O){return this.gamesChangedWhileLoggedIn.has(O)?(this.logger.info("Game prefernce was changed by loggedIn user. Not using older preferences. ",O),!0):!!this.gamesChangedWhileLoggedOut.has(O)&&(this.logger.info("Game preference was changed in logged out state. Not overriding it. ",O),!0)}addGamePlatformPreference(O,Y,T){return this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,v.zg)(B=>B.isAuthenticated?(this.gamesChangedWhileLoggedIn.add(O),(0,x.of)(B.userId)):(this.gamesChangedWhileLoggedOut.set(O,{selectedVariantId:Y,variantIds:T}),p.E)),(0,v.zg)(B=>{if(B){const K=s+"/"+B+"/"+O;return(0,P.$R)(this.updateGameSpecificPlatformPreference(O,T,!0,Y),this.sharedStorage.writeBlock(K,{variantId:Y}))}}),(0,y.K)(B=>(this.logger.info("Error saving the game variant preference",B),(0,M._)(B))))}removeGamePlatformPreference(O,Y){return this.idmService.accountStatusChanged.pipe((0,o.q)(1),(0,v.zg)(T=>T.isAuthenticated?(0,x.of)(T.userId):(0,M._)("Received Empty UserId")),(0,v.zg)(T=>{const B=s+"/"+T+"/"+O;return(0,P.$R)(this.updateGameSpecificPlatformPreference(O,Y,!1),this.sharedStorage.removeBlock(B))}),(0,y.K)(T=>(this.logger.info("Error removing the game variant preference",T),(0,M._)(T))))}getParentChildPair(O,Y){const T={};return T[O]=Y,JSON.stringify(T)}getCmsIdFromParentChildPair(O){return JSON.parse(O)}}return l.\u0275fac=function(O){return new(O||l)(C.LFG(A.ed),C.LFG(d.OA),C.LFG(m.No),C.LFG(t.ePW))},l.\u0275prov=C.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},90229:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>s});var t=e(93557),n=e(70782),x=e(20478),M=e(32764),L=e(37661),p=e(71365),P=e(34375),a=e(63926),o=e(12427),v=e(70932),y=e(39536),C=e(76549),A=e(45224),d=e(22804),m=e(39609);const S=[t.u5,P.yu,n.IF,x.Zh,a.gR,o.jT,v.g0,M.UK,L.Ps,y.yj,C.y,p.uw,A.jc];let s=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=m.oAB({type:r}),r.\u0275inj=m.cJS({imports:[t.u5,S,d.hp,t.u5,P.yu,n.IF,x.Zh,a.gR,o.jT,v.g0,M.UK,L.Ps,y.yj,C.y,p.uw,A.jc]}),r})()},19030:(Ge,ae,e)=>{"use strict";e.d(ae,{Cz:()=>x,SB:()=>t,rL:()=>n});var t=(()=>((t||(t={})).DbStoreName="BrowseUxStore",t))(),n=(()=>{return(M=n||(n={})).showDesktopShortcutPrompt="showDesktopShortcutPrompt",M.showSearchTip="showSearchTip",M.showGameOwnershipPrompt="showGameOwnershipPrompt",M.skipGamepadWarningDialog="skipGamepadWarningDialog",M.skipKeyboardMouseWarningDialog="skipKeyboardMouseWarningDialog",n;var M})(),x=(()=>{return(M=x||(x={})).OverLay="over",M.Side="side",x;var M})()},5937:(Ge,ae,e)=>{"use strict";e.d(ae,{$Y:()=>i,C6:()=>o,EM:()=>p,T8:()=>s,X3:()=>r,Xf:()=>x,db:()=>d,dp:()=>S,eK:()=>M,et:()=>l,g7:()=>v,h4:()=>O,iJ:()=>P,rm:()=>C,uE:()=>L,zV:()=>y});var t=e(48131);const x="TV_BANNER_",M="deeplink";var L=(()=>{return(Y=L||(L={})).Action="action",Y.CmsId="cms-id",Y.GameId="game-id",Y.Store="store",Y.Zone="zone",Y.AssetId="asset-id",Y.Locale="lang",Y.ShowEvidencePanel="showEvidencePanel",Y.SectionId="sectionId",Y.Nonce="nonce",Y.Redirect="redirect",Y.PartnerData="partner-data",Y.ExtraData="extra-data",Y.UtmSource="utm_source",Y.UtmCampaign="utm_campaign",Y.UtmMedium="utm_medium",Y.UtmTerm="utm_term",Y.UtmContent="utm_content",Y.PartnerId="partner-id",Y.WindowedMode="windowed-mode",Y.Branch="branch",Y.State="state",L;var Y})(),p=(()=>{return(Y=p||(p={})).ViewGame="view-game",Y.PlayGame="play-game",Y.Games="games",p;var Y})();const P=p.ViewGame;var a=(()=>{return(Y=a||(a={})).IsViewGameEnabled="isViewGameEnabled",Y.IsPlayGameEnabled="isPlayGameEnabled",Y.ShowShortcutButton="showShortcutButton",Y.ShowShareButton="showShareButton",Y.SendDeeplinkTelemetry="sendDeeplinkTelemetry",Y.GuestMode="guestMode",a;var Y})();const o={[a.IsViewGameEnabled]:!0,[a.IsPlayGameEnabled]:!0,[a.ShowShareButton]:!1,[a.ShowShortcutButton]:!1,[a.SendDeeplinkTelemetry]:!1},v={[p.ViewGame]:a.IsViewGameEnabled,[p.PlayGame]:a.IsPlayGameEnabled};var y=(()=>{return(Y=y||(y={})).Shortcut="shortcut",Y.Application="application",Y.Marquee="marquee",y;var Y})();const C={[p.ViewGame]:t.oSA.ViewGame,[p.PlayGame]:t.oSA.PlayGame};var A=(()=>{return(Y=A||(A={})).IsNetworkTestEnabled="isNetworkTestEnabled",Y.IsIGOEnabled="isIGOEnabled",Y.IsOSCEnabled="isOSCEnabled",Y.IsPostSessionTipsEnabled="isPostSessionTipsEnabled",Y.IsStreamingTimerEnabled="isStreamingTimerEnabled",Y.DisableCloseOnStreamExit="disableCloseOnStreamExit",Y.IsGuestAppFlow="isGuestAppFlow",Y.IGOSettings="igoSettings",Y.IsWhitelabelingEnabled="isWhiteLabelingEnabled",Y.Metadata="metadata",A;var Y})();const d={[A.IsNetworkTestEnabled]:!1,[A.IsIGOEnabled]:!0,[A.IsOSCEnabled]:!0,[A.IsPostSessionTipsEnabled]:!1,[A.IsStreamingTimerEnabled]:!0,[A.DisableCloseOnStreamExit]:!1,[A.IsGuestAppFlow]:!0,[A.IGOSettings]:{},[A.IsWhitelabelingEnabled]:!1,[A.Metadata]:{}},m=Object.assign(Object.assign({},d),{[A.IsIGOEnabled]:!0,[A.DisableCloseOnStreamExit]:!0,[A.IsGuestAppFlow]:!1}),S={DAF_GUESTMODE_25cb5a58:"daf_guestmode_25cb5a58",AC:"82d77512-a90b-42bf-8be9-446fb10341b5",GFN_PLAYTEST:"0F0E5E46-5F1E-42FE-BA5A-74077ED505F1"},s={"AyLZgPglXtCGoG-lPMe0mxYoP6BH9Jva3vLeerYckFA":m,"YwuYeOqCAwvSS9_ohdam7Bn-SQv0b7rLGP2v9lAZWto":m,xfhos6xyQwTHf0I5Scg7LjtfvVw5aeucqdJURXcMBcc:d,H6JxRR6FFDUGwN1fdlgKWBmOPnvDEvEEoudefDooEho:d,"2ZGpTLugwxbQLk8MlqSLFweBjXMJ33xKQdghZfmxTwc":d,"0Xg3tEsmQZqn-zsZgSTIQqJZn5f7X7kuBxE5C9KFsys":d},r={[S.DAF_GUESTMODE_25cb5a58]:"L65LoXgut5_bAQ95JepON01jMMSYxDHB4aa_tHQC-gc"};var l=(()=>{return(Y=l||(l={}))[Y.Success=0]="Success",Y[Y.Partner_Error=1]="Partner_Error",Y[Y.GFN_Error=2]="GFN_Error",Y[Y.Campaign_Suspended=3]="Campaign_Suspended",Y[Y.GFN_Error_SessionLimitReached=4]="GFN_Error_SessionLimitReached",l;var Y})(),i=(()=>((i||(i={})).VDKPlayTest="vdkPlaytest",i))();const O={id:"dummy-id",appStore:"UNKNOWN",supportedControls:[],contentRatings:null,images:{HERO_IMAGE:"",TV_BANNER:""},variants:[{id:""}]}},51657:(Ge,ae,e)=>{"use strict";e.d(ae,{rm:()=>x.rm,mp:()=>L,wM:()=>p,uE:()=>x.uE,gO:()=>M,$Y:()=>x.$Y,eK:()=>x.eK,EM:()=>x.EM,iJ:()=>x.iJ,db:()=>x.db,Cz:()=>t.Cz,CK:()=>a,h4:()=>x.h4,et:()=>x.et,Et:()=>n.E,pv:()=>n.p,T8:()=>x.T8,g7:()=>x.g7,zV:()=>x.zV,Ev:()=>C,Xf:()=>x.Xf});var t=e(19030),n=e(67026),x=e(5937),M=(()=>{return(A=M||(M={})).Serenity="Serenity",A.UIPlugin="UIPlugin",M;var A})(),L=(()=>{return(A=L||(L={})).default="DEFAULT",A.fullScreen="FULLSCREEN",L;var A})(),p=(()=>{return(A=p||(p={})).zoneMaintenance="ZONE_MAINTENANCE_TIMER",A.paste="PASTE",A.sessionLengthTimer="SESSION_LENGTH_TIMER",p;var A})(),P=e(36859),a=(()=>{return(A=a||(a={})).lockState="Locked",A.readyState="Ready",A.systemUnsupportedState="System_Unsupported",a;var A})();const C=[{featureKey:P.xA.RTX_ENABLED,featureUpsellKey:P.$c.SUPPORT_RTX,supportedOnGame:!1,supportedOnSubscription:!1,canUpsell:!1,upsellToUnentitledUsers:!0,systemSupported:!0},{featureKey:P.xA.REFLEX_ENABLED,featureUpsellKey:P.$c.SUPPORT_REFLEX,supportedOnGame:!1,supportedOnSubscription:!1,canUpsell:!1,systemSupported:!0},{featureKey:P.xA.HDR_ENABLED,featureUpsellKey:P.$c.SUPPORT_HDR,supportedOnGame:!1,supportedOnSubscription:!1,canUpsell:!1,systemSupported:!0}]},67026:(Ge,ae,e)=>{"use strict";e.d(ae,{E:()=>n,p:()=>t});var t=(()=>{return(x=t||(t={}))[x.Infinity=0]="Infinity",x[x.Once=1]="Once",t;var x})(),n=(()=>{return(x=n||(n={}))[x.Play=1]="Play",x[x.Pause=2]="Pause",x[x.Resume=3]="Resume",n;var x})()},36859:(Ge,ae,e)=>{"use strict";e.d(ae,{$c:()=>p,UM:()=>P,Uq:()=>a,pR:()=>n,xA:()=>M,xw:()=>L});var n=(()=>{return(o=n||(n={}))[o.Unknown=0]="Unknown",o[o.Success=1]="Success",o[o.AuthFailure=14]="AuthFailure",o[o.InviteOnly=44]="InviteOnly",o[o.UnsupportedRegion=45]="UnsupportedRegion",o[o.ZoneOutOfCapacity=51]="ZoneOutOfCapacity",o[o.RegionNotSupportedIndefinitely=52]="RegionNotSupportedIndefinitely",o[o.RegionBanned=53]="RegionBanned",o[o.RegionOnHoldForFree=54]="RegionOnHoldForFree",o[o.RegionOnHoldForPaid=55]="RegionOnHoldForPaid",n;var o})(),M=(()=>{return(o=M||(M={}))[o.UNKNOWN=0]="UNKNOWN",o[o.RTX_ENABLED=1]="RTX_ENABLED",o[o.HDR_ENABLED=2]="HDR_ENABLED",o[o.SUPPORTED_AUDIO_FORMATS=3]="SUPPORTED_AUDIO_FORMATS",o[o.IN_GAME_SETTINGS_PERSISTENCE_ENABLED=4]="IN_GAME_SETTINGS_PERSISTENCE_ENABLED",o[o.OVERRIDE_TOUCH_ENABLED=5]="OVERRIDE_TOUCH_ENABLED",o[o.ENABLE_DEBUG_TOOLS=6]="ENABLE_DEBUG_TOOLS",o[o.REFLEX_ENABLED=7]="REFLEX_ENABLED",M;var o})(),L=(()=>{return(o=L||(L={}))[o.UNKNOWN=0]="UNKNOWN",o[o.BALANCED=1]="BALANCED",o[o.DATA_SAVER=2]="DATA_SAVER",o[o.COMPETITIVE=3]="COMPETITIVE",L;var o})(),p=(()=>{return(o=p||(p={}))[o.UNKNOWN=0]="UNKNOWN",o[o.BETTER_PRODUCT=1]="BETTER_PRODUCT",o[o.SUPPORT_IN_GAME_SETTINGS_PERSISTENCE=2]="SUPPORT_IN_GAME_SETTINGS_PERSISTENCE",o[o.HIGHER_SESSION_LENGTH=3]="HIGHER_SESSION_LENGTH",o[o.LOWER_SESSION_QUEUE_WAIT_TIME=4]="LOWER_SESSION_QUEUE_WAIT_TIME",o[o.HIGHER_FPS=5]="HIGHER_FPS",o[o.HIGHER_RESOLUTION=6]="HIGHER_RESOLUTION",o[o.SUPPORT_HDR=7]="SUPPORT_HDR",o[o.SUPPORT_RTX=8]="SUPPORT_RTX",o[o.SUPPORT_REFLEX=9]="SUPPORT_REFLEX",p;var o})(),P=(()=>{return(o=P||(P={}))[o.UNKNOWN=0]="UNKNOWN",o[o.STEREO=2]="STEREO",o[o.UP_TO_5_1_SURROUND_PCM=6]="UP_TO_5_1_SURROUND_PCM",o[o.UP_TO_7_1_SURROUND_PCM=8]="UP_TO_7_1_SURROUND_PCM",P;var o})(),a=(()=>{return(o=a||(a={}))[o.UNKNOWN=0]="UNKNOWN",o[o.PROFILE_VSYNC=1]="PROFILE_VSYNC",o[o.PROFILE_ADJUST_FOR_NETWORK=2]="PROFILE_ADJUST_FOR_NETWORK",o[o.PROFILE_HDR=3]="PROFILE_HDR",o[o.PROFILE_REFLEX=4]="PROFILE_REFLEX",a;var o})()},85236:(Ge,ae,e)=>{"use strict";e.d(ae,{zu:()=>l,_R:()=>d,PT:()=>S,pR:()=>s.pR,$e:()=>m,gM:()=>C,Uq:()=>s.Uq,xw:()=>s.xw,xA:()=>s.xA,$c:()=>s.$c,U1:()=>O,Jn:()=>Y});var t=e(85948),n=e(80155),x=e(23827),M=e(69060),L=e(85501),p=e(33932),P=e(89258),a=e(39609),o=e(39382),v=e(64710),y=e(83024);let C=(()=>{class T{constructor(K,b,f,D,I){this.appConfig=K,this.endpointFactory=b,this.distributedtracingUtilService=f,this.clientHeaderService=I,this.logger=D.getLogger("NesSdkService");const{defaultRetries:w=0,defaultTimeBetweenRetries:_=0,defaultTimeout:$=15e3}=K.nes,G={maxRetries:w,timeout:$,timeBetweenRetries:_};this.subscriptionsEndpoint=this.createEndpoint({config:G}),this.libraryOperationsEndpoint=this.createEndpoint({config:G}),this.serviceUrlEndpoint=this.createEndpoint({config:Object.assign(Object.assign({},G),{maxRetries:K.nes.serviceUrlsMaxRetries})}),this.productEndpoint=this.createEndpoint(),this.firstFetchSet=new Set}buildUrl(K,b=!1,f=!1){return(0,n.D5)(b?[this.appConfig.nes.layoutServer,this.appConfig.nes.layoutServerVersion,K]:[this.appConfig.nes.server,f?this.appConfig.nes.versionV3:this.appConfig.nes.version,K])}createEndpoint(K){return this.endpointFactory.createEndpoint(K)}createHeader(K){return{[t.n0.authorization]:`GFNJWT ${K.token}`}}createRequestOptions(K,b,f,D){const I={params:Object.assign({},K),includeRequestId:!0,reportRequestData:Object.assign({},b),includeFullResponse:D},w=b.serviceUseCase;return I.headers={},null!=f&&f.token&&(I.headers=this.createHeader(f)),this.firstFetchSet.has(w)?I.headers[L.Fk.SwCacheBypass]=JSON.stringify(!0):this.firstFetchSet.add(w),I}createAndCallNesServerAPI(K,b,f,D,I,w,_){return this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}).pipe((0,p.zg)($=>{const G=this.createRequestOptions(Object.assign({serviceName:"gfn_pc"},f),{originalService:x.v6v.NES,serviceUseCase:b},D,w);_&&($[L.Fk.SwNotifyFetch]="true"),Object.assign(G.headers,$);const F=this.subscriptionsEndpoint.get(this.buildUrl(K,!1,!0),G);return this.distributedtracingUtilService.handleHttpEndpointSpan(F,G,M.j1.FetchSubscriptions,I)}))}getSubscriptions(K,b,f){const D=this.createRequestOptions(Object.assign({serviceName:"gfn_pc"},K),{originalService:x.v6v.Cms,serviceUseCase:x.f$p.NES_Get_Subscriptions},b),I=this.subscriptionsEndpoint.get(this.buildUrl("/subscriptions"),D);return this.distributedtracingUtilService.handleHttpEndpointSpan(I,D,M.j1.FetchSubscriptions,f)}getUserSubscription(K,b,f){return this.createAndCallNesServerAPI("/subscriptions",x.f$p.NES_Get_Subscriptions,K,b,f,!0,!0).pipe((0,P.U)(D=>(D.body.isCached=D.headers.has(L.Fk.SwCache),D.body)))}getClientStreamingQuality(K,b){return this.createAndCallNesServerAPI("/client/streamingQuality",x.f$p.NES_GetClientStreamingQuality,K,null,b)}getProductInfo(K){return this.productEndpoint.get(K)}removeGameFromLibrary(K,b){return this.libraryOperationsEndpoint.delete(this.buildUrl("/cloudmatch/apps/:appId"),this.createRequestOptions(K,{originalService:x.v6v.Cms,serviceUseCase:x.f$p.NES_Uninstall},b))}getLoginProviderInfo(K,b){return this.serviceUrlEndpoint.get(this.buildUrl("/serviceUrls",!0),this.createRequestOptions(null,{originalService:x.v6v.Cms,serviceUseCase:x.f$p.NES_Get_ServiceUrls},b))}addGameToLibrary(K,b){return this.libraryOperationsEndpoint.put(this.buildUrl("/cloudmatch/apps/:appId"),this.createRequestOptions(K,{originalService:x.v6v.Cms,serviceUseCase:x.f$p.NES_Install},b))}}return T.\u0275fac=function(K){return new(K||T)(a.LFG(o.VK),a.LFG(t.V9),a.LFG(M.Dc),a.LFG(v.ed),a.LFG(y.x5))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var A=e(12983);class d extends A.xv{constructor(B,K){super("Could not fetch app metadata for "+B,K)}}class m extends A.xv{constructor(B){super("Could not fetch layout",B)}}class S extends A.xv{constructor(B){super("Could not fetch appsList",B)}}var s=e(36859),l=(()=>{return(T=l||(l={})).UNAVAILABLE="UNAVAILABLE",T.AVAILABLE="AVAILABLE",T.PATCHING="PATCHING",T.SERVER_MAINTENANCE="SERVER_MAINTENANCE",l;var T})();const O={title:"mockIntegrationTile",shortName:"mockIntegrationTile",id:"12345",variants:[],images:{GAME_BOX_ART:"http://mock-box-art-url",KEY_ART:"http://mock-key-art-url",TV_BANNER:"http://wide-art-url"}},Y={title:"mockSeeMoreTile",shortName:"mockSeeMoreTile",id:"123456",variants:[],images:{GAME_BOX_ART:"http://mock-box-art-url",KEY_ART:"http://mock-key-art-url",TV_BANNER:"http://wide-art-url"}}},27942:(Ge,ae,e)=>{"use strict";e.d(ae,{BP:()=>b,Fo:()=>K,l6:()=>f,JY:()=>P,fI:()=>D.f});var t=e(33932),n=e(51325),x=e(39609),M=e(85236),L=e(50906),p=e(64710);let P=(()=>{class I{constructor(_,$,G){this.nesSdk=_,this.idmService=$,this.logger=G.getLogger("NesLayoutService")}removeGame(_,$=!1){const G={appId:_};return this.idmService.getAuthToken($).pipe((0,t.zg)(F=>this.nesSdk.removeGameFromLibrary(G,F)),(0,n.K)(F=>this.idmService.handleAuthError(F,$,this.removeGame.bind(this),_)))}addGameToLibrary(_,$=!1){const G={appId:_};return this.idmService.getAuthToken($).pipe((0,t.zg)(F=>this.nesSdk.addGameToLibrary(G,F)),(0,n.K)(F=>this.idmService.handleAuthError(F,$,this.addGameToLibrary.bind(this),_)))}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(M.gM),x.LFG(L.No),x.LFG(p.ed))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var a=e(59562),o=e(23815),v=e(53809),y=e(18388),C=e(47504),A=e(74266),d=e(2629),m=e(94751),S=e(89258),s=e(12606),r=e(85566),l=e(69060),i=e(53975),O=e(85501),Y=e(36540),T=e(39382),B=e(91565),K=(()=>{return(I=K||(K={}))[I.NesError=-1]="NesError",I[I.Ok=1]="Ok",I[I.InvalidDelegateToken=2]="InvalidDelegateToken",K;var I})();const b={id:null,title:null,shortDescription:null,longDescription:null,assets:null};let f=(()=>{class I{constructor(_,$,G,F,J,z,Z,ue,u){this.nesSdk=_,this.idmService=$,this.gridService=G,this.appConfig=F,this.localeService=J,this.sharedStorageService=z,this.serviceWorkerService=Z,this.distributedTracingUtilService=ue,this.storageKeySubscription="Subscription",this.storageKeyNesResolutions="NesResolutions_v3",this.storageKeyOldNesResolutions="NesResolutions_v2",this.clearedOldResolutions=!1,this.subscriptionNetworkFetchedNoUpdate$=new a.t(1),this.logger=u.getLogger("NesEntitlementService"),this.processedSubscriptionResponse$=new a.t(1),this.initServiceWorkerNotifications()}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,A.h)(_=>_.name===O.No.staleWhileRevalidate.subscriptions.cacheName),(0,d.q)(1),(0,t.zg)(_=>{if(_.noDataUpdate)throw this.subscriptionNetworkFetchedNoUpdate$.next(!0),new Error("no update in data");return(0,o.of)(_)}),(0,m.M)(this.idmService.accountStatusChanged),(0,t.zg)(([_,$])=>{this.logger.info("Subscription SW Cache updated, relaying updated data.",_.data);const G=new URL(_.url);if(G.searchParams.has("userId")){const F=G.searchParams.get("userId");return $.isAuthenticated&&$.userId===F?this.handleSubscriptionResponse(_.data,$):v.E}return v.E})).subscribe(_=>{this.processedSubscriptionResponse$.next(_)},_=>{this.logger.warn("ending sw cache observable: ",_)})}get subscriptionNetworkFetchedNoUpdate(){return this.subscriptionNetworkFetchedNoUpdate$.asObservable()}getEntitlementStatus(_,$=!1){return this.getVpcIdLocaleAndToken(_).pipe((0,t.zg)(([G,F,J])=>{if(this.logger.info("vpcId and delegate token resolved: getEntitlementStatus ",G),(0,r.isNil)(J))return this.logger.error("invalid delegate token"),(0,o.of)({status:K.InvalidDelegateToken});const z={languageCode:F,vpcId:G};return $?z.iBetaEnabled=!0:z.features="auto_registration",this.getSubscriptions(z,J,_)}))}getUserEntitlement(_,$,G,F){if(null!=$&&$.useCache)return this.getSubscriptionSharedStorageBlock(_).pipe((0,t.zg)(J=>{const z=J.data;if(this.cacheIsCurrent(z,$.cacheLifetimeOverride))return this.returnSubscriptionResponse(z);if(G)return(0,y._)(F);{const Z=this.distributedTracingUtilService.startSpan(l.j1.GetEntitlementStatus);return this.getUserEntitlementFromServer(Z,_)}}));{const J=this.distributedTracingUtilService.startSpan(l.j1.GetEntitlementStatus);return this.getUserEntitlementFromServer(J,_)}}getClientStreamingQuality(_){if(this.clearedOldResolutions||(this.clearedOldResolutions=!0,this.clearOldNesResolutionSharedStorageBlock()),null!=_&&_.useCache)return this.unentitledUserData?(0,o.of)(this.unentitledUserData):this.getNesResolutionSharedStorageBlock().pipe((0,t.zg)($=>{const G=$.data;if(null!=G&&G.resolutions&&G.resolutions.length>0&&this.cacheIsCurrent(G,_.cacheLifetimeOverride))return this.unentitledUserData=G,(0,o.of)(G);{const F=this.distributedTracingUtilService.startSpan(l.j1.ClientStreamingQuality);return this.getClientStreamingQualityFromServer(F)}}));{const $=this.distributedTracingUtilService.startSpan(l.j1.ClientStreamingQuality);return this.getClientStreamingQualityFromServer($)}}getUserEntitlementFromServer(_,$,G=!1){return this.getVpcIdLocaleAndToken(_,G).pipe((0,d.q)(1),(0,t.zg)(([F,J,z])=>{if(this.logger.info("vpcId and delegate token resolved ",F),(0,r.isNil)(z))return this.logger.error("invalid auth token"),(0,y._)("failed to get auth token");const Z={languageCode:J,vpcId:F,userId:$.userId};return this.distributedTracingUtilService.setSpanAttribute(_,l.NI.VpcId,F),this.distributedTracingUtilService.setSpanAttribute(_,l.NI.Locale,J),this.nesSdk.getUserSubscription(Z,z,_).pipe((0,t.zg)(ue=>this.handleSubscriptionResponse(ue,$)),(0,t.zg)(ue=>(this.processedSubscriptionResponse$.next(ue),this.distributedTracingUtilService.closeSpan(_),this.processedSubscriptionResponse$.asObservable())),(0,n.K)(ue=>this.idmService.handleAuthError(ue,G,this.getUserEntitlementFromServer.bind(this),_,$)))}),(0,n.K)(F=>(this.distributedTracingUtilService.setSpanAttribute(_,l.NI.Error,!0),this.distributedTracingUtilService.closeSpan(_),this.handleServerErrorResponse(F,$))))}handleServerErrorResponse(_,$){return this.getUserEntitlement($,{useCache:!0},!0,_)}handleSubscriptionResponse(_,$){const G=_.requestStatus.statusCode;switch(G){case M.pR.InviteOnly:case M.pR.RegionBanned:case M.pR.RegionNotSupportedIndefinitely:case M.pR.RegionOnHoldForFree:case M.pR.RegionOnHoldForPaid:case M.pR.UnsupportedRegion:case M.pR.ZoneOutOfCapacity:case M.pR.Success:if(!(0,r.isNil)(_.subscription)&&!(0,r.isNil)(_.subscription.productUri))return this.nesSdk.getProductInfo(_.subscription.productUri).pipe((0,S.U)(F=>Object.assign({product:F},_)),(0,n.K)(F=>(this.logger.error("failed to get product info: ",F),(0,o.of)(Object.assign({product:b},_)))),(0,t.zg)(F=>(this.setSubscriptionSharedStorageBlock(F,$),this.returnSubscriptionResponse(F))));{const F=Object.assign({product:b},_);return this.setSubscriptionSharedStorageBlock(F,$),this.returnSubscriptionResponse(F)}default:return this.logger.error("failed to fetch user entitlement with error: ",G),(0,y._)("failed to get entitlement")}}returnSubscriptionResponse(_){const $=(0,r.omit)(_,"cacheRefreshDate");return(0,o.of)($)}getVpcIdLocaleAndToken(_,$=!1){const G=this.localeService.localeChanged,F=this.gridService.vpcId$.pipe((0,s.x)());return(0,C.aj)([F,G]).pipe((0,t.zg)(([J,z])=>this.idmService.getAuthToken($,_).pipe((0,S.U)(Z=>[J,z,Z||null]))))}getSubscriptions(_,$,G){return this.nesSdk.getSubscriptions(_,$,G).pipe((0,S.U)(F=>(this.logger.info("GET subscriptions response",this.subscriptionSummary(F)),this.prepareEntitlementResult(F))))}prepareEntitlementResult(_){let G;return G=(0,r.get)(_,"requestStatus.statusCode")===M.pR.Success&&(0,r.isArray)(_.subscriptions)&&_.subscriptions.length>=1?K.Ok:K.NesError,Object.assign({status:G},_)}subscriptionSummary(_){const $=(0,r.get)(_,"requestStatus.statusCode",null),G=(0,r.first)(_.subscriptions);return`status: ${$} | plan id: ${(0,r.get)(G,"product.id",null)} | cancelled: ${(0,r.get)(G,"isCancellationRequested",null)} | renewal: ${(0,r.get)(G,"renewalDate",null)}`}getSubscriptionSharedStorageBlock(_){return this.sharedStorageService.readBlock(this.getSubscriptionStorageKey(_)).pipe((0,t.zg)($=>(0,o.of)($||{})))}setSubscriptionSharedStorageBlock(_,$){this.updateExperimentRefreshDate(_);const G={data:_};this.sharedStorageService.writeBlock(this.getSubscriptionStorageKey($),G).subscribe(F=>{this.logger.verbose(`write status to shared storage: ${F}`)},F=>{this.logger.error("Error while writing to shared storage",F)})}updateExperimentRefreshDate(_){return _.cacheRefreshDate=new Date,_}getSubscriptionStorageKey(_){return this.storageKeySubscription+"_"+(_&&_.isAuthenticated?_.userId:void 0)}cacheIsCurrent(_,$=this.appConfig.nes.cacheMaxAge){return-1===$?!!_:!!(_&&i(new Date).diff(i(this.getExperimentRefreshDate(_)),"minutes")<=$)}getExperimentRefreshDate(_){return _.cacheRefreshDate}getClientStreamingQualityFromServer(_){const $=this.localeService.localeChanged,G=this.gridService.vpcId$.pipe((0,s.x)());return(0,C.aj)([G,$]).pipe((0,t.zg)(([F,J])=>(this.logger.info("getClientStreamingQualityFromServer vpcId,Locale resolved: ",F),this.nesSdk.getClientStreamingQuality({languageCode:J,vpcId:F},_).pipe((0,S.U)(Z=>(this.logger.info("getClientStreamingQuality response from server: ",Z),this.unentitledUserData=Z,this.setNesResolutionSharedStorageBlock(this.unentitledUserData),this.unentitledUserData)),(0,n.K)(Z=>(this.logger.error("getClientStreamingQualityFromServer error: ",Z),(0,y._)(Z)))))),(0,n.K)(F=>(this.logger.error("getClientStreamingQualityFromServer vpcId/Locale error: ",F),(0,y._)(F))),(0,d.q)(1))}getNesResolutionSharedStorageBlock(){return this.sharedStorageService.readBlock(this.storageKeyNesResolutions).pipe((0,t.zg)(_=>(0,o.of)(_||{})))}clearOldNesResolutionSharedStorageBlock(){var _;null===(_=this.sharedStorageService.removeBlock(this.storageKeyOldNesResolutions))||void 0===_||_.subscribe()}setNesResolutionSharedStorageBlock(_){const $={data:_};this.updateExperimentRefreshDate($.data),this.sharedStorageService.writeBlock(this.storageKeyNesResolutions,$).subscribe(G=>{this.logger.info("write status to shared storage: ",G)},G=>{this.logger.error("Error while writing to shared storage",G)})}}return I.\u0275fac=function(_){return new(_||I)(x.LFG(M.gM),x.LFG(L.No),x.LFG(Y.r),x.LFG(T.VK),x.LFG(p.OL),x.LFG(B.OA),x.LFG(O.HR),x.LFG(l.Dc),x.LFG(p.ed))},I.\u0275prov=x.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var D=e(46057)},46057:(Ge,ae,e)=>{"use strict";e.d(ae,{f:()=>T});var t=e(18388),n=e(23815),x=e(74266),M=e(2629),L=e(89258),p=e(33932),P=e(71265),a=e(58765),o=e(51325),v=e(85566),C=e(23827),A=e(33986),d=e(9533),m=e(85501),S=e(39609),s=e(85236),r=e(64710),l=e(50906),i=e(9357),O=e(27327),Y=e(80155);let T=(()=>{class B{constructor(b,f,D,I,w,_,$,G){this.nesSdk=b,this.loggingService=f,this.idmService=D,this.telemetryService=I,this.oobeService=w,this.eventStreamFactory=_,this.sharedStorageCachingService=$,this.serviceWorkerService=G,this.isUserInfoAffiliate=!1,this.logger=this.loggingService.getLogger("gfn/shared/NesUserInfoService"),this.serverUrlsStream=this.eventStreamFactory.createStream(()=>this.fetchProviderInfo()),this.userInfoStream=this.eventStreamFactory.createStream(()=>this.userInfoWithStreamingUrl()),this.countryCodeStream=this.eventStreamFactory.createStream(()=>this.fetchCountryCode()),this.initServiceWorkerNotifications()}initServiceWorkerNotifications(){this.serviceWorkerService.swCacheUpdated.pipe((0,x.h)(b=>b.name===m.No.staleWhileRevalidate.serviceUrls.cacheName),(0,M.q)(1)).subscribe(b=>{this.serverUrlsStream.setData(b.data,!0)})}fetchProviderInfo(){return this.logger.info("Calling NES server urls to get affiliate information"),this.nesSdk.getLoginProviderInfo().pipe((0,L.U)(b=>this.validateLoginProviderInfo(b)))}validateLoginProviderInfo(b){if(this.logger.info("processServiceUrls"),(0,v.isNil)(b)||(0,v.isNil)(b.gfnServiceInfo)||(0,v.isNil)(b.gfnServiceInfo.loginRequired))throw new Error("Server info was invalid.");const f=b.gfnServiceInfo;if(f.loginRequired&&((0,v.isNil)(f.loginPreferredProviders)||(0,v.isEmpty)(f.loginPreferredProviders)))throw new Error('Missing "loginPreferredProviders".');return b}getServerProperty(b){return this.serverUrlsStream.get$().pipe((0,L.U)(b))}fetchUserInfoWithStreamingUrl(){return this.userInfoStream.get$()}userInfoWithStreamingUrl(){let b;return this.serverUrlsStream.get$().pipe((0,p.zg)(f=>(b=f,this.idmService.getUserServiceEndpoint(b.gfnServiceInfo))),(0,L.U)(f=>{const D=f.serviceEndpoint.loginProvider;return this.sendProviderInfoTelemetry(D,b,f.user.isAuthenticated),{user:f.user,serviceEndpoint:f.serviceEndpoint,isAffiliate:D!==b.gfnServiceInfo.defaultProvider}}),(0,P.b)(f=>{this.isUserInfoAffiliate=f.isAffiliate,this.idmService.setCachedAffiliateStatus(f.user.userId,{loginProvider:f.serviceEndpoint.loginProvider,loginProviderCode:f.serviceEndpoint.loginProviderCode,isAffiliate:f.isAffiliate}).subscribe()}))}cachedUserAndAffiliateStatus(){return this.idmService.cachedUserAndAffiliateStatus}sendProviderInfoTelemetry(b,f,D){this.oobeService.oobeDialogClosedState.pipe((0,a.O)(!1)).subscribe(()=>{const I=new C.zZ4({isAffiliateRegion:f.gfnServiceInfo.loginRequired?C.wye.TRUE:C.wye.FALSE,supportedProviders:(0,v.isEmpty)(f.gfnServiceInfo.loginPreferredProviders)?"":f.gfnServiceInfo.loginPreferredProviders.toString(),providerName:D?b:""});this.telemetryService.push(I,null,{immediateRequest:!0})})}get providerInfo$(){return this.getServerProperty(b=>(0,v.isNil)(b)||(0,v.isNil)(b.gfnServiceInfo)?null:b.gfnServiceInfo).pipe((0,o.K)(b=>(this.logger.error("failed to get provider info",b),(0,t._)(b))))}get loginPreferredProviders$(){return this.getServerProperty(b=>(0,v.isNil)(b)||(0,v.isNil)(b.gfnServiceInfo)?null:b.gfnServiceInfo.loginPreferredProviders).pipe((0,o.K)(b=>(this.logger.error("failed to get login provider",b),(0,t._)(b))))}get loginRequired$(){return this.getServerProperty(b=>!(!b||!b.gfnServiceInfo)&&b.gfnServiceInfo.loginRequired)}fetchProviderUserAction(){return this.logger.info("fetchProviderUserAction"),this.serverUrlsStream.get$().pipe((0,M.q)(1),(0,p.zg)(b=>this.idmService.getUserServiceEndpoint(b.gfnServiceInfo)),(0,L.U)(b=>(0,v.isNil)(b)?C.Vwu.LoginWithJarvisOAuth:C.Vwu.LoginWithFacebook.includes(b.serviceEndpoint.loginProvider.toUpperCase())?C.Vwu.LoginWithFacebook:C.Vwu.LoginWithGoogle.includes(b.serviceEndpoint.loginProvider.toUpperCase())?C.Vwu.LoginWithGoogle:this.isUserInfoAffiliate?C.Vwu.LoginWithAffiliate:C.Vwu.LoginWithOther))}fetchCountryCode(){return this.serverUrlsStream.get$().pipe((0,L.U)(b=>b.gfnServiceInfo.clientCountryCode),(0,o.K)(b=>(this.logger.error("Could not fetch NES login provider info for country code",b),(0,n.of)(A.S5.US))),(0,p.zg)(b=>this.sharedStorageCachingService.saveItem(d.RI.CountryCode,b)))}getCountryCode(){return this.countryCodeStream.get$()}}return B.\u0275fac=function(b){return new(b||B)(S.LFG(s.gM),S.LFG(r.ed),S.LFG(l.No),S.LFG(i.y0),S.LFG(O.H),S.LFG(Y.O_),S.LFG(d.sB),S.LFG(m.HR))},B.\u0275prov=S.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},92787:(Ge,ae,e)=>{"use strict";e.d(ae,{Y:()=>v});var t=e(18164),n=e(39609),x=e(91727),M=e(64710),L=e(52954),p=e(14893),P=e(58241),a=e(715);function o(y,C){if(1&y&&(n.TgZ(0,"div",1)(1,"a",2),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&y){const A=n.oxw();n.xp6(1),n.Q6J("href",A.serverStatusUrl,n.LSH)("shortUrl",A.serverStatusShortUrl),n.xp6(1),n.hij(" ",n.lcZ(3,3,"common.viewServerStatus")," ")}}let v=(()=>{class y{constructor(A,d){this.networkTestService=A,this.localeService=d,this.serverStatusShortUrl=t.hD[t.hE.GfnServerStatus]}ngOnInit(){this.isOnline=this.networkTestService.isSystemOnline(),this.localeSubscription=this.localeService.localeChanged.subscribe(A=>{this.serverStatusUrl=t.hE.BaseUrl+A+"&page="+t.hE.GfnServerStatus})}ngOnDestroy(){this.localeSubscription&&this.localeSubscription.unsubscribe()}}return y.\u0275fac=function(A){return new(A||y)(n.Y36(x.R),n.Y36(M.OL))},y.\u0275cmp=n.Xpm({type:y,selectors:[["gfn-server-status-link"]],decls:1,vars:1,consts:[["class","redirect-page-div",4,"ngIf"],[1,"redirect-page-div"],["target","_blank",1,"font-body2-link",3,"href","shortUrl"]],template:function(A,d){1&A&&n.YNc(0,o,4,5,"div",0),2&A&&n.Q6J("ngIf",d.isOnline)},dependencies:[L.O5,p.E,P.p,a.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),y})()},94698:(Ge,ae,e)=>{"use strict";e.d(ae,{N:()=>S});var t=e(39609),n=e(39536),x=e(23827),M=e(56825),L=e(64710);function p(s,r){if(1&s&&t._UZ(0,"gfn-network-icons",10),2&s){const l=t.oxw(3);t.Q6J("progressState",l.progressState)("nvTestData",l.testData)("maxDisplayState",l.maxDisplayState)("isWebRtcNetworkTest",l.isWebRtcNetworkTestEnabled)}}function P(s,r){if(1&s&&t._UZ(0,"gfn-network-completed",15),2&s){const l=t.oxw(4);t.Q6J("nvTestData",l.testData)("isHandset",l.isHandset)}}function a(s,r){if(1&s&&(t.TgZ(0,"mat-tab-group",16)(1,"mat-tab",17),t.ALo(2,"translate"),t._UZ(3,"gfn-network-tips",18),t.qZA(),t.TgZ(4,"mat-tab",17),t.ALo(5,"translate"),t._UZ(6,"gfn-network-completed",15),t.qZA()()),2&s){const l=t.oxw(4);t.xp6(1),t.s9C("label",t.lcZ(2,5,"common.troubleshootingTips")),t.xp6(2),t.Q6J("networkConditionsData",l.networkConditionsData),t.xp6(1),t.s9C("label",t.lcZ(5,7,"networkTest.detailsTag")),t.xp6(2),t.Q6J("nvTestData",l.testData)("isHandset",l.isHandset)}}function o(s,r){if(1&s&&(t.ynx(0),t.TgZ(1,"span",19),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"gfn-network-tips",18),t.TgZ(5,"span",19),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"gfn-network-completed",15),t.BQk()),2&s){const l=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,5,"common.troubleshootingTips")),t.xp6(2),t.Q6J("networkConditionsData",l.networkConditionsData),t.xp6(2),t.Oqu(t.lcZ(7,7,"networkTest.detailsTag")),t.xp6(2),t.Q6J("nvTestData",l.testData)("isHandset",l.isHandset)}}function v(s,r){if(1&s&&(t.TgZ(0,"div",11),t.YNc(1,P,1,2,"gfn-network-completed",12),t.YNc(2,a,7,9,"mat-tab-group",13),t.YNc(3,o,9,9,"ng-container",14),t.qZA()),2&s){const l=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!l.showTroubleshootTips),t.xp6(1),t.Q6J("ngIf",l.showTroubleshootTips&&!l.isHandset),t.xp6(1),t.Q6J("ngIf",l.showTroubleshootTips&&l.isHandset)}}function y(s,r){if(1&s&&(t.TgZ(0,"div",7),t.YNc(1,p,1,4,"gfn-network-icons",8),t.YNc(2,v,4,3,"div",9),t.qZA()),2&s){const l=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!l.autoRun||l.autoRun&&-1!==l.progressState),t.xp6(1),t.Q6J("ngIf",-1!==l.progressState)}}function C(s,r){if(1&s){const l=t.EpF();t.TgZ(0,"div",20)(1,"gfn-network-test-error",21),t.NdJ("close",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickClose())})("tryAgain",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickTryAgain())})("continue",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickContinue())}),t.qZA()()}if(2&s){const l=t.oxw(2);t.xp6(1),t.Q6J("zoneName",l.zoneName)("networkTestErrorText",l.networkTestErrorText)("showFirewallHelpLink",l.showFirewallHelpLink)("firewallHelpUrl",l.firewallHelpUrl)("firewallHelpShortUrl",l.firewallHelpShortUrl)("firewallLinkText",l.firewallLinkText)("nvClient",l.nvClientApp)}}const A=function(s,r,l){return{autoRun:s,showAdditionalActions:r,progressState:l}};function d(s,r){if(1&s){const l=t.EpF();t.TgZ(0,"div",22)(1,"gfn-nw-test-button-placer",23),t.NdJ("tryAgain",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickTryAgain())})("close",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickClose())})("continue",function(){t.CHM(l);const O=t.oxw(2);return t.KtG(O.onClickContinue())}),t.qZA()()}if(2&s){const l=t.oxw(2);t.xp6(1),t.Q6J("placementCriteria",t.kEZ(1,A,l.autoRun,l.showAdditionalActions,l.progressState))}}function m(s,r){if(1&s&&(t.TgZ(0,"div",1)(1,"div",2)(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,y,3,2,"div",4),t.YNc(7,C,2,7,"div",5),t.qZA(),t.YNc(8,d,2,5,"div",6),t.qZA()),2&s){const l=t.oxw();t.Q6J("ngSwitch",l.uiState),t.xp6(1),t.Q6J("ngClass",l.isHandset?"font-header6":"font-header5"),t.xp6(2),t.Oqu(t.lcZ(4,6,l.networkTestHeaderText)),t.xp6(3),t.Q6J("ngSwitchCase","NETWORKTEST"),t.xp6(1),t.Q6J("ngSwitchCase","ERROR"),t.xp6(1),t.Q6J("ngIf","NETWORKTEST"===l.uiState&&-1!==l.progressState)}}let S=(()=>{class s{constructor(l,i){this.networkTestDialogData=i,this.buttonClicked=new t.vpe,this.testData={},this.delayRetry=0,this.logger=l.getLogger("libraries/network-test/NetworkTestDialogStateComponent"),this.initData()}initData(){var l,i,O,Y,T,B;this.logger.info("Initializing network test dialog data:",this.networkTestDialogData),this.nvClientApp=x.BhR.StreamingClient,this.networkTestHeaderText=this.networkTestDialogData.networkTestHeaderText,this.progressState=this.networkTestDialogData.progressState,this.uiState=this.networkTestDialogData.uiState,this.autoRun=this.networkTestDialogData.autoRun,this.showNetworkTest=this.networkTestDialogData.showNetworkTest,this.testData=this.networkTestDialogData.testData,this.maxDisplayState=this.networkTestDialogData.maxDisplayState,this.isHandset=this.networkTestDialogData.isHandset,this.isWebRtcNetworkTestEnabled=this.networkTestDialogData.isWebRtcNetworkTestEnabled,this.networkConditionsData=this.networkTestDialogData.networkConditionsData,this.zoneName=this.networkTestDialogData.zoneName,this.networkTestErrorText=null===(l=this.networkTestDialogData)||void 0===l?void 0:l.networkTestErrorText,this.showFirewallHelpLink=null===(i=this.networkTestDialogData)||void 0===i?void 0:i.showFirewallHelpLink,this.firewallHelpUrl=null===(O=this.networkTestDialogData)||void 0===O?void 0:O.firewallHelpUrl,this.firewallHelpShortUrl=null===(Y=this.networkTestDialogData)||void 0===Y?void 0:Y.firewallHelpShortUrl,this.firewallLinkText=null===(T=this.networkTestDialogData)||void 0===T?void 0:T.firewallLinkText,this.showTroubleshootTips=null===(B=this.networkTestDialogData)||void 0===B?void 0:B.showTroubleshootTips}onClickContinue(){this.buttonClicked.emit(M.NG.Continue)}onClickClose(){this.buttonClicked.emit(M.NG.Close)}onClickTryAgain(){this.buttonClicked.emit(M.NG.TryAgain)}}return s.\u0275fac=function(l){return new(l||s)(t.Y36(L.ed),t.Y36(n.eJ))},s.\u0275cmp=t.Xpm({type:s,selectors:[["gfn-network-dialog-state"]],outputs:{buttonClicked:"buttonClicked"},decls:1,vars:1,consts:[["nvSpatialNavigationContainer","","class","common-ui-network-container",3,"ngSwitch",4,"ngIf"],["nvSpatialNavigationContainer","",1,"common-ui-network-container",3,"ngSwitch"],[1,"common-ui-network-header",3,"ngClass"],[1,"network-test-content"],["fxLayout","column","fxLayoutAlign","center stretch",4,"ngSwitchCase"],["class","network-test-error-container",4,"ngSwitchCase"],["class","nv-button-class","fxLayout","row","fxLayoutAlign","end stretch",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest",4,"ngIf"],["class","network-test-results",4,"ngIf"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest"],[1,"network-test-results"],[3,"nvTestData","isHandset",4,"ngIf"],["ngClass","mat-tabs-font-button1","nvMatTabGroupFixUp","",4,"ngIf"],[4,"ngIf"],[3,"nvTestData","isHandset"],["ngClass","mat-tabs-font-button1","nvMatTabGroupFixUp",""],[3,"label"],[3,"networkConditionsData"],[1,"common-ui-network-title"],[1,"network-test-error-container"],[3,"zoneName","networkTestErrorText","showFirewallHelpLink","firewallHelpUrl","firewallHelpShortUrl","firewallLinkText","nvClient","close","tryAgain","continue"],["fxLayout","row","fxLayoutAlign","end stretch",1,"nv-button-class"],[3,"placementCriteria","tryAgain","close","continue"]],template:function(l,i){1&l&&t.YNc(0,m,9,8,"div",0),2&l&&t.Q6J("ngIf",i.showNetworkTest)},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),s})()},8560:(Ge,ae,e)=>{"use strict";e.d(ae,{U:()=>x});var t=e(39536),n=e(39609);let x=(()=>{class M{constructor(p){this.networkTestDialogData=p}}return M.\u0275fac=function(p){return new(p||M)(n.Y36(t.eJ))},M.\u0275cmp=n.Xpm({type:M,selectors:[["gfn-network-test-dialog"]],decls:2,vars:2,consts:[["fxFill",""],["nvBackToCloseModal","","fxFill","",3,"nvClientApp","networkTestResult"]],template:function(p,P){1&p&&(n.TgZ(0,"div",0),n._UZ(1,"gfn-network-test",1),n.qZA()),2&p&&(n.xp6(1),n.Q6J("nvClientApp",P.networkTestDialogData.nvClientApp)("networkTestResult",P.networkTestDialogData.networkTestResult))},encapsulation:2}),M})()},41908:(Ge,ae,e)=>{"use strict";e.d(ae,{K:()=>h});var t=e(72221),n=e(64710),x=e(85566),L=e(96671),p=e(23815),P=e(18388),a=e(42930),o=e(10907),v=e(63155),y=e(33932),C=e(2629),A=e(71265),d=e(4042),m=e(38435),S=e(89258),s=e(51325),r=e(78747),l=e(56825),i=e(23827),O=e(18164),Y=e(62024),T=e(94698),B=e(39609),K=e(91727),b=e(7675),f=e(95914),D=e(61846),I=e(84904),w=e(23011),_=e(39382),$=e(39536),G=e(22804);function F(E,ee){if(1&E&&B._UZ(0,"gfn-network-test-analyzer",2),2&E){const R=B.oxw();B.Q6J("data",R.analyzerData)}}function J(E,ee){if(1&E&&B._UZ(0,"gfn-network-completed",16),2&E){const R=B.oxw(4);B.Q6J("nvTestData",R.testData)("isHandset",R.isHandset)}}function z(E,ee){if(1&E&&(B.TgZ(0,"mat-tab-group",17)(1,"mat-tab",18),B.ALo(2,"translate"),B._UZ(3,"gfn-network-tips",19),B.qZA(),B.TgZ(4,"mat-tab",18),B.ALo(5,"translate"),B._UZ(6,"gfn-network-completed",16),B.qZA()()),2&E){const R=B.oxw(4);B.xp6(1),B.s9C("label",B.lcZ(2,5,"common.troubleshootingTips")),B.xp6(2),B.Q6J("networkConditionsData",R.networkConditionsData),B.xp6(1),B.s9C("label",B.lcZ(5,7,"networkTest.detailsTag")),B.xp6(2),B.Q6J("nvTestData",R.testData)("isHandset",R.isHandset)}}function Z(E,ee){if(1&E&&(B.ynx(0),B.TgZ(1,"span",20),B._uU(2),B.ALo(3,"translate"),B.qZA(),B._UZ(4,"gfn-network-tips",19),B.TgZ(5,"span",20),B._uU(6),B.ALo(7,"translate"),B.qZA(),B._UZ(8,"gfn-network-completed",16),B.BQk()),2&E){const R=B.oxw(4);B.xp6(2),B.Oqu(B.lcZ(3,5,"common.troubleshootingTips")),B.xp6(2),B.Q6J("networkConditionsData",R.networkConditionsData),B.xp6(2),B.Oqu(B.lcZ(7,7,"networkTest.detailsTag")),B.xp6(2),B.Q6J("nvTestData",R.testData)("isHandset",R.isHandset)}}function ue(E,ee){if(1&E&&(B.TgZ(0,"div",12),B.YNc(1,J,1,2,"gfn-network-completed",13),B.YNc(2,z,7,9,"mat-tab-group",14),B.YNc(3,Z,9,9,"ng-container",15),B.qZA()),2&E){const R=B.oxw(3);B.xp6(1),B.Q6J("ngIf",!R.showTroubleshootTips),B.xp6(1),B.Q6J("ngIf",R.showTroubleshootTips&&!R.isHandset),B.xp6(1),B.Q6J("ngIf",R.showTroubleshootTips&&R.isHandset)}}function u(E,ee){if(1&E&&(B.TgZ(0,"div",9),B._UZ(1,"gfn-network-icons",10),B.YNc(2,ue,4,3,"div",11),B.qZA()),2&E){const R=B.oxw(2);B.xp6(1),B.Q6J("progressState",R.progressState)("nvTestData",R.testData)("maxDisplayState",R.maxDisplayState)("isWebRtcNetworkTest",R.isWebRtcNetworkTestEnabled),B.xp6(1),B.Q6J("ngIf",-1!==R.progressState)}}function k(E,ee){if(1&E){const R=B.EpF();B.TgZ(0,"div",21)(1,"gfn-network-test-error",22),B.NdJ("close",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickClose())})("tryAgain",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickTryAgain())})("continue",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickContinue())}),B.qZA()()}if(2&E){const R=B.oxw(2);B.xp6(1),B.Q6J("zoneName",R.zoneName)("networkTestErrorText",R.networkTestErrorText)("showFirewallHelpLink",R.showFirewallHelpLink)("firewallHelpUrl",R.firewallHelpUrl)("firewallHelpShortUrl",R.firewallHelpShortUrl)("firewallLinkText",R.firewallLinkText)("nvClient",R.nvClientApp)}}const W=function(E,ee,R){return{autoRun:E,showAdditionalActions:ee,progressState:R}};function N(E,ee){if(1&E){const R=B.EpF();B.TgZ(0,"div",23)(1,"gfn-nw-test-button-placer",24),B.NdJ("tryAgain",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickTryAgain())})("close",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickClose())})("continue",function(){B.CHM(R);const ne=B.oxw(2);return B.KtG(ne.onClickContinue())}),B.qZA()()}if(2&E){const R=B.oxw(2);B.xp6(1),B.Q6J("placementCriteria",B.kEZ(1,W,R.autoRun,R.showAdditionalActions,R.progressState))}}function H(E,ee){if(1&E&&(B.TgZ(0,"div",3)(1,"div",4)(2,"p"),B._uU(3),B.ALo(4,"translate"),B.qZA()(),B.TgZ(5,"div",5),B.YNc(6,u,3,5,"div",6),B.YNc(7,k,2,7,"div",7),B.qZA(),B.YNc(8,N,2,5,"div",8),B.qZA()),2&E){const R=B.oxw();B.Q6J("ngSwitch",R.uiState),B.xp6(1),B.Q6J("ngClass",R.isHandset?"font-header6":"font-header5"),B.xp6(2),B.Oqu(B.lcZ(4,6,R.networkTestHeaderText)),B.xp6(3),B.Q6J("ngSwitchCase","NETWORKTEST"),B.xp6(1),B.Q6J("ngSwitchCase","ERROR"),B.xp6(1),B.Q6J("ngIf","NETWORKTEST"===R.uiState&&-1!==R.progressState)}}let h=(()=>{class E{constructor(R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze){var le,Le;this.networkTestService=q,this.telemetryUtil=ne,this.networkConfigurationService=_e,this.redirectService=U,this.applicationLifetimeService=re,this.networkStatusService=pe,this.streamingProfileService=Pe,this.serverRouting=Te,this.networkTestTelemetryService=me,this.appConfig=et,this.breakpointObserver=Xe,this.dialogRef=Ze,this.matDialog=nt,this.element=Me,this.focusManager=ze,this.nvClientApp=i.BhR.MallClient,this.testData={},this.shutdownHandler=null,this.delayRetry=0,this.logger=R.getLogger("libraries/network-test/NetworkTestComponent"),this.destroy$=new L.xQ,this.mobileMode=!(null===(Le=null===(le=this.appConfig)||void 0===le?void 0:le.featureEnablement)||void 0===Le||!Le.mobileMode),this.networkTestHeaderText="networkTest.networkTestHeader",this.showNetworkTest=!n.ng.isBrowserPlatform()}ngOnInit(){this.autoRun=this.nvClientApp===i.BhR.StreamingClient,this.telemetryUtil.setClientType(this.autoRun?Y.lW.Streamer:Y.lW.Mall),this.platform=n.ng.isBrowserPlatform()?l.CS.browser:this.autoRun?l.CS.streamer:l.CS.mall,this.showTroubleshootTips=!1,this.analyzerData={cmsId:this.cmsId},this.networkTestService.initialize(),n.ng.isBrowserPlatform()&&this.networkTestService.webrtcNetworkTestEnabled.pipe((0,o.R)(this.destroy$)).subscribe(R=>{this.isWebRtcNetworkTestEnabled=R.enabled,this.showNetworkTest=R.showUI}),this.networkStatusService.onlineStatusChanged.pipe((0,v.P)(),(0,y.zg)(R=>R?this.networkTestResult?this.networkTestService.getNetworkInfo().pipe((0,C.q)(1),(0,A.b)(q=>{if(!q)return void this.logger.error("Invalid Network Info");this.testData.networkInfo=q,this.testData.result=this.networkTestResult,this.logger.info("Using existing network test results: ",this.testData.result);const ne=this.populateNetworkTestResultData(this.networkTestResult);this.populateNetworkConditions(),this.uiState=l.mM.NetworkTest,this.autoRun?this.showAutoNetworkTestResultsDialog(ne):this.focusManager.focusFirstChild(this.element.nativeElement)}),(0,d.h)(R)):this.initiateNetworkAnalysis().pipe((0,d.h)(R)):(this.showNetworkTestError({networkTestStatus:i.N3X.ClientOffline,errorDetails:i.N3X.ClientOffline,errorCode:l.wC.Success}),(0,p.of)(R)))).subscribe(R=>{this.logger.info(`Network analysis was ${R?"":"not "}started on init.`)}),this.networkConfigurationService.getNetworkOverride().pipe((0,C.q)(1)).subscribe(R=>{this.zoneOverride=R}),this.shutdownHandler=this.applicationLifetimeService.addWorkOnShutdown(()=>this.serverRouting.cleanupOnCancel().pipe((0,y.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,d.h)(void 0))),this.updateZoneName(),this.breakpointObserver.observe([t.u3.Handset,t.u3.Tablet]).pipe((0,o.R)(this.destroy$)).subscribe(R=>{this.isHandset=R.matches}),this.setAnalysisState(this.autoRun&&this.progressState===l.AS.Progress)}initiateNetworkAnalysis(R=!1){return this.attemptLbr().pipe((0,y.zg)(q=>(this.logger.info(`LBR was ${q?"":"not "}attempted.`),this.attemptNetworkTest(R))),(0,A.b)(q=>{this.logger.info(`Network Test was ${q?"":"not "}attempted.`)}))}attemptLbr(){return this.isWebRtcNetworkTestEnabled||this.autoRun&&!this.serverRouting.isLbrRequired?(0,p.of)(!1):(this.networkTestService.setLbrState(l.eT.Started),this.networkTestService.getNetworkInfo().pipe((0,m.b)(R=>(0,x.isNil)(R)&&!n.ng.isBrowserPlatform()?(0,P._)("Invalid Network Info"):(this.testData.networkInfo=R,this.progressState=l.AS.Progress,this.uiState=l.mM.NetworkTest,this.networkTestService.runLbrAndSaveOptimalZone(this.platform))),(0,C.q)(1),(0,S.U)(R=>(this.logger.info("LBR attempt succeeded with fetched zone: ",R),!0)),(0,s.K)(R=>(this.logger.info("LBR attempt failed with: ",R),(0,p.of)("Invalid Network Info"!==R))),(0,A.b)(()=>{this.autoRun&&!this.networkTestService.isNetworkTestRequired&&this.networkTestService.sendMessage(l.Ir.LBRAutoRunDone,{networkTestStatus:this.progressState,isLbrRun:this.serverRouting.isLbrRun})}),(0,r.x)(()=>this.networkTestService.setLbrState(l.eT.Finished))))}attemptNetworkTest(R=!1){if(!this.autoRun||this.networkTestService.isNetworkTestRequired||R){this.networkTestService.setNetworkTestState(l.eT.Started),this.showAdditionalActions=!1;const q=Date.now();return this.networkTestService.getNetworkInfo().pipe((0,m.b)(ne=>(0,x.isNil)(ne)&&!n.ng.isBrowserPlatform()?(0,P._)("Invalid Network Info"):(this.testData.networkInfo=ne,this.progressState=l.AS.Progress,this.uiState=l.mM.NetworkTest,(0,a.H)(this.delayRetry).pipe(()=>this.networkTestService.startNetworkTest(this.platform)))),(0,C.q)(1),(0,y.zg)(ne=>{this.delayRetry=ne.result===l.pU.NCT_R_CAPACITY_FULL?2*(this.delayRetry||this.appConfig.networkTest.delayFactorCapacityFull):0,this.logger.info(`Network Test Delay Retry Time: ${this.delayRetry}`),this.networkTestTelemetryStatus=i.N3X.Success;const _e=this.populateNetworkTestResultData(ne);return ne.isSuccess&&this.populateNetworkConditions(),this.autoRun?this.showAutoNetworkTestResultsDialog(_e):this.focusManager.focusFirstChild(this.element.nativeElement),this.networkTestTelemetryService.sendTestDoneTelemetry({autoRun:this.autoRun,isWebRtcNetworkTest:this.isWebRtcNetworkTestEnabled,testData:this.testData,zoneOverride:this.zoneOverride,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:q},ne).pipe((0,d.h)(!0))}),(0,s.K)(ne=>(this.logger.info("Network Test failed, error code: ",ne),this.networkTestTelemetryStatus=ne.status?i.N3X.HTTPError:i.N3X.Other,this.showNetworkTestError({networkTestStatus:this.networkTestTelemetryStatus,errorDetails:(0,x.toString)(ne&&ne.status||ne),errorCode:ne.code}),this.networkTestTelemetryService.sendTestDoneTelemetry({autoRun:this.autoRun,isWebRtcNetworkTest:this.isWebRtcNetworkTestEnabled,testData:this.testData,zoneOverride:this.zoneOverride,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:q}).pipe((0,d.h)("Invalid Network Info"!==ne)))),(0,r.x)(()=>this.networkTestService.setNetworkTestState(l.eT.Finished)))}return(0,p.of)(!1)}updateZoneName(){this.logger.info("Subscribe to zone name: "),this.networkTestService.zoneName.pipe((0,o.R)(this.destroy$)).subscribe(R=>{this.zoneName=R.name})}populateNetworkTestResultData(R){if(this.networkTestHeaderText="networkTest.networkTestResultsHeader",this.setAnalysisState(!1),R.isSuccess){if(this.testData.result=R,this.progressState=R.analysis.networkQuality,this.logger.info("Populate Network test result data, result status: ",l.AS[this.progressState]),(this.progressState!==l.AS.Excellent||this.testData.networkInfo.NetworkType===n.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN)&&(this.showAdditionalActions=!0),this.showTroubleshootTips=this.progressState===l.AS.Poor||this.progressState===l.AS.Bad||this.progressState===l.AS.Excellent&&(this.testData.networkInfo.NetworkType===n.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN),this.populateMaxDisplayTestData(R),this.autoRun){let q=this.progressState;return this.progressState===l.AS.Excellent&&(this.testData.networkInfo.NetworkType===n.VV.WiFi2_4||"1"===this.testData.networkInfo.IsVPN)&&(q=l.AS.Poor,this.logger.info("Updating network test result status due to criteria: ",q)),this.networkTestService.sendMessage(l.Ir.NetworkTestAutoRunDone,{networkTestStatus:q}),q}}else this.networkTestTelemetryStatus=i.N3X.NetworkTestSdkError,this.showNetworkTestError({networkTestStatus:this.networkTestTelemetryStatus,errorDetails:R.errorDetails||(0,x.toString)(R.result),errorCode:R.result});return this.progressState}showAutoNetworkTestResultsDialog(R){if(this.logger.info("Network test result is: ",l.AS[this.progressState]),this.progressState!==l.AS.Excellent||this.progressState===l.AS.Excellent&&this.progressState!==R){this.logger.info("Network test results are not optimal; showing results dialog");const ne={nvClientApp:i.BhR.StreamingClient,networkTestHeaderText:this.networkTestHeaderText,progressState:this.progressState,uiState:this.uiState,autoRun:this.autoRun,showNetworkTest:this.showNetworkTest,testData:this.testData,maxDisplayState:this.maxDisplayState,isHandset:this.isHandset,isWebRtcNetworkTestEnabled:this.isWebRtcNetworkTestEnabled,showTroubleshootTips:this.showTroubleshootTips,networkConditionsData:this.networkConditionsData,zoneName:this.zoneName,networkTestErrorText:this.networkTestErrorText,showFirewallHelpLink:this.showFirewallHelpLink,firewallHelpUrl:this.firewallHelpUrl,firewallHelpShortUrl:this.firewallHelpShortUrl,firewallLinkText:this.firewallLinkText,showAdditionalActions:this.showAdditionalActions};this.streamerNTdialog=this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(T.N,{panelClass:"dialog-component-container",disableClose:!0,autoFocus:!1,data:ne})),this.streamerNTdialog.componentInstance.buttonClicked.pipe((0,o.R)(this.destroy$)).subscribe(_e=>{switch(_e){case l.NG.Continue:this.onClickContinue();break;case l.NG.Close:this.onClickClose();break;case l.NG.TryAgain:this.onClickTryAgain()}})}}populateNetworkConditions(){this.networkConditionsData={isVpn:"1"===this.testData.networkInfo.IsVPN,zoneOverride:this.zoneOverride,bandwidth:this.testData.result.bandwidth.measured,latency:this.testData.result.latency.measured,networkType:this.testData.networkInfo.NetworkType},this.logger.info("Current network conditions: : ",this.networkConditionsData)}populateMaxDisplayTestData(R){(0,x.isNil)(R.capableProfile)||this.testData.networkInfo.NetworkType===n.VV.WiFi2_4?this.maxDisplayState=null:this.streamingProfileService.getMaxDisplayTestData(this.autoRun).pipe((0,o.R)(this.destroy$)).subscribe(q=>{this.maxDisplayState=(0,x.isNil)(q)?null:{width:q.width,height:q.height,frameRate:q.fps}})}showNetworkTestError(R){this.logger.info("Error in network test, errorDetails: ",R),this.uiState=l.mM.Error,R.errorCode===l.pU.NCT_R_BLOCK_STREAM?(this.networkTestErrorText="common.genericLoadError",this.showFirewallHelpLink=!0,this.redirectService.getRedirectUrl(O.hE.GfnHelpFirewallNetworkTest).pipe((0,C.q)(1),(0,o.R)(this.destroy$)).subscribe(q=>{this.firewallHelpUrl=q,this.firewallHelpShortUrl=O.hD[O.hE.GfnHelpFirewallNetworkTest]}),this.firewallLinkText="networkTest.networkTestFirefallIssue",this.logger.info("Firewall URL: ",this.firewallHelpUrl)):(this.networkTestErrorText=R.networkTestStatus!==i.N3X.ClientOffline?"networkTest.encounteredProblem":"common.connectionError",this.showFirewallHelpLink=!1),this.networkTestService.sendMessage(l.Ir.NetworkTestFailed,R)}setAnalysisState(R){var q;this.analyzerData=Object.assign(Object.assign({},this.analyzerData),{isAnalysisDone:!R}),this.logger.info("Is Network Test Analysis phase on: ",R," , Is analysis done: ",null===(q=this.analyzerData)||void 0===q?void 0:q.isAnalysisDone)}onClickTryAgain(){this.networkTestHeaderText="networkTest.networkTestHeader",this.networkStatusService.onlineStatusChanged.pipe((0,v.P)(),(0,y.zg)(R=>{var q;return R?(this.autoRun&&(null===(q=this.streamerNTdialog)||void 0===q||q.close(),this.networkTestService.sendMessage(l.Ir.NetworkTestAutoRunTryAgain),this.showNetworkTest=!0,this.setAnalysisState(!0)),this.initiateNetworkAnalysis(!0).pipe((0,d.h)(R))):(this.uiState=l.mM.Error,this.showNetworkTestError({networkTestStatus:i.N3X.ClientOffline,errorDetails:i.N3X.ClientOffline,errorCode:l.wC.Success}),(0,p.of)(R))})).subscribe(R=>{this.logger.info(`Network analysis was ${R?"":"not "}started on Try Again.`)})}onClickClose(){var R;this.dialogRef&&this.dialogRef.close(),this.autoRun&&(null===(R=this.streamerNTdialog)||void 0===R||R.close(),this.networkTestService.sendMessage(l.Ir.NetworkTestClosedOnError,{networkTestStatus:this.progressState}))}onClickContinue(){var R;this.showNetworkTest=!1,this.dialogRef&&this.dialogRef.close(),this.autoRun&&(null===(R=this.streamerNTdialog)||void 0===R||R.close()),this.networkTestService.sendMessage(l.Ir.NetworkTestClosed,{networkTestStatus:this.progressState})}ngOnDestroy(){var R;this.destroy$.next(!0),this.destroy$.complete(),null===(R=this.streamerNTdialog)||void 0===R||R.close(),this.serverRouting.cleanupOnCancel().pipe((0,y.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,C.q)(1)).subscribe(()=>{this.logger.info("destroying component: network analysis cleanup is done!"),this.shutdownHandler&&this.shutdownHandler.remove()})}}return E.\u0275fac=function(R){return new(R||E)(B.Y36(n.ed),B.Y36(K.R),B.Y36(i.wU6),B.Y36(b.X),B.Y36(O.VH),B.Y36(f.Ll),B.Y36(n._J),B.Y36(D.G),B.Y36(I.mw),B.Y36(w.$),B.Y36(_.VK),B.Y36(t.Yg),B.Y36($.hV,8),B.Y36($.on),B.Y36(B.SBq),B.Y36(G.IK))},E.\u0275cmp=B.Xpm({type:E,selectors:[["gfn-network-test"]],inputs:{nvClientApp:"nvClientApp",networkTestResult:"networkTestResult",cmsId:"cmsId"},decls:2,vars:2,consts:[["fxFill","",3,"data",4,"ngIf"],["nvSpatialNavigationContainer","","nvCaptureRestoreFocus","","nvTrapFocus","","class","common-ui-network-container",3,"ngSwitch",4,"ngIf"],["fxFill","",3,"data"],["nvSpatialNavigationContainer","","nvCaptureRestoreFocus","","nvTrapFocus","",1,"common-ui-network-container",3,"ngSwitch"],[1,"common-ui-network-header",3,"ngClass"],[1,"network-test-content"],["fxLayout","column","fxLayoutAlign","center stretch",4,"ngSwitchCase"],["class","network-test-error-container",4,"ngSwitchCase"],["class","nv-button-class","fxLayout","row","fxLayoutAlign","end stretch",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center stretch"],["fxLayout","column",3,"progressState","nvTestData","maxDisplayState","isWebRtcNetworkTest"],["class","network-test-results",4,"ngIf"],[1,"network-test-results"],[3,"nvTestData","isHandset",4,"ngIf"],["ngClass","mat-tabs-font-button1","nvMatTabGroupFixUp","",4,"ngIf"],[4,"ngIf"],[3,"nvTestData","isHandset"],["ngClass","mat-tabs-font-button1","nvMatTabGroupFixUp",""],[3,"label"],[3,"networkConditionsData"],[1,"common-ui-network-title"],[1,"network-test-error-container"],[3,"zoneName","networkTestErrorText","showFirewallHelpLink","firewallHelpUrl","firewallHelpShortUrl","firewallLinkText","nvClient","close","tryAgain","continue"],["fxLayout","row","fxLayoutAlign","end stretch",1,"nv-button-class"],[3,"placementCriteria","tryAgain","close","continue"]],template:function(R,q){1&R&&(B.YNc(0,F,1,1,"gfn-network-test-analyzer",0),B.YNc(1,H,9,8,"div",1)),2&R&&(B.Q6J("ngIf",q.showNetworkTest&&q.autoRun),B.xp6(1),B.Q6J("ngIf",q.showNetworkTest&&!q.autoRun))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),E})()},56825:(Ge,ae,e)=>{"use strict";e.d(ae,{AS:()=>x,CS:()=>n,Ih:()=>r,Ir:()=>L,JO:()=>S,NG:()=>M,Q1:()=>l,VR:()=>p,eT:()=>o,mM:()=>v,pU:()=>d,wC:()=>m});var t=e(18164),n=(()=>{return(i=n||(n={})).mall="gfnpc mall_client",i.streamer="gfnpc streamer_client",i.browser="gfn_browser_client",n;var i})(),x=(()=>{return(i=x||(x={}))[i.Progress=-1]="Progress",i[i.Excellent=0]="Excellent",i[i.Poor=1]="Poor",i[i.PoorWifi_2_4=2]="PoorWifi_2_4",i[i.Bad=3]="Bad",i[i.Error=4]="Error",i[i.NA=5]="NA",x;var i})(),M=(()=>{return(i=M||(M={})).Close="Close",i.Continue="Continue",i.TryAgain="TryAgain",M;var i})(),L=(()=>{return(i=L||(L={})).NetworkTestFailed="NetworkTestFailed",i.NetworkTestAutoRunDone="NetworkTestAutoRunDone",i.NetworkTestAutoRunTryAgain="NetworkTestAutoRunTryAgain",i.NetworkTestClosed="NetworkTestClosed",i.NetworkTestClosedOnError="NetworkTestClosedOnError",i.LBRAutoRunDone="LBRAutoRunDone",L;var i})(),p=(()=>{return(i=p||(p={})).NetworkTestFailed="NetworkTestFailed",i.NetworkTestCancelled="NetworkTestCancelled",i.RedResult="RedResult",i.StreamerNetworkError="StreamerNetworkError",i.StreamerFrameLossTimeoutError="StreamerFrameLossTimeoutError",i.None="None",p;var i})(),o=(()=>{return(i=o||(o={})).Started="Started",i.Finished="Finished",o;var i})(),v=(()=>{return(i=v||(v={})).NetworkTest="NETWORKTEST",i.Error="ERROR",v;var i})(),d=(()=>{return(i=d||(d={}))[i.NCT_R_UNKNOWN=0]="NCT_R_UNKNOWN",i[i.NCT_R_SUCCESS=1]="NCT_R_SUCCESS",i[i.NCT_R_INVALID_PARAM=2]="NCT_R_INVALID_PARAM",i[i.NCT_R_SYN_FAILED=3]="NCT_R_SYN_FAILED",i[i.NCT_R_FIN_FAILED=4]="NCT_R_FIN_FAILED",i[i.NCT_R_AUTH_FAILED=5]="NCT_R_AUTH_FAILED",i[i.NCT_R_POST_FAILED=6]="NCT_R_POST_FAILED",i[i.NCT_R_TEST_IN_PROGRESS=7]="NCT_R_TEST_IN_PROGRESS",i[i.NCT_R_CANCELED=8]="NCT_R_CANCELED",i[i.NCT_R_CAPACITY_FULL=9]="NCT_R_CAPACITY_FULL",i[i.NCT_R_SESSION_EXIST=10]="NCT_R_SESSION_EXIST",i[i.NCT_R_INVALID_DATA=11]="NCT_R_INVALID_DATA",i[i.NCT_R_SETUP_FAILED=12]="NCT_R_SETUP_FAILED",i[i.NCT_R_RETRYABLE_POST_FAILURE=13]="NCT_R_RETRYABLE_POST_FAILURE",i[i.NCT_R_BLOCK_STREAM=14]="NCT_R_BLOCK_STREAM",d;var i})(),m=(()=>{return(i=m||(m={}))[i.Success=0]="Success",m;var i})();const S={"WiFi 5.0":"5GHz","WiFi 2.4":"2.4GHz"};var r=(()=>{return(i=r||(r={}))[i.Any=0]="Any",i[i.VPN=1]="VPN",i[i.ZoneOverride=2]="ZoneOverride",i[i.Latency_more_150=3]="Latency_more_150",i[i.Latency_more_80=4]="Latency_more_80",i[i.Wifi_2_4=5]="Wifi_2_4",i[i.Wifi_2_4_or_5=6]="Wifi_2_4_or_5",i[i.Bandwidth_less_15=7]="Bandwidth_less_15",i[i.Offline=8]="Offline",r;var i})();const l=[{priority:0,text:"networkTest.youAreOfflineCheckConnection",condition:r.Offline,hasLink:!1,linkUrl:null},{priority:1,text:"networkTest.disconnectFromVpn",condition:r.VPN,hasLink:!1,linkUrl:null},{priority:2,text:"networkTest.youHaveZoveOverride",condition:r.ZoneOverride,hasLink:!1,linkUrl:null},{priority:3,text:"networkTest.farAwayFromServers",condition:r.Latency_more_150,hasLink:!0,linkUrl:t.hE.GfnServerStatus},{priority:4,text:"networkTest.wifi_2_4_Message",condition:r.Wifi_2_4,hasLink:!1,linkUrl:null},{priority:5,text:"networkTest.connectToEthernet",condition:r.Wifi_2_4_or_5,hasLink:!1,linkUrl:null},{priority:6,text:"networkTest.stopOtherStreaming",condition:r.Any,hasLink:!1,linkUrl:null},{priority:7,text:"networkTest.restartRouter",condition:r.Any,hasLink:!1,linkUrl:null},{priority:8,text:"networkTest.farAwayFromServers",condition:r.Latency_more_80,hasLink:!0,linkUrl:t.hE.GfnServerStatus},{priority:9,text:"networkTest.contactIspProvider",condition:r.Bandwidth_less_15,hasLink:!1,linkUrl:null}]},13666:(Ge,ae,e)=>{"use strict";e.d(ae,{wv:()=>s,VR:()=>Y.VR,U5:()=>i.U,Ir:()=>Y.Ir,Eu:()=>r.E,CS:()=>Y.CS,R2:()=>t.R,eT:()=>Y.eT,AS:()=>Y.AS,vg:()=>n.v});var t=e(91727),n=e(22696),x=e(85566),M=e(47504),L=e(23815),p=e(2629),P=e(74266),a=e(13800),o=e(51325),v=e(4042),y=e(64710),C=e(23827),A=e(39609),d=e(84904),m=e(23011),S=e(50906);let s=(()=>{class T{constructor(K,b,f,D,I){this.loggingService=K,this.networkTestService=b,this.networkConfigurationService=f,this.networkTestTelemetry=D,this.idmService=I,this.logger=this.loggingService.getLogger("shared/background-network-test.service"),this.isWebrtcNT=!!y.ng.isBrowserPlatform()}initNetworkTest(){return this.networkTestService.initialize(),(0,M.aj)([this.idmService.accountStatusChanged.pipe((0,p.q)(1),(0,P.h)(K=>K.isAuthenticated)),this.networkConfigurationService.getNetworkOverride()]).pipe((0,p.q)(1),(0,a.w)(([K,b])=>((0,x.isNil)(b)||(this.overrideZone=b,this.logger.info(`The user selected a zone ${b.name} manually and runNetworkTest is: `,b.runNetworkTest)),this.networkTestService.isWebrtcNetworkTestRequired(b,!0).pipe((0,p.q)(1)))),(0,a.w)(K=>K?(this.logger.info("Background Network test will be run."),this.launchNetworkTest()):(0,L.of)(null)),(0,a.w)(K=>this.sendTelemetry(K)),(0,a.w)(K=>K?(this.networkTestService.setNetworkTestState(Y.eT.Finished),this.networkTestService.setNetworkTestExpiryTime()):(0,L.of)(!1)),(0,o.K)(K=>(this.logger.info("Background Network Test failed, error: ",K),this.networkTestTelemetryStatus=K.status?C.N3X.HTTPError:C.N3X.Other,this.networkTestTelemetry.sendTestDoneTelemetry({autoRun:!0,isWebRtcNetworkTest:this.isWebrtcNT,testData:K.result,zoneOverride:this.overrideZone,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:this.startTime}).pipe((0,v.h)(!0)))))}launchNetworkTest(){return this.startTime=Date.now(),this.networkTestService.startNetworkTest(Y.CS.browser)}sendTelemetry(K){return K?(this.networkTestTelemetryStatus=K.errorDetails?C.N3X.Failure:C.N3X.Success,this.logger.info("Background Network Test result:",K),this.networkTestTelemetry.sendTestDoneTelemetry({autoRun:!0,isWebRtcNetworkTest:this.isWebrtcNT,testData:{result:K},zoneOverride:this.overrideZone,networkTestTelemetryStatus:this.networkTestTelemetryStatus,startTime:this.startTime},K).pipe((0,v.h)(!0))):(this.logger.info("Background network test was not run as it did not meet the expiry duration requirements."),(0,L.of)(!1))}}return T.\u0275fac=function(K){return new(K||T)(A.LFG(y.ed),A.LFG(t.R),A.LFG(d.XS),A.LFG(m.$),A.LFG(S.No))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var r=e(32325),i=(e(41908),e(8560)),Y=(e(92787),e(56825))},32325:(Ge,ae,e)=>{"use strict";e.d(ae,{E:()=>tn});var t=e(52954),n=e(50239),x=e(715),M=e(39536),L=e(37661),p=e(34375),P=e(11095),a=e(41908),o=e(8560),v=e(85566),y=e(96671),C=e(86283),A=e(10907),d=e(71265),m=e(64710),S=e(56825),s=e(39609),r=e(39382),l=e(72221),i=e(91727);function O(ct,ft){1&ct&&(s.TgZ(0,"div",5),s._UZ(1,"mat-icon",11),s.TgZ(2,"p",7),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.networkTestMyComputer")))}function Y(ct,ft){1&ct&&(s.TgZ(0,"div",5),s._UZ(1,"mat-icon",12),s.TgZ(2,"p",7),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.myDevice")))}function T(ct,ft){if(1&ct&&(s.ynx(0),s._UZ(1,"div",15),s.BQk()),2&ct){const ot=ft.index,Ct=s.oxw(2);s.xp6(1),s.Q6J("ngClass",Ct.progressCount===ot?"active":"normal")}}const B=function(){return[]};function K(ct,ft){if(1&ct&&(s.TgZ(0,"div",13),s.YNc(1,T,2,1,"ng-container",14),s.qZA()),2&ct){const ot=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.DdM(1,B).constructor(ot.dotCount))}}function b(ct,ft){if(1&ct&&s._UZ(0,"gfn-network-test-warning",16),2&ct){const ot=s.oxw();s.Q6J("warningInfo",ot.displayData.warningInfo)}}function f(ct,ft){1&ct&&(s.TgZ(0,"div",5),s._UZ(1,"mat-icon",19),s.TgZ(2,"p",7),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.ethernet")))}function D(ct,ft){if(1&ct&&(s.TgZ(0,"div",5),s._UZ(1,"mat-icon",20),s.TgZ(2,"p",7),s._uU(3),s.ALo(4,"translate"),s.qZA(),s.TgZ(5,"p",8),s._uU(6),s.ALo(7,"translate"),s.qZA()()),2&ct){const ot=s.oxw(2);s.xp6(3),s.Oqu(s.lcZ(4,2,ot.nvTestData.networkInfo.NetworkName)),s.xp6(3),s.Oqu(s.lcZ(7,4,ot.displayData.wifiRouterVersion))}}function I(ct,ft){1&ct&&(s.TgZ(0,"div",5),s._UZ(1,"mat-icon",21),s.TgZ(2,"p",7),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.genericNetworkName")))}function w(ct,ft){if(1&ct&&(s.ynx(0),s._UZ(1,"div",15),s.BQk()),2&ct){const ot=ft.index,Ct=s.oxw(2);s.xp6(1),s.Q6J("ngClass",Ct.progressCount===Ct.dotCount+ot?"active":"normal")}}function _(ct,ft){if(1&ct&&(s.ynx(0),s._UZ(1,"div",15),s.BQk()),2&ct){const ot=ft.index,Ct=s.oxw(2);s.xp6(1),s.Q6J("ngClass",Ct.progressCount===2*Ct.dotCount+ot?"active":"normal")}}function $(ct,ft){if(1&ct&&(s.TgZ(0,"div",17),s.YNc(1,f,5,3,"div",1),s.YNc(2,D,8,6,"div",1),s.YNc(3,I,5,3,"div",1),s.TgZ(4,"div",13),s.YNc(5,w,2,1,"ng-container",14),s.qZA(),s.TgZ(6,"div",5),s._UZ(7,"mat-icon",18),s.TgZ(8,"p",7),s._uU(9),s.ALo(10,"translate"),s.qZA()(),s.TgZ(11,"div",13),s.YNc(12,_,2,1,"ng-container",14),s.qZA()()),2&ct){const ot=s.oxw();s.xp6(1),s.Q6J("ngIf",!ot.isWebRtcNetworkTest&&ot.displayToggles.isEthernet),s.xp6(1),s.Q6J("ngIf",!ot.isWebRtcNetworkTest&&!ot.displayToggles.isEthernet),s.xp6(1),s.Q6J("ngIf",ot.isWebRtcNetworkTest),s.xp6(2),s.Q6J("ngForOf",s.DdM(8,B).constructor(ot.dotCount)),s.xp6(4),s.Oqu(s.lcZ(10,6,"networkTest.networkTestIsp")),s.xp6(3),s.Q6J("ngForOf",s.DdM(9,B).constructor(ot.dotCount))}}function G(ct,ft){1&ct&&s._UZ(0,"mat-icon",30)}function F(ct,ft){if(1&ct&&s._UZ(0,"mat-icon",31),2&ct){const ot=s.oxw(2);s.Q6J("ngClass",ot.resultIconClass)}}const J=function(ct,ft){return{resolution:ct,fps:ft}};function z(ct,ft){if(1&ct&&(s.TgZ(0,"div",32)(1,"span",33),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&ct){const ot=s.oxw(2);s.xp6(2),s.Oqu(s.xi3(3,1,"networkTest.networkTestSupports",s.WLB(4,J,ot.displayData.resolution,ot.displayData.fps)))}}function Z(ct,ft){if(1&ct&&(s.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),s.YNc(4,G,1,0,"mat-icon",26),s.YNc(5,F,1,1,"ng-template",null,27,s.W1O),s.TgZ(7,"div",28),s._uU(8),s.ALo(9,"translate"),s.qZA()()(),s.YNc(10,z,4,7,"div",29),s.qZA()()),2&ct){const ot=s.MAs(6),Ct=s.oxw();s.xp6(4),s.Q6J("ngIf",Ct.displayToggles.showSuccessIcons)("ngIfElse",ot),s.xp6(4),s.Oqu(s.lcZ(9,4,Ct.displayData.resultText)),s.xp6(2),s.Q6J("ngIf",Ct.displayToggles.showBestResolutionText)}}let ue=(()=>{class ct{constructor(ot,Ct,Tt,Xt){var nn;this.breakpointObserver=Tt,this.networkTestService=Xt,this.displayData={},this.displayToggles={},this.isWarningNetworkTest=!1,this.progressCount=-1,this.dotCount=3,this.destroy$=new y.xQ,this.breakpointDimension=["(max-width: 412px)"],this.logger=Ct.getLogger("libraries/network-test/NetworkTestComponent"),this.mobileMode=!(null===(nn=null==ot?void 0:ot.featureEnablement)||void 0===nn||!nn.mobileMode)}ngOnInit(){var ot,Ct,Tt,Xt,nn,On,Ye,Je;this.displayToggles.isEthernet=null===(Tt=null===(Ct=null===(ot=this.nvTestData)||void 0===ot?void 0:ot.networkInfo)||void 0===Ct?void 0:Ct.NetworkType)||void 0===Tt?void 0:Tt.includes(m.VV.Ethernet),this.displayData.wifiRouterVersion=S.JO[null===(nn=null===(Xt=this.nvTestData)||void 0===Xt?void 0:Xt.networkInfo)||void 0===nn?void 0:nn.NetworkType]||"",this.displayData.header="networkTest.networkTestHeader",this.displayData.zoneName=null===(Je=null===(Ye=null===(On=this.nvTestData)||void 0===On?void 0:On.result)||void 0===Ye?void 0:Ye.zone)||void 0===Je?void 0:Je.name,this.breakpointObserver.observe(this.breakpointDimension).pipe((0,A.R)(this.destroy$)).subscribe(Rt=>{this.dotCount=Rt.matches?2:3})}ngOnChanges(){var ot,Ct;this.logger.info("Network test status  changed: ",S.AS[this.progressState]),(0,v.isNil)(this.progressState)||this.progressState===S.AS.Progress?this.progressState===S.AS.Progress&&this.resetProgressState():(this.stopProgressAnimation(),this.updateResultIconClass(this.progressState),this.displayToggles.showResults=!0,this.displayToggles.isVPNConnection="1"===(null===(Ct=null===(ot=this.nvTestData)||void 0===ot?void 0:ot.networkInfo)||void 0===Ct?void 0:Ct.IsVPN),this.setResultStates(this.progressState),this.setMaxDisplayState(this.maxDisplayState)),this.displayToggles.showDotIcons=this.progressState===S.AS.Progress||this.displayToggles.isExcellentResult&&this.displayData.warningInfo!==S.AS.PoorWifi_2_4}updateZoneName(){this.logger.info("Subscribe to zone name: "),this.zoneNameSub&&(this.zoneNameSub.unsubscribe(),this.zoneNameSub=null),this.zoneNameSub=this.networkTestService.zoneName.subscribe(ot=>{this.displayData.zoneName=ot.name})}updateResultIconClass(ot){var Ct,Tt,Xt,nn;this.progressState=ot,this.resultIconClass=this.progressState===S.AS.Bad?"error":this.progressState===S.AS.Poor||(null===(Tt=null===(Ct=this.nvTestData)||void 0===Ct?void 0:Ct.networkInfo)||void 0===Tt?void 0:Tt.NetworkType)===m.VV.WiFi2_4||"1"===(null===(nn=null===(Xt=this.nvTestData)||void 0===Xt?void 0:Xt.networkInfo)||void 0===nn?void 0:nn.IsVPN)?"warn":"success"}resetProgressState(){var ot,Ct;this.startProgressAnimation(),this.updateZoneName(),this.displayData.wifiRouterVersion=S.JO[null===(Ct=null===(ot=this.nvTestData)||void 0===ot?void 0:ot.networkInfo)||void 0===Ct?void 0:Ct.NetworkType]||"",this.displayData.header="networkTest.networkTestHeader",this.resetEthernetState(),this.isWarningNetworkTest=!1}resetEthernetState(){var ot,Ct;this.nvTestData&&this.nvTestData.networkInfo&&(this.displayToggles={isEthernet:null===(Ct=null===(ot=this.nvTestData.networkInfo)||void 0===ot?void 0:ot.NetworkType)||void 0===Ct?void 0:Ct.includes(m.VV.Ethernet)})}startProgressAnimation(){(0,v.isNil)(this.animationSub)&&(this.animationSub=(0,C.F)(180).pipe((0,d.b)(()=>{this.progressCount=this.progressCount+1,this.progressCount=this.progressCount%(3*this.dotCount)})).subscribe())}stopProgressAnimation(){this.animationSub&&(this.animationSub.unsubscribe(),this.animationSub=null,this.progressCount=-1)}setResultStates(ot){var Ct,Tt,Xt,nn;switch(this.displayData.header="networkTest.networkTestResultsHeader",ot){case S.AS.Excellent:this.displayData.resultText=this.displayToggles.isVPNConnection||(null===(Tt=null===(Ct=this.nvTestData)||void 0===Ct?void 0:Ct.networkInfo)||void 0===Tt?void 0:Tt.NetworkType)===m.VV.WiFi2_4?"networkTest.networkTestPoorWifiMsg":"networkTest.networkTestSuccessMsg",this.displayToggles.isExcellentResult=!0;break;case S.AS.Poor:this.isWarningNetworkTest=!0,this.displayData.warningInfo=S.AS.Poor,this.displayData.resultText="networkTest.networkTestPoorWifiMsg";break;case S.AS.Bad:this.isWarningNetworkTest=!0,this.displayData.warningInfo=S.AS.Bad,this.displayData.resultText="networkTest.networkTestBadWifiMsg"}this.displayToggles.showSuccessIcons=this.displayToggles.isExcellentResult&&!this.displayToggles.isVPNConnection&&(null===(nn=null===(Xt=this.nvTestData)||void 0===Xt?void 0:Xt.networkInfo)||void 0===nn?void 0:nn.NetworkType)!==m.VV.WiFi2_4}setMaxDisplayState(ot){this.displayToggles.showBestResolutionText=!this.isWebRtcNetworkTest&&!(0,v.isNil)(ot),(0,v.isNil)(ot)||(this.displayData.resolution=`\u2066${ot.width} x ${ot.height}\u2069`,this.displayData.fps=ot.frameRate)}ngOnDestroy(){this.zoneNameSub&&(this.zoneNameSub.unsubscribe(),this.zoneNameSub=null),this.destroy$.next(!0),this.destroy$.complete()}}return ct.\u0275fac=function(ot){return new(ot||ct)(s.Y36(r.VK),s.Y36(m.ed),s.Y36(l.Yg),s.Y36(i.R))},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-network-icons"]],inputs:{progressState:"progressState",nvTestData:"nvTestData",maxDisplayState:"maxDisplayState",isWebRtcNetworkTest:"isWebRtcNetworkTest"},features:[s.TTD],decls:17,vars:12,consts:[[1,"nv-ui-assets"],["class","network-test-icons",4,"ngIf"],["class","nv-dot-icons-container",4,"ngIf","ngIfElse"],["isWarningView",""],["class","network-isp-icons",4,"ngIf"],[1,"network-test-icons"],["svgIcon","storage",1,"nw-icon","custom-svg-icon"],[1,"caption","font-body3"],[1,"caption","zone","font-body3"],[1,"common-ui-errorDetails"],["fxLayout","row","fxLayoutAlign","center start",4,"ngIf"],["svgIcon","desktop_mac",1,"nw-icon","custom-svg-icon"],["svgIcon","devices",1,"nw-icon","custom-svg-icon"],[1,"nv-dot-icons-container"],[4,"ngFor","ngForOf"],[1,"nv-dot-icons","animated",3,"ngClass"],[3,"warningInfo"],[1,"network-isp-icons"],["svgIcon","isp",1,"nw-icon","custom-svg-icon"],["svgIcon","ethernet",1,"nw-icon","custom-svg-icon"],["svgIcon","wifi",1,"nw-icon","custom-svg-icon"],["svgIcon","network_signal",1,"nw-icon","custom-svg-icon"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutAlign","start center"],[1,"result-text-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","center start",1,"font-sub1"],["class","nv-custom-icons nw-icon-small result-icon success icon-optimized_reg","mat-font-set","material-icons",4,"ngIf","ngIfElse"],["isWarningIconView",""],[1,"result-text"],["class","result-resolution-container",4,"ngIf"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon-small","result-icon","success","icon-optimized_reg"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon-small","result-icon","icon-alert-circle_reg",3,"ngClass"],[1,"result-resolution-container"],[1,"font-body3"]],template:function(ot,Ct){if(1&ot&&(s.TgZ(0,"div",0),s.YNc(1,O,5,3,"div",1),s.YNc(2,Y,5,3,"div",1),s.YNc(3,K,2,2,"div",2),s.YNc(4,b,1,1,"ng-template",null,3,s.W1O),s.YNc(6,$,13,10,"div",4),s.TgZ(7,"div",5),s._UZ(8,"mat-icon",6),s.TgZ(9,"p",7),s._uU(10),s.ALo(11,"translate"),s.qZA(),s.TgZ(12,"p",8),s._uU(13),s.ALo(14,"translate"),s.qZA()()(),s.TgZ(15,"div",9),s.YNc(16,Z,11,6,"div",10),s.qZA()),2&ot){const Tt=s.MAs(5);s.xp6(1),s.Q6J("ngIf",!Ct.mobileMode),s.xp6(1),s.Q6J("ngIf",Ct.mobileMode),s.xp6(1),s.Q6J("ngIf",Ct.displayToggles.showDotIcons)("ngIfElse",Tt),s.xp6(3),s.Q6J("ngIf",!Ct.isWarningNetworkTest),s.xp6(4),s.Oqu(s.lcZ(11,8,"common.gfn")),s.xp6(3),s.Oqu(s.lcZ(14,10,Ct.displayData.zoneName)),s.xp6(3),s.Q6J("ngIf",Ct.displayToggles.showResults)}},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),ct})();var u=e(23827);function k(ct,ft){1&ct&&(s.TgZ(0,"div",3),s._UZ(1,"mat-icon",21),s.TgZ(2,"p",5),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.networkTestMyComputer")))}function W(ct,ft){1&ct&&(s.TgZ(0,"div",3),s._UZ(1,"mat-icon",22),s.TgZ(2,"p",5),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct&&(s.xp6(3),s.Oqu(s.lcZ(4,1,"networkTest.myDevice")))}function N(ct,ft){1&ct&&s._UZ(0,"gfn-server-status-link",23)}function H(ct,ft){if(1&ct&&s._UZ(0,"a",24),2&ct){const ot=s.oxw();s.s9C("translate",ot.firewallLinkText),s.Q6J("href",ot.firewallHelpUrl,s.LSH)("shortUrl",ot.firewallHelpShortUrl)}}function h(ct,ft){1&ct&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&ct&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"common.quit")))}function E(ct,ft){1&ct&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&ct&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"common.close")))}let ee=(()=>{class ct{constructor(ot){var Ct;this.showFirewallHelpLink=!1,this.nvClient=u.BhR.MallClient,this.tryAgain=new s.vpe,this.close=new s.vpe,this.continue=new s.vpe,this.networkTestStates=S.AS,this.mobileMode=!(null===(Ct=null==ot?void 0:ot.featureEnablement)||void 0===Ct||!Ct.mobileMode)}ngOnInit(){this.autoRun=this.nvClient===u.BhR.StreamingClient}onClickClose(){this.close.emit()}onClickTryAgain(){this.tryAgain.emit()}onClickContinue(){this.continue.emit()}}return ct.\u0275fac=function(ot){return new(ot||ct)(s.Y36(r.VK))},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-network-test-error"]],inputs:{networkTestErrorText:"networkTestErrorText",zoneName:"zoneName",showFirewallHelpLink:"showFirewallHelpLink",firewallHelpUrl:"firewallHelpUrl",firewallHelpShortUrl:"firewallHelpShortUrl",firewallLinkText:"firewallLinkText",nvClient:"nvClient"},outputs:{tryAgain:"tryAgain",close:"close",continue:"continue"},decls:31,vars:19,consts:[[1,"nv-ui-assets"],["class","network-test-icons",4,"ngIf"],[3,"warningInfo"],[1,"network-test-icons"],["svgIcon","storage",1,"nw-icon","custom-svg-icon"],[1,"caption","font-body3"],[1,"caption","zone","font-body3"],[1,"common-ui-errorDetails"],["fxLayout","row","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutAlign","start center"],[1,"result-text-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","center start",1,"font-sub1"],["mat-font-set","nv-custom-icon",1,"nv-custom-icons","nw-icon-small","result-icon","icon-alert-circle_reg","error"],["fxFlex","","fxLayout","column","fxLayoutAlign","start start"],[1,"result-text"],["class","error-url",4,"ngIf"],["class","font-body2-link",3,"href","shortUrl","translate",4,"ngIf"],[1,"nv-button-class","error-dlg-buttons"],["mat-button","",1,"error-dialog-button","font-button2",3,"click"],["mat-button","","cdkFocusInitial","",1,"error-dialog-button","font-button2","error-background-active-btn",3,"click"],[4,"ngIf"],["svgIcon","desktop_mac",1,"nw-icon","custom-svg-icon"],["svgIcon","devices",1,"nw-icon","custom-svg-icon"],[1,"error-url"],[1,"font-body2-link",3,"href","shortUrl","translate"]],template:function(ot,Ct){1&ot&&(s.TgZ(0,"div",0),s.YNc(1,k,5,3,"div",1),s.YNc(2,W,5,3,"div",1),s._UZ(3,"gfn-network-test-warning",2),s.TgZ(4,"div",3),s._UZ(5,"mat-icon",4),s.TgZ(6,"p",5),s._uU(7),s.ALo(8,"translate"),s.qZA(),s.TgZ(9,"p",6),s._uU(10),s.ALo(11,"translate"),s.qZA()()(),s.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),s._UZ(17,"mat-icon",12),s.TgZ(18,"div",13)(19,"div",14),s._uU(20),s.ALo(21,"translate"),s.qZA(),s.YNc(22,N,1,0,"gfn-server-status-link",15),s.YNc(23,H,1,3,"a",16),s.qZA()()()()()(),s.TgZ(24,"div",17)(25,"button",18),s.NdJ("click",function(){return Ct.onClickTryAgain()}),s._uU(26),s.ALo(27,"translate"),s.qZA(),s.TgZ(28,"button",19),s.NdJ("click",function(){return Ct.onClickClose()}),s.YNc(29,h,3,3,"span",20),s.YNc(30,E,3,3,"span",20),s.qZA()()),2&ot&&(s.xp6(1),s.Q6J("ngIf",!Ct.mobileMode),s.xp6(1),s.Q6J("ngIf",Ct.mobileMode),s.xp6(1),s.Q6J("warningInfo",Ct.networkTestStates.Bad),s.xp6(4),s.Oqu(s.lcZ(8,11,"common.gfn")),s.xp6(3),s.Oqu(s.lcZ(11,13,Ct.zoneName)),s.xp6(10),s.Oqu(s.lcZ(21,15,Ct.networkTestErrorText)),s.xp6(2),s.Q6J("ngIf",!Ct.showFirewallHelpLink),s.xp6(1),s.Q6J("ngIf",Ct.showFirewallHelpLink),s.xp6(3),s.hij(" ",s.lcZ(27,17,"common.tryAgain")," "),s.xp6(3),s.Q6J("ngIf",Ct.autoRun),s.xp6(1),s.Q6J("ngIf",!Ct.autoRun))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),ct})();var R=e(2629),q=e(7675),ne=e(51637),_e=e(18937),U=e(90657),re=e(22435);const pe=function(ct,ft){return{warn:ct,error:ft}};function Pe(ct,ft){if(1&ct&&(s.TgZ(0,"div",6)(1,"div",7)(2,"p",10),s._uU(3),s.ALo(4,"translate"),s.qZA()(),s.TgZ(5,"div",11)(6,"p",12),s._uU(7),s.qZA()(),s.TgZ(8,"div",8)(9,"p",12),s._uU(10),s.qZA()(),s.TgZ(11,"div",8)(12,"p",12),s._uU(13),s.qZA()()()),2&ct){const ot=ft.$implicit;s.xp6(3),s.hij(" ",s.lcZ(4,5,ot.settingLabel)," "),s.xp6(2),s.Q6J("ngClass",s.WLB(7,pe,ot.isPoorValue,ot.isBadValue)),s.xp6(2),s.Oqu(ot.measuredValue),s.xp6(3),s.Oqu(ot.requiredValue),s.xp6(3),s.Oqu(ot.recommendedValue)}}function Te(ct,ft){if(1&ct&&(s.TgZ(0,"div",5)(1,"div",6)(2,"div",7),s._uU(3,"\xa0"),s.qZA(),s.TgZ(4,"div",8)(5,"p"),s._uU(6),s.ALo(7,"translate"),s.qZA()(),s.TgZ(8,"div",8)(9,"p"),s._uU(10),s.ALo(11,"translate"),s.qZA()(),s.TgZ(12,"div",8)(13,"p"),s._uU(14),s.ALo(15,"translate"),s.qZA()()(),s.YNc(16,Pe,14,10,"div",9),s.qZA()),2&ct){const ot=s.oxw();s.xp6(6),s.Oqu(s.lcZ(7,4,"networkTest.networkTestMeasured")),s.xp6(4),s.Oqu(s.lcZ(11,6,"networkTest.networkTestRequired")),s.xp6(4),s.Oqu(s.lcZ(15,8,"common.recommended")),s.xp6(2),s.Q6J("ngForOf",ot.propertyData)}}function me(ct,ft){if(1&ct&&(s.TgZ(0,"div",5)(1,"div",14)(2,"p"),s._uU(3),s.ALo(4,"translate"),s.qZA()(),s.TgZ(5,"div",6)(6,"p",15),s._uU(7),s.ALo(8,"translate"),s.qZA(),s.TgZ(9,"p",16),s._uU(10),s.qZA()(),s.TgZ(11,"div",6)(12,"p",15),s._uU(13),s.ALo(14,"translate"),s.qZA(),s.TgZ(15,"p",17),s._uU(16),s.qZA()(),s.TgZ(17,"div",18)(18,"p",15),s._uU(19),s.ALo(20,"translate"),s.qZA(),s.TgZ(21,"p",17),s._uU(22),s.qZA()()()),2&ct){const ot=ft.$implicit;s.xp6(3),s.Oqu(s.lcZ(4,8,ot.settingLabel)),s.xp6(4),s.Oqu(s.lcZ(8,10,"networkTest.networkTestMeasured")),s.xp6(2),s.Q6J("ngClass",s.WLB(16,pe,ot.isPoorValue,ot.isBadValue)),s.xp6(1),s.hij(" ",ot.measuredValue," "),s.xp6(3),s.Oqu(s.lcZ(14,12,"networkTest.networkTestRequired")),s.xp6(3),s.Oqu(ot.requiredValue),s.xp6(3),s.Oqu(s.lcZ(20,14,"common.recommended")),s.xp6(3),s.Oqu(ot.recommendedValue)}}function et(ct,ft){if(1&ct&&(s.TgZ(0,"div",5),s.YNc(1,me,23,19,"div",13),s.qZA()),2&ct){const ot=s.oxw();s.xp6(1),s.Q6J("ngForOf",ot.propertyData)}}function Xe(ct,ft){1&ct&&(s.ynx(0),s.TgZ(1,"span",19),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.BQk()),2&ct&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"networkTest.overrideZoneWarning")))}let Ze=(()=>{class ct{constructor(ot){this.networkConfigurationService=ot}ngOnInit(){this.networkConfigurationService.getNetworkOverride().pipe((0,R.q)(1)).subscribe(ot=>{this.showZoneOverrideWarning=!(0,v.isNil)(ot)&&this.nvTestData.result.bandwidth.measured>=this.nvTestData.result.bandwidth.recommended&&this.nvTestData.result.frameLoss.measured<this.nvTestData.result.frameLoss.recommended&&this.nvTestData.result.latency.measured<this.nvTestData.result.latency.recommended&&"0"===this.nvTestData.networkInfo.IsVPN&&this.nvTestData.networkInfo.NetworkType!==m.VV.WiFi2_4}),this.constructResults()}constructResults(){this.propertyData=[{settingLabel:"networkTest.bandwidth",measuredValue:this.nvTestData.result.bandwidth.measured>=this.nvTestData.result.bandwidth.recommended?`> ${this.nvTestData.result.bandwidth.measured}`:this.nvTestData.result.bandwidth.measured,recommendedValue:`> ${this.nvTestData.result.bandwidth.recommended}`,requiredValue:`> ${this.nvTestData.result.bandwidth.limit}`,isPoorValue:(0,v.inRange)(this.nvTestData.result.bandwidth.measured,this.nvTestData.result.bandwidth.limit,this.nvTestData.result.bandwidth.recommended),isBadValue:this.nvTestData.result.bandwidth.measured<=this.nvTestData.result.bandwidth.limit},{settingLabel:"networkTest.packetLoss",measuredValue:this.nvTestData.result.frameLoss.measured.toFixed(1),recommendedValue:`< ${this.nvTestData.result.frameLoss.recommended.toFixed(1)}`,requiredValue:`< ${this.nvTestData.result.frameLoss.limit.toFixed(1)}`,isPoorValue:(0,v.inRange)(this.nvTestData.result.frameLoss.measured,this.nvTestData.result.frameLoss.recommended,this.nvTestData.result.frameLoss.limit),isBadValue:this.nvTestData.result.frameLoss.measured>=this.nvTestData.result.frameLoss.limit},{settingLabel:"networkTest.latency",measuredValue:this.nvTestData.result.latency.measured,recommendedValue:`< ${this.nvTestData.result.latency.recommended}`,requiredValue:`< ${this.nvTestData.result.latency.limit}`,isPoorValue:(0,v.inRange)(this.nvTestData.result.latency.measured,this.nvTestData.result.latency.recommended,this.nvTestData.result.latency.limit),isBadValue:this.nvTestData.result.latency.measured>=this.nvTestData.result.latency.limit}]}}return ct.\u0275fac=function(ot){return new(ot||ct)(s.Y36(q.X))},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-network-completed"]],inputs:{nvTestData:"nvTestData",isHandset:"isHandset"},decls:6,vars:3,consts:[["fxLayout","column","tabindex","0",1,"common-ui-network-content"],["fxLayout","column","fxFlex","",1,"div-table","font-sub2"],["fxLayout","column","fxFlex","",4,"ngIf"],["fxLayout","row",1,"override-warning-container"],[4,"ngIf"],["fxLayout","column","fxFlex",""],["fxLayout","row","fxFlex","",1,"div-table-row"],[1,"div-table-col-header","font-body2"],[1,"div-table-col","font-body2"],["class","div-table-row","fxLayout","row","fxFlex","",4,"ngFor","ngForOf"],["nvEllipsifiedTextWithTooltip","","tooltipClass","mat-tooltip-font-body3"],[1,"div-table-col","font-body2",3,"ngClass"],["dir","auto"],["fxLayout","column","fxFlex","",4,"ngFor","ngForOf"],[1,"font-sub2"],[1,"font-body3"],["dir","auto",1,"font-sub3",3,"ngClass"],["dir","auto",1,"font-sub3"],["fxLayout","row","fxFlex","",1,"div-table-row","font-body3"],[1,"font-body3-italic"]],template:function(ot,Ct){1&ot&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,Te,17,10,"div",2),s.YNc(3,et,2,1,"div",2),s.TgZ(4,"div",3),s.YNc(5,Xe,4,3,"ng-container",4),s.qZA()()()),2&ot&&(s.xp6(2),s.Q6J("ngIf",!Ct.isHandset),s.xp6(1),s.Q6J("ngIf",Ct.isHandset),s.xp6(2),s.Q6J("ngIf",Ct.showZoneOverrideWarning))},dependencies:[ne.Lv,t.mk,t.sg,t.O5,_e.xw,_e.yH,U.oO,re.n,x.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),ct})();const nt=function(ct){return{narrowstyle:ct}};let Me=(()=>{class ct{constructor(){this.isWifi_2_4=!1,this.isBadNetworkResult=!1}ngOnInit(){switch(this.warningInfo){case S.AS.PoorWifi_2_4:this.isWifi_2_4=!0;break;case S.AS.Bad:this.isBadNetworkResult=!0}}}return ct.\u0275fac=function(ot){return new(ot||ct)},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-network-test-warning"]],inputs:{warningInfo:"warningInfo"},decls:4,vars:7,consts:[[1,"network-test-warning-icons",3,"ngClass"],[3,"ngClass"],["mat-font-set","material-icons",1,"nv-custom-icons","nw-icon","icon-alert-bang"]],template:function(ot,Ct){1&ot&&(s.TgZ(0,"div",0),s._UZ(1,"hr",1)(2,"mat-icon",2)(3,"hr",1),s.qZA()),2&ot&&(s.Q6J("ngClass",Ct.isBadNetworkResult?"redstyle":"yellowstyle"),s.xp6(1),s.Q6J("ngClass",s.VKq(3,nt,Ct.isWifi_2_4)),s.xp6(2),s.Q6J("ngClass",s.VKq(5,nt,Ct.isWifi_2_4)))},dependencies:[L.Hw,t.mk,U.oO],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.font-size-xxxs[_ngcontent-%COMP%]{font-size:8px}.font-size-xxs[_ngcontent-%COMP%]{font-size:11px}.font-size-sm[_ngcontent-%COMP%]{font-size:12px}.font-size-sm1[_ngcontent-%COMP%]{font-size:13px}.font-size-lg[_ngcontent-%COMP%]{font-size:14px}.font-size-xl[_ngcontent-%COMP%]{font-size:16px}.font-size-xl1[_ngcontent-%COMP%]{font-size:18px}.font-size-20[_ngcontent-%COMP%]{font-size:20px}.font-size-xxl[_ngcontent-%COMP%]{font-size:24px}.font-size-32[_ngcontent-%COMP%]{font-size:32px}.font-size-xxxl[_ngcontent-%COMP%]{font-size:40px}.line-height-sm[_ngcontent-%COMP%]{line-height:.75em}.line-height-sm1[_ngcontent-%COMP%]{line-height:1em}.line-height-14[_ngcontent-%COMP%]{line-height:14px}.line-height-12[_ngcontent-%COMP%]{line-height:12px}.line-height-16[_ngcontent-%COMP%]{line-height:16px}.line-height-md[_ngcontent-%COMP%]{line-height:1.5em}.line-height-lg[_ngcontent-%COMP%]{line-height:3em}.line-height-30[_ngcontent-%COMP%]{line-height:30px}.line-height-36[_ngcontent-%COMP%]{line-height:36px}.line-height-lg1[_ngcontent-%COMP%]{line-height:40px}.font-style-italic[_ngcontent-%COMP%]{font-style:italic}.font-style-bold[_ngcontent-%COMP%]{font-weight:700}.font-style-normal[_ngcontent-%COMP%]{font-weight:400}.font-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.font-lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.text-transform-none[_ngcontent-%COMP%]{text-transform:none}.common-ui-network-container[_ngcontent-%COMP%]{background-color:#1f2224;max-width:789px}.common-ui-network-header[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:0;height:24px}.isLtr[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900;vertical-align:middle;min-width:24px}.isLtr[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.result-text-container[_ngcontent-%COMP%]{margin-bottom:6px}.result-text[_ngcontent-%COMP%]{margin-top:1px}.nw-icon[_ngcontent-%COMP%]{height:24px;line-height:24px;width:auto;speak:none;font-size:48px;font-variant:normal;align-self:center;color:#fff;opacity:.9;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:middle}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:22px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:22px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:22px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:22px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:22px}.icon-alert-bang[_ngcontent-%COMP%]{margin:0}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{font-size:24px;color:#76b900}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .result-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.common-ui-network-container[_ngcontent-%COMP%]   .result-icon.error[_ngcontent-%COMP%]{color:#ed1c24}.warn[_ngcontent-%COMP%]{color:#ffb538}.error[_ngcontent-%COMP%]{color:#ed1c24}.common-ui-errorDetails[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#76b900}.flex-1[_ngcontent-%COMP%]{flex:1}.nv-ui-assets[_ngcontent-%COMP%]{height:140px;margin-top:64px;display:flex;flex-direction:row;overflow:hidden;justify-content:center;align-items:baseline}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:79px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:79px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:79px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:79px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:79px}.nv-dot-icons[_ngcontent-%COMP%]{border-radius:50%;width:8px;height:8px;align-self:center;display:-webkit-inline-box;background:rgba(255,255,255,.45)}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.animated[_ngcontent-%COMP%]{animation-duration:2s;animation-iteration-count:infinite;animation-fill-mode:both;animation-delay:1s}.caption[_ngcontent-%COMP%]{display:block;max-width:92px;width:12vw;text-align:center;margin-bottom:0}.caption.zone[_ngcontent-%COMP%]{margin-top:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.common-ui-errorDetails[_ngcontent-%COMP%]{height:72px;display:flex;justify-content:center;margin:0 24px}.connect-error-details[_ngcontent-%COMP%]{display:flex}.common-ui-network-container[_ngcontent-%COMP%]   .common-ui-resultDetails[_ngcontent-%COMP%]{height:24px;margin-bottom:30px;align-self:center;margin-top:22px}.common-ui-network-content[_ngcontent-%COMP%]{height:181px;background-color:#0000004d;overflow-y:auto}.common-ui-network-content[_ngcontent-%COMP%]   .nv-button-class[_ngcontent-%COMP%]{height:84px;display:flex}.common-ui-network-content[_ngcontent-%COMP%]   .override-warning-container[_ngcontent-%COMP%]{margin-top:5px;padding:0 24px;align-items:center}.common-ui-network-content[_ngcontent-%COMP%]   span.icon-alert-circle_reg[_ngcontent-%COMP%]{font-size:11px}.common-ui-network-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:0}.div-table[_ngcontent-%COMP%]{display:table!important;width:101%;padding-top:24px;padding-bottom:24px;max-width:100%}.div-table-row[_ngcontent-%COMP%]{display:table-row;width:auto;clear:both;height:28px}.div-table-col[_ngcontent-%COMP%]{display:table-column;width:140px;text-align:center}.isLtr[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{--dummy0: 0;float:right}.div-table-col-header[_ngcontent-%COMP%]{display:table-column;width:236px}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:left}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:left}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{float:right}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isLtr[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ffb538;width:177px}.yellowstyle[_ngcontent-%COMP%]   .narrowstyle[_ngcontent-%COMP%]{width:26px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;border:16px;border-top:.1rem solid #ed1c24;width:177px}.redstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ed1c24}.yellowstyle[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.wifi_2_4_warn[_ngcontent-%COMP%]   .nv-custom-icons[_ngcontent-%COMP%]:before{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{color:#ffb538}.network-test-warning-icons[_ngcontent-%COMP%]{display:table}.network-assets[_ngcontent-%COMP%]{display:flex}.error-details[_ngcontent-%COMP%]{display:flex;margin-top:24px}.isLtr[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .error-details[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-details[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .error-details[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.common-ui-error[_ngcontent-%COMP%]{width:480px}.redirect-page-div[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center}.redirect-page-link[_ngcontent-%COMP%]{text-decoration:none}.vertical-gap-24[_ngcontent-%COMP%]{height:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-left:24px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{margin-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy3: 0;margin-right:24px}.isLtr[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-right:48px}.isRtl[_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{padding-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .network-tips-link[_ngcontent-%COMP%]{--dummy2: 0;padding-left:48px}.network-progress-fill[_ngcontent-%COMP%]{height:50px;background-color:#1f2224}.network-test-icons[_ngcontent-%COMP%]{display:block}.error-dlg-content[_ngcontent-%COMP%]{margin:24px;min-height:32px}.error-dlg-buttons[_ngcontent-%COMP%]{min-height:52px}.isLtr[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .error-dlg-buttons[_ngcontent-%COMP%]{--dummy0: 0;float:left}button.error-dialog-button[_ngcontent-%COMP%]{margin:8px}.error-icon[_ngcontent-%COMP%]{font-size:32px!important}.isLtr[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.error-icon-error-dialog[_ngcontent-%COMP%]{font-size:32px;margin-top:20px;min-width:32px;line-height:5px}.isLtr[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .error-icon-error-dialog[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}.isLtr[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 8px 23px 23px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 8px 23px 23px}.isRtl[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{margin:23px 23px 23px 8px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .close-dlg-btn[_ngcontent-%COMP%]{--dummy: 0;margin:23px 23px 23px 8px}.active[_ngcontent-%COMP%]{background:#76b900;opacity:1;width:12px;height:12px;margin-bottom:-2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.normal[_ngcontent-%COMP%]{background:rgba(255,255,255,.45);width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.error-background-active-btn[_ngcontent-%COMP%]{background-color:#76b900}.custom-svg-icon[_ngcontent-%COMP%]{width:48px;height:auto}.network-isp-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row}.network-test-warning-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:12px}.nv-dot-icons-container[_ngcontent-%COMP%]{margin-top:12px}@media (max-width: 960px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:60px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:60px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:60px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:60px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:60px}.network-test-results[_ngcontent-%COMP%]{min-width:80vw}.div-table-col-header[_ngcontent-%COMP%]{width:30%}.div-table-col[_ngcontent-%COMP%]{width:18%}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:120px}}@media (max-width: 790px){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:48px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:48px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:48px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:48px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:48px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:80px}}@media (max-width: 690px){.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:60px}}@media screen and (max-width: 834px) and (max-height: 1194px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:36px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:36px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:36px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:36px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:36px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:8px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:87px}.nv-dot-icons[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.active[_ngcontent-%COMP%]{width:10px;height:10px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.normal[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}.div-table-col-header[_ngcontent-%COMP%]{width:160px}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape),(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{display:block;max-height:65vh;overflow-y:auto;overflow-x:unset}.common-ui-network-container[_ngcontent-%COMP%]{margin:0;overflow:unset}.common-ui-network-header[_ngcontent-%COMP%]{margin:0}.common-ui-network-title[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:14px;line-height:20px;letter-spacing:0;font-weight:500}.tv-view[_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{font-size:28px;line-height:40px}.isLtr[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-network-title[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.common-ui-network-content[_ngcontent-%COMP%]{height:unset;background-color:unset}.nv-ui-assets[_ngcontent-%COMP%]{height:100px;line-height:0;margin-top:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-left:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy3: 0;margin-right:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy4: 0;margin-left:0}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.network-test-icons[_ngcontent-%COMP%]{text-align:center;height:16px;margin-top:0}.network-isp-icons[_ngcontent-%COMP%]{align-items:center}.nv-dot-icons[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.active[_ngcontent-%COMP%]{width:8px;height:8px;margin-bottom:0}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.normal[_ngcontent-%COMP%]{width:4px;height:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:4px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:4px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:4px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:4px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:4px}.custom-svg-icon[_ngcontent-%COMP%]{width:24px;min-height:25px}.caption[_ngcontent-%COMP%]{margin:0 auto;align-self:center}.common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content;display:flex;justify-content:center}.isLtr[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=ltr][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.isRtl[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{margin:0 24px}html[dir=rtl][_ngcontent-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{--dummy: 0;margin:0 24px}.network-test-error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;justify-content:center;align-items:stretch;max-width:100%}.icon-alert-bang[_ngcontent-%COMP%]{font-size:36px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:57px}.result-text[_ngcontent-%COMP%]{margin-top:0}.network-test-results[_ngcontent-%COMP%]{background-color:#0000004d;padding-top:16px}.mat-tab-group[_ngcontent-%COMP%]{background-color:#0000004d}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .div-table[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .div-table[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .div-table[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.div-table-row[_ngcontent-%COMP%]{justify-content:space-between;max-width:240px}}@media (max-width: 959.98px) and (orientation: landscape),(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape){.network-test-content[_ngcontent-%COMP%]{max-height:60vh}.network-test-results[_ngcontent-%COMP%]{max-width:536px;min-width:0}.common-ui-network-container[_ngcontent-%COMP%]{width:536px;max-height:80vh}}@media (max-width: 599.98px) and (orientation: portrait){.common-ui-network-container[_ngcontent-%COMP%]{width:fit-content}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:6px}.isLtr[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-right:6px}html[dir=ltr][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:6px}.isRtl[_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nw-icon[_ngcontent-%COMP%]{margin-left:6px}html[dir=rtl][_ngcontent-%COMP%]   .nw-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:6px}}@media screen and (max-width: 320px) and (max-height: 568px) and (orientation: portrait){.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .nv-dot-icons[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.active[_ngcontent-%COMP%]{width:6px;height:6px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-left:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy3: 0;margin-right:1px}.isLtr[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-right:1px}html[dir=ltr][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-right:1px}.isRtl[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .active[_ngcontent-%COMP%]{margin-left:1px}html[dir=rtl][_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--dummy4: 0;margin-left:1px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-left:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy3: 0;margin-right:2px}.isLtr[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-right:2px}html[dir=ltr][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-right:2px}.isRtl[_nghost-%COMP%]   .normal[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .normal[_ngcontent-%COMP%]{margin-left:2px}html[dir=rtl][_ngcontent-%COMP%]   .normal[_ngcontent-%COMP%]{--dummy4: 0;margin-left:2px}.redstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%], .yellowstyle[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:40px}.result-text[_ngcontent-%COMP%]{width:70%}}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]{width:960px;max-width:960px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   .common-ui-network-header[_ngcontent-%COMP%]{height:unset;margin-top:24px}.tv-view[_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:0}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]{height:277px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-row[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col-header[_ngcontent-%COMP%]{width:320px}.tv-view[_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-network-content[_ngcontent-%COMP%]   .div-table-col[_ngcontent-%COMP%]{width:180px}.tv-view[_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .nv-ui-assets[_ngcontent-%COMP%]{height:20vh}.tv-view[_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .common-ui-errorDetails[_ngcontent-%COMP%]{height:fit-content}.tv-view[_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .error-dialog-button[_ngcontent-%COMP%]{margin:16px}.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.isLtr.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-right:20px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-right:20px}.isRtl.tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{margin-left:20px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .result-icon.mat-icon[_ngcontent-%COMP%]{--dummy4: 0;margin-left:20px}"]}),ct})();var ze=e(92787);function le(ct,ft){if(1&ct){const ot=s.EpF();s.TgZ(0,"button",3),s.NdJ("click",function(){s.CHM(ot);const Tt=s.oxw();return s.KtG(Tt.execLeftButtonAction())}),s._uU(1),s.ALo(2,"uppercase"),s.ALo(3,"translate"),s.qZA()}if(2&ct){const ot=s.oxw();s.xp6(1),s.hij(" ",s.lcZ(2,1,s.lcZ(3,3,ot.leftButtonText))," ")}}let Le=(()=>{class ct{constructor(){this.tryAgain=new s.vpe,this.close=new s.vpe,this.continue=new s.vpe,this.showButton=!0}ngOnInit(){switch(this.placementCriteria.progressState){case S.AS.Excellent:this.showButton=this.placementCriteria.showAdditionalActions,this.leftButtonText="common.tryAgain",this.rightButtonText=this.placementCriteria.autoRun?"common.continueTitleCase":"common.ok";break;case S.AS.Bad:this.leftButtonText=this.placementCriteria.autoRun?"networkTest.continueAnyway":"common.close",this.rightButtonText="common.tryAgain";break;default:this.leftButtonText=this.placementCriteria.autoRun?"common.continueTitleCase":"common.close",this.rightButtonText="common.tryAgain"}}execLeftButtonAction(){this.placementCriteria.progressState===S.AS.Excellent?this.tryAgain.emit():this.placementCriteria.autoRun?this.continue.emit():this.close.emit()}execRightButtonAction(){this.placementCriteria.progressState===S.AS.Excellent?this.placementCriteria.autoRun?this.continue.emit():this.close.emit():this.tryAgain.emit()}}return ct.\u0275fac=function(ot){return new(ot||ct)},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-nw-test-button-placer"]],inputs:{placementCriteria:"placementCriteria"},outputs:{tryAgain:"tryAgain",close:"close",continue:"continue"},decls:6,vars:6,consts:[[1,"container"],["mat-button","","cdkFocusInitial","",1,"action-btn","font-button2",3,"click"],["mat-button","","class","font-button2 back-hover-override",3,"click",4,"ngIf"],["mat-button","",1,"font-button2","back-hover-override",3,"click"]],template:function(ot,Ct){1&ot&&(s.TgZ(0,"div",0)(1,"button",1),s.NdJ("click",function(){return Ct.execRightButtonAction()}),s._uU(2),s.ALo(3,"uppercase"),s.ALo(4,"translate"),s.qZA(),s.YNc(5,le,4,5,"button",2),s.qZA()),2&ot&&(s.xp6(2),s.hij(" ",s.lcZ(3,2,s.lcZ(4,4,Ct.rightButtonText))," "),s.xp6(3),s.Q6J("ngIf",Ct.showButton))},dependencies:[p.eB,t.O5,t.gd,x.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.action-btn[_ngcontent-%COMP%]{height:36px;min-width:64px;border-radius:0;margin:13px 8px;background-color:#76b900}.isLtr[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.isLtr[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy2: 0;padding-right:16px}.isRtl[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{--dummy2: 0;padding-left:16px}.back-hover-override[_ngcontent-%COMP%]:hover{background-color:#ffffff0a}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;padding:8px;gap:8px 13px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.container[_ngcontent-%COMP%]{flex-wrap:wrap}}.tv-view[_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .action-btn[_ngcontent-%COMP%]{height:auto}.tv-view[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{padding:16px;gap:16px 32px}"]}),ct})();var Re=e(80296),Q=e(22804),ve=e(33950),be=e(23815),xe=e(41221),ke=e(89258),Ce=e(57693),ge=e(51325),De=e(33932),ye=e(63155),Oe=e(33986),ie=e(5193),qe=e(12365),lt=e(32268),Et=e(18087),kt=e(45224),an=e(36128);function dn(ct,ft){1&ct&&s._UZ(0,"img",14)}function xn(ct,ft){if(1&ct&&(s.TgZ(0,"div",15)(1,"span"),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&ct){const ot=s.oxw();s.Q6J("@networkTestAnalyzerAnimation",void 0),s.xp6(2),s.hij("",s.lcZ(3,2,ot.networkTestHeaderText),"...")}}function un(ct,ft){1&ct&&(s.TgZ(0,"div",16),s._UZ(1,"mat-progress-bar",17),s.qZA()),2&ct&&s.Q6J("@networkTestAnalyzerAnimation",void 0)}function Nt(ct,ft){if(1&ct&&s._UZ(0,"gfn-content-rating",18),2&ct){const ot=s.oxw();s.Q6J("ratingLogoUrl",ot.ratingLogoUrl)("ratingClass",ot.ratingClass)("contentDescriptors",ot.contentDescriptors)("interactiveElements",ot.interactiveElements)}}function bn(ct,ft){1&ct&&(s.TgZ(0,"div")(1,"span",19),s._uU(2),s.ALo(3,"translate"),s.qZA(),s._UZ(4,"mat-icon",20),s.qZA()),2&ct&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"setup.guestApp.poweredBy")))}function pn(ct,ft){if(1&ct&&(s.TgZ(0,"div",24),s._UZ(1,"mat-icon",25),s.TgZ(2,"span",26),s._uU(3),s.ALo(4,"translate"),s.qZA()()),2&ct){const ot=ft.$implicit;s.xp6(1),s.Q6J("svgIcon",ot.icon),s.xp6(2),s.Oqu(s.lcZ(4,2,ot.label))}}function Mn(ct,ft){if(1&ct&&(s.TgZ(0,"div",21)(1,"div",22),s.YNc(2,pn,5,4,"div",23),s.qZA()()),2&ct){const ot=s.oxw();s.xp6(2),s.Q6J("ngForOf",ot.gameFeatures)}}let ht=(()=>{class ct{constructor(ot,Ct,Tt,Xt,nn,On){this.imageFormatService=Tt,this.ratingService=Xt,this.lcarsService=nn,this.gameFeaturesService=On,this.gameFeaturesFetched=!1,this.isDefaultGameArtVisible=!0,this.isGuestAppFlow=!1,this.isWhiteLabelingEnabled=!0,this.isAnalysisDone=!1,this.logger=ot.getLogger("NetworkAnalyzerComponent"),this.isGuestAppFlow=Ct.isGuestAppFlow(),this.isGuestAppFlow&&(this.isWhiteLabelingEnabled=Ct.isWhiteLabelingEnabled()),this.networkTestHeaderText="networkTest.networkTestHeader",this.destroy$=new y.xQ}get showFeatureBadge(){return this.gameFeaturesFetched&&this.gameFeatures.length>0}updateGameFeatureInfoFromAppMetadata(ot){const Ct=ot.variants.find(Tt=>{var Xt;return Tt.id===(null===(Xt=this.data)||void 0===Xt?void 0:Xt.cmsId.toString())});return this.gameFeaturesService.getGameFeatures([Ct],!0).pipe((0,ke.U)(Tt=>(this.gameFeatures=Tt,this.gameFeaturesFetched=!0,!0)))}ngOnInit(){var ot,Ct;this.isAnalysisDone=null===(ot=this.data)||void 0===ot?void 0:ot.isAnalysisDone,this.appMetadata$=this.lcarsService.getMetadataByCmsId(null===(Ct=this.data)||void 0===Ct?void 0:Ct.cmsId).pipe((0,Ce.d)()),this.appMetadata$.pipe((0,d.b)(Tt=>{this.imageUrl=this.imageFormatService.formatImageServiceUrl(Tt.images.HERO_IMAGE,{w:Oe.V.width,h:Oe.V.height,ar:!0})}),(0,ge.K)(Tt=>{var Xt;return this.logger.error(`Failed to get app meta data for cms id ${null===(Xt=this.data)||void 0===Xt?void 0:Xt.cmsId} `,Tt),(0,be.of)(null)}),(0,A.R)(this.destroy$)).subscribe(xe.Z,Tt=>this.logger.error("failed to get formatted image",Tt)),this.appMetadata$.pipe((0,De.zg)(Tt=>this.ratingService.getCurrentRating(Tt.contentRatings.type,Tt.contentRatings.categoryKey)),(0,ke.U)(Tt=>{this.ratingLogoUrl=Tt.rating.largeImageUrl,this.ratingClass=Tt.rating.label}),(0,ye.P)()).subscribe(xe.Z,Tt=>this.logger.error("failed to fetch rating info",Tt)),this.appMetadata$.pipe((0,De.zg)(Tt=>this.ratingService.getContentDescriptors(Tt.contentRatings.type,Tt.contentRatings.contentDescriptorKeys)),(0,ke.U)(Tt=>this.contentDescriptors=Tt),(0,ye.P)()).subscribe(xe.Z,Tt=>this.logger.error("failed to fetch contentDescriptors",Tt)),this.appMetadata$.pipe((0,De.zg)(Tt=>this.ratingService.getInteractiveElements(Tt.contentRatings.type,Tt.contentRatings.interactiveElementKeys)),(0,ke.U)(Tt=>this.interactiveElements=Tt),(0,ye.P)()).subscribe(xe.Z,Tt=>this.logger.error("failed to fetch interactiveElements",Tt)),this.appMetadata$.pipe((0,De.zg)(Tt=>this.updateGameFeatureInfoFromAppMetadata(Tt)),(0,A.R)(this.destroy$)).subscribe(xe.Z,Tt=>this.logger.error("failed to fetch game features",Tt))}ngOnChanges(){var ot,Ct;this.isAnalysisDone=null===(ot=this.data)||void 0===ot?void 0:ot.isAnalysisDone,this.logger.info("isAnalysisDone changed: ",null===(Ct=this.data)||void 0===Ct?void 0:Ct.isAnalysisDone)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setIsDefaultGameArtVisible(ot){this.isDefaultGameArtVisible=ot}}return ct.\u0275fac=function(ot){return new(ot||ct)(s.Y36(m.ed),s.Y36(ie.h),s.Y36(m.CQ),s.Y36(qe.V),s.Y36(lt.zc),s.Y36(Et.I))},ct.\u0275cmp=s.Xpm({type:ct,selectors:[["gfn-network-test-analyzer"]],inputs:{data:"data"},features:[s.TTD],decls:14,vars:10,consts:[[1,"analyzer-ui-scrim","depth-lowest"],["fxLayout","column","fxFlex","",1,"depth-middle","analyzer-ui-container"],[1,"analyzer-ui-top-image"],["class","game-art","src","shared/assets/img/DefaultGameArt-TVBanner.jpg",4,"ngIf"],[1,"game-art",3,"hidden","src","load"],["fxLayout","column","fxFlex","",1,"analyzer-ui-full-scrollable-container"],["class","analyzer-ui-header",4,"ngIf"],["class","analyzer-ui-progress-bar",4,"ngIf"],[1,"analyzer-ui-primary-content-scrollable-container"],["fxLayout","row","fxLayoutAlign","space-between start",1,"analyzer-ui-secondary-content-container"],[1,"analyzer-ui-secondary-content"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements",4,"ngIf"],[4,"ngIf"],["class","ui-badges",4,"ngIf"],["src","shared/assets/img/DefaultGameArt-TVBanner.jpg",1,"game-art"],[1,"analyzer-ui-header"],[1,"analyzer-ui-progress-bar"],["mode","indeterminate"],[3,"ratingLogoUrl","ratingClass","contentDescriptors","interactiveElements"],[1,"no-wrap","font-sub3"],["svgIcon","nvidia-logo-horiz-rgb-wht-for-screen",1,"poweredByIcon"],[1,"ui-badges"],["fxLayout","column",1,"feature-badge-container"],["fxLayout","row","fxLayoutAlign","end center","class","feature-badge",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","end center",1,"feature-badge"],[3,"svgIcon"],[1,"feature-title","font-sub2"]],template:function(ot,Ct){1&ot&&(s._UZ(0,"div",0),s.TgZ(1,"div",1)(2,"div",2),s.YNc(3,dn,1,0,"img",3),s.TgZ(4,"img",4),s.NdJ("load",function(){return Ct.setIsDefaultGameArtVisible(!1)}),s.qZA()(),s.TgZ(5,"div",5),s.YNc(6,xn,4,4,"div",6),s.YNc(7,un,2,1,"div",7),s._UZ(8,"div",8),s.TgZ(9,"div",9)(10,"div",10),s.YNc(11,Nt,1,4,"gfn-content-rating",11),s.YNc(12,bn,5,3,"div",12),s.qZA(),s.YNc(13,Mn,3,1,"div",13),s.qZA()()()),2&ot&&(s.Q6J("@networkTestAnalyzerAnimation",void 0),s.xp6(3),s.Q6J("ngIf",Ct.isDefaultGameArtVisible),s.xp6(1),s.s9C("src",Ct.imageUrl,s.LSH),s.Q6J("hidden",Ct.isDefaultGameArtVisible),s.xp6(2),s.Q6J("ngIf",!Ct.isAnalysisDone),s.xp6(1),s.Q6J("ngIf",!Ct.isAnalysisDone),s.xp6(2),s.Q6J("@networkTestAnalyzerAnimation",void 0),s.xp6(2),s.Q6J("ngIf",!Ct.isGuestAppFlow),s.xp6(1),s.Q6J("ngIf",!Ct.isWhiteLabelingEnabled),s.xp6(1),s.Q6J("ngIf",!Ct.isGuestAppFlow&&Ct.showFeatureBadge))},dependencies:[L.Hw,t.sg,t.O5,_e.xw,_e.Wh,_e.yH,kt.eI,an.u,x.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.isRtl[_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{transform:scaleX(-1)}html[dir=rtl][_ngcontent-%COMP%]   .flip-rtl-element[_ngcontent-%COMP%]{--dummy: 0;transform:scaleX(-1)}[_nghost-%COMP%]{--full-scrollable-container-left-margin: 40px}.analyzer-ui-container[_ngcontent-%COMP%]{background-color:transparent;overflow:hidden;position:relative}.analyzer-ui-scrim[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(0,0,0,.9) 0%,rgba(0,0,0,.85) 29%,rgba(0,0,0,.79) 42%,rgba(0,0,0,.7) 54%,rgba(0,0,0,.6) 64%,rgba(0,0,0,.48) 74%,rgba(0,0,0,.33) 82%,rgba(0,0,0,.23) 87%,rgba(0,0,0,.07) 95%,rgba(0,0,0,0) 100%);width:100%;height:100%;position:absolute}.isRtl[_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%]{background:linear-gradient(270deg,rgba(0,0,0,.9) 0%,rgba(0,0,0,.85) 29%,rgba(0,0,0,.79) 42%,rgba(0,0,0,.7) 54%,rgba(0,0,0,.6) 64%,rgba(0,0,0,.48) 74%,rgba(0,0,0,.33) 82%,rgba(0,0,0,.23) 87%,rgba(0,0,0,.07) 95%,rgba(0,0,0,0) 100%)}.analyzer-ui-top-image[_ngcontent-%COMP%]{display:none}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{height:100%;width:400px}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:var(--full-scrollable-container-left-margin)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:var(--full-scrollable-container-left-margin)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:var(--full-scrollable-container-left-margin)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:var(--full-scrollable-container-left-margin)}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:34px;line-height:48px;letter-spacing:0;font-weight:700;margin-top:48px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:68px;line-height:96px}.analyzer-ui-header[_ngcontent-%COMP%]   .eta-info[_ngcontent-%COMP%]{margin-top:16px}.analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:24px}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{height:100%;overflow-y:auto}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{width:calc(100vw - var(--full-scrollable-container-left-margin));margin-top:24px;margin-bottom:24px}.analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:400px}.analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{width:82px;height:15px;vertical-align:middle}.isLtr[_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-left:10px}.isRtl[_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]   .poweredByIcon[_ngcontent-%COMP%]{--dummy3: 0;margin-right:10px}.ui-badges[_ngcontent-%COMP%]{background-color:#0000001f;padding:8px;margin-top:auto}.isLtr[_nghost-%COMP%]   .ui-badges[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .ui-badges[_ngcontent-%COMP%]{margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .ui-badges[_ngcontent-%COMP%]{--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .ui-badges[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .ui-badges[_ngcontent-%COMP%]{margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .ui-badges[_ngcontent-%COMP%]{--dummy4: 0;margin-left:24px}.feature-badge-container[_ngcontent-%COMP%]{align-items:flex-start}.feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{margin-top:4px}.feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-shadow:0 2px 4px rgba(0,0,0,.7)}.isLtr[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr][_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy3: 0;margin-left:10px}.isRtl[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl][_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy3: 0;margin-right:10px}.isLtr[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:2px;width:16px;height:16px;opacity:.9;min-width:16px;min-height:16px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.9))}.tv-view[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;width:720px}.tv-view[_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:1080px}.tv-view[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{width:720px}.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{align-items:center}.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-shadow:0 2px 4px rgba(0,0,0,.7)}.isLtr.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{margin-left:10px}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy3: 0;margin-left:10px}.isRtl.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{margin-right:10px}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy3: 0;margin-right:10px}.isLtr.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-align:left}html[dir=ltr]   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{text-align:right}html[dir=rtl]   .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-title[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-bottom:0;min-width:20px;min-height:20px}.tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px}@media (max-width: 479px){.analyzer-ui-scrim[_ngcontent-%COMP%]{background:#191919!important}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--full-scrollable-container-left-margin: 24px;--full-scrollable-container-right-padding: 24px;overflow-y:auto;overflow-x:hidden;width:auto}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:var(--full-scrollable-container-left-margin)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:var(--full-scrollable-container-left-margin)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:var(--full-scrollable-container-left-margin)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:var(--full-scrollable-container-left-margin)}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{padding-right:var(--full-scrollable-container-right-padding)}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy2: 0;padding-right:var(--full-scrollable-container-right-padding)}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{padding-left:var(--full-scrollable-container-right-padding)}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy2: 0;padding-left:var(--full-scrollable-container-right-padding)}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:auto}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500;margin-top:24px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.analyzer-ui-top-image[_ngcontent-%COMP%]{display:block}.analyzer-ui-top-image[_ngcontent-%COMP%]   .game-art[_ngcontent-%COMP%]{width:100vw;height:auto}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{overflow-y:initial;height:initial}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{flex-direction:column!important;width:100%}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .analyzer-ui-badges[_ngcontent-%COMP%]{background-color:none;padding:0;margin-top:16px}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]{flex-flow:row wrap!important}.isLtr[_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}}@media (min-width: 480px) and (max-width: 719px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:100%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:83.33%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:32px}}@media (min-width: 720px) and (max-width: 959px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:100%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:62.5%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:32px}}@media (min-width: 960px) and (max-width: 1439px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:50%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:50%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:40px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:40px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:40px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:40px}}@media (min-width: 1440px) and (max-width: 1919px),(min-width: 1920px){.analyzer-ui-scrim[_ngcontent-%COMP%]{max-width:50%}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{width:33%}.isLtr[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-left:40px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-left:40px}.isRtl[_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{margin-right:40px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{--dummy3: 0;margin-right:40px}}@media screen and (min-width: 480px) and (max-width: 719px),screen and (min-width: 481px) and (max-height: 431px){.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;width:auto;display:block!important}.analyzer-ui-full-scrollable-container[_ngcontent-%COMP%]   .analyzer-ui-secondary-content[_ngcontent-%COMP%]{width:400px}.analyzer-ui-header[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif;color:#ffffffe6;font-style:normal;text-transform:none;font-size:20px;line-height:28px;letter-spacing:0;font-weight:500;margin-top:24px}.tv-view[_ngcontent-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .analyzer-ui-header[_ngcontent-%COMP%]{font-size:40px;line-height:56px}.analyzer-ui-progress-bar[_ngcontent-%COMP%]{width:400px}.isLtr[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-progress-bar[_ngcontent-%COMP%]{--dummy4: 0;margin-left:8px}.analyzer-ui-primary-content-scrollable-container[_ngcontent-%COMP%]{overflow-y:hidden;height:initial}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]{flex-direction:column!important;width:100%}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .ui-badges[_ngcontent-%COMP%]{background-color:none;padding:0;margin-top:16px}.analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]{flex-flow:row wrap!important}.isLtr[_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{margin-right:16px}html[dir=ltr][_ngcontent-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{--dummy4: 0;margin-right:16px}.isRtl[_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{margin-left:16px}html[dir=rtl][_ngcontent-%COMP%]   .analyzer-ui-secondary-content-container[_ngcontent-%COMP%]   .feature-badge-container[_ngcontent-%COMP%]   .feature-badge[_ngcontent-%COMP%]{--dummy4: 0;margin-left:16px}}"],data:{animation:[(0,ve.X$)("networkTestAnalyzerAnimation",[(0,ve.eR)("void => *",[(0,ve.oB)({opacity:"0"}),(0,ve.jt)("0.3s ease-in",(0,ve.oB)({opacity:"1"}))]),(0,ve.eR)("* => void",[(0,ve.oB)({opacity:"1"}),(0,ve.jt)("0.3s ease-out",(0,ve.oB)({opacity:"0"}))])])]}}),ct})();var xt=e(90229),Fe=e(94698),ut=e(72467),gt=e(72288),yt=e(89597),Ut=e(73557),en=e(6147),_n=e(61340),Vt=e(54716),cn=e(14893),sn=e(58241);let tn=(()=>{class ct{}return ct.\u0275fac=function(ot){return new(ot||ct)},ct.\u0275mod=s.oAB({type:ct}),ct.\u0275inj=s.cJS({imports:[M.yj,L.Ps,p.yu,t.ez,x.aw,n.o9,P.Nn,Re.n,Q.hp,xt.Q,qe.H,ut.rt]}),ct})();s.B6R(a.K,[t.mk,t.O5,t.RF,t.n9,_e.xw,_e.Wh,_e.s9,U.oO,P.SK,P.R7,gt.q,yt.N,Ut.Q5,en.e,_n.D,ue,ee,Ze,Le,ht],[x.X$]),s.B6R(o.U,[_e.s9,Vt.u,a.K],[]),s.B6R(ue,[L.Hw,t.mk,t.sg,t.O5,_e.xw,_e.Wh,_e.yH,U.oO,Me],[x.X$]),s.B6R(ee,[L.Hw,p.eB,t.O5,x.Pi,_e.xw,_e.Wh,_e.yH,cn.E,sn.p,Me,ze.Y],[x.X$]),s.B6R(Fe.N,[t.mk,t.O5,t.RF,t.n9,_e.xw,_e.Wh,U.oO,P.SK,P.R7,gt.q,yt.N,Ut.Q5,ue,ee,Ze,Le],[x.X$])},91727:(Ge,ae,e)=>{"use strict";e.d(ae,{R:()=>h});var t=e(21361),n=e(64710),x=e(85566),L=e(59562),p=e(96671),P=e(18406),a=e(41221),o=e(47504),v=e(23815),y=e(39138),C=e(18388),A=e(89258),d=e(33932),m=e(74266),S=e(2629),s=e(51325),r=e(94751),l=e(58765),i=e(13800),O=e(4042),Y=e(63155),T=e(10907),B=e(71265),K=e(70577),b=e(23827),f=e(56825),D=e(22696),I=e(66195),w=e(33986),_=e(62024),$=e(18164),G=e(99923),F=e(39609),J=e(50906),z=e(36540),Z=e(7675),ue=e(71168),u=e(39382),k=e(80155),W=e(16873),N=e(83024),H=e(26013);let h=(()=>{class E{constructor(R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le){var Le,Re,Q,ve;this.systemInfo=q,this.streamingProfileService=ne,this.idmService=_e,this.gridService=U,this.bridgeService=re,this.networkConfigurationService=pe,this.remoteConfigurationService=Pe,this.appConfig=Te,this.gfnSdkService=me,this.localeService=et,this.telemetryUtil=Xe,this.eventStreamFactory=Ze,this.cloudVariableHelperService=nt,this.router=Me,this.clientHeaderService=ze,this.zoneStorage=le,this.prod="Prod",this.selectedZone$=new L.t(1),this.messages=new p.xQ,this.networkTestCancelled$=new p.xQ,this.retriggerPolicy$=new P.X(b.Yk9.Manual),this.startedListenToTokenRequest=!1,this.networkTestRun=!1,this.networkTestState$=new p.xQ,this.lbrState$=new p.xQ,this.networkLinksSubject=new L.t(1),this.isWebrtcNetworktestEnabledSubject=new L.t(1),this.isStreamer=!1,this.cachedWebrtcSupportedZonesList=[],this.isWebrtcNTSupportedOnUpdatedZoneSubject=new L.t(1),this.capableSupportedResolutions=null,this.isInitCalled=!1,this.networkTestFinishedCallbackResult$=new p.xQ,this.maxSubscriptionProfile=null,this.logger=R.getLogger("shared/network-test.service"),this.qhdResolutionIdentifier=null===(Q=null===(Re=null===(Le=null==Te?void 0:Te.client)||void 0===Le?void 0:Le.streamingModeResolutionsConfiguration)||void 0===Re?void 0:Re.resolutionIdentifier)||void 0===Q?void 0:Q.QHD,this.isNetworkTestInProgress=!1,this.initCurrentDisplayResolutionStream(),this.initCurrentMaxSubscriptionProfileStream(),this.initSupportedResolutionsStream(),this.initCapableResolutionsStream(),this.registerDisplayModeChangeEvent(),null!==(ve=null==Te?void 0:Te.networkTest)&&void 0!==ve&&ve.prefetchStreams&&(this.currentMaxSubscriptionProfileStream.get$().subscribe(a.Z,a.Z),this.currentDisplayResolutionStream.get$().subscribe(a.Z,a.Z))}registerDisplayModeChangeEvent(){var R;null===(R=this.streamingProfileService.onDisplayModeChanged())||void 0===R||R.pipe((0,A.U)(()=>{this.currentDisplayResolutionStream.refresh()})).subscribe()}initCurrentDisplayResolutionStream(){this.currentDisplayResolutionStream=this.eventStreamFactory.createStream(()=>this.streamingProfileService.getPrimaryDisplayResolution().pipe((0,A.U)(R=>({width:R.width,height:R.height,frameRate:R.fps}))))}initCurrentMaxSubscriptionProfileStream(){this.currentMaxSubscriptionProfileStream=this.eventStreamFactory.createStream(()=>this.streamingProfileService.initializeStreamingProfiles$().pipe((0,A.U)(()=>{const R=this.streamingProfileService.getSubscriptionPreset();if(R)this.maxSubscriptionProfile={height:R.heightInPixels,width:R.widthInPixels,frameRate:R.framesPerSecond};else{const q=this.streamingProfileService.getSpecificPresetProfile(K.M1.Balanced);this.maxSubscriptionProfile={height:q.height,width:q.width,frameRate:q.fps}}return this.maxSubscriptionProfile})))}initSupportedResolutionsStream(){this.supportedResolutionsStream=this.eventStreamFactory.createStream(()=>(0,o.aj)([this.gridService.monitorSettings$,this.streamingProfileService.getSubscriptionResolutions(),this.cloudVariableHelperService.getFeatureToggle(G._P.RESERVED_SKU_IBETA)]).pipe((0,A.U)(([R,q,ne])=>{const _e=new Map;null==q||q.forEach(pe=>{pe.isEntitled&&_e.set(`$h-${pe.heightInPixels}-w-${pe.widthInPixels}-f-${pe.framesPerSecond}`,{height:pe.heightInPixels,width:pe.widthInPixels,frameRate:pe.framesPerSecond})});const U=new Map;if(null==R||R.forEach(pe=>{U.set(`$h-${pe.heightInPixels}-w-${pe.widthInPixels}-f-${pe.framesPerSecond}`,{height:pe.heightInPixels,width:pe.widthInPixels,frameRate:pe.framesPerSecond})}),0===_e.size)return Array.from(U.values());if(ne)return Array.from(_e.values());let re=[];return U.forEach((pe,Pe)=>{_e.has(Pe)&&re.push(pe)}),re.length||(re=Array.from(U.values())),re})))}initCapableResolutionsStream(){this.capableResolutionsStream=this.eventStreamFactory.createStream(()=>(0,o.aj)([this.currentDisplayResolutionStream.get$(),this.supportedResolutionsStream.get$()]).pipe((0,d.zg)(([R,q])=>(this.logger.info("Primary display resolution: ",R.width,"x",R.height," @",R.frameRate),this.getDynamicStreamingProfilesByRatio(q,R.width/R.height,16/9).pipe((0,A.U)(U=>(this.capableSupportedResolutions=U,this.capableSupportedResolutions)))))))}initGxTargetConfiguration(R){if(this.isStreamer=(0,_.MA)(this.router.url),!R)return this.isWebrtcNetworkTestEnabled=!1,void this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:!1});this.queryGxTarget()}initialize(){this.isInitCalled||(this.isInitCalled=!0,this.networkConfigurationService.readNetworkSessionId(),this.remoteConfig$=this.remoteConfigurationService.remoteConfigFetched$,(0,o.aj)([this.webrtcNetworkTestEnabled,this.remoteConfig$]).subscribe(([R,q])=>{R.enabled&&this.configureWebrtcNetworkSettings(q)},R=>this.logger.error("Error fetching remote config and configuring Network Test settings."+R)),this.constructHelpLinks().pipe((0,A.U)(R=>{this.networkLinksSubject.next(R)})).subscribe())}get isNetworkTestRequired(){return this.networkTestRequired}set isNetworkTestRequired(R){this.networkTestRequired=R}get networkTestMessages(){return this.messages.asObservable()}get zoneName(){return this.selectedZone$}get isNetworkTestRun(){return this.networkTestRun}get networkTestState(){return this.networkTestState$.asObservable()}get lbrState(){return this.lbrState$.asObservable()}get networkLinks(){return this.networkLinksSubject.asObservable()}get webrtcNetworkTestEnabled(){return this.isWebrtcNetworktestEnabledSubject.asObservable()}get webrtcNTSupportForZone(){return this.isWebrtcNTSupportedOnUpdatedZoneSubject.asObservable()}resetNetworkTestStatus(){this.networkTestRun=!1}getRetriggerPolicy(){return this.retriggerPolicy$.asObservable()}setRetriggerPolicy(R){this.retriggerPolicy$.next(R)}setParentSpanForNetworkTest(R){this.parentSpan=R}setNetworkTestState(R){this.networkTestState$.next(R)}setLbrState(R){this.lbrState$.next(R)}sendMessage(R,q){this.messages.next({message:R,data:q})}getNetworkInfo(){return n.ng.isBrowserPlatform()?(0,v.of)({}):this.systemInfo.getNetworkInformation()}isSystemOnline(){return window.navigator.onLine}isZoneSupported(R,q){return!!this.allZonesSupported||(this.isProdZone(R)?this.cachedWebrtcSupportedZonesList.includes(null==q?void 0:q.address):this.cachedWebrtcSupportedZonesList.includes(null==R?void 0:R.address))}isUpdatedZoneSupported(R,q){return this.isWebrtcNTSupportedOnUpdatedZone=this.isZoneSupported(R,q),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNTSupportedOnUpdatedZone),this.isWebrtcNTSupportedOnUpdatedZone}isProdZone(R){return R.name===this.prod}queryGxTarget(){const R=!!this.isStreamer,q=this.gridService.getCachedZone(),ne=this.gridService.detectedLocalZone$,_e=this.cloudVariableHelperService.getFeatureToggle(G._P.BACKGROUND_WEBRTC_NETWORK_TEST,{configCheckEnabled:!0,useDifferentConfigAttributeName:!0,buildVariant:this.appConfig.build.variant,useCache:R});this.idmService.accountStatusChanged.pipe((0,m.h)(U=>U.isAuthenticated),(0,d.zg)(U=>(0,y.$R)(q,_e,ne))).subscribe(([U,re,pe])=>{this.logger.info("GxTarget webrtc network test response: ",re.value);const Pe=this.isProdZone(U)?pe:null;this.logger.info("Current zone:",U,", detected local zone: ",Pe),re.value.enabled&&re.value.supportedZonesList&&0!==re.value.supportedZonesList.length?(this.cachedWebrtcSupportedZonesList=Object.assign([],re.value.supportedZonesList),this.allZonesSupported=!1,this.isWebrtcNetworkTestEnabled=!0,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:re.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isZoneSupported(U,Pe))):re.value.enabled&&re.value.supportedZonesList&&0===re.value.supportedZonesList.length?(this.allZonesSupported=!0,this.isWebrtcNetworkTestEnabled=!0,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:re.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNetworkTestEnabled)):(this.isWebrtcNetworkTestEnabled=!1,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:re.value.showUI}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(this.isWebrtcNetworkTestEnabled))},U=>{this.logger.info("Failed to resolve gx-target cloud variable webRtcNetworkTestV2:",U),this.isWebrtcNetworkTestEnabled=!1,this.isWebrtcNetworktestEnabledSubject.next({enabled:this.isWebrtcNetworkTestEnabled,showUI:!1}),this.isWebrtcNTSupportedOnUpdatedZoneSubject.next(!1)})}configureWebrtcNetworkSettings(R){let q;const ne=null==R?void 0:R.overrides;null!=ne&&ne.isFetchedFromGXT?(q={gxtOverrideData:JSON.stringify(null==ne?void 0:ne.data)},this.logger.info("Sending rconfig data from GXT to ConfigureNetworkTestSettings"),this.bridgeService.executeCommand(t.Gh.Gfn.Networktest.ConfigureNetworkTestSettings,q).subscribe()):this.logger.info("No Network Test remote overrides available.")}getRemoteConfigForIndirectPolicy(R){let q;switch(R){case f.VR.RedResult:q=this.appConfig.featureEnablement.networkTestPolicy.isRedResultEnabled;break;case f.VR.StreamerFrameLossTimeoutError:q=this.appConfig.featureEnablement.networkTestPolicy.isFrameLossTimeoutErrorEnabled;break;default:q=!0}return q}hasMaxSubscriptionProfileUpgraded(R,q){return!n.ng.isBrowserPlatform()&&(R?q.height*q.width>R.height*R.width:q.width*q.height>=this.qhdResolutionIdentifier.lowerLimit)}shouldNetworkTestRun(){return(0,o.aj)([this.networkConfigurationService.getCurrentFingerprintInfo(),this.currentMaxSubscriptionProfileStream.get$().pipe((0,S.q)(1))]).pipe((0,A.U)(([R,q])=>{let ne=!1;return(0,x.isNil)(R)?(this.logger.info("This fingerprint is observed for the first time, on which Network Test was never run."),this.setRetriggerPolicy(b.Yk9.FingerprintChanged),ne=!0):(0,x.isNil)(R.runNetworkTest)?(this.logger.info("Client upgraded to the version having the decoupling feature."),this.setRetriggerPolicy(b.Yk9.ClientUpdated),ne=!0):R.runNetworkTest?(ne=this.getRemoteConfigForIndirectPolicy(R.indirectNetworkTestPolicy),this.logger.info(`An indirect policy: ${R.indirectNetworkTestPolicy} got triggered. Network test will ${ne?"":"not "}be run.`),ne&&(R.indirectNetworkTestPolicy.startsWith("Streamer")&&(R.indirectNetworkTestPolicy=f.VR.StreamerNetworkError),this.setRetriggerPolicy(R.indirectNetworkTestPolicy))):this.hasMaxSubscriptionProfileUpgraded(null==R?void 0:R.maxSubscriptionProfile,q)&&(this.logger.info("Network test should run again as maxSubscriptionProfile has changed"),this.setRetriggerPolicy(b.Yk9.MaxSubscriptionProfileUpgraded),ne=!0),ne}),(0,s.K)(R=>(this.logger.error("Error trying to determine if Network Test should run, therefore run Network Test.",R),this.setRetriggerPolicy(b.Yk9.PolicyCheckFailed),(0,v.of)(!0))))}launchNetworkTest(R){return this.networkConfigurationService.getNetworkOverride().pipe((0,r.M)(this.remoteConfig$.pipe((0,l.O)({overrides:{},config:this.appConfig}))),(0,i.w)(([q,ne])=>(this.appConfig=ne.config,this.startedListenToTokenRequest||this.listenToTokenRequest(),this.executeNetworkTest(R).pipe((0,d.zg)(_e=>this.updateNetworkTestOverrideFlag(_e)),(0,d.zg)(_e=>this.networkTestPolicyChecks(_e)),(0,d.zg)(_e=>this.updateMaxDisplay(_e)),(0,d.zg)(_e=>this.updateNetworkTestSession(_e))))))}updateNetworkTestSession(R){return R.isSuccess?this.networkConfigurationService.setCachedNetworkSessionId(R.networkSessionId).pipe((0,O.h)(R)):(0,v.of)(R)}updateNetworkTestInfoInFingerprint(R,q,ne){return R.result.result===f.pU.NCT_R_SUCCESS&&q&&ne?this.networkConfigurationService.updateNetworkTestInfoInFingerprint(q,R,ne):(0,v.of)(!1)}exceuteNetworkTestFinishedCallback(){this.bridgeService.executeCommand(t.Gh.Gfn.Networktest.NetworkTestFinishedCallback).pipe((0,S.q)(1)).subscribe(R=>{this.networkTestFinishedCallbackResult$.next(R)},R=>{this.networkTestFinishedCallbackResult$.error(R)})}executeNetworkTest(R,q=!1){let ne,_e,U,re,pe;return this.exceuteNetworkTestFinishedCallback(),(0,o.aj)([this.prepareNetworkParams(R,q),this.getResolutionForThresholdComparision()]).pipe((0,d.zg)(([Pe,Te])=>(ne=Te,_e=Pe,this.bridgeService.executeCommand(t.Gh.Gfn.Networktest.Start,Pe))),(0,d.zg)(Pe=>this.getNetworkTestFinishedCallbackResult$().pipe((0,S.q)(1))),(0,d.zg)(Pe=>{var Te;return this.logger.info("Network Test result received: ",Pe),(null===(Te=null==Pe?void 0:Pe.result)||void 0===Te?void 0:Te.result)===w.Rn.NCT_R_AUTH_FAILED?!1===q?(this.logger.info("Auth error, attempting to refresh credentials"),(0,C._)(w.Rn.NCT_R_AUTH_FAILED)):(0,C._)("Auth error, will not attempt to refresh credentials"):(0,v.of)(Pe)}),(0,d.zg)(Pe=>{var Te;return(null===(Te=null==Pe?void 0:Pe.result)||void 0===Te?void 0:Te.result)===w.Rn.NCT_R_SUCCESS&&(U=this.selectThresholdForResolution(Pe.testResult.thresholds,ne)),re=Pe,this.analyzeNetworkTestResults(Pe,U)}),(0,d.zg)(Pe=>(pe=Pe,this.updateNetworkTestInfoInFingerprint(re,null==_e?void 0:_e.maxDisplayResolution,null==U?void 0:U.profile))),(0,A.U)(Pe=>pe),(0,s.K)(Pe=>Pe===w.Rn.NCT_R_AUTH_FAILED?this.executeNetworkTest(R,!0):(this.logger.error("Failed executing Network test command, error: ",Pe),(0,C._)(Pe))))}networkTestPolicyChecks(R){const q=this.appConfig.featureEnablement.networkTestPolicy.isRedResultEnabled&&R.analysis.networkQuality===f.AS.Bad;let ne=f.VR.None;return q&&(ne=f.VR.RedResult,this.logger.info("Got a red result on analysis, hence Network Test will run on next streamer launch.")),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(q,ne).pipe((0,O.h)(R))}updateMaxDisplay(R){return this.appConfig.featureEnablement.dynamicStreamingResolution?(this.logger.info("Dynamic res. is enabled by Remote config"),R.isSuccess?this.networkConfigurationService.setCurrentFingerprintMaxDisplay(R.capableProfile).pipe((0,O.h)(R)):(0,v.of)(R)):(this.logger.info("Dynamic res. is disabled by remote config, remove maxDisplay from sharedstorage"),this.networkConfigurationService.clearCurrentFingerprintMaxDisplay().pipe((0,O.h)(R)))}updateNetworkTestOverrideFlag(R){return this.networkConfigurationService.updateNetworkOverrideNetworkTestFlag(!1).pipe((0,Y.P)(),(0,O.h)(R))}startNetworkTest(R){return this.isNetworkTestInProgress=!0,this.networkTestRun=!0,this.launchNetworkTest(R).pipe((0,T.R)(this.networkTestCancelled$),(0,B.b)(q=>{this.logger.info("Network Test completed: ",q),this.isNetworkTestInProgress=!1}),(0,s.K)(q=>(this.isNetworkTestInProgress=!1,this.logger.info("Network Test failed, hence Network Test will run on next streamer launch."),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(!0,f.VR.NetworkTestFailed).pipe((0,d.zg)(()=>(0,C._)(q))))))}listenToTokenRequest(){this.logger.info("Network Test starts listening to auth token request: "),this.bridgeService.executeCommand(t.Gh.Gfn.Networktest.AuthTokenRequest,{}).pipe((0,d.zg)(()=>(this.logger.info("Got token REQUEST from NetworkTest SDK "),this.idmService.getAuthToken(!1,this.parentSpan))),(0,d.zg)(R=>{if((0,x.isNil)(R)||(0,x.isNil)(R.token))return this.logger.info("Jarvis failed to return token, do not send command UpdateAuthToken..."),(0,v.of)({});{const q={authToken:R.token};return this.logger.info("Sending delegate token to NT2 SDK, using command UpdateAuthToken"),this.bridgeService.executeCommand(t.Gh.Gfn.Networktest.UpdateAuthToken,q)}})).subscribe(()=>this.startedListenToTokenRequest=!0,R=>this.logger.error("Error sending oauth token to NetworkTest",R))}sendNetworkTroubleshootClickedTelemetry(R){this.telemetryUtil.sendClickEvent(b.lzt.NetworkTroubleshooting,"Network troubleshoot clicked",R)}selectThresholdForResolution(R,q){R.sort((_e,U)=>{const re=_e.profile.height*_e.profile.width-U.profile.height*U.profile.width;return 0===re?_e.profile.frameRate-U.profile.frameRate:re});let ne=-1;for(let _e=R.length-1;_e>=0;_e--)if(q.width*q.height>=R[_e].profile.width*R[_e].profile.height){if(_e-1>=0){const U=R[_e],re=R[_e-1];U.profile.width===re.profile.width&&U.profile.height===re.profile.height&&q.frameRate<U.profile.frameRate&&(_e-=1)}ne=_e;break}return-1===ne&&(ne=0),R[ne]}getResolutionForThresholdComparision(){return(0,o.aj)([this.currentDisplayResolutionStream.get$().pipe((0,S.q)(1)),this.currentMaxSubscriptionProfileStream.get$().pipe((0,S.q)(1))]).pipe((0,A.U)(([R,q])=>{let ne;return ne=R.width<=q.width&&R.height<=q.height?R:q,ne}))}roundTestResultNumbers(R){var q;return this.logger.info("Rounding of network test results"),R.testResult.downlinkBandwidth=Math.round(R.testResult.downlinkBandwidth/1e6),R.testResult.uplinkBandwidth=Math.round(R.testResult.uplinkBandwidth/1e6)||0,null===(q=R.testResult.thresholds)||void 0===q||q.forEach(ne=>{ne.bandwidthLimit=Math.round(ne.bandwidthLimit),ne.bandwidthRecommended=Math.round(ne.bandwidthRecommended)}),R.testResult.packetLoss=Math.round(100*R.testResult.packetLoss)/100,R.testResult.latency=Math.round(R.testResult.latency),R.testResult.percentile99thFrameJitter=R.testResult.percentile99thFrameJitter/1e3||0,R}filterResolutionsByRatio(R,q,ne){this.logger.info("filter Resolutions By Ratio, targetRatio: ",q);let _e=null==R?void 0:R.filter(U=>q===U.width/U.height);return 0===(null==_e?void 0:_e.length)&&(this.logger.info("filter Resolutions By Ratio, fallbackRatio: ",ne),_e=null==R?void 0:R.filter(U=>ne===U.width/U.height)),this.streamingProfileService.getAutoMaxBitrateValueForResolutionArray(_e)}getDynamicStreamingProfilesByRatio(R,q,ne){return this.filterResolutionsByRatio(R,q,ne).pipe((0,A.U)(_e=>{let U=_e;U.sort((Pe,Te)=>{const me=Te.width*Te.height-Pe.width*Pe.height;return 0===me?Te.fps-Pe.fps:me});const re=U[U.length-1],pe=U.filter(Pe=>30===Pe.fps&&Pe.width===re.width&&Pe.height===re.height);return U=U.filter(Pe=>30!==Pe.fps).concat(pe),U=U.map(Pe=>Object.assign(Object.assign({},Pe),{pixelCount:Pe.width*Pe.height})),U=(0,x.orderBy)(U,["pixelCount","maxBandwidth"],["desc","desc"]),this.logger.info("supportedResolutions filtered by ratio, 30fps removed + smallest resolution with 30fps: ",U),U}))}getCapableProfileForNetworkTest(R){return this.capableResolutionsStream.get$().pipe((0,S.q)(1),(0,A.U)(q=>{const ne=q[q.length-1],_e=R.testResult.downlinkBandwidth;let U={width:ne.width,height:ne.height,frameRate:ne.fps};for(const pe of q)if(_e>=pe.maxBandwidth){U={frameRate:pe.fps,height:pe.height,width:pe.width};break}return this.logger.info("estimated streaming resolution for Network Test: ",U),U}),(0,s.K)(q=>(this.logger.error("Error in estimating streaming resolution for network test. error:",q),this.isWebrtcNetworkTestEnabled?(this.logger.error("Returning dummy profile info for webclient"),(0,v.of)({width:0,height:0,frameRate:0})):(0,C._)("Failed estimating streaming resolution for network test"))))}analyzeNetworkTestResults(R,q,ne=!0){const _e=ne?this.roundTestResultNumbers(R):R;return this.logger.info("Network test analysis results are: ",_e,this.zone),this.getCapableProfileForNetworkTest(_e).pipe((0,A.U)(U=>{const re=_e.result.result!==f.pU.NCT_R_SUCCESS?f.AS.NA:this.compareMetric(_e.testResult.downlinkBandwidth,null==q?void 0:q.bandwidthLimit,null==q?void 0:q.bandwidthRecommended,!0),pe=_e.result.result!==f.pU.NCT_R_SUCCESS?f.AS.NA:this.compareMetric(_e.testResult.packetLoss,null==q?void 0:q.packetLossLimit,null==q?void 0:q.packetLossRecommended,!1),Pe=_e.result.result!==f.pU.NCT_R_SUCCESS?f.AS.NA:this.compareMetric(_e.testResult.latency,null==q?void 0:q.latencyLimit,null==q?void 0:q.latencyRecommended,!1),Te=_e.result.result!==f.pU.NCT_R_SUCCESS?f.AS.NA:this.calculateNetworkQuality(re,pe,Pe);return{bandwidth:{measured:_e.testResult.downlinkBandwidth,limit:null==q?void 0:q.bandwidthLimit,recommended:null==q?void 0:q.bandwidthRecommended},uplinkBandwidth:_e.testResult.uplinkBandwidth,latency:{measured:_e.testResult.latency,limit:null==q?void 0:q.latencyLimit,recommended:null==q?void 0:q.latencyRecommended},latencyWithStream:_e.testResult.latencyWithStream,measuredPathMtu:_e.testResult.measuredPathMtu,frameLoss:{measured:_e.testResult.packetLoss,limit:null==q?void 0:q.packetLossLimit,recommended:null==q?void 0:q.packetLossRecommended},analysis:{networkQuality:Te,bandwidthQuality:re,frameLossQuality:pe,latencyQuality:Pe},capableProfile:U,percentile99thFrameJitter:_e.testResult.percentile99thFrameJitter,networkSessionId:_e.testResult.networkSessionId,result:_e.result.result,isNetworkTest2:!0,isSuccess:_e.result.result===f.pU.NCT_R_SUCCESS,zone:_e.testResult.zone?{name:this.zone.name,address:_e.testResult.zone}:this.zone,errorDetails:_e.testResult.errorDetails||"",thresholds:_e.testResult.thresholds,maxUserCapableProfile:this.capableSupportedResolutions[0],maxPacketSize:_e.testResult.maxPacketSize,maxTestBandwidthMbps:_e.testResult.maxTestBandwidthMbps}}),(0,s.K)(U=>(this.logger.error("Error in analyzing network test result: ",U),(0,C._)(U))))}calculateNetworkQuality(R,q,ne){let _e;return R===f.AS.Excellent&&q===f.AS.Excellent&&ne===f.AS.Excellent?_e=f.AS.Excellent:R===f.AS.Bad||q===f.AS.Bad||ne===f.AS.Bad?_e=f.AS.Bad:(R===f.AS.Poor||q===f.AS.Poor||ne===f.AS.Poor)&&(_e=f.AS.Poor),_e}compareMetric(R,q,ne,_e){let U;return U=_e?R>=ne?f.AS.Excellent:R<q?f.AS.Bad:f.AS.Poor:R<ne?f.AS.Excellent:R>=q?f.AS.Bad:f.AS.Poor,U}getNetworkTestFinishedCallbackResult$(){return this.networkTestFinishedCallbackResult$.asObservable()}runLbrAndSaveOptimalZone(R){return this.gfnSdkService.getAuthType().pipe((0,d.zg)(q=>{let ne=(0,v.of)(null);(q===I.Gr.IDM||q===I.Gr.IDM_FALLBACK)&&(ne=this.idmService.accountStatusChanged);const _e=[ne,this.systemInfo.getDeviceId()];return(0,y.$R)(..._e).pipe((0,i.w)(([U,re])=>{const pe={userId:U&&!(0,x.isEmpty)(U.userId)?U.userId:"UnknownUser",platformId:R,deviceId:re};return this.gridService.getZone(pe,this.parentSpan)}))}))}prepareNetworkParams(R,q=!1){return this.logger.info("Getting network test parameters"),(0,y.$R)(this.idmService.accountStatusChanged,this.systemInfo.getDeviceId(),this.currentDisplayResolutionStream.get$().pipe((0,S.q)(1)),this.gridService.getCachedZone(),this.idmService.getAuthToken(q,this.parentSpan),this.gfnSdkService.getAuthInfo(),this.currentMaxSubscriptionProfileStream.get$().pipe((0,S.q)(1)),this.capableResolutionsStream.get$().pipe((0,S.q)(1)),this.clientHeaderService.getCommonHeaders({withClientId:"lcars"})).pipe((0,d.zg)(([ne,_e,U,re,pe,Pe,Te,me,et])=>{this.logger.info("Preparing Network Test parameters"),this.zone=re,this.selectedZone$.next(re);let Xe=w.qq.NVB_AUTH_JWT_GFN,Ze=pe.token;(!Ze||0===Ze.length)&&Pe.authType===I.Gr.JWT&&(Xe=w.qq.NVB_AUTH_JWT,Ze=Pe.authToken);const nt={platformId:R,user:(0,x.isEmpty)(ne.userId)?"UnknownUser":ne.userId,authType:Xe,authToken:Ze||"",address:re.address,deviceId:_e,displayResolution:{width:U.width,height:U.height,frameRate:U.frameRate},profiles:me.map(ze=>({height:ze.height,width:ze.width,frameRate:ze.fps})),maxDisplayResolution:Te,httpHeaders:this.getHttpHeaders(et)},Me=(0,x.cloneDeep)(nt);return delete Me.authToken,this.logger.info("Network test parameters: ",Me),(0,v.of)(nt)}))}translateGFWSLSupportedString(R){switch(R){case n.wi.XBox:case n.wi.Windows:return"Windows";case n.wi.ChromeOS:return"Chrome OS";case n.wi.MacOS:return"macOS";case n.wi.IOS:case n.wi.IPadOS:return"iOS";case n.wi.Linux:return"Linux";case n.wi.Android:return"Android";case n.wi.WebOS:return"WebOS";case n.wi.Tizen:return"Tizen";case n.wi.SteamOS:return"SteamOS";default:return n.wi.Undefined}}getHttpHeaders(R){return n.ng.isBrowserPlatform()?[]:Object.entries(R).map(([q,ne])=>({headerName:q,headerValue:ne instanceof Array?ne[0]:ne}))}constructHelpLinks(){const R=this.localeService.localeChanged.pipe((0,Y.P)());return(0,y.$R)(R,this.systemInfo.getDeviceOSType()).pipe((0,A.U)(ne=>{const _e={cNm:n.ng.isBrowserPlatform()?D.w.gfnWebClient:D.w.gfn,Plt:this.translateGFWSLSupportedString(ne[1])},U=new URL($.hE.BaseUrl+ne[0]);U.searchParams.append("page",$.hE.NetworkTroubleshoot),U.searchParams.append("jso",btoa(JSON.stringify(_e))),this.logger.info("Network Troubleshooting tips link: ",U.toString());const re=$.hD[$.hE.NetworkTroubleshoot],pe=`${$.hE.BaseUrl}${ne[0]}&page=${$.hE.RecommendedRoutersProductPage}`,Pe=$.hD[$.hE.RecommendedRoutersProductPage];return this.logger.info("Recommended Routers link: ",pe),[U.toString(),re,pe,Pe]}))}cleanupOnCancel(){return this.networkTestCancelled$.next(),this.isNetworkTestInProgress?(this.logger.info("Cancelled network test, hence Network Test will run on next streamer launch."),this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(!0,f.VR.NetworkTestCancelled)):(0,v.of)(!0)}isCachedZone(R,q){return R===q}isSupportedAndCachedZone(R,q,ne){return(null==R?void 0:R.address)&&this.isZoneSupported(R,ne)&&this.isCachedZone(R.address,null==q?void 0:q.address)}checkExpiry(R){var q,ne;if(null===(q=null==R?void 0:R.networkTestExpiry)||void 0===q||!q.expiryTime)return!0;if(null!==(ne=null==R?void 0:R.networkTestExpiry)&&void 0!==ne&&ne.expiryTime){const _e=new Date,U=new Date(R.networkTestExpiry.expiryTime);return this.logger.info("Webrtc Network Test Expiry time "+U+", time now "+_e),U<_e}}isWebrtcNetworkTestExpiryTimeElapsed(R){return(0,y.$R)(this.zoneStorage.getDefaultZone(),this.networkConfigurationService.getNetworkConfig(),this.gridService.detectedLocalZone$).pipe((0,A.U)(([q,ne,_e])=>{var U,re,pe,Pe,Te;return this.isSupportedAndCachedZone(R,null===(U=null==ne?void 0:ne.networkTestExpiry)||void 0===U?void 0:U.zone,_e)||!R&&this.isSupportedAndCachedZone(q,null===(re=null==ne?void 0:ne.networkTestExpiry)||void 0===re?void 0:re.zone,_e)?this.checkExpiry(ne):!(!R||!this.isZoneSupported(R,_e)||this.isCachedZone(R.address,null===(pe=null==ne?void 0:ne.networkTestExpiry)||void 0===pe?void 0:pe.zone.address))||!(R||!this.isZoneSupported(q,_e)||this.isCachedZone(q.address,null===(Te=null===(Pe=null==ne?void 0:ne.networkTestExpiry)||void 0===Pe?void 0:Pe.zone)||void 0===Te?void 0:Te.address))}))}isWebrtcNetworkTestRequired(R,q=!1){return(0,o.aj)([this.webrtcNetworkTestEnabled,this.webrtcNTSupportForZone]).pipe((0,d.zg)(([ne,_e])=>(this.isWebrtcNetworkTestEnabled=q?ne.enabled&&!ne.showUI&&_e:ne.enabled&&ne.showUI&&_e,this.isWebrtcNetworkTestEnabled?this.isWebrtcNetworkTestExpiryTimeElapsed(R).pipe((0,A.U)(U=>U?R?R&&R.runNetworkTest?(this.logger.info("Override zone has been set, hence run webrtc network test"),this.setRetriggerPolicy(b.Yk9.OverrideFlagSet),!0):(this.logger.info("runNetworkTest for set override zone is false, not running Network test."),!1):(this.logger.info("Webrtc network test is enabled, run Network test."),!0):(this.logger.info("Network Test expiry time has not elapsed yet, not running Network test."),!1))):(this.logger.info("Network Test disabled, skipping Network test."),(0,v.of)(!1)))))}setNetworkTestExpiryTime(){var R;const q=new Date,ne=null===(R=this.appConfig.networkTest)||void 0===R?void 0:R.expiryTime;return this.isWebrtcNetworkTestEnabled&&!(0,x.isNil)(ne)?(q.setDate(q.getDate()+ne),(0,y.$R)(this.gridService.getCachedZone(),this.networkConfigurationService.getNetworkConfig()).pipe((0,i.w)(([_e,U])=>{this.logger.info(`Updating Network Test Expiry time for zone ${_e.name}: `+q);const re={zone:_e,expiryTime:null==q?void 0:q.toISOString()};return U=(0,x.extend)(U,{networkTestExpiry:re}),this.networkConfigurationService.writeNetworkConfig(U,!0)}),(0,s.K)(_e=>(this.logger.error("Set Network Test expiry time failed: ",_e),(0,v.of)(!1))))):(0,v.of)(!1)}}return E.\u0275fac=function(R){return new(R||E)(F.LFG(n.ed),F.LFG(n.Ob),F.LFG(K.GK),F.LFG(J.No),F.LFG(z.r),F.LFG(n.dF),F.LFG(Z.X),F.LFG(ue.s),F.LFG(u.VK),F.LFG(I.s),F.LFG(n.OL),F.LFG(b.wU6),F.LFG(k.O_),F.LFG(G.$l),F.LFG(W.F0),F.LFG(N.x5),F.LFG(H.W))},E.\u0275prov=F.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},23011:(Ge,ae,e)=>{"use strict";e.d(ae,{$:()=>y});var t=e(85566),x=e(23815),M=e(63155),L=e(89258),p=e(13666),P=e(23827),a=e(39609),o=e(64710),v=e(9357);let y=(()=>{class C{constructor(d,m,S,s){this.loggingService=d,this.telemetryUtil=m,this.networkTestService=S,this.telemetryService=s,this.isSilentWebrtcNT=!1,this.logger=this.loggingService.getLogger("shared/network-test-telemetry.service"),this.networkTestService.webrtcNetworkTestEnabled.subscribe(r=>{var l;this.isSilentWebrtcNT=null!==(l=r.enabled)&&void 0!==l&&l})}getNetworkTestDataWithPolicy(d){return this.networkTestService.getRetriggerPolicy().pipe((0,M.P)(),(0,L.U)(m=>(d.policy=m,d)))}sendTestDoneTelemetry(d,m){const S=this.constructTestDoneTelemetryData(d,m);return this.isSilentWebrtcNT?(S.policy=P.Yk9.Manual,(0,x.of)(this.telemetryService.push(new P.WLf(S),d.startTime))):this.getNetworkTestDataWithPolicy(S).pipe((0,L.U)(s=>this.telemetryService.push(new P.WLf(s),d.startTime)))}constructTestDoneTelemetryData(d,m){var S,s,r,l,i,O,Y,T,B;const K=this.networkTestService.maxSubscriptionProfile,b=null==m?void 0:m.maxUserCapableProfile,f={networkTestVersion:2,bandwidth:m&&m.bandwidth.measured?m.bandwidth.measured:0,uplinkBandwidth:m&&m.uplinkBandwidth?m.uplinkBandwidth:0,clientType:this.telemetryUtil.getClientType(),displayProfile:(0,t.isNil)(m)?P.DwO.NVB_PROFILE_DEFAULT:this.formatDisplayProfile(m.capableProfile),userCapableProfileWidth:(null===(S=null==m?void 0:m.capableProfile)||void 0===S?void 0:S.width)||0,userCapableProfileHeight:(null===(s=null==m?void 0:m.capableProfile)||void 0===s?void 0:s.height)||0,userCapableProfileFrameRate:(null===(r=null==m?void 0:m.capableProfile)||void 0===r?void 0:r.frameRate)||0,maxUserCapableProfileWidth:(null==b?void 0:b.width)||0,maxUserCapableProfileHeight:(null==b?void 0:b.height)||0,maxUserCapableProfileFrameRate:(null==b?void 0:b.fps)||0,maxSubscriptionProfileWidth:(null==K?void 0:K.width)||0,maxSubscriptionProfileHeight:(null==K?void 0:K.height)||0,maxSubscriptionProfileFrameRate:(null==K?void 0:K.frameRate)||0,maxTestBandwidthMbps:(null==m?void 0:m.maxTestBandwidthMbps)||0,errorCode:(0,t.isNil)(m)?0:m.result,status:d.networkTestTelemetryStatus,errorReason:(0,t.isNil)(m)?this.formatNetworkErrorReason(d.networkTestTelemetryStatus):this.formatNetworkErrorReason(d.networkTestTelemetryStatus,m.result),dataLoss:m&&m.frameLoss.measured?m.frameLoss.measured:0,latency:m&&m.latency.measured?m.latency.measured:0,latencyWithStream:m&&m.latencyWithStream?m.latencyWithStream:0,measuredPathMtu:m&&m.measuredPathMtu?m.measuredPathMtu:0,networkQuality:(0,t.isNil)(m)?P.YbQ.Unknown:this.formatNetworkQuality(m.analysis.networkQuality),networkSessionId:m&&m.networkSessionId?m.networkSessionId:"",networkTestMode:d.autoRun?P.YXu.Automatic:P.YXu.Manual,networkType:(0,t.isNil)(m)?P.RRm.Unknown:this.telemetryUtil.getNetworkType(null===(i=null===(l=null==d?void 0:d.testData)||void 0===l?void 0:l.networkInfo)||void 0===i?void 0:i.NetworkType),totalMs:0,VPNConnection:(0,t.isNil)(null===(O=null==d?void 0:d.testData)||void 0===O?void 0:O.networkInfo)||(0,t.isNil)(null===(Y=d.testData.networkInfo)||void 0===Y?void 0:Y.IsVPN)?P.wye.UNDEFINED:"1"===(null===(B=null===(T=null==d?void 0:d.testData)||void 0===T?void 0:T.networkInfo)||void 0===B?void 0:B.IsVPN)?P.wye.TRUE:P.wye.FALSE,zone:(0,t.isNil)(m)?"":m.zone.address,overrideZone:(0,t.isNil)(d.zoneOverride)?"":d.zoneOverride.address,overrideActive:(0,t.isNil)(d.zoneOverride)?P.wye.FALSE:P.wye.TRUE,percentile99thFrameJitter:m&&m.percentile99thFrameJitter?m.percentile99thFrameJitter:0,resultCode:(0,t.isNil)(m)?0:m.result,errorDetails:(0,t.isNil)(m)?this.formatNetworkErrorReason(d.networkTestTelemetryStatus):d.isWebRtcNetworkTest?null==m?void 0:m.errorDetails:this.formatNetworkErrorReason(d.networkTestTelemetryStatus,m.result),policy:P.Yk9.Manual,maxPacketSize:(null==m?void 0:m.maxPacketSize)||0};return this.logger.info("Network test telemetry data: ",f),f}formatDisplayProfile(d){let m=P.DwO.NVB_PROFILE_DEFAULT;return 1366===d.width&&768===d.height?m=30===d.frameRate?P.DwO.NT_1366_768_30:P.DwO.NT_1366_768_60:1920===d.width&&1080===d.height?m=30===d.frameRate?P.DwO.NVB_PROFILE_GAMING_1080P_30FPS:P.DwO.NVB_PROFILE_GAMING_1080P_60FPS:1280===d.width&&720===d.height?m=30===d.frameRate?P.DwO.NVB_PROFILE_GAMING_720P_30FPS:P.DwO.NVB_PROFILE_GAMING_720P_60FPS:1920===d.width&&1200===d.height?m=30===d.frameRate?P.DwO.NT_1920_1200_30:P.DwO.NT_1920_1200_60:1680===d.width&&1050===d.height?m=30===d.frameRate?P.DwO.NT_1680_1050_30:P.DwO.NT_1680_1050_60:1440===d.width&&900===d.height?m=30===d.frameRate?P.DwO.NT_1440_900_30:P.DwO.NT_1440_900_60:1280===d.width&&800===d.height&&(m=30===d.frameRate?P.DwO.NT_1280_800_30:P.DwO.NT_1280_800_60),m}formatNetworkErrorReason(d,m){let S;return S=d===P.N3X.NetworkTestSdkError?this.formatNetworkTestV2ErrorReason(m):d===P.N3X.Success?P.Tbl.NA:(0,t.isNil)(m)||151!==m?(0,t.isNil)(m)||204!==m?P.Tbl.UNKNOWN:P.Tbl.PacketLoss:P.Tbl.FAILED,S}formatNetworkTestV2ErrorReason(d){let m;switch(d){case P.OD0.UNKNOWN:m=P.Tbl.UNKNOWN;break;case P.OD0.SUCCESS:m=P.Tbl.NA;break;case P.OD0.INVALID_PARAM:m=P.Tbl.INVALID_PARAM;break;case P.OD0.SYN_FAILED:m=P.Tbl.SYN_FAILED;break;case P.OD0.FIN_FAILED:m=P.Tbl.FIN_FAILED;break;case P.OD0.AUTH_FAILED:m=P.Tbl.AUTH_FAILED;break;case P.OD0.POST_FAILED:m=P.Tbl.POST_FAILED;break;case P.OD0.TEST_IN_PROGRESS:m=P.Tbl.TEST_IN_PROGRESS;break;case P.OD0.CANCELED:m=P.Tbl.CANCELED;break;case P.OD0.CAPACITY_FULL:m=P.Tbl.CAPACITY_FULL;break;case P.OD0.SESSION_EXIST:m=P.Tbl.SESSION_EXIST;break;case P.OD0.INVALID_DATA:m=P.Tbl.INVALID_DATA;break;case P.OD0.SETUP_FAILED:m=P.Tbl.SETUP_FAILED;break;case P.OD0.RETRYABLE_POST_FAILURE:m=P.Tbl.RETRYABLE_POST_FAILURE;break;case P.OD0.BLOCK_STREAM:m=P.Tbl.BLOCK_STREAM;break;default:m=P.Tbl.UNKNOWN}return m}formatNetworkQuality(d){let m=P.YbQ.Unknown;switch(d){case p.AS.Excellent:m=P.YbQ.Excellent;break;case p.AS.Poor:m=P.YbQ.Poor;break;case p.AS.Bad:m=P.YbQ.Bad}return m}}return C.\u0275fac=function(d){return new(d||C)(a.LFG(o.ed),a.LFG(P.wU6),a.LFG(p.R2),a.LFG(v.y0))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},22696:(Ge,ae,e)=>{"use strict";e.d(ae,{v:()=>n,w:()=>t});const t={gfn:"gfn",gfnWebClient:"gfnb"};var n=(()=>{return(x=n||(n={})).Skipped="Skipped",x.Passed="Passed",x.UserInputPrompted="UserInputPrompted",x.LbrDone="LbrDone",n;var x})()},72288:(Ge,ae,e)=>{"use strict";e.d(ae,{q:()=>B});var t=e(64710),n=e(56825),x=e(85566),L=e(96671),p=e(10907),P=e(63155),a=e(18164),o=e(39609),v=e(91727),y=e(23827),C=e(52954),A=e(18937),d=e(14893),m=e(58241),S=e(72467),s=e(715);function r(K,b){if(1&K&&(o.TgZ(0,"span",8),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&K){const f=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,f.text))}}const l=function(K){return{serversLink:K}};function i(K,b){if(1&K&&(o._UZ(0,"span",9),o.ALo(1,"translate")),2&K){const f=o.oxw().$implicit,D=o.oxw();o.Q6J("innerHTML",o.xi3(1,1,D.tipLinkString,o.VKq(4,l,'href="'+f.linkUrl+'" class="font-body2-link"')),o.oJD)}}function O(K,b){if(1&K&&(o.TgZ(0,"div")(1,"div",4),o._UZ(2,"span",5),o.YNc(3,r,3,3,"span",6),o.YNc(4,i,2,6,"span",7),o.qZA()()),2&K){const f=b.$implicit;o.xp6(3),o.Q6J("ngIf",!f.hasLink),o.xp6(1),o.Q6J("ngIf",f.hasLink)}}const Y=function(K){return{troubleshootLink:K}},T=function(K){return{routersLink:K}};let B=(()=>{class K{constructor(f,D,I,w){this.localeService=D,this.networkTestService=I,this.telemetryUtil=w,this.tipLinkString="networkTest.farAwayFromServers",this.logger=f.getLogger("libraries/network-test/NetworkTipsComponent"),this.destroy$=new L.xQ}ngOnInit(){this.updateTips(),this.networkTestService.networkLinks.pipe((0,p.R)(this.destroy$)).subscribe(f=>{this.troubleshootLink=f[0],this.troubleshootShortUrl=f[1],this.routersLink=f[2],this.routersShortUrl=f[3]})}ngOnChanges(){this.updateTips()}updateTips(){this.logger.info("update network tips, network conditions: ",this.networkConditionsData),(0,x.isNil)(this.networkConditionsData)||(this.networkConditions=[],this.trobleshootTips=[],this.getNetworkConditions(),this.getTroubleshootTips())}getNetworkConditions(){this.logger.info("Current network conditions passed from parent component: ",this.networkConditionsData),this.networkConditionsData.isVpn&&this.networkConditions.push(n.Ih.VPN),(0,x.isNil)(this.networkConditionsData.zoneOverride)||this.networkConditions.push(n.Ih.ZoneOverride),(0,x.isNil)(this.networkConditionsData.latency)||(this.networkConditionsData.latency>150&&this.networkConditions.push(n.Ih.Latency_more_150),this.networkConditionsData.latency>80&&this.networkConditionsData.latency<=150&&this.networkConditions.push(n.Ih.Latency_more_80)),(0,x.isNil)(this.networkConditionsData.bandwidth)||this.networkConditionsData.bandwidth<15&&this.networkConditions.push(n.Ih.Bandwidth_less_15),(0,x.isNil)(this.networkConditionsData.networkType)||(this.networkConditionsData.networkType===t.VV.WiFi2_4&&this.networkConditions.push(n.Ih.Wifi_2_4),(this.networkConditionsData.networkType===t.VV.WiFi2_4||this.networkConditionsData.networkType===t.VV.WiFi5_0)&&this.networkConditions.push(n.Ih.Wifi_2_4_or_5)),this.networkConditionsData.isOffline&&this.networkConditions.push(n.Ih.Offline),this.logger.info("Current network conditions are: ",this.networkConditions)}getTroubleshootTips(){const f=[],D=this.networkConditionsData.isOffline?2:this.networkConditionsData.isVpn?1:3;this.networkConditions.forEach(I=>{const w=(0,x.cloneDeep)(n.Q1.find(_=>_.condition===I));w.hasLink&&this.localeService.localeChanged.pipe((0,P.P)()).subscribe(_=>{w.linkUrl=`${a.hE.BaseUrl}${_}&page=${w.linkUrl}`}),f.push(w)}),n.Q1.forEach(I=>{I.condition===n.Ih.Any&&f.push(I)}),f.sort((I,w)=>I.priority-w.priority),this.networkConditionsData.isOffline&&(f[1]=n.Q1.find(I=>"networkTest.restartRouter"===I.text)),this.trobleshootTips=f.slice(0,D),this.logger.info("Show top trobleshoot tips for current network: ",this.trobleshootTips)}onClickTroubleshoot(){this.networkTestService.sendNetworkTroubleshootClickedTelemetry(this.telemetryUtil.getClientType())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return K.\u0275fac=function(f){return new(f||K)(o.Y36(t.ed),o.Y36(t.OL),o.Y36(v.R),o.Y36(y.wU6))},K.\u0275cmp=o.Xpm({type:K,selectors:[["gfn-network-tips"]],inputs:{networkConditionsData:"networkConditionsData"},features:[o.TTD],decls:8,vars:15,consts:[["fxLayout","column","fxLayoutAlign","space-between start",1,"network-tips","tips-results"],[4,"ngFor","ngForOf"],["cdkMonitorSubtreeFocus",""],[1,"font-body3","help-links",3,"innerHTML","shortUrl","click"],["fxLayout","row","fxLayoutAlign","start start"],[1,"bullet-unordered-tips","font-body2"],["class","font-body2",4,"ngIf"],["cdkMonitorSubtreeFocus","","class","font-body2",3,"innerHTML",4,"ngIf"],[1,"font-body2"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"]],template:function(f,D){1&f&&(o.TgZ(0,"div",0)(1,"div"),o.YNc(2,O,5,2,"div",1),o.qZA(),o.TgZ(3,"div",2)(4,"span",3),o.NdJ("click",function(){return D.onClickTroubleshoot()}),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"span",3),o.NdJ("click",function(){return D.onClickTroubleshoot()}),o.ALo(7,"translate"),o.qZA()()()),2&f&&(o.xp6(2),o.Q6J("ngForOf",D.trobleshootTips),o.xp6(2),o.Q6J("innerHTML",o.xi3(5,5,"networkTest.viewMoreTroubleshootTips",o.VKq(11,Y,'href="'+D.troubleshootLink+'" class="font-body3-link", target="_blank"')),o.oJD)("shortUrl",D.troubleshootShortUrl),o.xp6(2),o.Q6J("innerHTML",o.xi3(7,8,"networkTest.checkRecommendedRouters",o.VKq(13,T,'href="'+D.routersLink+'" class="font-body3-link"')),o.oJD)("shortUrl",D.routersShortUrl))},dependencies:[C.sg,C.O5,A.xw,A.Wh,d.E,m.p,S.kH,s.X$],styles:['[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.network-tips[_ngcontent-%COMP%]{height:181px;padding:24px;overflow-y:auto}.tips-results[_ngcontent-%COMP%]{background-color:#0000004d}.help-links[_ngcontent-%COMP%]{margin-top:24px}.bullet-unordered-tips[_ngcontent-%COMP%]:before{content:"-"}.isLtr[_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before, .isLtr   [_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{margin-right:8px}html[dir=ltr][_ngcontent-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{--dummy4: 0;margin-right:8px}.isRtl[_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before, .isRtl   [_nghost-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{margin-left:8px}html[dir=rtl][_ngcontent-%COMP%]   .bullet-unordered-tips[_ngcontent-%COMP%]:before{--dummy4: 0;margin-left:8px}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.network-tips[_ngcontent-%COMP%]{height:unset;background-color:unset}}.tv-view[_nghost-%COMP%]   .network-tips[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .network-tips[_ngcontent-%COMP%]{height:300px;padding:38px}']}),K})()},80296:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>P});var t=e(52954),n=e(715),x=e(50239),M=e(22804),L=e(72467),p=e(39609);let P=(()=>{class a{}return a.\u0275fac=function(v){return new(v||a)},a.\u0275mod=p.oAB({type:a}),a.\u0275inj=p.cJS({imports:[t.ez,n.aw,x.o9,M.hp,L.rt]}),a})()},87761:(Ge,ae,e)=>{"use strict";e.d(ae,{C:()=>L});var t=e(39609),n=e(9913),x=e(39382),M=e(22804);let L=(()=>{class p{constructor(a,o){var v;this.spatialNavigationService=o,this.closeOobeDialog=new t.vpe,this.tvMode=!(null===(v=null==a?void 0:a.featureEnablement)||void 0===v||!v.tvMode)}ngOnInit(){this.nvActiveView=n.QF.Welcome,this.spatialNavigationService.enabled&&!this.spatialNavigationService.activated&&(this.spatialNavigationService.activated=!0)}closeDialog(){this.nvActiveView="",this.closeOobeDialog.emit(n.eE.Close)}ngOnDestroy(){this.spatialNavigationService.enabled&&this.spatialNavigationService.activated&&(this.spatialNavigationService.activated=!1)}}return p.\u0275fac=function(a){return new(a||p)(t.Y36(x.VK),t.Y36(M.jr))},p.\u0275cmp=t.Xpm({type:p,selectors:[["gfn-oobe"]],inputs:{nvActiveView:"nvActiveView"},outputs:{closeOobeDialog:"closeOobeDialog"},decls:2,vars:1,consts:[[1,"oobe-dialog"],[1,"oobe-screen",3,"tvMode","closeOobeDialog"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"gfn-oobe-welcome",1),t.NdJ("closeOobeDialog",function(){return o.closeDialog()}),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("tvMode",o.tvMode))},styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.oobe-dialog[_ngcontent-%COMP%]{width:705px;height:auto;max-height:100vh;-webkit-backface-visibility:hidden;background:#393939}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.oobe-dialog[_ngcontent-%COMP%]{width:100vw;height:100%}}.oobe-screen[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;width:100%;height:100%;padding-top:max(24px,env(safe-area-inset-top));padding-bottom:env(safe-area-inset-bottom);max-width:100vw;max-height:100vh}.isLtr[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-left:max(24px,env(safe-area-inset-left))}html[dir=ltr][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-left:max(24px,env(safe-area-inset-left))}.isRtl[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-right:max(24px,env(safe-area-inset-left))}html[dir=rtl][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy1: 0;padding-right:max(24px,env(safe-area-inset-left))}.isLtr[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-right:max(24px,env(safe-area-inset-right))}html[dir=ltr][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy2: 0;padding-right:max(24px,env(safe-area-inset-right))}.isRtl[_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{padding-left:max(24px,env(safe-area-inset-right))}html[dir=rtl][_ngcontent-%COMP%]   .oobe-screen[_ngcontent-%COMP%]{--dummy2: 0;padding-left:max(24px,env(safe-area-inset-right))}.tv-view[_nghost-%COMP%]   .oobe-dialog[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .oobe-dialog[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:flex-start}"]}),p})()},9913:(Ge,ae,e)=>{"use strict";e.d(ae,{QF:()=>t,eE:()=>x,tC:()=>n});const t={Welcome:"welcome",SystemCheck:"systemcheck",GamesInfo:"gamesinfo"},n={Oobe:"oobe"},x={Close:"Oobe dialog closed"}},27327:(Ge,ae,e)=>{"use strict";e.d(ae,{H:()=>t.H,u:()=>P});var t=e(22972),n=e(23827),x=e(85566),M=e(64710),L=e(39609),p=e(9357);let P=(()=>{class a{constructor(v,y){this.telemetryService=v,this.telemetryUtilService=y,this._oobeCompleted=!1,this.asyncActions={}}set oobeCompleted(v){this._oobeCompleted=v}get oobeCompleted(){return this._oobeCompleted}startActionAsync(v){this.asyncActions[v]={currentScreen:this.telemetryService.getScreen(),startTime:Date.now()}}endActionAsync(v,y,C){if(!(0,x.isNil)(v)&&!(0,x.isNil)(this.asyncActions[v])){const A=this.asyncActions[v];y===n.N3X.AppExit&&this.telemetryService.changeSync(!0);const d=new n.$4G({currentScreen:A.currentScreen,clientType:this.telemetryUtilService.getClientType(),userAction:v,status:y,errorDetails:C||"",totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(d,A.startTime),delete this.asyncActions[v]}}sendOobeAcceptEvent(v,y,C){let A=n._K5.NotShown;y&&(A=C===M.p6.Full?n._K5.UserConsented:n._K5.UserDidNotConsent);const d={currentScreen:this.telemetryService.getScreen(),action:v,technicalConsent:A},m=new n.Wb4(d);this.telemetryService.push(m)}}return a.\u0275fac=function(v){return new(v||a)(L.LFG(p.y0),L.LFG(n.wU6))},a.\u0275prov=L.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},22972:(Ge,ae,e)=>{"use strict";e.d(ae,{H:()=>D});var t=e(64710),n=e(85566),M=e(59562),L=e(45661),p=e(47504),P=e(23815),a=e(27344),o=e(89258),v=e(2629),y=e(57693),C=e(33932),A=e(21361),d=e(39382),m=e(14708),S=e(87761),s=e(9913),r=e(9357),l=e(51657),i=e(39609),O=e(91565),Y=e(39536),T=e(47204),B=e(66195),K=e(5193),b=e(46389),f=e(22804);let D=(()=>{class I{constructor(_,$,G,F,J,z,Z,ue,u,k,W,N){var H;this.sharedStorageService=_,this.dialog=$,this.appConfig=G,this.systemInfoService=F,this.userConsentService=J,this.localeService=z,this.gfnSdkService=ue,this.guestModeHelperService=u,this.unsupportedBrowserService=k,this.bridgeService=W,this.focusManager=N,this.globalDialogref=null,this.isOobeDialogClosedSubject=new M.t(1),this.logger=Z.getLogger("OobeService/Logger"),this.tvMode=!(null===(H=null==G?void 0:G.featureEnablement)||void 0===H||!H.tvMode),this.nativeEulaAcceptedVersion$=this.bridgeService.executeCommand(A.Gh.Common.Consent.getAccepted).pipe((0,o.U)(h=>h.value),(0,v.q)(1),(0,y.d)(1))}initialize(){t.ng.isAndroidPlatform()&&this.bridgeService.executeCommand(A.Gh.Common.Consent.setCurrent,{value:+this.appConfig.oobe.termsOfUseVersion}).subscribe()}get oobeDialogClosedState(){return this.isOobeDialogClosedSubject.asObservable()}get getProductVersion(){return(0,d.sc)(this.appConfig)}get getMinOsVersion(){return this.appConfig.oobe.minMacOsVersion}getOobeDataFromSharedStorage(){return this.sharedStorageService.readBlock(s.tC.Oobe)}loadTermsOfUseAcceptedVersion(){return t.ng.isAndroidPlatform()?this.loadTermsOfUseAcceptedVersionForAndroid():this.getOobeDataFromSharedStorage().pipe((0,o.U)(_=>(null==_?void 0:_.termsOfUseAcceptedVersion)||"0"))}loadTermsOfUseAcceptedVersionForAndroid(){return(0,L.D)({oobeData:this.getOobeDataFromSharedStorage(),nativeEulaAcceptedVersion:this.nativeEulaAcceptedVersion$}).pipe((0,o.U)(_=>{var $;return Math.max(+(null===($=_.oobeData)||void 0===$?void 0:$.termsOfUseAcceptedVersion)||0,_.nativeEulaAcceptedVersion||0).toString()}))}isTermsOfUseChangedSinceAccepted(){return this.loadTermsOfUseAcceptedVersion().pipe((0,o.U)(_=>!!(0,n.isNil)(_)||+this.appConfig.oobe.termsOfUseVersion>+_))}saveTermsOfUseAcceptedVersion(){return this.getOobeDataFromSharedStorage().pipe((0,C.zg)(_=>(_.termsOfUseAcceptedVersion=this.appConfig.oobe.termsOfUseVersion,t.ng.isAndroidPlatform()&&this.bridgeService.executeCommand(A.Gh.Common.Consent.setAccepted,{value:+this.appConfig.oobe.termsOfUseVersion}).subscribe(),this.saveOobeDataInSharedStorage(_))))}saveOobeDataInSharedStorage(_){return this.sharedStorageService.writeBlock(s.tC.Oobe,_)}launch(){return(0,L.D)({isEulaChanged:this.isTermsOfUseChangedSinceAccepted(),isAnonUser:this.gfnSdkService.getIsAnonymousUser()}).pipe((0,C.zg)(_=>!_.isEulaChanged&&!_.isAnonUser||this.guestModeHelperService.isGuestMode?(this.isOobeDialogClosedSubject.next(!0),this.isOobeDialogClosedSubject.complete(),this.logger.event("no oobe setDefaultConsentData"),this.userConsentService.setDefaultConsentData(this.guestModeHelperService.isGuestMode?r.$P:r.l3)):(0,p.aj)([this.localeService.layoutDirectionUpdated$,this.unsupportedBrowserService.shouldDisplayPWAGuidance$]).pipe((0,v.q)(1),(0,C.zg)(([$,G])=>window.location.hash.includes(l.EM.PlayGame)&&G?(0,P.of)(!1):this.openOobeDialog()))))}openOobeDialog(){if(this.globalDialogref)return(0,P.of)(!1);const _={panelClass:"dialogWelcome",disableClose:!0,autoFocus:!1,maxWidth:"100vw"};return this.tvMode&&(_.height="100%"),this.globalDialogref=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(S.C,_)),(0,a.S3)(this.globalDialogref.componentInstance.closeOobeDialog,this.globalDialogref.afterClosed()).pipe((0,o.U)(()=>(0===this.globalDialogref.getState()&&this.globalDialogref.close(),this.globalDialogref=null,this.isOobeDialogClosedSubject.next(!0),this.isOobeDialogClosedSubject.complete(),this.logger.info("oobe closed"),!0)))}meetSysRequirements(){return this.systemInfoService.getOsInformation().pipe((0,o.U)(_=>{if("macOS"===_.OSName){const $=new m.b(_.OSVersion);let G;G=[0,0],!(0,n.isNil)(this.appConfig.oobe)&&!(0,n.isNil)(this.appConfig.oobe.minMacOsVersion)&&(G=new m.b(this.appConfig.oobe.minMacOsVersion));const F=$.compare(G)!==m.A.Greater;return this.logger.info(`system ${F?"meet":"does not meet"} min. OS requirements - your MAC OS version: `,_.OSVersion),F}return!0}))}}return I.\u0275fac=function(_){return new(_||I)(i.LFG(O.OA),i.LFG(Y.on),i.LFG(d.VK),i.LFG(t.Ob),i.LFG(T.Z),i.LFG(t.OL),i.LFG(t.ed),i.LFG(B.s),i.LFG(K.h),i.LFG(b.rH),i.LFG(t.dF),i.LFG(f.IK))},I.\u0275prov=i.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},62024:(Ge,ae,e)=>{"use strict";e.d(ae,{lW:()=>t.lW,fF:()=>t.fF,un:()=>y,S8:()=>t.S8,nn:()=>t.nn,zJ:()=>t.zJ,cj:()=>t.cj,n6:()=>t.n6,sv:()=>t.sv,wI:()=>t.wI,MA:()=>t.MA,A8:()=>t.A8,bY:()=>t.bY,IG:()=>t.IG});var t=e(29733),n=e(16873),x=e(74266),M=e(13800),L=e(89258),p=e(2629),P=e(39609),a=e(64710),o=e(39382),v=e(56654);let y=(()=>{class C{constructor(d,m,S,s){var r;this.router=S,this.gameShareUrlService=s,this.defaultNavigationBehaviorOptions={},this.logger=d.getLogger("gfn/PathService"),this.defaultNavigationBehaviorOptions.skipLocationChange=!(null===(r=m.client)||void 0===r||!r.skipLocationChange),this.logger.info("Using default navigation options:",this.defaultNavigationBehaviorOptions)}get onExitingStreamer(){return this.router.events.pipe((0,x.h)(d=>d instanceof n.OD&&(0,t.MA)(this.router.url)&&d.url!==t.nn.Base&&!(0,t.MA)(d.url)),(0,M.w)(d=>this.router.events.pipe((0,x.h)(m=>m instanceof n.m2||m instanceof n.Q3||m instanceof n.gk),(0,L.U)(m=>m instanceof n.m2),(0,p.q)(1))))}navigateByUrl(d,m){return this.router.navigateByUrl(d,Object.assign(Object.assign({},this.defaultNavigationBehaviorOptions),m))}navigate(d,m){return this.router.navigate(d,Object.assign(Object.assign({},this.defaultNavigationBehaviorOptions),m))}getStreamerExitUrl(){return this.exitUrl?this.exitUrl:t.nn.DefaultStreamerExitUrl}setStreamerExitUrl(d){this.exitUrl=d||t.nn.DefaultStreamerExitUrl}resetStreamerExitUrl(){this.exitUrl=t.nn.DefaultStreamerExitUrl}getCurrentUrl(){let d;return d=this.gameShareUrlService.getIsAddressbarUrlUpdated()?this.gameShareUrlService.getDeeplinkShareUrl():document.baseURI+this.router.url,this.logger.info("return URL is ",d,this.gameShareUrlService.getIsAddressbarUrlUpdated()),d}isMallUrl(d){return t.Bi.some(S=>d.startsWith(S))}isMallOrSettingsUrl(d){const m=this.isMallUrl(d),S=t.YZ.some(s=>d.startsWith(s));return m||S}}return C.\u0275fac=function(d){return new(d||C)(P.LFG(a.ed),P.LFG(o.VK),P.LFG(n.F0),P.LFG(v.t))},C.\u0275prov=P.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},29733:(Ge,ae,e)=>{"use strict";e.d(ae,{A8:()=>A,Bi:()=>r,GW:()=>S,IG:()=>v,MA:()=>a,S8:()=>p,YZ:()=>l,bY:()=>y,cj:()=>m,fF:()=>L,lW:()=>o,n6:()=>C,nn:()=>M,sv:()=>s,wI:()=>P,zJ:()=>d});var t=e(48131),n=e(33986),x=e(51657),M=(()=>{return(i=M||(M={})).Base="/",i.Games="/layout/games",i.Settings="/layout/settings",i.Surveys="/layout/surveys",i.GamesSectionGridL1="/layout/games/gameSectionGrid",i.Deeplink="/deeplink",i.PwaWall="/install",i.DefaultStreamerExitUrl="/layout/games",M;var i})(),L=(()=>{return(i=L||(L={})).Home="layout/games",i.BrowserBookmark="",i.DefaultRedirect="layout/games",i.StreamerRoot="streamer",i.PwaWall="install",L;var i})(),p=(()=>{return(i=p||(p={})).CmsId="cmsId",i.LaunchSource="launchSource",i.ShortName="shortName",i.AppLaunchMode="appLaunchMode",i.SdkClient="sdkClient",i.ParentGameId="parentGameId",i.AccountLinked="accountLinked",i.CascadePreviewToken="cascadePreviewToken",i.BgImageUrl="bgImageUrl",i.Locale="locale",i.PreviewAtTime="previewAtTime",p;var i})();function P(i){const O=window.location.href;return a(i)||-1!==O.indexOf("launchSource=External")||-1!==O.indexOf("action=play-game")}function a(i){return i.startsWith(`/${L.StreamerRoot}`)}var o=(()=>{return(i=o||(o={})).Mall="GeForceNOW",i.Streamer="GeForceNOWStreamer",o;var i})();function v(i){return`/${L.StreamerRoot}?${p.LaunchSource}=${i.launchSource}${i.cmsId?`&${p.CmsId}=${i.cmsId}`:""}${i.shortName?`&${p.ShortName}=${i.shortName}`:""}${i.appLaunchMode?`&${p.AppLaunchMode}=${i.appLaunchMode}`:""}${i.sdkClient?`&${p.SdkClient}=${i.sdkClient}`:""}${i.accountLinked?`&${p.AccountLinked}=true`:""}${i.parentGameId?`&${p.ParentGameId}=${i.parentGameId}`:""}${i.bgImageUrl?`&${p.BgImageUrl}=${i.bgImageUrl}`:""}`}function y(i,O=!1){return`${O?window.geForceNowStartLocationOrigin:window.location.origin}${O?window.geForceNowStartLocationPathName:window.location.pathname}#${v(i)}`}function C(i){return(i.has(p.ParentGameId)||i.has(p.CmsId))&&i.has(p.LaunchSource)}function A(i){const O=i.indexOf("?");return d(new URLSearchParams(i.slice(O)))}function d(i){let K,O=0,Y="",T=t.zO5.Unknown,B="",b=n.xl.Default,f=!1,D="";if(i.has(p.ParentGameId)&&(Y=i.get(p.ParentGameId)),i.has(p.CmsId)&&(O=+i.get(p.CmsId)),i.has(p.AppLaunchMode)){const I=i.get(p.AppLaunchMode);switch(I){case n.xl.GamepadFriendly:case n.xl.TouchFriendly:b=I;break;default:b=n.xl.Default}}if(i.has(p.LaunchSource)){const I=i.get(p.LaunchSource);switch(I){case t.zO5.GeForceNOW:case t.zO5.External:case t.zO5.Deeplink:T=I;break;default:T=t.zO5.Unknown}}return i.has(p.ShortName)&&(B=i.get(p.ShortName)),i.has(p.SdkClient)&&(K=i.get(p.SdkClient)),i.has(p.AccountLinked)&&(f="true"===i.get(p.AccountLinked)),i.has(p.BgImageUrl)&&(D=i.get(p.BgImageUrl)),{parentGameId:Y,cmsId:O,appLaunchMode:b,launchSource:T,shortName:B,sdkClient:K,accountLinked:f,bgImageUrl:D}}function m(i){const O=null==window?void 0:window.geForceNowStartLocationHref;if((null==O?void 0:O.indexOf("?"))>-1){const Y=O.slice(O.indexOf("?"));return new URLSearchParams(Y).get(i)||null}return null}function S(i,O,Y){const T=new RegExp("([?&])"+O+"=.*?(&|$)","i"),B=-1!==i.indexOf("?")?"&":"?";return i.match(T)?i.replace(T,"$1"+O+"="+Y+"$2"):i+B+O+"="+Y}function s(){return null!==m(x.uE.Nonce)}const r=[M.Games,M.GamesSectionGridL1],l=[M.Settings]},54877:(Ge,ae,e)=>{"use strict";e.d(ae,{Qm:()=>n.Qm,uu:()=>N,qu:()=>n.qu,F0:()=>n.F0,R7:()=>n.R7,PT:()=>h,Il:()=>n.Il,Ad:()=>n.Ad,$U:()=>n.$U}),e(40389);var n=e(90857),x=e(47504),M=e(23815),L=e(2629),p=e(74266),P=e(13800),a=e(89258),o=e(51325),v=e(85566),y=e(23827),C=e(69060),A=e(39609),d=e(64710),m=e(52954),S=e(50906),s=e(39382),r=e(85501),l=e(9357),i=e(80956);let O=(()=>{class E{constructor(R,q,ne,_e,U){this.serviceWorkerService=q,this.telemetryService=ne,this.configuration=_e,this.refreshUiService=U,this.logger=R.getLogger("PushNotificationTelemetryService"),this.serviceWorkerService.swPushNotificationTelemetryListener.subscribe(this.onNewTelemetryEvent.bind(this))}sendTokenRegisteredSuccessTelemetry(R){this.fetchFirebaseProjectID().pipe((0,L.q)(1)).subscribe(q=>{this.logger.info("sending Token Registered Success Telemetry"),this.telemetryService.push(this.createPushNotificationTokenRegisteredDef(R,q))},q=>{this.logger.info("Error while fetching firebase Project Id",q),this.telemetryService.push(this.createPushNotificationTokenRegisteredDef(R))})}sendPushNotificationFailureTelemetry(R,q){this.fetchFirebaseProjectID().pipe((0,L.q)(1)).subscribe(ne=>{this.logger.info("sending Token Failure Telemetry"),this.telemetryService.push(this.createPushNotificationErrorDef(R,q,ne))},ne=>{this.logger.info("Error while fetching firebase Project Id",ne),this.telemetryService.push(this.createPushNotificationErrorDef(R,q))})}sendPushNotificationCleanUpTelemetry(R){this.fetchFirebaseProjectID().pipe((0,L.q)(1)).subscribe(q=>{this.logger.info("sending KV Store CleanUp Telemetry"),this.telemetryService.push(this.createPushNotificationPurgedEntriesDef(R,q))},q=>{this.logger.info("Error while fetching firebase Project Id",q),this.telemetryService.push(this.createPushNotificationPurgedEntriesDef(R))})}fetchFirebaseProjectID(){var R,q,ne;return this.firebaseProjectId=null===(ne=null===(q=null===(R=this.configuration)||void 0===R?void 0:R.firebase)||void 0===q?void 0:q.pns)||void 0===ne?void 0:ne.projectId,(0,M.of)(this.firebaseProjectId)}onNewTelemetryEvent(R){var q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze;if(this.logger.info("Telemetry message recieved from SW",R),(null==R?void 0:R.type)===r.rL.PushNotificationTelemetry&&null!=R&&R.content){const nt=JSON.parse(null==R?void 0:R.content);if(this.logger.info("Telemetry Message Type is: ",null==nt?void 0:nt.type),(null==nt?void 0:nt.type)===r.nz.PushNotificationReceived){const Me=new y.xNG({requestId:null!==(ne=null===(q=null==nt?void 0:nt.data)||void 0===q?void 0:q.requestId)&&void 0!==ne?ne:"",projectId:null!==(U=null===(_e=null==nt?void 0:nt.data)||void 0===_e?void 0:_e.projectId)&&void 0!==U?U:"",sentTs:null!==(pe=null===(re=null==nt?void 0:nt.data)||void 0===re?void 0:re.sentTs)&&void 0!==pe?pe:0,ttl:null!==(Te=null===(Pe=null==nt?void 0:nt.data)||void 0===Pe?void 0:Pe.ttl)&&void 0!==Te?Te:0,type:null!==(et=null===(me=null==nt?void 0:nt.data)||void 0===me?void 0:me.type)&&void 0!==et?et:y.nfD.UNKNOWN});this.telemetryService.push(Me)}else(null==nt?void 0:nt.type)===r.nz.PushNotificationError&&this.sendPushNotificationFailureTelemetry(null===(Xe=null==nt?void 0:nt.data)||void 0===Xe?void 0:Xe.errorDetails,null===(Ze=null==nt?void 0:nt.data)||void 0===Ze?void 0:Ze.errorCategory)}}createPushNotificationErrorDef(R,q,ne){return new y.TK_({errorDetails:null!=R?R:"",errorCategory:null!=q?q:y.F9b.GENERAL,projectId:null!=ne?ne:""})}createPushNotificationTokenRegisteredDef(R,q){return new y.iB_({registrationProvider:R,projectId:null!=q?q:""})}createPushNotificationPurgedEntriesDef(R,q){return new y.GtW({deviceIds:R,projectId:null!=q?q:""})}}return E.\u0275fac=function(R){return new(R||E)(A.LFG(d.ed),A.LFG(r.HR),A.LFG(l.y0),A.LFG(s.VK),A.LFG(i.eP))},E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var Y=e(83024),T=e(49840),B=e(91565);let f=(()=>{class E{constructor(R,q,ne,_e,U,re,pe,Pe,Te,me){this.datePipe=q,this.idmService=ne,this.systemInfoService=_e,this.configuration=U,this.distributedTracingUtilService=re,this.pushNotificationTelemetryService=pe,this.clientHeadersService=Pe,this.pnsEndpointSdk=Te,this.sharedStorage=me,this.browserProviderId=5,this.client="client_",this.uniqueClientsKey="client_unique_ids",this.dateFormat="yyyy-MM-dd HH:mm:ss +zzzz",this.logger=R.getLogger("PushNotificationRegistationService"),this.commonHeaders$=this.clientHeadersService.getCommonHeaders().pipe((0,L.q)(1))}registerDeviceForPns(R,q){return this.idmService.accountStatusChanged.pipe((0,L.q)(1),(0,p.h)(ne=>ne.isAuthenticated),(0,P.w)(ne=>(0,x.aj)([(0,M.of)(ne),this.idmService.getAuthToken(!1),this.commonHeaders$,this.systemInfoService.getDeviceId()])),(0,P.w)(([ne,_e,U,re])=>(this.commonHeaders=Object.assign({},Object.assign(Object.assign({},U),{Authorization:`GFNJWT ${_e.token}`})),this.cachedPnsData=Object.assign({},{fcmToken:R,authToken:_e.token}),this.pnsEndpointSdk.pnsRegister({registrationToken:R,deviceId:re},this.commonHeaders,q))),(0,a.U)(ne=>(this.logger.info("PNS registration response: ",ne),this.pushNotificationTelemetryService.sendTokenRegisteredSuccessTelemetry(y.att.PNS),!0)),(0,o.K)(ne=>{var _e;return this.logger.error("Error registering device with PNS: ",ne),this.pushNotificationTelemetryService.sendPushNotificationFailureTelemetry(JSON.stringify(null!==(_e=null==ne?void 0:ne.status)&&void 0!==_e?_e:ne),y.F9b.DEVICE_REGISTRATION),q&&(this.distributedTracingUtilService.setSpanAttribute(q,C.NI.ErrorDetails,"Error registering device with PNS"),this.distributedTracingUtilService.closeSpan(q)),(0,M.of)(!1)}))}unregisterFromPns(R=!0){R&&(this.logger.info("Unregister from PNS on user logout."),this.callUnregister())}callUnregister(R){var q,ne,_e;const U=this.distributedTracingUtilService.startSpan(C.j1.PnsUnregister);this.commonHeaders=(0,v.merge)(this.commonHeaders,this.pnsEndpointSdk.getCommonHeaders()),null!==(q=this.cachedPnsData)&&void 0!==q&&q.fcmToken||R?fetch(this.pnsEndpointSdk.generateUrl("unregister"),{method:"POST",body:JSON.stringify({previousRegistrationTokens:[null!==(_e=null===(ne=this.cachedPnsData)||void 0===ne?void 0:ne.fcmToken)&&void 0!==_e?_e:R]}),headers:this.commonHeaders,keepalive:!0}).then(pe=>{this.distributedTracingUtilService.closeSpan(U),this.logger.info("Unregister Fetch api call response: ",pe.status),204===pe.status&&this.sharedStorage.removeBlock("pnsFcmToken").subscribe()}).catch(pe=>{this.distributedTracingUtilService.setSpanAttribute(U,C.NI.ErrorDetails,"Error unregistering device from PNS"),this.distributedTracingUtilService.closeSpan(U),this.logger.error("Unregister Fetch api call failed: ",pe)}):this.logger.error("FCM token was not found, not calling unregister api")}}return E.\u0275fac=function(R){return new(R||E)(A.LFG(d.ed),A.LFG(m.uU),A.LFG(S.No),A.LFG(d.Ob),A.LFG(s.VK),A.LFG(C.Dc),A.LFG(O),A.LFG(Y.x5),A.LFG(T.o_),A.LFG(B.OA))},E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var D=e(59562),I=e(27344),w=e(57693),_=e(99636),$=e(33932),G=e(78747),F=e(71265),J=e(70494),z=e(97483),Z=e(86465),ue=e(76549),u=e(715),k=e(39103),W=e(5193);let N=(()=>{class E{constructor(R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe){this.configuration=q,this.idmService=ne,this.serviceWorkerService=_e,this.experienceControl=U,this.localeService=re,this.snackbar=pe,this.translateService=Pe,this.projectInterfaceService=Te,this.guestModeHelperService=me,this.distributedTracingUtilService=et,this.pushNotificationRegistationService=Xe,this.throttleTime=2e4,this.snackBarDuration=7e3,this.permissionRequestTracker=new D.t(1),this.permissionToastDismissTracker=new D.t(1),this.logger=R.getLogger("BrowserPushNotificationService"),this.firebaseStatusToSpanName=new Map,this.projectInterfaceService.setNotificationAllowedCallBack(this.isNotificationAllowed.bind(this))}init(){this.pushNotificationConfiguration$=this.fetchPushNotificationConfig().pipe((0,w.d)(1)),this.registerDeviceForPushNotifications().subscribe(R=>{R?this.logger.info("Device Registration is Sucessful"):this.logger.error("Error while Registering the Device")}),this.initializePushNotifications().subscribe(R=>{R&&this.logger.info("Push Notification is Sucessfully initiated for permission = granted users")}),this.initializePushNotificationKBAUrl(),this.listenToTracingEventsFromServiceWorker(),this.unregisterFromPnsOnUserLogout()}get pushNotificationKBAUrl(){return this.pushNotificationUrl}requestPermissionForPushNotification(){this.setPermissionRequested(),Notification.requestPermission().then(R=>{R===n.Ad.Granted?(this.logger.info("Browser Push Notification Permissions are Success"),this.showSuccessMessage(),this.initialize().subscribe(q=>{this.logger.info("Push Notification initialization is Success",q)})):R===n.Ad.Denied?(this.logger.info("Browser Push Notification Permissions are denied"),this.showSnackBarWithKBA()):this.logger.info(R===n.Ad.Default?"User has closed the Dialog without granting / denying the permissions":"Something unexpected happened, please check further logs")})}initialize(){return this.logger.info("initialize() is called"),this.isNotificationSupported()&&!this.registrationInProgress?(this.registrationInProgress=!0,(0,x.aj)([this.pushNotificationConfiguration$,this.idmService.accountStatusChanged]).pipe((0,_.p)(this.throttleTime),(0,$.zg)(([R,q])=>{var ne,_e;if(R&&q.isAuthenticated){this.parentSpan=this.distributedTracingUtilService.startSpan(C.j1.PushNotificationRegistration);const U=JSON.stringify(null===(_e=null===(ne=this.configuration)||void 0===ne?void 0:ne.firebase)||void 0===_e?void 0:_e.pns);return this.logger.info("Push Notification Settings are fetched; Sending Push Notification Settings to SW: ",U),this.serviceWorkerService.postMessageSw({type:r.rL.PushNotification,content:U}),this.registrationInProgress=!1,(0,M.of)(!0)}return this.logger.info("Push Notifications are not Supported for logged out users"),this.registrationInProgress=!1,(0,M.of)(!1)}))):(this.logger.info("Push Notifications are not Supported"),(0,M.of)(!1))}setPermissionToastDismissed(){this.permissionToastDismissTracker.next(!1)}setPermissionRequested(){this.permissionRequestTracker.next(!0)}willBeEnabledOnStreamStart(){return this.isNotificationAllowed().pipe((0,$.zg)(R=>R&&Notification.permission!==n.Ad.Granted&&Notification.permission!==n.Ad.Denied?(0,I.S3)(this.permissionRequestTracker.asObservable(),this.permissionToastDismissTracker.asObservable()).pipe((0,L.q)(1),(0,G.x)(()=>{this.permissionRequestTracker.complete(),this.permissionRequestTracker=new D.t(1),this.permissionToastDismissTracker.complete(),this.permissionToastDismissTracker=new D.t(1)})):(0,M.of)(!1)))}showSuccessMessage(){this.translateService.get("notification.notificationSuccessMessage").pipe((0,L.q)(1)).subscribe(q=>this.snackbar.open(q,"",{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}),q=>{this.logger.info("Error getting the toast message",q)})}showSnackBarWithKBA(){(0,x.aj)([this.translateService.get("common.learnMore"),this.translateService.get("notification.notificationBlockMessage")]).pipe((0,a.U)(([ne,_e])=>{this.snackbar.open(_e,ne,{duration:this.snackBarDuration,horizontalPosition:"left",panelClass:["nv-hig"]}).onAction().subscribe(U=>window.open(this.pushNotificationKBAUrl))})).subscribe(()=>this.logger.info("show Snack Bar With KBA is success"),ne=>this.logger.error("Error while showing snackbar wirh KBAs",ne))}initializePushNotificationKBAUrl(){const R=this.configuration.redirect.serverUrl,q=z.qBq.GFN_PC_BROWSER_PUSH_NOTIFICATION;this.localeService.localeChanged.subscribe(ne=>{this.pushNotificationUrl=`${R}${ne}&page=${q}`},ne=>{this.logger.error("Some error occured while fetching locale for push Notification KBAUrl",ne)})}initializePushNotifications(){if(this.logger.info("Initialising Push Notifications on Refresh"),this.isNotificationSupported()){if(Notification.permission===n.Ad.Granted)return this.logger.info("Permission is granted"),this.initialize();Notification.permission===n.Ad.Denied?this.logger.info("Permission is denied"):Notification.permission===n.Ad.Default&&this.logger.info("Permission is set to default")}return(0,M.of)(!1)}isNotificationAllowed(){return!this.isNotificationSupported()||this.guestModeHelperService.isGuestMode?(0,M.of)(!1):this.pushNotificationConfiguration$.pipe((0,L.q)(1))}registerDeviceForPushNotifications(){return this.serviceWorkerService.swPushNotificationListener.pipe((0,$.zg)(R=>(null==R?void 0:R.type)===r.rL.PushNotification?(this.registrationInProgress=!0,this.logger.info("message recieved from Service Worker, updating the KV Store",null==R?void 0:R.content),this.pushNotificationRegistationService.registerDeviceForPns(R.content,this.parentSpan)):(0,M.of)(!1)),(0,$.zg)(R=>R?(this.logger.info("PNS registration response: ",R),this.registrationInProgress=!1,this.parentSpan&&(this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,C.NI.Error,!1),this.distributedTracingUtilService.closeSpan(this.parentSpan)),(0,M.of)(!0)):(0,M.of)(!1)),(0,o.K)(R=>(this.logger.error("Error registering device with PNS: ",R),this.registrationInProgress=!1,(0,M.of)(!1))))}unregisterFromPnsOnUserLogout(){this.idmService.sameTabAuthStarted().pipe((0,F.b)(R=>{R===Z.fH.LogoutStarted&&this.pushNotificationRegistationService.unregisterFromPns()})).subscribe()}listenToTracingEventsFromServiceWorker(){this.serviceWorkerService.swPushNotificationTracingListener.pipe((0,a.U)(R=>{if((null==R?void 0:R.type)===r.rL.PushNotificationTracing){this.logger.info("message recieved from Service Worker, updating open traceing flow",null==R?void 0:R.content);const q=JSON.parse(null==R?void 0:R.content);if(null!=q&&q.start){const ne=this.distributedTracingUtilService.startSpan(q.spanName,this.parentSpan);this.firebaseStatusToSpanName.set(q.spanName,ne)}else{const ne=this.firebaseStatusToSpanName.get(q.spanName);ne&&(this.logger.info("Closing the Span. Span is open for ",q.spanName),this.distributedTracingUtilService.setSpanAttribute(ne,C.NI.Error,q.error),this.distributedTracingUtilService.closeSpan(ne),q.error&&(this.logger.info("Error is received with Close Span Event"),this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,C.NI.ErrorDetails,"Unexpected Error with FCM"),this.distributedTracingUtilService.closeSpan(this.parentSpan)))}return!0}return!1}),(0,o.K)(R=>(this.logger.error("Some error occured while listening to Span Events from SW",R),this.parentSpan&&(this.distributedTracingUtilService.setSpanAttribute(this.parentSpan,C.NI.ErrorDetails,"Error while listening to Child Span Events from SW"),this.distributedTracingUtilService.closeSpan(this.parentSpan)),(0,M.of)(!1)))).subscribe(R=>{R?this.logger.info("Child Span is received from SW"):this.logger.error("Error while updating Firebase Spans from SW")})}isNotificationSupported(){return"Notification"in window}fetchPushNotificationConfig(){return this.experienceControl.getCloudVariable(this.configuration.gxTarget.experiences.enableBrowserPushNotification,{},{useCache:!1},J.Z4.GxTargetGetCloudVariable,J.Qu.GxTargetGetKBLayoutsConfig).pipe((0,a.U)(R=>R.value.enableBrowserPushNotifications),(0,o.K)(R=>(this.logger.error("Failed to resolve gx-target cloud variable:",R),(0,M.of)(!1))))}}return E.\u0275fac=function(R){return new(R||E)(A.LFG(d.ed),A.LFG(s.VK),A.LFG(S.No),A.LFG(r.HR),A.LFG(J.Q6),A.LFG(d.OL),A.LFG(ue.pl),A.LFG(u.sK),A.LFG(k.m3),A.LFG(W.h),A.LFG(C.Dc),A.LFG(f))},E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();var H=e(21361);let h=(()=>{class E{constructor(R,q,ne,_e,U,re){this.translateService=q,this.localeService=ne,this.bridgeService=_e,this.guestModeHelperService=U,this.audioPlayService=re,this.notificationBody="notification.body",this.logger=R.getLogger("BrowserNotificationUiService")}show(R){if(!this.guestModeHelperService.isGuestMode&&d.ng.isBrowserPlatform()){this.logger.verbose("inside show method");const q={title:this.getTitlemessage(R),body:this.translateService.instant(this.notificationBody),language:this.localeService.getLocale(),direction:this.localeService.isRTLLocale(this.localeService.getLocale())?"rtl":"ltr",tag:R.notificationId,silent:!0};this.bridgeService.executeCommand(H.Gh.Common.Clientnotification.ShowClientNotifications,q).subscribe(ne=>{if(ne===H.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success){this.logger.info("Notifications are sent to Framework");const _e=R.notificationType;(_e===z.$Uz.RigIsReady||_e===z.$Uz.CountdownTimerBegins)&&this.audioPlayService.playAudio(z.N0y.RigReadyAndStreamerIdleTimeout.type)}else this.logger.info("Notifications are not sent. Result is ",ne)})}}deleteNotification(R){d.ng.isBrowserPlatform()&&this.bridgeService.executeCommand(H.Gh.Common.Clientnotification.DeleteNotification,{uniqueId:R}).subscribe(q=>{q===H.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success?this.logger.info("Notifications is deleted from Notification Center"):this.logger.info("Notifications clear request is not executed. Result is",q)})}clearNotificationsQueue(){d.ng.isBrowserPlatform()&&this.bridgeService.executeCommand(H.Gh.Common.Clientnotification.ClearNotificationsQueue,{clear:!0}).subscribe(R=>{R===H.Yk.Common.Clientnotification.InternalErrorCodeEnum.Success?this.logger.info("Notification Centre is cleared"):this.logger.info("Notifications Centre clear request is not executed. Result is ",R)})}getTitlemessage(R){const q=z.R76.get(R.notificationType);return R.notificationType===z.$Uz.CountdownTimerBegins?this.translateService.instant(q,{timeLeft:R.countdownTime}):this.translateService.instant(q)}}return E.\u0275fac=function(R){return new(R||E)(A.LFG(d.ed),A.LFG(u.sK),A.LFG(d.OL),A.LFG(d.dF),A.LFG(W.h),A.LFG(d.P))},E.\u0275prov=A.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},40389:(Ge,ae,e)=>{"use strict";e.d(ae,{K:()=>o});var t=e(96671),n=e(94511),x=e(90857),M=e(80155),L=e(69060),p=e(39609),P=e(64710),a=e(22281);let o=(()=>{class v{constructor(C,A,d){this.distributedTracingUtilService=d,this.messageTypeObservableMap=new Map,this.routePushNotification=m=>{m&&m.messageType?this.messageTypeObservableMap[m.messageType]&&this.messageTypeObservableMap[m.messageType].forEach(S=>{this.logger.info("routing push notification for ",m.messageType),this.logger.trace(M.y$.PushNotification,"Received push notification for",x.oW[m.messageType]),S.next(m)}):this.logger.error("Invalid content received: ",m)},this.logger=C.getLogger("PushNotificationService"),A.get$(n.oI.PushNotification).subscribe(m=>{var S;try{const s=JSON.parse(m).data;s||this.logger.error("Push notification data received is: ",s);const r={messageType:JSON.parse(null==s?void 0:s.messageType)},l={};if(null!=s&&s.requestMetaData){const O=JSON.parse(s.requestMetaData);null===(S=null==O?void 0:O.traceContext)||void 0===S||S.forEach(Y=>{l[Y.key]=Y.value})}const i=this.distributedTracingUtilService.startSpanUsingContext(L.j1.PushMessageReceived,l);this.distributedTracingUtilService.setSpanAttributes(i,{[L.NI.PushMessageType]:null==r?void 0:r.messageType}),this.distributedTracingUtilService.closeSpan(i),null!=s&&s.regionIdType&&(r.regionIdType=JSON.parse(s.regionIdType)),null!=s&&s.regionIds&&(r.regionIds=JSON.parse(s.regionIds)),null!=s&&s.changeIdType&&(r.changeIdType=JSON.parse(s.changeIdType)),null!=s&&s.changedIds&&(r.changedIds=JSON.parse(s.changedIds)),null!=s&&s.sessionInfo&&(r.sessionInfo=JSON.parse(s.sessionInfo)),null!=s&&s.patchingInfo&&(r.patchingInfo=JSON.parse(s.patchingInfo)),null!=s&&s.accountLinkedInfo&&(r.accountLinkedInfo=this.handleAccountLinkedInfo(JSON.parse(s.accountLinkedInfo))),null!=s&&s.campaignInfo&&(r.campaignInfo=JSON.parse(s.campaignInfo)),this.routePushNotification(r)}catch(s){this.logger.error("Error while parsing push notification",s)}})}handleAccountLinkedInfo(C){return{account_type:C.accountType,linked:C.linked,matched_count:C.matchedCount,expires_at:C.expiresAt}}registerPushNotification(C){this.logger.info("registerPushNotification map: ",C),this.messageTypeObservableMap[C]||(this.messageTypeObservableMap[C]=[]);const A=new t.xQ;return this.messageTypeObservableMap[C].push(A),A.asObservable()}}return v.\u0275fac=function(C){return new(C||v)(p.LFG(P.ed),p.LFG(a.uC),p.LFG(L.Dc))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},90857:(Ge,ae,e)=>{"use strict";e.d(ae,{$U:()=>n,Ad:()=>t,F0:()=>o,Il:()=>p,JK:()=>a,Qm:()=>L,R7:()=>v,oW:()=>x,qu:()=>P});var t=(()=>{return(C=t||(t={})).Granted="granted",C.Denied="denied",C.Default="default",t;var C})(),n=(()=>{return(C=n||(n={})).RigIsReady="RigIsReady",C.CountdownTimerBegins="CountdownTimerBegins",n;var C})(),x=(()=>{return(C=x||(x={})).UNKNOWN="UNKNOWN",C.SESSION_CHANGE="SESSION_CHANGE",C.APP_CHANGE="APP_CHANGE",C.PRODUCT_CHANGE="PRODUCT_CHANGE",C.SUBSCRIPTION_CHANGE="SUBSCRIPTION_CHANGE",C.ASSET_CHANGE="ASSET_CHANGE",C.GSWS_SYNC="GSWS_SYNC",C.SERVER_INFO_SYNC="SERVER_INFO_SYNC",C.CONFIGURATION_CHANGE="CONFIGURATION_CHANGE",C.LAYOUT_CHANGE="LAYOUT_CHANGE",C.SECTION_CHANGE="SECTION_CHANGE",C.LINKEDACCOUNT_CHANGE="LINKEDACCOUNT_CHANGE",C.PATCHING_EVENT="PATCHING_EVENT",C.LIBRARY_CHANGE="LIBRARY_CHANGE",C.KV_STORE_CHANGE="KV_STORE_CHANGE",C.PLATFORM_SYNC_CHANGE="PLATFORM_SYNC_CHANGE",C.CAMPAIGN_CHANGE="CAMPAIGN_CHANGE",x;var C})(),L=(()=>{return(C=L||(L={})).UNKNOWN="UNKNOWN",C.UPLAY="UPLAY",C.GOG="GOG",C.EPIC="EPIC",C.STEAM="STEAM",L;var C})(),p=(()=>{return(C=p||(p={})).UNKNOWN="UNKNOWN",C.SERVER_MAINTENANCE_STARTED="SERVER_MAINTENANCE_STARTED",C.SERVE_MAINTENANCE_COMPLETED="SERVE_MAINTENANCE_COMPLETED",C.PATCHING_STARTED="PATCHING_STARTED",C.PATCHING_COMPLETED="PATCHING_COMPLETED",p;var C})(),P=(()=>{return(C=P||(P={})).UNKNOWN="UNKNOWN",C.CAMPAIGN_SCHEDULED="CAMPAIGN_SCHEDULED",C.CAMPAIGN_START="CAMPAIGN_START",C.CAMPAIGN_COMPLETE="CAMPAIGN_COMPLETE",C.CAMPAIGN_CANCELED="CAMPAIGN_CANCELED",P;var C})(),a=(()=>{return(C=a||(a={})).REGION="REGION",C.VPC="VPC",a;var C})(),o=(()=>{return(C=o||(o={})).APPID="APPID",C.CMSID="CMSID",C.PANEL="PANEL",o;var C})();const v=new Map([[n.CountdownTimerBegins,"notification.CountdownTimerBegins"],[n.RigIsReady,"notification.RigIsReady"]])},40479:(Ge,ae,e)=>{"use strict";e.d(ae,{UJ:()=>l,nG:()=>s});var t=e(64710),n=e(23815),x=e(39138),M=e(74266),L=e(89258),p=e(58765),P=e(12606),a=e(57693),o=e(33932),v=e(4042),y=(()=>{return(i=y||(y={})).CacheName="offlineStore",i.DBKey="hitOfflineState",y;var i})(),d=e(39609),m=e(72221);const S=i=>`(display-mode: ${i})`;let s=(()=>{class i{constructor(Y,T,B,K){this.dbService=T,this.dbCacheService=B,this.breakpointObserver=K,this.logger=Y.getLogger("gfn-shared/PWAService"),this.isInPWAMode$=void 0!==window.navigator.standalone?(0,n.of)(window.navigator.standalone):(0,x.$R)(K.observe(S("standalone")),K.observe(S("browser"))).pipe((0,M.h)(([b,f])=>b.matches||f.matches),(0,L.U)(([b,f])=>b.matches||this.isInPWAMode()),(0,p.O)(this.isInPWAMode()),(0,P.x)(),(0,a.d)({bufferSize:1,refCount:!0}))}isInPWAMode(){return window.navigator.standalone||t.ng.isPWAModeOnLGTV()||t.ng.isPWAModeOnSamsungTV()||this.breakpointObserver.isMatched(S("standalone"))}get onPWAModeChange(){return this.isInPWAMode$}initialize(){this.logger.info("initialising Offline Datastore"),this.dbCacheService.getOrCreateCachedGlobalItem(y.CacheName,y.DBKey).sync_().subscribe()}checkForOfflineLaunch(){return this.dbService.getGlobalStore(y.CacheName).length().pipe((0,o.zg)(Y=>Y>0?(this.logger.info("offlineStoreValue is present in database"),this.dbService.getGlobalStore(y.CacheName).clear().pipe((0,v.h)(!0))):(this.logger.info("offlineStoreValue is not present in database"),(0,n.of)(!1))))}}return i.\u0275fac=function(Y){return new(Y||i)(d.LFG(t.ed),d.LFG(t.MC),d.LFG(t.LA),d.LFG(m.Yg))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var r=e(59562);let l=(()=>{class i{constructor(Y){this.pwaInstallPromptEvent=null,this.pwaInstallPromptCaptured=new r.t(1),this.logger=Y.getLogger("gfn-shared/PWAPromptService")}get pwaInstallPromptCaptured$(){return this.pwaInstallPromptCaptured.asObservable()}setDeferredPromptEvent(Y){this.pwaInstallPromptEvent=Y,this.logger.info("PWA event captured",Y),this.pwaInstallPromptCaptured.next()}promptFromDeferredEvent(){this.logger.info("PWA event requested"),this.pwaInstallPromptEvent?(this.pwaInstallPromptEvent.prompt(),this.pwaInstallPromptEvent=null):this.logger.info("No PWA beforeinstallprompt event was captured")}}return i.\u0275fac=function(Y){return new(Y||i)(d.LFG(t.ed))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},18164:(Ge,ae,e)=>{"use strict";e.d(ae,{PY:()=>n.PY,VH:()=>t.V,hD:()=>n.hD,hE:()=>n.hE});var t=e(26882),n=e(3633)},26882:(Ge,ae,e)=>{"use strict";e.d(ae,{V:()=>p});var t=e(2629),n=e(89258),x=e(3633),M=e(39609),L=e(64710);let p=(()=>{class P{constructor(o,v){this.localeService=v,this.logger=o.getLogger("gfn/RedirectService")}handleUnsupportedAndroidPlatform(){this.redirectTo(x.hE.GfnPcUnsupportedDeviceAndroid,{replace:!0})}handleUnsupportedBrowser(){this.redirectTo(x.hE.GfnPcUnsupportedDevice,{replace:!0,jso:{Plt:x.PY.Browser}})}redirectTo(o,v){this.getRedirectUrl(o,null==v?void 0:v.jso).subscribe(y=>{this.logger.info("Redirecting to",y),null!=v&&v.replace?window.location.replace(y):window.location.href=y})}redirectToExternalUrl(o,v){null!=v&&v.replace?window.location.replace(o):window.location.href=o}getRedirectUrl(o,v){return this.localeService.localeChanged.pipe((0,t.q)(1)).pipe((0,n.U)(y=>{let C=`${x.hE.BaseUrl}${y}&page=${o}`;return v&&(C+=`&jso=${window.btoa(JSON.stringify(v))}`),C}))}}return P.\u0275fac=function(o){return new(o||P)(M.LFG(L.ed),M.LFG(L.OL))},P.\u0275prov=M.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},3633:(Ge,ae,e)=>{"use strict";e.d(ae,{PY:()=>t,hD:()=>x,hE:()=>n});var t=(()=>{return(M=t||(t={})).PC="pc",M.Mac="mac",M.Browser="browser",t;var M})(),n=(()=>{return(M=n||(n={})).BaseUrl="https://www.nvidia.com/content/drivers/redirect.asp?language=",M.NetworkTroubleshoot="gfn_pc_net_help",M.RecommendedRoutersProductPage="gfn_pc_recommended_routers_product_page",M.GfnPcInfo="gfn_pc_info",M.GfnPcHelp="gfn_pc_help",M.TermsConditions="gfn_pc_terms_of_use",M.AccountTerms="nvidia_account_tos",M.OssLicenses="gfn_pc_oss",M.PrivacyPolicy="privacy_policy",M.AccountManagement="nvidia_account_management",M.SysRequirements="gfn_pc_sys_req",M.UdpBufferTips="gfn_pc_net_help_udp_socket",M.GfnPcUnSupportedRegion="gfn_pc_unsupported_region",M.GfnPcUnsupportedDevice="gfn_pc_unsupported_device",M.GfnPcUnsupportedDeviceAndroid="gfn_pc_unsupported_device_android",M.GfnPcUnsupportedBrowser="gfn_pc_unsupported_browser",M.GfnPcNetHelpFirewall="gfn_pc_net_help_firewall",M.GfnPcNetHelpWifi="gfn_pc_net_help_wifi",M.GfnPcHelpUpdate="gfn_pc_help_update",M.GfnPcHelpMissingDecoder="gfn_pc_help_missing_decoder",M.GfnServerStatus="gfn_service_status",M.GfnHelpFirewallNetworkTest="gfn_pc_net_help_firewall_net_test",M.GfnPcDirectMouseInputHelp="gfn_pc_direct_mouse_input_help",M.CookiePolicy="nvidia_cookie_policy",M.GfnPcRecommendedGamepads="gfn_pc_recommended_gamepads",M.GfnAccountManagementSSO="nvidia_account_management_default",M.GfnAccountManagement="nvidia_account_management_gfn",M.GfnPcMembershipJoin="gfn_pc_membership",M.GfnPcMembershipUpgrade="gfn_pc_membership_upgrade",M.GfnPcRedeemActivationCode="gfn_pc_redeem_activation_code",M.GfnPcHelpKeyboardGamesUnavailable="gfn_pc_help_keyboard_games_unavailable",M.GfnPcHelpTvGamepadOnly="gfn_pc_help_tv_gamepad_only",M.GfnPcWaitList="gfn_pc_waitlist",M.GfnPcAccountNotActivated="gfn_pc_account_not_activated",M.GfnPcKeyboardTroubleshooting="gfn_pc_keyboard_troubleshooting",M.GfnPcCustomProfileLearnMore="gfn_pc_custom_profile_learn_more",M.GfnPcResolutionProfileUpscalingLearnMore="gfn_pc_resolution_upscaling_learn_more",M.GfnPcHdrUnsupportedSystemsLearnMore="gfn_pc_hdr_unsupported_systems_learn_more",M.GfnPcUnsupportedResolutionsLearnMore="gfn_pc_unsupported_resolutions_learn_more",M.GfnPcUnsupportedReflexLearnMore="gfn_pc_unsupported_reflex_learn_more",M.GfnPcHelpConnections="gfn_pc_help_connections",M.GdnHomePage="gdn_home_page",M.GdnInvalidDeeplink="gdn_invalid_deeplink",n;var M})();const x={[n.PrivacyPolicy]:"nvidia.com/privacy",[n.CookiePolicy]:"nvidia.com/cookies",[n.TermsConditions]:"nvidia.com/geforcenow/termsofuse",[n.AccountTerms]:"nvidia.com/account/terms",[n.OssLicenses]:"nvidia.com/geforcenow/oss",[n.GfnPcRecommendedGamepads]:"nvidia.com/gfngamepads",[n.GfnAccountManagement]:"nvidia.com/account/gfn",[n.GfnAccountManagementSSO]:"account.nvidia.com",[n.GfnPcMembershipJoin]:"nvidia.com/gfn/membership",[n.GfnPcMembershipUpgrade]:"nvidia.com/gfn/upgrade",[n.GfnPcRedeemActivationCode]:"nvidia.com/gfn/activate",[n.GfnServerStatus]:"nvidia.com/gfn/status",[n.GfnPcHelpTvGamepadOnly]:"geforcenow.com/help/gamepadonly",[n.UdpBufferTips]:"geforcenow.com/help/udp",[n.GfnPcNetHelpFirewall]:"geforcenow.com/help/firewall",[n.GfnHelpFirewallNetworkTest]:"geforcenow.com/help/firewall-2",[n.GfnPcNetHelpWifi]:"geforcenow.com/help/wifi",[n.GfnPcHelpUpdate]:"geforcenow.com/help/update",[n.GfnPcUnSupportedRegion]:"nvidia.com/geforcenow/availability",[n.GfnPcHelpMissingDecoder]:"geforcenow.com/help/decoder",[n.GfnPcWaitList]:"nvidia.com/geforcenow/waitlist",[n.RecommendedRoutersProductPage]:"geforcenow.com/routers",[n.NetworkTroubleshoot]:"nvidia.com/geforcenow/help/network",[n.GfnPcKeyboardTroubleshooting]:"geforcenow.com/help/keyboard",[n.GfnPcUnsupportedDevice]:"geforcenow.com/unsupported-device",[n.GfnPcUnsupportedBrowser]:"geforcenow.com/unsupported-browser",[n.GfnPcCustomProfileLearnMore]:"geforcenow.com/help/custom-settings",[n.GfnPcUnsupportedResolutionsLearnMore]:"geforcenow.com/help/unsupported-resolutions",[n.GfnPcHelpConnections]:"geforcenow.com/help/connections"}},80956:(Ge,ae,e)=>{"use strict";e.d(ae,{Gx:()=>y,QU:()=>C,cF:()=>A,eP:()=>D});var t=e(16873),n=e(2629),x=e(89258),M=e(71265),L=e(51325),p=e(74266),P=e(54930),a=e(33932),o=e(29733),v=e(93731),y=(()=>{return(I=y||(y={})).ServerInfo="ServerInfo",I.Apps="Apps",I.Layout="Layout",I.Subscription="Subscription",I.ALS="ALS",I.KVStorePlatformSelection="KVStore_PlatformSelection",I.KVStoreAls="KVStore_Als",I.PanelLibrary="Panel_Library",I.PanelMain="Panel_Main",I.PanelMarquee="Panel_Marquee",I.LinkedAccountChanged="Linked_Account_Changed",I.CampaignsData="CampaignsData",y;var I})();const C={[v.wh.Main]:y.PanelMain,[v.wh.Marquee]:y.PanelMarquee,[v.wh.Library]:y.PanelLibrary};var A=(()=>{return(I=A||(A={})).OnFocus="onFocus",I.OnScreenChange="onScreenChange",I.OnPushNotification="onPushNotification",A;var I})(),d=e(96671),m=e(59562),S=e(47504),s=e(18388),r=e(23815),l=e(90857),i=e(773),O=e(70494),Y=e(80155),T=e(85566),B=e(39609),K=e(64710),b=e(40389),f=e(97483);let D=(()=>{class I{constructor(_,$,G,F,J,z,Z,ue,u){this.windowService=$,this.router=G,this.pushNotificationService=F,this.experienceControlService=J,this.pathService=z,this.idmService=Z,this.appConfig=ue,this.injector=u,this.contentExpiryInfo={},this.serverInfoRefresh=new d.xQ,this.subscriptionRefresh=new d.xQ,this.appsRefresh=new d.xQ,this.layoutRefresh=new d.xQ,this.kvStorePlatformSelectionRefresh=new d.xQ,this.skuDataRefresh=new d.xQ,this.assetRefresh=new d.xQ,this.libraryRefresh=new d.xQ,this.panelRefresh=new d.xQ,this.patchingInfoRefresh=new d.xQ,this.linkedAccountRefresh=new d.xQ,this.campaignDataRefresh=new d.xQ,this.gxtPunctualUIConfigFetched=new m.t(1),this.scheduledRequests=[],this.serverInfoRefresh$=this.serverInfoRefresh.asObservable(),this.subscriptionRefresh$=this.subscriptionRefresh.asObservable(),this.appsRefresh$=this.appsRefresh.asObservable(),this.layoutRefresh$=this.layoutRefresh.asObservable(),this.kvStorePlatformSelectionRefresh$=this.kvStorePlatformSelectionRefresh.asObservable(),this.skuDataRefresh$=this.skuDataRefresh.asObservable(),this.assetRefresh$=this.assetRefresh.asObservable(),this.libraryRefresh$=this.libraryRefresh.asObservable(),this.panelRefresh$=this.panelRefresh.asObservable(),this.patchingInfoRefresh$=this.patchingInfoRefresh.asObservable(),this.linkedAccountRefresh$=this.linkedAccountRefresh.asObservable(),this.campaignDataRefresh$=this.campaignDataRefresh.asObservable(),this.logger=_.getLogger("RefreshUiService"),this.pushNotificationHandlerMap=new Map([[l.oW.APP_CHANGE,{info:[{refreshTrigger:this.appsRefresh,contentExpiryFlagToCheck:y.Apps}]}],[l.oW.SUBSCRIPTION_CHANGE,{info:[{refreshTrigger:this.subscriptionRefresh,contentExpiryFlagToCheck:y.Subscription}],getTimeout:()=>60*Math.random()*1e3}],[l.oW.SERVER_INFO_SYNC,{info:[{refreshTrigger:this.serverInfoRefresh,contentExpiryFlagToCheck:y.ServerInfo}]}],[l.oW.LAYOUT_CHANGE,{info:[{refreshTrigger:this.panelRefresh}],aggregationOverrides:{considerChangedIds:!0},shouldHandle:this.shouldHandleLayoutChangeNotification.bind(this)}],[l.oW.PRODUCT_CHANGE,{info:[{refreshTrigger:this.subscriptionRefresh,contentExpiryFlagToCheck:y.Subscription}]}],[l.oW.ASSET_CHANGE,{info:[{refreshTrigger:this.assetRefresh}],aggregationOverrides:{considerChangedIds:!0},shouldHandle:this.shouldHandleAssetChangeNotification.bind(this)}],[l.oW.PATCHING_EVENT,{info:[{refreshTrigger:this.patchingInfoRefresh}],aggregationOverrides:{bypassAggregation:!0},shouldHandle:this.shouldHandlePatchingNotification.bind(this),getTimeout:()=>60*Math.random()*1e3}],[l.oW.LIBRARY_CHANGE,{info:[{refreshTrigger:this.libraryRefresh,contentExpiryFlagToCheck:y.PanelLibrary}],getTimeout:()=>0}],[l.oW.KV_STORE_CHANGE,{info:[{refreshTrigger:this.kvStorePlatformSelectionRefresh,contentExpiryFlagToCheck:y.KVStorePlatformSelection}],getTimeout:()=>60*Math.random()*1e3}],[l.oW.LINKEDACCOUNT_CHANGE,{info:[{refreshTrigger:this.linkedAccountRefresh,contentExpiryFlagToCheck:y.LinkedAccountChanged}],getTimeout:()=>0}],[l.oW.CAMPAIGN_CHANGE,{info:[{refreshTrigger:this.campaignDataRefresh,contentExpiryFlagToCheck:y.CampaignsData}],aggregationOverrides:{considerPropertyPath:"campaignInfo.eventType"}}]])}get getPunctualUIConfig$(){return this.gxtPunctualUIConfigFetched.asObservable()}init(){this.fetchPunctualUIConfigCloudVariable(),this.refreshDataOnScreenChange(),this.refreshDataOnFocusGain(),this.handlePushNotifications()}getContentExpiryInfo(_){return this.contentExpiryInfo[_]}setContentExpiryInfo(_){(0,S.aj)([this.getPunctualUIConfig$,this.idmService.accountStatusChanged]).pipe((0,n.q)(1),(0,x.U)(([$,G])=>G.isAuthenticated?$.refreshIntervalLoggedInUser:$.refreshIntervalLoggedOutUser),(0,M.b)($=>{this.contentExpiryInfo[_]=Date.now()+60*$*1e3})).subscribe(()=>{},$=>this.logger.error("Error setting content expiry info",$))}resetContentExpiryInfo(_){_&&(this.contentExpiryInfo[_]=0)}fetchPunctualUIConfigCloudVariable(){this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.punctualUIConfig,{},{useCache:!0,useNetworkTimeoutForCacheFallback:!0},O.Z4.GxTargetGetCloudVariable,O.Qu.GxTargetGetPunctualUIConfig).pipe((0,n.q)(1),(0,M.b)(_=>{var $;const G=null!==($=null==_?void 0:_.value)&&void 0!==$?$:this.appConfig.defaultPunctualUIConfig;this.gxtPunctualUIConfigFetched.next(G)}),(0,L.K)(_=>(this.gxtPunctualUIConfigFetched.next(this.appConfig.defaultPunctualUIConfig),(0,s._)(_)))).subscribe(()=>this.logger.info("Successfully fetched punctualUIConfig cv"),_=>this.logger.info("Error while fetching punctualUIConfig cv",_))}triggerRefresh(_,$,G){$.next({source:_,metadata:G})}isContentExpired(_){return 0===this.contentExpiryInfo[_]||Date.now()>this.contentExpiryInfo[_]}triggerExpiredDataRefresh(_,$){let G=!1,F=!1;const J=null!=$?$:this.router.url;this.logger.info("triggerExpiredDataRefresh if needed on ",_),this.idmService.accountStatusChanged.pipe((0,n.q)(1),(0,M.b)(z=>{this.pathService.isMallOrSettingsUrl(J)&&(this.isContentExpired(y.ServerInfo)&&this.triggerRefresh(_,this.serverInfoRefresh),this.isContentExpired(y.Subscription)&&this.triggerRefresh(_,this.subscriptionRefresh),z.isAuthenticated&&this.isContentExpired(y.LinkedAccountChanged)&&this.triggerRefresh(_,this.linkedAccountRefresh)),o.Bi.includes(J)&&(this.isContentExpired(y.CampaignsData)&&(this.triggerRefresh(_,this.campaignDataRefresh),F=!0),this.isContentExpired(y.Apps)&&this.triggerRefresh(_,this.appsRefresh),!F&&this.isContentExpired(y.Layout)&&(this.triggerRefresh(_,this.layoutRefresh),G=!0),!G&&(this.isContentExpired(y.PanelMain)||this.isContentExpired(y.PanelMarquee))&&this.triggerRefresh(_,this.panelRefresh),z.isAuthenticated&&!G&&this.isContentExpired(y.PanelLibrary)&&this.triggerRefresh(_,this.libraryRefresh),this.isContentExpired(y.KVStorePlatformSelection)&&this.triggerRefresh(_,this.kvStorePlatformSelectionRefresh))})).subscribe()}refreshDataOnFocusGain(){return this.windowService.getFocusEvent().subscribe(()=>{this.triggerExpiredDataRefresh(A.OnFocus)})}refreshDataOnScreenChange(){let _;return this.router.events.pipe((0,p.h)($=>$ instanceof t.R9),(0,P.G)(),(0,x.U)($=>(_=$[1]&&$[1].urlAfterRedirects,!!this.pathService.isMallOrSettingsUrl(_))),(0,L.K)($=>(this.logger.error("Error in refreshDataOnScreenChange",$),(0,r.of)(!1)))).subscribe($=>{$&&this.triggerExpiredDataRefresh(A.OnScreenChange,_)})}refreshCheckForRegionIds(_){const $=this.injector.get(i.r);return null!=_&&_.regionIdType&&(null==_?void 0:_.regionIdType)===l.JK.REGION?null==$?void 0:$.detectedLocalZone$.pipe((0,n.q)(1),(0,a.zg)(G=>G?(0,r.of)(G):(this.logger.info("Detected local zone is empty"),null==$?void 0:$.getCachedZone())),(0,x.U)(G=>{var F,J;const z=null===(F=null==G?void 0:G.address)||void 0===F?void 0:F.split(".",1);if((null==z?void 0:z.length)>0){const Z=z[0].toLowerCase();return this.logger.info("Local-Region Prefix",Z),null===(J=null==_?void 0:_.regionIds)||void 0===J?void 0:J.some(ue=>ue.toLowerCase()===Z)}return!1}),(0,L.K)(G=>(this.logger.error("Error in getting Local-Region",G),(0,r.of)(!1)))):null==$?void 0:$.vpcId$.pipe((0,n.q)(1),(0,x.U)(G=>(G=G.toLowerCase(),this.logger.info("current VpcID",G),null==_?void 0:_.regionIds.some(F=>F.toLowerCase()===G))),(0,L.K)(G=>(this.logger.error("Error in getting current VPC ID",G),(0,r.of)(!1))))}canIgnoreNotification(_,$){var G;if(null!=$&&$.bypassAggregation)return!1;const F=this.scheduledRequests.filter(Z=>Z.messageType===_.messageType);if(!F.length)return!1;if(null!=$&&$.considerPropertyPath){if(!F.filter(ue=>(0,T.get)(ue,$.considerPropertyPath)===(0,T.get)(_,$.considerPropertyPath)).length)return!1;this.logger.info("Request of same message type with same property value exists")}if(null==$||!$.considerChangedIds)return this.logger.info("Request of same message type exists, considerChangedIds = false. Ignoring notification"),!0;const J=F.filter(Z=>Z.changeIdType===_.changeIdType);if(!J.length)return!1;const z=J[0];return null===(G=_.changedIds)||void 0===G||G.forEach(Z=>{z.changeIds.includes(Z)||z.changeIds.push(Z)}),this.logger.info("Request of same message type exists, changeIds updated. Ignoring notification"),!0}defaultShouldHandlePushNotification(_,$,G){var F;return this.logger.info("pushNotification data handling for message type: "+l.oW[_.messageType]),this.logger.info("Is window active: "+document.hasFocus()),this.logger.info("current screen url"+this.router.url),this.canIgnoreNotification(_,G)?(0,r.of)(!1):document.hasFocus()&&this.pathService.isMallOrSettingsUrl(this.router.url)?(null===(F=null==_?void 0:_.regionIds)||void 0===F?void 0:F.length)>0?this.refreshCheckForRegionIds(_):(0,r.of)(!0):($.forEach(J=>{this.resetContentExpiryInfo(null==J?void 0:J.contentExpiryFlagToCheck)}),(0,r.of)(!1))}handlePushNotifications(){this.pushNotificationHandlerMap.forEach((_,$)=>{this.pushNotificationService.registerPushNotification($).pipe((0,a.zg)(G=>(0,S.aj)(null!=_&&_.shouldHandle?[_.shouldHandle(G,null==_?void 0:_.info,null==_?void 0:_.aggregationOverrides),(0,r.of)(G)]:[this.defaultShouldHandlePushNotification(G,null==_?void 0:_.info,null==_?void 0:_.aggregationOverrides),(0,r.of)(G)]))).subscribe(([G,F])=>{var J,z,Z,ue;if(G){let u;if(null!=_&&_.getTimeout)u=_.getTimeout();else{const N=null!==(J=this.appConfig.punctualUI.notificationProcessingDelay)&&void 0!==J?J:3e5;u=Math.random()*N}const k=(0,Y.Rl)(),W={requestId:k,messageType:F.messageType,changeIds:null!==(z=F.changedIds)&&void 0!==z?z:[],changeIdType:F.changeIdType,considerChangedIds:null===(Z=_.aggregationOverrides)||void 0===Z?void 0:Z.considerChangedIds};!(null===(ue=_.aggregationOverrides)||void 0===ue)&&ue.considerPropertyPath&&(0,T.set)(W,_.aggregationOverrides.considerPropertyPath,(0,T.get)(F,_.aggregationOverrides.considerPropertyPath)),this.scheduledRequests.push(W),setTimeout(()=>{const N=this.scheduledRequests.findIndex(h=>h.requestId===k),H=this.scheduledRequests[N].changeIds;this.scheduledRequests.splice(N,1),F.changedIds=H,this.logger.info("Handling Push Messgae for ",l.oW[$]),null!=_&&_.handle?null==_||_.handle(F):null==_||_.info.forEach(h=>{null==h||h.refreshTrigger.next({source:A.OnPushNotification,metadata:F})})},u)}})})}shouldHandleAssetChangeNotification(_,$,G){return this.defaultShouldHandlePushNotification(_,$,G).pipe((0,M.b)(F=>{F||this.resetContentExpiryInfo(y.Apps)}))}shouldHandleLayoutChangeNotification(_,$,G){return this.defaultShouldHandlePushNotification(_,$,G).pipe((0,M.b)(F=>{var J;F||((null==_?void 0:_.changeIdType)===l.F0.PANEL?null===(J=null==_?void 0:_.changedIds)||void 0===J||J.forEach(z=>{this.resetContentExpiryInfo(C[z])}):this.resetContentExpiryInfo(y.Layout))}))}shouldHandlePatchingNotification(_){var $;return(null===($=null==_?void 0:_.regionIds)||void 0===$?void 0:$.length)>0?this.refreshCheckForRegionIds(_):(0,r.of)(!0)}}return I.\u0275fac=function(_){return new(_||I)(B.LFG(K.ed),B.LFG(K.un),B.LFG(t.F0),B.LFG(b.K),B.LFG(O.Q6),B.LFG(f.unb),B.LFG(f.No2),B.LFG(f.VKt),B.LFG(B.zs3))},I.\u0275prov=B.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},71168:(Ge,ae,e)=>{"use strict";e.d(ae,{s:()=>r});var t=e(33932),n=e(51325),x=e(71265),M=e(89258),L=e(59562),p=e(23815),P=e(41221),a=e(85566),o=e(53975),v=e(56362),y=e(39609),C=e(64710),A=e(7675),d=e(28278),m=e(91565),S=e(43508);const s="remoteOverrides";let r=(()=>{class l{constructor(O,Y,T,B,K,b){this.networkConfig=Y,this.zoneStorage=T,this.sharedStorageService=B,this.appConfig=K,this.bridgeService=b,this.remoteConfigFetchedSubject=new L.t(1),this.zonePrefixForCachedRCTelemetry="",this.vpcIdForForCachedRCTelemetry="",this.projectRevisionForCachedRCTelemetry="",this.currentRemoteConfigRevision="",this.logger=O.getLogger("shared/remote-config.service"),this.lastCachedZone$=this.networkConfig.getCurrentCachedZone().pipe((0,t.zg)(f=>(0,a.isNil)(f)||(0,a.isEmpty)(f)?this.zoneStorage.getDefaultZone():(this.logger.info("got cached zone",f),(0,p.of)(f)))),this.lastSavedZone$=this.networkConfig.getNetworkOverride().pipe((0,t.zg)(f=>(0,a.isNil)(f)||(0,a.isEmpty)(f)?(this.logger.info("get cached zone"),this.lastCachedZone$):(this.logger.info("got override zone",f),(0,p.of)(f))),(0,n.K)(f=>(this.logger.error("failed to fetch zone",f),(0,p.of)(null))))}get remoteConfigFetched$(){return this.remoteConfigFetchedSubject.asObservable()}getLastSavedZone(){return this.lastSavedZone$}configureRemoteOverrides(O){var Y;null!=O&&O.isFetchedFromGXT?this.appConfig.setRemoteOverridesFromGXT(O.data,null===(Y=O.metaData)||void 0===Y?void 0:Y.rcParamNameToLocalConfigKeyPathMap):this.logger.info("configureRemoteOverrides are not from GXT",O)}constructOverrides(O,Y,T,B,K){return{metaData:{lastFetchedFrom:O,lastFetchedAt:o.utc().valueOf(),regionName:T,zoneName:B,rcParamNameToLocalConfigKeyPathMap:K},data:Y}}saveRemoteOverrides(O){this.logger.info("save remote overides",O);const Y={overrideData:{data:O.data}};this.sharedStorageService.writeBlock(s,O).pipe((0,t.zg)(()=>(this.logger.info("notify geronimo"),this.bridgeService.executeCommand(v.G.Gfn.Streaming.UpdateRemoteConfig,Y)))).subscribe(()=>P.Z,T=>this.logger.error("failed to save remoteOverrides",T))}loadPreviousOverrides(){return this.sharedStorageService.readBlock(s).pipe((0,n.K)(O=>(this.logger.info("failed to fetch overrides",O),(0,p.of)({}))))}isValidObject(O,Y){return!(0,a.isNil)(O)&&!(0,a.isEmpty)(O)&&!(0,a.isEmpty)(O[Y])}isValidString(O){return!(0,a.isNil)(O)&&!(0,a.isEmpty)(O)}getZonePrefix(O){let Y="";if(this.isValidObject(O,"address")){const T=O.address.split(".",1);T.length>0&&(Y=T[0])}return Y}getRemoteConfigOnLaunch(){return this.loadPreviousOverrides().pipe((0,x.b)(O=>{var Y,T,B,K,b;this.zonePrefixForCachedRCTelemetry=null===(Y=null==O?void 0:O.metaData)||void 0===Y?void 0:Y.regionName,this.vpcIdForForCachedRCTelemetry=null===(T=null==O?void 0:O.metaData)||void 0===T?void 0:T.zoneName,null!=O&&O.isFetchedFromGXT?(this.appConfig.setRemoteOverridesFromGXT(O.data,null===(B=null==O?void 0:O.metaData)||void 0===B?void 0:B.rcParamNameToLocalConfigKeyPathMap),this.projectRevisionForCachedRCTelemetry=null===(b=null===(K=null==O?void 0:O.data)||void 0===K?void 0:K.debugInfo)||void 0===b?void 0:b.revision):this.logger.info("Saved overrided are not from GXT",O)}))}getCurrentZonePrefix(){return this.logger.info("getCurrentZone"),this.lastSavedZone$.pipe((0,M.U)(O=>{const Y=this.getZonePrefix(O);return this.isValidString(Y)?Y:(this.logger.info("invalid zone",O),null)}))}propagatePreviousOverides(){this.loadPreviousOverrides().subscribe(O=>{this.remoteConfigFetchedSubject.next({overrides:O,config:this.appConfig.get()})})}updateRemoteConfigFromGXT(O,Y,T,B){var K,b;const D=this.constructOverrides("",O,Y,T,B);D.isFetchedFromGXT=!0,this.currentRemoteConfigRevision=null===(b=null===(K=null==D?void 0:D.data)||void 0===K?void 0:K.debugInfo)||void 0===b?void 0:b.revision,this.saveRemoteOverrides(D),this.configureRemoteOverrides(D),this.logger.info("fire config fetched from GXT notification"),this.remoteConfigFetchedSubject.next({overrides:D,config:this.appConfig.get()})}}return l.\u0275fac=function(O){return new(O||l)(y.LFG(C.ed),y.LFG(A.X),y.LFG(d.W),y.LFG(m.OA),y.LFG(S.XL),y.LFG(C.dF))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},46950:(Ge,ae,e)=>{"use strict";e.d(ae,{FJ:()=>n,lz:()=>M});const n=5,M="Unknown"},84904:(Ge,ae,e)=>{"use strict";e.d(ae,{FJ:()=>L.FJ,XS:()=>n.X,mw:()=>t.m});var t=e(1472),n=e(7675);e(85566);var L=e(46950)},7675:(Ge,ae,e)=>{"use strict";e.d(ae,{X:()=>i});var t=e(59562),n=e(23815),x=e(2629),M=e(63155),L=e(89258),p=e(33932),P=e(12606),a=e(71265),o=e(51325),v=e(85566),C=e(46950),A=e(64710),d=e(39609),m=e(91565),S=e(30613);const s="networkConfig",l="zones";let i=(()=>{class O{constructor(T,B,K,b){this.systemInfo=B,this.sharedStorage=K,this.deeplinkHelperService=b,this.currentFingerprint="",this.networkSessionIdUpdated$=new t.t(1),this.logger=T.getLogger("gfn/networkConfiguration"),this.isBrowserPlatform=A.ng.isBrowserPlatform(),this.isBrowserPlatform&&(this.deeplinkOverrideZone=this.deeplinkHelperService.getDeeplinkZoneOverride())}get networkSessionId$(){return this.networkSessionIdUpdated$.asObservable()}readNetworkSessionId(){this.getCachedNetworkSessionId().pipe((0,x.q)(1)).subscribe(T=>this.networkSessionIdUpdated$.next(null!=T?T:""),T=>{this.logger.error("Error fetching cached networkSessionId",T),this.networkSessionIdUpdated$.next("")})}set deeplinkOverrideZone(T){this._deeplinkOverrideZone=T}get deeplinkOverrideZone(){return this._deeplinkOverrideZone}getFingerprint(){return this.systemInfo.getNetworkInformation().pipe((0,M.P)(),(0,L.U)(T=>(null!=T&&T.Fingerprint&&this.updateFingerPrintIfChanged(T.Fingerprint),(0,v.isNil)(T)||(0,v.isEmpty)(T.Fingerprint)?null:T.Fingerprint)))}updateFingerPrintIfChanged(T){if(this.currentFingerprint!==T)return this.currentFingerprint=T,this.modifyNetworkConfig(B=>((0,v.isNil)(T)||(B.currentFingerPrint=T),B),"Failed tp update fingerprint").subscribe()}cacheCurrentFingerprint(){return this.getFingerprint().pipe((0,L.U)(T=>!(0,v.isNil)(T)&&(this.lastCachedFingerprint=T,!0)))}getFingerprintInfo(T){return this.getNetworkConfig().pipe((0,L.U)(B=>(0,v.isNil)(B.networks[T])?null:B.networks[T]))}getCurrentFingerprintInfo(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getFingerprintInfo(T)))}getCachedZone(T){return this.getNetworkConfig().pipe((0,L.U)(B=>(0,v.isNil)(B.networks[T])||(0,v.isNil)(B.networks[T].lbrZone)?null:B.networks[T].lbrZone))}getCurrentCachedZone(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getCachedZone(T)))}getCurrentCachedZone$(){return this.cachedZone$||(this.cachedZone$=new t.t(1),this.getCurrentCachedZone().pipe((0,x.q)(1)).subscribe(T=>this.cachedZone$.next(T))),this.cachedZone$.asObservable().pipe((0,P.x)())}getCachedLatencies(T){return this.getNetworkConfig().pipe((0,L.U)(B=>(0,v.isNil)(B.networks[T])||(0,v.isNil)(B.networks[T].zonesLatencies)?null:B.networks[T].zonesLatencies))}getCurrentCachedLatencies(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getCachedLatencies(T)))}getCachedNetworkSessionId(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getNetworkConfig().pipe((0,L.U)(B=>(0,v.isNil)(B.networks[T])||(0,v.isNil)(B.networks[T].networkSessionId)?null:B.networks[T].networkSessionId))))}updateCurrentFingerprintNetworkTestFlag(T,B){return this.getFingerprint().pipe((0,p.zg)(K=>this.modifyNetworkConfig(b=>{const f=(0,v.isNil)(K)?this.lastCachedFingerprint:K;return(0,v.isNil)(f)||(b.networks[f]=b.networks[f]||{},(0,v.merge)(b.networks[f],{runNetworkTest:T,indirectNetworkTestPolicy:B})),b},`Unable to ${T?"set":"reset"} the network test requirement with policy: ${B}.`)))}setCachedLatencies(T,B){const K={},b=[];if(!(0,v.isNil)(B)&&B!==C.lz)for(const f of B.split(/[|]/)){const D=f.split(":"),I=2===D.length?Number(D[1]):NaN;isNaN(I)||b.push({key:D[0],val:D[1]})}for(const f of b)K["latency@"+f.key]=f.val;return this.modifyNetworkConfig(f=>(f.networks[T]=f.networks[T]||{},f.networks[T].zonesLatencies=(0,v.isEmpty)(K)?null:K,f),`Unable to save latency information for ${T}.`)}setCachedZone(T,B){return this.modifyNetworkConfig(K=>(K.networks[T]=K.networks[T]||{},K.networks[T].lbrZone=B,K),`Unable to save zone information for ${T}.`).pipe((0,a.b)(K=>{K&&this.cachedZone$&&this.cachedZone$.next(B)}))}setCachedNetworkSessionId(T){return this.getFingerprint().pipe((0,p.zg)(B=>this.modifyNetworkConfig(K=>(K.networks[B]=K.networks[B]||{},K.networks[B].networkSessionId=T,K),`Unable to save networkSessionId information for ${B}.`).pipe((0,a.b)(K=>{K&&this.networkSessionIdUpdated$.next(T)}))))}updateNetworkTestInfoInFingerprint(T,B,K){return this.getFingerprint().pipe((0,p.zg)(b=>b?this.modifyNetworkConfig(f=>(f.networks[b]=f.networks[b]||{},f.networks[b].maxSubscriptionProfile=T,f.networks[b].networkTestReturn=B,f.networks[b].lastShownThresholdProfile=K,f),`Unable to save maxSubscriptionProfile, networkTestReturn, lastShownThresholdProfile information for ${b}.`):(0,n.of)(!1)))}updateNetworkTestThresholdProfile(T){return this.getFingerprint().pipe((0,p.zg)(B=>this.modifyNetworkConfig(K=>(K.networks[B]=K.networks[B]||{},K.networks[B].lastShownThresholdProfile=T,K),`Unable to save lastShownThresholdProfile information for ${B}.`)))}clearFingerprintCachedZone(T){return this.modifyNetworkConfig(B=>(this.logger.info("clear Cached Zone for fingerprint: ",T),(0,v.isNil)(B.networks[T])||delete B.networks[T].lbrZone,B),`Unable to clear zone information for ${T}.`)}clearCachedDisplayForFingerprint(T){return this.modifyNetworkConfig(B=>(this.logger.info("clear Cached Display for fingerprint: ",T),(0,v.isNil)(B.networks[T])||delete B.networks[T].maxDisplay,B),`Unable to clear display information for ${T}.`)}clearCachedCurrentFingerprint(){return this.getFingerprint().pipe((0,p.zg)(T=>this.modifyNetworkConfig(B=>(this.logger.info("clear the network fingerprint: ",T),(0,v.isNil)(B.networks[T])||delete B.networks[T],B),`Unable to clear information for ${T}.`)))}setZoneList(T){return this.sharedStorage.writeBlock(l,T)}getZoneList(){return this.sharedStorage.readBlock(l)}setFingerprintMaxDisplay(T,B){return this.modifyNetworkConfig(K=>(this.logger.info(`fingerprint ${B} display set to ${T.width}x${T.height}@${T.frameRate}`),K.networks[B]=K.networks[B]||{},K.networks[B].maxDisplay=T,K),`Unable to save information for ${B}.`)}setCurrentFingerprintMaxDisplay(T){return this.getFingerprint().pipe((0,p.zg)(B=>this.setFingerprintMaxDisplay(T,B)))}getFingerprintMaxDisplay(T){return this.getNetworkConfig().pipe((0,L.U)(B=>(0,v.isNil)(B.networks[T])||(0,v.isNil)(B.networks[T].maxDisplay)?null:B.networks[T].maxDisplay))}getFingerprintMaxPacketSize(T){return this.getNetworkConfig().pipe((0,L.U)(B=>{var K,b;return(0,v.isNil)(B.networks[T])||(0,v.isNil)(null===(b=null===(K=B.networks[T].networkTestReturn)||void 0===K?void 0:K.testResult)||void 0===b?void 0:b.maxPacketSize)?null:B.networks[T].networkTestReturn.testResult.maxPacketSize}))}getCurrentFingerprintMaxDisplay(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getFingerprintMaxDisplay(T)),(0,a.b)(T=>{(0,v.isNil)(T)||this.logger.info(`Get Current maxDisplay: ${T.width}x${T.height}@${T.frameRate}`)}))}getCurrentFingerprintMaxPacketSize(){return this.getFingerprint().pipe((0,p.zg)(T=>this.getFingerprintMaxPacketSize(T)),(0,a.b)(T=>{(0,v.isNil)(T)||this.logger.info(`Get Current maxPacketSize: ${T}`)}))}getNetworkOverride(){return this.deeplinkOverrideZone?(0,n.of)(this.deeplinkOverrideZone):this.sharedStorage.readBlock(s).pipe((0,L.U)(T=>T.routingOverride||null))}setNetworkOverride(T){return this.modifyNetworkConfig(B=>(B.routingOverride=T,B),`Unable to save zone override information for ${T}.`)}updateNetworkOverrideNetworkTestFlag(T){return this.modifyNetworkConfig(B=>(B.routingOverride&&(B.routingOverride.runNetworkTest=!!this.isBrowserPlatform||T),B),`Unable to ${T?"set":"clear"} the network test requirement.`)}clearNetworkOverride(){return this.deeplinkOverrideZone?(this.deeplinkOverrideZone=null,(0,n.of)(!0)):this.modifyNetworkConfig(T=>(delete T.routingOverride,T),"Unable to clear zone override.")}clearCurrentFingerprintCachedZone(){return this.logger.info("deleting CachedZone for current fingerprint"),this.getFingerprint().pipe((0,p.zg)(T=>this.clearFingerprintCachedZone(T)))}clearCurrentFingerprintMaxDisplay(){return this.logger.info("deleting Cached Display for current fingerprint"),this.getFingerprint().pipe((0,p.zg)(T=>this.clearCachedDisplayForFingerprint(T)))}modifyNetworkConfig(T,B){return this.getNetworkConfig().pipe((0,p.zg)(K=>this.sharedStorage.writeBlock(s,T(K))),(0,o.K)(this.logError(B,!1)))}getNetworkConfig(){return this.sharedStorage.readBlock(s).pipe((0,L.U)(T=>(0,v.merge)(T,{networks:{}})))}logError(T,B){return K=>(this.logger.error(T,K),(0,n.of)(B))}writeNetworkConfig(T,B){return this.sharedStorage.writeBlock(s,T,B)}}return O.\u0275fac=function(T){return new(T||O)(d.LFG(A.ed),d.LFG(A.Ob),d.LFG(m.OA),d.LFG(S.g))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},1472:(Ge,ae,e)=>{"use strict";e.d(ae,{m:()=>Y});var t=e(96671),n=e(18406),x=e(39138),M=e(23815),L=e(18388),p=e(89258),P=e(33932),a=e(4042),o=e(51325),v=e(10907),y=e(63155),C=e(21361),A=e(85566),m=e(46950),S=e(23827),s=e(69060),r=e(39609),l=e(7675),i=e(64710),O=e(9357);let Y=(()=>{class T{constructor(K,b,f,D,I,w){this.networkConfig=K,this.bridgeService=b,this.telemetryService=f,this.telemetryUtilService=D,this.distributedTracingUtilService=I,this.lbrCancelled$=new t.xQ,this.retriggerPolicy$=new n.X(S.OR5.Manual),this.logger=w.getLogger("gfn/serverRouting"),this.isLbrInProgress=!1,this.lbrRun=!1}get isLbrRequired(){return this.lbrRequired}set isLbrRequired(K){this.lbrRequired=K}get isLbrRun(){return this.lbrRun}resetLbrStatus(){this.lbrRequired=!1,this.lbrRun=!1}setRetriggerPolicy(K){this.retriggerPolicy$.next(K)}getCachedServerZone(){const K=[this.networkConfig.getNetworkOverride(),this.networkConfig.getCurrentCachedZone()];return(0,x.$R)(...K).pipe((0,p.U)(b=>{const[f,D]=b;return(0,A.isNil)(f)?(this.logger.info("DiskCachedZone is: ",D," and cachedZone is: ",this.cachedZone),(0,A.isNil)(this.cachedZone)?D:this.cachedZone):(this.logger.info("Latency-based routing override found.",f),f)}))}getFastestRegionalZone(K,b,f){const D=(0,A.keys)(b);this.isLbrInProgress=!0;const I={user:K.userId,deviceId:K.deviceId,platformId:K.platformId,addresses:D},w=this.cacheZoneList(b),_=this.networkConfig.getNetworkOverride(),$=this.networkConfig.getCurrentCachedLatencies();return(0,x.$R)(w,_,$).pipe((0,P.zg)(([,G,F])=>(0,A.isNil)(G)?(this.logger.info("override zone is not found, run LBR"),(0,A.isNil)(f)||this.distributedTracingUtilService.setSpanAttribute(f,s.NI.UsedLatencyBasedRouting,!0),this.performLbr(I,b,G,K.defaultZone)):(this.logger.info("Latency-based routing override found: ",G),(0,A.isNil)(f)||(this.logger.info("Setting isLBRRun to false"),this.distributedTracingUtilService.setSpanAttribute(f,s.NI.UsedLatencyBasedRouting,!1)),this.performLbr(I,b,G,K.defaultZone).pipe((0,a.h)(G),(0,o.K)(J=>(this.logger.error("Failed to perform LBR, returning overriden zone.",J),(0,M.of)(G)))))))}shouldLbrRun(K){if((0,A.isEmpty)(K))return this.logger.info("Call to ServerInfo failed, therefore run LBR."),this.setRetriggerPolicy(S.OR5.ServerInfoFailed),this.cacheZoneList(K).pipe((0,a.h)(!0));const b=[this.networkConfig.getZoneList(),this.networkConfig.getCurrentFingerprintInfo()];return(0,x.$R)(...b).pipe((0,P.zg)(([f,D])=>{const I=(0,A.isNil)(this.cachedZone)&&!(0,A.isNil)(D)?D.lbrZone:this.cachedZone,w=(0,A.keys)(K),_=(0,A.keys)(f);let $=!1;return(0,A.isNil)(D)?(this.logger.info("This fingerprint is observed for the first time, on which LBR was never run."),this.setRetriggerPolicy(S.OR5.FingerprintChanged),$=!0):(0,A.isEmpty)(f)||(0,A.isNil)(D.zonesLatencies)||-1===(0,A.keys)(D.zonesLatencies)[0].indexOf(".")?(this.logger.info("Zone list or zonesLatencies not saved, therefore run LBR."),this.setRetriggerPolicy(S.OR5.ZoneListEmpty),$=!0):(0,A.isNil)(I)?(this.logger.info("The user didn't have a cached zone, therefore run LBR."),this.setRetriggerPolicy(S.OR5.CachedZoneNotStored),$=!0):w.includes(I.address)?(0,A.difference)(w,_).length>0&&(this.logger.info("New zones have been added to the pool."),this.setRetriggerPolicy(S.OR5.NewZonesAdded),$=!0):(this.logger.info("The user's cached zone is no longer available."),this.setRetriggerPolicy(S.OR5.CachedZoneNotAvailable),$=!0),this.cacheZoneList(K).pipe((0,a.h)($))}),(0,o.K)(f=>(this.logger.error("Error trying to determine if LBR should run, therefore run LBR.",f),this.setRetriggerPolicy(S.OR5.PolicyCheckFailed),this.cacheZoneList(K).pipe((0,a.h)(!0)))))}cacheZoneList(K){return this.networkConfig.setZoneList(K).pipe((0,p.U)(()=>(this.logger.info("Successfully stored zone list in shared storage"),!0)),(0,o.K)(b=>(this.logger.warn("Failed to store zone list: ",b),(0,M.of)(!1))))}performLbr(K,b,f,D){if((0,A.isEmpty)(b))return this.logger.error("Cannot perform latency based routing as zones is empty"),(0,L._)("zones is empty.");this.lbrRun=!0;const I=Date.now();return this.networkConfig.getFingerprint().pipe((0,P.zg)(w=>this.bridgeService.executeCommand(C.Gh.Gfn.Serverrouting.PerformRouting,K).pipe((0,v.R)(this.lbrCancelled$),(0,P.zg)(_=>{this.cachedZone=b[null==_?void 0:_.url],this.cachedZone.defaultZone=D;const $=this.networkConfig.setCachedZone(w,this.cachedZone).pipe((0,P.zg)(F=>_.cacheResult?(this.isLbrInProgress=!1,(0,M.of)(F)):this.networkConfig.clearFingerprintCachedZone(w))),G=this.networkConfig.setCachedLatencies(w,_.results);return this.logRoutingSuccess(_),(0,x.$R)($,G).pipe((0,P.zg)(()=>this.sendRoutingStatusTelemetry(_,f,_.cacheResult?S.N3X.Success:S.N3X.Other,I)),(0,a.h)(this.cachedZone))}),(0,o.K)(_=>{const $=_,G=(()=>{try{return JSON.parse($.message)}catch{return this.logger.error(`Unable to determine error from ${$.message}`),{results:m.lz,ipAddresses:m.lz,networkSessionId:m.lz,resultCode:$.code,resultText:$.message}}})();this.logRoutingFailure(G);const F=this.networkConfig.clearFingerprintCachedZone(w),J=this.networkConfig.setCachedLatencies(w,G.results);return(0,x.$R)(F,J).pipe((0,P.zg)(()=>this.sendRoutingStatusTelemetry(G,f,S.N3X.ClientError,I)),(0,P.zg)(()=>(0,L._)(_)))}))))}getRoutingInfoWithPolicy(K){return this.retriggerPolicy$.pipe((0,y.P)(),(0,p.U)(b=>(K.policy=b,K)))}sendRoutingStatusTelemetry(K,b,f,D){const I={clientType:this.telemetryUtilService.getClientType(),serverRecommendedZone:"",clientRecommendedZone:K.url||"",clientRecommendedZoneLatency:K.latency||0,results:K.results,ipAddresses:K.ipAddresses,status:f,errorCode:""+K.resultCode,errorDetails:K.resultText,networkSessionId:K.networkSessionId,totalMs:Date.now()-D,overrideZone:(0,A.isNil)(b)?"":b.address,overrideActive:(0,A.isNil)(b)?S.wye.FALSE:S.wye.TRUE};return this.getRoutingInfoWithPolicy(I).pipe((0,p.U)(w=>this.telemetryService.push(new S.OSH(w))))}logRoutingSuccess(K){this.logger.info(`Latency-based routing ${K.cacheResult?"":"partially"} succeeded with code: '${K.resultText}'`),this.logger.info(`Least latency zone is ${K.url} with ${K.latency}ms`),this.logger.info("Results",K.results),this.logger.info("IP addresses",K.ipAddresses)}logRoutingFailure(K){this.logger.error(`Latency-based routing failed with code: '${K.resultText}'`),this.logger.info("Results",K.results),this.logger.info("IP addresses",K.ipAddresses)}cleanupOnCancel(){return this.lbrCancelled$.next(),this.isLbrInProgress?this.networkConfig.clearCurrentFingerprintCachedZone():(0,M.of)(!0)}}return T.\u0275fac=function(K){return new(K||T)(r.LFG(l.X),r.LFG(i.dF),r.LFG(O.y0),r.LFG(S.wU6),r.LFG(s.Dc),r.LFG(i.ed))},T.\u0275prov=r.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},16386:(Ge,ae,e)=>{"use strict";e.d(ae,{$f:()=>Z,AN:()=>o,BT:()=>a,Bq:()=>C,EG:()=>J,Fp:()=>N,HH:()=>D,HQ:()=>b,Jr:()=>s,M1:()=>x,MD:()=>S,OA:()=>r,OK:()=>w,QZ:()=>y,To:()=>W,V9:()=>m,WU:()=>_,Z6:()=>v,ZP:()=>A,_8:()=>P,aL:()=>M,db:()=>n,fy:()=>L,iU:()=>ue,lL:()=>z,n:()=>d,nF:()=>I,qB:()=>k,qL:()=>G,vG:()=>K,vo:()=>u,yD:()=>T,zP:()=>f});var t=e(36859),n=(()=>{return(H=n||(n={}))[H.Loading=0]="Loading",H[H.Ready=1]="Ready",n;var H})(),x=(()=>{return(H=x||(x={})).Balanced="balanced",H.DataSaver="dataSaver",H.Competitive="competitive",H.Custom="custom",x;var H})(),M=(()=>{return(H=M||(M={}))[H.balanced=1]="balanced",H[H.dataSaver=2]="dataSaver",H[H.competitive=3]="competitive",H[H.custom=1]="custom",M;var H})(),L=(()=>{return(H=L||(L={})).Low="Low",H.Medium="Medium",H.High="High",H.Off="Off",L;var H})(),p=(()=>{return(H=p||(p={})).Standard="Standard",H.Enhanced="Enhanced",H.AiEnhanced="AI-enhanced",H.NvScaler="NvScaler",H.NvSharpen="NvSharpen",p;var H})(),P=(()=>{return(H=P||(P={})).Standard="Standard",H.Enhanced="Enhanced",H.AiEnhanced="AiEnhanced",H.NvScaler="NvScaler",H.NvSharpen="NvSharpen",P;var H})(),a=(()=>{return(H=a||(a={})).Warnings="WARNINGS",H.On="ON",H.Off="OFF",a;var H})(),o=(()=>{return(H=o||(o={})).Logical="Logical",H.Physical="Physical",o;var H})();const v=[{value:!0,displayName:"common.auto",enabled:!0},{value:!1,displayName:"settings.streamingProfiles.custom",enabled:!0}];var y=(()=>{return(H=y||(y={})).Resolution="UpScalingResolutionId",H.AiSharpness="AiSharpnessValue",H.EnhSharpness="EnhancedSharpnessValue",y;var H})();const C={BlockName:"appSettingsConfig",LatencyPropertyName:"advancedLatencyOptimization",DirectInputPropertyName:"directInput",NetworkQuality:"networkQuality",PlayWithMobileNetwork:"playWithMobileNetwork",StreamingProfiles:"streamingProfiles",CustomProfile:"customProfile",DiscordRichPresence:"discordRpEnabled",DirectInputCatalinaOsOrHigher:"directInputCatalinaOsOrHigher",InGameGraphics:"inGameGraphics",UpScalingResolutionId:"upScalingResolutionId",AiSharpnessValue:"aiSharpnessValue",EnhancedSharpnessValue:"enhancedSharpnessValue",UpscalingModeUpdatedByUser:"upscalingModeUpdatedByUser",ClipboardPaste:"clipboardPaste",UdsSnoozeStopDateTime:"udsSnoozeStopDateTime"},A={OFF:{value:0,displayName:"common.off"},WARNINGS:{value:1,displayName:"settings.network.networkQualitySettingWarnings"}},d={advancedLatencyOptimization:!1,directInput:!0,networkQuality:A.WARNINGS.value,playWithMobileNetwork:!1,discordRpEnabled:!0,directInputCatalinaOsOrHigher:!1,clipboardPaste:!1},m={BALANCED:{value:x.Balanced,displayName:"settings.streamingProfiles.balanced",translatedDisplayName:""},DATA_SAVER:{value:x.DataSaver,displayName:"settings.streamingProfiles.dataSaver",translatedDisplayName:""},COMPETITIVE:{value:x.Competitive,displayName:"settings.streamingProfiles.competitive",translatedDisplayName:""},CUSTOM:{value:x.Custom,displayName:"settings.streamingProfiles.custom",translatedDisplayName:""}},S={OFF:{id:0,label:"common.off",value:4,name:L.Off},LOW:{id:1,label:"settings.resolutionUpscaling.sharpnessLow",value:0,name:L.Low},MEDIUM:{id:2,label:"settings.resolutionUpscaling.sharpnessMed",value:2,name:L.Medium},HIGH:{id:3,label:"settings.resolutionUpscaling.sharpnessHigh",value:3,name:L.High}},s={STANDARD:{id:0,checked:!1,disabled:!1,value:p.Standard,displayName:"settings.resolutionUpscaling.standard",resolutionInfo:"settings.resolutionUpscaling.standardInfo"},ENHANCED:{id:1,checked:!0,disabled:!1,value:p.Enhanced,displayName:"settings.resolutionUpscaling.enhanced",resolutionInfo:"settings.resolutionUpscaling.enhancedInfo"},AI_ENHANCED:{id:2,checked:!1,disabled:!1,value:p.AiEnhanced,displayName:"settings.resolutionUpscaling.aiEnhanced",resolutionInfo:"settings.resolutionUpscaling.aiInfo",error:{1:"",2:"settings.resolutionUpscaling.aiWarning.dispFlagErrMinDrv",4:"",8:"",16:"",32:"",64:"",128:"settings.resolutionUpscaling.aiWarning.dispFlagErrNvPixelsLoad",512:"",1024:"",4096:""}},NV_SCALER:{id:3,value:p.NvScaler},NV_SHARP:{id:4,value:p.NvSharpen}},r={ValueOff:{value:0,displayName:"common.off",enabled:!0},ValueOn:{value:1,displayName:"settings.streamingProfiles.on",enabled:!0},ValueAdaptive:{value:2,displayName:"settings.streamingProfiles.adaptive",enabled:!0}},T={balanced:{name:x.Balanced,description:"settings.streamingProfiles.balancedDescription",width:1920,height:1080,fps:60,maxBitrate:0,dataUsage:10,drc:!0,vSync:r.ValueAdaptive.value,networkInfo:{},hdrStreaming:!1,reflex:!1},dataSaver:{name:x.DataSaver,description:"settings.streamingProfiles.dataSaverDescription",width:1280,height:720,fps:60,maxBitrate:12,dataUsage:4,drc:!0,vSync:r.ValueAdaptive.value,networkInfo:{},hdrStreaming:!1,reflex:!1},competitive:{name:x.Competitive,description:"settings.streamingProfiles.competitiveDescription",width:1280,height:720,fps:60,maxBitrate:0,dataUsage:6,drc:!0,vSync:r.ValueOff.value,networkInfo:{},hdrStreaming:!1,reflex:!1}},K={Value240:{value:240,displayName:"240 FPS",enabled:!1},Value120:{value:120,displayName:"120 FPS",enabled:!1},Value60:{value:60,displayName:"60 FPS",enabled:!0},Value30:{value:30,displayName:"30 FPS",enabled:!0}},b=59,f=119,D=" FPS",I={Ar_16_10:1.6,Ar_16_9:16/9,Ar_4_3:4/3,Ar_5_4:5/4,Ar_19_5_9:2.15,Ar_24_10:2.4,Ar_32_9:32/9,Ar_21_9_1:3440/1440,Ar_21_9_2:2560/1080,Ar_21_9_3:1680/720},w=[{ratio:I.Ar_16_10,formattedRatio:"(16:10)"},{ratio:I.Ar_16_9,formattedRatio:"(16:9)"},{ratio:I.Ar_4_3,formattedRatio:"(4:3)"},{ratio:I.Ar_5_4,formattedRatio:"(5:4)"},{ratio:I.Ar_19_5_9,formattedRatio:"(19.5:9)"},{ratio:I.Ar_24_10,formattedRatio:"(24:10)"},{ratio:I.Ar_32_9,formattedRatio:"(32:9)"},{ratio:I.Ar_21_9_1,formattedRatio:"(21:9)"},{ratio:I.Ar_21_9_2,formattedRatio:"(21:9)"},{ratio:I.Ar_21_9_3,formattedRatio:"(21:9)"}],_={Value16_10:{aspectRatio:I.Ar_16_10,width:1280,height:800},Value16_9:{aspectRatio:I.Ar_16_9,width:1280,height:720},Value4_3:{aspectRatio:I.Ar_4_3,width:1024,height:768},Value5_4:{aspectRatio:I.Ar_5_4,width:1280,height:1024},Value195_9:{aspectRatio:I.Ar_19_5_9,width:640,height:1376},Value24_10:{aspectRatio:I.Ar_24_10,width:2560,height:1080},Value32_9:{aspectRatio:I.Ar_32_9,width:3840,height:1080},Value21_9_1:{aspectRatio:I.Ar_21_9_1,width:3440,height:1440},Value21_9_2:{aspectRatio:I.Ar_21_9_2,width:2560,height:1080},Value21_9_3:{aspectRatio:I.Ar_21_9_3,width:1680,height:720}},G={bitRateMin:5,bitRateMax:75};var J=(()=>{return(H=J||(J={})).maxBitrate="maxBitrate",H.maxBitrateValue="maxBitrateValue",H.resolution="resolution",H.frameRate="frameRate",H.drc="drc",H.vSync="vSync",H.hdr="hdr",H.reflex="reflex",J;var H})();const z="4K",Z="1440p",ue="120",u="240",k=[t.$c.BETTER_PRODUCT,t.$c.HIGHER_RESOLUTION,t.$c.HIGHER_FPS,t.$c.SUPPORT_HDR,t.$c.LOWER_SESSION_QUEUE_WAIT_TIME,t.$c.HIGHER_SESSION_LENGTH,t.$c.SUPPORT_IN_GAME_SETTINGS_PERSISTENCE],W=[...k,t.$c.SUPPORT_REFLEX],N={isDefault:!1,clientStreamingQualityModes:null,isEntitled:!1,monitorId:0,positionX:0,positionY:0,heightInPixels:0,framesPerSecond:0,dpi:0,widthInPixels:0}},70577:(Ge,ae,e)=>{"use strict";e.d(ae,{OK:()=>P.OK,EG:()=>P.EG,db:()=>P.db,ZP:()=>P.ZP,M1:()=>P.M1,MD:()=>P.MD,zr:()=>f,Jr:()=>P.Jr,DI:()=>v,QZ:()=>P.QZ,n:()=>P.n,gb:()=>i,Bq:()=>P.Bq,fy:()=>P.fy,GK:()=>D.G,_8:()=>P._8,OA:()=>P.OA});var t=e(85566),n=e(89258),x=e(12606),M=e(57693),L=e(64710),p=e(21361),P=e(16386),a=e(23827),o=e(97483);class v{static getUpScaleSettingList(){return Object.values(o.JrW)}static getSharpnessList(){return Object.values(o.MDl)}static getUpScaleSetting(w){const _=v.getUpScaleSettingList().find($=>$.id===w);return _&&Object.assign(Object.assign({},_),{checked:!0})}static getSharpnessbyProperty(w,_){return Object.values(o.MDl).find($=>$[_]===w)||o.MDl.LOW}static getSharpnessbyId(w){return v.getSharpnessbyProperty(w,"id")}static getSharpnessbyValue(w){return v.getSharpnessbyProperty(w,"value")}static isEnhanced(w){return w===o.JrW.ENHANCED.id}static isAiEnhanced(w){return w===o.JrW.AI_ENHANCED.id}static isNvScaler(w){return w===o.JrW.NV_SCALER.id}static isNvSharpen(w){return w===o.JrW.NV_SHARP.id}static isNvScalerOrNvSharpen(w){return v.isNvScaler(w)||v.isNvSharpen(w)}static isSharpnessOff(w){return w.name===o.fyj.Off}}class y{static getTelemetrySettingDescription(w,_){let $="";switch(w){case P.Bq.UpScalingResolutionId:$=v.getUpScaleSetting(_).value;break;case P.Bq.AiSharpnessValue:case P.Bq.EnhancedSharpnessValue:$=v.getSharpnessbyValue(_).name;break;case P.Bq.UpscalingModeUpdatedByUser:$=_?a.wye.TRUE:a.wye.FALSE;break;case P.Bq.NetworkQuality:$=this.getNetworkSettingTelemetryName(_);break;case P.Bq.DiscordRichPresence:case P.Bq.DirectInputPropertyName:case P.Bq.InGameGraphics:$=this.getBooleanSettingTelemetryName(_);break;case P.Bq.StreamingProfiles:$=_}return $}static getNetworkSettingTelemetryName(w){let _="";switch(w){case 0:_=P.BT.Off;break;case 1:_=P.BT.Warnings;break;case 2:_=P.BT.On}return _}static getBooleanSettingTelemetryName(w){return w?a._So.Enabled:a._So.Disabled}}var C=e(33986),A=e(48131),d=e(39609),m=e(91565),S=e(9357),s=e(34764),r=e(39382),l=e(80155);let i=(()=>{class I{constructor(_,$,G,F,J,z,Z,ue){this.loggingService=_,this.sharedStorageService=$,this.bridgeService=G,this.telemetryService=F,this.telemetryUtilService=J,this.appConfig=z,this.systemInfoService=Z,this._showServerLocationCTA=!1,this.logger=this.loggingService.getLogger("gfn/settingsService"),this.sharedSettingsStream=ue.createStream(this.getSettingsData.bind(this)),this.bridgeService.executeCommand(p.Gh.Gfn.Streaming.VsyncToggle).subscribe(u=>{this.platformSupportsVsyncToggle=u})}get showServerLocationCTA(){return this._showServerLocationCTA}set showServerLocationCTA(_){this._showServerLocationCTA=_}get networkWarningsEnabled$(){return this.sharedSettingsStream.get$().pipe((0,n.U)(_=>{var $;return(null!==($=null==_?void 0:_.networkQuality)&&void 0!==$?$:P.n.networkQuality)===P.ZP.WARNINGS.value}),(0,x.x)())}setNetworkWarningsEnabled(_){this.logger.info(_?"Enabling":"Disabling","network warnings"),this.storeChangedSettings({settingType:P.Bq.NetworkQuality,selectedOption:_?P.ZP.WARNINGS.value:P.ZP.OFF.value})}setPlayWithMobileNetworkEnabled(_){this.logger.info(_?"Enabling":"Disabling","play with mobile network"),this.storeChangedSettings({settingType:P.Bq.PlayWithMobileNetwork,selectedOption:_})}isVsyncChangedAndToggleSupported(){return void 0!==this.currentVsyncValue&&void 0!==this.firstVsyncValue&&this.currentVsyncValue!==this.firstVsyncValue&&!this.platformSupportsVsyncToggle}setVsyncValue(_){void 0===this.firstVsyncValue?this.firstVsyncValue=_:this.currentVsyncValue=_}resetVsyncChanged(){this.firstVsyncValue=void 0,this.currentVsyncValue=void 0}getLinksUrl(_,$){_===C.qB.OSS_LICENSES&&($="en_US");const G=this.appConfig.redirect.serverUrl+$+"&page="+_;return this.logger.info(_+"url",G),G}getIohidConfigurable(){return this.ioHidConfig$||(this.ioHidConfig$=this.bridgeService.executeCommand(p.Gh.Common.Applicationcontrol.ReadConfig,{appname:"GeForceNOW"}).pipe((0,M.d)(1))),this.ioHidConfig$}getSwitchValue(_,$){let G=!1;return(0,t.toArray)(_).forEach(J=>{if((0,t.includes)(J,$))return G="true"===J.split("=")[1].trim(),G}),G}getSettingsData(){return this.sharedStorageService.readBlock(P.Bq.BlockName)}storeChangedSettings(_,$=!0){const G={};this.getSettingsData().subscribe(F=>{(0,t.isNull)(F)?(G[_.settingType]=_.selectedOption,F=G):F[_.settingType]=_.selectedOption,this.writeData(F,_,$)})}isCatalinaOsOrHigher(){return this.isMinCatalinaOs$||(this.isMinCatalinaOs$=this.systemInfoService.getOsInformation().pipe((0,n.U)(_=>{if(this.logger.info("current OS: ",_.OSName,_.OSVersion),"macos"===_.OSName.toLowerCase()){const $=_.OSVersion.split("."),G=parseInt($[0],10),F=parseInt($[1],10);return G>=10&&F>=15}return!1}),(0,M.d)(1))),this.isMinCatalinaOs$}getClientPlatform(){return this.clientPlatform$||(this.clientPlatform$=this.systemInfoService.getOsInformation().pipe((0,n.U)(_=>{let $;return $=L.ng.isAndroidPlatform()?"android":L.ng.isBrowserPlatform()?"browser":"desktop",$+_.Platform}),(0,M.d)(1))),this.clientPlatform$}writeData(_,$,G=!0){this.sharedStorageService.writeBlock(P.Bq.BlockName,_,!0).subscribe(F=>{G&&this.sendTelemetry($),this.sharedSettingsStream.refresh()},F=>{G&&this.sendTelemetry($,F.errorMessage)})}sendTelemetry(_,$=""){const G={clientType:this.telemetryUtilService.getClientType(),settingLabel:_.settingType,settingValue:y.getTelemetrySettingDescription(_.settingType,_.selectedOption),errorDetails:$},F=new A.J8H(G);this.telemetryService.push(F)}persistInGameGraphicsEnabled(){return this.getSettingsData().pipe((0,n.U)(_=>!(null==_||!_.inGameGraphics)&&_.inGameGraphics))}}return I.\u0275fac=function(_){return new(_||I)(d.LFG(L.ed),d.LFG(m.OA),d.LFG(L.dF),d.LFG(S.y0),d.LFG(s.w),d.LFG(r.VK),d.LFG(L.Ob),d.LFG(l.O_))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var O=e(59562),Y=e(39138),T=e(47504),B=e(71265),K=e(2629);const b=p.Gh.Gfn.Streaming;let f=(()=>{class I{constructor(_,$,G,F,J){this.loggingService=_,this.bridgeService=$,this.cloudVarService=G,this.settingsService=F,this.telemetryService=J,this.isUpscalingVisibleSubject=new O.t(1),this.isAiSupportedSubject=new O.t(1),this.uiUpScaleDisplaySettingSubject=new O.t(1),this.aiSharpnessSettingSubject=new O.t(1),this.enhSharpnessSettingSubject=new O.t(1),this.nvScalerNvSharpSupportSubject=new O.t(1),this.logger=this.loggingService.getLogger("gfn/resolutionUpscaleService")}initialize(){this.setUpScalingOnAppLaunch()}saveSetting(_,$,G=!1){this.settingsService.storeChangedSettings({settingType:o.BqE[_],selectedOption:$},G),G&&_===o.QZM.Resolution&&this.settingsService.storeChangedSettings({settingType:o.BqE.UpscalingModeUpdatedByUser,selectedOption:!0})}fetchUpScaleDefaultOptionId(){return this.cloudVarService.getFeatureToggle(o._P4.RESOLUTION_UPSCALE_DEFAULT_OPTION_ID).pipe((0,B.b)(_=>{this.logger.info(`Resolution upscale default Id from gxtarget is ${_}`)}))}isValidId(_){return"number"==typeof _&&!Number.isNaN(_)}sendUpscalingErrorTelemetry(_,$){const G={settingType:_,selectedOption:null};(0,Y.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).pipe((0,K.q)(1)).subscribe(F=>{this.settingsService.sendTelemetry(G,$.toString())})}getNvScalerNvSharpSupport(){return this.nvScalerNvSharpSupportSubject.asObservable()}setNvScalerNvSharpSupport(_){this.nvScalerNvSharpSupportSubject.next(_)}getUpscalingVisibility(){return this.isUpscalingVisibleSubject.asObservable()}setUpscalingVisibility(_){this.isUpscalingVisibleSubject.next(_)}getAiSupport(){return this.isAiSupportedSubject.asObservable()}setAiSupport(_){this.isAiSupportedSubject.next(_)}getUpScaleDisplaySetting(){return this.uiUpScaleDisplaySettingSubject.asObservable()}setUpScaleDisplaySetting(_){const $=v.isNvScalerOrNvSharpen(_.id)?o.JrW.ENHANCED:v.getUpScaleSetting(_.id);this.uiUpScaleDisplaySettingSubject.next($)}getAiSharpnessSetting(){return this.aiSharpnessSettingSubject.asObservable()}setAiSharpnessSetting(_){this.aiSharpnessSettingSubject.next(_)}getEnhSharpnessSetting(){return this.enhSharpnessSettingSubject.asObservable()}setEnhSharpnessSetting(_){this.enhSharpnessSettingSubject.next(_)}setUpScalingOnAppLaunch(){if(L.ng.isBrowserLikePlatform())return;const _={filterSupportList:v.getUpScaleSettingList().map($=>({filterId:$.id}))};this.bridgeService.executeCommand(b.GetMagnificationFilterSupportList,_).pipe((0,K.q)(1)).subscribe($=>{if(this.logger.info("Supported magnification filters.",$),$.filterSupportList){const G=$.filterSupportList.find(ue=>v.isEnhanced(ue.filterId)),F=Boolean(null==G?void 0:G.MagnificationFilterSupport);if(this.setUpscalingVisibility(F),!F)return void this.sendUpscalingErrorTelemetry(o._87.Enhanced,null==G?void 0:G.FrameFilterErrorInfo);const J=$.filterSupportList.find(ue=>v.isNvScaler(ue.filterId)),z=$.filterSupportList.find(ue=>v.isNvSharpen(ue.filterId)),Z=$.filterSupportList.find(ue=>v.isAiEnhanced(ue.filterId));this.handleUpScaleSetting(J,z,Z)}},$=>{this.logger.error("Magnification filter error.",$)})}handleUpScaleSetting(_,$,G){const F=Boolean(null==_?void 0:_.MagnificationFilterSupport),J=Boolean(null==$?void 0:$.MagnificationFilterSupport),z=Boolean(null==G?void 0:G.MagnificationFilterSupport),Z=null==G?void 0:G.FrameFilterErrorInfo,ue=o.JrW.AI_ENHANCED.error[Z];this.setNvScalerNvSharpSupport({isNvScalerSupported:F,isNvSharpenSupported:J}),this.setAiSupport({isAiSupported:z,aiErrorMessage:ue}),this.settingsService.getSettingsData().pipe((0,K.q)(1)).subscribe(u=>{let k=null==u?void 0:u.upScalingResolutionId;const W=null==u?void 0:u.upscalingModeUpdatedByUser,N=v.getSharpnessbyValue(null==u?void 0:u.aiSharpnessValue),H=v.getSharpnessbyValue(null==u?void 0:u.enhancedSharpnessValue);if(this.setAiSharpnessSetting(N),this.setEnhSharpnessSetting(H),z||(this.sendUpscalingErrorTelemetry(o._87.AiEnhanced,Z),v.isAiEnhanced(k)&&(k=null)),this.isValidId(k)&&W)switch(this.setMagnificationFilter(k),k){case o.JrW.AI_ENHANCED.id:this.setSharpnessFilter(N);break;case o.JrW.ENHANCED.id:(F||J)&&this.setSharpnessFilter(H)}else this.fetchUpScaleDefaultOptionId().pipe((0,K.q)(1)).subscribe(h=>{this.setMagnificationFilter(h),this.saveSetting(o.QZM.Resolution,h,!1),(F||J)&&this.setSharpnessFilter(H)},h=>{this.logger.error("Failed to get default upscale id from GXT ",h)})},u=>{this.logger.error("Failed to get settings ",u)})}setMagnificationFilter(_){let $;(0,T.aj)([this.getNvScalerNvSharpSupport(),this.getEnhSharpnessSetting()]).pipe((0,K.q)(1)).subscribe(([G,F])=>{!v.isSharpnessOff(F)&&v.isEnhanced(_)&&($=G.isNvScalerSupported&&o.JrW.NV_SCALER.id||G.isNvSharpenSupported&&o.JrW.NV_SHARP.id),this.processMagnificationFilter($||_)})}processMagnificationFilter(_){const $=v.getUpScaleSetting(_);$&&this.bridgeService.executeCommand(b.SetMagnificationFilter,{filterId:$.id}).pipe((0,K.q)(1)).subscribe(()=>{this.setUpScaleDisplaySetting($),this.logger.info("Resolution upscaling changed to ",$.id,$.value)},F=>{this.logger.error("Failed to change resolution upscaling to ",$.id,$.value,F)})}setSharpnessFilter(_){const $=_.value;this.bridgeService.executeCommand(b.SetMagnificationFilterSharpness,{sharpness:$}).pipe((0,K.q)(1)).subscribe(()=>{this.logger.info("Sharpness changed to ",$)},F=>{this.logger.error("Failed to change sharpness to ",$,F)})}}return I.\u0275fac=function(_){return new(_||I)(d.LFG(L.ed),d.LFG(L.dF),d.LFG(o.$lO),d.LFG(o.gbG),d.LFG(S.y0))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();var D=e(61846)},61846:(Ge,ae,e)=>{"use strict";e.d(ae,{G:()=>Z});var t=e(59562),n=e(96671),x=e(47504),M=e(23815),L=e(39700),p=e(12606),P=e(89258),a=e(2629),o=e(13800),v=e(57693),y=e(51325),C=e(33932),A=e(71265),d=e(74266),m=e(99636),S=e(85566),r=e(64542),i=e(64710),O=e(16386),Y=e(21361),T=e(27897),B=e(99923),K=e(36859),b=e(80155),f=e(3633),D=e(39609),I=e(36540),w=e(91565),_=e(84904),$=e(39382),G=e(50906),F=e(26882),J=e(32268),z=e(715);let Z=(()=>{class ue{constructor(k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe){this.gridService=k,this.loggingService=W,this.sharedStorageService=N,this.systemInfoService=H,this.bridgeService=h,this.networkConfigService=E,this.config=ee,this.ecommerceService=R,this.cloudVarService=q,this.idmService=ne,this.nativeEventService=_e,this.redirectService=U,this.lcarsService=re,this.parser=pe,this.fpsList=[O.vG.Value60,O.vG.Value30],this.streamingProfileGuid=(0,b.Rl)(),this.streamingProfileGuidSubject=new t.t(1),this.audioModeFormat$=new t.t,this.displayModeChanged$=new n.xQ,this.gameFeaturePropertiesSubject$=new t.t,this.hdrDecodeSupported=!1,this.hdrRenderingSupported=!1,this.hdrDecodeSupportedSubject$=new t.t,this.hdrRenderingSupportedSubject$=new t.t,this.hdrLearnMoreUrlSubject$=new t.t,this.isHdrToggleTurnedOffSubject$=new t.t,this.uwResolutions=[],this.platformSupportsFps=!1,this.platformSupportsFpsSubject$=new t.t,this.isReflexToggleTurnedOffSubject$=new t.t,this.streamingModeSubject$=new t.t,this.reflexLearnMoreUrlSubject$=new t.t,this.upsellFlags={},this.isPresetProfileDetailsExpanded=!1,this.isCustomProfileDetailsExpanded=!0,this.logger=this.loggingService.getLogger("streaming-profile.service"),this.isBrowserPlatform=i.ng.isBrowserPlatform(),this.updatedPresetProfiles=Object.assign({},O.yD),this.updatedBitrateValues=O.qL,this.previousStreamingProfile=this.getSpecificPresetProfile(O.M1.Balanced),this.idmService.accountStatusChanged.subscribe(()=>{this.initializeStreamingProfilesObservable$=null,this.clearCachedStreamingProfile()}),this.gameFeaturePropertiesInitialized$().subscribe(),this.updateConfigurationVariables(),this.registerDisplayModeChangeEvent()}get IntersectedResolutionList(){return this.intersectedResolutionList}get GridServerResolutionsList(){return this.gridServerResolutionsList}get AvailableResolutionList(){return this.availableResolutionList}get UnsupportedDisabledResolutionsList(){return this.unsupportedDisabledResolutionsList}get IsPlatformSupportsHDRDecode(){return this.hdrDecodeSupported}get IsPlatformSupportsHDRRendering(){return this.hdrRenderingSupported}get IsPlatformSupportFps(){return this.platformSupportsFps}get BalancedResolution(){return this.balancedResolution}get DataSaverResolution(){return this.dataSaverResolution}get CompetitiveResolution(){return this.competitiveResolution}initializeStreamingProfiles$(){if(this.initializeStreamingProfilesObservable$)return this.initializeStreamingProfilesObservable$;const k=this.systemInfoService.getNetworkInformation().pipe((0,p.x)());return this.initializeStreamingProfilesObservable$=(0,x.aj)([k,this.ecommerceService.getUserMembership(),this.getNvSupportedResolutions(),this.cloudVarService.getFeatureToggle(B._P.RESERVED_SKU_IBETA),this.fetchIsPlatformSupportsUHD$(),this.fetchPlatformSupportFps$()]).pipe((0,P.U)(([W,N,H,h,E,ee])=>{var R,q,ne,_e;this.networkInfo=W,this.membership=N;const U=this.membership.membershipStatus!==T.Tn.Entitled;return this.subscriptionResolutionList=null===(q=null===(R=this.membership.subscription)||void 0===R?void 0:R.features)||void 0===q?void 0:q.resolutions,U&&(this.subscriptionResolutionList=null===(ne=this.membership.unentitledUserData)||void 0===ne?void 0:ne.resolutions,this.subscriptionResolutionList=null===(_e=this.subscriptionResolutionList)||void 0===_e?void 0:_e.map(pe=>Object.assign(Object.assign({},pe),{isEntitled:!0}))),this.updateStreamingModeFromEntitlementData(),this.updateMaxBitrate(),this.gridServerResolutionsList=this.populateGridServerResolutionsList(h&&this.subscriptionResolutionList?this.subscriptionResolutionList:H),this.intersectedResolutionList=this.intersectServerSubscriptionResolutions(this.gridServerResolutionsList,this.subscriptionResolutionList),this.availableResolutionList=this.intersectedResolutionList.filter(pe=>pe.enabled),!0})),this.initializeStreamingProfilesObservable$}updateStreamingModeFromEntitlementData(){Object.values(O.M1).filter(k=>k!==O.M1.Custom).forEach(k=>{const W=this.ecommerceService.getStreamingModeDetails(k);let N=this.updatedPresetProfiles[k];if(!W||!N)return;N=Object.assign(Object.assign({},N),W),this.updatedPresetProfiles[k]=N;const H=Object.assign(Object.assign({},O.Fp),{heightInPixels:N.height,framesPerSecond:N.fps,widthInPixels:N.width});this.setPresetResolution(k,H)})}setPresetResolution(k,W){switch(k){case O.M1.Balanced:this.balancedResolution=W;break;case O.M1.DataSaver:this.dataSaverResolution=W;break;case O.M1.Competitive:this.competitiveResolution=W}}updateMaxBitrate(){const k=this.ecommerceService.getMaxBitrate();k&&(this.updatedBitrateValues.bitRateMin=k.minBitrateValue,this.updatedBitrateValues.bitRateMax=k.maxBitrateValue)}initializeGameFeatureProperties$(){return this.gameFeatureProperties$?this.gameFeaturePropertiesSubject$.asObservable():(this.gameFeatureProperties$=(0,x.aj)([this.fetchHdrToggleState$(),this.fetchHdrLearnMoreUrl$().pipe((0,a.q)(1)),this.fetchPlatformSupportsHDRStreaming$(),this.fetchPlatformSupportFps$().pipe((0,a.q)(1)),this.fetchSelectedStreamingMode$(),this.fetchReflexLearnMoreUrl$().pipe((0,a.q)(1)),this.fetchReflexToggleState$()]).pipe((0,o.w)(()=>this.gameFeaturePropertiesSubject$.asObservable()),(0,v.d)(1)),this.gameFeatureProperties$)}updateConfigurationVariables(){var k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve,be,xe,ke;const Ce=null===(N=null===(W=null===(k=this.config)||void 0===k?void 0:k.client)||void 0===W?void 0:W.streamingModeResolutionsConfiguration)||void 0===N?void 0:N.resolutionBadges;this.resolutionBadges=Ce?Object.entries(Ce).map(ge=>ge[1]):[],!(null===(H=null==Ce?void 0:Ce.uwQHD)||void 0===H)&&H.resolutions&&this.uwResolutions.push(...Ce.uwQHD.resolutions),!(null===(h=null==Ce?void 0:Ce.uwFHD)||void 0===h)&&h.resolutions&&this.uwResolutions.push(...Ce.uwFHD.resolutions),this.unsupportedResolutionIdentifier=null===(R=null===(ee=null===(E=this.config)||void 0===E?void 0:E.client)||void 0===ee?void 0:ee.streamingModeResolutionsConfiguration)||void 0===R?void 0:R.unsupportedResolutionIdentifier,this.displayUnsupportedResolution=null===(_e=null===(ne=null===(q=this.config)||void 0===q?void 0:q.client)||void 0===ne?void 0:ne.streamingModeResolutionsConfiguration)||void 0===_e?void 0:_e.displayUnsupportedResolution,this.unsupportedFpsIdentifier=null===(pe=null===(re=null===(U=this.config)||void 0===U?void 0:U.client)||void 0===re?void 0:re.streamingModeResolutionsConfiguration)||void 0===pe?void 0:pe.unsupportedFpsIdentifier,this.displayUnsupportedFps=null===(me=null===(Te=null===(Pe=this.config)||void 0===Pe?void 0:Pe.client)||void 0===Te?void 0:Te.streamingModeResolutionsConfiguration)||void 0===me?void 0:me.displayUnsupportedFps,this.qhdResolutionIdentifier=null===(nt=null===(Ze=null===(Xe=null===(et=this.config)||void 0===et?void 0:et.client)||void 0===Xe?void 0:Xe.streamingModeResolutionsConfiguration)||void 0===Ze?void 0:Ze.resolutionIdentifier)||void 0===nt?void 0:nt.QHD,this.uhdResolutionIdentifier=null===(Le=null===(le=null===(ze=null===(Me=this.config)||void 0===Me?void 0:Me.client)||void 0===ze?void 0:ze.streamingModeResolutionsConfiguration)||void 0===le?void 0:le.resolutionIdentifier)||void 0===Le?void 0:Le.UHD,this.overrideBalanceFps=null===(ve=null===(Q=null===(Re=this.config)||void 0===Re?void 0:Re.client)||void 0===Q?void 0:Q.streamingModeResolutionsConfiguration)||void 0===ve?void 0:ve.overrideBalanceFps,this.fpsCheckNotNeeded=null===(ke=null===(xe=null===(be=this.config)||void 0===be?void 0:be.client)||void 0===xe?void 0:xe.streamingModeResolutionsConfiguration)||void 0===ke?void 0:ke.fpsCheckNotNeeded}gameFeaturePropertiesInitialized$(){return(0,x.aj)([this.getIsHdrToggleTurnedOff$(),this.getHdrLearnMoreUrl$(),this.getIsPlatformSupportsHDRDecode$(),this.getIsPlatformSupportsHDRRendering$(),this.getPlatformSupportsFps$(),this.getStreamingMode$(),this.getReflexLearnMoreUrl$(),this.getIsReflexToggleTurnedOff$()]).pipe((0,P.U)(([k,W,N,H,h,E,ee,R])=>(this.gameFeaturePropertiesSubject$.next({hdrToggledOff:k,hdrLearnMoreUrl:W,hdrDecodeSupported:N,hdrRenderSupported:H,reflexSupported:h,streamingMode:E,reflexLearnMoreUrl:ee,reflexToggledOff:R}),!0)),(0,v.d)(1))}getIsPlatformSupportsHDRDecode$(){return this.hdrDecodeSupportedSubject$.asObservable()}getIsPlatformSupportsHDRRendering$(){return this.hdrRenderingSupportedSubject$.asObservable()}getIsHdrToggleTurnedOff$(){return this.isHdrToggleTurnedOffSubject$.asObservable()}getHdrLearnMoreUrl$(){return this.hdrLearnMoreUrlSubject$.asObservable()}getPlatformSupportsFps$(){return this.platformSupportsFpsSubject$.asObservable()}getStreamingMode$(){return this.streamingModeSubject$.asObservable()}getReflexLearnMoreUrl$(){return this.reflexLearnMoreUrlSubject$.asObservable()}getIsReflexToggleTurnedOff$(){return this.isReflexToggleTurnedOffSubject$.asObservable()}getStreamingProfileGuid(){return this.streamingProfileGuidSubject.asObservable()}updateStreamingProfileGuid(k){(0,S.isEqual)(k,this.previousStreamingProfile)||(this.streamingProfileGuid=(0,b.Rl)(),this.previousStreamingProfile=k),this.streamingProfileGuidSubject.next(this.streamingProfileGuid)}getSpecificPresetProfile(k){return Object.assign({},this.updatedPresetProfiles[k])}getNvSupportedResolutions(){return this.gridService.monitorSettings$}getAutoMaxBitrateValue(k,W,N){const H=[];return H.push({frameRate:N,height:W,width:k}),this.getAutoMaxBitrateValueForResolutionArray(H).pipe((0,a.q)(1),(0,P.U)(h=>h[0].maxBandwidth))}getAutoMaxBitrateValueForResolutionArray(k){return this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.PlatformGetMaxBitRateForArray,{resolutions:k}).pipe((0,a.q)(1),(0,P.U)(N=>{this.logger.info("PlatformGetMaxBitRateForArray response: ",N);const H=N.resolutions;return null==H||H.forEach(h=>{h.maxBandwidth=Math.round(h.maxBandwidth/1e3)}),H}),(0,y.K)(N=>{this.logger.error("Error in PlatformGetMaxBitRateForArray bridge command: ",N);const H=[];return k.forEach(h=>{H.push({width:h.width,height:h.height,fps:h.frameRate,maxBandwidth:0})}),(0,M.of)(H)}))}adjustResolutionHeightToPrimaryAspectRatio(k,W,N,H){return N!==k/W&&(W=Math.round(k/N)),!H||-1!==H.findIndex(E=>E.width===k&&E.height===W)||(this.logger.info("Finding closest supported resolution for: w, h ",k,W),this.logger.info("Finding closest supported resolution from: ",H),W=this.findResolutionFromSupportedList(k,W,H)),W}populateGridServerResolutionsList(k,W){null==k||k.sort(function(H,h){return h.widthInPixels*h.heightInPixels-H.widthInPixels*H.heightInPixels});const N=[];if(null!=k&&k.length)k.forEach(H=>{const h=this.getResolution(H.widthInPixels,H.heightInPixels);-1===N.findIndex(E=>E.width===h.width&&E.height===h.height)&&N.push(h)});else{W||(W=this.getDefaultProfileData());const H=this.getResolution(W.width,W.height);N.push(H)}return N}findResolutionFromSupportedList(k,W,N){const H=N.filter(h=>h.width===k);if(H[0]){if(H[0].height<W)return H[0].height;if(H[H.length-1].height>W)return H[H.length-1].height;{let h=H[0];for(const E of H)Math.abs(W-E.height)<Math.abs(W-h.height)&&(h=E);return h.height}}return W}getBalancedProfile(k,W,N,H,h,E){const ee=this.getSpecificPresetProfile(O.M1.Balanced);if(ee.width=null!=H&&H.widthInPixels?H.widthInPixels:ee.width,ee.height=null!=H&&H.heightInPixels?H.heightInPixels:ee.height,ee.fps=null!=H&&H.framesPerSecond?H.framesPerSecond:ee.fps,(0,S.isNil)(W))return this.logger.info("primaryResolution was null! Keeping balanced preset"),ee;if((0,S.isNil)(N)&&!k)return this.logger.info("maxDisplay was null! Keeping balanced preset"),ee;let R;R=!k&&(N.width!==W.width?N.width<W.width:N.frameRate!==W.fps?N.frameRate<W.fps:N.height<=W.height);const q=R?N.width:W.width;return q<ee.width&&(ee.width=q,ee.height=R?N.height:W.height),ee.fps=Math.min(ee.fps,R?N.frameRate:W.fps,W.fps),this.adjustBalanceProfileForNetworkAndDisplay(h,ee),this.updateSupportedBalanceProfile(ee,E),this.logger.info("Balanced profile - use resolution: ",R?N:W),this.logger.info("Balanced profile: ",ee),ee}adjustBalanceProfileForNetworkAndDisplay(k,W){!k&&W.fps>=O.zP&&(W.fps=O.vG.Value60.value)}updateSupportedBalanceProfile(k,W){if(!W.some(N=>N.height===k.height&&N.width===k.width)){this.logger.info("Balance profile is not from subscribed list: updating: ",k);const N=this.getResolutionFromSubscribedList(k.width,k.height);k.width=N.width,k.height=N.height,this.logger.info("Balance profile is not from subscribed list: updated: ",k)}}getAndroidStreamingResolution(k,W){const N=new Array;return W.forEach(h=>{const E=new Array;h.fpsList.forEach(R=>{E.push(R.value)}),N.push({profileName:O.aL[k],width:h.width,height:h.height,enabled:h.enabled,fps:E})}),this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.GetAutoResolution,{resolutions:N}).pipe((0,P.U)(h=>({height:h.height,width:h.width})),(0,y.K)(h=>(this.logger.error("Error in bridge command: ",h),(0,M.of)({height:720,width:1280}))))}getRagnarokStreamingResolution(k,W){let N;switch(k){case O.M1.Balanced:N=0;break;case O.M1.Competitive:N=2;break;case O.M1.DataSaver:N=1;break;default:this.logger.error("Unsupported profile",k)}return void 0!==N?(0,r.ChooseStreamingResolution)(N,null==W?void 0:W.map(H=>({width:H.width,height:H.height}))):null}getProfileBasedOnType(k,W,N,H,h){var E;let ee=this.getSpecificPresetProfile(k),R=[...this.availableResolutionList];if(i.ng.isAndroidPlatform()){const q=this.getGesRecommendedBalancedResolution();let ne,_e=q;return N&&!(0,S.isNil)(q)&&(ne=Object.assign(Object.assign({},O.Fp),{heightInPixels:N.height,framesPerSecond:N.frameRate,widthInPixels:N.width}),ne.heightInPixels*ne.widthInPixels<q.heightInPixels*q.widthInPixels&&(_e=ne),_e.framesPerSecond=Math.min(ne.framesPerSecond,q.framesPerSecond)),R=this.filterByResolutionAndFrameRate(R,_e,!0),this.getAndroidStreamingResolution(k,R).pipe((0,P.U)(U=>(ee.width=U.width,ee.height=U.height,this.updateSupportedFps(ee),ee)))}if(this.isBrowserPlatform){const q=!(null===(E=this.config.featureEnablement)||void 0===E||!E.skipFilteringBalancedProfileWithGES);k===O.M1.Balanced&&!q&&(R=this.filterGesRecommendedBalancedResolutions(this.availableResolutionList));const ne=this.getRagnarokStreamingResolution(k,R);ne&&(ee.width=ne.width,ee.height=ne.height)}else if(k===O.M1.Balanced)ee=this.getBalancedProfile(h,W,N,H,!(0,S.isNil)(this.networkInfo)&&this.networkInfo.NetworkType===i.VV.Ethernet,this.availableResolutionList);else if(k===O.M1.DataSaver||k===O.M1.Competitive){let q=1280,ne=720;H&&H.widthInPixels&&H.heightInPixels&&H.framesPerSecond&&(q=H.widthInPixels,ne=H.heightInPixels,ee.fps=H.framesPerSecond);const _e=this.adjustResolutionToAspectRatio(W,q,ne);ee.width=_e.width,ee.height=_e.height,this.logger.info("Data saver/Competitive profile - use resolution: ",_e)}return this.updateSupportedFps(ee),(0,M.of)(ee)}prepareSettingsForStreaming(k){const W=Object.assign({},k);return W.maxBitrate=1e3*k.maxBitrate,W.aspectRatio=this.calculateAspectRatio(k.width,k.height),this.logger.info("Settings for streaming are: ",W),W}updateCustomProfileVSyncValue(k){const W=k.vSync;!(0,S.isUndefined)(W)&&(0,S.isBoolean)(W)&&(k.vSync=W?O.OA.ValueAdaptive.value:O.OA.ValueOff.value,this.storeCustomProfileData(k).subscribe())}getResolutionLabel(k,W){var N;return null===(N=this.resolutionBadges.filter(H=>H.resolutions.some(h=>h.height===W&&h.width===k))[0])||void 0===N?void 0:N.badgeUrl}isCustomDataInSubscription(k,W){return void 0!==(null==W?void 0:W.find(H=>H.heightInPixels===k.height&&H.widthInPixels===k.width))}getResolutionFromSubscribedList(k,W){const N=this.calculateAspectRatioValue(k,W);let H;switch(N){case O.nF.Ar_16_10:H=O.WU.Value16_10.width;break;case O.nF.Ar_4_3:H=O.WU.Value4_3.width;break;case O.nF.Ar_5_4:H=O.WU.Value5_4.width;break;case O.nF.Ar_16_9:H=O.WU.Value16_9.width;break;case O.nF.Ar_19_5_9:H=O.WU.Value195_9.width;break;case O.nF.Ar_24_10:H=O.WU.Value24_10.width;break;case O.nF.Ar_32_9:H=O.WU.Value32_9.width;break;case O.nF.Ar_21_9_1:H=O.WU.Value21_9_1.width;break;case O.nF.Ar_21_9_2:H=O.WU.Value21_9_2.width;break;case O.nF.Ar_21_9_3:H=O.WU.Value21_9_3.width}const h=this.availableResolutionList.filter(R=>R.width/R.height===N&&R.width>=H),E=h.length>0?h:this.availableResolutionList;let ee=E[0];for(const R of E)Math.abs(k*W-R.width*R.height)<Math.abs(k*W-ee.width*ee.height)&&(ee=R);return ee}adjustBalancePresetResolution(k,W,N){var H;if(k){const h=Object.assign({},k),E=this.GridServerResolutionsList;if(!this.isPlatformSupportsUHD&&h.widthInPixels*h.heightInPixels>=this.uhdResolutionIdentifier.lowerLimit){const ee=null===(H=this.availableResolutionList)||void 0===H?void 0:H.find(R=>R.height*R.width<=this.qhdResolutionIdentifier.upperLimit);h.widthInPixels=ee.width,h.heightInPixels=ee.height}return h.heightInPixels=this.adjustResolutionHeightToPrimaryAspectRatio(h.widthInPixels,h.heightInPixels,W,E),this.getProfileBasedOnType(O.M1.Balanced,N,null,h,!0).pipe((0,P.U)(ee=>{var R;if(h.framesPerSecond=ee.fps,h.widthInPixels=ee.width,h.heightInPixels=ee.height,null===(R=this.availableResolutionList)||void 0===R||!R.some(q=>q.width===ee.width&&q.height===ee.height)){const q=this.getResolutionFromSubscribedList(ee.width,ee.height);q.height=this.adjustResolutionHeightToPrimaryAspectRatio(q.width,q.height,W,E),h.widthInPixels=q.width,h.heightInPixels=q.height}return h}))}return(0,M.of)(k)}getPresetProfileData(k,W,N){return this.getProfileBasedOnType(k,W,null,N,!1)}getProfileNamesList(){return this.isBrowserPlatform||i.ng.isAndroidPlatform()?[O.V9.BALANCED,O.V9.CUSTOM]:[O.V9.BALANCED,O.V9.DATA_SAVER,O.V9.COMPETITIVE,O.V9.CUSTOM]}isVsyncSupported(){return!(i.ng.isAndroidPlatform()||i.ng.isBrowserPlatform())}adjustResolutionToAspectRatio(k,W,N){const H={width:W,height:N},ee="(16:10)",R=this.calculateAspectRatio(W,N),q=this.calculateAspectRatio(k.width,k.height);return R===q||(H.height=this.adjustResolutionHeightToPrimaryAspectRatio(W,N,R!==ee&&q===ee?1.6:16/9)),H}calculateDataUsage(k,W,N,H){return this.logger.info("Calculate data usage, params: ",k,W,N,H),this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.CalculateDataUsage,{width:k,height:W,frameRate:N,bitRateKbps:1e3*H}).pipe((0,a.q)(1),(0,P.U)(E=>(this.logger.info("CalculateDataUsage response: ",E),E.dataUsage)),(0,y.K)(E=>(this.logger.error("Error in CalculateDataUsage bridge command: ",E),(0,M.of)(0))))}updateProfileData(k,W,N,H){return k.sharedSettings=W,k.primaryDisplayResolution=N,k.networkInfo=this.networkInfo,k.currentFingerprintMaxDisplay=H,this.prepareSettingsForStreaming(k)}updateStreamingAudioFormat(k){var W,N;const H=null===(N=null===(W=null==k?void 0:k.features)||void 0===W?void 0:W.find(E=>E.key===K.xA.SUPPORTED_AUDIO_FORMATS))||void 0===N?void 0:N.textValue;this.audioModeFormat$.next(H&&H!==K.UM[0]?K.UM[H]:K.UM.STEREO)}calculateAspectRatio(k,W){const N=k/W;let H=O.OK[0];for(const h of O.OK)Math.abs(N-h.ratio)<Math.abs(N-H.ratio)&&(H=h);return this.logger.info("Calculate Formatted Aspect Ratio for resolution: ",k,W,H.formattedRatio),H.formattedRatio}calculateAspectRatioValue(k,W){const N=k/W;let H=O.OK[0];for(const h of O.OK)Math.abs(N-h.ratio)<Math.abs(N-H.ratio)&&(H=h);return this.logger.info("Calculate Aspect Ratio value for resolution: ",k,W,H.ratio),H.ratio}getResolution(k,W){return{width:k,height:W,ratio:this.calculateAspectRatio(k,W),enabled:!0,label:this.getResolutionLabel(k,W)}}getPrimaryDisplayResolution(k=O.AN.Logical){return this.isBrowserPlatform||i.ng.isAndroidPlatform()?this.systemInfoService.getDisplays().pipe((0,P.U)(W=>{const N=W[0].PhysicalResolution.split("x"),H=W[0].LogicalResolution.split("x");let h;return this.physicalResolution={width:parseInt(N[0],10),height:parseInt(N[1],10),fps:parseInt(W[0].RefreshRate,10)},h=k===O.AN.Logical?{width:parseInt(H[0],10),height:parseInt(H[1],10),fps:parseInt(W[0].RefreshRate,10)}:this.physicalResolution,this.config.featureEnablement.landscapeOnlyStreaming&&(h=Object.assign(Object.assign({},h),{width:Math.max(h.width,h.height),height:Math.min(h.width,h.height)}),this.physicalResolution=Object.assign(Object.assign({},this.physicalResolution),{width:Math.max(this.physicalResolution.width,this.physicalResolution.height),height:Math.min(this.physicalResolution.width,this.physicalResolution.height)})),this.logger.info(`Primary display ${k} resolution: `,h),h})):this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.GetDisplayMode).pipe((0,a.q)(1),(0,P.U)(W=>{let N;return this.physicalResolution={width:W.physical.width,height:W.physical.height,fps:W.physical.refreshRate},N=k===O.AN.Logical?{width:W.logical.width,height:W.logical.height,fps:W.logical.refreshRate}:this.physicalResolution,this.logger.info(`Active display mode ${k} resolution: `,W),N}))}getCurrentPhysicalResolution(){return this.physicalResolution?{horizontalPixels:this.physicalResolution.width,verticalPixels:this.physicalResolution.height}:null}getDefaultProfileData(k,W){const N=this.getSpecificPresetProfile(O.M1.Balanced);return(0,S.isNil)(k)||(N.name=k),N.maxBitrateAuto=!0,N.width=null!=W&&W.widthInPixels?W.widthInPixels:N.width,N.height=null!=W&&W.heightInPixels?W.heightInPixels:N.height,N.fps=null!=W&&W.framesPerSecond?W.framesPerSecond:N.fps,N.maxBitrate=0,N}getStreamingProfile(){if(this.streamingProfile$)return this.streamingProfile$;let k;return this.streamingProfile$=(0,x.aj)([this.sharedStorageService.readBlock(O.Bq.BlockName),this.getPrimaryDisplayResolution(),this.networkConfigService.getCurrentFingerprintMaxDisplay(),this.networkConfigService.getCurrentFingerprintMaxPacketSize(),this.initializeStreamingProfiles$()]).pipe((0,a.q)(1),(0,C.zg)(([W,N,H,h,E])=>{var ee,R,q;let ne;this.settingsBlock=(0,S.merge)({},W);const _e=this.getSubscriptionPreset();ne=_e?Object.assign({},_e):null,ne&&(ne.heightInPixels=this.adjustResolutionHeightToPrimaryAspectRatio(ne.widthInPixels,ne.heightInPixels,N.width/N.height,this.GridServerResolutionsList)),H&&((H=Object.assign({},H)).height=this.adjustResolutionHeightToPrimaryAspectRatio(H.width,H.height,N.width/N.height,this.GridServerResolutionsList)),this.updateStreamingAudioFormat(null===(ee=this.membership.subscription)||void 0===ee?void 0:ee.features);let U=this.settingsBlock[O.Bq.StreamingProfiles];if(U=(0,S.isUndefined)(U)?O.M1.Balanced:U,U===O.M1.Custom)return k=this.settingsBlock[O.Bq.CustomProfile],(0,S.isUndefined)(k)||!this.isCustomDataInSubscription(k,this.subscriptionResolutionList)?this.adjustBalancePresetResolution(ne,N.width/N.height,N).pipe((0,C.zg)(re=>(ne=Object.assign({},re),k=this.getDefaultProfileData(U,ne),k.width=Number(k.width),k.height=Number(k.height),this.updateSupportedFps(k),this.setupProfileData(k,U,h,N,W,H)))):(this.updateCustomProfileVSyncValue(k),k.width=Number(k.width),k.height=Number(k.height),this.updateSupportedFps(k),this.setupProfileData(k,U,h,N,W,H));{let re=null;return U===O.M1.Balanced?re=ne:U===O.M1.Competitive?re=null===(R=this.subscriptionResolutionList)||void 0===R?void 0:R.find(pe=>{var Pe;return pe.isDefault&&(null===(Pe=pe.clientStreamingQualityModes)||void 0===Pe?void 0:Pe.includes(K.xw.COMPETITIVE))}):U===O.M1.DataSaver&&(re=null===(q=this.subscriptionResolutionList)||void 0===q?void 0:q.find(pe=>{var Pe;return pe.isDefault&&(null===(Pe=pe.clientStreamingQualityModes)||void 0===Pe?void 0:Pe.includes(K.xw.DATA_SAVER))})),this.getProfileBasedOnType(U,N,H,re,!this.config.featureEnablement.dynamicStreamingResolution).pipe((0,C.zg)(pe=>{var Pe;if(k=pe,U===O.M1.Balanced&&!(0,S.isNil)(this.networkInfo)&&this.networkInfo.NetworkType===i.VV.WiFi2_4&&k.width*k.height>=this.uhdResolutionIdentifier.lowerLimit){const Te=k.width/k.height,me=null===(Pe=this.availableResolutionList)||void 0===Pe?void 0:Pe.find(et=>et.height*et.width<=this.qhdResolutionIdentifier.upperLimit);k.width=me.width,k.height=me.height,k.height=this.adjustResolutionHeightToPrimaryAspectRatio(k.width,k.height,Te,this.GridServerResolutionsList)}return this.setupProfileData(k,U,h,N,W,H)}))}}),(0,y.K)(W=>(this.logger.error("Error getting profiles settings from sharedStorage: ",W),k=this.getDefaultProfileData(),(0,M.of)(this.prepareSettingsForStreaming(k)))),(0,A.b)(W=>this.updateStreamingProfileGuid(W)),(0,v.d)(1)),this.streamingProfile$}setupProfileData(k,W,N,H,h,E){if(k.name=W,N&&(k.maxPacketSize=N),!(0,S.isNil)(this.networkInfo)&&this.networkInfo.NetworkType===i.VV.WiFi2_4&&this.config.featureEnablement.cap24GhzWifi){const ee=this.adjustResolutionToAspectRatio(H,1280,720);return k.width=ee.width,k.height=ee.height,k.fps===O.vG.Value120.value&&(k.fps=O.vG.Value60.value),0===k.maxBitrate||"Auto"===k.maxBitrate?this.getAutoMaxBitrateValue(k.width,k.height,k.fps).pipe((0,P.U)(R=>(k.maxBitrate=R<=7?R:7,this.updateProfileData(k,h,H,E)))):(k.maxBitrate=k.maxBitrate<=7?k.maxBitrate:7,this.logger.info("WiFi 2.4 connection - adjusting resolution to: ",ee),(0,M.of)(this.updateProfileData(k,h,H,E)))}return(0,M.of)(this.updateProfileData(k,h,H,E))}updateSupportedFps(k){var W,N,H;const h=null===(H=null===(N=null===(W=this.availableResolutionList)||void 0===W?void 0:W.filter(E=>E.height===k.height&&E.width===k.width)[0])||void 0===N?void 0:N.fpsList)||void 0===H?void 0:H.filter(E=>E.enabled);if(null==h||!h.some(E=>k.fps===E.value)){const E=null==h?void 0:h.filter(ee=>ee.value<=k.fps+1)[0];k.fps=E?E.value:k.fps>=O.HQ?O.vG.Value60.value:O.vG.Value30.value}!this.IsPlatformSupportFps&&k.fps===O.vG.Value240.value&&(k.fps=O.vG.Value120.value)}clearCachedStreamingProfile(){this.streamingProfile$=null}readCustomProfileData(){return this.sharedStorageService.readBlock(O.Bq.BlockName).pipe((0,P.U)(k=>{this.settingsBlock=(0,S.merge)({},k),this.logger.info("Read settings block from sharedStorage: ",k);const W=k[O.Bq.CustomProfile];return W&&this.updateCustomProfileVSyncValue(W),W}))}storeCustomProfileData(k,W){return this.sharedStorageService.readBlock(O.Bq.BlockName).pipe((0,C.zg)(N=>(this.settingsBlock=(0,S.merge)({},N),this.settingsBlock[O.Bq.CustomProfile]=k,W&&delete this.settingsBlock[O.Bq.CustomProfile],this.sharedStorageService.writeBlock(O.Bq.BlockName,this.settingsBlock))))}getFpsList(){return this.fpsList}getGesRecommendedBalancedResolution(){var k;return null===(k=this.subscriptionResolutionList)||void 0===k?void 0:k.find(N=>{var H;return null===(H=N.clientStreamingQualityModes)||void 0===H?void 0:H.includes(K.xw.BALANCED)})}filterGesRecommendedBalancedResolutions(k){const W=this.getGesRecommendedBalancedResolution();return this.filterByResolutionAndFrameRate(k,W)}filterByResolutionAndFrameRate(k,W,N=!1){if(W){const h=(0,S.cloneDeep)(k).filter(E=>E.height*E.width<=W.heightInPixels*W.widthInPixels);return N&&h.forEach(E=>{E.fpsList=E.fpsList.filter(ee=>ee.value<=W.framesPerSecond)}),h}return k}getFpsOption(k){return{value:k.framesPerSecond,displayName:k.framesPerSecond+O.HH,enabled:k.isEntitled}}intersectServerSubscriptionResolutions(k,W,N){const H=[];if(this.unsupportedHiddenResolutionsList=[],this.unsupportedDisabledResolutionsList=[],W&&0!==W.length)k.forEach(h=>{var E;if(W.some(ee=>ee.widthInPixels===h.width&&ee.heightInPixels===h.height)){const ee=W.filter(R=>R.widthInPixels===h.width&&R.heightInPixels===h.height);if(!this.isPlatformSupportsUHD&&h.height*h.width>=this.unsupportedResolutionIdentifier)return void(this.displayUnsupportedResolution?(this.unsupportedDisabledResolutionsList.push(h),h.enabled=!1):this.unsupportedHiddenResolutionsList.push(h));if(h.enabled=null==ee?void 0:ee.some(R=>R.isEntitled),h.enabled){h.fpsList=ee.map(q=>this.getFpsOption(q)),null===(E=h.fpsList)||void 0===E||E.sort((q,ne)=>ne.value-q.value);const R=h.fpsList.filter(q=>!this.fpsCheckNotNeeded&&q.value>=this.unsupportedFpsIdentifier);if(R.length>0){const q=[];R.forEach(ne=>{this.IsPlatformSupportFps||q.push(ne)}),q.length>0&&(h.fpsList=h.fpsList.filter(ne=>!q.some(_e=>_e.value===ne.value)),this.displayUnsupportedFps&&(h.unsupportedFpsList=q.map(ne=>Object.assign(Object.assign({},ne),{enabled:!1}))))}}H.push(h)}});else{N||(N=this.getDefaultProfileData());const h=this.getResolution(N.width,N.height);H.push(h)}return H}fetchIsPlatformSupportsUHD$(){return this.isPlatformSupportsUHD$||(this.isPlatformSupportsUHD$=this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.IsPlatformSupportsUHD).pipe((0,a.q)(1),(0,A.b)(k=>{this.isPlatformSupportsUHD=k,this.logger.info("IsPlatformSupportsUHD response: ",this.isPlatformSupportsUHD)}),(0,y.K)(k=>(this.isPlatformSupportsUHD=!1,this.logger.info("IsPlatformSupportsUHD error: ",k),(0,M.of)(this.isPlatformSupportsUHD))),(0,v.d)(1))),this.isPlatformSupportsUHD$}getResolutionUpsellMessage(k){var W,N,H;const h=null===(H=null===(N=null===(W=k.subscription)||void 0===W?void 0:W.features)||void 0===N?void 0:N.resolutions)||void 0===H?void 0:H.some(ee=>ee.widthInPixels*ee.heightInPixels>=this.uhdResolutionIdentifier.lowerLimit);return{parameter:this.isPlatformSupportsUHD&&h?O.lL:O.$f}}getFpsUpsellMessage(k){var W,N,H;const h=null===(H=null===(N=null===(W=k.subscription)||void 0===W?void 0:W.features)||void 0===N?void 0:N.resolutions)||void 0===H?void 0:H.some(R=>R.framesPerSecond===O.vG.Value240.value),E=this.isFeatureAvailableToUser(K.xA.REFLEX_ENABLED,K.$c.SUPPORT_REFLEX);return{parameter:h&&E&&this.IsPlatformSupportFps?O.vo:O.iU}}getSubscriptionPresetResolution(k,W=K.xw.BALANCED){var N,H;const h=null==k?void 0:k.find(ee=>{var R;return ee.isDefault&&ee.isEntitled&&(null===(R=ee.clientStreamingQualityModes)||void 0===R?void 0:R.includes(W))}),E=this.GridServerResolutionsList;if(E.some(ee=>ee.height===(null==h?void 0:h.heightInPixels)&&ee.width===(null==h?void 0:h.widthInPixels))){const ee=Object.assign({},h);return this.overrideBalanceFps&&this.is240FPSAvailableInSubscription()&&W===K.xw.BALANCED&&h.widthInPixels*h.heightInPixels>=this.uhdResolutionIdentifier.lowerLimit&&h.framesPerSecond===O.vG.Value120.value&&(ee.framesPerSecond=O.vG.Value240.value),ee}if(h&&W===K.xw.BALANCED){const ee=Object.assign({},h);return ee.widthInPixels=E[0].width,ee.heightInPixels=E[0].height,ee.framesPerSecond=null!==(H=null===(N=null==E?void 0:E.find(R=>R.width===ee.widthInPixels&&R.height===ee.heightInPixels))||void 0===N?void 0:N.fpsList)&&void 0!==H&&H.some(R=>R.value===O.vG.Value120.value)?O.vG.Value120.value:O.vG.Value60.value,ee}return null}is240FPSAvailableInSubscription(){var k,W,N;return null===(N=null===(W=null===(k=this.membership.subscription)||void 0===k?void 0:k.features)||void 0===W?void 0:W.resolutions)||void 0===N?void 0:N.some(H=>H.framesPerSecond===O.vG.Value240.value&&!0===H.isEntitled)}getSubscriptionPreset(k=K.xw.BALANCED){var W,N,H,h,E;let ee;return ee=k===K.xw.DATA_SAVER?null!==(W=this.DataSaverResolution)&&void 0!==W?W:null:k===K.xw.COMPETITIVE?null!==(N=this.CompetitiveResolution)&&void 0!==N?N:null:null!==(h=null===(H=this.membership.subscription)||void 0===H?void 0:H.features)&&void 0!==h&&h.resolutions?this.getSubscriptionPresetResolution(this.membership.subscription.features.resolutions):null!==(E=this.BalancedResolution)&&void 0!==E?E:null,ee?Object.assign({},ee):null}getMaxbitRateList(){return(0,S.cloneDeep)(O.Z6)}getvSyncList(){return(0,S.cloneDeep)([O.OA.ValueOn,O.OA.ValueOff,O.OA.ValueAdaptive])}getSubscriptionResolutions(){return(0,x.aj)([this.ecommerceService.getUserMembership().pipe((0,d.h)(k=>k.membershipStatus!==T.Tn.UnKnown)),this.fetchIsPlatformSupportsUHD$()]).pipe((0,P.U)(([k,W])=>{var N,H,h,E,ee;return this.isPlatformSupportsUHD?null===(H=null===(N=k.subscription)||void 0===N?void 0:N.features)||void 0===H?void 0:H.resolutions:null===(ee=null===(E=null===(h=k.subscription)||void 0===h?void 0:h.features)||void 0===E?void 0:E.resolutions)||void 0===ee?void 0:ee.filter(R=>R.widthInPixels*R.heightInPixels<=this.qhdResolutionIdentifier.upperLimit)}))}getStreamingAudioMode(){return this.audioModeFormat$.asObservable()}fetchHdrLearnMoreUrl$(){return this.hdrLearnMoreUrl$||(this.hdrLearnMoreUrl$=this.redirectService.getRedirectUrl(f.hE.GfnPcHdrUnsupportedSystemsLearnMore).pipe((0,A.b)(k=>{this.hdrLearnMoreUrlSubject$.next(k)}),(0,v.d)(1))),this.hdrLearnMoreUrl$}fetchHdrToggleState$(k){return k&&this.isHdrToggleTurnedOff$&&(this.isHdrToggleTurnedOff$=null),this.isHdrToggleTurnedOff$||(this.isHdrToggleTurnedOff$=this.sharedStorageService.readBlock(O.Bq.BlockName).pipe((0,P.U)(W=>{var N;this.settingsBlock=(0,S.merge)({},W);const H=!(0,S.isUndefined)(this.settingsBlock[O.Bq.StreamingProfiles])&&this.settingsBlock[O.Bq.StreamingProfiles]===O.M1.Custom&&!(0,S.isUndefined)(null===(N=this.settingsBlock[O.Bq.CustomProfile])||void 0===N?void 0:N.hdrStreaming)&&!this.settingsBlock[O.Bq.CustomProfile].hdrStreaming;return this.isHdrToggleTurnedOffSubject$.next(H),H}),(0,v.d)(1))),this.isHdrToggleTurnedOff$}fetchPlatformSupportsHDRStreaming$(k){return k&&this.hdrStreamingSupported$&&(this.hdrStreamingSupported$=null),this.hdrStreamingSupported$||(this.hdrStreamingSupported$=this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.IsPlatformSupportsHDRStreaming).pipe((0,a.q)(1),(0,P.U)(W=>(this.logger.info("IsPlatformSupportsHDRStreaming response: ",W),this.hdrDecodeSupported=W.supportsHdrDecode,this.hdrRenderingSupported=W.supportsHdrRendering,this.hdrDecodeSupportedSubject$.next(W.supportsHdrDecode),this.hdrRenderingSupportedSubject$.next(W.supportsHdrRendering),W.supportsHdrDecode)),(0,y.K)(W=>(this.logger.info("IsPlatformSupportsHDRStreaming error: ",W),this.hdrDecodeSupported=!1,this.hdrRenderingSupported=!1,this.hdrDecodeSupportedSubject$.next(!1),this.hdrRenderingSupportedSubject$.next(!1),(0,M.of)(!1))),(0,v.d)(1))),this.hdrStreamingSupported$}registerDisplayModeChangeEvent(){this.displayModeChangeListener$().pipe((0,C.zg)(()=>this.fetchPlatformSupportsHDRStreaming$(!0))).subscribe(()=>{this.displayModeChanged$.next(!0)},k=>{this.logger.error("Error in DisplayModeChange event.",k)})}onDisplayModeChanged(){return this.displayModeChanged$.asObservable()}isFeatureAvailableToUser(k,W){return this.isFeatureEnabeldForUserSubscription(k)||this.ecommerceService.featureUpsellAvailable([W])[0]}isFeatureEnabeldForUserSubscription(k){return this.ecommerceService.featureEntitled(k)}getHdrLabel(k,W){return this.IsPlatformSupportsHDRDecode?W?"common.off":this.IsPlatformSupportsHDRRendering?k?"settings.streamingProfiles.on":"common.off":"settings.streamingProfiles.hdrDisplayTip":"settings.streamingProfiles.hdrSystemUnsupportedTip"}getReflexLabel(k,W){return this.IsPlatformSupportFps?W||!k?"common.off":"settings.streamingProfiles.on":"layout.evidenceMetadata.reflexUnsupported"}getBitRateValues(){return this.updatedBitrateValues}displayModeChangeListener$(){return this.isBrowserPlatform?(0,L.R)(window,"resize").pipe((0,m.p)(100),(0,d.h)(()=>!!this.physicalResolution&&this.physicalResolution.width!==Math.floor(window.screen.width*window.devicePixelRatio))):this.nativeEventService.get$(i.Nx.DisplayModeChange,i.bi.Types.HandlerEventType.SimpleWindowEvent)}fetchPlatformSupportFps$(){return this.platformSupportsFps$?this.platformSupportsFps$:this.fpsCheckNotNeeded?(this.logger.info("IsPlatformSupportsFps not checked for unsupported clients. False."),this.platformSupportsFpsSubject$.next(!1),(0,M.of)(!1)):(this.platformSupportsFps$=this.bridgeService.executeCommand(Y.Gh.Gfn.Streaming.IsPlatformSupportFps,{frameRates:[{value:this.unsupportedFpsIdentifier}]}).pipe((0,a.q)(1),(0,P.U)(k=>{var W,N,H;return this.logger.info("isPlatformSupportsFps response: ",k),this.platformSupportsFps=null===(W=null==k?void 0:k.frameRates[0])||void 0===W?void 0:W.supported,this.platformSupportsFpsSubject$.next(null===(N=null==k?void 0:k.frameRates[0])||void 0===N?void 0:N.supported),null===(H=null==k?void 0:k.frameRates[0])||void 0===H?void 0:H.supported}),(0,y.K)(k=>(this.logger.info("isPlatformSupportsFps error: (false) ",k),this.platformSupportsFpsSubject$.next(!1),(0,M.of)(!1))),(0,v.d)(1)),this.platformSupportsFps$)}fetchReflexLearnMoreUrl$(){return this.reflexLearnMoreUrl$||(this.reflexLearnMoreUrl$=this.redirectService.getRedirectUrl(f.hE.GfnPcUnsupportedReflexLearnMore).pipe((0,A.b)(k=>{this.reflexLearnMoreUrlSubject$.next(k)}),(0,v.d)(1))),this.reflexLearnMoreUrl$}fetchSelectedStreamingMode$(k){return k&&this.streamingMode$&&(this.streamingMode$=null),this.streamingMode$||(this.streamingMode$=this.sharedStorageService.readBlock(O.Bq.BlockName).pipe((0,P.U)(W=>{this.settingsBlock=(0,S.merge)({},W);const N=(0,S.isUndefined)(this.settingsBlock[O.Bq.StreamingProfiles])?O.M1.Balanced:this.settingsBlock[O.Bq.StreamingProfiles];return this.streamingModeSubject$.next(N),N}),(0,v.d)(1))),this.streamingMode$}fetchReflexToggleState$(k){return k&&this.isReflexToggleTurnedOff$&&(this.isReflexToggleTurnedOff$=null),this.isReflexToggleTurnedOff$||(this.isReflexToggleTurnedOff$=this.sharedStorageService.readBlock(O.Bq.BlockName).pipe((0,P.U)(W=>{var N;this.settingsBlock=(0,S.merge)({},W);const H=(0,S.isUndefined)(this.settingsBlock[O.Bq.StreamingProfiles])||this.settingsBlock[O.Bq.StreamingProfiles]===O.M1.Custom&&((0,S.isUndefined)(null===(N=this.settingsBlock[O.Bq.CustomProfile])||void 0===N?void 0:N.reflex)||!this.settingsBlock[O.Bq.CustomProfile].reflex);return this.isReflexToggleTurnedOffSubject$.next(H),H}),(0,v.d)(1))),this.isReflexToggleTurnedOff$}clearSelectedModeAndToggles(){this.streamingMode$=null,this.isHdrToggleTurnedOff$=null,this.isReflexToggleTurnedOff$=null,this.gameFeatureProperties$=null}getClientUpsellMessages(k=O.qB){return(0,x.aj)([this.lcarsService.getUpsellMessages(),this.ecommerceService.getUserMembership(),this.fetchPlatformSupportsHDRStreaming$(),this.fetchIsPlatformSupportsUHD$(),this.fetchPlatformSupportFps$()]).pipe((0,P.U)(([W,N])=>{const H=this.getAllUpsellMessagesFromLCARSResponse(W),h=this.getResolutionUpsellMessage(N),E=this.getFpsUpsellMessage(N);return this.clientUpsellMessage=this.updateUpsellMessagesParameters(H,h,E),this.compileUpsellMessageArray(k)}),(0,v.d)(1),(0,y.K)(()=>(0,M.of)([])))}compileUpsellMessageArray(k){const W=[];return this.updateUpsellFlagValues(),k.forEach(N=>{if(this.upsellFlags[N]){const H=this.clientUpsellMessage[K.$c[N]];H.length>0&&W.push(H)}}),W}updateUpsellFlagValues(){const k=this.ecommerceService.featureUpsellAvailable(O.To);O.To.forEach((W,N)=>{this.upsellFlags[W]=k[N]}),this.upsellFlags[K.$c.SUPPORT_HDR]=this.upsellFlags[K.$c.SUPPORT_HDR]&&this.IsPlatformSupportsHDRDecode}updateUpsellMessagesParameters(k,W,N){let H=k[K.$c[K.$c.HIGHER_RESOLUTION]],h=k[K.$c[K.$c.HIGHER_FPS]];return H=this.parser.interpolate(H,{resolution:W.parameter}),k[K.$c[K.$c.HIGHER_RESOLUTION]]=H,h=this.parser.interpolate(h,{fps:N.parameter}),N.parameter===O.vo&&(h+=k[K.$c[K.$c.SUPPORT_REFLEX]]),k[K.$c[K.$c.HIGHER_FPS]]=h,k}getAllUpsellMessagesFromLCARSResponse(k){const W={},N=Object.entries(k);return O.To.forEach(H=>{const h=K.$c[H],E=N.findIndex(ee=>ee[0]===h);W[h]=-1===E?"":N[E][1]}),W}getMaxDisplayTestData(k){return this.getStreamingProfile().pipe((0,a.q)(1),(0,P.U)(W=>{const N=null==W?void 0:W.primaryDisplayResolution;let H=[...this.AvailableResolutionList];if(k||this.clearCachedStreamingProfile(),(0,S.isNil)(H)||(0,S.isNil)(W)||W.name!==O.M1.Balanced)return null;H=H.sort((ee,R)=>R.width*R.height-ee.width*ee.height);const h=this.getCappedFramerate(H,N);return W.width<(null==N?void 0:N.width)||W.fps<h||W.height<(null==N?void 0:N.height)?this.isDisplayHighestForAspectRatio(W,H,h)?null:W:null}))}getCappedFramerate(k,W){var N,H;if(!W||(null==k?void 0:k.length)<=0)return O.vG.Value60.value;let h=k.filter(E=>E.height*E.width==W.height*W.width);if((null==h?void 0:h.length)<=0&&(h=k.filter(E=>E.height*E.width<W.height*W.width)),(null==h?void 0:h.length)>0){const E=null===(H=null===(N=h[0])||void 0===N?void 0:N.fpsList)||void 0===H?void 0:H.filter(ee=>ee.enabled);if((null==E?void 0:E.length)>0){const ee=E.filter(R=>R.value<=W.fps+1);if((null==ee?void 0:ee.length)>0)return ee[0].value}}return(null==W?void 0:W.fps)>=O.zP?O.vG.Value120.value:(null==W?void 0:W.fps)>=O.HQ?O.vG.Value60.value:O.vG.Value30.value}isDisplayHighestForAspectRatio(k,W,N){var H;for(const h of W){if(h.width/h.height!=k.width/k.height)continue;let E=null===(H=h.fpsList.filter(ee=>!0===ee.enabled)[0])||void 0===H?void 0:H.value;return E=E<N?E:N,!(h.width>k.width||E>k.fps)}return!0}}return ue.\u0275fac=function(k){return new(k||ue)(D.LFG(I.r),D.LFG(i.ed),D.LFG(w.OA),D.LFG(i.Ob),D.LFG(i.dF),D.LFG(_.XS),D.LFG($.VK),D.LFG(T.BH),D.LFG(B.$l),D.LFG(G.No),D.LFG(i.o1),D.LFG(F.V),D.LFG(J.zc),D.LFG(z.qi))},ue.\u0275prov=D.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},9533:(Ge,ae,e)=>{"use strict";e.d(ae,{RI:()=>t,sB:()=>A});var t=(()=>{return(d=t||(t={})).ServerInfo="ServerInfo",d.AppMetadata="AppMetadata",d.CountryCode="CountryCode",t;var d})();const n="SharedStorageCache";var x=e(23815),M=e(51325),L=e(33932),p=e(4042),P=e(89258),a=e(85566),o=e(39609),v=e(64710),y=e(91565),C=e(39382);let A=(()=>{class d{constructor(S,s,r){this.sharedStorageService=s,this.appConfig=r,this.logger=S.getLogger("gfn/Shared-Storage-Caching")}readSharedStorageCache(){return this.sharedStorageService.readBlock(n).pipe((0,M.K)(S=>(this.logger.info("Got error reading cache from shared storage:",S),(0,x.of)({}))))}saveItem(S,s){this.logger.info(`Saving the Item ${S} to shared storage cache`);const r={data:s,creationTs:Date.now()};return this.readSharedStorageCache().pipe((0,L.zg)(l=>(l[S]=r,this.sharedStorageService.writeBlock(n,l))),(0,M.K)(l=>(this.logger.info(`Error saving the item to the block ${n}: ${l}`),(0,x.of)(r))),(0,p.h)(s))}getItem(S){const s=this.appConfig.sharedStorageCache[S];return this.logger.info(`Get Item ${S}`),this.readSharedStorageCache().pipe((0,P.U)(r=>{const l={};if((0,a.has)(r,S)){this.logger.info(`Found the item ${S} in shared storage cache`);const i=r[S];l.data=i.data,l.expired=i.creationTs+s.cacheDuration<=Date.now()}return l}))}deleteItem(S){return this.logger.info(`Deleting the item: ${S}`),this.readSharedStorageCache().pipe((0,P.U)(s=>(delete s[S],s)),(0,L.zg)(s=>this.sharedStorageService.writeBlock(n,s)),(0,M.K)(s=>(this.logger.info(`Error deleting the item ${S} from shared storage cache - ${s}`),(0,x.of)(!1))))}isExpiredValueAllowed(S){return this.appConfig.sharedStorageCache[S].allowExpiredValue}}return d.\u0275fac=function(S){return new(S||d)(o.LFG(v.ed),o.LFG(y.OA),o.LFG(C.VK))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},99085:(Ge,ae,e)=>{"use strict";e.d(ae,{FR:()=>L,Iv:()=>t,OD:()=>M,_S:()=>p,gx:()=>P,re:()=>n,ve:()=>a});var t=(()=>{return(o=t||(t={}))[o.MaxGpu=2]="MaxGpu",o[o.MaxDisk=3]="MaxDisk",o[o.MaxDisplay=3]="MaxDisplay",o[o.MaxInputDevicePerType=3]="MaxInputDevicePerType",t;var o})(),n=(()=>{return(o=n||(n={})).GameDetails="GAME_DETAILS",o.MarqueeTile="MARQUEE_TILE",n;var o})(),M=(()=>{return(o=M||(M={}))[o.UNKNOWN=0]="UNKNOWN",o[o.SUCCESS=1]="SUCCESS",o[o.INVALID_PARAM=2]="INVALID_PARAM",o[o.SYN_FAILED=3]="SYN_FAILED",o[o.FIN_FAILED=4]="FIN_FAILED",o[o.AUTH_FAILED=5]="AUTH_FAILED",o[o.POST_FAILED=6]="POST_FAILED",o[o.TEST_IN_PROGRESS=7]="TEST_IN_PROGRESS",o[o.CANCELED=8]="CANCELED",o[o.CAPACITY_FULL=9]="CAPACITY_FULL",o[o.SESSION_EXIST=10]="SESSION_EXIST",o[o.INVALID_DATA=11]="INVALID_DATA",o[o.SETUP_FAILED=12]="SETUP_FAILED",o[o.RETRYABLE_POST_FAILURE=13]="RETRYABLE_POST_FAILURE",o[o.BLOCK_STREAM=14]="BLOCK_STREAM",M;var o})(),L=(()=>{return(o=L||(L={})).InitialLaunch="initialLaunch",o.StreamerCefInit="streamerCefInit",o.StreamerJsInit="streamerJsInit",o.UpdateCheck="updateCheck",o.PreStreaming="preStreaming",o.ManualLoginEntry="manualLoginEntry",o.AutoLogin="autoLogin",o.PlatformSelection="platformSelection",o.AccountLinking="accountLinking",o.NesAuthorization="nesAuthorization",o.Lbr="Lbr",o.NetworkTest="networkTest",o.SessionCleanup="sessionCleanup",o.SessionQueue="sessionQueue",o.StartSession="startSession",o.StreamerClientSetupDuration="streamerClientSetupDuration",o.StreamerConnectionDuration="streamerConnectionDuration",o.SeatConfigDuration="seatConfigDuration",o.StreamingStartDuration="streamingStartDuration",L;var o})(),p=(()=>{return(o=p||(p={})).Enabled="ENABLED",o.Disabled="DISABLED",p;var o})(),P=(()=>{return(o=P||(P={})).Native="Native",o.Browser="Browser",o.GFNSDK="GFNSDK",o.Undefined="undefined",P;var o})(),a=(()=>{return(o=a||(a={})).iBeta="iBeta",o.Release="Release",o.Undefined="undefined",a;var o})()},48131:(Ge,ae,e)=>{"use strict";e.d(ae,{$4G:()=>Ki,AGB:()=>ai,AUc:()=>nt,AVX:()=>Pi,Bbu:()=>Oe,BhR:()=>G,CGJ:()=>Nt,Cbx:()=>a,DCd:()=>Et,DL8:()=>Ao,DUy:()=>ci,DYb:()=>m,DwO:()=>b,E5O:()=>Vt,F9b:()=>yt,GMl:()=>Ye,GVq:()=>cn,GbY:()=>Ko,GtW:()=>Vo,HGL:()=>i,HUU:()=>_o,H_T:()=>Vn,Hj8:()=>ln,HyT:()=>he,ItH:()=>K,J2u:()=>Be,J8H:()=>dr,LMI:()=>Wo,MF$:()=>Ri,Mbw:()=>Go,MjV:()=>Pt,Mlh:()=>f,MsO:()=>_n,N3X:()=>lt,NX4:()=>un,NlQ:()=>o,NuE:()=>l,O9g:()=>Bo,OR5:()=>O,ORi:()=>Kt,OSH:()=>de,Ols:()=>Me,P3M:()=>Dn,PMS:()=>ut,PoW:()=>ze,PyH:()=>Ce,QqN:()=>mo,QuF:()=>Ui,RRm:()=>De,Ran:()=>ti,SzM:()=>N,T44:()=>E,TK_:()=>Ho,Tbl:()=>q,Tn7:()=>$e,U4l:()=>Bt,VHB:()=>Ut,VIQ:()=>vo,Vwu:()=>y,W9g:()=>jt,WLf:()=>Qn,WUy:()=>w,Wb4:()=>X,XBX:()=>In,XHw:()=>Ln,XPX:()=>Tn,Xj5:()=>Tt,XzU:()=>B,YXu:()=>ye,Y_M:()=>Fo,YbQ:()=>Ze,Ydg:()=>s,Yk9:()=>Re,YwJ:()=>dn,YyK:()=>tn,ZEJ:()=>Co,ZQU:()=>Le,_63:()=>No,_G:()=>D,_K5:()=>F,_LZ:()=>p,_cC:()=>bn,_js:()=>wt,aGN:()=>Pn,att:()=>en,bOD:()=>ve,c8x:()=>h,cPW:()=>d,cYw:()=>le,cjj:()=>v,cym:()=>Do,eCT:()=>P,ee7:()=>r,ef6:()=>J,f$p:()=>pe,g7J:()=>fr,gZv:()=>fn,hAb:()=>_,hMy:()=>gt,iB_:()=>Mt,ig$:()=>hr,jzO:()=>Pe,kr1:()=>Li,lzt:()=>k,nLL:()=>An,nfD:()=>M,oSA:()=>re,p3A:()=>Ct,p7_:()=>ie,pDK:()=>go,pjt:()=>A,qmX:()=>Qt,r_X:()=>Sn,roz:()=>co,ryx:()=>ge,s8B:()=>W,sNt:()=>mt,sf3:()=>li,syg:()=>qn,tZp:()=>Ni,tyl:()=>gr,uEx:()=>Wn,uXL:()=>ki,u_Q:()=>xe,v6v:()=>C,vkU:()=>Zt,vlM:()=>fo,wEN:()=>on,wye:()=>ee,xNG:()=>bt,xcx:()=>It,yOt:()=>Ci,yVM:()=>pi,zDK:()=>wo,zO5:()=>pn,zZ4:()=>Uo,zfT:()=>ni,zhv:()=>U,ztj:()=>_e});var n=(()=>{return(j=n||(n={})).Functional="functional",j.Technical="technical",j.Behavioral="behavioral",n;var j})(),M=(()=>{return(j=M||(M={})).PRODUCT_CHANGE="PRODUCT_CHANGE",j.ASSET_CHANGE="ASSET_CHANGE",j.SESSION_CHANGE="SESSION_CHANGE",j.LAYOUT_CHANGE="LAYOUT_CHANGE",j.GSWS_SYNC="GSWS_SYNC",j.SECTION_CHANGE="SECTION_CHANGE",j.LINKEDACCOUNT_CHANGE="LINKEDACCOUNT_CHANGE",j.APP_CHANGE="APP_CHANGE",j.SERVER_INFO_SYNC="SERVER_INFO_SYNC",j.CONFIGURATION_CHANGE="CONFIGURATION_CHANGE",j.SUBSCRIPTION_CHANGE="SUBSCRIPTION_CHANGE",j.UNKNOWN="UNKNOWN",j.PATCHING_EVENT="PATCHING_EVENT",j.KV_STORE_CHANGE="KV_STORE_CHANGE",j.LIBRARY_CHANGE="LIBRARY_CHANGE",j.PLATFORM_SYNC_CHANGE="PLATFORM_SYNC_CHANGE",j.CAMPAIGN_CHANGE="CAMPAIGN_CHANGE",M;var j})(),p=(()=>{return(j=p||(p={})).Oldest="Oldest",j.AtoZ="AtoZ",j.Newest="Newest",j.ZtoA="ZtoA",p;var j})(),P=(()=>{return(j=P||(P={})).AppsRefresh="AppsRefresh",j.PanelRefresh="PanelRefresh",j.CampaignsRefresh="CampaignsRefresh",j.TimerRefresh="TimerRefresh",P;var j})(),a=(()=>{return(j=a||(a={})).EndOfSession="EndOfSession",j.Mall="Mall",a;var j})(),o=(()=>{return(j=o||(o={})).Highlights="Highlights",j.Game="Game",j.Media="Media",o;var j})(),v=(()=>((v||(v={})).GameShortcutUrl="GameShortcutUrl",v))(),y=(()=>{return(j=y||(y={})).AddDesktopShortcut="AddDesktopShortcut",j.LaunchGame="LaunchGame",j.NesAutoAuthorization="NesAutoAuthorization",j.LoginWithJarvisOAuth="LoginWithJarvisOAuth",j.LoginWithFacebook="LoginWithFacebook",j.NesGetCompleteLayouts="NesGetCompleteLayouts",j.LoginWithAffiliate="LoginWithAffiliate",j.LoginWithGoogle="LoginWithGoogle",j.Continue="Continue",j.ManageECommerceSubscription="ManageECommerceSubscription",j.UninstallGame="UninstallGame",j.LoginWithOther="LoginWithOther",j.AddGameToLibrary="AddGameToLibrary",j.Resend="Resend",j.LoginWithStarfleet="LoginWithStarfleet",j.ServiceWorkerActivation="ServiceWorkerActivation",j.SilentLoginDirectLaunch="SilentLoginDirectLaunch",j.SilentLoginRedirectFromDMO="SilentLoginRedirectFromDMO",j.AutoEntitle="AutoEntitle",y;var j})(),C=(()=>{return(j=C||(C={})).Jarvis="Jarvis",j.Gfc="Gfc",j.Lcars="Lcars",j.Grid="Grid",j.Cms="Cms",j.Aem="Aem",j.Survey="Survey",j.DR="DR",j.RemoteConfig="RemoteConfig",j.Starfleet="Starfleet",j.Other="Other",j.Rating="Rating",j.Gfwsl="Gfwsl",j.KVStore="KVStore",j.GxTarget="GxTarget",j.NES="NES",j.ALS="ALS",j.AwsS3="AwsS3",j.PNS="PNS",j.UAS="UAS",C;var j})(),A=(()=>{return(j=A||(A={})).COMMUNICATION_BANNER="COMMUNICATION_BANNER",j.UXTEST_BANNER="UXTEST_BANNER",j.SURVEY_BANNER="SURVEY_BANNER",j.POST_GAME="POST_GAME",j.FEEDBACK="FEEDBACK",A;var j})(),d=(()=>{return(j=d||(d={})).NA="NA",j.EmptyLayout="EmptyLayout",j.AppsListFetch="AppsListFetch",j.VpcId="VpcId",j.Unknown="Unknown",j.SessionToken="SessionToken",j.DelegateTokenFetch="DelegateTokenFetch",j.LayoutFetch="LayoutFetch",j.OfflineNoCache="OfflineNoCache",j.DiskCache="DiskCache",j.AppMetadataFetch="AppMetadataFetch",d;var j})(),m=(()=>{return(j=m||(m={})).Passed="Passed",j.Unknown="Unknown",j.LbrDone="LbrDone",j.Skipped="Skipped",j.DialogShown="DialogShown",m;var j})(),s=(()=>{return(j=s||(s={})).IO="IO",j.Network="Network",j.General="General",j.JSON="JSON",j.None="None",j.File="File",j.Optimization="Optimization",j.IPC="IPC",s;var j})(),r=(()=>{return(j=r||(r={})).Success="Success",j.Failure="Failure",r;var j})(),l=(()=>{return(j=l||(l={})).AutoResume="AutoResume",j.DeviceTransition="DeviceTransition",j.None="None",l;var j})(),i=(()=>{return(j=i||(i={})).GetFreestyleFeature="GetFreestyleFeature",j.SendUsabilityStudyResponse="SendUsabilityStudyResponse",j.GetDeeplinkSupport="GetDeeplinkSupport",j.GetCloudSearch="GetCloudSearch",j.GetSurveyFeature="GetSurveyFeature",j.GetLayoutRefreshInterval="GetLayoutRefreshInterval",j.GetUsabilityStudy="GetUsabilityStudy",j.GetIgoSupportOnBrowserClient="GetIgoSupportOnBrowserClient",j.GetECommerceFeature="GetECommerceFeature",j.GetKeyboardLayout="GetKeyboardLayout",j.GetAutohighlightFeature="GetAutohighlightFeature",j.GetStarfleetPhase1="GetStarfleetPhase1",j.GetStarfleetPhase2="GetStarfleetPhase2",j.GetQueueETAConfig="GetQueueETAConfig",j.GetUpsellMessage="GetUpsellMessage",j.GetAllCloudVariables="GetAllCloudVariables",j.GetBrowserClientCanary="GetBrowserClientCanary",j.GetReservedSKUEnabled="GetReservedSKUEnabled",j.GetReservedSKUIBetaFlag="GetReservedSKUIBetaFlag",j.GetAnselFeature="GetAnselFeature",j.GetGfnBroadcastFeature="GetGfnBroadcastFeature",j.GetKBLayoutsConfig="GetKBLayoutsConfig",j.GetClipboardPasteConfig="GetClipboardPasteConfig",j.GetPathToPurchaseConfig="GetPathToPurchaseConfig",j.GetEnableRemoteConfigOnGXT="GetEnableRemoteConfigOnGXT",j.GetPunctualUIConfig="GetPunctualUIConfig",j.GetGameOwnershipABConfig="GetGameOwnershipABConfig",j.GetEnableBrowserIGSS="GetEnableBrowserIGSS",j.Other="Other",i;var j})(),O=(()=>{return(j=O||(O={})).FingerprintChanged="FingerprintChanged",j.ZoneListEmpty="ZoneListEmpty",j.PolicyCheckFailed="PolicyCheckFailed",j.Manual="Manual",j.CachedZoneNotStored="CachedZoneNotStored",j.ServerInfoFailed="ServerInfoFailed",j.CachedZoneNotAvailable="CachedZoneNotAvailable",j.NewZonesAdded="NewZonesAdded",O;var j})(),B=(()=>{return(j=B||(B={})).App_Exit="App_Exit",j.Dialog_Closed="Dialog_Closed",j.Goto_Settings="Goto_Settings",j.Continue_Login="Continue_Login",j.Proceed_Connect="Proceed_Connect",B;var j})(),K=(()=>{return(j=K||(K={})).Release_Highlights="Release_Highlights",j.Account_Link_Required="Account_Link_Required",j.Account_Link_Expired="Account_Link_Expired",j.Account_Link_Expires_Today="Account_Link_Expires_Today",j.Account_Link_Expires_Soon="Account_Link_Expires_Soon",j.Scheduled_Maintenance_Warning="Scheduled_Maintenance_Warning",j.Unsupported_Browser_Or_Platform_Load="Unsupported_Browser_Or_Platform_Load",j.Unsupported_Browser_Or_Platform_Login="Unsupported_Browser_Or_Platform_Login",j.Unsupported_Browser_Or_Platform_Game_Launch="Unsupported_Browser_Or_Platform_Game_Launch",j.Unknown="Unknown",K;var j})(),b=(()=>{return(j=b||(b={})).NVB_PROFILE_ROAMING_720P_30FPS="NVB_PROFILE_ROAMING_720P_30FPS",j.NVB_PROFILE_GAMING_1080P_60FPS="NVB_PROFILE_GAMING_1080P_60FPS",j.NT_1280_800_60="NT_1280_800_60",j.NVB_PROFILE_PROFESSIONAL="NVB_PROFILE_PROFESSIONAL",j.NVB_PROFILE_GAMING_720P_30FPS="NVB_PROFILE_GAMING_720P_30FPS",j.NT_1920_1200_60="NT_1920_1200_60",j.NT_1920_1200_30="NT_1920_1200_30",j.NT_1366_768_30="NT_1366_768_30",j.NT_1366_768_60="NT_1366_768_60",j.NT_1680_1050_30="NT_1680_1050_30",j.NT_1280_800_30="NT_1280_800_30",j.NT_1440_900_30="NT_1440_900_30",j.NT_1680_1050_60="NT_1680_1050_60",j.NVB_PROFILE_GAMING="NVB_PROFILE_GAMING",j.NVB_PROFILE_ROAMING_720P_60FPS="NVB_PROFILE_ROAMING_720P_60FPS",j.NT_1440_900_60="NT_1440_900_60",j.NVB_PROFILE_GAMING_720P_60FPS="NVB_PROFILE_GAMING_720P_60FPS",j.NVB_PROFILE_GAMING_1080P_30FPS="NVB_PROFILE_GAMING_1080P_30FPS",j.NVB_PROFILE_DEFAULT="NVB_PROFILE_DEFAULT",b;var j})(),f=(()=>{return(j=f||(f={})).Nvidia_Access_Denied="Nvidia_Access_Denied",j.Unknown="Unknown",j.Rate_Limited="Rate_Limited",j.Platform_Access_Denied="Platform_Access_Denied",j.Platform_Profile_Denied="Platform_Profile_Denied",j.Success="Success",j.Sync_Failed="Sync_Failed",j.Sync_Denied="Sync_Denied",j.Profile_Not_Created="Profile_Not_Created",j.Sync_Success="Sync_Success",f;var j})(),D=(()=>{return(j=D||(D={})).DismissManual="DismissManual",j.Completed="Completed",j.Notify="Notify",j.DismissAppExit="DismissAppExit",j.DismissLogout="DismissLogout",j.DismissSleep="DismissSleep",j.DismissTimeout="DismissTimeout",j.Participate="Participate",j.DismissManualPostMinimize="DismissManualPostMinimize",j.NotifyPostMinimize="NotifyPostMinimize",j.ParticpatePostMinimize="ParticpatePostMinimize",j.Minimized="Minimized",j.Deferred="Deferred",D;var j})(),w=(()=>{return(j=w||(w={})).Dev="Dev",j.Release="Release",j.IBeta="IBeta",j.Autoplay="Autoplay",w;var j})(),_=(()=>{return(j=_||(_={})).Video="Video",j.Image="Image",_;var j})(),G=(()=>{return(j=G||(G={})).StreamingClient="StreamingClient",j.MallClient="MallClient",j.StoreLibrary="StoreLibrary",j.Unknown="Unknown",j.BackgroundAgent="BackgroundAgent",G;var j})(),F=(()=>{return(j=F||(F={})).UserConsented="UserConsented",j.NotShown="NotShown",j.UserDidNotConsent="UserDidNotConsent",F;var j})(),J=(()=>{return(j=J||(J={})).Adaptive="Adaptive",j.Off="Off",j.On="On",J;var j})(),k=(()=>{return(j=k||(k={})).UpdBufferTips="UpdBufferTips",j.PlatformSelection="PlatformSelection",j.PlatformChangeConsent="PlatformChangeConsent",j.Redeem="Redeem",j.ManualLogout="ManualLogout",j.StreamerBackNavigation="StreamerBackNavigation",j.Settings="Settings",j.NetworkTroubleshooting="NetworkTroubleshooting",j.AllGames="AllGames",j.JoinGfn="JoinGfn",j.AddGameToLibrary="AddGameToLibrary",j.ManageMembership="ManageMembership",j.ViewMembershipDetails="ViewMembershipDetails",j.MarketingMarquee="MarketingMarquee",j.ReleaseHighlights="ReleaseHighlights",j.ShareGame="ShareGame",j.LaunchGame="LaunchGame",j.AddGameShortcut="AddGameShortcut",j.MyLibrary="MyLibrary",j.ViewGameDetails="ViewGameDetails",j.UninstallGame="UninstallGame",j.AccountManagementSso="AccountManagementSso",j.Upgrade="Upgrade",j.InvokeSearch="InvokeSearch",j.AddBrowserShortcut="AddBrowserShortcut",j.AccountMenu="AccountMenu",j.OpenClientIME="OpenClientIME",j.OpenFeedbackDialog="OpenFeedbackDialog",j.OpenOnScreenKeyboard="OpenOnScreenKeyboard",j.CloseOnScreenKeyboard="CloseOnScreenKeyboard",j.PasteClipboardText="PasteClipboardText",j.ShowVirtualGamepad="ShowVirtualGamepad",j.ToggleMicrophone="ToggleMicrophone",j.ToggleNetworkWarnings="ToggleNetworkWarnings",j.QuitGame="QuitGame",j.LearnMoreAboutStreamingProfiles="LearnMoreAboutStreamingProfiles",j.SeeMore="SeeMore",j.FilterTile="FilterTile",j.PathToPurchase="PathToPurchase",j.PromoCTA="PromoCTA",k;var j})(),W=(()=>{return(j=W||(W={})).Keyboard="Keyboard",j.Gamepad="Gamepad",j.Mouse="Mouse",j.Touch="Touch",j.Unknown="Unknown",W;var j})(),N=(()=>{return(j=N||(N={})).Joystick="Joystick",j.Mouse="Mouse",j.Unknown="Unknown",j.Keyboard="Keyboard",j.GamePad="GamePad",N;var j})(),h=(()=>{return(j=h||(h={})).StreamerUsedFreeUpsell="StreamerUsedFreeUpsell",j.StreamerQueueUpsell="StreamerQueueUpsell",j.StreamerNoFreeUpsell="StreamerNoFreeUpsell",j.StreamerPostSessionFreeGaaSUpsell="StreamerPostSessionFreeGaaSUpsell",j.StreamerPostSessionUpsell="StreamerPostSessionUpsell",j.StreamerPostSessionAnonGaaSUpsell="StreamerPostSessionAnonGaaSUpsell",j.Standard="Standard",h;var j})(),E=(()=>{return(j=E||(E={})).Clicked="Clicked",j.Dismissed="Dismissed",E;var j})(),ee=(()=>{return(j=ee||(ee={})).UNDEFINED="UNDEFINED",j.TRUE="TRUE",j.FALSE="FALSE",ee;var j})(),q=(()=>{return(j=q||(q={})).AUTH_FAILED="AUTH_FAILED",j.SESSION_EXIST="SESSION_EXIST",j.RETRYABLE_POST_FAILURE="RETRYABLE_POST_FAILURE",j.BLOCK_STREAM="BLOCK_STREAM",j.WIFI_2_4="WIFI_2_4",j.INVALID_PARAM="INVALID_PARAM",j.TEST_IN_PROGRESS="TEST_IN_PROGRESS",j.POST_FAILED="POST_FAILED",j.NA="NA",j.FAILED="FAILED",j.INVALID_DATA="INVALID_DATA",j.CANCELED="CANCELED",j.SETUP_FAILED="SETUP_FAILED",j.PacketLoss="PacketLoss",j.UNKNOWN="UNKNOWN",j.SYN_FAILED="SYN_FAILED",j.FIN_FAILED="FIN_FAILED",j.CAPACITY_FULL="CAPACITY_FULL",q;var j})(),_e=(()=>{return(j=_e||(_e={})).Cancel="Cancel",j.Send="Send",_e;var j})(),U=(()=>{return(j=U||(U={})).Unknown="Unknown",j.Windows="Windows",j.Mac="Mac",j.Android="Android",j.Web="Web",U;var j})(),re=(()=>{return(j=re||(re={})).PlayGame="PlayGame",j.ViewGame="ViewGame",j.None="None",re;var j})(),pe=(()=>{return(j=pe||(pe={})).GetServerInformation="GetServerInformation",j.JARVIS_Get_User_Token="JARVIS_Get_User_Token",j.Image_Retrieval_Tile_Feature="Image_Retrieval_Tile_Feature",j.JARVIS_Set_Pin="JARVIS_Set_Pin",j.JARVIS_Redeem_Delegate_Token="JARVIS_Redeem_Delegate_Token",j.Append_Client_Data="Append_Client_Data",j.Get_Client_Settings="Get_Client_Settings",j.NES_Cancel_Subscription="NES_Cancel_Subscription",j.Get_Client_Data="Get_Client_Data",j.GetAppVariants="GetAppVariants",j.NES_Update_Subscription="NES_Update_Subscription",j.GetAppData="GetAppData",j.Layout_Get_Tile_Data="Layout_Get_Tile_Data",j.NES_Get_PlayTime="NES_Get_PlayTime",j.InitiateDownload="InitiateDownload",j.DR_Get_Product="DR_Get_Product",j.NES_Install="NES_Install",j.NES_Get_Subscriptions="NES_Get_Subscriptions",j.NES_Get_Products="NES_Get_Products",j.JARVIS_Chain_Session="JARVIS_Chain_Session",j.FCM_Checkin="FCM_Checkin",j.GetPrivacyPolicy="GetPrivacyPolicy",j.NES_Get_Credits="NES_Get_Credits",j.JARVIS_Get_Third_Party_Provider_Info="JARVIS_Get_Third_Party_Provider_Info",j.FCM_Subscribe="FCM_Subscribe",j.FCM_Unregister="FCM_Unregister",j.JARVIS_Request_Email_Verify="JARVIS_Request_Email_Verify",j.JARVIS_Verify_Pin="JARVIS_Verify_Pin",j.GetCloudVariable="GetCloudVariable",j.CheckForUpdate="CheckForUpdate",j.DR_Put_Cart="DR_Put_Cart",j.Get_Client_Token="Get_Client_Token",j.FCM_Unsubscribe="FCM_Unsubscribe",j.Streaming_GetFeedbackToken="Streaming_GetFeedbackToken",j.GetRemoteConfig="GetRemoteConfig",j.Get_Release_Highlights="Get_Release_Highlights",j.Get_User_Info="Get_User_Info",j.PrepareToDownload="PrepareToDownload",j.NES_Get_Resource="NES_Get_Resource",j.DR_Get_Payment="DR_Get_Payment",j.GetFeatureRollout="GetFeatureRollout",j.NES_Get_ServiceUrls="NES_Get_ServiceUrls",j.JARVIS_Get_Login_Token="JARVIS_Get_Login_Token",j.JARVIS_Get_Delegate_Token="JARVIS_Get_Delegate_Token",j.Set_Client_Data="Set_Client_Data",j.Layout_Get_Section="Layout_Get_Section",j.DR_Edit_Payment="DR_Edit_Payment",j.FeedbackHead="FeedbackHead",j.DR_Empty_Cart="DR_Empty_Cart",j.NES_Get_Apps="NES_Get_Apps",j.DR_Get_Orders="DR_Get_Orders",j.FCM_Register="FCM_Register",j.DR_Apply_Shopper="DR_Apply_Shopper",j.DR_Get_Token="DR_Get_Token",j.GetTermsAndConditions="GetTermsAndConditions",j.GetSurvey="GetSurvey",j.Layout_Get_Sections="Layout_Get_Sections",j.JARVIS_Get_Pin="JARVIS_Get_Pin",j.Get_Access_Token="Get_Access_Token",j.Delete_Client_Data="Delete_Client_Data",j.GetRatingsInfo="GetRatingsInfo",j.FeedbackAttachment="FeedbackAttachment",j.Image_Retrieval_Tile_Game="Image_Retrieval_Tile_Game",j.NES_Uninstall="NES_Uninstall",j.DR_Submit_Cart="DR_Submit_Cart",j.GetLayout="GetLayout",j.SendSurveyResponse="SendSurveyResponse",j.Feature_Tile_Image_Retrieval="Feature_Tile_Image_Retrieval",j.JARVIS_Get_Session_Token="JARVIS_Get_Session_Token",j.GetSpecificServerInformation="GetSpecificServerInformation",j.Layout_Manager_Data_Retrieval="Layout_Manager_Data_Retrieval",j.JARVIS_Get_User_Info="JARVIS_Get_User_Info",j.Streaming_GetJarvisDelegateToken="Streaming_GetJarvisDelegateToken",j.NES_Get_Product_Credits="NES_Get_Product_Credits",j.DR_Get_Cart="DR_Get_Cart",j.GetApps="GetApps",j.LinkAccount="LinkAccount",j.UnlinkAccount="UnlinkAccount",j.GetOAuthURL="GetOAuthURL",j.LibrarySync="LibrarySync",j.Other="Other",j.FetchJSFile="FetchJSFile",j.FetchLocaleJson="FetchLocaleJson",j.GetPanel="GetPanel",j.PNS_Registrations="PNS_Registrations",j.PNS_Unregister="PNS_Unregister",j.GetUserAccount="GetUserAccount",j.NES_GetClientStreamingQuality="NES_GetClientStreamingQuality",j.GetCampaigns="GetCampaigns",j.AcquireUser="AcquireUser",j.GetAcquisitionState="GetAcquisitionState",j.GetFilterGroupDefinitions="GetFilterGroupDefinitions",pe;var j})(),Pe=(()=>{return(j=Pe||(Pe={})).Unknown="Unknown",j.Connected="Connected",j.Disconnected="Disconnected",Pe;var j})(),Ze=(()=>{return(j=Ze||(Ze={})).Excellent="Excellent",j.Poor="Poor",j.Bad="Bad",j.Unknown="Unknown",Ze;var j})(),nt=(()=>{return(j=nt||(nt={})).SelfUpdateInstallAuto="SelfUpdateInstallAuto",j.SelfUpdateInstallManual="SelfUpdateInstallManual",j.CustomOfflinePage="CustomOfflinePage",j.LaunchUI="LaunchUI",j.FirstApplicationInstall="FirstApplicationInstall",j.LaunchPwaUI="LaunchPwaUI",j.ScheduledMaintenanceTimer="ScheduledMaintenanceTimer",j.SessionLengthTimer="SessionLengthTimer",nt;var j})(),Me=(()=>{return(j=Me||(Me={})).OobeAgreeAndContinue="OobeAgreeAndContinue",j.OobeTermsOfUseHyperlink="OobeTermsOfUseHyperlink",Me;var j})(),ze=(()=>{return(j=ze||(ze={})).No="No",j.Yes="Yes",j.None="None",ze;var j})(),le=(()=>{return(j=le||(le={})).GameNotFound="GameNotFound",j.BadRequest="BadRequest",j.Unknown="Unknown",j.ServerError="ServerError",j.ClipboardError="ClipboardError",j.Unauthorized="Unauthorized",j.PartnerAuthFailed="PartnerAuthFailed",j.ZoneNotFound="ZoneNotFound",j.RedirectURLNotAllowed="RedirectURLNotAllowed",j.None="None",le;var j})(),Le=(()=>{return(j=Le||(Le={})).AccountLinked="AccountLinked",j.Disconnect="Disconnect",j.ResyncAfterResolve="ResyncAfterResolve",j.ResyncAfterProfileCreate="ResyncAfterProfileCreate",j.Sync="Sync",j.Resync="Resync",j.ReconnectForOnboarding="ReconnectForOnboarding",j.Reconnect="Reconnect",j.ReconnectAfterSyncDenied="ReconnectAfterSyncDenied",j.ResyncAfterSyncFailed="ResyncAfterSyncFailed",Le;var j})(),Re=(()=>{return(j=Re||(Re={})).FingerprintChanged="FingerprintChanged",j.ClientUpdated="ClientUpdated",j.StreamerNetworkError="StreamerNetworkError",j.NetworkTestCancelled="NetworkTestCancelled",j.OverrideFlagSet="OverrideFlagSet",j.MaxDisplayRequired="MaxDisplayRequired",j.PolicyCheckFailed="PolicyCheckFailed",j.Manual="Manual",j.RedResult="RedResult",j.NetworkTestFailed="NetworkTestFailed",j.MaxSubscriptionProfileUpgraded="MaxSubscriptionProfileUpgraded",Re;var j})(),ve=(()=>{return(j=ve||(ve={})).Cancel="Cancel",j.Create="Create",j.Complete="Complete",j.Enter="Enter",ve;var j})(),xe=(()=>{return(j=xe||(xe={})).SolidState="SolidState",j.Unknown="Unknown",j.Rotational="Rotational",xe;var j})(),Ce=(()=>{return(j=Ce||(Ce={})).Streamer="Streamer",j.Gallery="Gallery",j.Layout_L0="Layout_L0",j.Settings="Settings",j.Layout_L1="Layout_L1",Ce;var j})(),ge=(()=>{return(j=ge||(ge={})).Add="Add",j.Delete="Delete",j.TrimNew="TrimNew",j.Play="Play",j.OpenLocation="OpenLocation",j.TrimReplace="TrimReplace",j.Preview="Preview",ge;var j})(),De=(()=>{return(j=De||(De={})).Other="Other",j.Ethernet="Ethernet",j.Unknown="Unknown",j.Wifi_2_4="Wifi_2_4",j.Wifi_5_0="Wifi_5_0",De;var j})(),ye=(()=>{return(j=ye||(ye={})).Manual="Manual",j.Automatic="Automatic",ye;var j})(),Oe=(()=>{return(j=Oe||(Oe={})).TabSwitch="TabSwitch",j.SessionEndPushNotification="SessionEndPushNotification",j.LocaleChange="LocaleChange",j.StreamerInstanceClosed="StreamerInstanceClosed",j.ClickRetry="ClickRetry",j.TwentyFourHourRefresh="TwentyFourHourRefresh",j.AppMetadataRefresh="AppMetadataRefresh",j.FocusGain="FocusGain",j.StreamerTerminated="StreamerTerminated",j.LoginStatusChange="LoginStatusChange",j.RemoveGame="RemoveGame",j.VpcIdRefresh="VpcIdRefresh",j.RemoveGameFailed="RemoveGameFailed",j.IntegrationChanged="IntegrationChanged",j.EcomStatusChanged="EcomStatusChanged",j.OnlineStatusChange="OnlineStatusChange",j.AppsListRefresh="AppsListRefresh",j.RefreshOnDataExpiry="RefreshOnDataExpiry",j.InitialFetch="InitialFetch",j.UserSKUChanged="UserSKUChanged",j.RefreshOnCampaignChange="RefreshOnCampaignChange",Oe;var j})(),ie=(()=>((ie||(ie={})).SystemInfo="SystemInfo",ie))(),lt=(()=>{return(j=lt||(lt={})).StreamerConnecting="StreamerConnecting",j.CancelledLoginCompleted="CancelledLoginCompleted",j.RagnarokLaunchError="RagnarokLaunchError",j.Success="Success",j.StreamerQueueUpsell="StreamerQueueUpsell",j.HTTPError="HTTPError",j.StreamerPostSessionFreeGaaSUpsell="StreamerPostSessionFreeGaaSUpsell",j.StreamerQueueApology="StreamerQueueApology",j.StreamerPostSessionUpsell="StreamerPostSessionUpsell",j.NesAuthFailed="NesAuthFailed",j.StreamerPostSessionAnonGaaSUpsell="StreamerPostSessionAnonGaaSUpsell",j.GeronimoLaunchError="GeronimoLaunchError",j.Failure="Failure",j.AppExit="AppExit",j.StreamerUsedFreeUpsell="StreamerUsedFreeUpsell",j.JarvisPinAuthFailed="JarvisPinAuthFailed",j.StreamerLoading="StreamerLoading",j.StreamerNoFreeUpsell="StreamerNoFreeUpsell",j.NesNotEntitled="NesNotEntitled",j.EmailNotVerified="EmailNotVerified",j.ServerError="ServerError",j.ECommercePaywallLaunchError="ECommercePaywallLaunchError",j.NetworkInfoError="NetworkInfoError",j.LoginFailed="LoginFailed",j.GeronimoNetworkTestError="GeronimoNetworkTestError",j.NetworkTestSdkError="NetworkTestSdkError",j.EmptyLibrary="EmptyLibrary",j.GetLayoutError="GetLayoutError",j.ClientError="ClientError",j.ClientOffline="ClientOffline",j.Other="Other",j.ServiceWorkerActivationOngoing="ServiceWorkerActivationOngoing",j.ServiceWorkerActivated="ServiceWorkerActivated",j.UALoginComplete="UALoginComplete",j.UALoginFailed="UALoginFailed",j.UALoginPending="UALoginPending",j.UALoginPendingTimedOut="UALoginPendingTimedOut",j.UALoginPendingSuccess="UALoginPendingSuccess",j.UALoginPendingFailure="UALoginPendingFailure",j.ServiceWorkerRegistrationFailed="ServiceWorkerRegistrationFailed",j.ServiceWorkerRegistrationSuccess="ServiceWorkerRegistrationSuccess",j.ServiceWorkerNotSupported="ServiceWorkerNotSupported",j.ServiceWorkerInstalled="ServiceWorkerInstalled",j.ServiceWorkerActivationError="ServiceWorkerActivationError",lt;var j})(),Et=(()=>{return(j=Et||(Et={})).DeleteUndo="DeleteUndo",j.Enter="Enter",j.FiltersCleared="FiltersCleared",j.TrimCancel="TrimCancel",j.Montage="Montage",j.Edit="Edit",Et;var j})(),dn=(()=>{return(j=dn||(dn={})).UpdateSuccess="UpdateSuccess",j.UpdateFailure="UpdateFailure",j.QueryFailure="QueryFailure",j.DownloadStarted="DownloadStarted",j.Query="Query",j.IPCReceived="IPCReceived",j.UpdateInitiated="UpdateInitiated",j.IPCSent="IPCSent",j.DownloadFailure="DownloadFailure",j.Error="Error",j.Optimization="Optimization",j.Downloaded="Downloaded",j.Cancelled="Cancelled",dn;var j})(),un=(()=>{return(j=un||(un={})).UGC="UGC",j.Game="Game",un;var j})(),Nt=(()=>{return(j=Nt||(Nt={})).ScreenOobeWelcome="ScreenOobeWelcome",j.ScreenToastMessage="ScreenToastMessage",j.ScreenMainToolbar="ScreenMainToolbar",j.ScreenMarquee="ScreenMarquee",j.ScreenAllGames="ScreenAllGames",j.ScreenAccountMenu="ScreenAccountMenu",j.ScreenSettings="ScreenSettings",j.ScreenAutoLogin="ScreenAutoLogin",j.ScreenMontage="ScreenMontage",j.ScreenEmailVerification="ScreenEmailVerification",j.ScreenPreview="ScreenPreview",j.ScreenGallery="ScreenGallery",j.ScreenStreamer="ScreenStreamer",j.ScreenMyLibrary="ScreenMyLibrary",j.ScreenJoinGfnDialog="ScreenJoinGfnDialog",j.ScreenGridView="ScreenGridView",j.ScreenEvidencePanel="ScreenEvidencePanel",j.ScreenMallHome="ScreenMallHome",j.ScreenPlatformSelectionDialog="ScreenPlatformSelectionDialog",j.ScreenSwitchProvider="ScreenSwitchProvider",Nt;var j})(),bn=(()=>{return(j=bn||(bn={})).Unknown="Unknown",j.Cancel="Cancel",j.Create="Create",j.Failure="Failure",bn;var j})(),pn=(()=>{return(j=pn||(pn={})).Unknown="Unknown",j.GeForceNOW="GeForceNOW",j.External="External",j.Deeplink="Deeplink",pn;var j})(),ut=(()=>{return(j=ut||(ut={})).Relevance="Relevance",j.AtoZ="AtoZ",j.ZtoA="ZtoA",ut;var j})(),gt=(()=>{return(j=gt||(gt={})).Search="Search",j.FilterTile="FilterTile",j.SeeAll="SeeAll",j.Deeplink="Deeplink",j.Marquee="Marquee",j.FilterPanelAddFilter="FilterPanelAddFilter",j.FilterPanelRemoveFilter="FilterPanelRemoveFilter",j.FilterChipRemoveFilter="FilterChipRemoveFilter",j.LibraryItemRemoved="LibraryItemRemoved",j.SortOrderChanged="SortOrderChanged",j.ClearAll="ClearAll",j.AppsRefresh="AppsRefresh",j.LibraryRefresh="LibraryRefresh",j.CampaignRefresh="CampaignRefresh",j.ManualRetry="ManualRetry",j.NextPage="NextPage",j.None="None",gt;var j})(),yt=(()=>{return(j=yt||(yt={})).TOKEN_REGISTRATION="TOKEN_REGISTRATION",j.DISPATCH_NOTIFICATION="DISPATCH_NOTIFICATION",j.DEVICE_REGISTRATION="DEVICE_REGISTRATION",j.CLIENT_SERVER_COMMUNICATION="CLIENT_SERVER_COMMUNICATION",j.SUBSCRIPTION="SUBSCRIPTION",j.PAYLOAD_DECRYPTION="PAYLOAD_DECRYPTION",j.GENERAL="GENERAL",yt;var j})(),Ut=(()=>{return(j=Ut||(Ut={})).Join="Join",j.Close="Close",j.Login="Login",Ut;var j})(),en=(()=>{return(j=en||(en={})).NNS="NNS",j.PNS="PNS",en;var j})(),_n=(()=>{return(j=_n||(_n={})).InstantReplay="InstantReplay",j.Highlight="Highlight",j.Manual="Manual",j.Montage="Montage",j.Screenshot="Screenshot",j.Normal="Normal",_n;var j})(),Vt=(()=>{return(j=Vt||(Vt={})).Video="Video",j.Audio="Audio",Vt;var j})(),cn=(()=>{return(j=cn||(cn={})).Success="Success",j.Failure="Failure",cn;var j})(),tn=(()=>{return(j=tn||(tn={})).EventNone="EventNone",j.EditBox="EditBox",tn;var j})(),Ct=(()=>{return(j=Ct||(Ct={})).SessionStart="SessionStart",j.SessionStop="SessionStop",j.SessionConsentDenied="SessionConsentDenied",Ct;var j})(),Tt=(()=>{return(j=Tt||(Tt={})).Success="Success",j.Failure="Failure",j.Unknown="Unknown",Tt;var j})();const Ye={CaptureEvent:{name:"CaptureEvent",gdprLevel:n.Functional},GalleryContentEvent:{name:"GalleryContentEvent",gdprLevel:n.Functional},ClientAudioError:{name:"ClientAudioError",gdprLevel:n.Technical},AnselFreestyleError:{name:"AnselFreestyleError",gdprLevel:n.Functional},HighlightsGameSetting:{name:"HighlightsGameSetting",gdprLevel:n.Functional},TextSearch:{name:"TextSearch",gdprLevel:n.Behavioral},Geronimo_Feature_Event:{name:"Geronimo_Feature_Event",gdprLevel:n.Functional},ProcessStarted:{name:"ProcessStarted",gdprLevel:n.Functional},MicrophoneSettingChange:{name:"MicrophoneSettingChange",gdprLevel:n.Functional},MicrophoneInitialized:{name:"MicrophoneInitialized",gdprLevel:n.Functional},CheckGFN:{name:"CheckGFN",gdprLevel:n.Functional},UIAction:{name:"UIAction",gdprLevel:n.Functional},QueueEtaUpgradeClicked:{name:"QueueEtaUpgradeClicked",gdprLevel:n.Functional},PopUpDialogClosed:{name:"PopUpDialogClosed",gdprLevel:n.Technical},NetworkTest_Exception_Event:{name:"NetworkTest_Exception_Event",gdprLevel:n.Technical},Game_Launch_Event:{name:"Game_Launch_Event",gdprLevel:n.Functional},LaunchProcess:{name:"LaunchProcess",gdprLevel:n.Functional},ClientImeOpenEvent:{name:"ClientImeOpenEvent",gdprLevel:n.Technical},OpenedIGO:{name:"OpenedIGO",gdprLevel:n.Functional},GalleryPlayedVideo:{name:"GalleryPlayedVideo",gdprLevel:n.Behavioral},AnselFreestyleFeatureDisabled:{name:"AnselFreestyleFeatureDisabled",gdprLevel:n.Technical},SettingSnapshot:{name:"SettingSnapshot",gdprLevel:n.Behavioral},Application_Install:{name:"Application_Install",gdprLevel:n.Functional},Ragnarok_Exception_Event:{name:"Ragnarok_Exception_Event",gdprLevel:n.Technical},QueueAbandoned:{name:"QueueAbandoned",gdprLevel:n.Functional},OwnershipSyncEvent:{name:"OwnershipSyncEvent",gdprLevel:n.Functional},PopUpDialogShown:{name:"PopUpDialogShown",gdprLevel:n.Functional},PushNotificationReceived:{name:"PushNotificationReceived",gdprLevel:n.Functional},UITransition:{name:"UITransition",gdprLevel:n.Behavioral},OOBE_Accept:{name:"OOBE_Accept",gdprLevel:n.Functional},RoutingStatus:{name:"RoutingStatus",gdprLevel:n.Functional},Geronimo_Stream_Exit_Event:{name:"Geronimo_Stream_Exit_Event",gdprLevel:n.Functional},Ragnarok_Sleep_Event:{name:"Ragnarok_Sleep_Event",gdprLevel:n.Technical},RagnarokGamepadEvent:{name:"RagnarokGamepadEvent",gdprLevel:n.Technical},CrashInfo:{name:"CrashInfo",gdprLevel:n.Functional},HTTPFailure:{name:"HTTPFailure",gdprLevel:n.Functional},AnselFreestyleSession:{name:"AnselFreestyleSession",gdprLevel:n.Functional},PushNotificationTokenRegistered:{name:"PushNotificationTokenRegistered",gdprLevel:n.Functional},AutoUpdate:{name:"AutoUpdate",gdprLevel:n.Functional},Ragnarok_Stream_Exit_Event:{name:"Ragnarok_Stream_Exit_Event",gdprLevel:n.Functional},Geronimo_SystemApi_Event:{name:"Geronimo_SystemApi_Event",gdprLevel:n.Functional},GeronimoGamepadEvent:{name:"GeronimoGamepadEvent",gdprLevel:n.Technical},ClientMetricEvent:{name:"ClientMetricEvent",gdprLevel:n.Functional},LayoutTelemetry:{name:"LayoutTelemetry",gdprLevel:n.Functional},BrowserClientCanary:{name:"BrowserClientCanary",gdprLevel:n.Functional},HTTPSuccess:{name:"HTTPSuccess",gdprLevel:n.Functional},SDKCallResult:{name:"SDKCallResult",gdprLevel:n.Functional},Drag:{name:"Drag",gdprLevel:n.Technical},HighlightsIndividualGameToggle:{name:"HighlightsIndividualGameToggle",gdprLevel:n.Behavioral},NetworkTest:{name:"NetworkTest",gdprLevel:n.Functional},GFNSession:{name:"GFNSession",gdprLevel:n.Functional},DeeplinkSource:{name:"DeeplinkSource",gdprLevel:n.Functional},HIDInfo:{name:"HIDInfo",gdprLevel:n.Functional},NvstDebug_Event:{name:"NvstDebug_Event",gdprLevel:n.Functional},SystemInfo:{name:"SystemInfo",gdprLevel:n.Functional},GameSearchFilterEvent:{name:"GameSearchFilterEvent",gdprLevel:n.Behavioral},GalleryOpenedFileLocation:{name:"GalleryOpenedFileLocation",gdprLevel:n.Behavioral},Click:{name:"Click",gdprLevel:n.Technical},AnselFreestyleFilters:{name:"AnselFreestyleFilters",gdprLevel:n.Functional},GalleryFilterUsed:{name:"GalleryFilterUsed",gdprLevel:n.Behavioral},Geronimo_Launch_Event:{name:"Geronimo_Launch_Event",gdprLevel:n.Functional},Nvst_RealTimeMetrics:{name:"Nvst_RealTimeMetrics",gdprLevel:n.Technical},UserSession:{name:"UserSession",gdprLevel:n.Functional},Geronimo_Connectivity_Event:{name:"Geronimo_Connectivity_Event",gdprLevel:n.Functional},NavigationPerformanceMetrics:{name:"NavigationPerformanceMetrics",gdprLevel:n.Technical},GalleryDeleteCountEvent:{name:"GalleryDeleteCountEvent",gdprLevel:n.Functional},MontageEvent:{name:"MontageEvent",gdprLevel:n.Functional},CreateHTTPServerError:{name:"CreateHTTPServerError",gdprLevel:n.Functional},Geronimo_Debug_Event:{name:"Geronimo_Debug_Event",gdprLevel:n.Technical},AnselScreenshotEvent:{name:"AnselScreenshotEvent",gdprLevel:n.Functional},Hit_Event:{name:"Hit_Event",gdprLevel:n.Functional},CloudSearch:{name:"CloudSearch",gdprLevel:n.Functional},AuthenticationProvider:{name:"AuthenticationProvider",gdprLevel:n.Functional},ExperienceControlInfo:{name:"ExperienceControlInfo",gdprLevel:n.Functional},PageLoadPerformanceMetrics:{name:"PageLoadPerformanceMetrics",gdprLevel:n.Technical},SettingState:{name:"SettingState",gdprLevel:n.Technical},DeeplinkShare:{name:"DeeplinkShare",gdprLevel:n.Functional},Game_Launch_Metrics:{name:"Game_Launch_Metrics",gdprLevel:n.Functional},NetworkTest_Http_Event:{name:"NetworkTest_Http_Event",gdprLevel:n.Functional},GalleryAction:{name:"GalleryAction",gdprLevel:n.Functional},GFNPCLogsInfo:{name:"GFNPCLogsInfo",gdprLevel:n.Functional},CTATileClickEvent:{name:"CTATileClickEvent",gdprLevel:n.Technical},StreamingProfile:{name:"StreamingProfile",gdprLevel:n.Technical},ClientAudioSkewedEvent:{name:"ClientAudioSkewedEvent",gdprLevel:n.Technical},Geronimo_Http_Event:{name:"Geronimo_Http_Event",gdprLevel:n.Functional},ClientImeInteractionEvent:{name:"ClientImeInteractionEvent",gdprLevel:n.Technical},StreamNowButtonClick:{name:"StreamNowButtonClick",gdprLevel:n.Functional},HighlightCapture:{name:"HighlightCapture",gdprLevel:n.Functional},GalleryFileRemoved:{name:"GalleryFileRemoved",gdprLevel:n.Behavioral},Ragnarok_Http_Event:{name:"Ragnarok_Http_Event",gdprLevel:n.Functional},GalleryFilterEvent:{name:"GalleryFilterEvent",gdprLevel:n.Functional},MontageAction:{name:"MontageAction",gdprLevel:n.Functional},UserSurvey:{name:"UserSurvey",gdprLevel:n.Functional},Ragnarok_Launch_Event:{name:"Ragnarok_Launch_Event",gdprLevel:n.Functional},PluginAPIStatus:{name:"PluginAPIStatus",gdprLevel:n.Technical},GPUInfo:{name:"GPUInfo",gdprLevel:n.Functional},GallerySortEvent:{name:"GallerySortEvent",gdprLevel:n.Functional},OverrideKeyboardLayout:{name:"OverrideKeyboardLayout",gdprLevel:n.Functional},Exception:{name:"Exception",gdprLevel:n.Functional},HighlightsCancelled:{name:"HighlightsCancelled",gdprLevel:n.Functional},Ragnarok_Debug_Event:{name:"Ragnarok_Debug_Event",gdprLevel:n.Technical},GalleryAccess:{name:"GalleryAccess",gdprLevel:n.Functional},PushNotificationError:{name:"PushNotificationError",gdprLevel:n.Functional},PushNotificationPurgedEntries:{name:"PushNotificationPurgedEntries",gdprLevel:n.Functional},FreestyleStylesApplied:{name:"FreestyleStylesApplied",gdprLevel:n.Functional},MediaPlay:{name:"MediaPlay",gdprLevel:n.Technical},StatsClosedEvent:{name:"StatsClosedEvent",gdprLevel:n.Functional},StatsViewChangedEvent:{name:"StatsViewChangedEvent",gdprLevel:n.Functional},GFNEventStatus:{name:"GFNEventStatus",gdprLevel:n.Functional},GameplayEntryEvent:{name:"GameplayEntryEvent",gdprLevel:n.Functional},StreamingQualityChangedEvent:{name:"StreamingQualityChangedEvent",gdprLevel:n.Functional},ResolutionUpscalingChangedEvent:{name:"ResolutionUpscalingChangedEvent",gdprLevel:n.Functional},WidgetViewChangedEvent:{name:"WidgetViewChangedEvent",gdprLevel:n.Functional},NotificationChangedEvent:{name:"NotificationChangedEvent",gdprLevel:n.Functional},PlaytesterSessionEvent:{name:"PlaytesterSessionEvent",gdprLevel:n.Functional},System_WifiInfo_Event:{name:"System_WifiInfo_Event",gdprLevel:n.Functional},ClipboardPasteEvent:{name:"ClipboardPasteEvent",gdprLevel:n.Functional},StorageUsageMetrics:{name:"StorageUsageMetrics",gdprLevel:n.Technical},LoginStart:{name:"LoginStart",gdprLevel:n.Functional},RemoteConfigInfo:{name:"RemoteConfigInfo",gdprLevel:n.Functional},GameCampaignsUpdate:{name:"GameCampaignsUpdate",gdprLevel:n.Functional},UDSDialogShown:{name:"UDSDialogShown",gdprLevel:n.Functional},UDSSuggestionFeedback:{name:"UDSSuggestionFeedback",gdprLevel:n.Functional}};class Je{constructor(tt){this.parameters=tt,this.ts=(new Date).toISOString()}}class he extends Je{constructor(tt){super(tt),this.name=Ye.GalleryContentEvent.name,this.gdprLevel=Ye.GalleryContentEvent.gdprLevel}}class jt extends Je{constructor(tt){super(tt),this.name=Ye.MicrophoneSettingChange.name,this.gdprLevel=Ye.MicrophoneSettingChange.gdprLevel}}class Qt extends Je{constructor(tt){super(tt),this.name=Ye.MicrophoneInitialized.name,this.gdprLevel=Ye.MicrophoneInitialized.gdprLevel}}class Zt extends Je{constructor(tt){super(tt),this.name=Ye.CheckGFN.name,this.gdprLevel=Ye.CheckGFN.gdprLevel}}class ln extends Je{constructor(tt){super(tt),this.name=Ye.UIAction.name,this.gdprLevel=Ye.UIAction.gdprLevel}}class Tn extends Je{constructor(tt){super(tt),this.name=Ye.QueueEtaUpgradeClicked.name,this.gdprLevel=Ye.QueueEtaUpgradeClicked.gdprLevel}}class wt extends Je{constructor(tt){super(tt),this.name=Ye.PopUpDialogClosed.name,this.gdprLevel=Ye.PopUpDialogClosed.gdprLevel}}class Dn extends Je{constructor(tt){super(tt),this.name=Ye.NetworkTest_Exception_Event.name,this.gdprLevel=Ye.NetworkTest_Exception_Event.gdprLevel}}class Bt extends Je{constructor(tt){super(tt),this.name=Ye.Game_Launch_Event.name,this.gdprLevel=Ye.Game_Launch_Event.gdprLevel}}class Pn extends Je{constructor(tt){super(tt),this.name=Ye.ClientImeOpenEvent.name,this.gdprLevel=Ye.ClientImeOpenEvent.gdprLevel}}class qn extends Je{constructor(tt){super(tt),this.name=Ye.Application_Install.name,this.gdprLevel=Ye.Application_Install.gdprLevel}}class Ln extends Je{constructor(tt){super(tt),this.name=Ye.QueueAbandoned.name,this.gdprLevel=Ye.QueueAbandoned.gdprLevel}}class Li extends Je{constructor(tt){super(tt),this.name=Ye.OwnershipSyncEvent.name,this.gdprLevel=Ye.OwnershipSyncEvent.gdprLevel}}class $e extends Je{constructor(tt){super(tt),this.name=Ye.PopUpDialogShown.name,this.gdprLevel=Ye.PopUpDialogShown.gdprLevel}}class bt extends Je{constructor(tt){super(tt),this.name=Ye.PushNotificationReceived.name,this.gdprLevel=Ye.PushNotificationReceived.gdprLevel}}class X extends Je{constructor(tt){super(tt),this.name=Ye.OOBE_Accept.name,this.gdprLevel=Ye.OOBE_Accept.gdprLevel}}class de extends Je{constructor(tt){super(tt),this.name=Ye.RoutingStatus.name,this.gdprLevel=Ye.RoutingStatus.gdprLevel}}class Pt extends Je{constructor(tt){super(tt),this.name=Ye.HTTPFailure.name,this.gdprLevel=Ye.HTTPFailure.gdprLevel}}class Mt extends Je{constructor(tt){super(tt),this.name=Ye.PushNotificationTokenRegistered.name,this.gdprLevel=Ye.PushNotificationTokenRegistered.gdprLevel}}class Be extends Je{constructor(tt){super(tt),this.name=Ye.AutoUpdate.name,this.gdprLevel=Ye.AutoUpdate.gdprLevel}}class mt extends Je{constructor(tt){super(tt),this.name=Ye.LayoutTelemetry.name,this.gdprLevel=Ye.LayoutTelemetry.gdprLevel}}class It extends Je{constructor(tt){super(tt),this.name=Ye.BrowserClientCanary.name,this.gdprLevel=Ye.BrowserClientCanary.gdprLevel}}class on extends Je{constructor(tt){super(tt),this.name=Ye.HTTPSuccess.name,this.gdprLevel=Ye.HTTPSuccess.gdprLevel}}class Sn extends Je{constructor(tt){super(tt),this.name=Ye.Drag.name,this.gdprLevel=Ye.Drag.gdprLevel}}class Qn extends Je{constructor(tt){super(tt),this.name=Ye.NetworkTest.name,this.gdprLevel=Ye.NetworkTest.gdprLevel}}class pi extends Je{constructor(tt){super(tt),this.name=Ye.DeeplinkSource.name,this.gdprLevel=Ye.DeeplinkSource.gdprLevel}}class Ri extends Je{constructor(tt){super(tt),this.name=Ye.HIDInfo.name,this.gdprLevel=Ye.HIDInfo.gdprLevel}}class ai extends Je{constructor(tt){super(tt),this.name=Ye.SystemInfo.name,this.gdprLevel=Ye.SystemInfo.gdprLevel}}class li extends Je{constructor(tt){super(tt),this.name=Ye.GameSearchFilterEvent.name,this.gdprLevel=Ye.GameSearchFilterEvent.gdprLevel}}class fn extends Je{constructor(tt){super(tt),this.name=Ye.Click.name,this.gdprLevel=Ye.Click.gdprLevel}}class Ki extends Je{constructor(tt){super(tt),this.name=Ye.UserSession.name,this.gdprLevel=Ye.UserSession.gdprLevel}}class wo extends Je{constructor(tt){super(tt),this.name=Ye.NavigationPerformanceMetrics.name,this.gdprLevel=Ye.NavigationPerformanceMetrics.gdprLevel}}class Ni extends Je{constructor(tt){super(tt),this.name=Ye.GalleryDeleteCountEvent.name,this.gdprLevel=Ye.GalleryDeleteCountEvent.gdprLevel}}class Ao extends Je{constructor(tt){super(tt),this.name=Ye.MontageEvent.name,this.gdprLevel=Ye.MontageEvent.gdprLevel}}class Do extends Je{constructor(tt){super(tt),this.name=Ye.CreateHTTPServerError.name,this.gdprLevel=Ye.CreateHTTPServerError.gdprLevel}}class No extends Je{constructor(tt){super(tt),this.name=Ye.Hit_Event.name,this.gdprLevel=Ye.Hit_Event.gdprLevel}}class Uo extends Je{constructor(tt){super(tt),this.name=Ye.AuthenticationProvider.name,this.gdprLevel=Ye.AuthenticationProvider.gdprLevel}}class An extends Je{constructor(tt){super(tt),this.name=Ye.PageLoadPerformanceMetrics.name,this.gdprLevel=Ye.PageLoadPerformanceMetrics.gdprLevel}}class dr extends Je{constructor(tt){super(tt),this.name=Ye.SettingState.name,this.gdprLevel=Ye.SettingState.gdprLevel}}class gr extends Je{constructor(tt){super(tt),this.name=Ye.DeeplinkShare.name,this.gdprLevel=Ye.DeeplinkShare.gdprLevel}}class Fo extends Je{constructor(tt){super(tt),this.name=Ye.Game_Launch_Metrics.name,this.gdprLevel=Ye.Game_Launch_Metrics.gdprLevel}}class Kt extends Je{constructor(tt){super(tt),this.name=Ye.NetworkTest_Http_Event.name,this.gdprLevel=Ye.NetworkTest_Http_Event.gdprLevel}}class Ci extends Je{constructor(tt){super(tt),this.name=Ye.GalleryAction.name,this.gdprLevel=Ye.GalleryAction.gdprLevel}}class co extends Je{constructor(tt){super(tt),this.name=Ye.CTATileClickEvent.name,this.gdprLevel=Ye.CTATileClickEvent.gdprLevel}}class go extends Je{constructor(tt){super(tt),this.name=Ye.StreamingProfile.name,this.gdprLevel=Ye.StreamingProfile.gdprLevel}}class Ui extends Je{constructor(tt){super(tt),this.name=Ye.ClientImeInteractionEvent.name,this.gdprLevel=Ye.ClientImeInteractionEvent.gdprLevel}}class hr extends Je{constructor(tt){super(tt),this.name=Ye.StreamNowButtonClick.name,this.gdprLevel=Ye.StreamNowButtonClick.gdprLevel}}class Pi extends Je{constructor(tt){super(tt),this.name=Ye.GalleryFilterEvent.name,this.gdprLevel=Ye.GalleryFilterEvent.gdprLevel}}class Go extends Je{constructor(tt){super(tt),this.name=Ye.MontageAction.name,this.gdprLevel=Ye.MontageAction.gdprLevel}}class mo extends Je{constructor(tt){super(tt),this.name=Ye.UserSurvey.name,this.gdprLevel=Ye.UserSurvey.gdprLevel}}class Bo extends Je{constructor(tt){super(tt),this.name=Ye.PluginAPIStatus.name,this.gdprLevel=Ye.PluginAPIStatus.gdprLevel}}class In extends Je{constructor(tt){super(tt),this.name=Ye.GPUInfo.name,this.gdprLevel=Ye.GPUInfo.gdprLevel}}class ci extends Je{constructor(tt){super(tt),this.name=Ye.GallerySortEvent.name,this.gdprLevel=Ye.GallerySortEvent.gdprLevel}}class fo extends Je{constructor(tt){super(tt),this.name=Ye.Exception.name,this.gdprLevel=Ye.Exception.gdprLevel}}class vo extends Je{constructor(tt){super(tt),this.name=Ye.Ragnarok_Debug_Event.name,this.gdprLevel=Ye.Ragnarok_Debug_Event.gdprLevel}}class Ho extends Je{constructor(tt){super(tt),this.name=Ye.PushNotificationError.name,this.gdprLevel=Ye.PushNotificationError.gdprLevel}}class Vo extends Je{constructor(tt){super(tt),this.name=Ye.PushNotificationPurgedEntries.name,this.gdprLevel=Ye.PushNotificationPurgedEntries.gdprLevel}}class Wo extends Je{constructor(tt){super(tt),this.name=Ye.MediaPlay.name,this.gdprLevel=Ye.MediaPlay.gdprLevel}}class fr extends Je{constructor(tt){super(tt),this.name=Ye.GFNEventStatus.name,this.gdprLevel=Ye.GFNEventStatus.gdprLevel}}class _o extends Je{constructor(tt){super(tt),this.name=Ye.PlaytesterSessionEvent.name,this.gdprLevel=Ye.PlaytesterSessionEvent.gdprLevel}}class Ko extends Je{constructor(tt){super(tt),this.name=Ye.ClipboardPasteEvent.name,this.gdprLevel=Ye.ClipboardPasteEvent.gdprLevel}}class ki extends Je{constructor(tt){super(tt),this.name=Ye.StorageUsageMetrics.name,this.gdprLevel=Ye.StorageUsageMetrics.gdprLevel}}class Wn extends Je{constructor(tt){super(tt),this.name=Ye.LoginStart.name,this.gdprLevel=Ye.LoginStart.gdprLevel}}class ti extends Je{constructor(tt){super(tt),this.name=Ye.RemoteConfigInfo.name,this.gdprLevel=Ye.RemoteConfigInfo.gdprLevel}}class ni extends Je{constructor(tt){super(tt),this.name=Ye.GameCampaignsUpdate.name,this.gdprLevel=Ye.GameCampaignsUpdate.gdprLevel}}class Vn extends Je{constructor(tt){super(tt),this.name=Ye.UDSDialogShown.name,this.gdprLevel=Ye.UDSDialogShown.gdprLevel}}class Co extends Je{constructor(tt){super(tt),this.name=Ye.UDSSuggestionFeedback.name,this.gdprLevel=Ye.UDSSuggestionFeedback.gdprLevel}}},23827:(Ge,ae,e)=>{"use strict";e.d(ae,{$4G:()=>n.$4G,AUc:()=>n.AUc,AVX:()=>n.AVX,Bbu:()=>n.Bbu,BhR:()=>n.BhR,CGJ:()=>n.CGJ,Cbx:()=>n.Cbx,DCd:()=>n.DCd,DL8:()=>n.DL8,DUy:()=>n.DUy,DYb:()=>n.DYb,DwO:()=>n.DwO,E5O:()=>n.E5O,F9b:()=>n.F9b,FRL:()=>t.FR,GVq:()=>n.GVq,GtW:()=>n.GtW,HGL:()=>n.HGL,H_T:()=>n.H_T,HyT:()=>n.HyT,ItH:()=>n.ItH,J2u:()=>n.J2u,LMI:()=>n.LMI,Mbw:()=>n.Mbw,MjV:()=>n.MjV,Mlh:()=>n.Mlh,MsO:()=>n.MsO,N3X:()=>n.N3X,NX4:()=>n.NX4,NlQ:()=>n.NlQ,NuE:()=>n.NuE,OD0:()=>t.OD,OR5:()=>n.OR5,OSH:()=>n.OSH,Ols:()=>n.Ols,PMS:()=>n.PMS,PoW:()=>n.PoW,PyH:()=>n.PyH,QqN:()=>n.QqN,QuF:()=>n.QuF,RRm:()=>n.RRm,Ran:()=>n.Ran,T44:()=>n.T44,TK_:()=>n.TK_,Tbl:()=>n.Tbl,U4l:()=>n.U4l,VHB:()=>n.VHB,VIQ:()=>n.VIQ,Vwu:()=>n.Vwu,W9g:()=>n.W9g,WLf:()=>n.WLf,Wb4:()=>n.Wb4,XHw:()=>n.XHw,XPX:()=>n.XPX,Xj5:()=>n.Xj5,XzU:()=>n.XzU,YXu:()=>n.YXu,Y_M:()=>n.Y_M,YbQ:()=>n.YbQ,Ydg:()=>n.Ydg,Yk9:()=>n.Yk9,YwJ:()=>n.YwJ,YyK:()=>n.YyK,ZEJ:()=>n.ZEJ,ZQU:()=>n.ZQU,_63:()=>n._63,_G:()=>n._G,_K5:()=>n._K5,_LZ:()=>n._LZ,_So:()=>t._S,_cC:()=>n._cC,aGN:()=>n.aGN,att:()=>n.att,bOD:()=>n.bOD,c8x:()=>n.c8x,cPW:()=>n.cPW,cYw:()=>n.cYw,cjj:()=>n.cjj,cym:()=>n.cym,eCT:()=>n.eCT,ef6:()=>n.ef6,f$p:()=>n.f$p,g7J:()=>n.g7J,hAb:()=>n.hAb,hMy:()=>n.hMy,iB_:()=>n.iB_,jzO:()=>n.jzO,kr1:()=>n.kr1,lzt:()=>n.lzt,nfD:()=>n.nfD,p3A:()=>n.p3A,pDK:()=>n.pDK,pjt:()=>n.pjt,qmX:()=>n.qmX,reR:()=>t.re,roz:()=>n.roz,ryx:()=>n.ryx,sNt:()=>n.sNt,sf3:()=>n.sf3,syg:()=>n.syg,tZp:()=>n.tZp,uEx:()=>n.uEx,v6v:()=>n.v6v,vlM:()=>n.vlM,wEN:()=>n.wEN,wU6:()=>x.w,wye:()=>n.wye,xNG:()=>n.xNG,xcx:()=>n.xcx,yOt:()=>n.yOt,zO5:()=>n.zO5,zZ4:()=>n.zZ4,zfT:()=>n.zfT,ztj:()=>n.ztj});var t=e(99085),n=e(48131),x=e(34764)},34764:(Ge,ae,e)=>{"use strict";e.d(ae,{w:()=>u});var t=e(59562),n=e(18406),x=e(39138),M=e(47504),L=e(42930),p=e(23815),P=e(33932),a=e(2629),o=e(89258),v=e(51325),y=e(71265),C=e(57441),A=e(57693),d=e(85566),S=e(64710),s=e(9357),r=e(99085),l=e(48131),i=e(22281),O=e(80155),Y=e(29733),T=e(33986),B=e(5937),K=e(41225),b=e(36970),f=e(39609),D=e(84658),I=e(91565),w=e(43508),_=e(66195),$=e(40479),G=e(16873),F=e(5193),J=e(30613);const z="gfnTelemetry",Z={cmsId:null,shortName:"",appLaunchMode:T.xl.Default,launchSource:l.zO5.Unknown,sdkClient:""},ue="telemetrySessionId";let u=(()=>{class k{constructor(N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te){this.loggingService=N,this.appConfig=H,this.sharedStorageService=h,this.telemetryService=E,this.systemInfoService=ee,this.ipcService=R,this.appConfigParams=q,this.gfnsdkService=ne,this.pwaService=_e,this.router=U,this.guestModeHelperService=re,this.deeplinkHelper=pe,this.inputModalityService=Pe,this.ngZone=Te,this.HIDInfo=void 0,this.clientType=l.BhR.Unknown,this.deviceIdSetSubject=new t.t(1),this.sendAppLaunchTelemetrySubject=new n.X(!1),this.streamerTelemetryConfig=Z,this.isBrowserClient=!1,this.isGpuEventSent=!1,this.lastClickInputSource=l.s8B.Unknown,this.clientVersion="",this.logger=this.loggingService.getLogger("telemetry-util.service"),this.setClientType((0,Y.wI)(this.router.url)?Y.lW.Streamer:Y.lW.Mall),this.isBrowserClient=S.ng.isBrowserPlatform()}init(N){this.clientVersion=N,this.initialize().subscribe(H=>{this.logger.info("Successfully generated and stored device id"),this.deviceIdSetSubject.next(),this.deviceIdSetSubject.complete()},H=>{this.logger.error("Error fetching deviceId: ",H)})}restoreTelemetrySessionId(){null!==window.sessionStorage.getItem(ue)&&(this.telemetryService.updateTelemetrySessionId(window.sessionStorage.getItem(ue)),window.sessionStorage.removeItem(ue))}saveTelmetrySessionIdOnLoginAndLogout(N){this.logger.info("Subscribing to Login initiated notification"),N.subscribe(H=>{this.logger.info("Received notification for ",H),window.sessionStorage.setItem(ue,this.telemetryService.telemetrySessionId),this.logger.info("Completed saving telemetrySessionId")})}initialize(){this.restoreTelemetrySessionId(),this.ngZone.runOutsideAngular(()=>{this.inputModalityService.inputModalityChanged$.subscribe(H=>{switch(H){case K.q.Keyboard:this.lastClickInputSource=l.s8B.Keyboard;break;case K.q.Gamepad:this.lastClickInputSource=l.s8B.Gamepad;break;case K.q.Mouse:this.lastClickInputSource=l.s8B.Mouse;break;case K.q.Touch:this.lastClickInputSource=l.s8B.Touch}})});const N=this.systemInfoService.getSystemInfo();return(0,x.$R)(this.systemInfoService.getDeviceOSType(),N).pipe((0,P.zg)(([H,h])=>{const E={deviceOS:H,clientType:this.isBrowserClient?r.gx.Browser:r.gx.Native,clientVer:this.clientVersion,systemInfo:h,integrationId:this.getIntegrationId(),productName:this.appConfig.jsEvents.productName,productVersion:(0,b.s)(this.appConfig)};return this.initCommonData(E)}))}initCommonData(N){const H=N.systemInfo;return this.telemetryService.setEventsCommonData({clientVer:N.clientVer,deviceId:H.DeviceId,platform:this.getCommonPlatformType(H.Platform),clientType:N.clientType,clientVariant:this.getCommonClientVariant(this.appConfig.build.variant),deviceOS:N.deviceOS,deviceOSVersion:H.OSVersion,deviceMake:H.VendorName||S.kQ,deviceModel:H.SystemName||S.kQ,deviceType:H.DeviceType||S.kQ,integrationId:N.integrationId,browserType:H.BrowserName,productName:N.productName||S.kQ,productVersion:N.productVersion||S.kQ},!1),this.sharedStorageService.readBlock(z).pipe((0,P.zg)(h=>(h.clientVersion=this.appConfig.build.version,h.deviceId=H.DeviceId,this.sharedStorageService.writeBlock(z,h))))}setTelemetryConfig(N){this.streamerTelemetryConfig=null!=N?N:Z,this.sendSystemInfoTelemetry()}getIntegrationId(){let N=S.kQ;const H=this.deeplinkHelper.getUpdatedPartnerId((0,Y.cj)(B.uE.PartnerId));return(this.guestModeHelperService.isGuestMode||this.deeplinkHelper.isSpecialAffiliatePartner(H))&&(N=H||S.kQ),N}getPlatformType(N){switch(N){case"Mac":return l.zhv.Mac;case"Windows":return l.zhv.Windows;case"Android":case"Shield":return l.zhv.Android;default:return l.zhv.Unknown}}getCommonClientVariant(N){switch(N){case"ibeta":return r.ve.iBeta;case"release":return r.ve.Release;default:return r.ve.Undefined}}getCommonPlatformType(N){return S.ng.isBrowserPlatform()?l.zhv.Web:"Windows"===N?"Win":N}getProductName(){return this.appConfig.jsEvents.productName}getProductVersion(){return this.appConfig.build.version}getDisplayDetails(N){const H=[];for(let h=0;h<r.Iv.MaxDisplay;h++){const E={physicalRes:N&&N[h]&&N[h].PhysicalResolution||"",logicalRes:N&&N[h]&&N[h].LogicalResolution||"",refreshRate:N&&N[h]&&parseInt(N[h].RefreshRate,10)||0,displayNumber:h};H.push(E)}return H}getGpuDetails(N){const H=[];for(let h=0;h<r.Iv.MaxGpu;h++){const E={gpuLongName:"",gpuVDSR:""};E.gpuLongName=N&&N[h]&&N[h].LongGPUName||"",E.gpuVDSR=N&&N[h]&&N[h].VDSR||"",H.push(E)}return H}getApiStatus(N){return"Success"===N?l.ee7.Success:l.ee7.Failure}getPluginName(N){if("SystemInfo"===N)return l.p7_.SystemInfo}getDiskMediumType(N){switch(N){case"SolidState":return l.u_Q.SolidState;case"Rotational":return l.u_Q.Rotational;default:return l.u_Q.Unknown}}getClientVariantType(N){switch(N){case"ibeta":return l.WUy.IBeta;case"release":return l.WUy.Release;case"autoplay":return l.WUy.Autoplay;default:return l.WUy.Dev}}getDiskInfo(N){const H=[];for(let h=0;h<r.Iv.MaxDisk;h++){const E={FreeSpace:0,MediumType:"",TotalSize:0};E.FreeSpace=N&&N[h]&&N[h].FreeSpace&&parseInt(N[h].FreeSpace,10)||0,E.MediumType=N&&N[h]&&this.getDiskMediumType(N[h].MediumType)||l.u_Q.Unknown,E.TotalSize=N&&N[h]&&N[h].TotalSize&&parseInt(N[h].TotalSize,10)||0,H.push(E)}return H}getInputDeviceInfo(N,H){let h;switch(N){case l.SzM.Keyboard:h=H.Keyboard;break;case l.SzM.Mouse:h=H.Mouse;break;case l.SzM.GamePad:h=H.GamePad;break;case l.SzM.Joystick:h=H.Joystick}return h}getNetworkType(N){let H;switch(N){case S.VV.WiFi5_0:H=l.RRm.Wifi_5_0;break;case S.VV.WiFi2_4:H=l.RRm.Wifi_2_4;break;case S.VV.Ethernet:H=l.RRm.Ethernet;break;case S.VV.Other:H=l.RRm.Other;break;default:H=l.RRm.Unknown}return H}setClientType(N){this.clientType=N===Y.lW.Mall?l.BhR.MallClient:N===Y.lW.Streamer?l.BhR.StreamingClient:l.BhR.Unknown}getClientType(){return this.clientType}parseAndSendInputDeviceTelemetry(N,H){for(let h=0;h<r.Iv.MaxInputDevicePerType;h++)if(!(0,d.isUndefined)(H[h])){const E={clientType:this.getClientType(),inputDevice:l.SzM[N],manufacturer:H[h].manufacturer,versionNumber:H[h].versionNumber,productID:H[h].productID,reportIntervalMicroSeconds:isNaN(parseInt(H[h].reportIntervalUs,10))?0:parseInt(H[h].reportIntervalUs,10),transport:H[h].transport,vendorID:H[h].vendorID},ee=new l.MF$(E);this.telemetryService.push(ee)}}sendHIDTelemetry(){if((0,d.isUndefined)(this.HIDInfo))this.logger.info("HID info is undefined");else for(const N in l.SzM)if(this.HIDInfo.hasOwnProperty(l.SzM[N])){const H=this.getInputDeviceInfo(l.SzM[N],this.HIDInfo);this.parseAndSendInputDeviceTelemetry(l.SzM[N],H)}}sendGpuInfoTelemetry(N){let H;if(N?H={gpuProduct:N.GpuProduct||"",gpuRevision:N.GpuRevision||"",gpuBuildNumHi:N.GpuBuildNumHi||"",gpuBuildNumLo:N.GpuBuildNumLo||"",gpuDriverName:N.GpuDriverName||"",gpuDetails:this.getGpuDetails(N.GPU)}:this.logger.error("No GPU Information available"),(0,d.isUndefined)(H))this.logger.info("GpuInfo event is undefined");else{const h=new l.XBX(H);this.telemetryService.push(h),this.isGpuEventSent=!0}}sendApiStatusTelemetry(N){let H;if(N?H={apiName:N.ApiName||"",subApiName:N.SubApiName||"",errorMessage:N.ErrorMessage||"",pluginName:this.getPluginName(N.PluginName),status:this.getApiStatus(N.ApiStatus)}:this.logger.error("No System Information"),(0,d.isUndefined)(H)||this.getPluginName(N.PluginName)!==l.p7_.SystemInfo)this.logger.info("API status info is undefined");else{const h=new l.O9g(H);this.telemetryService.push(h)}}prepareSystemInfoTelemetryObject(N,H,h){let ee,R=[];return this.sendApiStatusTelemetry(N),this.isGpuEventSent||this.sendGpuInfoTelemetry(N),N?(R=this.getDiskInfo(N.Disk),N.Display=N.Display.slice(0,3),N.GPU=N.GPU.slice(0,2),this.HIDInfo=N.HID,ee={vendorName:N.VendorName||"",systemName:N.SystemName||"",userDefaultUILanguage:N.UserDefaultUILanguage||"",osName:N.OSName||"",osVersion:N.OSVersion||"",physicalMemoryCapacity:parseInt(N.PhysicalMemoryCapacity,10)||0,processorArchitecture:N.ProcessorArchitecture||"",cpuName:N.CPUName||"",networkType:N.Network&&N.Network.NetworkType?this.getNetworkType(N.Network.NetworkType):l.RRm.Unknown,gpuCount:N.GPU.length||0,gpu0LongName:N.GPU&&N.GPU[0]&&N.GPU[0].LongGPUName||"",gpu1LongName:N.GPU&&N.GPU[1]&&N.GPU[1].LongGPUName||"",diskCount:N.Disk.length||0,disk0FreeSpace:R[0].FreeSpace||0,disk0MediumType:R[0].MediumType||l.u_Q.Unknown,disk0TotalSize:R[0].TotalSize||0,disk1FreeSpace:R[1].FreeSpace||0,disk1MediumType:R[1].MediumType||l.u_Q.Unknown,disk1TotalSize:R[1].TotalSize||0,disk2FreeSpace:R[2].FreeSpace||0,disk2MediumType:R[2].MediumType||l.u_Q.Unknown,disk2TotalSize:R[2].TotalSize||0,displayCount:N.Display.length||0,displayDetails:this.getDisplayDetails(N.Display),routerMacAddress:N.Network&&N.Network.RouterMACAddress?N.Network.RouterMACAddress.substring(0,8).toUpperCase():"Unknown",platform:this.getPlatformType(N.Platform)||l.zhv.Unknown,clientVariant:this.getClientVariantType(this.appConfig.build.variant),launchSource:this.getLaunchSource(),userAgent:N.BrowserName+" "+N.BrowserVersion||S.kQ,dxVersion:h||"",browserName:N.BrowserName||S.kQ,browserVersion:N.BrowserVersion||S.kQ,confidenceInBrowser:S.ng.isNativeLikePlatform()?99:N.ConfidenceInBrowser,isBrowserForged:S.ng.isCefPlatform()?l.wye.UNDEFINED:N.IsBrowserForged?l.wye.TRUE:l.wye.FALSE,systemInfoGuid:H,clientUrl:this.isBrowserClient?window.location.host+window.location.pathname:""}):this.logger.error("No System Information"),ee}getSystemInformationForTelemetry(){return(0,M.aj)([this.systemInfoService.getSystemInfo(),this.systemInfoService.getSystemInfoGuid(),this.systemInfoService.getDxVersion()]).pipe((0,a.q)(1),(0,o.U)(([N,H,h])=>this.prepareSystemInfoTelemetryObject(N,H,h)))}getLaunchSource(){return this.gfnsdkService.isThisAGFNSDKSession()&&!this.guestModeHelperService.isGuestMode?this.streamerTelemetryConfig.sdkClient||"Unknown":this.streamerTelemetryConfig.launchSource===l.zO5.External?"External":this.streamerTelemetryConfig.launchSource===l.zO5.GeForceNOW?"Mall":this.streamerTelemetryConfig.launchSource===l.zO5.Deeplink?"Deeplink":"Unknown"}sendLaunchUiTelemetry(){const N=new l._63({clientType:this.getClientType(),type:l.AUc.LaunchUI});this.telemetryService.push(N)}sendSystemInfoTelemetry(){this.sharedSystemInfoSub||(this.sharedSystemInfoSub=(0,L.H)(this.appConfig.jsEvents.systemInfoEventDelay).pipe((0,P.zg)(()=>this.getSystemInformationForTelemetry()),(0,v.K)(N=>(this.logger.error("Error when getting system info: ",N),(0,p.of)(null))),(0,y.b)(N=>{if((0,d.isUndefined)(N))this.logger.error("No system information found for telemetry");else{const H=new l.AGB(N);this.telemetryService.push(H),this.sendHIDTelemetry()}}),(0,C.B)())),this.sharedSystemInfoSub.subscribe()}sendSDKTelemetry(){this.gfnsdkService.getTelemetryData().subscribe(N=>{this.logger.info("Parsing sdk client events for ",N.platformName),this.logger.info(`Sending ${N.checkGFNItems.length} CheckGFN events`),this.logger.info(`Sending ${N.streamNowButtonClickItems.length} StreamNowButtonClick events`);for(const H of N.checkGFNItems)this.telemetryService.push(new l.vkU({status:H.status,timeTaken:H.timeTaken,gfnSDKVersion:H.version,gfnDLLVersion:H.dllVersion,originalTimestamp:H.originalTimestamp,originalSource:N.platformName||"Unspecified",originalCmsId:H.originalCmsId,originalShortname:H.originalShortname,originalAuthMethod:H.originalAuthMethod}));for(const H of N.streamNowButtonClickItems)this.logger.info("StreamNowButtonClick event found",this.streamerTelemetryConfig),this.telemetryService.push(new l.ig$({status:H.status,timeTaken:H.timeTaken,gfnSDKVersion:H.version,cmsId:""+this.streamerTelemetryConfig.cmsId,gameShortName:this.streamerTelemetryConfig.shortName||"",gfnDLLVersion:H.dllVersion,originalTimestamp:H.originalTimestamp,originalSource:N.platformName||"Unspecified",originalCmsId:H.originalCmsId,originalShortname:H.originalShortname,originalAuthMethod:H.originalAuthMethod,timeRemaining:H.timeRemaining,hasPartnerData:H.hasPartnerData?l.PoW.Yes:l.PoW.No,hasPartnerSecureData:H.hasPartnerSecureData?l.PoW.Yes:l.PoW.No}));this.gfnsdkService.clearTelemetryData(N)})}sendPwaTelemetry(){this.pwaService.onPWAModeChange.pipe((0,a.q)(1),(0,y.b)(N=>{if(N){this.logger.info("Sending PWA launch event");const H=new l._63({clientType:this.getClientType(),type:l.AUc.LaunchPwaUI});this.telemetryService.push(H)}})).subscribe()}sendOfflineLaunchTelemetry(){this.pwaService.checkForOfflineLaunch().subscribe(N=>{if(N){this.logger.info("Sending Offline Launch Event");const H=new l._63({clientType:this.getClientType(),type:l.AUc.CustomOfflinePage});this.telemetryService.push(H)}else this.logger.info("No offline data present")})}sendStorageUsageEvent(){if(!this.isBrowserClient)return;const N=navigator.storage;null!=N&&N.estimate?N.estimate().then(H=>{var h,E,ee,R,q,ne,_e,U;this.logger.info("Sending storage usage metrics");const re=new l.uXL({totalQuota:null!==(h=H.quota)&&void 0!==h?h:0,totalUsage:null!==(E=H.usage)&&void 0!==E?E:0,cacheUsage:null!==(R=null===(ee=H.usageDetails)||void 0===ee?void 0:ee.caches)&&void 0!==R?R:0,indexedDBUsage:null!==(ne=null===(q=H.usageDetails)||void 0===q?void 0:q.indexedDB)&&void 0!==ne?ne:0,serviceWorkerRegistrationsUsage:null!==(U=null===(_e=H.usageDetails)||void 0===_e?void 0:_e.serviceWorkerRegistrations)&&void 0!==U?U:0});this.telemetryService.push(re)}).catch(H=>{this.logger.error("Failed to obtain storage estimate:",H)}):this.logger.info("StorageManager#estimate is not supported. Skipping sending storage metrics")}sendLaunchTimeTelemetry(){this.deviceIdSetSubject.subscribe(()=>{const N=this.telemetryService.getLaunchUiEventSent();N||(this.sendLaunchUiTelemetry(),this.sendSystemInfoTelemetry(),this.sendSDKTelemetry(),this.sendPwaTelemetry(),this.sendOfflineLaunchTelemetry(),this.sendStorageUsageEvent(),this.telemetryService.setLaunchUiEventSent(!0)),this.sendAppLaunchTelemetrySubject.next(!N)})}getAppLaunchTelemetryObservable(){return this.sendAppLaunchTelemetrySubject.asObservable()}getPlatform(){return this.systemInfoService.getOsInformation().pipe((0,o.U)(N=>this.getPlatformType(N.Platform)),(0,A.d)(1))}getClientVariant(){return this.getClientVariantType(this.appConfig.build.variant)}sendLoginTelemetry(N,H,h,E){const ee=new l.$4G({clientType:this.getClientType(),currentScreen:h,userAction:H,status:N?l.N3X.Success:l.N3X.LoginFailed,errorDetails:N.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(ee,E)}triggerExceptionInfoUpload(N){N.logsFeedbackId=this.telemetryService.telemetrySessionId;const H={type:i.oI.UploadExceptionInfo,content:JSON.stringify(N),sender:this.getClientType()===l.BhR.MallClient?i.vS.GfnMall:i.vS.GfnStreamer,recipient:i.vS.GfnUpdater};this.logger.info("Sending IPC message:",H),this.ipcService.pushMessage(H).subscribe(h=>this.logger.info("Exception info upload triggered: ",h),h=>this.logger.error("Error triggering exception info upload: ",h))}getXRequestIdForHttpEvent(N){let H="";return N&&N.config&&N.config.headers&&N.config.headers["x-request-id"]&&(H=N.config.headers["x-request-id"]),H}sendUiActionEvent(N,H){const h=new l.Hj8({actionTaken:N,uiVariant:H});this.telemetryService.push(h)}sendJoinTodayAlertDialogUiAction(N){let H;switch(N){case T.V_.Close:H=l.VHB.Close;break;case T.V_.Join:H=l.VHB.Join;break;case T.V_.Login:H=l.VHB.Login}H&&this.sendUiActionEvent(H,l.c8x.Standard)}getJoinTodayAlertDialogHierarchy(N,H){let h;switch(N){case l.CGJ.ScreenEvidencePanel:h=H;break;case l.CGJ.ScreenMarquee:h=`${l.CGJ.ScreenMallHome}`;break;default:h=""}return h&&(h=`${h}/${N}`),h}sendUserSessionEvent(N,H,h,E,ee){const R=ee||this.telemetryService.getScreen(),q=new l.$4G({currentScreen:R,clientType:this.clientType,userAction:N,status:H,errorDetails:(0,O.KF)(E,s.YM),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(q,h)}sendClickEvent(N,H,h,E=!1,ee="",R){const q=E?`${this.telemetryService.getScreen()}/${h}`:h,ne=new l.gZv({itemType:N,itemLabel:H,hierarchy:q||"",inputSource:this.lastClickInputSource,gameCampaignId:null!=ee?ee:""});this.telemetryService.push(ne,null,R)}sendDragEvent(N,H,h,E=!1){const ee=E?`${this.telemetryService.getScreen()}/${h}`:h,R=new l.r_X({itemType:N,itemLabel:H,hierarchy:ee||""});this.telemetryService.push(R)}sendPageLoadPerfEvent(N,{viewDataLoadDuration:H=0,sectionNames:h=["","","","",""],sectionDataLoadDurations:E=[0,0,0,0,0],sectionTotalLoadDurations:ee=[0,0,0,0,0],imageLoadDuration:R=-1,imageCount:q=-1,imageTransferSize:ne=-1,usedJsHeapSize:_e=-1}){const U=new l.nLL({viewName:N,viewDataLoadDuration:Math.round(H),sectionOneName:h[0],sectionOneDataLoadDuration:Math.round(E[0]),sectionOneTotalLoadDuration:Math.round(ee[0]),sectionTwoName:h[1],sectionTwoDataLoadDuration:Math.round(E[1]),sectionTwoTotalLoadDuration:Math.round(ee[1]),sectionThreeName:h[2],sectionThreeDataLoadDuration:Math.round(E[2]),sectionThreeTotalLoadDuration:Math.round(ee[2]),sectionFourName:h[3],sectionFourDataLoadDuration:Math.round(E[3]),sectionFourTotalLoadDuration:Math.round(ee[3]),sectionFiveName:h[4],sectionFiveDataLoadDuration:Math.round(E[4]),sectionFiveTotalLoadDuration:Math.round(ee[4]),totalViewLoadDuration:Math.round(ee[4]),imageLoadDuration:Math.round(R),imageCount:Math.round(q),imageTransferSize:Math.round(ne),usedJsHeapSize:Math.round(_e)});this.telemetryService.push(U)}sendNavigationPerfEvent(){const N=window.performance.timing,H=new l.zDK({domainLookupDuration:N.domainLookupEnd-N.domainLookupStart,connectDuration:N.connectEnd-N.connectStart,requestResponseDuration:N.responseEnd-N.requestStart,responseDuration:N.responseEnd-N.responseStart,timeToFirstByte:N.responseStart-N.requestStart,pageRenderDuration:N.domComplete-N.domLoading,pageLoadDuration:N.loadEventEnd-N.fetchStart,redirectDuration:N.redirectEnd-N.redirectStart});this.telemetryService.push(H)}sendDeeplinkShareEvent(N,H,h=l.cYw.None,E=""){const ee=new l.tyl({queryParamsString:N,shareType:H,serviceName:E,error:h});this.telemetryService.push(ee)}sendDeeplinkSourceEvent(N,H){const h=new l.yVM(N);this.telemetryService.push(h,void 0,H)}sendPopUpDialogShownEvent(N){const H=new l.Tn7({name:N});this.telemetryService.push(H)}sendPopUpDialogClosedEvent(N,H,h=0,E=0,ee=l.wye.FALSE){const R=new l._js({name:N,exitTriggerPoint:H,totalMs:h,inWindowClicks:E,scrolled:ee});this.telemetryService.push(R)}sendClipboardPasteEvent(N){const H=new l.GbY({clientClipboardRead:N.clientClipboardRead,clipboardDataSent:N.clipboardDataSent,clipboardDataLength:N.clipboardDataLength,streamSessionId:N.streamSessionId||"",streamSubSessionId:N.streamSubSessionId||"",requestId:N.requestId||""});this.telemetryService.push(H)}sendPlaytesterSessionEvent(N,H,h,E,ee,R,q,ne,_e,U,re,pe){const Pe=new l.HUU({userAction:N,status:H,sessionId:null!=h?h:"",streamSessionId:null!=E?E:"",gameDeveloperName:null!=ee?ee:"",gameName:null!=R?R:"",gameBuildNumber:null!=q?q:"",cmsId:null!=ne?ne:"",webcamName:null!=_e?_e:"",microphoneName:null!=U?U:"",microphoneTested:null!=re?re:l.PoW.No,errorInfo:null!=pe?pe:""});return this.telemetryService.pushWithPromise(Pe,null,{immediateRequest:!0})}}return k.\u0275fac=function(N){return new(N||k)(f.LFG(S.ed),f.LFG(D.V),f.LFG(I.OA),f.LFG(s.y0),f.LFG(S.Ob),f.LFG(i.uC),f.LFG(w._c),f.LFG(_.s),f.LFG($.nG),f.LFG(G.F0),f.LFG(F.h),f.LFG(J.g),f.LFG(K.b),f.LFG(f.R0b))},k.\u0275prov=f.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},14708:(Ge,ae,e)=>{"use strict";e.d(ae,{A:()=>x,b:()=>M});var t=e(85566),x=(()=>{return(L=x||(x={}))[L.Greater=0]="Greater",L[L.Lesser=1]="Lesser",L[L.Equal=2]="Equal",x;var L})();class M{constructor(p,P="."){if(this.versionStr=p,this.delimiter=P,(0,t.isNil)(p)||0===p.length)throw new Error("invalid version string: "+p);this.versionComponents=[];const a=p.split(P);for(const o of a)this.versionComponents.push(+o)}static getPaddedFourOctetVersion(p,P="."){if(!p)return p;const a=p.split(P);for(let v=0;v<4-a.length;v++)a.push("0");return a.reduce((v,y)=>`${v}.${y}`)}compare(p){const P=Math.min(this.versionComponents.length,p.versionComponents.length);for(let a=0;a<P;a++)if(this.versionComponents[a]!==p.versionComponents[a])return this.versionComponents[a]>p.versionComponents[a]?x.Lesser:x.Greater;return this.versionComponents.length>p.versionComponents.length?x.Lesser:this.versionComponents.length<p.versionComponents.length?x.Greater:x.Equal}compareMajorVersion(p){const P=Math.min(this.versionComponents.length,p.versionComponents.length);for(let a=0;a<P-1;a++)if(this.versionComponents[a]!==p.versionComponents[a])return this.versionComponents[a]>p.versionComponents[a]?x.Lesser:x.Greater;return this.versionComponents.length>p.versionComponents.length?x.Lesser:this.versionComponents.length<p.versionComponents.length?x.Greater:x.Equal}toString(){return this.versionStr}}},47204:(Ge,ae,e)=>{"use strict";e.d(ae,{Z:()=>B});var t=e(85566),n=e(59562),x=e(45661),M=e(47504),L=e(53809),p=e(23815),P=e(86283),a=e(89258),o=e(33932),v=e(51325),y=e(4042),C=e(9357),A=e(21361),d=e(64710),m=e(23827),S=e(43891),s=e(66195),r=e(80155),l=e(39609),i=e(97483),O=e(91565),Y=e(50906),T=e(32220);let B=(()=>{class K{constructor(f,D,I,w,_,$,G,F,J){this.appConfig=f,this.loggingService=D,this.sharedStorageService=I,this.idmService=w,this.telemetryService=_,this.telemetryUtilService=$,this.gfnSdkService=G,this.idmIpcService=F,this.bridgeService=J,this.blockName="userConsentInfo",this.userConsentExpirationHours=24,this.isClientGdprConsentSet=!1,this.isManualLogin=null,this.userConsentSubject=new n.t(1),this.deviceConsentSubject=new n.t(1),this.logger=this.loggingService.getLogger("user-consent.service"),this.initLoginStatusSubscription(),this.sendEventDataElementsToRagnarok()}initUserConsent(){this.sharedStorageService.readBlock(this.blockName).pipe((0,a.U)(f=>!(0,t.isEmpty)(f)&&((0,t.isNil)(f.userId)||(0,t.isEmpty)(f.userId)?(this.logger.event("no stored consent setDefaultClientConsent",f.userConsent),this.telemetryService.setDefaultClientConsent(f.userConsent)):this.telemetryService.setUserConsent([f]),!0))).subscribe(f=>{f?this.logger.info("Consent read from userConsentInfo block sent to jsevents for initialization."):this.logger.error("No client consent sent to jsevents.")},f=>{this.logger.error("Reading UserConsentInfo block failed with error: ",f)})}writeUserConsent(f){return this.sharedStorageService.writeBlock(this.blockName,f,!0)}getDeviceConsent$(){return this.deviceConsentSubject.asObservable()}getUserConsent$(){return this.userConsentSubject.asObservable()}fetchAndUpdateUserConsent(f){return(0,x.D)([this.sharedStorageService.readBlock(this.blockName),this.telemetryService.getDefaultClientConsentObserable()]).pipe((0,o.zg)(([D,I])=>(D=this.refreshExpiryTime(D),this.updateUserConsentTelemetry(D,f),this.logger.info("Send app launch telemetry for valid userId"),this.telemetryUtilService.sendLaunchTimeTelemetry(),this.setExpiryIntervalSubscription(f),this.userConsentSubject.next(D.userConsent),this.writeUserConsent(D))))}sendEventDataElementsToRagnarok(){d.ng.isBrowserPlatform()&&(this.telemetryService.getCommonData$().pipe((0,o.zg)(f=>{const D={commonData:f,config:{server:this.appConfig.jsEvents.server,version:this.appConfig.jsEvents.version}};return D.commonData.sentTs=void 0,D.commonData.events=void 0,this.bridgeService.executeCommand(A.Gh.Gfn.Streaming.UpdateEventDataElements,D)})).subscribe(),(0,M.aj)([this.getDeviceConsent$(),this.getUserConsent$()]).pipe((0,o.zg)(([f,D])=>{const I={commonData:{}};return I.commonData.deviceGdprFuncOptIn=f.functional,I.commonData.deviceGdprTechOptIn=f.technical,I.commonData.deviceGdprBehOptIn=f.behavioral,I.commonData.gdprFuncOptIn=D.functional,I.commonData.gdprTechOptIn=D.technical,I.commonData.gdprBehOptIn=D.behavioral,this.bridgeService.executeCommand(A.Gh.Gfn.Streaming.UpdateEventDataElements,I)})).subscribe())}createConsentBlock(f){const D=(0,t.merge)({},C.XA);return D.userConsent=f,D}createConsentBlockWithAuthInfo(f,D){const I=(0,t.merge)(C.XA,{userId:f.userId,externalUserId:f.externalUserId,idpId:f.idpId});return I.userConsent=D,I}initLoginStatusSubscription(){this.idmService.cachedUser.pipe((0,o.zg)(f=>(this.isManualLogin=!f.data.isAuthenticated,(0,M.aj)([this.gfnSdkService.getAuthInfo(),this.idmService.accountStatusChanged]).pipe((0,o.zg)(([I,w])=>{let _=w;if(!_.isAuthenticated&&this.checkIntervalSubscription)this.checkIntervalSubscription.unsubscribe();else if(_.isAuthenticated||I.authType===s.Gr.JWT){let $={userId:_.userId,externalUserId:_.externalId,idpId:_.idpId};return I.authType===s.Gr.JWT&&($={userId:I.userId,externalUserId:I.externalUserId,idpId:I.idpId},_=Object.assign(Object.assign({},_),{userId:I.userId,externalId:I.externalUserId,idpId:I.idpId})),(""===_.idpId||(0,t.isNil)(_.idpId))&&($={userId:C.wy.Undefined,externalUserId:_.userId,idpId:C.wy.Undefined}),this.telemetryService.setEventsCommonData($,!0),this.fetchAndUpdateUserConsent(_)}return _.isAuthenticated?L.E:this.updateUserConsentInfoOnLogout()})))),(0,v.K)(f=>(this.logger.error("Error in getting/setting consent data on user refresh, Setting to default",f),(0,p.of)(!1)))).subscribe(f=>{this.logger.info("Updated user consent result successfully:",f),this.idmIpcService.sendLoginStatusChange()})}isExpired(f){let D=!0;const I=new Date;if(f&&f.expiryTime){const w=new Date(f.expiryTime);this.logger.info("Expiry time "+w+" now "+I),D=w<I}return D}refreshExpiryTime(f){if((0,t.isNil)(f.expiryTime)||this.telemetryUtilService.getClientType()!==m.BhR.StreamingClient){const D=new Date;D.setDate(D.getDate()+1),f.expiryTime=D.toISOString(),this.logger.event("LocalConsent expiryTime updated: ",f)}return f}updateUserConsentTelemetry(f,D){D.isAuthenticated&&(f.userConsent=(0,S.WF)(D),f.userId=D.userId,f.externalUserId=D.externalId,f.idpId=D.idpId,this.telemetryService.setUserConsent([f]))}checkConsentInterval(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,o.zg)(f=>{if(!(0,t.isEmpty)(f))return this.isExpired(f)?this.idmService.refreshUser().pipe((0,y.h)(!0)):(this.logger.info("Consent data is still valid"),this.updateUserConsentTelemetry(f,this.currentUser),L.E)}))}setExpiryIntervalSubscription(f){if(this.currentUser=f,this.telemetryUtilService.getClientType()!==m.BhR.StreamingClient){const D=(0,P.F)(60*this.userConsentExpirationHours*60*1e3);this.checkIntervalSubscription=D.pipe((0,o.zg)(()=>this.checkConsentInterval())).subscribe()}else this.logger.info("Not checking consent info on regular intervals for streamer")}setUpJarvisUserChangedSubscription(){this.idmService.accountStatusChanged.subscribe(f=>{!f.isAuthenticated&&!this.telemetryService.getLaunchUiEventSent()&&(this.logger.info("No user present, send launch time telemetry for undefined userId"),this.telemetryUtilService.sendLaunchTimeTelemetry())})}setDefaultConsentData(f){return this.logger.trace(r.y$.UserDetails,r.Px.UserInfo,"User consent is Behavioral:"+f.behavioral+" Functional:"+f.functional+" Technical:"+f.technical),this.isClientGdprConsentSet?(this.logger.info("Client GDPR consent is already set."),(0,p.of)(!1)):(this.logger.event("client consent not yet set - setDefaultClientConsent",f),this.telemetryService.setDefaultClientConsent(f),this.setUpJarvisUserChangedSubscription(),this.isClientGdprConsentSet=!0,this.deviceConsentSubject.next(f),this.writeUserConsent(this.createConsentBlock(f)))}setAnonUserConsentData(f){return this.logger.event("client consent not yet set - setAnonUserConsentData",f),this.telemetryService.setDefaultClientConsent(f),this.setUpJarvisUserChangedSubscription(),this.isClientGdprConsentSet=!0,this.gfnSdkService.getAuthInfo().pipe((0,o.zg)(D=>this.writeUserConsent(this.createConsentBlockWithAuthInfo(D,f))))}getAnonUserConsentData(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,o.zg)(f=>(0,p.of)(f)))}updateUserConsentInfoOnLogout(){return this.sharedStorageService.readBlock(this.blockName).pipe((0,o.zg)(f=>(0,t.isEmpty)(f)?(this.logger.warn("UserConsentInfo section is empty in sharedstorage"),(0,p.of)(!1)):(f.userConsent=C.l3,delete f.userId,f.externalUserId&&delete f.externalUserId,f.idpId&&delete f.idpId,f.expiryTime&&delete f.expiryTime,this.userConsentSubject.next(f.userConsent),this.writeUserConsent(f))))}ngOnDestroy(){this.checkIntervalSubscription&&this.checkIntervalSubscription.unsubscribe()}}return K.\u0275fac=function(f){return new(f||K)(l.LFG(i.VKt),l.LFG(d.ed),l.LFG(O.OA),l.LFG(Y.No),l.LFG(C.y0),l.LFG(m.wU6),l.LFG(s.s),l.LFG(T.i),l.LFG(d.dF))},K.\u0275prov=l.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},43891:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Jk:()=>removeSpacesInString,Or:()=>formatTimeConfig,Q2:()=>getUserFacingOSName,TW:()=>formatTimeString,WF:()=>formatConsentData,X4:()=>extractCmsId,_6:()=>getUserFacingDeviceType,h6:()=>formatHexString,j7:()=>formatVanityUrlForDisplay,qr:()=>evalCss,yY:()=>formatUserCodeForDisplay});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85566),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(53975),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),crimson__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64710),js_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9357);const HTTP_RESPONSE_STATES={UNDEFINED_RESPONSE:"undefined-response",NULL_URL:"null-url"},formatTimeConfig={HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"};function formatTimeString(Ge,ae){const e=moment__WEBPACK_IMPORTED_MODULE_1__.duration(Ge,"seconds"),t=[];if(-1!==ae.indexOf(formatTimeConfig.HOURS)){const n=leftPad(e.hours().toString(),"0",2);t.push(n)}if(-1!==ae.indexOf(formatTimeConfig.MINUTES)){const n=leftPad(e.minutes().toString(),"0",2);t.push(n)}if(-1!==ae.indexOf(formatTimeConfig.SECONDS)){const n=leftPad(e.seconds().toString(),"0",2);t.push(n)}return t.join(":")}function formatHexString(Ge){if(Number.isInteger(Ge)){let ae=(Ge>>>=0).toString(16).toUpperCase();return ae=leftPad(ae,"0",8),"0x"+ae}return""}function leftPad(Ge,ae,e){const t=e-Ge.length;return t>0?Array(t+1).join(ae)+Ge:Ge}function hasValue(Ge,ae){return!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Ge)}function getUrl(Ge,ae){let e="";return e=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(Ge)?ae+"/"+HTTP_RESPONSE_STATES.UNDEFINED_RESPONSE:(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNull)(Ge.url)?ae+"/"+HTTP_RESPONSE_STATES.NULL_URL:Ge.url,e}function getHttpResponseStatus(Ge){let ae;return ae=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isUndefined)(Ge)?HTTP_RESPONSE_STATES.UNDEFINED_RESPONSE:Ge.status,ae}function validateObject(Ge,ae,e=hasValue){const t=!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isNil)(Ge);return(0,lodash__WEBPACK_IMPORTED_MODULE_0__.reduce)(ae,(n,x)=>n&&e(Ge[x],n),t)}function validateJson(Ge,ae,e){const t={isValid:!1,data:null,error:""};try{t.data=JSON.parse(Ge),t.isValid=!0}catch(n){t.error=n.message}return t.isValid=t.isValid&&validateObject(t.data,ae,e),t}function extractCmsId(Ge,ae){const e=Ge.search("cmsId");if(e<0)return ae.info("cmsId not found, ignoring event"),null;let t=Ge.substring(e),n=t.split("&");return n.length<=0?(ae.error("cmsId found, but string splitting on & returned 0 strings"),null):(t=n[0],n=t.split("="),n.length<=1?(ae.error("cmsId key found, but no value was found"),null):+n[1])}function formatConsentData(Ge){const ae=(0,lodash__WEBPACK_IMPORTED_MODULE_0__.merge)({},js_events__WEBPACK_IMPORTED_MODULE_3__.l3);return Ge&&(ae.technical=Ge.technicalConsent,ae.behavioral=Ge.behavioralConsent),ae}function removeSpacesInString(Ge){return Ge.replace(/\s/g,"")}function formatVanityUrlForDisplay(Ge){return Ge.replace(/(^\w+:|^)\/\//,"")}function formatUserCodeForDisplay(Ge){if(Ge.length<6)return Ge;const ae=Math.round(Ge.length/2);return Ge.slice(0,ae)+" - "+Ge.slice(ae)}function getUserFacingOSName(Ge){switch(Ge){case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.WebOS:return"webOS";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Tizen:return"Tizen";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.XBox:return"Xbox";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.SteamOS:return"SteamOS";case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Shield:case crimson__WEBPACK_IMPORTED_MODULE_2__.wi.Android:return"Android";default:return}}function getUserFacingDeviceType(Ge){switch(Ge){case crimson__WEBPACK_IMPORTED_MODULE_2__.z7.TV:return"TV";case crimson__WEBPACK_IMPORTED_MODULE_2__.z7.Console:return"Console";default:return}}function evalCss(expr){return eval(expr.trim().replace(/calc/g,"").replace(/px/g,"").replace(/100vw/g,window.innerWidth.toString()).replace(/100vh/g,window.innerHeight.toString()).replace(/[^-()\d/*+.]/g,""))}},85085:(Ge,ae,e)=>{"use strict";e.d(ae,{$_:()=>y,Em:()=>P});var t=e(29888),n=e(16099),x=e(86283),M=e(23815),L=e(2629),p=e(4042),P=(()=>{return(C=P||(P={})).Timeout="Timeout",C.Cleared="Cleared",P;var C})(),o=e(39609),v=e(64710);let y=(()=>{class C{constructor(d){this.logger=d.getLogger("GfnWebWorkerService")}initialize(){if(typeof Worker<"u"){const d=new Worker(e.tu(new URL(e.p+e.u(144),e.b)),{type:void 0,name:"gfn-web"});this.gfnWorker=(0,t.Ud)(d)}else this.logger.warn("Web workers not supported, will use fallback mechanism");return this.gfnWorker}hash(d){return(0,n.D)(this.gfnWorker.sha1(d))}intervalHandler(d,m){return this.gfnWorker?(0,n.D)(this.gfnWorker.registerTimer(d,(0,t.sj)(m))):d.startTimer?(this.logger.info("Fallback mechanism triggered, starting timer"),this.timer$=(0,x.F)(d.timeout).pipe((0,L.q)(1),(0,p.h)(P.Timeout)),this.timer$):(this.logger.info("Fallback mechanism triggered, clearing timer"),this.timer$=null,(0,M.of)(P.Cleared))}}return C.\u0275fac=function(d){return new(d||C)(o.LFG(v.ed))},C.\u0275prov=o.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},26013:(Ge,ae,e)=>{"use strict";e.d(ae,{W:()=>t.W});var t=e(28278)},28278:(Ge,ae,e)=>{"use strict";e.d(ae,{W:()=>M});var t=e(39609),n=e(91565);const x="defaultZone";let M=(()=>{class L{constructor(P){this.sharedStorage=P}setDefaultZone(P){return this.sharedStorage.writeBlock(x,P)}getDefaultZone(){return this.sharedStorage.readBlock(x)}}return L.\u0275fac=function(P){return new(P||L)(t.LFG(n.OA))},L.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},97483:(Ge,ae,e)=>{"use strict";e.d(ae,{hB7:()=>j,rmE:()=>Gn.rm,dCY:()=>Zt.dC,bFC:()=>Jt.b,ANw:()=>Jt.A,mfJ:()=>xs,X92:()=>An.X9,wvY:()=>Mt.wv,wye:()=>me.wye,OMY:()=>bi,uu8:()=>Qt.uu,qBq:()=>Zt.qB,roz:()=>me.roz,a$B:()=>Xn.a$,K$w:()=>Xn.K$,F0r:()=>Qt.F0,lzt:()=>me.lzt,x5h:()=>wr.x5,ztj:()=>me.ztj,QuF:()=>me.QuF,aGN:()=>me.aGN,mpd:()=>Gn.mp,wMv:()=>Gn.wM,BhR:()=>me.BhR,Ktt:()=>Vi,YvH:()=>Vs,$lO:()=>Ur.$l,_P4:()=>Ur._P,OKi:()=>jt.OK,Ujf:()=>ne,uE5:()=>Gn.uE,hEi:()=>et.hE,hD7:()=>et.hD,reR:()=>me.reR,VKt:()=>Nt.VK,OX4:()=>ft,q6_:()=>Hn.q6,Gxu:()=>rr.Gx,HOt:()=>mo.H,f0:()=>Ki,X5k:()=>nr,gOl:()=>Gn.gO,EG8:()=>jt.EG,lJR:()=>Uo,KNS:()=>zs,cYw:()=>me.cYw,gIP:()=>Es.g,$Yn:()=>Gn.$Y,eKR:()=>Gn.eK,EMz:()=>Gn.EM,NX4:()=>me.NX4,iJP:()=>Gn.iJ,dvL:()=>$n.dv,Vvs:()=>An.Vv,BPY:()=>he.BP,jHt:()=>Zt.jH,XzU:()=>me.XzU,xAy:()=>xo,rVM:()=>Hn.rV,f1U:()=>Hn.f1,vAT:()=>Hn.vA,hHP:()=>Ni,hmT:()=>go,qMw:()=>An.qM,l2p:()=>An.l2,vq_:()=>An.vq,BHV:()=>An.BH,D7$:()=>An.D7,mJI:()=>Xn.mJ,vzH:()=>Lo,Foe:()=>he.Fo,N3X:()=>me.N3X,$TJ:()=>yn,zu9:()=>Ne.zu,llk:()=>Xn.ll,CzD:()=>Gn.Cz,Vao:()=>Zt.V,OY9:()=>Nt.OY,g7J:()=>me.g7J,YyK:()=>me.YyK,yOt:()=>me.yOt,ryx:()=>me.ryx,HyT:()=>me.HyT,tZp:()=>me.tZp,AVX:()=>me.AVX,NlQ:()=>me.NlQ,MsO:()=>me.MsO,hAb:()=>me.hAb,DUy:()=>me.DUy,_LZ:()=>me._LZ,DCd:()=>me.DCd,zfT:()=>me.zfT,eCT:()=>me.eCT,CK8:()=>Gn.CK,IYW:()=>Ks.I,V89:()=>vs,zO5:()=>me.zO5,FRL:()=>me.FRL,NuE:()=>me.NuE,sf3:()=>me.sf3,tDF:()=>Is.t,BwP:()=>Xn.Bw,U4l:()=>me.U4l,Y_M:()=>me.Y_M,xQn:()=>Ws,dgl:()=>Di,N0y:()=>Zt.N0,fFR:()=>vn.fF,Y6V:()=>Zt.Y6,yxz:()=>Zt.yx,m$M:()=>Rr,dbe:()=>jt.db,lUL:()=>On,Drq:()=>Pt,PyH:()=>me.PyH,$_t:()=>wi.$_,rIG:()=>Ye.r,hTr:()=>ze.h,o15:()=>ze.o,et_:()=>Gn.et,AUc:()=>me.AUc,_63:()=>me._63,T6w:()=>$n.T6,ZB5:()=>ls,No2:()=>$n.No,VRd:()=>Mt.VR,EmV:()=>wi.Em,oIn:()=>Qe.oI,MxV:()=>Qe.Mx,uCR:()=>Qe.uC,vSX:()=>Qe.vS,V__:()=>Zt.V_,xld:()=>Zt.xl,cPW:()=>me.cPW,Bbu:()=>me.Bbu,sNt:()=>me.sNt,zcQ:()=>Xn.zc,Etx:()=>Gn.Et,pvZ:()=>Gn.pv,LMI:()=>me.LMI,GVq:()=>me.GVq,qmX:()=>me.qmX,W9g:()=>me.W9g,Mbw:()=>me.Mbw,DL8:()=>me.DL8,_cC:()=>me._cC,bOD:()=>me.bOD,qql:()=>Zt.qq,MNE:()=>jn,_Rm:()=>Ne._R,PT0:()=>Ne.PT,l6l:()=>he.l6,pRd:()=>Ne.pR,$e1:()=>Ne.$e,JYZ:()=>he.JY,fIQ:()=>he.fI,XS0:()=>St.XS,ZPL:()=>jt.ZP,uZ6:()=>fs.u,U5H:()=>Mt.U5,Irw:()=>Mt.Ir,Eum:()=>Mt.Eu,Yk9:()=>me.Yk9,R2C:()=>Mt.R2,eTr:()=>Mt.eT,ASW:()=>Mt.AS,vg_:()=>Mt.vg,DYb:()=>me.DYb,nzn:()=>Fo.n,R76:()=>Qt.R7,PTF:()=>Qt.PT,HKp:()=>nt.H,u4N:()=>nt.u,iDX:()=>Wn,qMk:()=>Bs,UJ:()=>Ar.UJ,nG5:()=>Ar.nG,$3D:()=>Xn.$3,whE:()=>Xn.wh,QUw:()=>rr.QU,Ilb:()=>Qt.Il,unb:()=>vn.un,g7O:()=>Gn.g7,S77:()=>Xn.S7,Q0y:()=>Xi,Xj5:()=>me.Xj5,p3A:()=>me.p3A,ItH:()=>me.ItH,M1b:()=>jt.M1,pr3:()=>ii,Ad8:()=>Qt.Ad,S8R:()=>vn.S8,XHw:()=>me.XHw,XPX:()=>me.XPX,VIQ:()=>me.VIQ,V5e:()=>mo.V,VHe:()=>et.VH,cFU:()=>rr.cF,ePW:()=>rr.eP,WM6:()=>No,NS5:()=>Go,Ran:()=>me.Ran,s$G:()=>It.s,MDl:()=>jt.MD,zrw:()=>jt.zr,JrW:()=>jt.Jr,DIV:()=>jt.DI,CGJ:()=>me.CGJ,PMS:()=>me.PMS,hMy:()=>me.hMy,mw3:()=>St.mw,QZM:()=>jt.QZ,nau:()=>jt.n,gbG:()=>jt.gb,zVP:()=>Gn.zV,BqE:()=>jt.Bq,mPX:()=>Zt.mP,fyj:()=>jt.fy,HS8:()=>Do,E5O:()=>me.E5O,pDK:()=>me.pDK,GKb:()=>jt.GK,xwU:()=>Ne.xw,xAh:()=>Ne.xA,$cB:()=>Ne.$c,cIz:()=>Bn.cI,wN:()=>Kn,FR5:()=>hi,_G:()=>me._G,T44:()=>me.T44,PoW:()=>me.PoW,wU6:()=>me.wU6,ByO:()=>Xn.By,YUT:()=>Xn.YU,H_T:()=>me.H_T,ZEJ:()=>me.ZEJ,Cbx:()=>me.Cbx,wHL:()=>Ys,$Uz:()=>Qt.$U,LB$:()=>Bn.LB,rHN:()=>Bn.rH,DI4:()=>Bn.DI,GMF:()=>He,WOA:()=>Pn,_87:()=>jt._8,nnJ:()=>vn.nn,Vwu:()=>me.Vwu,ZZY:()=>Ze.Z,Tn6:()=>An.Tn,OAB:()=>jt.OA,ef6:()=>me.ef6,uaH:()=>Rt.u,WIQ:()=>Hs.W,zJp:()=>vn.zJ,qrs:()=>Je.qr,X4o:()=>Je.X4,h6z:()=>Je.h6,Or7:()=>Je.Or,TWU:()=>Je.TW,sc2:()=>Nt.sc,cjf:()=>vn.cj,n6x:()=>vn.n6,svt:()=>vn.sv,wIc:()=>vn.wI,MAX:()=>vn.MA,U19:()=>Ne.U1,Jn8:()=>Ne.Jn,A8q:()=>vn.A8,bY:()=>vn.bY,IGn:()=>vn.IG});var t=e(52954),n=e(50239),x=e(93557),M=e(715),L=e(39536),p=e(64710),P=e(96671),a=e(50936);var v=e(9357);const y={PopUpDialogShown:{name:"PopUpDialogShown",gdprLevel:v.KM.Functional},PopUpDialogClosed:{name:"PopUpDialogClosed",gdprLevel:v.KM.Technical}};var C=(()=>{return(ce=C||(C={})).UNDEFINED="UNDEFINED",ce.TRUE="TRUE",ce.FALSE="FALSE",C;var ce})(),A=(()=>{return(ce=A||(A={})).App_Exit="App_Exit",ce.Dialog_Closed="Dialog_Closed",ce.Goto_Settings="Goto_Settings",A;var ce})(),d=(()=>{return(ce=d||(d={})).Release_Highlights="Release_Highlights",ce.Account_Link_Required="Account_Link_Required",ce.Account_Link_Expired="Account_Link_Expired",ce.Account_Link_Expires_Today="Account_Link_Expires_Today",ce.Account_Link_Expires_Soon="Account_Link_Expires_Soon",ce.Unknown="Unknown",d;var ce})();class m extends v.MW{constructor(Ae){super(Ae),this.name=y.PopUpDialogShown.name,this.gdprLevel=y.PopUpDialogShown.gdprLevel}}class S extends v.MW{constructor(Ae){super(Ae),this.name=y.PopUpDialogClosed.name,this.gdprLevel=y.PopUpDialogClosed.gdprLevel}}var s=e(85566),r=e(2629),l=e(10907),i=e(39609),O=e(22804),Y=e(95914),T=e(18937),B=e(90657),K=e(37661),b=e(32764),f=e(34375),D=e(79884),I=e(72122),w=e(89597),_=e(14893),$=e(6147),G=e(54716),F=e(58241),J=e(72467),z=e(88902);const Z=["articleContentContainer"];function ue(ce,Ae){1&ce&&(i.TgZ(0,"div",5),i._UZ(1,"mat-progress-spinner",6),i.qZA())}function u(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"div",17)(1,"button",18),i.NdJ("click",function(){i.CHM(c);const oe=i.oxw(3);return i.KtG(oe.closeDialog())}),i._UZ(2,"mat-icon",19),i.qZA()()}}function k(ce,Ae){if(1&ce&&(i.TgZ(0,"span",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce){const c=i.oxw(3);i.xp6(1),i.Oqu(i.lcZ(2,1,c.articleDataParams.subTitle))}}function W(ce,Ae){1&ce&&i._UZ(0,"div",21)}function N(ce,Ae){if(1&ce&&(i._UZ(0,"span",22),i.ALo(1,"trustAsHtml")),2&ce){const c=i.oxw(3);i.Q6J("innerHTML",i.lcZ(1,2,c.articleDataParams.content),i.oJD),i.uIk("tabindex",c.scrollable?0:null)}}function H(ce,Ae){1&ce&&i._UZ(0,"div",23)}function h(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"div")(1,"div",7)(2,"span",8),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.YNc(5,u,3,0,"div",9),i.qZA(),i._UZ(6,"mat-divider"),i.YNc(7,k,3,3,"span",10),i.TgZ(8,"div",11),i.YNc(9,W,1,0,"div",12),i.qZA(),i.TgZ(10,"mat-dialog-content",13,14),i.NdJ("scroll",function(oe){i.CHM(c);const fe=i.oxw(2);return i.KtG(fe.onScroll(oe))}),i.YNc(12,N,2,4,"span",15),i.qZA(),i.YNc(13,H,1,0,"div",16),i.qZA()}if(2&ce){const c=i.oxw(2);i.xp6(3),i.Oqu(i.lcZ(4,6,c.articleDataParams.title)),i.xp6(2),i.Q6J("ngIf",c.closeButtonVisible),i.xp6(2),i.Q6J("ngIf",c.articleDataParams.subTitle),i.xp6(2),i.Q6J("ngIf",c.showTopOverlay),i.xp6(3),i.Q6J("ngIf",c.articleDataParams.content),i.xp6(1),i.Q6J("ngIf",c.showBottomOverlay)}}function E(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){i.CHM(c);const oe=i.oxw();return i.KtG(oe.OnDialogClick())}),i.YNc(1,ue,2,0,"div",3),i.YNc(2,h,14,8,"div",4),i.qZA()}if(2&ce){const c=i.oxw();i.Q6J("ngClass",c.articleDataParams.style),i.xp6(1),i.Q6J("ngIf",c.waiting),i.xp6(1),i.Q6J("ngIf",!c.waiting)}}let ee=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st){this.el=c,this.genericDialog=oe,this.telemetryService=fe,this.applicationLifetimeService=Ue,this.dialogRef=Ke,this.articleDataParams=je,this.systemInfoService=st,this.waiting=!0,this.loadingContent=!0,this.showBottomOverlay=!1,this.showTopOverlay=!1,this.showDialog=!1,this.closeButtonVisible=!1,this.scrollable=!1,this.maxScrollPercent=0,this.dialogShownStartTime=0,this.dialogClickedCount=0,this.isTelemetrySent=!1,this.destroy$=new P.xQ,this.logger=V.getLogger("information-dialog"),this.logger.info("component created"),this.closeButtonVisible=!(null!=je&&je.tvMode),Ke.disableClose=!0}ngOnInit(){var c;this.waiting=!0,this.articleDataParams.style="article-content",this.articleSubscription=this.articleDataParams.getArticleCallback().subscribe(V=>{this.waiting=!1,this.dialogShownStartTime=Date.now(),V&&V.body?(this.articleDataParams.title=V.title,this.articleDataParams.subTitle=V.subTitle,this.articleDataParams.content=V.body,this.articleDataParams.style=V.style,this.showBottomOverlay=!0,this.currentDialogName=this.articleDataParams.dialogType,this.showDialog=!0,this.sendDialogShownTelemetry(),this.handleFocusWithScrollbar()):(this.error=!0,this.logger.error("get article returned null"),this.showErrorDialog())},V=>{this.waiting=!1,this.error=!0,this.logger.error("get article information failed with error: ",V),"1"!==this.articleDataParams.isInstallationScenario||(0,s.isNil)(V.status)?this.showErrorDialog():this.dialogRef.close()}),this.applicationLifetimeService.addWorkOnShutdown(()=>new a.y(V=>{V.next(this.sendDialogClosedTelemetry(A.App_Exit)),V.complete()})),null!==(c=this.articleDataParams)&&void 0!==c&&c.tvMode&&this.systemInfoService.getDeviceOSType().pipe((0,r.q)(1),(0,l.R)(this.destroy$)).subscribe(V=>{V===p.wi.WebOS&&(this.closeButtonVisible=!0)})}showErrorDialog(){const c=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{icon:"info",bodyText:{text:"releaseHighlights.noInformationAvailable"},primaryButton:{text:"common.close"}}});c.afterClosed().pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.dialogRef.close()}),c.primaryButtonClick.pipe((0,r.q)(1)).subscribe(()=>c.close()),!(0,s.isNil)(c)&&this.articleDataParams.autoCloseOnError&&setTimeout.call(c,()=>{c.close()},3e3)}onScroll(c){c.stopPropagation(),c.preventDefault();const V=Math.round((c.target.scrollTop+c.target.clientHeight)/c.target.scrollHeight*100);V>this.maxScrollPercent&&(this.maxScrollPercent=V),setTimeout(()=>{this.showTopOverlay=c.target.scrollTop>0,this.showBottomOverlay=V<100})}closeDialog(){this.dialogRef.close()}sendDialogShownTelemetry(){const c=new m({name:this.currentDialogName||d.Unknown});this.telemetryService.push(c)}handleFocusWithScrollbar(){setTimeout(()=>{var c,V,oe,fe;const Ue=null===(V=null===(c=this.articleContentContainerElement)||void 0===c?void 0:c.nativeElement)||void 0===V?void 0:V.clientHeight,Ke=null===(fe=null===(oe=this.articleContentContainerElement)||void 0===oe?void 0:oe.nativeElement)||void 0===fe?void 0:fe.scrollHeight;this.scrollable=!Ue||!Ke||Ke>Ue,this.logger.info(`containerHeight: ${Ue}, scrollHeight: ${Ke},  dialog is scrollable: ${this.scrollable}`)})}sendDialogClosedTelemetry(c){if(!this.error&&!this.isTelemetrySent){const V=new S({name:this.currentDialogName||d.Unknown,totalMs:0,scrolled:0!==this.maxScrollPercent?C.TRUE:C.FALSE,inWindowClicks:this.dialogClickedCount,exitTriggerPoint:c});this.telemetryService.push(V,this.dialogShownStartTime,{immediateRequest:!0}),this.isTelemetrySent=!0}}OnDialogClick(){this.dialogClickedCount++}ngOnDestroy(){this.logger.info("destroying article-content dialog"),this.sendDialogClosedTelemetry(A.Dialog_Closed),this.articleSubscription&&this.articleSubscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(i.SBq),i.Y36(p.ed),i.Y36(O.TX),i.Y36(v.y0),i.Y36(Y.Ll),i.Y36(L.hV),i.Y36(L.eJ),i.Y36(p.Ob))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["nv-information-dialog"]],viewQuery:function(c,V){if(1&c&&i.Gf(Z,5),2&c){let oe;i.iGM(oe=i.CRH())&&(V.articleContentContainerElement=oe.first)}},decls:2,vars:1,consts:[["ngClass.iphone","small-screen","nvSpatialNavigationContainer","","nvTrapFocus","","nvBackToCloseModal",""],["fxLayout","column","class","article-dialog",3,"ngClass","click",4,"ngIf"],["fxLayout","column",1,"article-dialog",3,"ngClass","click"],["fxFlex","","fxFill","","fxLayoutAlign","center center","class","waiting-overlay",4,"ngIf"],[4,"ngIf"],["fxFlex","","fxFill","","fxLayoutAlign","center center",1,"waiting-overlay"],["id","progressIndicator","color","accent","mode","indeterminate","strokeWidth","5","diameter","35","value","15",1,"mat-accent"],["fxLayout","row","fxLayoutAlign","start center"],[1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["class","font-sub1",4,"ngIf"],[1,"constants-position-relative"],["class","common-overlay scroll-overlay-top-gradient",4,"ngIf"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"scroll"],["articleContentContainer",""],["class","mat-primary mat-hue-2",3,"innerHTML",4,"ngIf"],["class","common-overlay scroll-overlay-bottom-gradient",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["svgIcon","close"],[1,"font-sub1"],[1,"common-overlay","scroll-overlay-top-gradient"],[1,"mat-primary","mat-hue-2",3,"innerHTML"],[1,"common-overlay","scroll-overlay-bottom-gradient"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,E,3,3,"div",1),i.qZA()),2&c&&(i.xp6(1),i.Q6J("ngIf",V.showDialog))},dependencies:[t.mk,t.O5,T.xw,T.Wh,T.s9,T.yH,B.oO,L.Rb,K.Hw,b.sN,f.eB,D.d,I.r,w.N,_.E,$.e,G.u,F.p,J.kH,z.W,M.X$],styles:[':root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}html,body{margin:0}img{-webkit-user-drag:none}.no-wrap{white-space:nowrap}@font-face{font-family:"Material Icons 2";font-style:normal;font-weight:400;font-display:block;src:url(assets/hashed/MaterialIcons-Regular.1e50f5c2ffa6aba4.eot),url(assets/hashed/MaterialIcons-Regular.7ea2023eeca07427.woff2) format("woff2"),url(assets/hashed/MaterialIcons-Regular.db852539204b1a34.woff) format("woff"),url(assets/hashed/MaterialIcons-Regular.196fa4a92dd6fa73.ttf) format("truetype")}.common-window .material-icons{font-family:"Material Icons 2"}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.cdk-global-overlay-wrapper>.nv-overlay-panel{max-width:calc(100vw - 32px)!important}}.constants-position-relative{position:relative}.constants-position-absolute{position:absolute}.constants-display-none{display:none}:host-context(.isRtl) .flip-rtl-element{transform:scaleX(-1)}html[dir=rtl] .flip-rtl-element{--dummy: 0;transform:scaleX(-1)}.common-overlay{position:absolute;right:0;left:0;display:flex;top:0;bottom:0;z-index:1;background-color:#000000bf}.common-overlay.light-background{background-color:#00000080}.common-overlay.no-background{background-color:transparent}button mat-icon{display:block;color:#ffffffb3}.article-dialog{min-width:408px;max-width:560px;max-height:538px;overflow-x:hidden;border-radius:0;padding:24px}mat-content,mat-dialog-content{overflow-y:overlay;overflow-x:hidden}.article-dialog mat-dialog-content{font-size:12px;font-weight:400;color:#fff9;padding:24px;width:inherit;overflow-x:hidden}.article-dialog.article-content mat-dialog-content{overflow-x:hidden;margin:0 0 5px;padding:0}.article-dialog.article-content{background-image:none;max-height:80vh;min-height:250px;min-width:560px;max-width:678px;transition:all;transform:translate(0) scale(1);animation-delay:0s;transition-delay:0s}@media (max-width: 599px){.article-dialog.article-content{min-width:0}}.article-dialog.dialog-service-container-size{background-image:none;max-height:80vh;min-height:250px;width:560px;max-width:678px;position:relative;transition:all;transform:translate(0) scale(1);animation-delay:0s;transition-delay:0s;background-color:#292929;overflow-y:hidden}.dialog-service-container-size a{border-bottom:1px solid transparent;white-space:nowrap;color:#76b900;opacity:1;text-decoration:none}.dialog-service-container-size a:hover{cursor:pointer;outline:none;border-bottom:1px dotted #76b900}.dialog-service-container-size a.cdk-program-focused,.dialog-service-container-size a.cdk-keyboard-focused,.cdk-keyboard-focused .dialog-service-container-size a:focus,.cdk-program-focused .dialog-service-container-size a:focus{position:relative;--outset:-1px;--focus-background: rgba(118, 185, 0, .32)}.dialog-service-container-size a.cdk-program-focused:before,.dialog-service-container-size a.cdk-keyboard-focused:before,.cdk-keyboard-focused .dialog-service-container-size a:focus:before,.cdk-program-focused .dialog-service-container-size a:focus:before{content:"";position:absolute;top:var(--outset);right:var(--outset);bottom:var(--outset);left:var(--outset);animation:backgroundColorFadeIn .75s forwards}.dialog-service-container-size a.cdk-program-focused:after,.dialog-service-container-size a.cdk-keyboard-focused:after,.cdk-keyboard-focused .dialog-service-container-size a:focus:after,.cdk-program-focused .dialog-service-container-size a:focus:after{background-color:unset}@keyframes backgroundColorFadeIn{0%{background-color:transparent}to{background-color:var(--focus-background)}}.dialog-service-container-size a:active{opacity:.45}.dialog-service-container-size img{width:512px}.article-dialog.dialog-service-container-size .common-overlay{display:none}.article-dialog.dialog-service-container-size mat-divider{margin-top:16px;margin-bottom:16px}.common-window .dialog-no-transition{transition:none}.article-dialog .scroll-overlay-top-gradient{height:30px;background:linear-gradient(rgb(28,28,28),rgba(28,28,28,0));top:0}:host-context(.isLtr) .article-dialog .scroll-overlay-top-gradient{margin-left:24px}html[dir=ltr] .article-dialog .scroll-overlay-top-gradient{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-top-gradient{margin-right:24px}html[dir=rtl] .article-dialog .scroll-overlay-top-gradient{--dummy3: 0;margin-right:24px}:host-context(.isLtr) .article-dialog .scroll-overlay-top-gradient{margin-right:24px}html[dir=ltr] .article-dialog .scroll-overlay-top-gradient{--dummy4: 0;margin-right:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-top-gradient{margin-left:24px}html[dir=rtl] .article-dialog .scroll-overlay-top-gradient{--dummy4: 0;margin-left:24px}.article-dialog .scroll-overlay-bottom-gradient{height:30px;background:linear-gradient(rgba(28,28,28,0),rgb(28,28,28));bottom:24px;top:auto}:host-context(.isLtr) .article-dialog .scroll-overlay-bottom-gradient{margin-left:24px}html[dir=ltr] .article-dialog .scroll-overlay-bottom-gradient{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-bottom-gradient{margin-right:24px}html[dir=rtl] .article-dialog .scroll-overlay-bottom-gradient{--dummy3: 0;margin-right:24px}:host-context(.isLtr) .article-dialog .scroll-overlay-bottom-gradient{margin-right:24px}html[dir=ltr] .article-dialog .scroll-overlay-bottom-gradient{--dummy4: 0;margin-right:24px}:host-context(.isRtl) .article-dialog .scroll-overlay-bottom-gradient{margin-left:24px}html[dir=rtl] .article-dialog .scroll-overlay-bottom-gradient{--dummy4: 0;margin-left:24px}.mat-dialog-container{padding-top:32px;z-index:82;transform:none;opacity:1;padding-bottom:24px;background-color:#191919;color:#fff;overflow:hidden}::selection{background:#478b06}.article-dialog mat-dialog-content:last-child,.article-dialog mat-dialog-content ng-form:last-child{margin-bottom:0}.article-dialog mat-dialog-content p:first-child{margin-top:0}.article-dialog mat-dialog-content .last-dialog-child{margin-bottom:0}.article-dialog mat-dialog-content.cdk-keyboard-focused,.article-dialog mat-dialog-content.cdk-program-focused{background-color:#ffffff52;transition:background-color .75s ease}.waiting-overlay{background-color:#0e0e0eb3}.small-screen .article-dialog.dialog-service-container-size{max-height:100vh;width:100vw;height:100vh;max-width:100vw}.small-screen .article-dialog,.small-screen .article-dialog.article-content{min-width:320px;max-height:100vh;min-height:320px;max-width:100vw}@media screen and (max-width: 430px) and (max-height: 932px) and (orientation: portrait){.article-dialog mat-dialog-content{max-height:75vh}.dialog-service-container-size img{width:100%}}@media screen and (max-width: 932px) and (max-height: 430px) and (orientation: landscape){.article-dialog mat-dialog-content{max-height:60vh}:host-context(.isLtr) .article-dialog.dialog-service-container-size{padding-left:max(env(safe-area-inset-left),24px)}html[dir=ltr] .article-dialog.dialog-service-container-size{--dummy1: 0;padding-left:max(env(safe-area-inset-left),24px)}:host-context(.isRtl) .article-dialog.dialog-service-container-size{padding-right:max(env(safe-area-inset-left),24px)}html[dir=rtl] .article-dialog.dialog-service-container-size{--dummy1: 0;padding-right:max(env(safe-area-inset-left),24px)}:host-context(.isLtr) .article-dialog.dialog-service-container-size{padding-right:max(env(safe-area-inset-right),24px)}html[dir=ltr] .article-dialog.dialog-service-container-size{--dummy2: 0;padding-right:max(env(safe-area-inset-right),24px)}:host-context(.isRtl) .article-dialog.dialog-service-container-size{padding-left:max(env(safe-area-inset-right),24px)}html[dir=rtl] .article-dialog.dialog-service-container-size{--dummy2: 0;padding-left:max(env(safe-area-inset-right),24px)}}.tv-view ::-webkit-scrollbar{width:16px}.tv-view .article-dialog{padding:32px}.tv-view .dialog-service-container-size img{width:100%}.tv-view .article-dialog.dialog-service-container-size{max-height:none;height:auto;width:925px;max-width:1920px}.tv-view .article-dialog.dialog-service-container-size mat-divider{margin-top:32px;margin-bottom:32px}\n'],encapsulation:2}),ce})(),R=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[t.ez,x.u5,n.o9,L.yj,K.Ps,b.UK,f.yu,D.t,p.it,O.hp,J.rt,M.aw.forChild(),t.ez,x.u5]}),ce})();var q=e(90229);let ne=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[t.ez,M.aw,q.Q,f.yu,n.o9,O.hp]}),ce})();var _e=e(32325),U=e(23815),re=e(39138),pe=e(45661),Pe=e(71265),Te=e(33932),me=e(23827),et=e(18164),Xe=e(22972),Ze=e(47204),nt=e(27327),Me=e(66195),ze=e(5193),le=e(20478),Le=e(73557);const Re=["welcomeContentContainer"],Q=["welcomeContentLastChild"],ve=["welcomeContentFirstChild"];function be(ce,Ae){if(1&ce&&(i._UZ(0,"h1",16),i.ALo(1,"translate")),2&ce){const c=i.oxw();i.Q6J("innerHTML",i.xi3(1,1,"oobe.gfnVersionText",c.gfnVersionText),i.oJD)}}const xe=function(ce){return{"gray-out":ce}};function ke(ce,Ae){if(1&ce&&(i.TgZ(0,"div",17),i._UZ(1,"mat-icon",18),i.qZA()),2&ce){const c=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(1,xe,!c.turnOnUpIndicator))}}function Ce(ce,Ae){if(1&ce&&(i._UZ(0,"h1",16),i.ALo(1,"translate")),2&ce){const c=i.oxw();i.Q6J("innerHTML",i.xi3(1,1,"oobe.gfnVersionText",c.gfnVersionText),i.oJD)}}const ge=function(ce){return{cookiePolicyLink:ce}};function De(ce,Ae){if(1&ce&&(i._UZ(0,"p",10),i.ALo(1,"translate")),2&ce){const c=i.oxw();i.Q6J("innerHTML",i.xi3(1,2,"oobe.oobeCookiePolicyText",i.VKq(5,ge,c.cookiePolicyLink)),i.oJD)("shortUrl",c.cookiePolicyShortUrl)}}function ye(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"div",19),i._UZ(1,"mat-divider"),i.TgZ(2,"mat-checkbox",20),i.NdJ("ngModelChange",function(oe){i.CHM(c);const fe=i.oxw();return i.KtG(fe.anonUserConsent=oe)}),i._uU(3),i.ALo(4,"translate"),i.qZA()()}if(2&ce){const c=i.oxw();i.xp6(2),i.Q6J("ngModel",c.anonUserConsent),i.xp6(1),i.hij(" ",i.lcZ(4,2,"oobe.oobeAnonUserConsent")," ")}}function Oe(ce,Ae){if(1&ce&&(i.TgZ(0,"div",17),i._UZ(1,"mat-icon",21),i.qZA()),2&ce){const c=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(1,xe,!c.turnOnDownIndicator))}}const ie=function(ce){return{privacyPolicyLink:ce}},qe=function(ce){return{termsOfUseLink:ce}},lt=function(ce){return{"anon-user":ce}};let Et=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot){this.oobeService=V,this.telemetryService=oe,this.userConsentService=fe,this.oobeTelemetryService=Ue,this.gfnSdkService=Ke,this.guestModeHelperService=je,this.spatialNavigationService=st,this.redirectService=Ot,this.gfnVersionText={productVersion:""},this.privacyPolicyShortUrl=et.hD[et.hE.PrivacyPolicy],this.cookiePolicyShortUrl=et.hD[et.hE.CookiePolicy],this.termsOfUseShortUrl=et.hD[et.hE.TermsConditions],this.welcomeContentViewed=!0,this.welcomeContentVisible=!0,this.anonUserConsent=!1,this.turnOnUpIndicator=!1,this.turnOnDownIndicator=!1,this.closeOobeDialog=new i.vpe,this.logger=c.getLogger("OobeWelcomeComponent"),this.isBrowserPlatform=p.ng.isBrowserPlatform(),this.isAnonUser$=this.guestModeHelperService.isGuestMode?(0,U.of)(!1):this.gfnSdkService.getIsAnonymousUser(),this.destroy$=new P.xQ}ngOnInit(){this.gfnVersionText.productVersion=this.oobeService.getProductVersion,this.parentScreen=this.telemetryService.getScreen(),this.telemetryService.setScreen(me.CGJ.ScreenOobeWelcome);const c=this.redirectService.getRedirectUrl(et.hE.PrivacyPolicy).pipe((0,r.q)(1)),V=this.redirectService.getRedirectUrl(et.hE.TermsConditions).pipe((0,r.q)(1)),oe=this.redirectService.getRedirectUrl(et.hE.CookiePolicy).pipe((0,r.q)(1));(0,re.$R)(c,V,oe).pipe((0,l.R)(this.destroy$)).subscribe(([fe,Ue,Ke])=>{const je="font-body2-link";this.privacyPolicyLink=`href="${fe}" class="${je}"`,this.cookiePolicyLink=`href="${Ke}" class="${je}"`,this.termsOfUseLink=`href="${Ue}" class="${je} no-wrap"`}),this.userConsentService.getAnonUserConsentData().pipe((0,l.R)(this.destroy$)).subscribe(fe=>{var Ue;this.anonUserConsent=(null===(Ue=fe.userConsent)||void 0===Ue?void 0:Ue.technical)===v.p6.Full})}ngAfterViewInit(){setTimeout(()=>{this.checkIfWelcomeContentViewed()},200),this.spatialNavigationService.setStartingPoint(this.welcomeContentFirstTermElement.nativeElement)}onScrollWelcomeContent(){this.checkIfWelcomeContentViewed()}onResize(){this.checkIfWelcomeContentViewed()}onOrientationChange(){this.welcomeContentElement.nativeElement.scrollTop=0,setTimeout(()=>{this.checkIfWelcomeContentViewed()})}checkIfWelcomeContentViewed(){const c=this.welcomeContentElement.nativeElement.getBoundingClientRect().bottom,V=this.welcomeContentLastTermElement.nativeElement.getBoundingClientRect().bottom,oe=this.welcomeContentElement.nativeElement.getBoundingClientRect().top,fe=this.welcomeContentFirstTermElement.nativeElement.getBoundingClientRect().top;this.welcomeContentVisible=V<=c&&fe>=oe,this.welcomeContentViewed=V<=c,this.tvMode&&(this.turnOnUpIndicator=!(this.welcomeContentVisible||0===this.welcomeContentElement.nativeElement.scrollTop),this.turnOnDownIndicator=!this.welcomeContentVisible&&!this.welcomeContentViewed)}agreeAndContinue(){let c=null,V=null;this.logger.info("oobe, welcome screen - agree and continue clicked"),this.saveTermsSubscription=(0,pe.D)({saveTouResponse:this.oobeService.saveTermsOfUseAcceptedVersion(),isAnonUser:this.isAnonUser$}).pipe((0,Pe.b)(oe=>{this.logger.info("Success writing accepted version"+oe.saveTouResponse),this.oobeTelemetryService.oobeCompleted=!0}),(0,Te.zg)(oe=>(c=oe.isAnonUser,oe.isAnonUser?(this.logger.info("oobe welcome setAnonUserConsentData. TechnicalConsent="+this.anonUserConsent),V=this.anonUserConsent?v.ys:v.l3,this.userConsentService.setAnonUserConsentData(V)):(this.logger.event("oobe welcome setDefaultConsentData"),V=this.guestModeHelperService.isGuestMode?v.$P:v.l3,this.userConsentService.setDefaultConsentData(V))))).pipe((0,r.q)(1)).subscribe(()=>{this.logger.info("Successfully set default consent data"),this.oobeTelemetryService.sendOobeAcceptEvent(me.Ols.OobeAgreeAndContinue,c,V.technical),this.closeOobeDialog.emit("oobe closed")},oe=>{this.logger.error("Failed to set default consent data",oe)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.saveTermsSubscription&&this.saveTermsSubscription.unsubscribe(),this.telemetryService.setScreen(this.parentScreen)}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed),i.Y36(Xe.H),i.Y36(v.y0),i.Y36(Ze.Z),i.Y36(nt.u),i.Y36(Me.s),i.Y36(ze.h),i.Y36(O.jr),i.Y36(et.VH))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-oobe-welcome"]],viewQuery:function(c,V){if(1&c&&(i.Gf(Re,5),i.Gf(Q,5),i.Gf(ve,5)),2&c){let oe;i.iGM(oe=i.CRH())&&(V.welcomeContentElement=oe.first),i.iGM(oe=i.CRH())&&(V.welcomeContentLastTermElement=oe.first),i.iGM(oe=i.CRH())&&(V.welcomeContentFirstTermElement=oe.first)}},hostBindings:function(c,V){1&c&&i.NdJ("resize",function(fe){return V.onResize(fe)},!1,i.Jf7)("orientationchange",function(){return V.onOrientationChange()},!1,i.Jf7)},inputs:{tvMode:"tvMode"},outputs:{closeOobeDialog:"closeOobeDialog"},decls:34,vars:39,consts:[["fxFlex","","fxLayout","column","nvSpatialNavigationContainer","","nvTrapFocus","",1,"container"],["fxFlex","1 0 0",1,"welcome-header-container"],[1,"header-logo"],["svgIcon","gfnBranding"],["class","font-header6",3,"innerHTML",4,"ngIf"],["class","indicator-icon","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","8 0 0",1,"welcome-content-container",3,"scroll"],["welcomeContentContainer",""],[1,"welcome-text","font-body2"],["welcomeContentFirstChild",""],["cdkMonitorSubtreeFocus","",3,"innerHTML","shortUrl"],["cdkMonitorSubtreeFocus","",3,"innerHTML","shortUrl",4,"ngIf"],["welcomeContentLastChild",""],["fxFlex","none","fxLayout","column","class","anon-user-consent-container nv-hig",4,"ngIf"],[1,"welcome-footer-container",3,"ngClass"],["mat-raised-button","",1,"oobe-action-button","font-button2",3,"disabled","click"],[1,"font-header6",3,"innerHTML"],["fxLayout","row","fxLayoutAlign","center center",1,"indicator-icon"],["svgIcon","carrot_up",3,"ngClass"],["fxFlex","none","fxLayout","column",1,"anon-user-consent-container","nv-hig"],["fxLayoutFill","",1,"anon-user-consent-checkbox","font-body2",3,"ngModel","ngModelChange"],["svgIcon","carrot_down",3,"ngClass"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"mat-icon",3),i.qZA(),i.YNc(4,be,2,4,"h1",4),i.YNc(5,ke,2,3,"div",5),i.qZA(),i.TgZ(6,"div",6,7),i.NdJ("scroll",function(){return V.onScrollWelcomeContent()}),i.YNc(8,Ce,2,4,"h1",4),i.TgZ(9,"div",8)(10,"p")(11,"span",null,9),i._uU(13),i.ALo(14,"translate"),i.qZA()(),i.TgZ(15,"p"),i._uU(16),i.ALo(17,"translate"),i.qZA(),i.TgZ(18,"p"),i._UZ(19,"span",10),i.ALo(20,"translate"),i.qZA(),i.YNc(21,De,2,7,"p",11),i.TgZ(22,"p"),i._UZ(23,"span",10,12),i.ALo(25,"translate"),i.qZA()()(),i.YNc(26,ye,5,4,"div",13),i.ALo(27,"async"),i.TgZ(28,"div",14),i.ALo(29,"async"),i.YNc(30,Oe,2,3,"div",5),i.TgZ(31,"button",15),i.NdJ("click",function(){return V.agreeAndContinue()}),i._uU(32),i.ALo(33,"translate"),i.qZA()()()),2&c&&(i.xp6(4),i.Q6J("ngIf",!V.tvMode),i.xp6(1),i.Q6J("ngIf",V.tvMode),i.xp6(1),i.Udp("overflow-y",V.welcomeContentVisible?"hidden":"auto"),i.xp6(2),i.Q6J("ngIf",V.tvMode),i.xp6(5),i.Oqu(i.lcZ(14,17,"oobe.oobeStatement")),i.xp6(3),i.Oqu(i.lcZ(17,19,"oobe.oobeText")),i.xp6(3),i.Q6J("innerHTML",i.xi3(20,21,"oobe.oobePrivacyText",i.VKq(33,ie,V.privacyPolicyLink)),i.oJD)("shortUrl",V.privacyPolicyShortUrl),i.xp6(2),i.Q6J("ngIf",V.isBrowserPlatform),i.xp6(2),i.Q6J("innerHTML",i.xi3(25,24,"oobe.agreeToTermsOfUse",i.VKq(35,qe,V.termsOfUseLink)),i.oJD)("shortUrl",V.termsOfUseShortUrl),i.xp6(3),i.Q6J("ngIf",i.lcZ(27,27,V.isAnonUser$)),i.xp6(2),i.Q6J("ngClass",i.VKq(37,lt,i.lcZ(29,29,V.isAnonUser$))),i.xp6(2),i.Q6J("ngIf",V.tvMode),i.xp6(1),i.Q6J("disabled",!V.welcomeContentViewed),i.xp6(1),i.hij(" ",i.lcZ(33,31,"oobe.agreeAndContinue")," "))},dependencies:[t.mk,t.O5,x.JJ,x.On,T.xw,T.Wh,T.yH,B.oO,f.eB,le.FC,D.d,K.Hw,w.N,Le.xZ,_.E,$.e,F.p,J.kH,t.Ov,M.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.container[_ngcontent-%COMP%]{outline:none}.welcome-header-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:14px;margin-bottom:14px}.welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:none}.header-logo[_ngcontent-%COMP%]{width:fit-content;height:fit-content}.header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block;width:186px;height:56px}.welcome-text[_ngcontent-%COMP%]{color:#ffffffbf}.welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px;margin-top:14px;margin-bottom:14px}.welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-top:0}.anon-user-consent-container[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;margin-bottom:16px}.anon-user-consent-container[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-bottom:24px}.welcome-footer-container[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}.welcome-footer-container.anon-user[_ngcontent-%COMP%]{margin-top:36px}.welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{margin:8px 0;padding:0 8px;min-width:auto;height:36px;border:none;background-color:#393939;box-shadow:none}.isLtr[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{float:right}html[dir=ltr][_ngcontent-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{--dummy0: 0;float:right}.isRtl[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{float:left}html[dir=rtl][_ngcontent-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{--dummy0: 0;float:left}.welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[disabled][_ngcontent-%COMP%]{background-color:#393939;opacity:.38}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.container[_ngcontent-%COMP%]{width:100%;height:100%}.header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:186px;height:auto}.welcome-footer-container[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;display:flex;align-items:center;justify-content:flex-end}}.tv-view[_nghost-%COMP%]   .container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .container[_ngcontent-%COMP%]{margin:56px 88px 60px}.tv-view[_nghost-%COMP%]   .header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .header-logo[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:100px;width:auto}.tv-view[_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:48px;width:48px}.tv-view[_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon.gray-out[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .indicator-icon[_ngcontent-%COMP%]   .mat-icon.gray-out[_ngcontent-%COMP%]{color:#ffffff14}.tv-view[_nghost-%COMP%]   .welcome-header-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-header-container[_ngcontent-%COMP%]{margin-bottom:16px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]{width:1672px;height:587px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;margin-bottom:58px}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,255,255,.16)}.tv-view[_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track, .tv-view   [_nghost-%COMP%]   .welcome-content-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(255,255,255,.08)}.tv-view[_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]{width:1200px}.tv-view[_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:inherit;margin-top:58px;margin-bottom:58px}.tv-view[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-bottom:0;flex:3 0 auto}.tv-view[_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .welcome-footer-container[_ngcontent-%COMP%]   button.oobe-action-button[_ngcontent-%COMP%]{padding:0 32px;height:72px;width:fit-content;align-self:center}"]}),ce})();var kt=e(87761),an=e(93449),dn=e(54599),xn=e(57986),un=e(48131),Nt=e(39382),bn=e(64537),pn=e(89829),Mn=e(48037),ht=e(61340);function xt(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(c);const oe=i.oxw(2);return i.KtG(oe.closeClicked())}),i.TgZ(1,"mat-icon",16),i._uU(2,"close"),i.qZA()()}}function Fe(ce,Ae){if(1&ce&&(i.TgZ(0,"div",10)(1,"div",11)(2,"h1",12),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"div",13),i.YNc(6,xt,3,0,"button",14),i.qZA()()),2&ce){const c=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,2,"common.gfn")),i.xp6(3),i.Q6J("ngIf",c.closeButtonVisible)}}const ut=function(ce){return[ce]};let gt=(()=>{class ce{constructor(c,V,oe){var fe;this.ecommerceService=V,this.spatialNavigationService=oe,this.primaryButtonClicked=new i.vpe,this.closeButtonClicked=new i.vpe,this.showLoadingOnContinue=!1,this.closeButtonVisible=!0,this.destroy$=new P.xQ,this.closeButtonVisible=!(null!==(fe=null==c?void 0:c.featureEnablement)&&void 0!==fe&&fe.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.membershipUpdateProgressDialog.title",this.description="ecommerce.membershipUpdateProgressDialog.description"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){const c=document.getElementsByClassName("membership-options-link"),V=(null==c?void 0:c.length)>0?c[0]:void 0;V&&this.spatialNavigationService.onClick(V).pipe((0,l.R)(this.destroy$)).subscribe(oe=>{oe&&this.ecommerceService.openUpgradeMemberShipPage(un.CGJ.ScreenJoinGfnDialog,xn.D7.MembershipUpdateProgressEcomUIState)})}continueClicked(){this.showLoadingOnContinue=!0,this.ecommerceService.refreshUsersEntitlement(),this.primaryButtonClicked.emit()}closeClicked(){this.closeButtonClicked.emit()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(Nt.VK),i.Y36(bn.B),i.Y36(O.jr))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-membership-update-progress"]],inputs:{data:"data"},outputs:{primaryButtonClicked:"primaryButtonClicked",closeButtonClicked:"closeButtonClicked"},decls:18,vars:19,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","",1,"font-button2",3,"click"],["mat-raised-button","","nvProgressCircular","","nvAutoFocus","",1,"font-button2","mat-accent",3,"isVisible","click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,Fe,7,4,"div",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.TgZ(4,"div",4)(5,"h2",5),i._uU(6),i.ALo(7,"translate"),i.qZA(),i._UZ(8,"span",6),i.ALo(9,"trustAsHtml"),i.ALo(10,"translate"),i.qZA()(),i.TgZ(11,"div",7)(12,"button",8),i.NdJ("click",function(){return V.closeClicked()}),i._uU(13),i.ALo(14,"translate"),i.qZA(),i.TgZ(15,"button",9),i.NdJ("click",function(){return V.continueClicked()}),i._uU(16),i.ALo(17,"translate"),i.qZA()()()),2&c&&(i.Q6J("ngClass",i.VKq(17,ut,V.data.isStreamerApp?"main-content-streamer":"main-content-mall")),i.xp6(1),i.Q6J("ngIf",!V.data.isStreamerApp),i.xp6(5),i.Oqu(i.lcZ(7,7,V.dialogTitle)),i.xp6(2),i.Q6J("innerHTML",i.lcZ(9,9,i.lcZ(10,11,V.description)),i.oJD),i.xp6(5),i.hij(" ",i.lcZ(14,13,"common.close")," "),i.xp6(2),i.Q6J("isVisible",V.showLoadingOnContinue),i.xp6(1),i.hij(" ",i.lcZ(17,15,"common.continue")," "))},dependencies:[T.xw,T.Wh,T.s9,T.yH,B.oO,L.YS,K.Hw,f.eB,t.mk,t.O5,w.N,_.E,pn.h,F.p,Mn.W,ht.D,z.W,M.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),ce})();function yt(ce,Ae){1&ce&&(i.TgZ(0,"div",10),i._UZ(1,"div",11),i.qZA())}const Ut=function(ce){return[ce]};let en=(()=>{class ce{constructor(c){this.localeService=c,this.closeButtonClicked=new i.vpe,this.serverStatusShortUrl=et.hD[et.hE.GfnServerStatus]}ngOnInit(){this.localeSubscription=this.localeService.localeChanged.subscribe(c=>{this.serverStatusUrl=et.hE.BaseUrl+c+"&page="+et.hE.GfnServerStatus})}closeClicked(){this.closeButtonClicked.emit()}ngOnDestroy(){this.localeSubscription&&this.localeSubscription.unsubscribe()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.OL))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-membership-refresh-error"]],inputs:{data:"data"},outputs:{closeButtonClicked:"closeButtonClicked"},decls:17,vars:15,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","","fxLayout","column"],["fxLayoutAlign","center center",1,"dialog-art"],["fontSet","nv-custom-icons","fontIcon","icon-alert-circle_reg",1,"nv-custom-icons","membership-error-icon"],[1,"dialog-content","membership-error-text"],[1,"font-body2"],["target","_blank",1,"font-body2-link",3,"href","shortUrl"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","nvAutoFocus","",1,"font-button1",3,"click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","end center"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,yt,2,0,"div",1),i.TgZ(2,"div",2)(3,"div",3),i._UZ(4,"mat-icon",4),i.qZA(),i.TgZ(5,"div",5)(6,"h2",6),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"a",7),i._uU(10),i.ALo(11,"translate"),i.qZA()()(),i.TgZ(12,"div",8)(13,"button",9),i.NdJ("click",function(){return V.closeClicked()}),i.TgZ(14,"span"),i._uU(15),i.ALo(16,"translate"),i.qZA()()()()),2&c&&(i.Q6J("ngClass",i.VKq(13,Ut,V.data.isStreamerApp?"main-content-streamer":"main-content-mall")),i.xp6(1),i.Q6J("ngIf",!V.data.isStreamerApp),i.xp6(6),i.Oqu(i.lcZ(8,7,"common.genericLoadError")),i.xp6(2),i.Q6J("href",V.serverStatusUrl,i.LSH)("shortUrl",V.serverStatusShortUrl),i.xp6(1),i.hij(" ",i.lcZ(11,9,"common.viewServerStatus")," "),i.xp6(5),i.Oqu(i.lcZ(16,11,"common.close")))},dependencies:[T.xw,T.Wh,T.s9,T.yH,B.oO,K.Hw,f.eB,t.mk,t.O5,w.N,_.E,pn.h,F.p,ht.D,M.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}.membership-error-icon[_ngcontent-%COMP%]{padding:80px 0 0;margin:0 auto 86px;font-size:80px;width:100%;height:178px;line-height:1;display:block;text-align:center;box-sizing:border-box}.membership-error-text[_ngcontent-%COMP%]{text-align:center}"]}),ce})();function _n(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"div",13)(1,"button",14),i.NdJ("click",function(){i.CHM(c);const oe=i.oxw(2);return i.KtG(oe.closeClicked())}),i.TgZ(2,"mat-icon",15),i._uU(3,"close"),i.qZA()()()}}function Vt(ce,Ae){if(1&ce&&(i.TgZ(0,"div",9)(1,"div",10)(2,"h1",11),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.YNc(5,_n,4,0,"div",12),i.qZA()),2&ce){const c=i.oxw();i.xp6(3),i.Oqu(i.lcZ(4,2,"common.gfn")),i.xp6(2),i.Q6J("ngIf",c.closeButtonVisible)}}const cn=function(ce){return[ce]};let sn=(()=>{class ce{constructor(c,V,oe){var fe;this.ecommerceService=V,this.spatialNavigationService=oe,this.closeButtonClicked=new i.vpe,this.closeButtonVisible=!0,this.destroy$=new P.xQ,this.closeButtonVisible=!(null!==(fe=null==c?void 0:c.featureEnablement)&&void 0!==fe&&fe.tvMode)}ngOnInit(){this.dialogTitle="ecommerce.membershipNotUpdatedDialog.title",this.description="ecommerce.membershipNotUpdatedDialog.description"}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){const c=document.getElementsByClassName("membership-status-link"),V=(null==c?void 0:c.length)>0?c[0]:void 0;V&&this.spatialNavigationService.onClick(V).pipe((0,l.R)(this.destroy$)).subscribe(oe=>{oe&&this.ecommerceService.openAccountManagementPage(me.CGJ.ScreenJoinGfnDialog,xn.D7.MembershipNotUpdatedEcomUIState)})}closeClicked(){this.closeButtonClicked.emit()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(Nt.VK),i.Y36(bn.B),i.Y36(O.jr))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-membership-not-updated"]],inputs:{data:"data"},outputs:{closeButtonClicked:"closeButtonClicked"},decls:16,vars:15,consts:[["fxFlexFill","","fxLayout","column","nvSpatialNavigationContainer","","navigateAction","focus","nvCaptureRestoreFocus","",3,"ngClass"],["fxFlex","none","class","custom-title-bar","fxLayout","row",4,"ngIf"],["fxFlex","none","fxLayout","column"],["src","shared/assets/img/GFNUpSellBannerKV_v2.jpg",1,"dialog-art"],[1,"dialog-content"],[1,"font-header6"],["cdkMonitorSubtreeFocus","",1,"font-body2",3,"innerHTML"],["fxFlex","none","fxLayout","row","fxLayoutAlign","end center",1,"dialog-button"],["mat-button","","nvAutoFocus","",1,"font-button2",3,"click"],["fxFlex","none","fxLayout","row",1,"custom-title-bar"],["fxFlex","","fxLayoutAlign","start center"],["mat-dialog-title","",1,"font-header6"],["fxFlex","","fxLayoutAlign","end center",4,"ngIf"],["fxFlex","","fxLayoutAlign","end center"],["mat-icon-button","",3,"click"],["mat-font-set","material-icons"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,Vt,6,4,"div",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.TgZ(4,"div",4)(5,"h2",5),i._uU(6),i.ALo(7,"translate"),i.qZA(),i._UZ(8,"span",6),i.ALo(9,"trustAsHtml"),i.ALo(10,"translate"),i.qZA()(),i.TgZ(11,"div",7)(12,"button",8),i.NdJ("click",function(){return V.closeClicked()}),i.TgZ(13,"span"),i._uU(14),i.ALo(15,"translate"),i.qZA()()()()),2&c&&(i.Q6J("ngClass",i.VKq(13,cn,V.data.isStreamerApp?"main-content-streamer":"main-content-mall")),i.xp6(1),i.Q6J("ngIf",!V.data.isStreamerApp),i.xp6(5),i.Oqu(i.lcZ(7,5,V.dialogTitle)),i.xp6(2),i.Q6J("innerHTML",i.lcZ(9,7,i.lcZ(10,9,V.description)),i.oJD),i.xp6(6),i.Oqu(i.lcZ(15,11,"common.close")))},dependencies:[T.xw,T.Wh,T.s9,T.yH,B.oO,L.YS,K.Hw,f.eB,t.mk,t.O5,w.N,_.E,pn.h,F.p,ht.D,z.W,M.X$],styles:["[_ngcontent-%COMP%]:root{--rwd-column-count: 4;--rwd-gutter-count:3;--rwd-gutter-size: 8px;--rwd-container-side-spacing: 16px;--rwd-column-size:calc((100vw - 56px)/4)}@media screen and (min-width: 480px){[_ngcontent-%COMP%]:root{--rwd-column-count: 6;--rwd-gutter-count:5;--rwd-column-size: calc((100vw - 32px - 40px) / 6)}}@media screen and (min-width: 720px){[_ngcontent-%COMP%]:root{--rwd-column-count: 8;--rwd-gutter-count:7;--rwd-column-size:calc((100vw - 88px)/8)}}@media screen and (min-width: 960px){[_ngcontent-%COMP%]:root{--rwd-column-count: 12;--rwd-gutter-count:11;--rwd-container-side-spacing: 24px;--rwd-column-size: calc((100vw - 48px - 88px) / 12)}}@media screen and (min-width: 1440px){[_ngcontent-%COMP%]:root{--rwd-gutter-size: 16px;--rwd-column-size: calc((100vw - 48px - 176px) / 12)}}.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:470px;overflow:hidden;transition:height .5s}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:470px;height:50px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:24px}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:24px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:24px}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:470px;height:264px;border:transparent;padding-bottom:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:24px;height:254px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%]{padding:24px;height:91px}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;margin:4px 0 0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content-queue-limit[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{display:none}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin-top:0}.main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{flex-wrap:nowrap;margin:8px;position:relative;right:0;bottom:0}.isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:8px}.isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:8px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane[_ngcontent-%COMP%]{height:215px}.main-content-streamer[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upsell-pane-message[_ngcontent-%COMP%]{border-top:1px solid rgba(255,255,255,.15);margin:0 24px;padding:23px 0}.main-content-streamer[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .upgrade-container[_ngcontent-%COMP%]{margin:8px}@media (max-width: 469px){.main-content-streamer[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]{width:100vw}.main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:unset}.main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100vw;height:auto}.main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{width:unset}}@media (max-width: 599.98px) and (orientation: portrait),(max-width: 959.98px) and (orientation: landscape){.main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{display:none}.main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{display:none!important}.main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:fit-content!important}}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]{width:840px;height:925px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{width:100%;height:88px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy1: 0;padding-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-right:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-right:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{padding-left:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .custom-title-bar[_ngcontent-%COMP%]{--dummy2: 0;padding-left:32px}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-art[_ngcontent-%COMP%]{width:100%;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{padding:32px;height:auto}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]{margin:8px 32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:32px}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-left:32px}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:32px}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy3: 0;margin-right:32px}.isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isLtr   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isLtr   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=ltr]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-right:0}.isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl[_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   [_nghost-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl.tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .isRtl   .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   .isRtl   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:0}html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl][_ngcontent-%COMP%]   .tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, html[dir=rtl]   .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child, .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   .dialog-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{--dummy4: 0;margin-left:0}.tv-view[_ngcontent-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-mall[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:200px}.tv-view[_ngcontent-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view[_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%], .tv-view   [_nghost-%COMP%]   .main-content-streamer[_ngcontent-%COMP%]   div.dialog-content[_ngcontent-%COMP%]{height:288px}"]}),ce})();function tn(ce,Ae){if(1&ce&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce){const c=i.oxw();i.xp6(1),i.hij(" ",i.lcZ(2,1,c.data.header)," ")}}let ct=(()=>{class ce{constructor(c,V){this.dialogRef=c,this.data=V}ngOnInit(){}close(){this.dialogRef.close()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(L.hV),i.Y36(L.eJ))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-confirmation-dialog"]],decls:10,vars:10,consts:[["fxLayout","column","fxLayoutAlign","space-between stretch","nvBackToCloseModal","",1,"confirmation-dialog"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center"],["fxLayout","row","fxLayoutAlign","flex-end center"],["mat-button","","color","accent",1,"mat-raised-button","mat-accent","color-white-important",3,"click"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,tn,3,3,"p",1),i.TgZ(2,"p",2),i._UZ(3,"span"),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"div",3)(7,"button",4),i.NdJ("click",function(){return V.close()}),i._uU(8),i.ALo(9,"translate"),i.qZA()()()),2&c&&(i.xp6(1),i.Q6J("ngIf",V.data.header),i.xp6(2),i.Gre("nv-custom-icons ",V.data.iconClass,""),i.xp6(1),i.hij(" ",i.lcZ(5,6,V.data.message)," "),i.xp6(4),i.hij(" ",i.lcZ(9,8,V.data.closeButtonText)," "))},dependencies:[t.O5,f.eB,T.xw,T.Wh,G.u,M.X$],styles:[".confirmation-dialog span.nv-custom-icons{font-size:20px}:host-context(.isLtr) .confirmation-dialog span.nv-custom-icons{margin-right:10px}html[dir=ltr] .confirmation-dialog span.nv-custom-icons{--dummy4: 0;margin-right:10px}:host-context(.isRtl) .confirmation-dialog span.nv-custom-icons{margin-left:10px}html[dir=rtl] .confirmation-dialog span.nv-custom-icons{--dummy4: 0;margin-left:10px}.confirmation-dialog-set-background .mat-dialog-container{background:#1f2224}\n"],encapsulation:2}),ce})(),ft=(()=>{class ce{constructor(c,V){this.matDialog=c,this.focusManager=V}open(c){return c.panelClass="confirmation-dialog-set-background",this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(ct,c))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(L.on),i.LFG(O.IK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),ot=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[n.o9,L.yj,K.Ps,f.yu,D.t,b.UK,t.ez,ne,p.it,M.aw.forChild(),O.hp]}),ce})();i.B6R(dn.U,function(){return[T.xw,T.s9,T.yH,B.oO,t.mk,t.RF,t.n9,$.e,G.u,an.I,gt,en,sn]},[]);var Ct=e(11095);let Tt=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[L.yj,K.Ps,f.yu,b.UK,t.ez,M.aw,n.o9,Ct.Nn,O.hp]}),ce})();var Xt=e(38930);let nn=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[n.o9,Xt.N,L.yj,K.Ps,f.yu,D.t,b.UK,t.ez,ne,p.it,M.aw.forChild(),O.hp]}),ce})(),On=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[t.ez,x.u5,n.o9,q.Q,M.aw.forChild(),R,ot,Tt,nn,p.it,O.hp,J.rt,t.ez,x.u5,_e.E,ne,ot,Tt]}),ce})();i.B6R(kt.C,function(){return[Et]},[]);var Ye=e(36540),Je=e(43891),Rt=e(37004),he=e(27942),Ne=e(85236),Qe=e(22281),at=e(18388),vt=e(51325),zt=e(70494);let yn=(()=>{class ce{constructor(c,V){this.experienceControlService=V,this.logger=c.getLogger("shared/Experience-Ipc")}getCloudVariable(c,V={},oe,fe,Ue,Ke){return this.experienceControlService.getCloudVariable(c,V,oe,fe,Ue,Ke).pipe((0,Pe.b)(je=>{}),(0,vt.K)(je=>(0,at._)(je)))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(zt.Q6))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var jt=e(70577),Qt=e(54877),Zt=e(33986),ln=e(59562),Tn=e(41221),wt=e(89258),Dn=e(13800),Bt=e(21361),Jt=e(14708),Pn=(()=>{return(ce=Pn||(Pn={}))[ce.Recommended=1]="Recommended",ce[ce.Required=2]="Required",ce[ce.Critical=3]="Critical",Pn;var ce})(),kn=(()=>{return(ce=kn||(kn={})).Recommended="recommended",ce.Required="required",ce.Critical="critical",kn;var ce})(),zn=(()=>{return(ce=zn||(zn={}))[ce.Success=0]="Success",ce[ce.SubAppRunning=1]="SubAppRunning",ce[ce.Failed=2]="Failed",zn;var ce})();const qn="updateData";var Wi=e(29733),Ln=e(16873);function Li(ce,Ae){1&ce&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"common.updateRequiredDescription")))}function $e(ce,Ae){1&ce&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"common.updateRequiredDescription")))}let bt=(()=>{class ce{constructor(c){this.router=c,this.isMall=!(0,Wi.wI)(this.router.url)}ngOnInit(){}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(Ln.F0))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-update-in-progress"]],decls:4,vars:2,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center",1,"main-content"],[4,"ngIf"],["diameter","60","mode","indeterminate",1,"mat-accent"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0),i.YNc(1,Li,3,3,"span",1),i.YNc(2,$e,3,3,"span",1),i._UZ(3,"mat-spinner",2),i.qZA()),2&c&&(i.xp6(1),i.Q6J("ngIf",V.isMall),i.xp6(1),i.Q6J("ngIf",!V.isMall))},dependencies:[b.sN,t.O5,T.xw,T.Wh,T.yH,M.X$],styles:[".main-content{width:470px;height:240px}.main-content .dialog-content{padding:24px;height:302px}.main-content .dialog-content>h2{margin-top:0}.main-content mat-spinner{margin-top:20px}.mat-dialog-container{padding:0;border-radius:0}\n"],encapsulation:2}),ce})();var g=e(80155);const X="command-line";var de=e(7241),Se=e(91565);class He{constructor(Ae,c,V,oe,fe,Ue,Ke,je,st,Ot,Lt){this.ipcService=Ae,this.nativeEventService=oe,this.sharedStorage=fe,this.telemetry=Ue,this.telemetryUtilService=Ke,this.bridgeService=je,this.systemInfoService=st,this.dialog=Ot,this.focusManager=Lt,this.firstRunAfterMajorUpdate=!1,this.firstRunAfterMajorUpdateObservable=new ln.t(1),this.initialAppVersion=null,this.logger=c.getLogger("updateService"),this.updateEventStream=new g.Gb(()=>(this.updateInternalSubject=new P.xQ,this.updateInternalSubject.asObservable()),!1),this.baseVersion=new Jt.b((0,Nt.sc)(V)),this.updateChannel=V.selfUpdate.serverChannel,this.wasUpdatedFromUI=!1,this.updateStartTimestamp=0,this.registerForIpcMessages(),this.registerForWindowEvents(),this.readPreviousVersion().pipe((0,Pe.b)(At=>{this.previousVersion=At||He.zeroVersion}),(0,Te.zg)(this.storeCurrentVersion.bind(this)),(0,Te.zg)(this.isFirstRunAfterUpdate.bind(this)),(0,Te.zg)(At=>At?this.telemetryUtilService.getAppLaunchTelemetryObservable():(0,U.of)(!1)),(0,Te.zg)(At=>At?this.sendAppLaunchTelemetry(this.previousVersion):(0,U.of)(null))).subscribe(Tn.Z,At=>{this.logger.error("Received error while reading and updating stored version: ",At)},()=>{this.logger.info("Completed reading and updating stored version")}),this.pendingGameLaunchSubject=new ln.t(1)}registerForIpcMessages(){this.ipcSubscriptions?(this.ipcSubscriptions.forEach((c,V)=>{c.unsubscribe(),this.logger.info("Unregistering for ipc event: ",V)}),this.ipcSubscriptions.clear()):this.ipcSubscriptions=new Map,this.logger.info("Registering for ipc events");const Ae=(c,V)=>this.ipcService.get$(c).pipe((0,Te.zg)(oe=>(this.logger.info("IPC event call for version",oe),this.isUpdateAvailable$().pipe((0,wt.U)(fe=>(this.logger.info("IPC update available response:",fe),fe)),(0,vt.K)(fe=>(this.errorUpdate("Received error when handling ipc update: "+fe),this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),me.YwJ.Error,"Error on IPC event: "+fe),(0,U.of)(!1)))))),(0,vt.K)(oe=>(this.logger.error("Received error on ipc type "+c+": ",oe),this.registerForIpcMessages(),(0,U.of)(!1)))).subscribe();this.ipcSubscriptions.set(Qe.oI.SelfUpdate,Ae(Qe.oI.SelfUpdate)),this.ipcSubscriptions.set(Qe.oI.RecommendedUpdate,Ae(Qe.oI.RecommendedUpdate)),this.ipcSubscriptions.set(Qe.oI.RequiredUpdate,Ae(Qe.oI.RequiredUpdate)),this.ipcSubscriptions.set(Qe.oI.CriticalUpdate,Ae(Qe.oI.CriticalUpdate))}registerForWindowEvents(){this.windowEventSubscriptions?(this.windowEventSubscriptions.forEach((oe,fe)=>{oe.unsubscribe(),this.logger.info("Unregistering for window event: ",fe)}),this.windowEventSubscriptions.clear()):this.windowEventSubscriptions=new Map,this.logger.info("Registering for window events");const Ae=this.nativeEventService.get$(p.Nx.SelfUpdate,p.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(oe=>{try{const fe=this.validateUpdateData(this.parseUpdateData(oe));(0,s.isNil)(fe)||this.handleIncomingUpdate(fe)}catch(fe){this.errorUpdate(fe),this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),me.YwJ.UpdateFailure,fe.toString())}},oe=>{this.logger.error("Received error from window event "+p.Nx.SelfUpdate+": ",oe),this.registerForWindowEvents()});this.windowEventSubscriptions.set(p.Nx.SelfUpdate,Ae);const c=this.nativeEventService.get$(p.Nx.StoredCommandLine,p.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(oe=>{let fe;try{fe=JSON.parse(oe)}catch{return void this.logger.error("Invalid object raised as stored command line: ",oe)}(0,s.isNil)(fe[X])?this.logger.error("Update command line event raised without data or command-line value: ",fe):this.handlePostUpdateCommandLine(fe[X])},oe=>{this.logger.error("Received error from window event "+p.Nx.StoredCommandLine+": ",oe),this.registerForWindowEvents()});this.windowEventSubscriptions.set(p.Nx.StoredCommandLine,c);const V=this.nativeEventService.get$(p.Nx.UpdateInitiated,p.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),me.YwJ.UpdateInitiated,null,0,{immediateRequest:!0}),this.showUpdateInProgressDialog()},oe=>{this.logger.error("Received error from window event "+p.Nx.UpdateInitiated+": ",oe),this.registerForWindowEvents()});this.windowEventSubscriptions.set(p.Nx.UpdateInitiated,V)}getUpdates$(){return this.updateEventStream.get$()}getPendingGameLaunch$(){return this.pendingGameLaunchSubject.asObservable()}recordUpdateFromUI$(){return this.appendUpdateData({updateFromJS:!0})}updateApplication$(Ae=!1){return this.appendUpdateData({updateFromJS:!0,updateFromStreamer:Ae,updateStartTimestamp:Date.now()}).pipe((0,Dn.w)(()=>this.bridgeService.executeCommand(de.B.GfnUpdate)),(0,wt.U)(c=>c),(0,Pe.b)(c=>{(0,s.isNil)(c)||(0,s.isNil)(c.status)?this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),me.YwJ.Error,"Error running update query, invalid result or status"):c.status!==zn.Success&&this.sendAppUpdateTelemetry(this.baseVersion,this.getTargetVersion(),me.YwJ.Error,"Error status returned from update query: "+c.status)}))}showUpdateInProgressDialog(){const Ae={disableClose:!0,autoFocus:!0,panelClass:["confirmation-dialog-set-background","nv-overlay-panel"]};return this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(bt,Ae))}getUpdateData$(){return this.bridgeService.executeCommand(Bt.Gh.Common.Update.ReadTicket,{}).pipe((0,wt.U)(Ae=>{try{return this.validateUpdateData(Ae)}catch(c){throw this.logger.error("Error when processing ReadTicket result: ",c),new Error(c)}}),(0,vt.K)(Ae=>(this.logger.error("Error reading update ticket data",Ae),(0,U.of)(null))))}getAvailableUpdate$(){return this.getUpdateData$().pipe((0,wt.U)(Ae=>(this.handleIncomingUpdate(Ae),this.pendingUpdate)))}isUpdateAvailable$(){return this.getAvailableUpdate$().pipe((0,wt.U)(Ae=>!(0,s.isNil)(Ae)))}updateRequiredOnLaunch$(){return this.getAvailableUpdate$().pipe((0,wt.U)(Ae=>(0,s.get)(Ae,"severity",Pn.Recommended)>Pn.Recommended))}isFirstAppRunAfterMajorUpdate$(){return this.firstRunAfterMajorUpdateObservable.asObservable()}parseUpdateData(Ae){let c;try{c=JSON.parse(Ae)}catch{const oe="Update ticket raised with improper JSON: "+Ae;throw this.logger.error(oe),new Error(oe)}if((0,s.isNil)(Ae)||(0,s.isNil)(c)){const V="Update ticket raised with null data: "+Ae;throw this.logger.error(V),new Error(V)}return c}validateUpdateData(Ae){if((0,s.isNil)(Ae)){const V="validateUpdateData called with null updateData";throw this.logger.error(V),new Error(V)}if(!Ae.available||(0,s.isNil)(Ae.severity)||(0,s.isNil)(Ae.version))return this.logger.info("No update available"),null;const c=function oi(ce){switch(ce){case kn.Recommended:return Pn.Recommended;case kn.Required:return Pn.Required;case kn.Critical:return Pn.Critical;default:return null}}(Ae.severity);if((0,s.isNil)(c)){const V="Unrecognized update severity: "+Ae.severity;throw this.logger.error(V),new Error(V)}return{version:new Jt.b(Ae.version),severity:c}}isUpdateAccepted(Ae){if((0,s.isNil)(Ae))return!1;if((0,s.isNil)(this.pendingUpdate))return this.baseVersion.compare(Ae.version)===Jt.A.Greater;switch(this.pendingUpdate.version.compare(Ae.version)){case Jt.A.Greater:return!0;case Jt.A.Lesser:return this.logger.info("Checked update has a lower version than current pending update: "+this.updateDataToString(Ae)+" < "+this.updateDataToString(this.pendingUpdate)),!1;case Jt.A.Equal:return Ae.severity>this.pendingUpdate.severity||(this.logger.info("Raised update has equal version and lesser or equal severity as current pending update: "+this.updateDataToString(Ae)+" <= "+this.updateDataToString(this.pendingUpdate)),!1)}return!1}handleIncomingUpdate(Ae){this.isUpdateAccepted(Ae)?this.acceptUpdate(Ae):this.ignoreUpdate(Ae)}acceptUpdate(Ae){this.logger.info("Accepting new update data: ",Ae),this.pendingUpdate=Ae,this.updateInternalSubject.next(this.pendingUpdate),this.sendAppUpdateTelemetry(this.baseVersion,Ae.version,me.YwJ.IPCReceived)}errorUpdate(Ae){const c="Raising error when processing update: "+Ae;this.logger.error(c),this.updateInternalSubject.error(c)}ignoreUpdate(Ae){this.logger.info("Ignoring update data: ",Ae)}updateDataToString(Ae){return(0,s.isNil)(Ae)?"undefined":Ae.version+":("+Ae.severity+")"}readUpdateData(){return this.sharedStorage.readBlock(qn)}writeUpdateData(Ae){return this.sharedStorage.writeBlock(qn,Ae)}appendUpdateData(Ae){return this.readUpdateData().pipe((0,Te.zg)(c=>{(0,s.isNil)(Ae)&&(c={});const V=Object.assign(Object.assign({},c),Ae);return this.writeUpdateData(V)}))}isFirstRunAfterUpdate(){return this.readPreviousVersion().pipe((0,Pe.b)(Ae=>{this.firstRunAfterMajorUpdate=this.baseVersion.compareMajorVersion(Ae)===Jt.A.Lesser,this.firstRunAfterMajorUpdateObservable.next(this.firstRunAfterMajorUpdate&&!this.isFirstApplicationInstall(Ae))}),(0,wt.U)(Ae=>this.baseVersion.compare(Ae)===Jt.A.Lesser))}isFirstApplicationInstall(Ae){return Ae.compare(He.zeroVersion)===Jt.A.Equal}storeCurrentVersion(){const Ae={currentVersion:this.baseVersion.toString()};return this.isFirstApplicationInstall(this.previousVersion)&&(Ae.initialAppVersion=Jt.b.getPaddedFourOctetVersion(this.baseVersion.toString())),this.appendUpdateData(Ae)}getInitialVersion(){return this.initialAppVersion?(0,U.of)(this.initialAppVersion):this.readUpdateData().pipe((0,wt.U)(Ae=>{const c=null==Ae?void 0:Ae.initialAppVersion;return this.initialAppVersion=c&&new Jt.b(c)||He.zeroVersion,this.initialAppVersion}))}readPreviousVersion(){return(0,s.isNil)(this.previousVersion)?((0,s.isNil)(this.readPreviousVersionOb$)&&(this.readPreviousVersionOb$=this.readUpdateData().pipe((0,wt.U)(Ae=>{if((0,s.isNil)(Ae))this.logger.info("No update data found in shared storage");else{this.wasUpdatedFromUI=(0,s.get)(Ae,"updateFromJS",!1),this.updateStartTimestamp=(0,s.get)(Ae,"updateStartTimestamp",0);const c=(0,s.get)(Ae,"currentVersion",He.zeroVersion.toString()),V=new Jt.b(c);if(V.compare(He.zeroVersion)!==Jt.A.Equal)return V;this.logger.info("No previous version found in shared storage update block")}return He.zeroVersion}),(0,vt.K)(Ae=>{const c="Error caught when reading update data from shared storage: "+Ae;throw this.logger.error(c),new Error(c)}))),this.readPreviousVersionOb$):(0,U.of)(this.previousVersion)}sendAppUpdateTelemetry(Ae,c,V,oe,fe=0,Ue){this.logger.info("Uploading app update telemetry",Ae,c,V,oe,fe,Ue);const Ke=new me.J2u({previousVersion:(0,s.isNil)(Ae)?"":Ae.toString(),targetVersion:(0,s.isNil)(c)?"":c.toString(),status:V,downloadTimeMs:0,upTimeMs:0,installerRuntimeMs:fe,retryCount:0,channel:this.updateChannel,updateUrl:"",errorCategory:(0,s.isNil)(oe)?me.Ydg.None:me.Ydg.General,errorMessage:(0,s.isNil)(oe)?"":oe});this.telemetry.push(Ke,0,Ue)}sendAppLaunchTelemetry(Ae){return this.systemInfoService.getOsInformation().pipe((0,wt.U)(c=>({OSName:c.OSName,OSVersion:c.OSVersion})),(0,vt.K)(c=>(this.logger.error("Received error from getOsInfo, uploading telemetry without os info. Error = ",c),(0,U.of)({OSName:"",OSVersion:""}))),(0,wt.U)(c=>{let V,oe;if(Ae===He.zeroVersion)V="",oe=me.AUc.FirstApplicationInstall;else{V=Ae.toString(),oe=me.AUc.SelfUpdateInstallAuto;let Ke=0;this.updateStartTimestamp>0&&(Ke=Date.now()-this.updateStartTimestamp),this.sendAppUpdateTelemetry(this.previousVersion,this.baseVersion,me.YwJ.UpdateSuccess,null,Ke)}const fe={clientType:this.telemetryUtilService.getClientType(),type:oe,previousAppVersion:V,osName:c.OSName,osVersion:c.OSVersion};this.logger.info("Uploading app install telemetry: ",oe);const Ue=new me.syg(fe);this.telemetry.push(Ue)}))}handlePostUpdateCommandLine(Ae){const c=(0,Je.X4)(Ae,this.logger);(0,s.isNil)(c)||this.isFirstRunAfterUpdate().subscribe(V=>{V&&!this.wasUpdatedFromUI?(this.logger.info("Found cmsId, this is the first run with a new version, and the previous update was not initiated from the UI, so attempting to launch the given cmsId"),this.pendingGameLaunchSubject.next(c)):this.logger.info("found cmsId "+c+", but this is not the first run after an update. Ignoring")})}getTargetVersion(){return(0,s.isNil)(this.pendingUpdate)?null:this.pendingUpdate.version}}He.zeroVersion=new Jt.b("0"),He.\u0275fac=function(Ae){return new(Ae||He)(i.LFG(Qe.uC),i.LFG(p.ed),i.LFG(Nt.VK),i.LFG(p.o1),i.LFG(Se.OA),i.LFG(v.y0),i.LFG(me.wU6),i.LFG(p.dF),i.LFG(p.Ob),i.LFG(L.on),i.LFG(O.IK))},He.\u0275prov=i.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"});let it=(()=>{class ce{constructor(){}}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["html"]],decls:10,vars:0,consts:[["charset","UTF-8"],["onload","sendErrorMessage()",2,"background-color","#1a1a1a","font-family","Roboto, sans-serif"],[2,"position","absolute","top","50%","left","50%","margin-right","50%","transform","translate(-50%, -50%)"],["aria-hidden","true",2,"color","rgba(255, 255, 255, .3)","width","410px","text-align","center"],["src","data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjNWE1YTVhIiBoZWlnaHQ9IjQ4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSI0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4gICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPiAgICA8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMSAxNWgtMnYtNmgydjZ6bTAtOGgtMlY3aDJ2MnoiLz48L3N2Zz4="],[2,"color","rgba(255, 255, 255, .3)","width","410px","text-align","center"]],template:function(c,V){1&c&&(i.TgZ(0,"head"),i._UZ(1,"meta",0),i.TgZ(2,"title"),i._uU(3,"NVIDIA GeForce NOW"),i.qZA()(),i.TgZ(4,"body",1)(5,"div",2)(6,"p",3),i._UZ(7,"img",4),i.qZA(),i.TgZ(8,"p",5),i._uU(9," #pageCouldNotBeLoaded "),i.qZA()()())},encapsulation:2}),ce})(),dt=(()=>{class ce{constructor(c,V){this.translate=c,this.bridgeService=V}load(c){return this.translateStringTable(c.translateStringTable).pipe((0,Te.zg)(V=>{const oe=Object.assign(Object.assign({},V),c.staticStringTable);return this.bridgeService.executeCommand(Bt.Gh.Common.Applicationcontrol.LoadStringTable,{stringTable:oe})}))}translateStringTable(c){if((0,s.isNil)(c))return(0,U.of)(c);const V=Object.keys(c),oe=Object.values(c);return this.translate.get(oe).pipe((0,wt.U)(fe=>{const Ue={};return oe.forEach((Ke,je)=>{Ue[V[je]]=fe[Ke]}),Ue}))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(M.sK),i.LFG(p.dF))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Pt=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je){this.componentFactoryResolver=c,this.injector=V,this.stringTableService=oe,this.configuration=fe,this.translate=Ue,this.localeService=Ke,this.logger=je.getLogger("gfn-shared/GfnStringTableService")}load(){return this.localeService.localeChanged.pipe((0,Te.zg)(c=>{const Ue=`<html><head><meta charset="UTF-8"></head>${this.componentFactoryResolver.resolveComponentFactory(it).create(this.injector).location.nativeElement.innerHTML}</html>`,Ke={translateStringTable:{quitMenuItem:"common.quit"},staticStringTable:{userAgent:this.configuration.client.userAgent+"/"+this.configuration.build.version,onLoadError:Ue,acceptLanguage:c}},je=["error.pageCouldNotBeLoaded","common.retry"],st=["#pageCouldNotBeLoaded","#retry"];return this.translate.get(je).pipe((0,Te.zg)(Ot=>(je.forEach((Lt,At)=>{Ke.staticStringTable.onLoadError=Ke.staticStringTable.onLoadError.replace(st[At],Ot[Lt])}),this.stringTableService.load(Ke))),(0,vt.K)(Ot=>(this.logger.error("Could not translate static strings ",Ot),this.stringTableService.load(Ke))))}))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(dt),i.LFG(Nt.VK),i.LFG(M.sK),i.LFG(p.OL),i.LFG(p.ed))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var St=e(84904),Mt=e(13666),Be=e(42930),Ie=e(74266),se=e(94751),We=e(58765),rt=e(10600),mt=e(12983),It=e(71168),on=e(48163),Cn=e(18406),Sn=e(47504),Yn=e(64259),wi=e(85085),fn=e(86465),$n=e(50906);let ar=(()=>{class ce{constructor(c,V,oe){this.idmService=c,this.loggingService=V,this.sharedStorageService=oe,this.currentUserId="undefined",this.currentUserConsent=v.nM,this.userConsentFetchedSubject=new ln.t(1),this.logger=this.loggingService.getLogger("UserConsentWrapperService")}initialize(){this.readSharedStorageConsent(),this.onUserAccountStatusChanged(),this.onJarvisUserDataChanged()}hasUserIdChanged(c){return!(0,s.isEqual)(this.currentUserId,c)}hasUserConsentChanged(c){return!(0,s.isEqual)(this.currentUserConsent,c)}setCurrentUserData(c,V){this.currentUserId=c,this.currentUserConsent=V}readSharedStorageConsent(){this.sharedStorageService.readBlock("userConsentInfo").subscribe(c=>{!(0,s.isUndefined)(c)&&this.hasUserIdChanged(c.userId)&&this.hasUserConsentChanged(c.userConsent)&&(this.setCurrentUserData(c.userId,c.userConsent),this.userConsentFetchedSubject.next({userId:c.userId,externalUserId:c.externalUserId,idpId:c.idpId,userConsent:c.userConsent}))})}onUserAccountStatusChanged(){this.idmService.accountStatusChanged.subscribe(c=>{if(c.isAuthenticated){const V=(0,Je.WF)(c);this.hasUserIdChanged(c.userId)&&this.hasUserConsentChanged(V)&&(this.setCurrentUserData(c.userId,V),this.userConsentFetchedSubject.next({userId:c.userId,externalUserId:c.externalId,idpId:c.idpId,userConsent:V}))}else this.setCurrentUserData(c.userId,v.l3),this.userConsentFetchedSubject.next({userId:"",externalUserId:"",idpId:"",userConsent:void 0})})}onJarvisUserDataChanged(){this.idmService.accountStatusChanged.subscribe(c=>{if(c.isAuthenticated){const V=(0,Je.WF)(c);this.hasUserIdChanged(c.userId)&&this.hasUserConsentChanged(V)&&(this.setCurrentUserData(c.userId,V),this.userConsentFetchedSubject.next({userId:c.userId,externalUserId:c.externalId,idpId:c.idpId,userConsent:V}))}else this.hasUserIdChanged(c.userId)&&this.userConsentFetchedSubject.next({userId:"",externalUserId:"",idpId:"",userConsent:void 0})})}getUserConsentFetchedSubjectObservable(){return this.userConsentFetchedSubject.asObservable()}getLogoutInitiatedNotification(){return this.idmService.getLogoutInitializeNotification()}sameTabAuthStarted(){return this.idmService.sameTabAuthStarted()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG($n.No),i.LFG(p.ed),i.LFG(Se.OA))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const Ai="saveAppInstanceId";let Di=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At){this.appConfig=c,this.systemInfoService=V,this.telemetryService=oe,this.remoteLoggingService=fe,this.userConsentWrapperService=Ue,this.loggingService=Ke,this.sharedStorageService=je,this.logQueueService=st,this.gfnWebWorkerService=Ot,this.telemetryUtilService=Lt,this.injector=At,this.defaultConsent=v.nM,this.appInstanceIdSubject=new Cn.X(""),this.appInstanceId=p.kQ,this.waitForLogRestore$=new ln.t(1),this.eventParamIds={streamSessionId:"",surveySessionId:""},this.clientVersion="",this.logger=this.loggingService.getLogger("GfcHelperService")}restoreAllData(){null!==window.sessionStorage.getItem(Ai)&&(this.remoteLoggingService.restoreSavedLogs(),this.appInstanceId=window.sessionStorage.getItem(Ai),window.sessionStorage.removeItem(Ai)),this.waitForLogRestore$.next(!0)}getLogoutInitializeNotification(){this.userConsentWrapperService.getLogoutInitiatedNotification().subscribe(c=>{this.remoteLoggingService.handleExternalUrlLoad()})}saveLogsOnLoginClick(){this.logger.info("Subscribing to Login initiated notification"),this.userConsentWrapperService.sameTabAuthStarted().subscribe(c=>{c===fn.fH.LoginStarted&&(this.logger.info("Received notification for ",c),window.sessionStorage.setItem(Ai,this.appInstanceId),this.remoteLoggingService.saveLogsToSessionStorage(),this.logger.info("Completed saving appInstanceId and Logs"))})}initialize(c,V=this.eventParamIds){this.clientVersion=c,this.restoreAllData(),this.saveLogsOnLoginClick();const oe=this.appConfig.gfcFeedbackEvents;this.remoteLoggingService.setBufferConfiguration({msBetweenChunkCreation:oe.msBetweenChunkCreation,maxBufferSizeInBytes:oe.maxBufferSizeInBytes,chunksQueueSize:oe.chunksQueueSize,chunkResendRetryLimit:oe.chunkResendRetryLimit}),this.userConsentWrapperService.initialize(),this.prepareAllGfcEventParams(V),this.registerForTimerRequests().subscribe(s.noop,fe=>{this.logger.error("Error getting timer updates")}),this.telemetryService.getDefaultClientConsentObserable().subscribe(()=>{this.defaultConsent=v.l3,this.remoteLoggingService.defaultConsentLevel=v.l3}),this.getLogoutInitializeNotification()}onTimerUpdate(c){c===wi.Em.Timeout||c===wi.Em.Cleared?this.logQueueService.updateTimer(c):this.logger.error("Error polling for idle timeout: ",c)}registerForTimerRequests(){return this.logQueueService.timerSubscriptionChanged().pipe((0,Dn.w)(c=>this.gfnWebWorkerService.intervalHandler(c,this.onTimerUpdate.bind(this))))}buildGFNPCLogsFeedbackData(c){return this.systemInfoService.getSystemInfo().pipe((0,wt.U)(V=>{const oe=(0,s.extend)({},{appInstanceId:c.appInstanceId,streamSessionId:c.streamSessionId||"",browserName:V.BrowserName||"",browserVersion:V.BrowserVersion||"",osName:V.OSName||"",osVersion:V.OSVersion||"",streamSubSessionIds:[],surveySessionId:c.surveySessionId||""});return this.logger.info("Prepared gfc feedback event params."),this.remoteLoggingService.prepareGfcFeedbackEventParams(oe),!0}))}setAppInstanceIdInIndexedDb(c){return this.sharedStorageService.writeBlock("gfc",{appInstanceId:c})}prepareGfnPcLogsEventParams(c){let V;return this.waitForLogRestore$.pipe((0,Te.zg)(oe=>(this.appInstanceId===p.kQ&&(this.appInstanceId=(0,g.Rl)()),this.setAppInstanceIdInIndexedDb(this.appInstanceId))),(0,Te.zg)(oe=>(V=oe,c.appInstanceId=this.appInstanceId,this.buildGFNPCLogsFeedbackData(c))),(0,Pe.b)(oe=>{V&&(console.log("Application InstanceId: ",this.appInstanceId),this.appInstanceIdSubject.next(this.appInstanceId))}))}getClientVariantType(c){switch(c){case"ibeta":return p.ns.iBeta;case"release":return p.ns.Release;default:return p.ns.Undefined}}fetchCommonDataFromSystem(c,V){return(0,Sn.aj)([this.systemInfoService.getDeviceId(),this.systemInfoService.getSystemInfo(),this.userConsentWrapperService.getUserConsentFetchedSubjectObservable()]).pipe((0,wt.U)(([oe,fe,Ue])=>{var Ke,je;const st={clientVer:this.clientVersion,deviceId:oe,sessionId:this.telemetryService.telemetrySessionId,feedbackId:this.telemetryService.telemetrySessionId,feedbackName:c,fileList:V,clientType:p.Bh.Browser,clientVariant:this.getClientVariantType(this.appConfig.build.variant),deviceOS:fe.OSName,deviceOSVersion:null!==(Ke=fe.OSVersion)&&void 0!==Ke?Ke:p.kQ,deviceMake:p.kQ,deviceModel:fe.SystemName||p.kQ,deviceType:fe.DeviceType,browserType:null!==(je=fe.BrowserName)&&void 0!==je?je:p.kQ,integrationId:this.telemetryUtilService.getIntegrationId(),deviceGdprFuncOptIn:this.defaultConsent.functional,deviceGdprTechOptIn:this.defaultConsent.technical,deviceGdprBehOptIn:this.defaultConsent.behavioral,productName:this.appConfig.gfcFeedbackEvents.productName,productVersion:this.clientVersion||p.kQ};return this.logger.trace(g.y$.UserDetails,g.Px.UserInfo,"Feedback id is "+st.feedbackId),this.logger.trace(g.y$.UserDetails,g.Px.UserInfo,"Client version is "+st.clientVer),(0,s.isEmpty)(Ue.userId)||Ue.userId===p.kQ?(st.userId=p.kQ,st.externalUserId=p.kQ,st.idpId=p.kQ):(st.userId=Ue.userId,st.externalUserId=Ue.externalUserId,st.idpId=Ue.idpId),null!=Ue&&Ue.userConsent&&(st.gdprFuncOptIn=Ue.userConsent.functional,st.gdprTechOptIn=Ue.userConsent.technical,st.gdprBehOptIn=Ue.userConsent.behavioral),st}),(0,vt.K)(oe=>(this.logger.error("Error fetching common device info: ",oe),(0,at._)(oe))))}prepareFeedbackEventCommonParameters(){return console.log("telemetry sessionId/feedbackId ",this.telemetryService.telemetrySessionId),this.fetchCommonDataFromSystem("GFNPCLogs",[{name:"mall_console.txt",type:"file/gfnwebobfuscation"}]).pipe((0,Dn.w)(V=>(this.remoteLoggingService.prepareFeedbackCommonEventData(V),this.logger.info("Prepared common gfc feedback event params."),(0,U.of)(!0))),(0,vt.K)(V=>(this.logger.error("Error fetching systeminfo or deviceId: ",V),(0,U.of)(!1))))}prepareAllGfcEventParams(c){const V=this.prepareFeedbackEventCommonParameters(),oe=this.prepareGfnPcLogsEventParams(c);(0,re.$R)(V,oe).subscribe(fe=>{!(0,s.isUndefined)(fe)&&fe[0]&&fe[1]&&this.handleUserConsentUpdates()})}handleUserConsentUpdates(){this.userConsentWrapperService.getUserConsentFetchedSubjectObservable().subscribe(c=>{(0,s.isEmpty)(c.userId)?this.remoteLoggingService.prepareFeedbackCommonEventData({userId:p.kQ}):(c.userId!==p.kQ||!(0,s.isEmpty)(c.userId))&&(this.remoteLoggingService.prepareFeedbackCommonEventData({userId:c.userId}),this.remoteLoggingService.setUserConsent({userId:c.userId,externalUserId:c.externalUserId,idpId:c.idpId,userConsent:c.userConsent}))})}updateEventDataParamIds(c){this.remoteLoggingService.updateEventDataParamIds(c)}getAppInstanceId(){return this.appInstanceIdSubject.asObservable()}terminateRemoteLogSession(){this.logger.info("Terminating log collection."),this.remoteLoggingService.stopFeedbackUpload()}triggerExceptionInfoUpload(c){const V=this.injector.get(Yn.H0);if(V){this.logger.info("EndPoints service available");const{exceptionTrace:oe}=c,fe=(0,on._T)(c,["exceptionTrace"]);(0,Sn.aj)([this.remoteLoggingService.feedbackId$,this.fetchCommonDataFromSystem("GFNUIException")]).pipe((0,r.q)(1),(0,Te.zg)(([Ue,Ke])=>{this.logger.info("feedbackId:",Ue),Ke.clientTs=(new Date).toISOString(),Ke.feedbackId=(0,g.Rl)();let je=!1;Ke.gdprTechOptIn===p.p6.Full&&(Ke.fileList=[{name:"exception_trace.txt",type:"file/js-stacktrace"}],je=!0),this.logger.info("Common data:",Ke);const st=Object.assign(Object.assign({},Ke),{parameters:Object.assign({},fe)});return st.parameters.logsFeedbackId=Ue,V.sendFeedbackBasedOnTechConsent(st,je,oe)})).subscribe(()=>{this.logger.info("Exception data sent successfully")},Ue=>{this.logger.info("Error uploading exception info:",Ue)})}else this.logger.info("EndPoints service not available, not uploading the feedback event")}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(Nt.VK),i.LFG(p.Ob),i.LFG(v.y0),i.LFG(p.V$),i.LFG(ar),i.LFG(p.ed),i.LFG(Se.OA),i.LFG(p.p3),i.LFG(wi.$_),i.LFG(me.wU6),i.LFG(i.zs3))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),Ki=(()=>{class ce extends mt.r7{constructor(c,V,oe){super(c.getLogger("shared/CustomExceptionService"),V,oe),this.exceptionDataList=new Map,this.exceptionEvent$=new P.xQ}handleClientSideException(c,V){this.registerExceptionLimiter(),this.timeLimiter=V.exceptionTimeLimiter,this.exceptionEvent$.next(c)}registerExceptionLimiter(){let c;const V=this.injector.get(It.s),oe=this.injector.get(Nt.VK);this.exceptionEvent$.pipe((0,Ie.h)(fe=>(c={message:fe.message,fileName:"",stackFrameSource:"",exceptionTrace:fe.exceptionString},!this.exceptionMatchFound(fe.name,c))),(0,Pe.b)(fe=>{var Ue,Ke,je;this.exceptionDataList.set(fe.name,c),this.logger.info("Added exception data list of size: ",this.exceptionDataList.size);const st=this.injector.get(me.wU6);this.sendExceptionTelemetry(fe,st);const Ot={name:null!==(Ue=fe.name)&&void 0!==Ue?Ue:"",message:null!==(Ke=fe.message)&&void 0!==Ke?Ke:"",exceptionTrace:null!==(je=fe.exceptionString)&&void 0!==je?je:"",logsFeedbackId:""};if(p.ng.isBrowserPlatform()){const Lt=this.injector.get(Di);Lt?(Lt.triggerExceptionInfoUpload(Ot),this.logger.info("Exception upload triggered")):this.logger.info("Could not inject GfcHelperService")}else st.triggerExceptionInfoUpload(Ot)}),(0,se.M)(V.remoteConfigFetched$.pipe((0,We.O)({overrides:{},config:oe}))),(0,rt.z)(([fe,Ue])=>((0,s.has)(Ue,"config.exception")&&(this.timeLimiter=Ue.config.exception.exceptionTimeLimiter),this.logger.info("Exception rate limit timer started: ",this.timeLimiter),(0,Be.H)(this.timeLimiter)))).subscribe(()=>{this.clearExceptionDataList()})}exceptionMatchFound(c,V){let oe=!1;return!(0,s.isNil)(this.exceptionDataList)&&!(0,s.isEmpty)(this.exceptionDataList)&&this.exceptionDataList.has(c)&&(oe=(0,s.isEqual)(V,this.exceptionDataList.get(c))),oe}clearExceptionDataList(){this.logger.info("clearing exception data list"),this.exceptionDataList.clear()}sendExceptionTelemetry(c,V){var oe,fe,Ue;this.logger.info("Sending Exception telemetry event"),this.injector.get(v.y0).push(new me.vlM({clientType:V.getClientType(),name:null!==(oe=c.name)&&void 0!==oe?oe:"",message:null!==(fe=c.message)&&void 0!==fe?fe:"",fileName:"",stackFrameSource:"",exceptionTrace:null!==(Ue=c.exceptionString)&&void 0!==Ue?Ue:""}))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(i.zs3),i.LFG(L.on))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac}),ce})();var wo=Bt.Yk.Common.Discord.DiscordAsset;let Ni=(()=>{class ce{constructor(c,V,oe,fe,Ue){this.bridgeService=V,this.settingsService=oe,this.appConfig=fe,this.translate=Ue,this.logger=c.getLogger("DiscordService"),this.discordRpEnabled=jt.n.discordRpEnabled,this.featureEnabled=this.appConfig.featureEnablement.discordRichPresence&&p.ng.isCefPlatform()||!1,this.settingsService.getSettingsData().subscribe(Ke=>{this.discordRpEnabled=(0,s.get)(Ke,"discordRpEnabled",jt.n.discordRpEnabled)},Ke=>this.logger.error("Failed to get settings data",Ke))}updatePresence(c){!this.featureEnabled||!c||this.translate.get("discord.playing",{title:c}).subscribe(V=>(this.currentPresence={details:V.trim().substring(0,128),largeImageKey:wo.Large},this.discordRpEnabled&&this.updatePresenceCommand(this.currentPresence)))}clearPresence(){!this.featureEnabled||!this.currentPresence||(this.currentPresence=null,this.clearPresenceCommand())}updatePresenceCommand(c){if(!(0,s.isEmpty)(c))return this.logger.info("Updating rich presence with params",c),this.bridgeService.executeCommand(Bt.Gh.Common.Discord.UpdatePresence,c).subscribe()}clearPresenceCommand(){return this.logger.info("Clearing rich presence"),this.bridgeService.executeCommand(Bt.Gh.Common.Discord.ClearPresence,{}).subscribe()}setDiscordEnabled(c){this.discordRpEnabled=c,c?this.updatePresenceCommand(this.currentPresence):this.clearPresenceCommand()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(p.dF),i.LFG(jt.gb),i.LFG(Nt.VK),i.LFG(M.sK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Ao=e(32220);let Do=(()=>{class ce{constructor(c,V,oe,fe){this.loggingService=c,this.networkConfigurationService=V,this.gridService=oe,this.logger=this.loggingService.getLogger("gfn/startupService")}checkAndFixOverrideZone(){const c=[],V=this.gridService.zoneList$.pipe((0,vt.K)(oe=>(this.logger.error("failed to get zones",oe),(0,U.of)({}))));return c.push(V),c.push(this.networkConfigurationService.getNetworkOverride()),(0,re.$R)(...c).pipe((0,Te.zg)(oe=>{const fe=oe[0],Ue=oe[1];return(0,s.isNil)(Ue)||Ue.isInternal||-1!==((0,s.isNil)(fe)?[]:Object.values(fe)).findIndex(st=>st.address===Ue.address&&st.name===Ue.name)?(0,U.of)(!0):(this.logger.info("Zone override present and not available in the zonesList, clearing the NetworkOverride"),this.networkConfigurationService.clearNetworkOverride())}))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(St.XS),i.LFG(Ye.r),i.LFG(Ao.i))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var _i=(()=>{return(ce=_i||(_i={})).StartRelaunch="StartRelaunch",ce.CheckForceStatus="CheckForceStatus",ce.AppContextSwitch="AppContextSwitch",ce.SendIpcShutdown="SendIpcShutdown",ce.FinishRelaunch="FinishRelaunch",ce.Done="Done",_i;var ce})(),$t=e(4042);class No{constructor(Ae,c,V,oe){this.applicationLifetimeService=Ae,this.sharedStorageService=c,this.updateService=V,this.stateMachineStatusSubject=new ln.t(1),this.isRelaunchFromStreamer=!1,this.sharedStorageKey="relaunchData",this.relaunchShutdownHandler=()=>(0,U.of)(void 0),this.logger=oe.getLogger("crimson/relaunchService")}startRelaunch(Ae,c=!1){return this.isActive()?(0,at._)("Relaunch started when one was already active"):(this.isRelaunchFromStreamer=c,this.stateMachineStatusSubject.next(_i.StartRelaunch),this.relaunchData=this.createNewRelaunchData(Ae),this.startRelaunchInternal())}createNewRelaunchData(Ae){return{active:!0,force:Ae}}cancelRelaunch(){this.isActive()?this.logger.error("cancelRelaunch called when relaunch wasn't started"):this.relaunchData.active=!1}shutdownDueToIpc(){return this.relaunchShutdownHandler().pipe((0,Pe.b)(()=>this.applicationLifetimeService.shutdownApplication(Y.ld.IpcRequestedExit)),(0,$t.h)(void 0))}startRelaunchInternal(){return this.isCancelled()?(0,at._)("Relaunch Cancelled"):this.onRelaunch()}setRelaunchShutdownHandler(Ae){this.relaunchShutdownHandler=(0,s.isNil)(Ae)?()=>(0,U.of)(void 0):Ae}appendRelaunchSharedData(Ae){return this.readRelaunchSharedData().pipe((0,wt.U)(c=>((0,s.isNil)(c)&&(c={}),(0,s.merge)(c,Ae),c)),(0,Te.zg)(c=>this.writeRelaunchSharedData(c)))}clearRelaunchSharedData(){return this.writeRelaunchSharedData({})}readRelaunchSharedData(){return this.sharedStorageService.readBlock(this.sharedStorageKey)}isActive(){return!(0,s.isNil)(this.relaunchData)&&this.relaunchData.active}currentState(){return this.stateMachineStatusSubject.asObservable()}isCancelled(){return!(0,s.isNil)(this.relaunchData)&&!this.relaunchData.active}onRelaunch(){return this.stateMachineStatusSubject.next(_i.FinishRelaunch),this.relaunchShutdownHandler().pipe((0,Te.zg)(()=>this.appendRelaunchSharedData({releaseHighlight:!0})),(0,Te.zg)(()=>this.updateService.updateApplication$(this.isRelaunchFromStreamer)),(0,Ie.h)(Ae=>this.validateGfnSelfUpdateResponse(Ae)),(0,Te.zg)(()=>this.onDone()))}validateGfnSelfUpdateResponse(Ae){if((0,s.isNil)(Ae)||(0,s.isNil)(Ae.status))throw this.logger.error("gfnSelfUpdate returned invalid result data"),Ae;switch(Ae.status){case zn.SubAppRunning:throw this.logger.error("gfnSelfUpdate returned SUB_APP_RUNNING"),Ae;case zn.Failed:throw this.logger.error("gfnSelfUpdate returned FAILED"),Ae;case zn.Success:return this.logger.info("Self update succeeded"),!0;default:throw this.logger.error("gfnSelfUpdate returned unknown staus value"),Ae}}onDone(){return this.stateMachineStatusSubject.next(_i.Done),this.cancelRelaunch(),(0,U.of)(!0)}writeRelaunchSharedData(Ae){return this.sharedStorageService.writeBlock(this.sharedStorageKey,Ae)}}var cr=e(235);let Uo=(()=>{class ce{}return ce.\u0275fac=function(c){return new(c||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[t.ez,cr.U8]}),ce})();e(83157);var An=e(27897);e(39001);var Fo=e(80296),Kt=e(69060),Ci=e(9533),vn=e(62024),co=e(46057);let go=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At){this.appConfig=V,this.distributedTracingUtilService=oe,this.distributedTracingXhrFactoryService=fe,this.systemInfoService=Ue,this.nesUserInfoService=Ke,this.sharedStorageCachingService=je,this.localeService=st,this.router=Ot,this.gridService=Lt,this.openTelemetryService=At,this.logger=c.getLogger("gfn/distributed-tracing-initializer")}initializeDistributedTracing(){const V=this.openTelemetryService.getOTELTracer({collectorUrl:this.appConfig.otelTracerConfig.collectorUrl,componentName:this.appConfig.otelTracerConfig.componentName,accessToken:this.appConfig.otelTracerConfig.accessToken},{openTracingContextPropagation:this.appConfig.openTelemetry.useOpenTracingContextPropagation});this.distributedTracingUtilService.setTracer(V),this.distributedTracingXhrFactoryService.initialize(),this.distributedTracingXhrFactoryService.setTracer(V),this.distributedTracingXhrFactoryService.setWhitelist(this.appConfig.distributedTracing.xhrAllowList),this.distributedTracingXhrFactoryService.setStatusCodeZeroAnalyzerConfig(this.appConfig.statusCodeZeroAnalyzerConfig),this.setGlobalTags()}setGlobalTags(){const c=(0,U.of)({[Kt.NI.ServiceVersion]:(0,Nt.sc)(this.appConfig),[Kt.NI.ServiceType]:Kt.sk.Pc_A7,[Kt.NI.SpanKind]:Kt.$Q.Client,[Kt.NI.AppName]:(0,vn.wI)(this.router.url)?vn.lW.Streamer:vn.lW.Mall}),V=this.systemInfoService.getDeviceId().pipe((0,wt.U)(je=>({[Kt.NI.DeviceId]:je})),(0,We.O)({})),oe=this.systemInfoService.getOsInformation().pipe((0,wt.U)(je=>({[Kt.NI.ClientOs]:je.Platform,[Kt.NI.ClientOsName]:je.OSName,[Kt.NI.ClientOsVersion]:je.OSVersion})),(0,We.O)({}),(0,vt.K)(je=>(this.logger.info(`Error fetching osInfo: ${je}`),(0,U.of)({})))),fe=this.fetchCountryCode().pipe((0,wt.U)(je=>({[Kt.NI.CountryCode]:je})),(0,We.O)({})),Ue=this.localeService.localeChanged.pipe((0,wt.U)(je=>({[Kt.NI.Locale]:je})),(0,We.O)({})),Ke=this.gridService.vpcId$.pipe((0,wt.U)(je=>({[Kt.NI.VpcId]:je})),(0,We.O)({}),(0,vt.K)(je=>(this.logger.info(`Error fetching vpcId: ${je}`),(0,U.of)({[Kt.NI.VpcId]:Kt.H7.VpcId}))));(0,Sn.aj)([c,V,oe,fe,Ue,Ke]).subscribe(([je,st,Ot,Lt,At,Yt])=>{const qt=(0,s.merge)({},je,st,Ot,Lt,At,Yt);this.logger.info("Setting the global tags:",qt),this.distributedTracingUtilService.setGlobalTags(qt),this.distributedTracingXhrFactoryService.setGlobalTags(qt)})}fetchCountryCode(){return this.sharedStorageCachingService.getItem(Ci.RI.CountryCode).pipe((0,Te.zg)(c=>{if((0,s.isNil)(c.data))return this.logger.info("Cound not find countrycode in shared storage so fetching from NES"),this.nesUserInfoService.getCountryCode();if(c.expired){if(!this.sharedStorageCachingService.isExpiredValueAllowed(Ci.RI.CountryCode))return this.logger.info("Expired values not allowed for country code hence fetching fresh value from NES"),this.nesUserInfoService.getCountryCode();this.logger.info("The cached country code value is expired so refreshing in backgound"),this.refreshCountryCodeInBackground()}return this.logger.info(`Using the country code from cache ${c.data}`),(0,U.of)(c.data)}))}refreshCountryCodeInBackground(){this.nesUserInfoService.getCountryCode().subscribe()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Nt.VK),i.LFG(Kt.Dc),i.LFG(Kt.fy),i.LFG(p.Ob),i.LFG(co.f),i.LFG(Ci.sB),i.LFG(p.OL),i.LFG(Ln.F0),i.LFG(Ye.r),i.LFG(Kt.Kj))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Si=e(55734);const ho="releaseHighlightStatus",Ui="releaseHighlightsOnAppUpdate",uo={go:"IN",sM:"32GB",osC:"10.0",osB:"7601",is6:"1",GFPV:"385.69",iLp:"0"},ko={name:"gfnReleaseHighlightsHtml",classPath:Si.zJ.services,clientPath:Si.dp.GfeClient,endpointPath:"/getStyledClientReleaseHighlightsHtml",method:Si.fo.Get,paramMask:["cNm","cmID","gcV","lg","gLg","go","cID","dIDa","sM","osC","osB","is6","GFPV","gIsB","iLp","isO","isSLI","cSR","isInst","Plt","clVt"]};let Go=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt){var At,Yt;this.localService=oe,this.matDialog=fe,this.aemService=Ue,this.sharedStorage=Ke,this.remoteConfigurationService=je,this.telemetryUtilService=st,this.systemInfoService=Ot,this.focusManager=Lt,this.releaseHighlightsData={shown:!1},this.aemEndpointDefintions=[],this.aemEndpointDefintions.push(ko),this.logger=V.getLogger("gfn/releaseHighlights"),this.aemService.addEndpointDefinitions(this.aemEndpointDefintions),this.platform$=this.telemetryUtilService.getPlatform(),this.clientVariant=this.telemetryUtilService.getClientVariant(),this.osInfo$=this.systemInfoService.getOsInformation(),this.mobileMode=!(null===(At=null==c?void 0:c.featureEnablement)||void 0===At||!At.mobileMode),this.tvMode=!(null===(Yt=null==c?void 0:c.featureEnablement)||void 0===Yt||!Yt.tvMode)}getReleaseHighlight(){return this.getAemReleaseHighlights().pipe((0,wt.U)(c=>({title:"common.releaseHighlights",subTitle:"",body:c.body.gfcontent.body,style:"dialog-service-container-size"})))}getAemReleaseHighlights(){return(0,re.$R)(this.localService.localeChanged,this.platform$,this.osInfo$).pipe((0,Te.zg)(([c,V,oe])=>this.aemService.callAemEndpoint("gfnReleaseHighlightsHtml",Object.assign(Object.assign({cmID:"",gcV:this.clientVersion,gLg:c,lg:""},uo),{cNm:p.ng.isNativeLikePlatform()?"gfn":"gfnb",isInst:this.isInstallScenario,Plt:p.ng.isNativeLikePlatform()?V:(0,Je.Jk)(oe.OSName.toString()),clVt:this.clientVariant}),{originalService:me.v6v.Aem,serviceUseCase:me.f$p.Get_Release_Highlights},{},{"Content-Type":"text/plain"},void 0)))}updateReleaseHighlightsStatusInSharedStorage(c){return this.sharedStorage.writeBlock(ho,{appVersion:c,isDialogShown:!0})}showReleaseHighlightsFromRemoteConfig(c){return this.remoteConfigurationService.remoteConfigFetched$.pipe((0,Te.zg)(V=>{const oe=new Jt.b(c);if((0,s.isNil)(V.config)||(0,s.isNil)(V.config.releaseHighlights))return this.logger.info("Remote config value not set for Release highlights."),(0,U.of)(!1);{const fe=V.config.releaseHighlights.showReleaseHighlightsForAppVersion;return this.logger.info("Remote config value for Release highlights: ",fe),oe.compare(new Jt.b(fe))===Jt.A.Equal?this.updateReleaseHighlightsStatusInSharedStorage(oe.toString()).pipe((0,Te.zg)(()=>(0,U.of)(!0))):(this.logger.info("Remote config version does not match the app versions."),(0,U.of)(!1))}}))}showReleaseHighlightsFromSharedStorage(c){return this.sharedStorage.readBlock(ho).pipe((0,Te.zg)(V=>(0,s.isNil)(V)||(0,s.isEmpty)(V)?(0,U.of)(!0):V.appVersion===c?(0,U.of)(!V.isDialogShown):(this.logger.info("Old version value present in shared storage. Clearing"),this.sharedStorage.writeBlock(ho,{}).pipe((0,$t.h)(!0)))))}onShowReleaseHighlight(c,V,oe){if(this.clientVersion=V,this.isInstallScenario=oe,!c||!this.releaseHighlightsData.shown){this.releaseHighlightsData.shown=!0;const fe={autoFocus:!1,hasBackdrop:!0,disableClose:!1,panelClass:"dialogPaddingRemove"};return fe.data={getArticleCallback:()=>this.getReleaseHighlight(),autoCloseOnError:c,noInformationAvailableTxt:"releaseHighlights.noInformationAvailable",closeTxt:"common.close",dialogType:d.Release_Highlights,isInstallationScenario:this.isInstallScenario,tvMode:this.tvMode},this.mobileMode&&(fe.maxWidth="100vw"),this.focusManager.restoreFocusAfterClosed(()=>this.matDialog.open(ee,fe)),this.readReleaseHighlightsSkippedStatus(this.clientVersion).pipe((0,Te.zg)(Ue=>Ue?this.sharedStorage.writeBlock(Ui,{}):(0,U.of)(null))).subscribe()}}updateReleaseHighlightsSkippedStatus(c,V){return this.sharedStorage.writeBlock(Ui,{appVersion:c,isSkipped:V})}readReleaseHighlightsSkippedStatus(c){return this.sharedStorage.readBlock(Ui).pipe((0,Te.zg)(V=>V?V.appVersion===c?(0,U.of)(V.isSkipped):(this.logger.info("Old version value present in shared storage. Clearing"),this.sharedStorage.writeBlock(Ui,{}).pipe((0,$t.h)(!1))):(0,U.of)(!1)))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(Nt.VK),i.LFG(p.ed),i.LFG(p.OL),i.LFG(L.on),i.LFG(Si.ZJ),i.LFG(Se.OA),i.LFG(It.s),i.LFG(me.wU6),i.LFG(p.Ob),i.LFG(O.IK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var mo=e(12365),po=e(38449),Bo=e(97986),In=e(27344),ci=e(49989),$i=e(50608),fo=e(57693),Fi=e(93450),vo=e(79901);function mr(ce,Ae){1&ce&&(i.TgZ(0,"div",9),i._UZ(1,"mat-icon",10),i.qZA())}function Ho(ce,Ae){1&ce&&(i.TgZ(0,"span",11),i._uU(1,"error"),i.qZA())}function Vo(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"button",12),i.NdJ("click",function(){i.CHM(c);const oe=i.oxw(2);return i.KtG(oe.onCancel())}),i.TgZ(1,"span",13),i._uU(2),i.ALo(3,"translate"),i.qZA()()}if(2&ce){const c=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,1,c.cancelButtonText))}}function pr(ce,Ae){if(1&ce){const c=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(oe){i.CHM(c);const fe=i.oxw(2);return i.KtG(fe.onLoginClicked(oe))}),i.TgZ(1,"span",13),i._uU(2),i.ALo(3,"translate"),i.qZA()()}if(2&ce){const c=i.oxw(2);i.xp6(2),i.Oqu(i.lcZ(3,1,c.tryLoginText))}}function Wo(ce,Ae){if(1&ce&&(i.TgZ(0,"div",1),i.YNc(1,mr,2,0,"div",2),i.YNc(2,Ho,2,0,"span",3),i.TgZ(3,"div",4)(4,"span"),i._uU(5),i.ALo(6,"translate"),i.qZA()(),i.TgZ(7,"span",5),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"div",6),i.YNc(11,Vo,4,3,"button",7),i.YNc(12,pr,4,3,"button",8),i.qZA()()),2&ce){const c=i.oxw();i.Q6J("ngClass",c.isStreamer?"main-content-streamer":"main-content-mall")("backToCloseResult",c.backToCloseResult),i.xp6(1),i.Q6J("ngIf",!c.showErrorIcon&&c.isStreamer),i.xp6(1),i.Q6J("ngIf",c.showErrorIcon&&c.isStreamer),i.xp6(1),i.Q6J("ngClass",c.showErrorIcon&&c.isStreamer?"content-header-error font-sub1":"content-header font-header6"),i.xp6(2),i.Oqu(i.lcZ(6,9,c.headerText)),i.xp6(3),i.Oqu(i.lcZ(9,11,c.bodyText)),i.xp6(3),i.Q6J("ngIf",c.showCancel),i.xp6(1),i.Q6J("ngIf",c.showTryLogin)}}let zo=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En){var gn,mn,Nn;this.dialogRef=oe,this.genericDialog=fe,this.localeService=Ue,this.router=Ke,this.telemetryService=je,this.config=st,this.dialogData=Ot,this.gfnSdkService=Lt,this.systemInfoService=At,this.idmTelemetryService=Yt,this.idmService=qt,this.headerText="",this.bodyText="",this.cancelButtonText="",this.tryLoginText="",this.showCancel=!1,this.showTryLogin=!1,this.isStreamer=!1,this.shouldShowLoginButton=!1,this.showErrorIcon=!1,this.deviceAuthUri="",this.deviceAuthCode="",this.deviceAuthUriComplete="",this.browserPopup=void 0,this.needsWindowWorkaround=!1,this.hideSystemName=!1,this.backToCloseResult=fn.L$.Cancel,this.useDeviceAuthLogin=!(null===(gn=this.config)||void 0===gn||!gn.useDeviceAuthLogin),this.logger=c.getLogger("loginBridgeState"),this.needsWindowWorkaround=!(null===(mn=null==V?void 0:V.featureEnablement)||void 0===mn||!mn.loginPopupBlockerWorkaround),this.hideSystemName=!(null===(Nn=null==V?void 0:V.starfleet)||void 0===Nn||!Nn.hideSystemName),this.destroy$=new P.xQ,this.onLoginClicked=En.guard(O.Ku.Link,this.onLoginClicked.bind(this))}initialize(){this.shouldShowLoginButton?(this.headerText="loginBridgeState.login",this.bodyText="loginBridgeState.loginToGeForceNow",this.tryLoginText="common.login",this.showCancel=!1,this.showTryLogin=!0):this.onTryLogin()}getDeviceName$(){return this.useDeviceAuthLogin?this.systemInfoService.getStaticSystemInfo().pipe((0,r.q)(1),(0,wt.U)(c=>{const V=(0,Je.Q2)(c.OSName),oe=(0,Je._6)(c.DeviceType),fe=this.hideSystemName?void 0:c.SystemName;if(!V||!oe)return void this.logger.info("OsName or DeviceType not found: ",V,oe);const Ue=`${V} ${oe}`;return this.logger.info("DeviceName created: ",Ue),fe?`${Ue} ${fe}`:Ue}),(0,vt.K)(c=>(this.logger.error("Error creating deviceName: ",c),(0,U.of)(void 0)))):(0,U.of)(void 0)}startLoginProcess(){this.logger.trace(g.y$.UserGesture,g.Px.Login,g.Rf.open," login operation"),this.getDeviceName$().pipe((0,r.q)(1),(0,Te.zg)(c=>(this.idmTelemetryService.sendLoginStartEvent(this.dialogData.idpId,!1),this.idmService.login(!1,this.dialogData.idpId,this.browserPopup,c))),(0,l.R)(this.destroy$)).subscribe(c=>{switch(this.logger.info("starfleet login state update",c),c){case fn.fH.LoginAbortedByUser:this.dialogRef.close(fn.L$.Cancel);break;case fn.fH.LoginAbortedAlreadyLoggedIn:this.dialogRef.close(fn.L$.Success);break;case Fi.n.LoggedIn:this.idmTelemetryService.sendLoginSuccessUserSessionEvent(),this.dialogRef.close(fn.L$.Success);break;case fn.fH.LoginFailed:case Fi.n.Failed:this.onLoginFailed();break;case fn.fH.LoginFailedNoRetry:case Fi.n.LoggedOut:this.onLoginFailed(!1);break;case fn.fH.LoginFailedToStart:this.onLoginFailed(!1,!1);break;case fn.fH.LoginInProgressNeedDisplayCode:this.onNeedDisplayCode()}},c=>{this.logger.error("failed to login the user with error",c),this.needsWindowWorkaround&&c===fn.fH.LoginAlreadyInProgress&&(this.idmService.cancel(),setTimeout(()=>{this.startLoginProcess()}))})}ngOnInit(){this.isStreamer=(0,vn.MA)(this.router.url),(0,Sn.aj)([this.gfnSdkService.getAuthType(),this.localeService.localeChanged]).pipe((0,Te.zg)(([c])=>(this.isStreamer&&c!==Me.Gr.IDM_FALLBACK&&c!==Me.Gr.JWT&&(this.shouldShowLoginButton=!0),this.localeService.localeChanged)),(0,r.q)(1)).subscribe(Tn.Z,c=>this.logger.error("error in in locale changed"),()=>this.initialize())}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.closeOffDeviceAuthDialog()}onLoginFailed(c=!0,V=!0){if(V?(this.headerText="common.loginUnsuccessful",this.bodyText=c?"loginBridgeState.problemLogInRetry":"loginBridgeState.problemLogIn"):(this.headerText="loginBridgeState.unableToInitiateLogin",this.bodyText="loginBridgeState.poroblemTryingToLogin"),this.showCancel=!0,this.cancelButtonText="common.close",this.showTryLogin=c,this.showErrorIcon=!0,this.tryLoginText="common.retry",!1===V?this.sendCreateHTTPServerErrorEvent():this.idmTelemetryService.sendLoginFailureUserSessionEvent(),this.useDeviceAuthLogin){const oe={panelClass:"dialogPaddingRemove",disableClose:!0,data:Object.assign(Object.assign({},this.dialogData),{headerText:{text:this.headerText},bodyText:{text:this.bodyText},primaryButton:{text:this.cancelButtonText}})};this.openThreeQuarterSheet(oe)}}sendCreateHTTPServerErrorEvent(){this.logger.info("Sending create HTTP server error event");const c=new me.cym({portsUsed:this.config.portNumbers?this.config.portNumbers.toString():"",errorMessage:fn.C4.HTTP_START_FAILED});this.telemetryService.push(c)}onCancel(){this.logger.trace(g.y$.UserGesture,g.Px.Login,g.Rf.close," Login operation by clicking on cancel button"),this.dialogRef.close("common.close"===this.cancelButtonText?fn.L$.CloseOnFailure:fn.L$.Cancel)}onTryLogin(){this.needsWindowWorkaround?(this.browserPopup=window.open("","_blank"),this.headerText="loginBridgeState.login",this.bodyText="loginBridgeState.completeTheLogin",this.tryLoginText="common.login",this.showTryLogin=!0):(this.headerText="loginBridgeState.loginInProgress",this.bodyText="loginBridgeState.browserIsOpen",this.tryLoginText="common.retry",this.showTryLogin=!1),this.cancelButtonText="common.cancelTitleCase",this.showCancel=!0,this.startLoginProcess()}onLoginClicked(c){this.onTryLogin()}onNeedDisplayCode(){this.deviceAuthUri=this.idmService.getDeviceDisplayCode().url,this.deviceAuthUriComplete=this.idmService.getDeviceDisplayCode().url_complete;const c=this.idmService.getDeviceDisplayCode().user_code;if(c&&(this.deviceAuthCode=(0,Je.yY)(c),this.cancelButtonText="common.cancelTitleCase",this.showCancel=!0),!this.deviceAuthUri||!this.deviceAuthUriComplete||!c)throw new Error(`Failed to launch login bridge dialog. deviceAuthUri: ${this.deviceAuthUri}, deviceAuthUriComplete: ${this.deviceAuthUriComplete}, rawCode: ${c}`);{const V={panelClass:"dialogPaddingRemove",disableClose:!0,data:Object.assign(Object.assign({},this.dialogData),{headerText:{text:(0,Je.j7)(this.deviceAuthUri)},primaryButton:{text:"common.cancelTitleCase"},bodyText:{text:"loginBridgeState.deviceAuthLogin",placeholders:{authCode:`<div class="font-header3 white">${this.deviceAuthCode}</div>`}},footerText:{text:"loginBridgeState.deviceAuthHint"},image:{url:this.deviceAuthUriComplete}})};this.openThreeQuarterSheet(V)}}openThreeQuarterSheet(c){this.closeOffDeviceAuthDialog(),this.offDeviceAuthDialogRef=this.genericDialog.open(c,{preferThreeQuarterSheet:!0}),this.offDeviceAuthDialogRef.backToCloseResult=this.backToCloseResult,(0,In.S3)(this.offDeviceAuthDialogRef.primaryButtonClick,this.offDeviceAuthDialogRef.afterClosed()).pipe((0,l.R)(this.destroy$)).subscribe(()=>{this.closeOffDeviceAuthDialog(),this.onCancel()})}closeOffDeviceAuthDialog(){var c;null===(c=this.offDeviceAuthDialogRef)||void 0===c||c.close(),this.offDeviceAuthDialogRef=void 0}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed),i.Y36(Nt.VK),i.Y36(L.hV),i.Y36(O.TX),i.Y36(p.OL),i.Y36(Ln.F0),i.Y36(v.y0),i.Y36(fn.TR),i.Y36(L.eJ),i.Y36(Me.s),i.Y36(p.Ob),i.Y36(vo.e),i.Y36($n.No),i.Y36(O.wI))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-login-bridge-state"]],decls:1,vars:1,consts:[["fxFlex","","fxLayout","column","nvTrapFocus","","nvBackToCloseModal","",3,"ngClass","backToCloseResult",4,"ngIf"],["fxFlex","","fxLayout","column","nvTrapFocus","","nvBackToCloseModal","",3,"ngClass","backToCloseResult"],["class","header-logo",4,"ngIf"],["class","error-icon material-icons",4,"ngIf"],[3,"ngClass"],[1,"font-body2","content-body"],["fxFlex","","fxLayout","row","fxLayoutAlign","end end",1,"content-button"],["mat-button","","class","font-button2 text-button-icon",3,"click",4,"ngIf"],["color","accent","class","retry-button","mat-raised-button","",3,"click",4,"ngIf"],[1,"header-logo"],["svgIcon","gfnBranding"],[1,"error-icon","material-icons"],["mat-button","",1,"font-button2","text-button-icon",3,"click"],[1,"font-button2"],["color","accent","mat-raised-button","",1,"retry-button",3,"click"]],template:function(c,V){1&c&&i.YNc(0,Wo,13,13,"div",0),2&c&&i.Q6J("ngIf",!V.useDeviceAuthLogin)},dependencies:[T.xw,T.Wh,T.yH,B.oO,K.Hw,f.eB,t.mk,t.O5,$.e,G.u,M.X$],styles:[".login-bridge-state-dialog .mat-dialog-container{border-radius:0}.login-bridge-state-dialog .main-content-streamer{width:470px;height:618px;background-color:#1f2224}.login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{width:200px;height:60px;margin-top:34px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{margin-left:24px}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{--dummy3: 0;margin-left:24px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{margin-right:24px}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .header-logo mat-icon{--dummy3: 0;margin-right:24px}@keyframes gfn-login-bridge-state_fade{0%{opacity:.7}50%{opacity:.3}to{opacity:.7}}.login-bridge-state-dialog .main-content-streamer .content-header{margin:138px 0 0!important;text-align:center}.login-bridge-state-dialog .main-content-streamer .content-header-error{margin:33px 0 0!important;text-align:center}.login-bridge-state-dialog .main-content-streamer .error-icon{font-size:50px;margin:189px 0 0!important;opacity:.7;text-align:center}.login-bridge-state-dialog .main-content-streamer .content-body{margin:10px 24px 0!important;text-align:center}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .content-button{margin:0 8px 8px 0}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .content-button{--dummy: 0;margin:0 8px 8px 0}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .content-button{margin:0 0 8px 8px}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .content-button{--dummy: 0;margin:0 0 8px 8px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-streamer .retry-button{margin:0 0 0 8px}html[dir=ltr] .login-bridge-state-dialog .main-content-streamer .retry-button{--dummy: 0;margin:0 0 0 8px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-streamer .retry-button{margin:0 8px 0 0}html[dir=rtl] .login-bridge-state-dialog .main-content-streamer .retry-button{--dummy: 0;margin:0 8px 0 0}.login-bridge-state-dialog .main-content-mall{width:560px;height:166px;background-color:#393939}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-header{margin:19px 24px 14px!important}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-header{--dummy: 0;margin:19px 24px 14px!important}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-header{margin:19px 24px 14px!important}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-header{--dummy: 0;margin:19px 24px 14px!important}.login-bridge-state-dialog .main-content-mall .content-body{height:52px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-body{margin:0 24px!important}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-body{--dummy: 0;margin:0 24px!important}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-body{margin:0 24px!important}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-body{--dummy: 0;margin:0 24px!important}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .content-button{margin:0 8px 8px 0}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .content-button{--dummy: 0;margin:0 8px 8px 0}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .content-button{margin:0 0 8px 8px}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .content-button{--dummy: 0;margin:0 0 8px 8px}:host-context(.isLtr) .login-bridge-state-dialog .main-content-mall .retry-button{margin:0 0 0 8px}html[dir=ltr] .login-bridge-state-dialog .main-content-mall .retry-button{--dummy: 0;margin:0 0 0 8px}:host-context(.isRtl) .login-bridge-state-dialog .main-content-mall .retry-button{margin:0 8px 0 0}html[dir=rtl] .login-bridge-state-dialog .main-content-mall .retry-button{--dummy: 0;margin:0 8px 0 0}.login-bridge-state-dialog .green{color:#76b900}.login-bridge-state-dialog .white{color:#fff}\n"],encapsulation:2}),ce})();var Bn=e(46389),Yi=(e(31095),e(79576)),Zi=e(39700),ji=e(53809),di=e(19030),Hn=e(41827),Wn=(()=>{return(ce=Wn||(Wn={})).STEAM="STEAM",ce.EPIC="EPIC",ce.UPLAY="UPLAY",ce.GOG="GOG",ce.NVIDIA="NVIDIA",ce.UNKNOWN="UNKOWN",ce.NONE="NONE",Wn;var ce})(),ti=(()=>{return(ce=ti||(ti={})).onboardingReconnect="onboardingReconnect",ce.reconnect="reconnect",ce.syncDenied="syncDenied",ti;var ce})(),ni=(()=>{return(ce=ni||(ni={})).syncFailed="syncFailed",ce.profileNotCreated="profileNotCreated",ce.privateProfile="privateProfile",ni;var ce})(),Vn=(()=>{return(ce=Vn||(Vn={})).UNKNOWN="UNKNOWN",ce.SYNC_FAILED="SYNC_FAILED",ce.SYNC_DENIED="SYNC_DENIED",ce.PROFILE_NOT_CREATED="PROFILE_NOT_CREATED",ce.SYNC_SUCCESS="SYNC_SUCCESS",Vn;var ce})();class Co{constructor(Ae=36e5,c=864e5,V=12096e5){this.now=Ae,this.today=c,this.soon=V}}var j=(()=>{return(ce=j||(j={}))[ce.NotExpired=0]="NotExpired",ce[ce.ExpiresNow=1]="ExpiresNow",ce[ce.ExpiresToday=2]="ExpiresToday",ce[ce.ExpiresSoon=3]="ExpiresSoon",ce[ce.Expired=4]="Expired",j;var ce})(),ii=(()=>{return(ce=ii||(ii={}))[ce.InitialFetchDone=0]="InitialFetchDone",ce[ce.LinkingDone=1]="LinkingDone",ce[ce.LinkingError=2]="LinkingError",ce[ce.SyncingDone=3]="SyncingDone",ce[ce.SyncingError=4]="SyncingError",ce[ce.Disconnected=5]="Disconnected",ce[ce.Expiring=6]="Expiring",ii;var ce})(),Un=e(16099);let $o=(()=>{class ce{constructor(c,V){this.dialogRef=V,this.destroy$=new P.xQ,this.dismissMessageDelay=4e3,this.gfnLink=location.hostname,this.logger=c.getLogger("pwa-wall-help.component")}onClose(){this.dialogRef.close()}onCopy(){(0,Un.D)(navigator.clipboard.writeText(this.gfnLink)).pipe((0,l.R)(this.destroy$)).subscribe(c=>{this.successMessageVisible=!0,this.logger.info(`${this.gfnLink} is copied`),setTimeout(()=>{this.successMessageVisible=!1},this.dismissMessageDelay)},c=>{this.logger.error(`${this.gfnLink} is copied failed, error: ${c}`)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed),i.Y36(L.hV))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-pwa-wall-help"]],decls:27,vars:21,consts:[["fxFlex","","fxLayout","column",1,"main-container"],["fxLayout","column",1,"content-container"],["fxLayout","column","fxLayoutAlign","start start"],[1,"font-header6","color-white","prompt-header"],[1,"font-body2"],[1,"link-container","font-body2"],["fxLayoutAlign","start center",1,"gfn-link"],["mat-button","","fxLayout","row","fxLayoutAlign","end center",1,"color-white",3,"click"],[1,"success-message","font-body2"],["fxLayout","row","fxLayoutAlign","end end",1,"button-container"],["mat-button","",3,"click"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"span",4),i._uU(7),i.ALo(8,"translate"),i.qZA(),i.TgZ(9,"span",4),i._uU(10),i.ALo(11,"translate"),i.qZA()(),i.TgZ(12,"div",5)(13,"span",6),i._uU(14),i.qZA(),i.TgZ(15,"button",7),i.NdJ("click",function(){return V.onCopy()}),i.TgZ(16,"span"),i._uU(17),i.ALo(18,"translate"),i.qZA()()(),i.TgZ(19,"span",8),i._uU(20),i.ALo(21,"translate"),i.qZA()(),i.TgZ(22,"div",9)(23,"button",10),i.NdJ("click",function(){return V.onClose()}),i.TgZ(24,"span"),i._uU(25),i.ALo(26,"translate"),i.qZA()()()()),2&c&&(i.xp6(4),i.Oqu(i.lcZ(5,9,"common.setUpOnSafari")),i.xp6(3),i.Oqu(i.lcZ(8,11,"iosPWA.setUpStep1")),i.xp6(3),i.Oqu(i.lcZ(11,13,"iosPWA.setUpStep2")),i.xp6(4),i.Oqu(V.gfnLink),i.xp6(3),i.Oqu(i.lcZ(18,15,"iosPWA.copy")),i.xp6(2),i.ekj("visible",V.successMessageVisible),i.xp6(1),i.Oqu(i.lcZ(21,17,"iosPWA.linkCopied")),i.xp6(5),i.Oqu(i.lcZ(26,19,"common.gotIt")))},dependencies:[T.xw,T.Wh,T.yH,f.eB,M.X$],styles:[".main-container[_ngcontent-%COMP%]{width:560px;height:fit-content}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]{margin:20px 24px 8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .prompt-header[_ngcontent-%COMP%]{margin-bottom:12px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;margin:16px 0 8px;border:1px solid rgba(255,255,255,.2)}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-left:8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-left:8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{padding-right:8px}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .link-container[_ngcontent-%COMP%]{--dummy1: 0;padding-right:8px}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{visibility:hidden}.isLtr[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 0 8px 8px}html[dir=ltr][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 8px 8px}.isRtl[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin:0 8px 8px 0}html[dir=rtl][_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{--dummy: 0;margin:0 8px 8px 0}.main-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .success-message.visible[_ngcontent-%COMP%]{visibility:visible}.main-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin:0 8px 8px}"]}),ce})(),Gr=(()=>{class ce{constructor(c){this.loggingService=c,this.primaryButtonClick=new i.vpe,this.destroy$=new P.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("playtest-error")}onPrimaryButtonClick(){this.primaryButtonClick.emit(!1)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-playtestlive-error"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:14,vars:11,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"error-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"error-dialog-header"],[1,"font-header6"],[1,"error-dialog-body"],[1,"font-body2",3,"innerHtml"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button",3,"click"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"div",4),i._UZ(7,"span",5),i.ALo(8,"translate"),i.qZA()(),i.TgZ(9,"mat-dialog-actions",6)(10,"button",7),i.NdJ("click",function(){return V.onPrimaryButtonClick()}),i._uU(11),i.ALo(12,"uppercase"),i.ALo(13,"translate"),i.qZA()()()),2&c&&(i.xp6(4),i.Oqu(i.lcZ(5,3,"playtestLive.errorDialog.header")),i.xp6(3),i.Q6J("innerHtml",i.lcZ(8,5,"playtestLive.errorDialog.notAccessibleError"),i.oJD),i.xp6(4),i.hij(" ",i.lcZ(12,7,i.lcZ(13,9,"common.ok"))," "))},dependencies:[T.xw,T.SQ,T.Wh,T.s9,T.yH,f.eB,L.aO,L.ev,t.gd,M.X$],styles:[".error-dialog-container[_ngcontent-%COMP%]{max-width:100%}.error-dialog-container[_ngcontent-%COMP%]   .error-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.error-dialog-container[_ngcontent-%COMP%]   .error-dialog-body[_ngcontent-%COMP%]{margin-bottom:20px}"]}),ce})();const So={protocol:"",host:"",port:443,app:"",streamName:"",iceServers:[],tcpMuxPolicy:"",mediaElementId:void 0,mediaConstraints:{audio:{deviceId:"",echoCancellation:!0},video:{deviceId:"",width:{min:320,ideal:640,max:640},height:{min:240,ideal:360,max:480},frameRate:30}},connectionParams:{host:"",app:"live"},bandwidth:{audio:56,video:512},cameraWidth:640,cameraHeight:360},_r={rcMode:"cbr",videoAvgBitrate:25e5,videoMaxBitrate:35e5,gopLength:60},Zo={videoWidth:1280,videoHeight:720,videoFPS:30,metaDataPacketSizeInBytes:16e3},Sr="red5ProPublisherSdk";var $r=e(5937),Pr=e(85948);const Jo={webcam:"",webcamDevId:"",microphone:"",micDevId:""};let Xo=(()=>{class ce{constructor(c,V){this.loggingService=c,this.translateService=V,this.audioInputDevices=[],this.videoInputDevices=[],this.logger=this.loggingService.getLogger("GFNWebcamService"),this.mediaSetup=Jo}getMediaDeviceInfo(c){return(0,Un.D)(navigator.mediaDevices.enumerateDevices()).pipe((0,r.q)(1),(0,wt.U)(V=>(V.forEach(oe=>{"audioinput"===oe.kind?this.audioInputDevices.push({deviceId:oe.deviceId,label:oe.label,groupId:oe.groupId}):"videoinput"===oe.kind&&this.videoInputDevices.push({deviceId:oe.deviceId,label:oe.label,groupId:oe.groupId})}),this.audioInputDevices=this.audioInputDevices.filter((oe,fe,Ue)=>Ue.findIndex(Ke=>Ke.groupId===oe.groupId)===fe),this.videoInputDevices=this.videoInputDevices.filter((oe,fe,Ue)=>Ue.findIndex(Ke=>Ke.groupId===oe.groupId)===fe),{videoInput:this.videoInputDevices,audioInput:this.audioInputDevices})))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(M.sK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Yr=e(33745);const Zr={offerToReceiveAudio:!0,offerToReceiveVideo:!0};let Qr=(()=>{class ce{constructor(c){this.loggingService=c,this.messagesSubject=new P.xQ,this.signalingMessages$=this.messagesSubject.asObservable(),this.numIceCandidates=0,this.signalingUrl="",this.streamName="",this.handleICECandidateEvent=V=>{this.logger.info(V),V.candidate&&this.sendCandidateMessage({handleCandidate:this.streamName,data:{candidate:V.candidate}})},this.handleNegotiationNeededEvent=V=>{this.logger.info(V)},this.handleICEConnectionStateChangeEvent=V=>{switch(this.logger.info(V),this.rtcPeerConnection.iceConnectionState){case"closed":case"failed":case"disconnected":this.closeWebRtc()}},this.handleSignalingStateChangeEvent=V=>{"closed"===(this.logger.info(V),this.rtcPeerConnection.signalingState)&&this.closeWebRtc()},this.handleTrackEvent=V=>{this.logger.info(V)},this.reportError=V=>{this.logger.error("got Error: "+V.name)},this.logger=this.loggingService.getLogger("WebrtcService"),this.mediaSetup=Jo}connect(){(!this.socket$||this.socket$.closed)&&(this.socket$=this.createWebSocket(),this.socket$.subscribe(c=>{this.logger.verbose("Received a message: send to msgHandler"),this.messagesSubject.next(c)}))}createWebSocket(){return(0,Yr.j)({url:this.signalingUrl,protocol:"json",openObserver:{next:()=>{this.logger.info("WebrtcService: connected to websocket")}},closeObserver:{next:()=>{this.logger.info("WebrtcService: websocket connection closed"),this.socket$=void 0}}})}setUrlAndStreamName(c,V){this.signalingUrl=c,this.streamName=V,this.logger.info("setUrlAndStreamName "+this.signalingUrl+": "+this.streamName)}initSignalingConnection(){return this.logger.info("initSignalingConnection"),""===this.signalingUrl?(this.logger.error("invalid signaling url"),!1):"ws"!==this.signalingUrl.substr(0,2)?(this.logger.error("invalid protocol requested"),!1):(this.addIncomingMessageHandler(),this.requestMediaDevices().pipe((0,r.q)(1)).subscribe(c=>{this.logger.info("got media: signaling initialized"),this.initRtcPeerConnection()}),!0)}requestMediaDevices(){return new a.y(c=>{this.logger.info("requestMediaDevices");try{this.logger.info("selected devices: "+this.mediaSetup.micDevId+": "+this.mediaSetup.webcamDevId),(0,Un.D)(navigator.mediaDevices.getUserMedia({audio:{deviceId:this.mediaSetup.micDevId,echoCancellation:!0},video:{width:864,height:480,deviceId:this.mediaSetup.webcamDevId}})).subscribe(V=>{V.getTracks().forEach(oe=>{this.logger.info("track: "+oe.id+" readyState: "+oe.readyState)}),this.mediaStream=V,c.next()})}catch(V){c.error(V),this.logger.error(`getUserMedia() error: ${V.name}`)}})}initRtcPeerConnection(){this.logger.info("initRtcPeerConnetion"),this.createPeerConnection(),this.mediaStream.getTracks().forEach(c=>this.rtcPeerConnection.addTrack(c,this.mediaStream));try{let c;(0,Un.D)(this.rtcPeerConnection.createOffer(Zr)).pipe((0,r.q)(1),(0,Pe.b)(V=>{c=V}),(0,Dn.w)(V=>(0,Un.D)(this.rtcPeerConnection.setLocalDescription(c)))).subscribe(V=>{this.logger.info("offer created and set"),this.sendOfferMessage({handleOffer:this.streamName,transport:"udp",data:{sdp:c}})})}catch(c){this.handleGetUserMediaError(c)}}addIncomingMessageHandler(){this.connect(),this.logger.info("connect() done: addIncomingMessageHandler"),this.signalingMessages$.subscribe(c=>{if(this.logger.info("Received message obj:"),this.logger.info(c.data),c.data.type)switch(c.data.type){case"status":this.logger.info("Received message status");break;case"offer":this.logger.info("Received message offer"),this.handleOfferMessage(c.data);break;case"answer":this.logger.info("Received message answer"),this.handleAnswerMessage(c.data);break;case"hangup":this.handleHangupMessage(c);break;case"ice-candidate":case"candidate":this.logger.info("Received message ice-candidate"),this.handleICECandidateMessage(c.data.candidate);break;default:this.logger.info("unknown message of type "+c.type)}else c.data.sdp&&(this.logger.info("Received message is SDP"),"answer"===c.data.sdp.type&&(this.logger.info("Received message sdp-answer"),this.handleAnswerMessage(c.data.sdp)))},c=>this.logger.error(c)),this.logger.info("addIncomingMessageHandler done")}sendMessage(c){this.logger.info("sending message: "+c.type),this.socket$.next(c)}sendOfferMessage(c){this.logger.info("sending offerMessage"),this.socket$.next(c)}sendCandidateMessage(c){this.logger.info("sending candidateMessage"),this.socket$.next(c)}sendPublishMessage(c){this.logger.info("sending PUBLISH msg"),this.socket$.next(c)}handleOfferMessage(c){this.logger.info("handle incoming offer"),this.rtcPeerConnection||this.createPeerConnection(),this.mediaStream||this.startWebRtc(),(0,Un.D)(this.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription(c))).pipe((0,r.q)(1),(0,Pe.b)(V=>{this.mediaStream.getTracks().forEach(oe=>this.rtcPeerConnection.addTrack(oe,this.mediaStream)),this.logger.info("setRemoteDescription done")}),(0,Dn.w)(V=>(0,Un.D)(this.rtcPeerConnection.createAnswer())),(0,Pe.b)(V=>{this.logger.info(`createAnswer done: ${V}`)}),(0,Dn.w)(V=>(0,Un.D)(this.rtcPeerConnection.setLocalDescription(V))),(0,r.q)(1),(0,wt.U)(V=>{this.logger.info(`localDescription done: ${this.rtcPeerConnection.localDescription}`),this.sendMessage({type:"answer",data:this.rtcPeerConnection.localDescription})})).subscribe(V=>{this.logger.info("Negotiation succeeded: ",V)},V=>{this.logger.info("Negotiation error: ",V),this.handleGetUserMediaError(V)},()=>{this.logger.info("Negotiation success")})}handleAnswerMessage(c){this.logger.info("handle incoming answer"),this.rtcPeerConnection.setRemoteDescription(c)}handleHangupMessage(c){this.logger.info(c),this.closeWebRtc()}handleICECandidateMessage(c){const V=new RTCIceCandidate(c);this.rtcPeerConnection.addIceCandidate(V).catch(this.reportError),this.numIceCandidates++,this.numIceCandidates>1&&(this.logger.info("PUBLISH NOW"),this.sendPublishMessage({publish:this.streamName,mode:"live",keyFramerate:3e3}))}createPeerConnection(){this.logger.info("creating PeerConnection"),this.rtcPeerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun2.l.google.com:19302"}]}),this.rtcPeerConnection.onicecandidate=this.handleICECandidateEvent,this.rtcPeerConnection.oniceconnectionstatechange=this.handleICEConnectionStateChangeEvent,this.rtcPeerConnection.onsignalingstatechange=this.handleSignalingStateChangeEvent,this.rtcPeerConnection.onnegotiationneeded=this.handleNegotiationNeededEvent,this.rtcPeerConnection.ontrack=this.handleTrackEvent}startWebRtc(){this.logger.info("starting local stream"),this.mediaStream.getTracks().forEach(c=>{c.enabled=!0,this.logger.info("track: "+c+" readyState: "+c.readyState)})}closeWebRtc(){this.logger.info("Close webrtc"),this.rtcPeerConnection&&(this.rtcPeerConnection.ontrack=null,this.rtcPeerConnection.onicecandidate=null,this.rtcPeerConnection.oniceconnectionstatechange=null,this.rtcPeerConnection.onsignalingstatechange=null,this.mediaStream.getTracks().forEach(c=>{c.stop()}),this.rtcPeerConnection.getTransceivers().forEach(c=>{c.stop()}),this.rtcPeerConnection.close(),this.rtcPeerConnection=null)}handleGetUserMediaError(c){switch(null==c?void 0:c.name){case"NotFoundError":this.logger.info("Unable to start streaming because no camera and/or microphone found");break;case"SecurityError":case"PermissionDeniedError":break;case null:case void 0:this.logger.error("Undefined error message.");break;default:this.logger.error("Error opening your camera and/or microphone: "+c.message)}this.closeWebRtc()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Jr=e(13142);let Mr=(()=>{class ce{constructor(c){this.loggingService=c,this.logger=this.loggingService.getLogger("Red5PublisherService"),this.mediaSetup=Jo,this.rtcPublisher=new Jr.RTCPublisher}startRed5RtcPublish(c){this.logger.info("[startRed5RtcPublish]: started"),this.logger.info("Connecting using rtcConfig: ",c),(0,Un.D)(this.rtcPublisher.init(c)).pipe((0,Pe.b)(this.rtcPublisher.on("*",this.onRed5PublisherEvent.bind(this))),(0,Te.zg)(V=>this.rtcPublisher.publish()),(0,r.q)(1)).subscribe(V=>{this.logger.info("[startRed5RtcPublish]: Red5Publish succeeded: ",V)},V=>{this.logger.error("[startRed5RtcPublish]: Publisher Failed",V)})}onRed5PublisherEvent(c){this.logger.info("[onRed5PublisherEvent]:",c.type)}stopRed5RtcPublish(){this.logger.info("[stopRed5RtcPublish]: Stop Red5Pro streaming"),this.rtcPublisher.unpreview(),(0,Un.D)(this.rtcPublisher.unpublish()).pipe((0,r.q)(1)).subscribe(c=>{this.rtcPublisher.off("*",this.onRed5PublisherEvent),this.logger.info("[stopRed5RtcPublish]: Unpublish Complete")},c=>{this.logger.error("[stopRed5RtcPublish]: Unpublish Failed: ",c)})}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Xr=e(39103);let Xi=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt){this.loggingService=c,this.bridgeService=V,this.endpointFactory=oe,this.gfnWebcamService=fe,this.dialogService=Ue,this.webrtcService=Ke,this.red5PublisherService=je,this.appConfig=st,this.idmService=Ot,this.telemetryUtilService=Lt,this.telemetryService=At,this.projectInterfaceService=Yt,this.networkStatusService=qt,this.clientIngestURL="",this.webCamSupport=Sr,this.playtestPermissionsGranted=!1,this.validIngest=!1,this.encConfig=_r,this.streamConfig=Zo,this.id="",this.heartbeatSubscription=null,this.timerSource=void 0,this.micTested=!1,this.streamerSessionId="",this.vdkSessionId="",this.stop$=new P.xQ,this.audioContext=null,this.audioSource=null,this.mediaStream=null,this.isPlaytestLive=!1,this.blockReconnect=!1,this.disablePostSessionTips=!1,this.disableFeedback=!1,this.disableUds=!1,this.audioAnalyzer=null,this.featureFlags={captureWebcam:!0,captureWebcamOptional:!1,captureMicrophone:!0,captureMicrophoneOptional:!1,captureGameplay:!0,captureInput:!0},this.logger=this.loggingService.getLogger("PlaytestLiveService"),this.vdkPlaytestConfig=this.appConfig.vdkPlaytestConfig,this.endPoint=this.createEndpoint(!0)}initialize(){var c;null!==(c=this.appConfig.featureEnablement)&&void 0!==c&&c.playtest&&(this.projectInterfaceService.streamingSessionSetupSuccess$.subscribe(V=>{this.logger.info("Received streaming streamingSessionSetupSuccess notification:",V),this.setStreamingSessionId(V.sessionId)},V=>{this.logger.error("Error while receiving streamingSessionSetupSuccess:",V)}),this.projectInterfaceService.streamingBegin$.subscribe(V=>{this.logger.info("Received streaming streamingBegin notification:",V),this.startPlaytestLive()},V=>{this.logger.error("Error while receiving streamingBegin:",V)}),this.projectInterfaceService.streamingEnd$.subscribe(V=>{this.logger.info("Received streaming streamingEnd notification:",V),this.stopPlaytestLive()},V=>{this.logger.error("Error while receiving streamingEnd:",V)}))}initiatePlaytestLive(c,V){var oe;if(null!==(oe=this.appConfig.featureEnablement)&&void 0!==oe&&oe.playtest){this.logger.info("Initiating playtest"),this.streamerSessionId="",this.id=c,this.vdkSessionId=V,this.telemetryService.setEventsCommonData({integrationId:$r.dp.GFN_PLAYTEST},!1,!0);const Ue=!0,Ke=!0;return(p.ng.isBrowserPlatform()?(0,U.of)(!0):this.bridgeService.executeCommand(Bt.Gh.Gfn.Streaming.AuthorizeAVDevices,{mic:Ue,camera:Ke})).pipe((0,Te.zg)(st=>st?this.idmService.getAuthToken(!1):(0,at._)("AuthorizeAVDevices Error")),(0,Te.zg)(st=>(null!=st&&st.token&&(this.authToken=st.token),this.getSessionInfo())),(0,Te.zg)(st=>st?(this.featureFlags.captureWebcam=!this.playtestSession.featureFlags.includes("WEBCAM_DISABLED"),this.featureFlags.captureWebcamOptional=this.playtestSession.featureFlags.includes("WEBCAM_OPTIONAL"),this.featureFlags.captureMicrophone=!this.playtestSession.featureFlags.includes("MICROPHONE_DISABLED"),this.featureFlags.captureMicrophoneOptional=this.playtestSession.featureFlags.includes("MICROPHONE_OPTIONAL"),this.featureFlags.captureGameplay=!this.playtestSession.featureFlags.includes("RECORDING_DISABLED"),this.featureFlags.captureInput=!this.playtestSession.featureFlags.includes("INPUT_DISABLED"),this.featureFlags.captureWebcam||this.featureFlags.captureMicrophone||this.featureFlags.captureGameplay||this.featureFlags.captureInput?this.dialogService.openPlaytestLivePermissionHigDialog(this.playtestSession):(0,U.of)(!0)):this.dialogService.openPlaytestLiveErrorDialog()),(0,Te.zg)(st=>st?this.featureFlags.captureWebcam?this.dialogService.openPlaytestLiveWebcamPreview(this.playtestSession):(0,U.of)(!0):(this.sendTelemetry(me.p3A.SessionConsentDenied,me.Xj5.Success),(0,at._)("Permissions not granted"))),(0,Te.zg)(st=>st?(this.gfnWebcamService.mediaSetup.webcamDevId.match("Disable")&&(this.featureFlags.captureWebcam=!1),this.featureFlags.captureMicrophone=this.featureFlags.captureWebcam,this.featureFlags.captureMicrophoneOptional=!1,this.featureFlags.captureMicrophone?this.dialogService.openPlaytestLiveMicrophonePreview(this.playtestSession):(0,U.of)(!0)):(this.sendTelemetry(me.p3A.SessionConsentDenied,me.Xj5.Success),(0,at._)("Webcam permissions not granted"))),(0,Te.zg)(st=>st?(this.logger.info("Permissions granted"),this.playtestPermissionsGranted=!0,(0,U.of)(!0)):(this.sendTelemetry(me.p3A.SessionConsentDenied,me.Xj5.Success),(0,at._)("Launch Cancelled"))),(0,r.q)(1),(0,vt.K)(st=>(this.logger.error("initiatePlaytestLive error:",st),(0,at._)("initiatePlaytestLive Error"))))}}startMic(c){var V;null!==(V=this.appConfig.featureEnablement)&&void 0!==V&&V.playtest&&(0,Un.D)(navigator.mediaDevices.getUserMedia({audio:{deviceId:c,echoCancellation:!0}})).pipe((0,r.q)(1),(0,l.R)(this.stop$),(0,Pe.b)(oe=>oe.getAudioTracks().some(fe=>fe.enabled&&"live"===fe.readyState)?(0,U.of)(oe):(0,at._)("Microphone not ready"))).subscribe(oe=>{this.mediaStream=oe,this.audioContext=new AudioContext,this.audioAnalyzer=this.audioContext.createAnalyser(),this.audioSource=this.audioContext.createMediaStreamSource(this.mediaStream),this.audioAnalyzer.fftSize=512,this.audioAnalyzer.minDecibels=-127,this.audioAnalyzer.maxDecibels=0,this.audioAnalyzer.smoothingTimeConstant=.4,this.audioSource.connect(this.audioAnalyzer),this.logger.info("Starting mic")},oe=>{this.logger.info("Error accessing microphone: ",oe)})}stopMic(){var c,V;null!==(c=this.appConfig.featureEnablement)&&void 0!==c&&c.playtest&&(this.logger.info("Stopping mic"),this.audioSource&&this.audioAnalyzer&&this.audioSource.disconnect(this.audioAnalyzer),this.audioSource=null,this.audioAnalyzer=null,this.audioContext&&this.audioContext.close(),this.audioContext=null,this.mediaStream&&(null===(V=this.mediaStream.getTracks())||void 0===V||V.forEach(oe=>{oe.stop()})),this.mediaStream=null,this.stop$.next(!0),this.stop$.complete())}disableClientRecord(){var c;return(null===(c=this.appConfig.featureEnablement)||void 0===c?void 0:c.playtest)&&this.playtestPermissionsGranted}skipReconnect(){var c;const V=(null===(c=this.appConfig.featureEnablement)||void 0===c?void 0:c.playtest)&&this.networkStatusService.isOnline&&this.blockReconnect;return this.disablePostSessionTips=V,V}skipPostSessionTips(){var c;const V=(null===(c=this.appConfig.featureEnablement)||void 0===c?void 0:c.playtest)&&this.disablePostSessionTips;return this.disablePostSessionTips=!1,V}skipFeedback(){var c;const V=(null===(c=this.appConfig.featureEnablement)||void 0===c?void 0:c.playtest)&&this.disableFeedback;return this.disableFeedback=!1,V}skipUds(){var c;const V=(null===(c=this.appConfig.featureEnablement)||void 0===c?void 0:c.playtest)&&this.disableUds;return this.disableUds=!1,V}createEndpoint(c){return this.endpointFactory.createEndpoint({config:{timeout:this.vdkPlaytestConfig.defaultTimeout,timeBetweenRetries:this.vdkPlaytestConfig.defaultTimeBetweenRetries,maxRetries:c?1:3}})}ptmsHeartbeatPing(){const c=`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/heartbeat`;this.logger.verbose("Heartbeat API call"),this.endPoint.post(c,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,r.q)(1)).subscribe(oe=>{this.logger.verbose("Heartbeat ping success")},oe=>{401===oe.status?this.idmService.getAuthToken(!0).pipe((0,r.q)(1)).subscribe(fe=>{this.logger.info("Heartbeat getAuthToken refreshed"),this.authToken=fe.token,this.ptmsHeartbeatPing()}):this.logger.error("Heartbeat ping error: ",oe)})}getIngestUrls(){return this.endPoint.post(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/ingest`,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,Pe.b)(oe=>{this.validIngest=!0,this.startHeartbeatPing(),this.ingestDetails=Object.assign({},{ingest:oe.ingest},{webcam:oe.webcam},{streamProperties:oe.streamProperties})},oe=>{this.logger.error("Ingest url error: ",oe),(0,at._)("getIngestUrls Error")}))}getSessionInfo(){return this.endPoint.get(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.vdkSessionId}`,{headers:{Authorization:`Bearer ${this.authToken}`}}).pipe((0,Pe.b)(oe=>{this.playtestSession=oe}),(0,vt.K)(oe=>(this.logger.error("getSessionInfo error: ",oe),(0,U.of)(null))))}clientWebcamStart(){try{const c=this.clientIngestURL.lastIndexOf("/"),V=this.clientIngestURL.slice(c+1,this.clientIngestURL.length);if("standardWebrtc"===this.webCamSupport)return this.logger.info("Standard WebRTC streaming started"),this.webrtcService.setUrlAndStreamName(this.clientIngestURL,V),this.webrtcService.mediaSetup.micDevId=this.gfnWebcamService.mediaSetup.micDevId,this.webrtcService.mediaSetup.webcamDevId=this.gfnWebcamService.mediaSetup.webcamDevId,void this.webrtcService.initSignalingConnection();this.webCamSupport===Sr&&(this.featureFlags.captureMicrophone&&(this.red5PublisherService.mediaSetup.micDevId=this.gfnWebcamService.mediaSetup.micDevId),this.featureFlags.captureWebcam&&(this.red5PublisherService.mediaSetup.webcamDevId=this.gfnWebcamService.mediaSetup.webcamDevId),this.featureFlags.captureMicrophone||this.featureFlags.captureWebcam?(this.ingestDetails.webcam=Object.assign({},this.ingestDetails.webcam,{mediaConstraints:So.mediaConstraints,mediaElementId:void 0}),this.ingestDetails.webcam.mediaConstraints.audio.deviceId=this.gfnWebcamService.mediaSetup.micDevId,this.ingestDetails.webcam.mediaConstraints.video.deviceId=this.gfnWebcamService.mediaSetup.webcamDevId,this.ingestDetails.webcam.cameraWidth=So.cameraWidth,this.ingestDetails.webcam.cameraHeight=So.cameraHeight,this.ingestDetails.webcam.bandwidth=So.bandwidth,this.logger.info("Red5Pro startRed5RtcPublish"),this.red5PublisherService.startRed5RtcPublish(this.ingestDetails.webcam)):this.logger.info("Red5Pro startRed5RtcPublish skipped"))}catch{this.logger.info("clientWebcamStart error")}}clientWebcamStop(){try{"standardWebrtc"===this.webCamSupport?this.webrtcService.closeWebRtc():"red5ProPublisherSdk"===this.webCamSupport&&(this.featureFlags.captureMicrophone||this.featureFlags.captureWebcam?(this.logger.info("Red5Pro stopRed5RtcPublish"),this.red5PublisherService.stopRed5RtcPublish()):this.logger.info("Red5Pro stopRed5RtcPublish skipped"))}catch{this.logger.info("clientWebcamStop error")}}setStreamingSessionId(c){this.streamerSessionId=c}startPlaytestLive(){this.blockReconnect=!1,this.disableFeedback=!1,this.disableUds=!1,null!=this.playtestSession&&this.playtestPermissionsGranted&&this.getIngestUrls().pipe((0,r.q)(1),(0,Pe.b)(c=>{this.encConfig.videoAvgBitrate=Number(this.ingestDetails.streamProperties.videoBW),this.encConfig.videoMaxBitrate=Number(this.ingestDetails.streamProperties.videoBW),this.streamConfig.videoWidth=this.ingestDetails.streamProperties.videoWidth,this.streamConfig.videoHeight=this.ingestDetails.streamProperties.videoHeight,this.streamConfig.videoFPS=this.ingestDetails.streamProperties.videoFPS}),(0,Te.zg)(c=>{const oe=this.ingestDetails.ingest,fe=Object.assign({},this.encConfig),Ue=Object.assign({},this.streamConfig);return this.bridgeService.executeCommand(Bt.Gh.Gfn.Gfnbroadcast.BroadcastConnect,{protocol:"rtmp",ingestURL:oe,encoderConfig:fe,streamingConfig:Ue})})).subscribe(c=>{this.clientWebcamStart(),this.logger.info("Playtest started"),this.isPlaytestLive=!0,this.blockReconnect=!0,this.disableFeedback=!0,this.disableUds=!0,this.sendTelemetry(me.p3A.SessionStart,me.Xj5.Success)},c=>{var V;this.logger.info("Playtest broadcast connection error: ",c),this.clientWebcamStop(),this.ptmsStopIngest(),null===(V=this.heartbeatSubscription)||void 0===V||V.unsubscribe(),this.heartbeatSubscription=null,this.authToken=null,this.playtestSession=null,this.stopMic(),this.sendTelemetry(me.p3A.SessionStart,me.Xj5.Failure),this.telemetryService.setEventsCommonData({integrationId:v.wy.Undefined},!1,!0)})}ptmsStopIngest(){this.validIngest&&this.endPoint.delete(`${this.vdkPlaytestConfig.ptmsUrl}/v1/playtest/session/${this.playtestSession.sessionID}/ingest`,{headers:{Authorization:`Bearer ${this.authToken}`}}).subscribe(oe=>{this.validIngest=!1},oe=>{this.logger.error("Stop ingest error: ",oe),401===oe.status?this.idmService.getAuthToken(!0).pipe((0,r.q)(1)).subscribe(fe=>{this.authToken=fe.token,this.ptmsStopIngest()}):(0,at._)("ptmsStopIngest Error")})}stopPlaytestLive(){var c;this.isPlaytestLive&&(this.bridgeService.executeCommand(Bt.Gh.Gfn.Gfnbroadcast.BroadcastDisconnect).pipe((0,r.q)(1)).subscribe(V=>{this.logger.info("Playtest ended"),this.sendTelemetry(me.p3A.SessionStop,me.Xj5.Success,!0)},V=>{this.logger.info("Playtest broadcast disconnection error: ",V),this.sendTelemetry(me.p3A.SessionStop,me.Xj5.Failure,!0)}),this.clientWebcamStop(),this.ptmsStopIngest(),null===(c=this.heartbeatSubscription)||void 0===c||c.unsubscribe(),this.heartbeatSubscription=null,this.stopMic(),this.isPlaytestLive=!1,this.dialogService.openPlaytestLiveFeedbackHigDialog(this.playtestSession)),this.playtestPermissionsGranted=!1,this.authToken=null,this.playtestSession=null}startHeartbeatPing(){this.timerSource=(0,Be.H)(1e3,6e4),this.heartbeatSubscription=this.timerSource.subscribe(c=>{this.logger.verbose("HeartBeating every 60 seconds call "),this.ptmsHeartbeatPing()})}sendTelemetry(c,V,oe=!1){var fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En,gn,mn,Nn,ui,mi,lo;return(0,on.mG)(this,void 0,void 0,function*(){try{yield this.telemetryUtilService.sendPlaytesterSessionEvent(c,V,null!==(Ue=null===(fe=this.playtestSession)||void 0===fe?void 0:fe.sessionID)&&void 0!==Ue?Ue:"",null!==(Ke=this.streamerSessionId)&&void 0!==Ke?Ke:"",null!==(Ot=null===(st=null===(je=this.playtestSession)||void 0===je?void 0:je.gameInfo)||void 0===st?void 0:st.gameDeveloper)&&void 0!==Ot?Ot:"",null!==(Yt=null===(At=null===(Lt=this.playtestSession)||void 0===Lt?void 0:Lt.gameInfo)||void 0===At?void 0:At.gameName)&&void 0!==Yt?Yt:"",null!==(gn=null===(En=null===(qt=this.playtestSession)||void 0===qt?void 0:qt.gameInfo)||void 0===En?void 0:En.gameBuild)&&void 0!==gn?gn:"",null!==(ui=null===(Nn=null===(mn=this.playtestSession)||void 0===mn?void 0:mn.gameInfo)||void 0===Nn?void 0:Nn.gameCMSID)&&void 0!==ui?ui:"",null!==(mi=this.gfnWebcamService.mediaSetup.webcam)&&void 0!==mi?mi:"",null!==(lo=this.gfnWebcamService.mediaSetup.microphone)&&void 0!==lo?lo:"",this.micTested?me.PoW.Yes:me.PoW.No,"")}catch(sr){this.logger.error("Telemetry send failed",sr)}oe&&this.telemetryService.setEventsCommonData({integrationId:v.wy.Undefined},!1,!0)})}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(p.dF),i.LFG(Pr.V9),i.LFG(Xo),i.LFG(xo),i.LFG(Qr),i.LFG(Mr),i.LFG(Nt.VK),i.LFG($n.No),i.LFG(me.wU6),i.LFG(v.y0),i.LFG(Xr.m3),i.LFG(p._J))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();function qr(ce,Ae){1&ce&&(i._UZ(0,"span",5),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionGameplay"),i.oJD)}function es(ce,Ae){1&ce&&(i._UZ(0,"span",5),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionInputs"),i.oJD)}function ts(ce,Ae){1&ce&&(i._UZ(0,"span",5),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionWebcam"),i.oJD)}function ns(ce,Ae){1&ce&&(i._UZ(0,"span",5),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.privacyPermissionsDialog.permissionMicrophone"),i.oJD)}let is=(()=>{class ce{constructor(c,V){this.loggingService=c,this.playtestLiveService=V,this.primaryButtonClick=new i.vpe,this.secondaryButtonClick=new i.vpe,this.destroy$=new P.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("PermissionHig"),this.featureFlags=this.playtestLiveService.featureFlags}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}onCancelButtonClick(){this.secondaryButtonClick.emit(!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed),i.Y36(Xi))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-playtestlive-permissionhig"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick",secondaryButtonClick:"secondaryButtonClick"},decls:22,vars:21,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"permissionhig-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"permissionhig-dialog-header"],[1,"font-header6"],[1,"permissionhig-dialog-body"],[1,"font-body2",3,"innerHtml"],["class","font-body2",3,"innerHtml",4,"ngIf"],["fxLayout","row-reverse","fxLayoutAlign","start center","fxLayoutGap","10px"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","click"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button",3,"click"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"div",4),i._UZ(7,"span",5),i.ALo(8,"translate"),i.YNc(9,qr,2,3,"span",6),i.YNc(10,es,2,3,"span",6),i.YNc(11,ts,2,3,"span",6),i.YNc(12,ns,2,3,"span",6),i.qZA()(),i.TgZ(13,"mat-dialog-actions",7)(14,"button",8),i.NdJ("click",function(){return V.onPrimaryButtonClick()}),i._uU(15),i.ALo(16,"uppercase"),i.ALo(17,"translate"),i.qZA(),i.TgZ(18,"button",9),i.NdJ("click",function(){return V.onCancelButtonClick()}),i._uU(19),i.ALo(20,"uppercase"),i.ALo(21,"translate"),i.qZA()()()),2&c&&(i.xp6(4),i.hij(" ",i.lcZ(5,9,"playtestLive.privacyPermissionsDialog.header")," "),i.xp6(3),i.Q6J("innerHtml",i.lcZ(8,11,"playtestLive.privacyPermissionsDialog.permissionIntro"),i.oJD),i.xp6(2),i.Q6J("ngIf",V.featureFlags.captureGameplay),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureInput),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureWebcam),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureMicrophone),i.xp6(2),i.Q6J("mat-dialog-close",!0),i.xp6(1),i.hij(" ",i.lcZ(16,13,i.lcZ(17,15,"playtestLive.privacyPermissionsDialog.accept"))," "),i.xp6(4),i.hij(" ",i.lcZ(20,17,i.lcZ(21,19,"common.cancel"))," "))},dependencies:[t.O5,T.xw,T.SQ,T.Wh,T.s9,T.yH,f.eB,L.aO,L.ev,t.gd,M.X$],styles:[".permissionhig-dialog-container[_ngcontent-%COMP%]{max-width:100%}.permissionhig-dialog-container[_ngcontent-%COMP%]   .permissionhig-dialog-header[_ngcontent-%COMP%]{margin-bottom:25px}.permissionhig-dialog-container[_ngcontent-%COMP%]   .permissionhig-dialog-body[_ngcontent-%COMP%]{margin-bottom:20px}"]}),ce})();var Or=e(71365),yr=e(89134),os=e(45224);const rs=["disableButton"];function ss(ce,Ae){if(1&ce&&(i.TgZ(0,"mat-option",18),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce){const c=i.oxw();i.Q6J("value",c.selectedMicrophoneId),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playtestLive.selectMicrophoneDialog.noMicrophone")," ")}}function as(ce,Ae){if(1&ce&&(i.TgZ(0,"mat-option",19),i._uU(1),i.qZA()),2&ce){const c=Ae.$implicit;i.Q6J("value",c.deviceId),i.xp6(1),i.hij(" ",c.label," ")}}function Ee(ce,Ae){1&ce&&(i.TgZ(0,"div",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playtestLive.hardwarePermissionError")," "))}function _t(ce,Ae){1&ce&&(i.TgZ(0,"div",20),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playtestLive.hardwarePermissionErrorOptional")," "))}const te=function(ce){return{"microphone-display-none":ce}};let we=(()=>{class ce{constructor(c,V,oe,fe){this.gfnWebcamService=c,this.loggingService=V,this.playtestLiveService=oe,this.systemInfoService=fe,this.primaryButtonClick=new i.vpe,this.micSensitivity=0,this.isMicReady=!1,this.destroy$=new P.xQ,this.selectedMicrophoneId="",this.checkboxState=!1,this.stopMicAfterPreview=!1,this.onAudioProcess=()=>{if(this.playtestLiveService.audioAnalyzer){const Ue=new Uint8Array(this.playtestLiveService.audioAnalyzer.frequencyBinCount);this.playtestLiveService.audioAnalyzer.getByteFrequencyData(Ue);let Ke=0;const je=Array.from(Ue);for(const st of je)Ke+=st;this.micSensitivity=Ke/Ue.length}else this.micSensitivity=0}}ngOnInit(){this.logger=this.loggingService.getLogger("MicrophonePreview"),this.featureFlags=this.playtestLiveService.featureFlags,this.audioDevices=[],this.systemInfoService.getDeviceOSType().pipe((0,l.R)(this.destroy$),(0,r.q)(1)).subscribe(c=>{this.stopMicAfterPreview=!p.ng.isCefPlatform()||c!==p.wi.Windows}),this.gfnWebcamService.getMediaDeviceInfo(this.featureFlags).pipe((0,l.R)(this.destroy$)).subscribe(c=>{this.audioDevices=c.audioInput.map(V=>V),0<this.audioDevices.length&&this.onMicrophoneSelected(this.audioDevices[0].deviceId)},c=>{this.logger.info("Error fetching mic: ",c)}),this.audioIntervalHandle=window.setInterval(this.onAudioProcess,100)}onMicrophoneSelected(c){const V=this.audioDevices.find(oe=>oe.deviceId===c);V&&(this.selectedMicrophoneId=V.deviceId,this.gfnWebcamService.mediaSetup.microphone=V.label,this.gfnWebcamService.mediaSetup.micDevId=V.deviceId,this.playtestLiveService.stopMic(),this.playtestLiveService.startMic(V.deviceId),this.isMicReady=!0)}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}onDisableChange(){this.checkboxState?(this.playtestLiveService.stopMic(),this.gfnWebcamService.mediaSetup.microphone="Disable",this.gfnWebcamService.mediaSetup.micDevId="Disable"):this.onMicrophoneSelected(this.selectedMicrophoneId)}isSelectorEmpty(){return 0===this.audioDevices.length||!this.audioDevices[0].deviceId||0===this.audioDevices[0].deviceId.length}ngOnDestroy(){window.clearInterval(this.audioIntervalHandle),this.audioIntervalHandle=null,this.stopMicAfterPreview?(this.logger.info("Stopping mic after preview"),this.playtestLiveService.stopMic()):this.logger.info("Not stopping mic after preview"),this.destroy$.next(!0),this.destroy$.complete(),this.audioDevices=[]}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(Xo),i.Y36(p.ed),i.Y36(Xi),i.Y36(p.Ob))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-playtestlive-microphonepreview"]],viewQuery:function(c,V){if(1&c&&i.Gf(rs,5),2&c){let oe;i.iGM(oe=i.CRH())&&(V.disableButton=oe.first)}},inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:33,vars:39,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"microphone-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"microphone-dialog-header"],[1,"font-header6"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"microphone-dialog-select","font-body2"],[3,"disableOptionCentering","value","disabled","valueChange","selectionChange"],["selected","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","15px",1,"microphone-dialog-preview"],[1,"font-body2","nowrap"],["mode","determinate",1,"mic-progress",3,"value"],[1,"microphone-dialog-disable"],[3,"ngClass","ngModel","ngModelChange","change"],[1,"font-body2","font-color-warning",3,"ngClass"],["class","font-body2",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","disabled"],["selected","",3,"value"],[3,"value"],[1,"font-body2"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"div",4)(7,"mat-select",5),i.NdJ("valueChange",function(fe){return V.selectedMicrophoneId=fe})("selectionChange",function(fe){return V.onMicrophoneSelected(fe.value)}),i.YNc(8,ss,3,4,"mat-option",6),i.YNc(9,as,2,2,"mat-option",7),i.qZA()(),i.TgZ(10,"div",8)(11,"span",9),i._uU(12),i.ALo(13,"translate"),i.qZA(),i._UZ(14,"mat-progress-bar",10),i.qZA(),i.TgZ(15,"div",11)(16,"mat-checkbox",12),i.NdJ("ngModelChange",function(fe){return V.checkboxState=fe})("change",function(){return V.onDisableChange()}),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"div",13),i._uU(20),i.ALo(21,"translate"),i.qZA()(),i.YNc(22,Ee,3,3,"div",14),i.YNc(23,_t,3,3,"div",14),i.qZA(),i.TgZ(24,"mat-dialog-actions",15)(25,"button",16),i._uU(26),i.ALo(27,"uppercase"),i.ALo(28,"translate"),i.qZA(),i.TgZ(29,"button",17),i._uU(30),i.ALo(31,"uppercase"),i.ALo(32,"translate"),i.qZA()()()),2&c&&(i.xp6(4),i.hij(" ",i.lcZ(5,19,"playtestLive.selectMicrophoneDialog.selectYourMicrophone")," "),i.xp6(3),i.Q6J("disableOptionCentering",!0)("value",V.selectedMicrophoneId)("disabled",V.checkboxState||V.isSelectorEmpty()),i.xp6(1),i.Q6J("ngIf",V.isSelectorEmpty()),i.xp6(1),i.Q6J("ngForOf",V.audioDevices),i.xp6(3),i.hij(" ",i.lcZ(13,21,"playtestLive.selectMicrophoneDialog.inputLevel")," "),i.xp6(2),i.Q6J("value",V.checkboxState?0:V.micSensitivity),i.xp6(2),i.Q6J("ngClass",i.VKq(35,te,!V.featureFlags.captureMicrophoneOptional))("ngModel",V.checkboxState),i.xp6(1),i.Oqu(i.lcZ(18,23,"playtestLive.selectMicrophoneDialog.disableMicrophone")),i.xp6(2),i.Q6J("ngClass",i.VKq(37,te,!V.isSelectorEmpty()||V.featureFlags.captureMicrophoneOptional)),i.xp6(1),i.hij(" ",i.lcZ(21,25,"playtestLive.selectMicrophoneDialog.requireMicrophone")," "),i.xp6(2),i.Q6J("ngIf",V.isSelectorEmpty()&&!V.featureFlags.captureMicrophoneOptional),i.xp6(1),i.Q6J("ngIf",V.isSelectorEmpty()&&V.featureFlags.captureMicrophoneOptional),i.xp6(3),i.hij(" ",i.lcZ(27,27,i.lcZ(28,29,"common.cancel"))," "),i.xp6(3),i.Q6J("mat-dialog-close",!0)("disabled",V.isSelectorEmpty()&&(!V.featureFlags.captureMicrophoneOptional||!V.checkboxState)),i.xp6(1),i.hij(" ",i.lcZ(31,31,i.lcZ(32,33,"playtestLive.joinPlaytest"))," "))},dependencies:[t.mk,t.sg,t.O5,x.JJ,x.On,T.xw,T.SQ,T.Wh,T.s9,T.yH,B.oO,f.eB,le.FC,L.aO,L.ev,Or.x8,yr.CK,os.eI,Le.xZ,t.gd,M.X$],styles:[".isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-right:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-left:10px}.isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-left:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-right:10px}.microphone-dialog-container[_ngcontent-%COMP%]{max-width:100%}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-select[_ngcontent-%COMP%]{height:48px;margin-bottom:16px;background:#494949}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-preview[_ngcontent-%COMP%], .microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-disable[_ngcontent-%COMP%]{margin-bottom:10px}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-dialog-disable[_ngcontent-%COMP%]   .font-color-warning[_ngcontent-%COMP%]{color:#ffb43e}.microphone-dialog-container[_ngcontent-%COMP%]   .mic-progress[_ngcontent-%COMP%]{margin-top:8px}.microphone-dialog-container[_ngcontent-%COMP%]   .nowrap[_ngcontent-%COMP%]{white-space:nowrap}.microphone-dialog-container[_ngcontent-%COMP%]   .microphone-display-none[_ngcontent-%COMP%]{display:none}"]}),ce})();const Ve=["webcamHolder"],pt=["disableButton"];function Dt(ce,Ae){if(1&ce&&(i.TgZ(0,"mat-option",19),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce){const c=i.oxw();i.Q6J("value",c.selectedWebcamId),i.xp6(1),i.hij(" ",i.lcZ(2,2,"playtestLive.selectWebcamDialog.noWebcam")," ")}}function Ht(ce,Ae){if(1&ce&&(i.TgZ(0,"mat-option",20),i._uU(1),i.qZA()),2&ce){const c=Ae.$implicit;i.Q6J("value",c.deviceId),i.xp6(1),i.hij(" ",c.label," ")}}function Gt(ce,Ae){1&ce&&(i.TgZ(0,"div",23),i._UZ(1,"mat-progress-spinner",24),i.qZA())}function rn(ce,Ae){if(1&ce&&(i.TgZ(0,"div",21),i.YNc(1,Gt,2,0,"div",22),i.qZA()),2&ce){const c=i.oxw();i.xp6(1),i.Q6J("ngIf",c.showSpinner)}}function Rn(ce,Ae){1&ce&&(i.TgZ(0,"div",29),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playtestLive.hardwarePermissionError")," "))}function Wt(ce,Ae){1&ce&&(i.TgZ(0,"div",29),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&ce&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"playtestLive.hardwarePermissionErrorOptional")," "))}function hn(ce,Ae){if(1&ce&&(i.TgZ(0,"div",25)(1,"div",26)(2,"div",27),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.YNc(5,Rn,3,3,"div",28),i.YNc(6,Wt,3,3,"div",28),i.qZA()()),2&ce){const c=i.oxw();i.xp6(3),i.hij(" ",i.lcZ(4,3,"playtestLive.selectWebcamDialog.noWebcam")," "),i.xp6(2),i.Q6J("ngIf",!c.featureFlags.captureWebcamOptional),i.xp6(1),i.Q6J("ngIf",c.featureFlags.captureWebcamOptional)}}function Jn(ce,Ae){if(1&ce&&(i.TgZ(0,"button",30),i._uU(1),i.ALo(2,"uppercase"),i.ALo(3,"translate"),i.qZA()),2&ce){const c=i.oxw();i.Q6J("mat-dialog-close",!0)("disabled",!c.isWebcamReady),i.xp6(1),i.hij(" ",i.lcZ(2,3,i.lcZ(3,5,"playtestLive.selectWebcamDialog.next"))," ")}}function Zn(ce,Ae){if(1&ce&&(i.TgZ(0,"button",30),i._uU(1),i.ALo(2,"uppercase"),i.ALo(3,"translate"),i.qZA()),2&ce){const c=i.oxw();i.Q6J("mat-dialog-close",!0)("disabled",!c.isWebcamReady&&!c.checkboxState),i.xp6(1),i.hij(" ",i.lcZ(2,3,i.lcZ(3,5,"playtestLive.joinPlaytest"))," ")}}const ri=function(ce){return{"webcam-hidden":ce}},gi=function(ce){return{"webcam-display-none":ce}};let Mi=(()=>{class ce{constructor(c,V,oe){this.gfnWebcamService=c,this.loggingService=V,this.playtestLiveService=oe,this.secondaryButtonClick=new i.vpe,this.destroy$=new P.xQ,this.isWebcamReady=!1,this.selectedWebcamId="",this.checkboxState=!1,this.showSpinner=!0,this.spinnerTimeout=null}startSpinner(){this.stopSpinner(),this.showSpinner=!0,this.spinnerTimeout=(0,Be.H)(7e3).subscribe(()=>{this.stopSpinner()})}stopSpinner(){var c;null===(c=this.spinnerTimeout)||void 0===c||c.unsubscribe(),this.spinnerTimeout=null,this.showSpinner=!1}ngOnInit(){this.logger=this.loggingService.getLogger("WebcamPreview"),this.featureFlags=this.playtestLiveService.featureFlags,this.videoDevices=[],this.startSpinner(),this.gfnWebcamService.getMediaDeviceInfo(this.featureFlags).pipe((0,l.R)(this.destroy$)).subscribe(c=>{this.videoDevices=c.videoInput.map(V=>V),0<this.videoDevices.length?this.onWebcamSelected(this.videoDevices[0].deviceId):this.stopSpinner()},c=>{this.logger.info("Error fetching webcam: ",c),this.stopSpinner()})}onWebcamSelected(c){const V=this.videoDevices.find(oe=>oe.deviceId===c);this.isWebcamReady=!1,this.startSpinner(),V&&(this.selectedWebcamId=V.deviceId,(0,Un.D)(navigator.mediaDevices.getUserMedia({audio:!1,video:{width:512,deviceId:V.deviceId}})).pipe((0,r.q)(1),(0,l.R)(this.destroy$),(0,Pe.b)(oe=>oe.getVideoTracks().some(fe=>fe.enabled&&"live"===fe.readyState)?(0,U.of)(oe):(0,at._)("Webcam not ready"))).subscribe(oe=>{this.clearTracks(),this.webcamHolder.nativeElement.srcObject=oe,this.webcamHolder.nativeElement.onloadedmetadata=fe=>{this.stopSpinner(),this.isWebcamReady=!0,this.webcamHolder.nativeElement.play(),this.gfnWebcamService.mediaSetup.webcam=V.label,this.gfnWebcamService.mediaSetup.webcamDevId=V.deviceId}},oe=>{this.stopSpinner(),this.isWebcamReady=!1,this.clearTracks(),this.logger.info("Error accessing your webcam: ",oe)}))}onDisableChange(){this.checkboxState?(this.stopSpinner(),this.isWebcamReady=!1,this.clearTracks(),this.gfnWebcamService.mediaSetup.webcam="Disable",this.gfnWebcamService.mediaSetup.webcamDevId="Disable"):this.onWebcamSelected(this.selectedWebcamId)}isSelectorEmpty(){return 0===this.videoDevices.length||!this.videoDevices[0].deviceId||0===this.videoDevices[0].deviceId.length}clearTracks(){var c,V,oe;const fe=null===(oe=null===(V=null===(c=this.webcamHolder)||void 0===c?void 0:c.nativeElement)||void 0===V?void 0:V.srcObject)||void 0===oe?void 0:oe.getTracks();null==fe||fe.forEach(Ue=>Ue.stop())}ngOnDestroy(){this.stopSpinner(),this.clearTracks(),this.checkboxState&&(this.gfnWebcamService.mediaSetup.webcam="Disable",this.gfnWebcamService.mediaSetup.webcamDevId="Disable"),this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(Xo),i.Y36(p.ed),i.Y36(Xi))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-playtestlive-webcampreview"]],viewQuery:function(c,V){if(1&c&&(i.Gf(Ve,5),i.Gf(pt,5)),2&c){let oe;i.iGM(oe=i.CRH())&&(V.webcamHolder=oe.first),i.iGM(oe=i.CRH())&&(V.disableButton=oe.first)}},outputs:{secondaryButtonClick:"secondaryButtonClick"},decls:29,vars:33,consts:[["fxLayout","column","fxLayoutAlign","start stretch","fxFlexFill","",1,"webcam-dialog-container"],["fxFlex","1 1 auto","fxLayout","column"],[1,"webcam-dialog-header"],[1,"font-header6"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"webcam-dialog-select","font-body2"],[3,"disableOptionCentering","value","disabled","valueChange","selectionChange"],["selected","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"webcam-dialog-preview"],[1,"video-preview",3,"ngClass"],["webcamHolder",""],["class","video-box",4,"ngIf"],["class","video-text-box",4,"ngIf"],[1,"webcam-dialog-disable"],[3,"ngClass","ngModel","ngModelChange","change"],[1,"font-body2","font-color-warning",3,"ngClass"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","","mat-dialog-close","",1,"font-button2","hig-button"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close","disabled",4,"ngIf"],["selected","",3,"value"],[3,"value"],[1,"video-box"],["class","hig-dialog-spinner","fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto",1,"hig-dialog-spinner"],["mode","indeterminate","diameter","48","strokeWidth","4","color","accent"],[1,"video-text-box"],["fxLayout","column","fxLayoutAlign","center center","fxFlex","1 1 auto"],[1,"no-webcam-header","font-sub1"],["class","font-body2",4,"ngIf"],[1,"font-body2"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","disabled"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"div",4)(7,"mat-select",5),i.NdJ("valueChange",function(fe){return V.selectedWebcamId=fe})("selectionChange",function(fe){return V.onWebcamSelected(fe.value)}),i.YNc(8,Dt,3,4,"mat-option",6),i.YNc(9,Ht,2,2,"mat-option",7),i.qZA()(),i.TgZ(10,"div",8),i._UZ(11,"video",9,10),i.YNc(13,rn,2,1,"div",11),i.YNc(14,hn,7,5,"div",12),i.qZA(),i.TgZ(15,"div",13)(16,"mat-checkbox",14),i.NdJ("ngModelChange",function(fe){return V.checkboxState=fe})("change",function(){return V.onDisableChange()}),i._uU(17),i.ALo(18,"translate"),i.qZA(),i.TgZ(19,"div",15),i._uU(20),i.ALo(21,"translate"),i.qZA()()(),i.TgZ(22,"mat-dialog-actions",16)(23,"button",17),i._uU(24),i.ALo(25,"uppercase"),i.ALo(26,"translate"),i.qZA(),i.YNc(27,Jn,4,7,"button",18),i.YNc(28,Zn,4,7,"button",18),i.qZA()()),2&c&&(i.xp6(4),i.Oqu(i.lcZ(5,17,"playtestLive.selectWebcamDialog.selectYourWebcam")),i.xp6(3),i.Q6J("disableOptionCentering",!0)("value",V.selectedWebcamId)("disabled",V.checkboxState||V.isSelectorEmpty()),i.xp6(1),i.Q6J("ngIf",V.isSelectorEmpty()),i.xp6(1),i.Q6J("ngForOf",V.videoDevices),i.xp6(2),i.Q6J("ngClass",i.VKq(27,ri,V.checkboxState||!V.isWebcamReady)),i.xp6(2),i.Q6J("ngIf",V.showSpinner||V.checkboxState||!V.isWebcamReady||V.isSelectorEmpty()),i.xp6(1),i.Q6J("ngIf",!V.showSpinner&&!V.checkboxState&&(V.isSelectorEmpty()||!V.isWebcamReady)),i.xp6(2),i.Q6J("ngClass",i.VKq(29,gi,!V.featureFlags.captureWebcamOptional))("ngModel",V.checkboxState),i.xp6(1),i.Oqu(i.lcZ(18,19,"playtestLive.selectWebcamDialog.disableWebcam")),i.xp6(2),i.Q6J("ngClass",i.VKq(31,gi,V.featureFlags.captureWebcamOptional||!V.isSelectorEmpty())),i.xp6(1),i.hij(" ",i.lcZ(21,21,"playtestLive.selectWebcamDialog.requireWebcam")," "),i.xp6(4),i.hij(" ",i.lcZ(25,23,i.lcZ(26,25,"common.cancel"))," "),i.xp6(3),i.Q6J("ngIf",V.featureFlags.captureMicrophone&&!V.checkboxState),i.xp6(1),i.Q6J("ngIf",!V.featureFlags.captureMicrophone||V.checkboxState))},dependencies:[t.mk,t.sg,t.O5,x.JJ,x.On,T.xw,T.SQ,T.Wh,T.s9,T.yH,B.oO,f.eB,le.FC,b.sN,L.aO,L.ev,Or.x8,yr.CK,Le.xZ,t.gd,M.X$],styles:[".isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-right:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy2: 0;padding-left:10px}.isLtr[_nghost-%COMP%]     .mat-select-trigger, .isLtr   [_nghost-%COMP%]     .mat-select-trigger{padding-left:10px}html[dir=ltr][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-left:10px}.isRtl[_nghost-%COMP%]     .mat-select-trigger, .isRtl   [_nghost-%COMP%]     .mat-select-trigger{padding-right:10px}html[dir=rtl][_ngcontent-%COMP%]     .mat-select-trigger{--dummy1: 0;padding-right:10px}.webcam-dialog-container[_ngcontent-%COMP%]{max-width:100%}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-header[_ngcontent-%COMP%]{margin-bottom:15px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-select[_ngcontent-%COMP%]{height:48px;margin-bottom:16px;background:#494949}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]{height:288px;margin-bottom:10px;position:relative}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-preview[_ngcontent-%COMP%]{object-fit:cover;height:100%;width:100%;position:absolute}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-box[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;background:#292929}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-text-box[_ngcontent-%COMP%]{height:100%;width:76%;left:12%;position:absolute;text-align:center}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-preview[_ngcontent-%COMP%]   .video-text-box[_ngcontent-%COMP%]   .no-webcam-header[_ngcontent-%COMP%]{margin-bottom:5px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-disable[_ngcontent-%COMP%]{margin-bottom:10px}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-dialog-disable[_ngcontent-%COMP%]   .font-color-warning[_ngcontent-%COMP%]{color:#ffb43e}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-hidden[_ngcontent-%COMP%]{visibility:hidden}.webcam-dialog-container[_ngcontent-%COMP%]   .webcam-display-none[_ngcontent-%COMP%]{display:none}"]}),ce})();function qi(ce,Ae){1&ce&&(i._UZ(0,"div",8),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackIntro"),i.oJD)}function Oi(ce,Ae){1&ce&&(i._UZ(0,"div",8),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackGameplay"),i.oJD)}function Gi(ce,Ae){1&ce&&(i._UZ(0,"div",8),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackInputs"),i.oJD)}function eo(ce,Ae){1&ce&&(i._UZ(0,"div",8),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackWebcam"),i.oJD)}function to(ce,Ae){1&ce&&(i._UZ(0,"div",8),i.ALo(1,"translate")),2&ce&&i.Q6J("innerHtml",i.lcZ(1,1,"playtestLive.playtestFeedbackDialog.feedbackMicrophone"),i.oJD)}let no=(()=>{class ce{constructor(c,V){this.loggingService=c,this.playtestLiveService=V,this.primaryButtonClick=new i.vpe,this.destroy$=new P.xQ}ngOnInit(){this.logger=this.loggingService.getLogger("FeedbackHig"),this.featureFlags=this.playtestLiveService.featureFlags}onPrimaryButtonClick(){this.primaryButtonClick.emit(!0)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return ce.\u0275fac=function(c){return new(c||ce)(i.Y36(p.ed),i.Y36(Xi))},ce.\u0275cmp=i.Xpm({type:ce,selectors:[["gfn-playtestlive-feedbackhig"]],inputs:{primaryButton:"primaryButton"},outputs:{primaryButtonClick:"primaryButtonClick"},decls:17,vars:14,consts:[["fxLayout","column",1,"feedbackhig-dialog-container"],[1,"feedbackhig-dialog-header"],[1,"font-header6"],[1,"feedbackhig-dialog-intro"],["class","font-body2",3,"innerHtml",4,"ngIf"],[1,"feedbackhig-dialog-items"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","10px"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","click"],[1,"font-body2",3,"innerHtml"]],template:function(c,V){1&c&&(i.TgZ(0,"div",0)(1,"span",1)(2,"span",2),i._uU(3),i.ALo(4,"translate"),i.qZA()(),i.TgZ(5,"span",3),i.YNc(6,qi,2,3,"div",4),i.qZA(),i.TgZ(7,"span",5),i.YNc(8,Oi,2,3,"div",4),i.YNc(9,Gi,2,3,"div",4),i.YNc(10,eo,2,3,"div",4),i.YNc(11,to,2,3,"div",4),i.qZA(),i.TgZ(12,"mat-dialog-actions",6)(13,"button",7),i.NdJ("click",function(){return V.onPrimaryButtonClick()}),i._uU(14),i.ALo(15,"uppercase"),i.ALo(16,"translate"),i.qZA()()()),2&c&&(i.xp6(3),i.hij(" ",i.lcZ(4,8,"playtestLive.playtestFeedbackDialog.header")," "),i.xp6(3),i.Q6J("ngIf",V.featureFlags.captureWebcam||V.featureFlags.captureMicrophone||V.featureFlags.captureGameplay||V.featureFlags.captureInput),i.xp6(2),i.Q6J("ngIf",V.featureFlags.captureGameplay),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureInput),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureWebcam),i.xp6(1),i.Q6J("ngIf",V.featureFlags.captureMicrophone),i.xp6(2),i.Q6J("mat-dialog-close",!0),i.xp6(1),i.hij(" ",i.lcZ(15,10,i.lcZ(16,12,"common.done"))," "))},dependencies:[t.O5,T.xw,T.SQ,T.Wh,f.eB,L.aO,L.ev,t.gd,M.X$],styles:[".feedbackhig-dialog-container[_ngcontent-%COMP%]{max-width:100%}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-header[_ngcontent-%COMP%]{margin-bottom:20px}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-intro[_ngcontent-%COMP%]{margin-bottom:10px}.feedbackhig-dialog-container[_ngcontent-%COMP%]   .feedbackhig-dialog-items[_ngcontent-%COMP%]{margin-bottom:20px}"]}),ce})();var yi=e(67026),Ei=e(72221),Bi=e(3878);let bi=(()=>{class ce{constructor(c,V,oe,fe,Ue){var Ke,je;this.dbCacheService=oe,this.breakpointObserver=fe,this.meta=Ue,this.marqueeControl=yi.E.Play,this.enableGridResizing=new P.xQ,this.isGridSectionEvidencePanelOpen=new Cn.X(!1),this.filterPanelToggled=new ln.t(1),this.streamingTerminated=new P.xQ,this.logger=c.getLogger("gfn/shared/browseUx"),this._selectedParentId="",null!==(Ke=null==V?void 0:V.featureEnablement)&&void 0!==Ke&&Ke.tvMode&&(this.applyTvModeClassOnBody(),null!==(je=null==V?void 0:V.client)&&void 0!==je&&je.updateInitalScale&&this.updateInitialScale())}get filterPanelToggled$(){return this.filterPanelToggled.asObservable()}get streamingTerminated$(){return this.streamingTerminated.asObservable()}get selectedParentId(){return this._selectedParentId}get enableGridResizing$(){return this.enableGridResizing}get gridSectionEvidencePanelOpenStatus$(){return this.isGridSectionEvidencePanelOpen.asObservable()}updateGridSectionEvidencePanelOpenStatus(c){this.isGridSectionEvidencePanelOpen.next(c)}browseStore(c){return c.pipe((0,r.q)(1),(0,wt.U)(V=>(this.browseDbStore=this.dbCacheService.getOrCreateCachedGlobalItem(di.SB.DbStoreName,V.userId||p.kQ),this.logger.info("DB store initialize",di.SB.DbStoreName),this.browseDbStore)))}applyTvModeClassOnBody(){document?document.getElementsByTagName("body")[0].classList.add("tv-view"):this.logger.error("Can not add the class, document is undefined")}updateInitialScale(){const c=window.devicePixelRatio;if(c){const V=1/c;this.meta.updateTag({content:`width=device-width, initial-scale=${V}, viewport-fit=cover, minimum-scale=${V}, maximum-scale=${V}`},"name=viewport")}else this.logger.info("Invalid devicePixelRatio. Not updating the initial scale.")}get fullPagedGameDetailsEnabled$(){return this.breakpointObserver.observe(Ei.u3.Handset).pipe((0,wt.U)(c=>c.matches))}get gridViewEvidencePanelGameId(){return this._gridViewEvidencePanelGameId}initialize(){this.setMarqueeControlAction(yi.E.Play)}getUserPreference(c,V){return this.browseStore(V).pipe((0,Te.zg)(oe=>oe.sync_()),(0,wt.U)(oe=>oe[c]))}setGridViewEvidencePanelGameId(c){this._gridViewEvidencePanelGameId=c}setUserPreference(c,V){return this.browseDbStore.sync_().pipe((0,Te.zg)(()=>(this.browseDbStore[c]=V,this.browseDbStore.persist_())))}setMarqueeControlAction(c){this.marqueeControl=c}getMarqueeControlAction(){return this.marqueeControl}setSelectedParentId(c){this._selectedParentId=c}emitFilterPanelToggled(c,V){this.filterPanelToggled.next({opened:c,mode:V})}emitStreamingTerminated(){this.streamingTerminated.next()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Nt.VK),i.LFG(p.LA),i.LFG(Ei.Yg),i.LFG(Bi.h_))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const io={header:"common.joinTodayToPlay",headerOnTv:"layout.joinTodayAlertDialogText.headerTextOnTv",body:{text:"layout.joinTodayAlertDialogText.bodyText",textWithoutLink:"layout.joinTodayAlertDialogText.bodyTextWithoutLink"},primaryButton:{text:"common.joinToday",accentColor:!0},secondaryButton:{text:"common.cancel"},loginButton:{text:"common.login"}},oo={header:"loginBridgeState.loginToGeForceNow",headerOnTv:"loginBridgeState.loginToGeForceNow",body:{text:"layout.joinTodayAlertDialogText.bodyTextWithoutLink",textWithoutLink:"layout.joinTodayAlertDialogText.bodyTextWithoutLink"},primaryButton:{text:"common.login",accentColor:!0},secondaryButton:{text:"common.cancel"},loginButton:{text:"common.login",accentColor:!0}},ro_body_text="common.connectionError",ro_primaryButton={text:"common.close",accentColor:!0},Mo_body_text="layout.mobileDataWarning.body",Mo_primaryButton={text:"common.allow",accentColor:!0},Hi_primaryButton={text:"common.cancel",accentColor:!0},Hi_checkbox_text="common.dontShowThisAgain",Hi_checkbox_initialState=!1,Oo_body_text="layout.gameOwnershipABPrompt.genericBody",Oo_primaryButton={text:"common.cancel",accentColor:!0},fi_body={text:"multiplatform.dialog.description"},fi_primaryButton={text:"common.continue",isDisabled:!0},yo_body_text="fencedStatus.patchingSupplementalText",yo_primaryButton_text="common.close",so_body_text="fencedStatus.offlineSupplementalText",so_primaryButton_text="common.close",vi_body_text="layout.gamepadWarningAlert.body",vi_checkbox_text="common.dontShowThisAgain",vi_checkbox_initialState=!1,vi_primaryButton={text:"common.continue",accentColor:!0},xi_body_text="layout.keyboardMouseWarningAlert.body",xi_checkbox_text="common.dontShowThisAgain",xi_checkbox_initialState=!1,xi_primaryButton={text:"common.continue",accentColor:!0},Eo_primaryButton={text:"common.gotIt"},bo_header_unsupportedPlatformText="layout.universalUnsupportedDialogText.unsupportedPlatformHeaderText",bo_header_unsupportedBrowserText="layout.universalUnsupportedDialogText.unsupportedBrowserHeaderText",bo_body_unsupportedBrowserWithNativeApps="layout.universalUnsupportedDialogText.unsupportedBrowserWithNativeAppsBodyText",bo_primaryButton={text:"common.close"},Er_primaryButton={text:"layout.unsupportedSystemLoginDialog.primaryButton"},Er_secondaryButton={text:"common.cancel"};let xo=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En){var gn;this.appConfig=V,this.dialog=oe,this.browseUxService=fe,this.translateService=Ue,this.telemetryUtilService=Ke,this.sharedStorageService=je,this.idmService=st,this.redirectService=Ot,this.genericDialog=Lt,this.ecomService=At,this.unsupportedBrowserService=Yt,this.bridgeService=qt,this.focusManager=En,this.logger=c.getLogger("DialogService"),this.tvMode=!(null===(gn=null==V?void 0:V.featureEnablement)||void 0===gn||!gn.tvMode)}openJoinTodayAlertDialog(c,V){const oe=this.ecomService.canHardUpsell(),fe=oe?io:oo,Ue=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{autoFocusOnPrimaryButton:!1,headerText:{text:this.tvMode?fe.headerOnTv:fe.header},bodyText:{text:this.tvMode?fe.body.textWithoutLink:fe.body.text,placeholders:{loginLink:'class="font-body2-link membership-login-link"'}},primaryButton:oe?Object.assign({},fe.primaryButton):this.tvMode?null:Object.assign({},fe.loginButton),secondaryButton:Object.assign({},this.tvMode?fe.loginButton:fe.secondaryButton),threeQuaterSheetData:{augmentedButtons:[{text:fe.secondaryButton.text,id:"cancel"}]}}},{preferThreeQuarterSheet:this.tvMode});let Ke=null;const je=Ue.afterOpened().pipe((0,Te.zg)(Ot=>{if(this.tvMode)return Ue.secondaryButtonClick;if(!oe)return Ue.primaryButtonClick;{const Lt=document.getElementsByClassName("membership-login-link");if(Lt&&Lt[0])return(0,Zi.R)(Lt,"click")}return ji.E}),(0,r.q)(1));this.appConfig.featureEnablement.UASAutoEntitle?Ke=(0,In.S3)(je,Ue.primaryButtonClick):(Ke=je,Ue.primaryButtonClick.subscribe(()=>{this.telemetryUtilService.sendJoinTodayAlertDialogUiAction(Zt.V_.Join),this.ecomService.openJoinMembershipPage(c,V)},Ot=>{this.logger.error("join today dialog:",Ot)}));const st=this.tvMode?Ue.augmentedButtonClick.pipe((0,Ie.h)(Ot=>"cancel"===Ot)):Ue.secondaryButtonClick;return(0,In.S3)(st.pipe((0,$t.h)(Zt.V_.Close)),Ue.afterClosed().pipe((0,$t.h)(Zt.V_.Close)),Ke.pipe((0,$t.h)(Zt.V_.Login))).pipe((0,wt.U)(Ot=>(this.telemetryUtilService.sendJoinTodayAlertDialogUiAction(Ot),Ue.close(),Ot)))}openUnsupportedBrowserDialog(c){let V;this.openGFNUnsupportedDialog(!1,c).pipe((0,r.q)(1),(0,Te.zg)(oe=>(V=oe,(0,In.S3)(V.afterClosed().pipe((0,$t.h)(Zt.uV.Cancel)),V.primaryButtonClick.pipe((0,$t.h)(Zt.uV.Cancel))))),(0,Pe.b)(oe=>{this.telemetryUtilService.sendPopUpDialogClosedEvent(me.ItH.Unsupported_Browser_Or_Platform_Game_Launch,me.XzU.Dialog_Closed),V.close()})).subscribe()}openUnsupportedSystemSoftBlockerDialog(c){let V;return this.openGFNUnsupportedDialog(!0,c).pipe((0,r.q)(1),(0,Te.zg)(oe=>(V=oe,(0,In.S3)(oe.secondaryButtonClick.pipe((0,$t.h)(Zt.e_.Cancel)),oe.primaryButtonClick.pipe((0,$t.h)(Zt.e_.Continue)),oe.afterClosed().pipe((0,$t.h)(Zt.e_.Cancel))))),(0,wt.U)(oe=>(this.telemetryUtilService.sendPopUpDialogClosedEvent(me.ItH.Unsupported_Browser_Or_Platform_Login,oe===Zt.e_.Continue?me.XzU.Continue_Login:me.XzU.Dialog_Closed),V.close(),oe)))}openGFNUnsupportedDialog(c,V){return this.unsupportedBrowserService.getDialogLink$(V).pipe((0,r.q)(1),(0,wt.U)(oe=>{const fe=this.tvMode?{text:bo_body_unsupportedBrowserWithNativeApps,placeholders:{vanityUrl:oe.shortUrl}}:void 0;return this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:this.getUnsupportedHeaderText(V)},link:oe,bodyText:fe,primaryButton:Object.assign({},c?Er_primaryButton:bo_primaryButton),secondaryButton:c?Object.assign({},Er_secondaryButton):void 0,autoFocusOnPrimaryButton:!1}},{preferThreeQuarterSheet:!0})}),(0,Pe.b)(oe=>{this.telemetryUtilService.sendPopUpDialogShownEvent(c?me.ItH.Unsupported_Browser_Or_Platform_Login:me.ItH.Unsupported_Browser_Or_Platform_Game_Launch)}))}getUnsupportedHeaderText(c){if(c.supportedState===Bn.cI.None)switch(c.unsupportedState){case Bn.DI.UnsupportedOS:return bo_header_unsupportedPlatformText;case Bn.DI.UnsupportedBrowser:case Bn.DI.PWARequired:case Bn.DI.NativeAppOnly:return bo_header_unsupportedBrowserText;default:throw new Error("should not happen!")}else if(c.unsupportedState===Bn.DI.None)throw new Error("To be Implemented")}openConnectionErrorDialog(){const c=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"common.genericLoadError"},bodyText:{text:ro_body_text},primaryButton:Object.assign({},ro_primaryButton)}});c.primaryButtonClick.pipe((0,r.q)(1)).subscribe(()=>c.close())}openMobileDataWarningDialog(){const c=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"layout.mobileDataWarning.title"},bodyText:{text:Mo_body_text},primaryButton:Object.assign({},Mo_primaryButton),secondaryButton:{text:"common.cancel"}}},{preferThreeQuarterSheet:!0});return(0,In.S3)(c.primaryButtonClick.pipe((0,$t.h)(!0)),c.secondaryButtonClick.pipe((0,$t.h)(!1))).pipe((0,Pe.b)(()=>c.close()))}checkGameOwnershipDialog(c,V,oe){return this.browseUxService.getUserPreference(di.rL.showGameOwnershipPrompt,this.idmService.accountStatusChanged).pipe((0,Te.zg)(fe=>!(0,s.isNil)(fe)&&!fe||V||c.accountLinkingMetadata.isSupported?(0,U.of)(!0):(this.logger.info("Showing game ownership dialog"),this.showGameOwnershipDialog(c,oe))))}showGameOwnershipABPrompt(c,V){const oe={panelClass:"dialogPaddingRemove",disableClose:!0,data:{bodyText:{text:Oo_body_text},showSpinner:!0,headerText:{text:"layout.gameOwnershipABPrompt.header"},primaryButton:Object.assign({},Oo_primaryButton),secondaryButton:{text:"layout.gameOwnershipABPrompt.secondaryButton"},autoFocusOnPrimaryButton:!1}},fe=this.genericDialog.open(oe),Ue=null==c?void 0:c.label;return V&&Ue?oe.data.bodyText={text:"layout.gameOwnershipABPrompt.bodyWithStoreAndGetLink",placeholders:{store:Ue,storeUrl:`class="font-body2-link" href="${V}"`}}:V?oe.data.bodyText={text:"layout.gameOwnershipABPrompt.bodyWithGetLink",placeholders:{storeUrl:`class="font-body2-link" href="${V}"`}}:Ue&&(oe.data.bodyText={text:"layout.gameOwnershipABPrompt.bodyWithStore",placeholders:{store:Ue}}),oe.data.showSpinner=!1,(0,In.S3)(fe.primaryButtonClick.pipe((0,$t.h)(!1)),fe.afterClosed().pipe((0,$t.h)(!1)),fe.secondaryButtonClick.pipe((0,$t.h)(!0))).pipe((0,Pe.b)(Ke=>{fe.close()}),(0,vt.K)(Ke=>(0,U.of)(!1)))}setDigitalStore(c,V,oe){const fe=null==c?void 0:c.label;return fe!==Hn.rV?this.translateService.get(V,{digitalStore:fe}):this.translateService.get(oe)}onGameOwnershipDialogDismissed(c){this.browseUxService.setUserPreference(di.rL.showGameOwnershipPrompt,!c.checkboxState).pipe((0,r.q)(1)).subscribe()}showGameOwnershipDialog(c,V){const oe={panelClass:"dialogPaddingRemove",disableClose:!0,data:{showSpinner:!0,headerText:{text:"common.beforeYouPlay"},primaryButton:Object.assign({},Hi_primaryButton),secondaryButton:{text:"common.continue"},checkbox:{text:this.tvMode?"layout.continueDontShowAgain":Hi_checkbox_text,initialState:Hi_checkbox_initialState}}},fe=this.genericDialog.open(oe);return this.setDigitalStore(c,"layout.gameOwnershipPrompt.bodyTextWithPlatform","layout.gameOwnershipPrompt.bodyText").pipe((0,Dn.w)(Ue=>(oe.data.bodyText={text:Ue},oe.data.showSpinner=!1,(0,In.S3)(fe.primaryButtonClick.pipe((0,$t.h)(!1)),fe.afterClosed().pipe((0,$t.h)(!1)),fe.secondaryButtonClick.pipe((0,$t.h)(!0))).pipe((0,Pe.b)(Ke=>{Ke&&this.onGameOwnershipDialogDismissed(fe),this.logger.info("Closing game ownership dialog")}),(0,Te.zg)(Ke=>(fe.close(),(0,U.of)(Ke)))))))}openMultiPlatformSelectionDialog(c,V,oe){const fe=c.map(st=>{const Ot=st.appStoreInfo.label;return Object.assign({value:Ot===Hn.rV?st.publisherName:Ot},st.appStoreInfo.smallImageUrl?{imageUrl:st.appStoreInfo.smallImageUrl}:null)}),Ke={panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"common.beforeYouPlay"},bodyText:Object.assign({},fi_body),primaryButton:Object.assign({},fi_primaryButton),secondaryButton:{text:"common.cancel"},radioButtonOptions:fe}},je=this.genericDialog.open(Ke);return je.radioButtonClick.pipe((0,r.q)(1),(0,Pe.b)(()=>{Ke.data.primaryButton.isDisabled=!1})).subscribe(),(0,In.S3)(je.primaryButtonClick.pipe((0,$t.h)(!0)),je.secondaryButtonClick.pipe((0,$t.h)(!1)),je.afterClosed().pipe((0,$t.h)(!1))).pipe((0,wt.U)(st=>{if(je.close(),st){const Ot=(st=>{let Ot;const Lt=Hn.vA.StoresList.find(At=>At.label===st);return Ot=c.find(Lt?At=>At.appStore===Lt.store:At=>At.publisherName===st&&At.appStoreInfo.label===Hn.rV),Ot})(je.radioOptionSelected);return this.telemetryUtilService.sendClickEvent(me.lzt.PlatformSelection,Ot.appStore,`${V}/${me.CGJ.ScreenPlatformSelectionDialog}`),Ot}return null}))}openFencedStatusErrorDialog(c){this.logger.info("Show fenced error dialog for",c);const V=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:c===Ne.zu.PATCHING?"fencedStatus.gamePatching":"fencedStatus.gameOffline"},bodyText:{text:c===Ne.zu.PATCHING?yo_body_text:so_body_text},primaryButton:{text:c===Ne.zu.PATCHING?yo_primaryButton_text:so_primaryButton_text}}});V.primaryButtonClick.pipe((0,r.q)(1)).subscribe(()=>V.close())}openGamepadRequiredDialog(){return(0,Sn.aj)([this.redirectService.getRedirectUrl(et.hE.GfnPcRecommendedGamepads),this.browseUxService.getUserPreference(di.rL.skipGamepadWarningDialog,this.idmService.accountStatusChanged)]).pipe((0,Te.zg)(([c,V])=>{if(V)return(0,U.of)(!0);const oe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.gamepadWarningAlert.title"},bodyText:{text:vi_body_text,placeholders:this.tvMode?void 0:{gamePadURL:`class="font-body2-link" href="${c}"`}},checkbox:{text:this.tvMode?"layout.continueDontShowAgain":vi_checkbox_text,initialState:vi_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},primaryButton:Object.assign({},vi_primaryButton),secondaryButton:{text:"common.cancel"},link:{text:this.tvMode?"layout.gamepadWarningAlert.supportedGamepad":void 0,url:this.tvMode?c:void 0,shortUrl:et.hD[et.hE.GfnPcRecommendedGamepads]}}});return(0,In.S3)(oe.primaryButtonClick.pipe((0,$t.h)(!0)),oe.secondaryButtonClick.pipe((0,$t.h)(!1)),oe.afterClosed().pipe((0,$t.h)(!1))).pipe((0,wt.U)(fe=>(oe.close(),fe&&this.browseUxService.setUserPreference(di.rL.skipGamepadWarningDialog,oe.checkboxState).pipe((0,r.q)(1)).subscribe(),fe)))}))}openKeyboardMouseRequiredDialog(){return this.browseUxService.getUserPreference(di.rL.skipKeyboardMouseWarningDialog,this.idmService.accountStatusChanged).pipe((0,Te.zg)(V=>{if(V)return(0,U.of)(!0);const oe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.keyboardMouseWarningAlert.title"},bodyText:{text:xi_body_text},checkbox:{text:this.tvMode?"layout.continueDontShowAgain":xi_checkbox_text,initialState:xi_checkbox_initialState,primaryActionInThreeQuarterSheet:!0},primaryButton:Object.assign({},xi_primaryButton),secondaryButton:{text:"common.quit"}}});return(0,In.S3)(oe.primaryButtonClick.pipe((0,$t.h)(!0)),oe.secondaryButtonClick.pipe((0,$t.h)(!1)),oe.afterClosed().pipe((0,$t.h)(!1))).pipe((0,Pe.b)(()=>oe.close()),(0,Te.zg)(fe=>fe?this.browseUxService.setUserPreference(di.rL.skipKeyboardMouseWarningDialog,oe.checkboxState).pipe((0,$t.h)(fe)):(0,U.of)(fe)))}))}openGameShortcutDialog(c,V,oe,fe,Ue,Ke,je){const st=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{image:{caption:"interface.gametitle",captionPlaceholder:{title:c},description:"gameShortcut.createShortcutGuidance",url:V,shortcutUrl:oe,isDraggableUrl:!0,dragStartCallback:this.onGameShortcutDragStart.bind(this,Ue,Ke,je)},headerText:{text:"gameShortcut.createShortcutTitle"},primaryButton:Object.assign({},Eo_primaryButton)}});(0,In.S3)(st.primaryButtonClick.pipe((0,$t.h)(!0)),st.afterClosed().pipe((0,$t.h)(!0)),fe).subscribe(()=>{st.close()})}onGameShortcutDragStart(c,V,oe){oe&&this.telemetryUtilService.sendDragEvent(me.cjj.GameShortcutUrl,c,V)}showAccountLinkingDialog(c,V,oe,fe,Ue,Ke,je,st){const At=V?V+"_":"",qt=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{descriptionList:oe,headerText:{text:fe},bodyText:c?{text:c,placeholders:{store:V||void 0}}:void 0,primaryButton:{text:Ue,accentColor:!0},secondaryButton:{text:Ke},checkbox:je?{text:je,initialState:!1}:void 0,translateValues:V?{arg:V}:void 0}},{preferThreeQuarterSheet:st});return(0,In.S3)(qt.primaryButtonClick.pipe((0,$t.h)(!0)),qt.secondaryButtonClick.pipe((0,$t.h)(!1)),qt.afterClosed().pipe((0,$t.h)(!1))).pipe((0,wt.U)(En=>(qt.checkboxState&&this.idmService.cachedUser.pipe((0,Te.zg)(gn=>(0,pe.D)([(0,U.of)(gn.data.userId),this.sharedStorageService.readBlock("accountLinking_"+At+gn.data.userId)])),(0,Te.zg)(([gn,mn])=>(mn.hideAccountLinkingDialog=!0,this.sharedStorageService.writeBlock("accountLinking_"+At+gn,mn)))).subscribe(),qt.close(),En)))}openAccountLinkingExpirationDialog(c,V=!1,oe=!1){const fe=c.expirationStatus;let Ke="accountConnection.accountLinking."+(c.isAccountLinkingSsoRequired?"ios.":"");if(fe===j.Expired)Ke+="warningExpired";else{if(fe!==j.ExpiresNow)return(0,U.of)(!0);Ke+="warningSoon"}return this.showAccountLinkingDialog(Ke,c.storeName,void 0,"common.reconnectAccount",oe?"accountConnection.reconnect":"common.goToSettings",V?"accountConnection.playLater":"common.notNow")}openAccountLinkingValuePropDialog(c,V=!1,oe){const fe=c.isAccountLinkingSsoRequired?null:"common.dontShowThisAgain",Ue=c.isAccountLinkingSsoRequired?oe:"common.notNow",Ke=V?"layout.accountLinkingPrompt.connect":"common.goToSettings";let je=(0,U.of)(fe);if(this.tvMode&&fe){const st=this.translateService.get(Ue),Ot=this.translateService.get("common.dontShowThisAgain");je=(0,Sn.aj)([st,Ot]).pipe((0,r.q)(1),(0,wt.U)(([Lt,At])=>`${Lt}, ${At}`))}return je.pipe((0,r.q)(1),(0,Te.zg)(st=>this.showAccountLinkingDialog(c.showOnboardingReconnect?"accountConnection.newFeature":void 0,c.appstoreLabel,c.descriptionIconList,c.showOnboardingReconnect?"accountConnection.reconnectAccount":"accountConnection.connectAccount",Ke,Ue,st,!0)))}openAccountLinkingConnectingDialog(c,V){const oe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:V?"accountConnection.accountLinking.reconnectingAccount":"accountConnection.accountLinking.connectionProgressTitle"},bodyText:{text:V?"accountConnection.accountLinking.reconnectInProgress":"accountConnection.accountLinking.connectionProgress"},primaryButton:{text:"common.cancel"}}});return(0,In.S3)(c,oe.primaryButtonClick.pipe((0,$t.h)(""))).pipe((0,vt.K)(()=>(0,U.of)("")),(0,Pe.b)(()=>{oe.close()}))}openOffDeviceAccountLinkingDialog(c,V){let oe;const fe=V.pipe((0,Te.zg)(Ue=>(oe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:(0,Je.j7)(Ue.verificationUri)},bodyText:{text:"loginBridgeState.deviceAuthLogin",placeholders:{authCode:`<div class="font-header3 white">${(0,Je.yY)(Ue.userCode)}</div>`}},footerText:{text:"layout.gameOwnershipPrompt.offDeviceHint"},image:{url:Ue.verificationUriComplete},primaryButton:{text:"common.cancel"}}},{preferThreeQuarterSheet:!0}),(0,In.S3)(oe.primaryButtonClick.pipe((0,$t.h)(!1)),oe.afterClosed().pipe((0,$t.h)(!1))))));return(0,In.S3)(c,fe).pipe((0,vt.K)(()=>(0,U.of)(!1)),(0,Pe.b)(()=>{null==oe||oe.close()}))}openAccountLinkingErrorDialog(c,V){const oe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"accountConnection.accountLinking.connectionFailedTitle"},bodyText:{text:"accountConnection.accountLinking.connectionFailed",placeholders:{arg:c}},primaryButton:{text:"common.close"}}});return(0,In.S3)(oe.primaryButtonClick,oe.afterClosed()).pipe((0,r.q)(1),(0,Pe.b)(()=>{oe.close()}),(0,$t.h)(V))}openPlaytestLiveErrorDialog(){return this.dialog.open(Gr,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLivePermissionHigDialog(c){const V=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(is,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:["dialog-backdrop","nv-overlay-panel"]}));return(0,In.S3)(V.componentInstance.primaryButtonClick.pipe((0,$t.h)(!0)),V.componentInstance.secondaryButtonClick.pipe((0,$t.h)(!1))).pipe((0,Pe.b)(()=>V.close()),(0,wt.U)(oe=>oe||!1))}openPlaytestLiveFeedbackHigDialog(c){return this.dialog.open(no,{panelClass:"nv-hig",width:"560px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLiveWebcamPreview(c){return this.dialog.open(Mi,{panelClass:"nv-hig",width:"560px",height:"540px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPlaytestLiveMicrophonePreview(c){return this.dialog.open(we,{panelClass:"nv-hig",width:"560px",height:"540px",disableClose:!0,backdropClass:"dialog-backdrop"}).afterClosed()}openPwaWallHelpDialog(){this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open($o,{autoFocus:!0,hasBackdrop:!0,panelClass:["dialogPaddingRemove","nv-overlay-panel"]}))}showPlatformOverridePermissionDialog(c,V,oe){const fe=this.genericDialog.open({disableClose:!0,panelClass:"dialogPaddingRemove",data:{headerText:{text:"multiplatform.switchDialog.title"},bodyText:{text:"multiplatform.switchDialog.description",placeholders:{currentStore:V,newStore:oe}},primaryButton:{text:"common.continue"},secondaryButton:{text:"common.cancel"}}});return(0,In.S3)(fe.primaryButtonClick.pipe((0,$t.h)(!0)),fe.secondaryButtonClick.pipe((0,$t.h)(!1)),fe.afterClosed().pipe((0,$t.h)(null))).pipe((0,r.q)(1),(0,Pe.b)(Ue=>{fe.close(),null!==Ue&&this.telemetryUtilService.sendClickEvent(me.lzt.PlatformChangeConsent,oe,`${c}/ContinueClicked=${Ue}`)}))}showExitAppDialog(){const c=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:"layout.exitAppPrompt.headerText"},primaryButton:{text:"layout.exitAppPrompt.primaryButton"},secondaryButton:{text:"common.cancelTitleCase"}}});return(0,In.S3)(c.primaryButtonClick.pipe((0,$t.h)(!0)),c.secondaryButtonClick.pipe((0,$t.h)(!1)),c.afterClosed().pipe((0,$t.h)(!1))).pipe((0,r.q)(1),(0,Pe.b)(()=>c.close()))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Nt.VK),i.LFG(L.on),i.LFG(bi),i.LFG(M.sK),i.LFG(me.wU6),i.LFG(Se.OA),i.LFG($n.No),i.LFG(et.VH),i.LFG(O.TX),i.LFG(An.BH),i.LFG(Bn.rH),i.LFG(p.dF),i.LFG(O.IK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();let ls=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En,gn,mn,Nn,ui){var mi;this.idmService=V,this.networkStatusService=oe,this.nesUserInfoService=fe,this.telemetryUtilService=Ue,this.dialog=Ke,this.configuration=je,this.telemetryService=st,this.ecommerceService=Ot,this.gfnSdkService=Lt,this.router=At,this.unsupportedBrowserService=Yt,this.dialogService=qt,this.genericDialog=En,this.pathService=gn,this.idmTelemetryService=mn,this.focusManager=Nn,this.uasService=ui,this.cancelTimeoutExpired=!1,this.cancelTimer=null,this.loginListener=null,this.joinNowSubscription=null,this.logger=c.getLogger("gfn/shared/idm/idmLoginService"),this.tvMode=!(null===(mi=null==je?void 0:je.featureEnablement)||void 0===mi||!mi.tvMode)}initialize(){this.configuration.starfleet.sameTabLogin&&(this.idmTelemetryService.checkAndSendLoginStartEvent(),this.idmService.getAuthStatus().pipe((0,r.q)(1),(0,Te.zg)(c=>(this.logger.info("Received authStatus ",c),c.authReturnState===fn.fH.LoginCompleted||c.authReturnState===fn.fH.LoginFailed?null===c.error?this.idmTelemetryService.sendLoginSuccessUserSessionEvent():(this.displayLoginErrorMessages(c.error),this.idmTelemetryService.sendLoginFailureUserSessionEvent()):c.authReturnState===fn.fH.LogoutCompleted&&null!==c.error&&this.displayLogoutErrorMessages(c),(0,U.of)(!0)))).subscribe()),this.checkAutoEntitleState()}checkAutoEntitleState(){this.configuration.featureEnablement.UASAutoEntitle&&this.configuration.uasConfig.sameTab&&this.configuration.uasConfig.redirectUrlIsRelative&&this.uasService.AutoEntitleState.pipe((0,Ie.h)(c=>c===Fi.n.Failed||c===Fi.n.LoggedOut),(0,r.q)(1)).subscribe(c=>this.displayLoginErrorMessages(c),c=>this.logger.error("error in getting Auto Entitle state"))}login(c,V=!1){return(0,Sn.aj)([this.unsupportedBrowserService.unsupportedBrowserState$,this.unsupportedBrowserService.shouldDisplayPWAGuidance$]).pipe((0,r.q)(1),(0,Te.zg)(([fe,Ue])=>p.ng.isNativeLikePlatform()||fe.unsupportedState===Bn.DI.None?(0,U.of)(!0):fe.unsupportedState===Bn.DI.PWARequired&&Ue?(this.pathService.navigate([vn.fF.PwaWall],{skipLocationChange:!1}),(0,U.of)(!1)):this.dialogService.openUnsupportedSystemSoftBlockerDialog(fe).pipe((0,wt.U)(Ke=>(Ke===Zt.e_.Cancel&&this.logger.info("User cancelled the login"),Ke===Zt.e_.Continue))))).pipe((0,r.q)(1),(0,Te.zg)(fe=>fe?this.nesUserInfoService.providerInfo$.pipe((0,Te.zg)(Ue=>{var Ke;let je=null;return 1===(null===(Ke=null==Ue?void 0:Ue.loginPreferredProviders)||void 0===Ke?void 0:Ke.length)&&c!==me.CGJ.ScreenSwitchProvider&&Ue.gfnServiceEndpoints.forEach(st=>{st.loginProvider===Ue.loginPreferredProviders[0]&&(je=st.idpId)}),this.handleStarfleetLogin(c,V,je)}),(0,vt.K)(Ue=>(this.logger.error("Failed to get idpId",Ue),this.handleStarfleetLogin(c,V,null)))):(0,U.of)(!1)))}setUpDialog(c){const V={panelClass:["login-bridge-state-dialog","dialogPaddingRemove","nv-overlay-panel"],disableClose:!0};return V.data={idpId:c},this.tvMode&&(V.maxWidth="100vw"),this.cancelTimer&&clearTimeout(this.cancelTimer),this.cancelTimer=setTimeout(()=>{this.idmService.cancelLogin(!0),this.cancelTimeoutExpired=!0,this.listenForErrorSubscription&&this.listenForErrorSubscription.unsubscribe()},this.configuration.starfleet.httpServerDuration),this.cancelTimeoutExpired=!1,V}handleStarfleetLogin(c,V=!1,oe){return(0,U.of)(null).pipe((0,Te.zg)(fe=>(0,Sn.aj)([(0,U.of)(oe),this.gfnSdkService.getAuthType()])),(0,Te.zg)(([fe,Ue])=>{if(Ue===Me.Gr.IDM||Ue===Me.Gr.INVALID){if(this.configuration.starfleet.sameTabLogin){const Ke=this.pathService.getCurrentUrl();return this.idmTelemetryService.sendLoginStartEvent(fe,!0),this.idmService.login(!1,fe,void 0,void 0,Ke).pipe((0,vt.K)(je=>(this.logger.error("failed to login the user with error",je),(0,U.of)(je))))}{const Ke=this.setUpDialog(fe);return this.dialog.open(zo,Ke).afterClosed().pipe((0,Te.zg)(je=>{switch(je){case fn.L$.Success:return(0,U.of)(!0);case fn.L$.Failure:case fn.L$.CloseOnFailure:return(0,U.of)(!1);case fn.L$.Cancel:return this.cancelTimeoutExpired||this.handleBridgeStateCancel(),(0,vn.MA)(this.router.url)?this.handleStarfleetLogin(c,V,fe):(0,U.of)(!1)}}))}}return Ue===Me.Gr.IDM_FALLBACK?(this.loginListener=new po.c,this.bringUpJoinNowDialog(fe),this.loginListener):(this.logger.error("Attempted to open the login screen during a valid GaaS session"),(0,U.of)(!1))}))}resolveEcomUseCase(){return this.ecomUseCase?(0,U.of)({}):this.gfnSdkService.getAuthInfo().pipe((0,Pe.b)(c=>{c.timeRemaining&&0===Number(c.timeRemaining)?this.ecomUseCase=An.vq.GaaSFreeSampleAlreadyUsed:c.authToken?c.timeRemaining&&3601===Number(c.timeRemaining)?this.ecomUseCase=An.vq.GaaSFree1HourExceeded:c.timeRemaining&&3602===Number(c.timeRemaining)&&(this.ecomUseCase=An.vq.GaaSFreeUserCanUpgrade):this.ecomUseCase=An.vq.GaaSUnsupportedFreeTitle,this.idmService.loginProvider&&(this.idmService.loginProvider=null)}))}bringUpJoinNowDialog(c){const[V,oe]=(0,Bo.u)(this.resolveEcomUseCase().pipe((0,Te.zg)(()=>this.ecommerceService.openJoinNowDialog(c,this.ecomUseCase,An.l2.InitialState).afterClosed()),(0,fo.d)(1)),fe=>!!fe&&fe[1]===An.l2.ExitedToLogin);V.pipe((0,Te.zg)(()=>{this.joinNowSubscription&&this.joinNowSubscription.unsubscribe(),this.idmService.loginProvider&&(this.idmService.loginProvider=null);const fe=this.setUpDialog(c);return this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(zo,fe)).afterClosed()})).subscribe(fe=>{switch(fe){case fn.L$.Success:this.loginListener.next(fe);break;case fn.L$.Failure:this.bringUpJoinNowDialog(c);break;case fn.L$.Cancel:this.cancelTimeoutExpired||this.handleBridgeStateCancel(),this.gfnSdkService.isThisAGFNSDKSession()&&this.bringUpJoinNowDialog(c)}}),oe.subscribe(([fe])=>{fe?this.loginListener.next(fe):this.bringUpJoinNowDialog(c)})}handleBridgeStateCancel(c=!1){this.listenForErrorSubscription=this.idmService.cancelLogin(c).pipe((0,wt.U)(V=>{if(V){const oe=new me.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen(),userAction:me.Vwu.LoginWithStarfleet,status:me.N3X.CancelledLoginCompleted,errorDetails:status.toString(),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(oe)}})).subscribe(Tn.Z,V=>{this.logger.info("Error detected while listening for UserCancelled Error",V)})}displayLoginErrorMessages(c){let V,oe;switch(this.logger.info("Auth error in login: ",c),c){case fn.C4.ACCOUNT_LOCKED:V="starfleet.accountLockedErrorMessage",oe="starfleet.accountLockedHeader";break;case fn.C4.AGE_RESTRICTED:V="starfleet.ageReStrictiveErrorMessage",oe="starfleet.ageReStrictiveHeader";break;case fn.C4.ACCOUNT_INACTIVE:V="starfleet.accountInActiveErrorMessage",oe="starfleet.accountInActiveHeader";break;default:V="starfleet.genericErrorMessage",oe="common.loginUnsuccessful"}const fe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:{headerText:{text:oe},bodyText:{text:V},primaryButton:{text:"starfleet.loginPrimaryButton"},secondaryButton:{text:"common.cancel"}}});(0,In.S3)(fe.secondaryButtonClick.pipe((0,r.q)(1)),fe.primaryButtonClick.pipe((0,r.q)(1),(0,Te.zg)(Ue=>this.login(me.CGJ.ScreenAccountMenu)))).subscribe(Ue=>{fe.close()})}displayLogoutErrorMessages(c){let V,oe;this.logger.info("logout error: ",c.error),c.error===fn.C4.LOGOUT_NOT_SUPPORTED?(oe={headerText:{text:"starfleet.logoutErrorheader"},bodyText:{text:"starfleet.logoutErrorMessageLogoutNotsupported"},primaryButton:{text:"common.continue"},secondaryButton:{text:"common.notNow"}},V=c.logoutNotSupportedRedirectUrl):oe={headerText:{text:"starfleet.logoutErrorheader"},bodyText:{text:"starfleet.logoutErrorMessageGeneric"},primaryButton:{text:"starfleet.logoutPrimaryButtonGeneric"}};const fe=this.genericDialog.open({panelClass:"dialogPaddingRemove",disableClose:!0,data:oe});(0,In.S3)((0,ci.s)(()=>c.error===fn.C4.LOGOUT_NOT_SUPPORTED,(0,U.of)(1).pipe((0,Te.zg)(Ue=>fe.secondaryButtonClick.pipe((0,r.q)(1)))),$i.C),fe.primaryButtonClick.pipe((0,r.q)(1),(0,wt.U)(Ue=>{c.error===fn.C4.LOGOUT_NOT_SUPPORTED&&(V?window.open(V,"_blank"):this.logger.error("redirectUrl is empty in LogOut Error scenario ",V,c.error))}))).subscribe(()=>fe.close())}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG($n.No),i.LFG(p._J),i.LFG(he.fI),i.LFG(me.wU6),i.LFG(L.on),i.LFG(Nt.VK),i.LFG(v.y0),i.LFG(An.BH),i.LFG(Me.s),i.LFG(Ln.F0),i.LFG(Bn.rH),i.LFG(xo),i.LFG(O.TX),i.LFG(vn.un),i.LFG(vo.e),i.LFG(O.IK),i.LFG(Yi.K))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Xn=e(32268),Gn=e(51657),ao=e(86283),cs=e(82374),er=e(85501),Fn=(()=>{return(ce=Fn||(Fn={})).RegistrationFailed="RegistrationFailed",ce.RegistrationSuccess="RegistrationSuccess",ce.NotSupported="NotSupported",ce.Installed="Installed",ce.ActivationOngoing="ActivationOngoing",ce.Activated="Activated",ce.ActivationError="ActivationError",Fn;var ce})();const ds=new Map([[Fn.RegistrationFailed,un.N3X.ServiceWorkerRegistrationFailed],[Fn.RegistrationSuccess,un.N3X.ServiceWorkerRegistrationSuccess],[Fn.NotSupported,un.N3X.ServiceWorkerNotSupported],[Fn.Installed,un.N3X.ServiceWorkerInstalled],[Fn.ActivationOngoing,un.N3X.ServiceWorkerActivationOngoing],[Fn.Activated,un.N3X.ServiceWorkerActivated],[Fn.ActivationError,un.N3X.ServiceWorkerActivationError]]);let Rr=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st){this.serviceWorkerService=c,this.appConfig=V,this.experienceControlService=fe,this.router=Ue,this.deeplinkHelperService=Ke,this.telemetryUtilService=je,this.telemetryService=st,this.appStartTs=Date.now(),this.refreshing=!1,this.updateServiceWorkerSilently=!1,this.swUpdateCheckInterval=144e5,this.appLaunchWindow=1e4,this.lastUpdateCheckTimestamp=Date.now(),this.timeCheckInterval=6e4,this.serviceWorkerInstalledOnce=new ln.t(1),this.swActivationTimedOut=new P.xQ,this.shouldReloadOnActivation=!0,this.telemetryEventProcessingComplete=new P.xQ,this.logger=oe.getLogger("shared/service-worker-update.service"),this.appLaunchWindow=this.appConfig.selfUpdate.appLaunchWindow||this.appLaunchWindow,this.swUpdateCheckInterval=Math.max(this.appConfig.selfUpdate.swUpdateCheckInterval||this.swUpdateCheckInterval,3e4)}initialize(){this.serviceWorkerService.serviceWorkerSupported()?(this.serviceWorkerService.swUpdateReadyCached.subscribe(c=>{this.logger.info("Initialize: SW update event was cached")}),this.serviceWorkerService.swActivated.subscribe(c=>{this.logger.info("Initialize: SW activated"),this.serviceWorkerInstalledOnce.next(!0)}),this.serviceWorkerService.swIsActive()&&(this.logger.info("Initialize: SW already active"),this.serviceWorkerInstalledOnce.next(!0)),this.handleServiceWorkerActivated(),this.handleServiceWorkerInstalled(),this.autoUpdateOnAppLaunch(),this.periodicallyCheckForUpdates(),this.handleServiceWorkerActivationRequest()):this.logger.info("Initialize: Service worker not supported"),this.sendServiceWorkerLaunchTelemetry()}get swActivationTimedOutNotification(){return this.swActivationTimedOut.asObservable()}updateReady(){return this.serviceWorkerService.swUpdateReadyCached.pipe((0,Pe.b)(c=>this.logger.info("swUpdateCache returned event => ",c)),(0,Ie.h)(c=>null!==c&&!this.isSwUpdateWithinAppLaunchWindow(c.ts)&&!c.firstInstallation),(0,Te.zg)(c=>this.getWaitingSWClientVersion()),(0,Ie.h)(c=>c&&c.data.clientVersionString!==this.appConfig.build.version),(0,Pe.b)(c=>this.logger.info("GFN SW Update Ready (outside app launch window)",c)))}checkForUpdates(){return this.withinAppLaunchWindow()?(this.logger.info("GFN SW Update skip update check in App launch window"),(0,U.of)({updateAvailable:!1,error:null})):this.checkForUpdatesInternal()}checkForUpdatesInternal(c){return this.lastUpdateCheckTimestamp=Date.now(),this.serviceWorkerInstalledOnce.pipe((0,r.q)(1),(0,Te.zg)(V=>this.checkForCanaryUpdate(c)),(0,Te.zg)(V=>(0,Un.D)(this.serviceWorkerService.checkForUpdates()).pipe((0,r.q)(1))))}getCookie(c){const V=c.length+1;return document.cookie.split(";").map(oe=>oe.trim()).filter(oe=>oe.substring(0,V)===`${c}=`).map(oe=>decodeURIComponent(oe.substring(V)))[0]||"A"}sendCanaryTelemetry(c="",V="",oe=""){if("B"===c||"B"===oe){const fe=new me.xcx({currentOriginCookieValue:c,gxtResponseValue:V,newOriginCookieValue:oe});this.telemetryService.push(fe)}}checkForCanaryUpdate(c){if(c||(0,vn.MA)(this.router.url)||(0,vn.MA)(document.location.hash.substr(1)))return this.logger.info("in streamer path or skip checking Canary update",c),(0,U.of)(!0);this.logger.info("checking GXT Canary Targeting");const V=location.pathname.indexOf("index.html"),oe=-1===V?location.pathname:location.pathname.substr(0,V),fe=this.getCookie("Request-Origin");let Ue="",Ke="";return this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.browserClientCanary,{domain:document.location.hostname,path:document.location.pathname},void 0,zt.Z4.GxTargetGetCloudVariable,zt.Qu.GxTargetGetBrowserClientCanary).pipe((0,wt.U)(je=>(this.logger.info("browser client canary GXT: ",je.value.isCanaryEnabled),Ue=JSON.stringify(je),je.value.isCanaryEnabled?(document.cookie=`Request-Origin=B; path=${oe}; max-age=31536000; samesite=strict`,Ke="B"):(document.cookie=`Request-Origin=A; path=${oe}; max-age=31536000; samesite=strict`,Ke="A"),this.sendCanaryTelemetry(fe,Ue,Ke),!0)),(0,vt.K)(je=>(null===je.err&&"Empty cloud variable"===je.errorMessage?(Ue=JSON.stringify(je),this.logger.info("current path is not targeted, clearing cookie"),document.cookie=`Request-Origin=A; path=${oe}; expires=${new Date(0).toUTCString()}`,Ke="A"):(this.logger.error("error in fetching Canary GXT, keeping data as it is",je),Ke=fe),this.sendCanaryTelemetry(fe,Ue,Ke),(0,U.of)(!0))))}activateServiceWorker(){return this.logger.info("GFN SW Activation requested"),this.serviceWorkerService.activateServiceWorker()}reloadTab(){this.refreshing||(this.logger.info("Reloading the Tab"),window.location.reload()),this.refreshing=!0}finalizeActivation(){this.serviceWorkerService.postMessageSw({type:er.rL.GetClientVersion,content:""}),this.serviceWorkerService.swAssociatedClientVersion.pipe((0,r.q)(1)).subscribe(c=>{this.logger.info("Client Version of Associated SW and client is",c,this.appConfig.build.version),c!==this.appConfig.build.version&&this.shouldReloadOnActivation?this.reloadTab():this.swActivationTimedOut.next(!1)})}isSwUpdateWithinAppLaunchWindow(c){return c-this.appStartTs<this.appLaunchWindow}withinAppLaunchWindow(){return Date.now()-this.appStartTs<this.appLaunchWindow}periodicallyCheckForUpdates(){p.ng.isBrowserPlatform()?this.updateIntervalSub?this.logger.info("GFN SW Periodic Check: Already initialized"):(this.logger.info(`GFN SW Periodic Check: Init - time check interval: ${this.timeCheckInterval}, update check interval: ${this.swUpdateCheckInterval}`),this.updateIntervalSub=(0,ao.F)(this.timeCheckInterval).pipe((0,Ie.h)(c=>Date.now()-this.lastUpdateCheckTimestamp>=this.swUpdateCheckInterval),(0,Te.zg)(c=>this.checkForUpdates())).subscribe(c=>{this.logger.info("GFN SW Periodic Check: Result",c)},c=>this.logger.error("GFN SW Periodic Check: Error -",c.toString()))):this.logger.info("GFN SW Periodic Check: Skipping as not browser platform.")}clearUpdateCheckInterval(){var c;null===(c=this.updateIntervalSub)||void 0===c||c.unsubscribe(),this.updateIntervalSub=null}autoUpdateOnAppLaunch(){this.logger.info("GFN SW Auto Update: Init"),this.checkForUpdatesInternal(!p.ng.isBrowserPlatform()).pipe((0,Ie.h)(c=>c.updateAvailable&&this.withinAppLaunchWindow()&&this.deeplinkHelperService.allowApplicationReload()),(0,Te.zg)(c=>(this.logger.info("GFN SW Auto Update: Within launch window, requesting to activate."),this.activateServiceWorker()))).subscribe(c=>{this.logger.info("GFN SW Auto Update: Activation result",c)},c=>this.logger.error("GFN SW Auto Update: Request failed",c.toString()))}handleServiceWorkerActivatedInternal(c){this.logger.info("GFN SW Activated: New Service worker activated",c),null!=c&&c.firstInstallation||this.refreshing||p.ng.isCefPlatform()?(this.logger.info("GFN SW Activated: Will not reload."),this.updateServiceWorkerSilently=!1):this.updateServiceWorkerSilently?(this.logger.info("GFN SW Activated: Updated silently."),this.updateServiceWorkerSilently=!1,this.serviceWorkerService.clearSwUpdateCache()):(this.logger.info("GFN SW Activated: Reloading the page."),this.finalizeActivation())}handleServiceWorkerActivated(){this.logger.info("GFN SW Activated: Init"),this.serviceWorkerService.swActivated.pipe((0,Te.zg)(c=>(this.sendServiceWorkerStateTelemetry(Fn.Activated,!0),(0,U.of)(c).pipe((0,cs.j)(V=>this.telemetryEventProcessingComplete.asObservable()))))).subscribe(c=>{this.handleServiceWorkerActivatedInternal(c)},c=>this.logger.error("GFN SW Activated: Error -",c.toString()))}handleServiceWorkerInstalled(){this.serviceWorkerService.swUpdateReady.subscribe(c=>{this.sendServiceWorkerStateTelemetry(Fn.Installed,!0)})}sendServiceWorkerLaunchTelemetry(){(0,re.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).pipe((0,r.q)(1)).subscribe(c=>{if(this.serviceWorkerService.serviceWorkerSupported()){const V=this.serviceWorkerService.getSWRegistrationInfo();V&&this.sendServiceWorkerStateTelemetry(V.isSuccess?Fn.RegistrationSuccess:Fn.RegistrationFailed,!1,JSON.stringify(V.error))}else this.sendServiceWorkerStateTelemetry(Fn.NotSupported)})}sendServiceWorkerStateTelemetry(c,V=!1,oe=""){const fe={immediateRequest:V};(c===Fn.Activated||c===Fn.ActivationOngoing)&&(fe.afterDone=()=>{this.telemetryEventProcessingComplete.next(!0)});const Ue=new me.$4G({clientType:this.telemetryUtilService.getClientType(),currentScreen:this.telemetryService.getScreen()||me.CGJ.ScreenMallHome,userAction:me.Vwu.ServiceWorkerActivation,status:ds.get(c),errorDetails:oe.substring(0,1024),totalMs:0,errorUri:"",serverErrorCode:""});this.telemetryService.push(Ue,void 0,fe)}getWaitingSWClientVersion(){return(0,Un.D)(navigator.serviceWorker.getRegistration()).pipe((0,Te.zg)(c=>{const V=new MessageChannel;return null!=c&&c.waiting?(c.waiting.postMessage({type:er.rL.GetClientVersionWaitingSW},[V.port2]),V.port1.start(),(0,Zi.R)(V.port1,"message")):(0,U.of)(!1)}))}handleServiceWorkerActivationRequest(){this.logger.info("SWAR: Init"),this.serviceWorkerService.swActivationRequested.pipe((0,Te.zg)(c=>(0,ao.F)(750).pipe((0,l.R)(this.serviceWorkerService.swActivated),(0,r.q)(1))),(0,Te.zg)(c=>this.getWaitingSWClientVersion()),(0,Te.zg)(c=>{this.shouldReloadOnActivation=!1,this.logger.info("SWAR: max time after activation requested, reloading ",c);let oe,V="";return c&&c.data.clientVersionString!==this.appConfig.build.version?(oe=this.telemetryEventProcessingComplete.asObservable(),V=c.data.clientVersionString):oe=(0,U.of)(!1),this.sendServiceWorkerStateTelemetry(Fn.ActivationOngoing,!0,V),oe})).subscribe(c=>{c?this.reloadTab():this.swActivationTimedOut.next(!1)},c=>{this.sendServiceWorkerStateTelemetry(Fn.ActivationError,!1,`SWAR: Error ${c}`),this.logger.error("SWAR: Error",c)})}isFirstInstallation(){return!this.serviceWorkerService.swIsActive()}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(er.HR),i.LFG(Nt.VK),i.LFG(p.ed),i.LFG(zt.Q6),i.LFG(Ln.F0),i.LFG(Es.g),i.LFG(me.wU6),i.LFG(v.y0))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();e(68739);var wr=e(83024),fs=e(54360);let vs=(()=>{class ce{constructor(c){this.logger=c.getLogger("gfn/shared/GameLaunchAnalyticsService"),this.resetGameLaunchMetadata(!1)}getGameLaunchMetadata(){return Object.assign({},this.gameLaunchMetadata)}updateGameLaunchChangeMetadata(){this.logger.info(this.gameLaunchMetadata.launchTs?"Game change accepted - updating GameLaunchData":"No game launch info exists, adding GameChangeDialog info"),this.gameLaunchMetadata.isFromGameChangeDialog=!0}setGameLaunchMetadata(c,V,oe,fe){this.gameLaunchMetadata={shortName:c,launchTs:V,epicAccountLinked:oe,isMallRunning:fe}}resetGameLaunchMetadata(c){this.logger.info("Cleared game launch metadata"),this.gameLaunchMetadata={shortName:"",launchTs:0,epicAccountLinked:!1,isMallRunning:c}}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),nr=(()=>{class ce{constructor(c,V){this.router=c,this.pathService=V,this.backNavigationUrls=new Array,this.lastNavigationRoute=null,this.namedBackNavigationUrls=new Map}get lastNavigationUrl(){return this.lastNavigationRoute}get backNavigationRoute(){return this.lastNavigationRoute=this.backNavigationUrls.pop(),this.lastNavigationRoute}set backNavigationRoute(c){this.lastNavigationRoute=c,this.backNavigationUrls.push(c)}setNamedBackNavigationUrl(c,V){this.namedBackNavigationUrls.set(c,V)}getNamedBackNavigationUrl(c){return this.namedBackNavigationUrls.get(c)||""}clearState(){this.backNavigationUrls=new Array,this.lastNavigationRoute=null,this.namedBackNavigationUrls.clear()}navigateToPreviousRoute(c){const V=this.backNavigationRoute;c&&this.namedBackNavigationUrls.has(c)?this.pathService.navigateByUrl(this.getNamedBackNavigationUrl(c)):(0,s.isNil)(V)?this.pathService.navigateByUrl(vn.nn.Games):this.pathService.navigateByUrl(this.router.url===V?this.backNavigationRoute:V)}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(Ln.F0),i.LFG(vn.un))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var jn=(()=>{return(ce=jn||(jn={})).Search="Search",ce.Survey="Survey",jn;var ce})(),To=e(63155),Ii=e(38435),Ft=e(50017),Kn=(()=>{return(ce=Kn||(Kn={})).MallScreen="SCREEN_MALL",ce.SurveyScreen="SCREEN_SURVEY",ce.FeedbackScreen="SCREEN_FEEDBACK",ce.PostGameScreen="SCREEN_POSTGAME",Kn;var ce})();const Lo={header:"endSurvey.title",body:{text:"endSurvey.message"},bodySurvey:{text:"endSurvey.messageSurvey"},primaryButton:{text:"common.exit",accentColor:!1},secondaryButton:"common.cancel"};var Ti=(()=>{return(ce=Ti||(Ti={})).Stage="STAGE",ce.Prod="PROD",Ti;var ce})(),or=e(42313),wn=e(45908);let hi=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En,gn,mn,Nn,ui,mi,lo,sr,Ps,Qs,Js){this.idmService=c,this.systemInfoService=V,this.experienceControlWrapperService=oe,this.telemetryService=fe,this.distributedTracingBootstrapService=Ke,this.router=je,this.browserSupportService=st,this.telemetryUtilService=Ot,this.customLocationService=Lt,this.pathService=At,this.localeService=Yt,this.nesUserInfoService=qt,this.gridService=En,this.ecommerceService=gn,this.appConfig=mn,this.experienceControlService=Nn,this.gfnSdkService=ui,this.applicationLifetimeService=mi,this.libraryLoggingService=lo,this.browseUxService=sr,this.ipcService=Ps,this.gfcHelperService=Qs,this.distributedTracingUtilService=Js,this.surveyUrlSubject=new ln.t,this.participatedInSurvey=!1,this.surveyTimeout={},this.notificationTimers={},this.surveyActionDuration=0,this.surveyMinimized$=new P.xQ,this.logger=Ue.getLogger("SurveyService"),this.logger.info("Init SDK"),this.sdk=new Ft.SurveySdkService,this.surveySdkClientConfig={url:mn.surveyEndpoint.server,defaultRetries:mn.surveyEndpoint.defaultRetries,defaultTimeBetweenRetries:mn.surveyEndpoint.defaultTimeBetweenRetries,defaultTimeout:mn.surveyEndpoint.defaultTimeout,env:mn.surveyEndpoint.server.includes("stg")?Ti.Stage:Ti.Prod,clientId:mn.surveyEndpoint.clientId,clientVersion:mn.build.version,clientVariant:this.telemetryUtilService.getCommonClientVariant(mn.build.variant)},this.clientSurveyResults=new Map,this.surveyEventReferenceSubmittedMap=new Map,this.surveyEventReferenceDismissedMap=new Map,this.surveyEventReferenceErrorMap=new Map,this.surveyEventReferenceSubmissionErrorMap=new Map,this.surveyEventReferenceTimeoutMap=new Map,this.surveyEventReferenceCloseDialogMap=new Map,this.surveyEventReferenceLogListenerMap=new Map,this.surveyEventReferenceMinimizedMap=new Map,this.surveyEventReferenceDeferredMap=new Map,this.logger.info("surveySdkClientConfig: ",this.surveySdkClientConfig)}initialize(){this.applicationLifetimeService.addWorkOnShutdown(()=>(this.clientSurveyResults.forEach((c,V)=>{this.sendUserSurveyTelemetry(me._G.DismissAppExit,this.getSurveyHierarchy(V),V,c)}),(0,U.of)(void 0)))}handleClientSurveyResponse(c,V,oe){var fe;if(c){this.logger.info("Got User Survey, data is: ",c),this.surveyActionDuration=Date.now();const Ue=c;this.clientSurveyResults.set(Ue.triggerType,Ue),this.distributedTracingUtilService.setSpanAttributes(V,{[Ft.SurveySdkSpanTagNames.SurveyId]:Ue.surveyId}),(Ue.triggerType===Ft.TriggerType.SurveyBanner||Ue.triggerType===Ft.TriggerType.UXTestBanner||Ue.triggerType===Ft.TriggerType.CommunicationBanner)&&this.surveyUrlSubject.next(Ue.surveyContainerUrl),this.subscribeToSurveyEvents(Ue)}else this.logger.info("Cannot get User Survey data");this.sendSurveyHttpSuccessTelemetry({url:null===(fe=null==c?void 0:c.config)||void 0===fe?void 0:fe.url,httpStatus:null==c?void 0:c.status,durationMs:oe,xRequestId:null==c?void 0:c.xRequestId},me.f$p.GetSurvey,me.HGL.GetUsabilityStudy),this.distributedTracingUtilService.closeSpan(V)}handleUsabilityStudyError(c,V){return this.logger.error("Check for survey failed. Sending HTTPFailure telemetry: ",c),this.distributedTracingUtilService.setSpanAttribute(V,Kt.NI.Error,!0),this.distributedTracingUtilService.closeSpan(V),this.sendSurveyFailureTelemetry(c,me.f$p.GetSurvey,me.HGL.GetUsabilityStudy),this.resetClientSurveyResult(),(0,U.of)(void 0)}getBannerNotificationTimer(){var c,V;const oe=null===(c=this.notificationTimers)||void 0===c?void 0:c.SURVEY_BANNER,fe=null===(V=this.notificationTimers)||void 0===V?void 0:V.UXTEST_BANNER;return this.clientSurveyResults.get(Ft.TriggerType.SurveyBanner)?oe:this.clientSurveyResults.get(Ft.TriggerType.UXTestBanner)?fe:3e5}checkUserAuthenticatedForSurveys(c){if(this.logger.info("check User Authenticated For Surveys"),!c.isAuthenticated){let V=Kn.MallScreen;this.participatedInSurvey&&(V=Kn.SurveyScreen,this.customLocationService.navigateToPreviousRoute(jn.Survey));const oe=this.getSurveyBannerInProgress();return oe&&(oe.triggerType!==Ft.TriggerType.CommunicationBanner?this.declineSurveys(me._G.DismissLogout,V,oe).subscribe():this.resetClientSurveyResult(oe)),!1}return!0}checkSurveyEnabledForTriggerType(c,V){if(c){const oe=c.value;switch(V){case Ft.TriggerType.SurveyBanner:return oe.enableBannerSurvey;case Ft.TriggerType.Feedback:return oe.enableUserFeedback;case Ft.TriggerType.PostGame:return oe.enablePostSessionSurvey;default:return!1}}return!1}checkForAvailableSurvey(c,V="0",oe="",fe=0){return this.idmService.accountStatusChanged.pipe((0,Te.zg)(Ue=>Ue.isAuthenticated?this.isSurveyFeatureAvailableForBanner(Ue,c).pipe((0,To.P)(),(0,Te.zg)(Ke=>Ke?(this.logger.info("Survey feature enabled"),this.getAvailableSurveyForBanner(Ue,c,V,oe,fe).pipe((0,vt.K)(()=>(0,U.of)(null)))):(this.logger.info("Survey feature is not enabled"),(0,U.of)(null)))):(this.logger.info("checkForAvailableSurvey user logged out"),this.checkUserAuthenticatedForSurveys(Ue)?void 0:(0,U.of)(void 0))))}isSurveyFeatureAvailableForBanner(c,V){const oe=[this.appConfig.gxTarget.experiences.survey];return V.includes(Ft.TriggerType.UXTestBanner)&&oe.push(this.appConfig.gxTarget.experiences.usabilityStudy),V.includes(Ft.TriggerType.CommunicationBanner)&&oe.push(this.appConfig.gxTarget.experiences.communicationSurvey),this.availableFeatures=[],this.getSurveyFeaturesEnablement(c,oe).pipe((0,wt.U)(([...fe])=>{this.availableFeatures=fe;const Ue=fe[0],Ke=V.indexOf(Ft.TriggerType.UXTestBanner),je=-1!==Ke?fe[Ke]:null,st=V.indexOf(Ft.TriggerType.CommunicationBanner),Ot=-1!==st?fe[st]:null,Lt=this.checkSurveyEnabledForTriggerType(Ue,V[0]);return V.includes(Ft.TriggerType.UXTestBanner)||V.includes(Ft.TriggerType.CommunicationBanner)?!!(Lt||je||Ot):Lt}),(0,vt.K)(fe=>(this.logger.error("Failed to get survey feature enablement"),(0,U.of)(void 0))))}getAvailableSurveyForBanner(c,V,oe="0",fe="",Ue=0,Ke=!1){const je=fe||this.cachedStreamingSessionId;return(0,Sn.aj)([this.systemInfoService.getSystemInfo(),this.distributedTracingBootstrapService.fetchCountryCode(),this.prepareClientParams(oe,je,Ue,Ke),this.systemInfoService.getDeviceOSType()]).pipe((0,Ii.b)(([st,Ot,Lt,At])=>{if(this.logger.info("ClientParams passed getAvailableSurveyForBanner: ",Lt,st.DeviceId,Ot),!this.checkUserAuthenticatedForSurveys(c)||(this.currentUser=c,!this.getDataForGetUserSurveyApi(V)))return(0,U.of)(void 0);this.sdk.initializeClientConfig(this.surveySdkClientConfig,{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.appConfig.otelTracerConfig.componentName,disable_clock_skew_correction:!0,access_token:this.appConfig.otelTracerConfig.accessToken}),this.initGlobalTagsForOpenTracing(st.DeviceId,this.osInfo,Ot,c.userId,c.idpId);const qt=this.startGetSurveyClientSpan(!1),gn=(this.distributedTracingUtilService.inject(qt),this.getCommonParams(At));this.logger.info("ClientParams passed to survey sdk: ",this.surveyClientParams,gn);const mn=performance.now();return(0,Un.D)(this.sdk.getUserSurvey(c.userId,c.idpId,st.DeviceId,this.surveyTimeout,this.surveyClientParams,this.requestedTriggerTypes,this.surveyClientParams.locale,gn.deviceOS,gn.deviceType,gn.deviceMake,gn.deviceModel,gn.deviceOSVersion,gn.clientType,gn.browserType)).pipe((0,Pe.b)(Nn=>{const ui=performance.now();this.handleClientSurveyResponse(Nn,qt,ui-mn)}),(0,wt.U)(Nn=>p.ng.isBrowserPlatform()&&this.router.url===vn.nn.Surveys&&!Nn?void this.browserSupportService.goToPreviousPage():Nn),(0,vt.K)(Nn=>this.handleUsabilityStudyError(Nn,qt)))}))}isSurveyFeatureAvailable(c){const V=[this.appConfig.gxTarget.experiences.survey];c.includes(Ft.TriggerType.UXTestBanner)&&V.push(this.appConfig.gxTarget.experiences.usabilityStudy),c.includes(Ft.TriggerType.CommunicationBanner)&&V.push(this.appConfig.gxTarget.experiences.communicationSurvey);let oe=!1;return(0,re.$R)(this.idmService.accountStatusChanged,this.gfnSdkService.getAuthInfo()).pipe((0,Pe.b)(([fe,Ue])=>{oe=Ue.authType===Me.Gr.JWT}),(0,Ie.h)(([fe,Ue])=>oe||fe.isAuthenticated),(0,Ii.b)(([fe,Ue])=>{let Ke;return Ke=oe?{userId:Ue.userId||"",idpId:Ue.idpId||""}:this.getUserInfoFromUser(fe),this.availableFeatures=[],this.getSurveyFeaturesEnablement(Ke,V)}),(0,wt.U)(([...fe])=>{this.availableFeatures=fe;const Ue=fe[0],Ke=c.indexOf(Ft.TriggerType.UXTestBanner),je=-1!==Ke?fe[Ke]:null,st=c.indexOf(Ft.TriggerType.CommunicationBanner),Ot=-1!==st?fe[st]:null,Lt=this.checkSurveyEnabledForTriggerType(Ue,c[0]);return c.includes(Ft.TriggerType.UXTestBanner)||c.includes(Ft.TriggerType.CommunicationBanner)?!!(Lt||je||Ot):Lt}),(0,vt.K)(fe=>(this.logger.error("Failed to get survey feature enablement"),(0,U.of)(void 0))))}getAvailableSurvey(c,V="0",oe="",fe=0,Ue=!1){const Ke=oe||this.cachedStreamingSessionId;return(0,Sn.aj)([this.idmService.accountStatusChanged,this.systemInfoService.getSystemInfo(),this.distributedTracingBootstrapService.fetchCountryCode(),this.systemInfoService.getDeviceOSType(),this.prepareClientParams(V,Ke,fe,Ue)]).pipe((0,Ii.b)(([je,st,Ot,Lt])=>{if(!this.checkUserAuthenticatedForSurveys(je)||(this.currentUser=je,!this.getDataForGetUserSurveyApi(c)))return(0,U.of)(void 0);this.sdk.initializeClientConfig(this.surveySdkClientConfig,{collector_host:"lightstep.kaizen.nvidia.com",collector_port:443,component_name:this.appConfig.otelTracerConfig.componentName,disable_clock_skew_correction:!0,access_token:this.appConfig.otelTracerConfig.accessToken}),this.initGlobalTagsForOpenTracing(st.DeviceId,this.osInfo,Ot,je.userId,je.idpId);const Yt=this.startGetSurveyClientSpan(!1),En=(this.distributedTracingUtilService.inject(Yt),this.getCommonParams(Lt));this.logger.info("ClientParams passed to survey sdk: ",this.surveyClientParams,En);const gn=performance.now();return(0,Un.D)(this.sdk.getUserSurvey(je.userId,je.idpId,st.DeviceId,this.surveyTimeout,this.surveyClientParams,this.requestedTriggerTypes,this.surveyClientParams.locale,En.deviceOS,En.deviceType,En.deviceMake,En.deviceModel,En.deviceOSVersion,En.clientType,En.browserType)).pipe((0,Pe.b)(mn=>{const Nn=performance.now();this.handleClientSurveyResponse(mn,Yt,Nn-gn)}),(0,wt.U)(mn=>p.ng.isBrowserPlatform()&&this.router.url===vn.nn.Surveys&&!mn?void this.browserSupportService.goToPreviousPage():mn),(0,vt.K)(mn=>this.handleUsabilityStudyError(mn,Yt)))}))}getDataForGetUserSurveyApi(c){this.requestedTriggerTypes=[],this.logger.info("getAvailableSurvey,  available Features: ",this.availableFeatures);const V=this.availableFeatures[0],oe=c.indexOf(Ft.TriggerType.UXTestBanner),fe=-1!==oe?this.availableFeatures[oe]:null,Ue=c.indexOf(Ft.TriggerType.CommunicationBanner),Ke=-1!==Ue?this.availableFeatures[Ue]:null,je=V||fe;return je?(this.surveySdkClientConfig.surveyContainerBaseUrl=je.value.containerBaseUrl,V&&(this.surveyTimeout.SURVEY_BANNER=V.value.surveyTimeoutSec),fe&&(this.surveyTimeout.UXTEST_BANNER=fe.value.surveyTimeoutSec),V&&(this.notificationTimers.SURVEY_BANNER=V.value.notificationTimeoutMs),fe&&(this.notificationTimers.UXTEST_BANNER=fe.value.notificationTimeoutMs),fe&&c.includes(Ft.TriggerType.UXTestBanner)&&this.requestedTriggerTypes.push(Ft.TriggerType.UXTestBanner),Ke&&Ke.value.enableOCTSurvey&&c.includes(Ft.TriggerType.CommunicationBanner)&&this.requestedTriggerTypes.push(Ft.TriggerType.CommunicationBanner),V&&c.forEach(st=>{st!==Ft.TriggerType.UXTestBanner&&st!==Ft.TriggerType.CommunicationBanner&&this.requestedTriggerTypes.push(st)}),this.logger.info("RequestedTriggerTypes: ",this.requestedTriggerTypes),this.logger.info("Successfully preapared Data for GetUserSurvey Api"),!0):(this.logger.error("Failed to preapsre Data for GetUserSurvey Api"),!1)}prepareClientParams(c,V,oe,fe){const Ue=fe?(0,U.of)({NetworkType:p.VV.Unknown}):this.systemInfoService.getNetworkInformation();return(0,re.$R)(Ue,this.systemInfoService.getOsInformation(),this.systemInfoService.getSystemInfo(),this.localeService.localeChanged,this.nesUserInfoService.fetchUserInfoWithStreamingUrl(),this.gridService.getCachedZone(),this.ecommerceService.getUserMembership().pipe((0,Ie.h)(Ke=>Ke.membershipStatus!==An.Tn.UnKnown&&Ke.membershipStatus!==An.Tn.LoggedOut)),this.gfcHelperService.getAppInstanceId()).pipe((0,Te.zg)(([Ke,je,st,Ot,Lt,At,Yt,qt])=>(this.osInfo=je,this.systemInfo=st,this.surveyClientParams={gfnSessionId:V||"",application:"GFN",serverType:"GRID",userSubscriptionLevelSKU:Yt.membershipStatus===An.Tn.Entitled?Yt.subscription.productSku:"",network:Ke&&Ke.NetworkType?Ke.NetworkType:p.VV.Unknown,locale:Ot,affiliate:null!=Lt&&Lt.serviceEndpoint?Lt.serviceEndpoint.loginProvider:"",datacenter:At.name||"",browser:st.BrowserName||"",browserVersion:st.BrowserVersion||"",cmsId:c,sessionDurationMin:oe,osName:this.experienceControlService.getSupportedOSName(je.OSName),selectedCmsId:this.browseUxService.selectedParentId||"",surveySessionId:p.ng.isBrowserPlatform()&&qt||"",productName:this.telemetryUtilService.getProductName(),productVersion:this.telemetryUtilService.getProductVersion()},(0,U.of)(this.surveyClientParams))))}unsubscribeFromLogListener(c){this.surveyEventReferenceLogListenerMap.get(c).unsubscribe()}getBannerSurveyTriggerType(){const c=this.getSurveyBannerInProgress();return c?c.triggerType:null}setStreamingSessionId(c){this.cachedStreamingSessionId=c}declineSurveys(c,V,oe){if(this.logger.info("Decline User Surveys Async:",oe),oe&&!(0,s.isEmpty)(oe)&&this.currentUser&&this.currentUser.isAuthenticated){this.logger.info("Declining the surveys for id: ",oe.surveyId);const fe=this.startDismissSurveyClientSpan(oe.surveyId),Ke=(this.distributedTracingUtilService.inject(fe),performance.now());return(0,Un.D)(this.sdk.declineUserSurvey(this.currentUser.userId,oe.surveyId,!1)).pipe((0,wt.U)(je=>{var st;const Ot=performance.now();return this.distributedTracingUtilService.closeSpan(fe),this.sendUserSurveyTelemetry(c,V,oe.triggerType,oe),this.sendSurveyHttpSuccessTelemetry({url:null===(st=null==je?void 0:je.config)||void 0===st?void 0:st.url,httpStatus:null==je?void 0:je.status,durationMs:Ot-Ke,xRequestId:null==je?void 0:je.xRequestId},me.f$p.SendSurveyResponse,me.HGL.SendUsabilityStudyResponse),this.resetClientSurveyResult(oe),!0}),(0,vt.K)(je=>(this.logger.error("Declining the survey failed sending HTTPFailure telemetry: ",je),this.distributedTracingUtilService.closeSpan(fe),this.sendSurveyFailureTelemetry(je,me.f$p.SendSurveyResponse,me.HGL.SendUsabilityStudyResponse),this.resetClientSurveyResult(oe),(0,U.of)(!1))))}return this.logger.error("Something went wrong in declining the survey Removing the notification",oe),this.resetClientSurveyResult(oe),(0,U.of)(!1)}participateInUsabilityStudy(){const c=this.getSurveyBannerInProgress();this.logger.info("onClickParticipate for id: ",c.surveyId),this.participatedInSurvey=!0,this.router.url!==vn.nn.Surveys&&(this.customLocationService.setNamedBackNavigationUrl(jn.Survey,this.router.url),this.pathService.navigate([vn.nn.Surveys],{skipLocationChange:!0})),this.sendUserSurveyTelemetry(c.surveyVisited?me._G.ParticpatePostMinimize:me._G.Participate,Kn.MallScreen,null==c?void 0:c.triggerType,c)}getSurveyUrl(){return this.surveyUrlSubject.asObservable()}isSurveyInProgress(){return this.participatedInSurvey}getSurveyBannerInProgress(){return this.clientSurveyResults.get(Ft.TriggerType.CommunicationBanner)||this.clientSurveyResults.get(Ft.TriggerType.UXTestBanner)||this.clientSurveyResults.get(Ft.TriggerType.SurveyBanner)}subscribeToSurveyEvents(c){const V=c.triggerType,oe=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Minimized},()=>this.surveyEventListnerMinimized(V));this.surveyEventReferenceMinimizedMap.set(V,oe);const fe=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Deferred},()=>this.surveyEventListnerDeferred(V));this.surveyEventReferenceDeferredMap.set(V,fe);const Ue=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Submitted},()=>this.surveyEventListenerSubmitted(V));this.surveyEventReferenceSubmittedMap.set(V,Ue);const Ke=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Dismissed},()=>this.surveyEventListenerDismissed(V));this.surveyEventReferenceDismissedMap.set(V,Ke);const je=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Errored},()=>this.surveyEventListenerErrored(V));this.surveyEventReferenceErrorMap.set(V,je);const st=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.SubmissionErrored},()=>this.surveyEventListenerSubmissionErrored(V));this.surveyEventReferenceSubmissionErrorMap.set(V,st);const Ot=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Timeout},()=>this.surveyEventListenerTimeout(V));this.surveyEventReferenceTimeoutMap.set(V,Ot);const Lt=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.CloseDialog},()=>this.surveyEventListenerCloseDialog(V));this.surveyEventReferenceCloseDialogMap.set(V,Lt),this.logger.info("Survey Event Reference Close Dialog Map:",this.surveyEventReferenceCloseDialogMap.size);const At=(0,Ft.subscribeToIFrameEvents)({surveyId:c.surveyId,type:Ft.SurveyEventType.Log},Yt=>this.libraryLoggingService.sendLog(Yt));this.surveyEventReferenceLogListenerMap.set(V,At)}getSurveyHierarchy(c){switch(c){case Ft.TriggerType.CommunicationBanner:return this.isSurveyInProgress()?Kn.SurveyScreen:Kn.MallScreen;case Ft.TriggerType.SurveyBanner:case Ft.TriggerType.UXTestBanner:return Kn.SurveyScreen;case Ft.TriggerType.Feedback:return Kn.FeedbackScreen;case Ft.TriggerType.PostGame:return Kn.PostGameScreen;default:return Kn.SurveyScreen}}surveyEventListnerMinimized(c){this.logger.info("Survey has minimized; triggerType: ",c),this.unsubscribeFromLogListener(c),this.surveyMinimize(c)}surveyEventListnerDeferred(c){this.logger.info("Survey has deferred; triggerType: ",c),this.sendUserSurveyTelemetry(me._G.Deferred,this.getSurveyHierarchy(c),c,this.clientSurveyResults.get(c)),c!==Ft.TriggerType.Feedback&&c!==Ft.TriggerType.PostGame&&this.customLocationService.navigateToPreviousRoute(jn.Survey),this.surveyEventReferenceDeferredMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}triggerSurveyLogUpload(c){if(p.ng.isBrowserPlatform())this.gfcHelperService.updateEventDataParamIds({surveySessionId:c||""});else{const oe={type:Qe.oI.CollectClientLogs,content:JSON.stringify({name:Qe.Mx.UserFeedBack,surveySessionId:c||""}),sender:this.telemetryUtilService.getClientType()===me.BhR.MallClient?Qe.vS.GfnMall:Qe.vS.GfnStreamer,recipient:Qe.vS.GfnUpdater};this.logger.info("Sending IPC message for uploading survey logs:",oe),this.ipcService.pushMessage(oe).pipe((0,r.q)(1)).subscribe(fe=>this.logger.info("Survey logs upload triggered: ",fe),fe=>this.logger.error("Error triggering Survey logs upload: ",fe))}}surveyEventListenerSubmitted(c){var V;this.logger.info("Survey has been submitted; triggerType: ",c);const oe=null===(V=this.clientSurveyResults.get(c))||void 0===V?void 0:V.surveySessionId;this.triggerSurveyLogUpload(oe),this.sendUserSurveyTelemetry(me._G.Completed,this.getSurveyHierarchy(c),c,this.clientSurveyResults.get(c)),this.surveyEventReferenceSubmittedMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}surveyEventListenerDismissed(c){this.logger.info("Survey has been dismissed"),this.sendUserSurveyTelemetry(me._G.DismissManual,this.getSurveyHierarchy(c),c,this.clientSurveyResults.get(c)),this.surveyEventReferenceDismissedMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}surveyEventListenerTimeout(c){this.logger.info("Survey has been timed-out; triggerType: ",c),this.sendUserSurveyTelemetry(me._G.DismissTimeout,this.getSurveyHierarchy(c),c,this.clientSurveyResults.get(c)),(c===Ft.TriggerType.PostGame||c===Ft.TriggerType.Feedback)&&this.customLocationService.navigateToPreviousRoute(jn.Survey),this.surveyEventReferenceTimeoutMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}surveyEventListenerCloseDialog(c){this.logger.info("User closed dialog from Survey; triggerType: ",c);const V=this.clientSurveyResults.get(c);this.resetClientSurveyResult(V),c!==Ft.TriggerType.Feedback&&c!==Ft.TriggerType.PostGame&&this.customLocationService.navigateToPreviousRoute(jn.Survey),[Ft.TriggerType.Feedback,Ft.TriggerType.PostGame].includes(c)&&this.sendUserSurveyTelemetry(me._G.DismissManual,this.getSurveyHierarchy(c),c,V),this.surveyEventReferenceCloseDialogMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}surveyEventListenerErrored(c){this.logger.info("Survey has error");const V=this.clientSurveyResults.get(c);this.resetClientSurveyResult(V),this.surveyEventReferenceErrorMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}surveyEventListenerSubmissionErrored(c){this.logger.info("Survey has submission error");const V=this.clientSurveyResults.get(c);this.resetClientSurveyResult(V),this.surveyEventReferenceSubmissionErrorMap.get(c).unsubscribe(),this.unsubscribeFromLogListener(c)}sendUserSurveyTelemetry(c,V,oe,fe){if(this.logger.info("Sending survey telemetry: ",c),fe){const Ue=new me.QqN({hierarchy:V,status:c,surveyId:fe.surveyId,durationMs:this.getUserActionDuration(c),surveyTrigger:me.pjt[oe.toString()]});this.telemetryService.push(Ue,null,{immediateRequest:!0}),(c===me._G.Completed||c===me._G.DismissManual||c===me._G.DismissTimeout||c===me._G.Deferred||c===me._G.DismissManualPostMinimize)&&this.resetClientSurveyResult(fe)}}surveyMinimize(c){const V=this.clientSurveyResults.get(c);V.surveyVisited=!0,this.sendUserSurveyTelemetry(me._G.Minimized,this.getSurveyHierarchy(c),c,V),this.participatedInSurvey=!1,this.customLocationService.navigateToPreviousRoute(jn.Survey),this.router.events.pipe((0,Ie.h)(oe=>oe instanceof Ln.m2),(0,To.P)(),(0,Pe.b)(()=>{this.surveyMinimized$.next(c)})).subscribe()}getMinimizedSurvey$(){return this.surveyMinimized$.asObservable().pipe((0,Te.zg)(c=>(0,U.of)(this.clientSurveyResults.get(c))))}getUserInfoFromUser(c){return{userId:(null==c?void 0:c.userId)||"",idpId:(null==c?void 0:c.idpId)||""}}getSurveyFeaturesEnablement(c,V){const oe=[];return V.forEach((fe,Ue)=>{const Ke=this.experienceControlWrapperService.getCloudVariable(fe,{variant:this.appConfig.build.variant},void 0,zt.Z4.GxTargetGetCloudVariable,zt.Qu.GxTargetGetSurveyFeature,(0,U.of)(c)).pipe((0,vt.K)(je=>(this.logger.info("FeatureEnablement error: ",je),(0,U.of)(null))));oe.push(Ke)}),(0,re.$R)(...oe)}startGetSurveyClientSpan(c=!1){const V=this.distributedTracingUtilService.startSpan(Kt.j1.ClientGetSurvey);return V&&this.distributedTracingUtilService.setSpanAttributes(V,{[Ft.SurveySdkSpanTagNames.ReadOnly]:c}),V}startDismissSurveyClientSpan(c){const V=this.distributedTracingUtilService.startSpan(Kt.j1.ClientDismissSurvey);return V&&this.distributedTracingUtilService.setSpanAttributes(V,{[Ft.SurveySdkSpanTagNames.SurveyId]:c}),V}initGlobalTagsForOpenTracing(c,V,oe,fe,Ue){const Ke={[Kt.NI.ServiceVersion]:this.appConfig.build.version,[Kt.NI.ServiceType]:Kt.sk.Pc_A7,[Kt.NI.SpanKind]:Kt.$Q.Client,[Kt.NI.AppName]:(0,vn.wI)(this.router.url)?vn.lW.Streamer:vn.lW.Mall,[Kt.NI.DeviceId]:c,[Kt.NI.ClientOs]:V.Platform,[Kt.NI.ClientOsName]:V.OSName,[Kt.NI.ClientOsVersion]:V.OSVersion,[Kt.NI.CountryCode]:oe,[Ft.SurveySdkSpanTagNames.ClientVariant]:this.surveySdkClientConfig.clientVariant,[Ft.SurveySdkSpanTagNames.ClientVersion]:this.getClientVersionRevision(this.surveySdkClientConfig.clientVersion),[Ft.SurveySdkSpanTagNames.Environment]:this.surveySdkClientConfig.env,[Ft.SurveySdkSpanTagNames.UserId]:fe,[Ft.SurveySdkSpanTagNames.IdpId]:Ue};this.sdk.updateGlobalTags(Ke)}getClientVersionRevision(c){return 4===c.split(".").length?c.substring(0,c.lastIndexOf(".")+1).concat("x"):c}resetClientSurveyResult(c){this.logger.info("Resetting client survey result"),this.participatedInSurvey=!1,c&&this.clientSurveyResults.delete(c.triggerType)}getUserActionDuration(c){return c===me._G.Notify?0:Date.now()-this.surveyActionDuration}sendSurveyHttpSuccessTelemetry(c,V,oe){const fe=new me.wEN({sourceComponent:this.telemetryUtilService.getClientType(),originalService:me.v6v.GxTarget,serviceUseCase:V,serviceSubUseCase:oe,url:c.url||"",httpStatus:c.httpStatus||200,durationMs:Math.round(c.durationMs)||0,destinationIp:"",responseData:"",xRequestId:c.xRequestId||"",retryCount:0,wasSWCacheBypassed:me.wye.UNDEFINED});this.telemetryService.push(fe)}sendSurveyFailureTelemetry(c,V,oe){var fe,Ue,Ke;const je=new me.MjV({sourceComponent:this.telemetryUtilService.getClientType(),originalService:me.v6v.GxTarget,serviceUseCase:V,serviceSubUseCase:oe,url:(null===(fe=null==c?void 0:c.config)||void 0===fe?void 0:fe.url)||"",networkErrorCode:String(c&&c.response?c.response.status:0),destinationIp:"",xRequestId:c&&c.xRequestId?c.xRequestId:"",retryCount:0,wasSWCacheBypassed:me.wye.UNDEFINED,networkErrorMessage:(null===(Ke=null===(Ue=null==c?void 0:c.response)||void 0===Ue?void 0:Ue.message)||void 0===Ke?void 0:Ke.substring(0,1024))||""});this.telemetryService.push(je)}getCommonParams(c){const V=p.ng.isBrowserPlatform();return{deviceOS:c,deviceType:this.systemInfo.DeviceType||v.wy.Undefined,deviceMake:this.systemInfo.VendorName||v.wy.Undefined,deviceModel:this.systemInfo.SystemName||v.wy.Undefined,deviceOSVersion:this.systemInfo.OSVersion,clientType:V?or.CommonClientType.Browser:or.CommonClientType.Native,browserType:this.systemInfo.BrowserName}}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG($n.No),i.LFG(p.Ob),i.LFG(yn),i.LFG(v.y0),i.LFG(p.ed),i.LFG(go),i.LFG(Ln.F0),i.LFG(wn.OA),i.LFG(me.wU6),i.LFG(nr),i.LFG(vn.un),i.LFG(p.OL),i.LFG(he.fI),i.LFG(Ye.r),i.LFG(An.BH),i.LFG(Nt.VK),i.LFG(zt.Q6),i.LFG(Me.s),i.LFG(Y.Ll),i.LFG(p._V),i.LFG(bi),i.LFG(Qe.uC),i.LFG(Di),i.LFG(Kt.Dc))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Ar=e(40479),Is=e(56654),Ts=e(42520),Ls=e(57441),Dr=e(78747),Rs=e(73553),ws=e(48308),Nr=e(53975);class As{constructor(Ae,c,V,oe,fe,Ue,Ke,je=[],st,Ot){this.type=Ae,this.logger=c,this.appConfig=V,this.telemetryService=oe,this.settingsService=fe,this.localeService=Ue,this.translateService=Ke,this.enabledGamesList=je,this.digitalStoreMetadata=st,this.userAccountData=Ot,this._isSyncScheduled=!1,this.inProgress=!1,this.syncInProgress=!1,this.inErrorState=!1,this.errorText="",this.errorArg="",this.showReconnect=!1,this.reconnectReason=null,this.resyncReason=null,this.prevResyncReason=null,this.hideOnboardingReconnect=!1,this.inProgressDisconnect=!1,this.reconnectInProgress=!1,this.showSyncDeniedReconnect=!1,this.accountLinkedTime=null}get expirationTime(){var Ae,c,V;let oe;if(null!==(Ae=this.appConfig.accountLinking)&&void 0!==Ae&&Ae.expirationDate)oe=new Date(null===(c=this.appConfig.accountLinking)||void 0===c?void 0:c.expirationDate),Number.isNaN(oe.getTime())&&(oe=null);else{const fe=parseInt(null===(V=this.userAccountData)||void 0===V?void 0:V.accountLinkingData.expiresIn,10);oe=fe&&-1!==fe?this.getExpirationFromNow(1e3*fe):null,(!oe||-1===parseInt(oe,10))&&(oe=null)}return oe}get isSyncScheduled(){return this._isSyncScheduled}set isSyncScheduled(Ae){this._isSyncScheduled=Ae}get loggedIn(){var Ae;return!(null===(Ae=this.storeData)||void 0===Ae||!Ae.store)}get fancyTimestamp(){return this.syncTime?Nr(this.syncTime).fromNow():Nr(new Date).fromNow()}get persona(){var Ae;return(null===(Ae=this.userAccountData.accountLinkingData)||void 0===Ae?void 0:Ae.userDisplayName)||this.translateService.instant("accountConnection.connected")}get name(){return this.digitalStoreInfo.accountLinkingMetadata.label}get platform(){return this.type.toUpperCase()}get numberOfSyncedGames(){var Ae,c,V;return(null===(V=null===(c=null===(Ae=this.userAccountData)||void 0===Ae?void 0:Ae.accountLinkingData)||void 0===c?void 0:c.accountSyncingData)||void 0===V?void 0:V.totalNumberOfSyncedGfnGames)||0}get expirations(){var Ae,c,V;return new Co(null!==(Ae=this.appConfig.accountLinking)&&void 0!==Ae&&Ae.expiringNow?1e3*this.appConfig.accountLinking.expiringNow:void 0,null!==(c=this.appConfig.accountLinking)&&void 0!==c&&c.expiringToday?1e3*this.appConfig.accountLinking.expiringToday:void 0,null!==(V=this.appConfig.accountLinking)&&void 0!==V&&V.expiringSoon?1e3*this.appConfig.accountLinking.expiringSoon:void 0)}get syncDate(){var Ae,c,V;return null===(V=null===(c=null===(Ae=this.userAccountData)||void 0===Ae?void 0:Ae.accountLinkingData)||void 0===c?void 0:c.accountSyncingData)||void 0===V?void 0:V.syncDate}get syncTime(){return this.syncDate?new Date(this.syncDate):null}get userId(){var Ae,c;return null===(c=null===(Ae=this.userAccountData)||void 0===Ae?void 0:Ae.accountLinkingData)||void 0===c?void 0:c.userIdentifier}updateLinkTime(){this.accountLinkedTime=Date.now()}getExpirationFromNow(Ae){var c;if("number"!=typeof Ae||-1===Ae)return null;const V=null!==(c=this.accountLinkedTime)&&void 0!==c?c:Date.now();return new Date(V+Ae)}get expires(){const Ae=parseInt(this.userAccountData.accountLinkingData.expiresIn,10);return Ae&&-1!==Ae?this.getExpirationFromNow(1e3*Ae):null}get gamesList(){return this.enabledGamesList}get digitalStoreInfo(){return this.digitalStoreMetadata}get storeData(){return this.userAccountData}get isAccountSyncingSupported(){return this.digitalStoreInfo.features.filter(Ae=>Ae.__typename===Hn.q6.AccountGamesSyncing).some(Ae=>!0===Ae.supported)}get isAccountLinkingSupported(){return this.digitalStoreInfo.features.filter(Ae=>Ae.__typename===Hn.q6.AccountLinkingSso).some(Ae=>!0===Ae.supported)}set userAccountInfo(Ae){this.userAccountData=Ae}get isExpired(){return!(!this.isAccountLinkingSupported||null===this.expirationTime)&&(0===this.expirationTime.getTime()||this.expirationTime.getTime()<Date.now())}get isConnected(){var Ae;return!(null===(Ae=this.storeData)||void 0===Ae||!Ae.store)}get state(){var Ae,c,V;return null===(V=null===(c=null===(Ae=this.userAccountData)||void 0===Ae?void 0:Ae.accountLinkingData)||void 0===c?void 0:c.accountSyncingData)||void 0===V?void 0:V.syncState}set state(Ae){this.userAccountData.accountLinkingData.accountSyncingData.syncState=Ae}get isSynced(){return this.isConnected&&this.state&&this.isAccountSyncSupported}get showOnboardingReconnect(){return this.isConnected&&this.isAccountSyncSupported&&!this.state&&!this.hideOnboardingReconnect&&this.appConfig.accountLinking.newFeatureAddition.includes(this.type)}get isAccountLinkingSsoAvailable(){return this.isAccountLinkingSupported}get isAccountSyncSupported(){return this.isAccountSyncingSupported}get icon(){return this.digitalStoreInfo.smallImageUrl||""}get connectValueProp(){var Ae;return(null===(Ae=this.digitalStoreInfo.accountLinkingMetadata)||void 0===Ae?void 0:Ae.connectValueProposition)||""}get isAccountLinkingSsoRequired(){return!!this.digitalStoreInfo.accountLinkingMetadata.isRequired}get isAccountLinked(){return this.isAccountLinkingSsoAvailable&&this.isConnected}resetResyncReconnectReasons(){this.reconnectReason=null,this.prevResyncReason=null}updateProviderState(){if(this.inProgress=!1,this.inProgressDisconnect=!1,this.syncInProgress=!1,this.inErrorState=!1,this.showReconnect=!1,this.showSyncDeniedReconnect=!1,this.prevResyncReason=this.resyncReason,this.resyncReason=null,this.isAccountLinkingSsoAvailable&&(this.errorText="",this.errorArg="",this.inErrorState=!1,this.isAccountLinkingSupported)){const Ae=this.getExpirationStatus();if(this.loggedIn&&Ae!==j.NotExpired)switch(this.logger.info("Updating provider state for expiry",Ae),this.inErrorState=!0,this.showReconnect=!0,Ae){case j.Expired:this.errorText="accountConnection.accountLinking.warningExpired";break;case j.ExpiresNow:case j.ExpiresToday:this.errorText="accountConnection.accountLinking.warningToday";break;case j.ExpiresSoon:this.errorText="accountConnection.accountLinking.warning",this.errorArg=Nr(this.expirationTime).fromNow()}}if(this.isConnected&&this.isAccountSyncSupported&&this.state&&this.state!==Vn.SYNC_SUCCESS){if(this.logger.info(`Updating provider state for sync errors ${this.state} for ${this.type}`),this.errorText="accountConnection.accountSyncing.gameSyncFailed",this.errorArg="",this.inErrorState=!0,this.resyncReason=ni.syncFailed,this.type===Wn.STEAM)if(this.state===Vn.SYNC_DENIED){const Ae=this.settingsService.getLinksUrl(Zt.qB.STEAM_ACCOUNT_SETTINGS,this.localeService.getLocale());this.resyncReason=ni.privateProfile,this.errorText="accountConnection.accountSyncing.warning",this.errorArg=`<a class="font-body2-link" href="${Ae}">`}else if(this.state===Vn.PROFILE_NOT_CREATED){const Ae=`https://steamcommunity.com/profiles/${this.userId}`;this.errorText="accountConnection.accountSyncing.requirement",this.errorArg=`<a class="font-body2-link" href="${Ae}">`,this.resyncReason=ni.profileNotCreated}this.type===Wn.UPLAY&&this.state===Vn.SYNC_DENIED&&(this.errorText="",this.showSyncDeniedReconnect=!0)}}getExpirationStatus(){return this.isExpired?j.Expired:this.checkExpiration(this.expirations.now)?j.ExpiresNow:this.checkExpiration(this.expirations.today)?j.ExpiresToday:this.checkExpiration(this.expirations.soon)?j.ExpiresSoon:j.NotExpired}checkExpiration(Ae){var c;return!!this.isExpired||(null===(c=this.expirationTime)||void 0===c?void 0:c.getTime())<Date.now()+Ae}onConnectStart(){this.logger.trace(g.y$.UserGesture,"Connecting to your accounts"),this.inProgress=!0,this.reconnectInProgress=!1,this.hideOnboardingReconnect=!0}onConnectEnd(){this.inProgress=!1}onReconnectStart(Ae){this.logger.trace(g.y$.UserGesture,"Reconnecting to your connected account"),this.reconnectReason=Ae?ti.onboardingReconnect:this.showSyncDeniedReconnect&&this.type===Wn.UPLAY?ti.syncDenied:ti.reconnect,this.inProgress=!0,this.reconnectInProgress=!0,this.hideOnboardingReconnect=!0}onReconnectEnd(){this.inProgress=!1,this.reconnectInProgress=!1}onSyncStart(){this.inProgress=!0,this.syncInProgress=!0}onSyncEnd(){this.inProgress=!1,this.syncInProgress=!1}onResyncStart(){this.logger.trace(g.y$.UserGesture,"Resyncing to your connected account"),this.syncInProgress=!0,this.inProgress=!0}onResyncEnd(){this.inProgress=!1,this.syncInProgress=!1}onDisconnectStart(){this.logger.trace(g.y$.UserGesture,"Disconnecting from your account"),this.inProgress=!0,this.inProgressDisconnect=!0}onDisconnectEnd(){this.inProgress=!1,this.inProgressDisconnect=!1,this.inErrorState=!1,this.showReconnect=!1}}let ys=(()=>{class ce{constructor(c,V,oe,fe,Ue){this.appConfig=V,this.endpointFactory=oe,this.idmService=fe,this.distributedtracingUtilService=Ue,this.logger=c.getLogger("ALSService");const{defaultRetries:Ke,defaultTimeout:je,exponentialBackoffMaxDelay:st,defaultTimeBetweenRetries:Ot}=V.accountLinking;this.alsEndpoint=this.endpointFactory.createEndpoint({config:{maxRetries:Ke,timeout:je,exponentialBackoffMaxDelay:st,timeBetweenRetries:Ot}})}createHeader(c){return{[Pr.n0.authorization]:`Bearer ${c.token}`}}createRequestOptions(c={},V={},oe,fe,Ue=!1){return{headers:oe?this.createHeader(oe):{},params:V,body:c,reportRequestData:{reportSuccessTelemetry:"true",originalService:me.v6v.ALS,serviceUseCase:fe},includeFullResponse:Ue}}get redirectFinishedUrl(){return this.appConfig.accountLinking.redirectFinishedUrl}providerSync(c,V,oe){const fe=this.createRequestOptions({},{},V,me.f$p.LibrarySync,!0),Ue=this.buildApiUrl("sync/").concat(c),Ke=this.alsEndpoint.post(Ue,fe);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ke,fe,Kt.j1.AlsSync,oe).pipe((0,wt.U)(je=>(this.logger.info("Syncing result",je),202===(null==je?void 0:je.status))),(0,vt.K)(je=>(this.logger.error(`Error syncing ${c} account provider: `,je),(0,U.of)(!1))))}buildApiUrl(c){var V;return(null===(V=this.appConfig.accountLinking)||void 0===V?void 0:V.server)+"/v1/"+c}getLoginUrl(c,V,oe,fe=!1){let Ue=this.appConfig.accountLinking.redirectUrl;return this.appConfig.accountLinking.redirectUrlIsRelative&&(Ue=window.location.origin+Ue),V&&V>0&&(Ue=Ue.replace("{portnumber}",V.toString())),this.idmService.getAuthToken(fe,oe).pipe((0,Te.zg)(Ke=>{const je=this.createRequestOptions({},{platform:c,redirect_uri:Ue,client_id:this.appConfig.accountLinking.clientId},Ke,me.f$p.GetOAuthURL),st=this.alsEndpoint.get(this.buildApiUrl("login_url"),je);return this.distributedtracingUtilService.handleHttpEndpointSpan(st,je,Kt.j1.AlsGetLoginUrl,oe).pipe((0,wt.U)(Ot=>Ot.login_url))}),(0,vt.K)(Ke=>this.idmService.handleAuthError(Ke,fe,this.getLoginUrl.bind(this),c,V,oe)))}postLoginUrl(c,V,oe=!1){return this.idmService.getAuthToken(oe,V).pipe((0,Te.zg)(fe=>{const Ue=this.createRequestOptions({platform:c,client_id:this.appConfig.accountLinking.clientId},{},fe,me.f$p.GetOAuthURL),Ke=this.alsEndpoint.post(this.buildApiUrl("login_url"),Ue);return this.distributedtracingUtilService.handleHttpEndpointSpan(Ke,Ue,Kt.j1.AlsPostLoginUrl,V)}),(0,vt.K)(fe=>this.idmService.handleAuthError(fe,oe,this.postLoginUrl.bind(this),c,V)))}postToken(c,V){const oe=this.createRequestOptions({client_id:this.appConfig.accountLinking.clientId,device_code:c},{},void 0,me.f$p.Other),fe=this.alsEndpoint.post(this.buildApiUrl("token"),oe);return this.distributedtracingUtilService.handleHttpEndpointSpan(fe,oe,Kt.j1.AlsPostToken,V)}disconnect(c,V,oe,fe=!1){return this.idmService.getAuthToken(fe,oe).pipe((0,Te.zg)(Ue=>{const Ke=this.createRequestOptions({},{},Ue,me.f$p.UnlinkAccount),je=this.alsEndpoint.delete(this.buildApiUrl(`linking/${V}`),Ke);return this.distributedtracingUtilService.handleHttpEndpointSpan(je,Ke,Kt.j1.AlsDeleteLinking,oe)}),(0,$t.h)(!0),(0,vt.K)(Ue=>this.idmService.handleAuthError(Ue,fe,this.disconnect.bind(this),c,V,oe)),(0,vt.K)(Ue=>(this.logger.error(`error disconnecting from ${c} account provider: `,Ue),(0,U.of)(!0))))}postRequestToSync(c,V,oe=!1){return this.idmService.getAuthToken(oe,V).pipe((0,Te.zg)(fe=>this.providerSync(c,fe,V)),(0,vt.K)(fe=>(this.logger.error("Error while syncing",fe),this.idmService.handleAuthError(fe,oe,this.postRequestToSync.bind(this),c,V))),(0,vt.K)(()=>(0,U.of)(!1)))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Nt.VK),i.LFG(Pr.V9),i.LFG($n.No),i.LFG(Kt.Dc))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Ns=e(76549);let Bs=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot,Lt,At,Yt,qt,En,gn,mn,Nn,ui,mi,lo,sr,Ps){this.bridgeService=V,this.appConfig=oe,this.idmService=fe,this.telemetryService=Ue,this.localeService=Ke,this.settingsService=je,this.distributedtracingUtilService=st,this.dialogService=Ot,this.lcarsService=Lt,this.translateService=At,this.refreshUiService=Yt,this.router=qt,this.customLocationService=En,this.guestModeHelperService=gn,this.alsSdkService=mn,this.sharedStorageService=Nn,this.pwaService=ui,this.browseUxService=mi,this.snackbar=lo,this.telemetryUtilService=sr,this.dialog=Ps,this.fromCTA=!1,this.ctaVisibilityPreference=new ln.t(1),this.providerOperationSub=new P.xQ,this.triggerLibraryRefreshSub=new P.xQ,this.removeOnboarding=new P.xQ,this.isBrowserClient=!1,this.initialized=!1,this.accountLinkingEnabled=!1,this.accountProviders=new Map,this.accountLinkingDataSubject=new ln.t(1),this.pendingGamesListEnablement=null,this.launchCTA=new ln.t(1),this.notificationSub=null,this.logger=c.getLogger("OwnershipSyncService"),this.isBrowserClient=p.ng.isBrowserPlatform(),this.linkedAccountChangedNotification$=this.initLinkedAccountChangeNotification().pipe((0,Ls.B)())}get shouldShowCTADefault(){return!0}get waitForAccountLinkingData(){return this.accountLinkingDataSubject.asObservable()}get isAccountLinkingEnabled(){let c=!1;return this.accountProviders.forEach(V=>{V.isAccountLinkingSupported&&(c=!0)}),this.accountLinkingEnabled&&c}initialize(){this.initialized||(this.idmService.accountStatusChanged.subscribe(c=>{var V,oe;this.logger.info("Account status changed, updating account linking data"),null===(V=this.accountProviders)||void 0===V||V.forEach(fe=>{fe.showOnboardingReconnect&&!c.isAuthenticated&&this.removeOnboarding.next({providerType:fe.type,state:!0})}),null===(oe=this.pendingGamesListEnablement)||void 0===oe||oe.unsubscribe(),this.cancelPendingCTA(),c.isAuthenticated&&this.initializeAccountConnections().subscribe(()=>{this.initExpirationCheck(),this.initialized=!0},fe=>{this.logger.error("Error in initialization of ALS/Ownership service",fe)})}),this.readShowIntegrationTilePreference().pipe((0,r.q)(1)).subscribe(c=>this.ctaVisibilityPreference.next(c),Tn.Z))}initLinkedAccountChangeNotification(){return this.refreshUiService.linkedAccountRefresh$.pipe((0,wt.U)(c=>(this.logger.info("Refresh ALS triggered",null==c?void 0:c.source),null==c?void 0:c.metadata)))}initializeAccountConnections(){return this.logger.info("Initializing account connections"),this.accountLinkingEnabled=!1,(0,Sn.aj)([this.lcarsService.getStaticAppData(),this.getUserAccountData()]).pipe((0,wt.U)(([c,V])=>(this.processLcarsResponse(c.appStoreDefinitions,V),!0)),(0,vt.K)(c=>(this.logger.error("Failure querying data from LCARS: ",c),(0,U.of)(!1))))}getUserAccountData(){return(0,Ts.T)(this.lcarsService.getLatestUserAccountInfo().pipe((0,r.q)(1)),this.lcarsService.onUserAccountInfoUpdated$).pipe((0,wt.U)(V=>{const oe=V.userAccount.storesData;return oe.length?oe:[]}),(0,vt.K)(V=>(this.logger.error("Error in fetching user account info:",V),(0,U.of)([]))))}sortFeaturesData(c){const V=[];return Object.values(Hn.q6).forEach(oe=>{const fe=c.findIndex(Ue=>Ue.__typename===oe);-1!==fe&&V.push(c[fe])}),V}processLcarsResponse(c,V){null!=c&&c.length&&(c.filter(oe=>oe.store!==Wn.UNKNOWN&&oe.store!==Wn.NONE).forEach(oe=>{var fe;const Ue=oe.store;oe.features=this.sortFeaturesData(oe.features),null===(fe=oe.features)||void 0===fe||fe.forEach(Ke=>{const je=oe.accountLinkingMetadata.supportedVariantIds||[];if(Object.values(Hn.q6).includes(Ke.__typename)&&Ke.supported){this.logger.info(`Processing LCARS data, digital store for ${oe.store}:`,oe);const st=this.getStoreSpecificUserAccountData(oe.store,V);this.logger.info(`StoresData for ${oe.store}:`,st),Ke.__typename===Hn.q6.AccountLinkingSso&&(this.accountLinkingEnabled=!0),this.accountProviders.has(Ue)?(this.logger.info("Existing provider, updating userAccount info",Ue),this.accountProviders.get(Ue).userAccountInfo=st):(this.logger.info("Setting provider",Ue),this.accountProviders.set(Ue,new As(Ue,this.logger,this.appConfig,this.telemetryService,this.settingsService,this.localeService,this.translateService,je,oe,st)))}})}),this.updateAccountConnections(!1,ii.InitialFetchDone),this.notificationSub||(this.logger.info("Register for account linking push notifications"),this.registerAccountLinkingServiceNotifications()),this.accountLinkingDataSubject.next(!0),this.accountLinkingEnabled&&this.checkAccountExpiration())}getStoreSpecificUserAccountData(c,V){var oe;return null!==(oe=V.find(fe=>fe.store===c))&&void 0!==oe?oe:null}updateAccountConnections(c,V,oe=!1,fe){fe?(fe.updateLinkTime(),this.logger.info(`Updating account info from lcars for ${fe.platform}`),fe.updateProviderState(),this.onProviderDataUpdate(fe.type,V,c,oe)):this.accountProviders.forEach(Ue=>{Ue.updateLinkTime(),this.logger.info(`Updating account info from lcars for ${Ue.platform}`),Ue.updateProviderState(),this.onProviderDataUpdate(Ue.type,V,c,oe)})}initExpirationCheck(){(0,ao.F)(36e5).pipe((0,Ie.h)(()=>this.accountLinkingEnabled)).subscribe(()=>{this.checkAccountExpiration()})}checkAccountExpiration(){this.accountProviders.forEach(c=>{if(c.isAccountLinkingSsoAvailable&&c.isConnected){const V=c.getExpirationStatus();V!==j.NotExpired&&(this.logger.info(`Account Linking expired state ${V} for ${c.type}`),c.updateProviderState(),this.providerOperationSub.next({provider:c.type,operation:ii.Expiring}))}})}registerAccountLinkingServiceNotifications(){this.notificationSub=this.linkedAccountChangedNotification$.pipe((0,Dn.w)(c=>this.updateLinkedAccount(c))).subscribe()}updateLinkedAccount(c){if(c){if(null==c||!c.accountLinkedInfo)return this.logger.error("Missing accountLinkedInfo field in notification",c),(0,U.of)(!1);const V=this.gameStoreToProviderType(c.accountLinkedInfo.account_type);if(!V)return this.logger.error(`Unknown account_type ${c.accountLinkedInfo.account_type} in notification`),(0,U.of)(!1);const oe=this.accountProviders.get(V);if(oe.isSyncScheduled)return this.logger.info("Ignoring push notification, as a sync is scheduled for the provider"),(0,U.of)(!1);const fe=c.accountLinkedInfo.linked;return fe||!fe&&oe.loggedIn?(this.logger.info("Account syncing triggered due to push notification"),this.syncAccountLinking(!1,oe).pipe((0,Pe.b)(()=>this.checkAccountExpiration()),(0,r.q)(1))):(0,U.of)(!0)}return this.logger.info("Refresh ALS for conditional triggers"),this.syncAccountLinking(!1).pipe((0,Pe.b)(()=>this.checkAccountExpiration()),(0,r.q)(1))}gameStoreToProviderType(c){switch(c){case Qt.Qm.EPIC:return Wn.EPIC;case Qt.Qm.STEAM:return Wn.STEAM;case Qt.Qm.GOG:return Wn.GOG;case Qt.Qm.UPLAY:return Wn.UPLAY;default:return Wn.UNKNOWN}}syncAccountLinking(c,V,oe=!1){return this.logger.info(`Syncing Account Linking data for ${null==V?void 0:V.type}`),this.lcarsService.getLatestUserAccountInfo().pipe((0,wt.U)(fe=>(this.logger.info(`User Account data for ${null==V?void 0:V.type}: `,fe),V?V.userAccountInfo=this.getStoreSpecificUserAccountData(V.digitalStoreInfo.store,fe.userAccount.storesData):this.accountProviders.forEach(Ue=>{Ue.userAccountInfo=this.getStoreSpecificUserAccountData(Ue.digitalStoreInfo.store,fe.userAccount.storesData)}),this.updateAccountConnections(c,ii.SyncingDone,oe,V),!0)),(0,vt.K)(fe=>(this.logger.error("Error syncing account linking providers: ",fe),(0,U.of)(!1))))}waitForAl(){return this.guestModeHelperService.isGuestMode?(0,U.of)(!0):this.accountLinkingDataSubject.asObservable()}getAccountLinkingStateForGame(c="",V){const oe=V.toString();return this.waitForAl().pipe((0,r.q)(1),(0,wt.U)(()=>{var fe;this.logger.info(`Checking account linking availability for game ${V} on ${c}`),this.initialized||this.logger.warn("Attempting to check against the list of account-linking availability for game before initialization is complete. Cloud variables may not have been loaded.");const Ue=this.accountProviders.get(c);if(!Ue||!Ue.isAccountLinkingSupported)return this.logger.info(`Account linking not available for ${c}`),{isEnabled:!1,isRequired:!1};const Ke=Ue;return null===(fe=Ke.gamesList)||void 0===fe||!fe.length||Ke.gamesList.includes(oe)?(this.logger.info(`Account linking is available for ${c} and for the game, ${V}`),{isEnabled:!0,isRequired:!(null==Ke||!Ke.isAccountLinkingSsoRequired)}):(this.logger.info(`Account linking is not available for ${c} and for the game, ${V}`),{isEnabled:!1,isRequired:!1})}))}isAccountLinkEnabledForGame(c="",V){const oe=V.toString();return this.waitForAl().pipe((0,r.q)(1),(0,wt.U)(()=>{var fe;this.logger.info(`Checking account linking enablement for game ${V} on ${c}`),this.initialized||this.logger.warn("Attempting to check against the list of account-linking enabled games before initialization is complete. Cloud variables may not have been loaded.");const Ue=this.accountProviders.get(c);if(!Ue||!Ue.isAccountLinkingSupported)return this.logger.info(`Account linking not provided for ${c}`),!1;const Ke=Ue;return null===(fe=Ke.gamesList)||void 0===fe||!fe.length||Ke.gamesList.includes(oe)?(this.logger.info("Account linking was enabled for the game, "+(Ke.isConnected&&!Ke.isExpired?"and account was linked and not expired":"but account was not linked or expired")),Ke.isConnected&&!Ke.isExpired):(this.logger.info(`Account linking is not available for ${c} and the game, ${oe}`),!1)}))}isAccountLinked(c=""){if(this.isAccountLinkingAvailable(c)){const V=this.accountProviders.get(c);return(null==V?void 0:V.isConnected)&&!(null!=V&&V.isExpired)}return!1}isAccountLinkingAvailable(c=""){const V=this.accountProviders.get(c);return!(!V||!V.isAccountLinkingSupported)}resync(c,V){if(!this.initialized)return(0,U.of)(!1);const oe=this.accountProviders.get(c);return oe?(oe.onResyncStart(),this.sync(c,!0,V)):(0,U.of)(!0)}connect(c,V=!1,oe=!1,fe){var Ue;if(!this.initialized)return(0,U.of)(!1);const Ke=this.accountProviders.get(c);if(Ke){const je=this.distributedtracingUtilService.startSpan(Kt.j1.AlsUserLogin,fe);return this.distributedtracingUtilService.setSpanAttribute(je,Kt.NI.AccountLinkingProvider,c),V?(Ke.onReconnectStart(oe),this.removeOnboarding.next({providerType:c,state:!0})):Ke.onConnectStart(),(null!==(Ue=this.appConfig.featureEnablement)&&void 0!==Ue&&Ue.openLinksOffDevice?this.doLoginOffDevice(Ke,je):this.doLogin(Ke,c,V,je)).pipe((0,vt.K)(Lt=>(this.logger.error("Error logging in: ",Lt),(0,U.of)(!1))),(0,Te.zg)(Lt=>{const At=Ke.name;return Lt?(this.logger.info("Account linking succeed, showing toast message"),this.distributedtracingUtilService.setSpanAttribute(je,Kt.NI.Error,!1),this.handleConnectLoginSuccess(Ke,At,V,je)):(this.distributedtracingUtilService.setSpanAttribute(je,Kt.NI.Error,!0),this.logger.error("Account linking failed, showing error dialog"),this.providerOperationSub.next({provider:c,operation:ii.LinkingError}),this.dialogService.openAccountLinkingErrorDialog(At,Lt))}),(0,Dr.x)(()=>{je&&this.distributedtracingUtilService.closeSpan(je),V?Ke.onReconnectEnd():Ke.onConnectEnd()}))}return(0,U.of)(!1)}handleConnectLoginSuccess(c,V,oe,fe){return this.translateService.get(oe?"accountConnection.accountLinking.accountReconnected":"accountConnection.accountLinking.accountConnected",{arg:V}).pipe((0,Pe.b)(Ke=>{this.logger.info("Showing connection success toast"),this.snackbar.open(Ke,"",{duration:5e3,horizontalPosition:"left",verticalPosition:"bottom",panelClass:["nv-hig"]})}),(0,Te.zg)(()=>c.isAccountSyncingSupported?this.sync(c.type,!1,fe):(c.updateProviderState(),this.logger.info("Connection successful, provider does not support syncing"),(0,U.of)(!0))))}disconnect(c,V=!1,oe){if(!this.initialized)return(0,U.of)(!1);this.logger.info(`Disconnecting account "${c}"`);const fe=this.accountProviders.get(c);return fe.showOnboardingReconnect&&this.removeOnboarding.next({providerType:c,state:!0}),fe.onDisconnectStart(),this.alsSdkService.disconnect(c,fe.platform,oe).pipe((0,vt.K)(()=>(fe.onDisconnectEnd(),this.logger.error("Disconnecting account error"),(0,U.of)(!1))),(0,Te.zg)(()=>(this.handleDisconnectSuccess(c,!V),(0,U.of)(!0))))}reconnect(c,V,oe){return this.pwaService.isInPWAMode()&&(this.blankWindow=window.open("","_blank")),this.disconnect(c,!0,oe).pipe((0,Te.zg)(fe=>fe?this.connect(c,!0,V,oe):(0,U.of)(fe)),(0,Pe.b)(()=>{var fe;null===(fe=this.blankWindow)||void 0===fe||fe.close(),this.blankWindow=null}))}handleDisconnectSuccess(c,V=!0){const oe=this.accountProviders.get(c);V&&this.sendOwnershipDisconnectTelemetry(c),oe.userAccountInfo=null,this.providerOperationSub.next({provider:c,operation:ii.Disconnected}),oe.onDisconnectEnd()}accountSyncLibraryRefresh(c,V=!1){var oe,fe,Ue,Ke,je;c.isSyncScheduled=!0;const st=new Cn.X(!1),Ot=this.refreshUiService.libraryRefresh$.subscribe(qt=>st.next(!0)),Lt=null===(fe=null===(oe=this.appConfig)||void 0===oe?void 0:oe.accountLinking)||void 0===fe?void 0:fe.syncWaitInterval,At=null===(Ke=null===(Ue=this.appConfig)||void 0===Ue?void 0:Ue.accountLinking)||void 0===Ke?void 0:Ke.defaultSyncWaitInterval,Yt=Lt&&null!==(je=Lt["timeout_"+c.type.toLowerCase()])&&void 0!==je?je:At;(0,Be.H)(Yt).pipe((0,Te.zg)(qt=>(this.logger.info("Refreshing user account stream after waiting"),this.syncAccountLinking(!0,c,V))),(0,Te.zg)(qt=>(c.onSyncEnd(),c.onResyncEnd(),c.isSyncScheduled=!1,c.state!==Vn.SYNC_SUCCESS?$i.C:st)),(0,Pe.b)(qt=>{qt?this.logger.info("Received library refresh notification after sync success, not triggering manual refresh"):(this.logger.info("Did not receive library refresh notification in time, triggering manual refresh"),this.triggerLibraryRefreshSub.next(!0))})).subscribe(()=>{null==Ot||Ot.unsubscribe(),null==st||st.complete()},Tn.Z)}sync(c,V=!1,oe){if(this.logger.info("Calling asynchronous sync for",c),!this.initialized)return(0,U.of)(!1);const fe=this.accountProviders.get(c);return fe?(fe.onSyncStart(),this.alsSdkService.postRequestToSync(c,oe).pipe((0,Te.zg)(Ue=>(this.logger.info("Sync result",Ue),Ue?(this.accountSyncLibraryRefresh(fe,V),(0,U.of)(!0)):(fe.state=Vn.UNKNOWN,fe.onSyncEnd(),fe.onResyncEnd(),this.onProviderDataUpdate(fe.type,ii.SyncingError,!0,V),(0,U.of)(!1)))))):(0,U.of)(!1)}onLibraryUpdated(){return this.triggerLibraryRefreshSub.asObservable()}providerOperationUpdate(){return this.providerOperationSub.asObservable()}onboardingStatusChange(){return this.removeOnboarding.asObservable()}getEnabledAccountProviders(){return[...this.accountProviders.values()].sort((c,V)=>c.digitalStoreInfo.sortOrder-V.digitalStoreInfo.sortOrder)}getGameLaunchInfo(c){const V=this.accountProviders.get(c);if(!V)return null;const oe=V.digitalStoreInfo.features.filter(Ue=>Ue.displayProposition).map(Ue=>({matIcon:Ue.supported?"check_circle":"cancel",text:Ue.displayProposition}));return{isAccountLinked:V.isAccountLinked,expirationStatus:V.getExpirationStatus(),isAccountLinkingSsoRequired:V.isAccountLinkingSsoRequired,providerType:c,storeName:V.name,connectValueProp:V.connectValueProp,isAccountLinkingSsoAvailable:V.isAccountLinkingSsoAvailable,descriptionIconList:oe,showOnboardingReconnect:V.showOnboardingReconnect}}getNotificationInfo(c){const V=this.accountProviders.get(c);return V?{loggedIn:V.loggedIn,isAccountLinkingSsoAvailable:V.isAccountLinkingSsoAvailable,icon:V.icon,expirationStatus:V.getExpirationStatus(),showOnboardingReconnect:V.showOnboardingReconnect,storeName:V.name}:null}getAccountLinkingAnalyticsInfo(){const c=[];return this.accountProviders.forEach(V=>{c.push({isAccountSyncSupported:V.isAccountSyncSupported,isSynced:V.isSynced,isAccountLinkingSsoAvailable:V.isAccountLinkingSsoAvailable,isAccountLinked:V.isAccountLinked,providerType:V.type})}),c}parseLoginResult(c){var V,oe;if(null!=c&&c.platform)return this.logger.info(`Account Linking login successful for ${c.platform}.  Expires in ${c.expires_in}`),this.updateUserAccountPostLogin(c),c;if(c){if(c.error)throw new Error(null!==(V=c.error_description)&&void 0!==V?V:c.error);const fe=new URL(c),Ue={display_name:fe.searchParams.get("display_name"),expires_in:fe.searchParams.get("expires_in"),platform:fe.searchParams.get("platform"),error:fe.searchParams.get("error"),error_description:fe.searchParams.get("error_description")};if(Ue.error)throw new Error(null!==(oe=Ue.error_description)&&void 0!==oe?oe:Ue.error);return this.logger.info(`Account Linking login successful for ${Ue.platform}.  Expires in ${Ue.expires_in}`),this.updateUserAccountPostLogin(Ue),Ue}return this.logger.info("Account Linking login response invalid."),{}}updateUserAccountPostLogin(c){const oe=this.accountProviders.get(c.platform);oe&&(oe.userAccountInfo={store:c.platform,accountLinkingData:{expiresIn:c.expires_in,userDisplayName:c.display_name}},oe.updateLinkTime())}get getCTAVisibilityPreference$(){return this.ctaVisibilityPreference.asObservable()}updateIntegrationTileVisibilityPreference(c){this.ctaVisibilityPreference.next(c),this.writeShowIntegrationTilePreference(c)}getCTACountInfo(){const{totalValidConnected:c,totalAvailableProviders:V}=this.getConnectedAccountInfo();return{connectedCount:c.length,availableCount:V.length}}getConnectedAccountInfo(){const c=Array.from(this.accountProviders.values());return{totalValidConnected:c.filter(oe=>!oe.isAccountLinkingSupported&&!oe.isAccountSyncingSupported||(oe.isAccountLinked&&!oe.isExpired||oe.isSynced)),totalAvailableProviders:c}}readShowIntegrationTilePreference(){return this.idmService.cachedUser.pipe((0,Te.zg)(c=>this.sharedStorageService.readBlock("ALSPreference_"+c.data.userId)),(0,wt.U)(c=>null==(null==c?void 0:c.showIntegrationTile)?this.shouldShowCTADefault:c.showIntegrationTile),(0,vt.K)(c=>(0,U.of)(this.shouldShowCTADefault)))}writeShowIntegrationTilePreference(c){this.idmService.cachedUser.pipe((0,Te.zg)(V=>(0,pe.D)([(0,U.of)(V.data.userId),this.sharedStorageService.readBlock("ALSPreference_"+V.data.userId)])),(0,Te.zg)(([V,oe])=>(oe.showIntegrationTile=c,this.sharedStorageService.writeBlock("ALSPreference_"+V,oe)))).subscribe(Tn.Z,Tn.Z)}syncCTATileClicked(){this.fromCTA=!0}onCancelCTA(){return this.launchCTA.asObservable()}cancelPendingCTA(){this.launchCTA.next(!0),this.launchCTA.complete(),this.launchCTA=new ln.t(1)}openAccountLinkingDialog(c,V,oe,fe){var Ue;const Ke=this.getGameLaunchInfo(c);this.logger.info("Game launch info:",Ke);let je=me.ItH.Account_Link_Required;const st=Ke.isAccountLinked,Ot=Ke.showOnboardingReconnect,Lt=Ke.expirationStatus,At=Lt===j.Expired||Lt===j.ExpiresNow;if(st&&At)return je=j.Expired?me.ItH.Account_Link_Expired:me.ItH.Account_Link_Expires_Soon,this.telemetryUtilService.sendPopUpDialogShownEvent(je),this.dialogService.openAccountLinkingExpirationDialog({isAccountLinkingSsoRequired:Ke.isAccountLinkingSsoRequired,expirationStatus:Ke.expirationStatus,providerType:Ke.providerType,storeName:Ke.storeName},Ke.isAccountLinkingSsoRequired,oe).pipe((0,Te.zg)(qt=>{if(qt){if(oe)return this.telemetryUtilService.sendPopUpDialogClosedEvent(je,me.XzU.Proceed_Connect),this.proceedToConnect(c,!0,Ot);this.dialog.closeAll(),this.navigateToAccountsSection()}return this.telemetryUtilService.sendPopUpDialogClosedEvent(je,qt?me.XzU.Goto_Settings:me.XzU.Dialog_Closed),(0,U.of)({returnValue:!(qt||V),dialogShown:!0})}));if(!st||st&&!At&&Ot){const Yt=null===(Ue=Hn.vA.getStoreInfoForAppstore(c).accountLinkingMetadata)||void 0===Ue?void 0:Ue.label,qt=Yt?Yt+"_":"";return this.idmService.cachedUser.pipe((0,Te.zg)(En=>this.sharedStorageService.readBlock("accountLinking_"+qt+En.data.userId)),(0,Te.zg)(En=>(this.logger.info("Account linking data",En),!En.hideAccountLinkingDialog||Ke.isAccountLinkingSsoRequired?(this.telemetryUtilService.sendPopUpDialogShownEvent(je),this.dialogService.openAccountLinkingValuePropDialog({isAccountLinkingSsoRequired:Ke.isAccountLinkingSsoRequired,connectValueProp:Ke.connectValueProp,providerType:Ke.providerType,appstoreLabel:Yt,descriptionIconList:Ke.descriptionIconList,showOnboardingReconnect:Ke.showOnboardingReconnect},oe,fe).pipe((0,Te.zg)(mn=>{if(mn){if(oe)return this.telemetryUtilService.sendPopUpDialogClosedEvent(je,me.XzU.Proceed_Connect),this.proceedToConnect(c,!1,Ot);this.dialog.closeAll(),this.navigateToAccountsSection()}return this.telemetryUtilService.sendPopUpDialogClosedEvent(je,mn?me.XzU.Goto_Settings:me.XzU.Dialog_Closed),(0,U.of)({returnValue:!(mn||V),dialogShown:!0})}))):(0,U.of)({returnValue:!0,dialogShown:!1}))))}return(0,U.of)({returnValue:!0,dialogShown:!1})}proceedToConnect(c,V,oe){return this.connect(c,V,oe).pipe((0,Te.zg)(fe=>(0,U.of)({returnValue:fe,dialogShown:!0})))}onProviderDataUpdate(c,V,oe,fe){this.providerOperationSub.next({provider:c,operation:V}),oe&&this.sendOwnershipSyncTelemetry(fe,c)}doLogin(c,V,oe,fe){let Ue;return Ue=this.isBrowserClient?this.doLoginBrowser(c,fe):this.doLoginNative(c,fe),this.dialogService.openAccountLinkingConnectingDialog(Ue,oe).pipe((0,Te.zg)(Ke=>Ke?(this.logger.info("Data received from AL service: ",Ke),this.onProviderDataUpdate(V,ii.LinkingDone,!c.isAccountSyncSupported,!1),(0,U.of)(!0)):(0,U.of)(!1)))}doLoginOffDevice(c,V){const oe=this.alsSdkService.postLoginUrl(c.platform,V).pipe((0,fo.d)(1)),fe=new ln.t(1);let Ue;const Ke=oe.pipe((0,Pe.b)(st=>{Ue=this.linkedAccountChangedNotification$.pipe((0,Ie.h)(Ot=>!!Ot&&(this.gameStoreToProviderType(Ot.accountLinkedInfo.account_type)===c.type&&Ot.accountLinkedInfo.linked)),(0,r.q)(1)).subscribe(()=>fe.next())}),(0,Te.zg)(st=>{const Ot=Math.max(1,Math.floor(st.expires_in/st.interval)-1);return this.alsSdkService.postToken(st.device_code,V).pipe((0,Rs.a)(Lt=>Lt.pipe((0,Te.zg)((At,Yt)=>{var qt;if(Yt+1>Ot)return this.logger.error("Off device login failed because number of retry has reached maximal value"),(0,at._)(At);const gn=At.rawResponse;return 400===At.status&&"authorization_pending"===(null===(qt=null==gn?void 0:gn.error)||void 0===qt?void 0:qt.error)?(0,Be.H)(1e3*st.interval):void 0}))))}),(0,Te.zg)(st=>{var Ot,Lt;const At=null!==(Lt=null===(Ot=this.appConfig.accountLinking)||void 0===Ot?void 0:Ot.offDeviceNotificationTimeout)&&void 0!==Lt?Lt:3e4,Yt=(0,Be.H)(At).pipe((0,Te.zg)(()=>this.syncAccountLinking(!0,c)));return(0,In.S3)(fe.asObservable(),Yt).pipe((0,r.q)(1),(0,$t.h)(!0))})),je=oe.pipe((0,wt.U)(st=>({userCode:st.user_code,verificationUri:st.verification_uri,verificationUriComplete:st.verification_uri_complete})));return this.dialogService.openOffDeviceAccountLinkingDialog(Ke,je).pipe((0,Pe.b)(st=>{null==Ue||Ue.unsubscribe(),null==fe||fe.complete()}))}doLoginBrowser(c,V){let oe;this.blankWindow?(oe=this.blankWindow,this.blankWindow=null):oe=window.open("","_blank");const fe=this.alsSdkService.getLoginUrl(c.type.toUpperCase(),void 0,V).pipe((0,Te.zg)(Ke=>(oe.location.href=Ke,(0,Zi.R)(window,"message"))),(0,Ie.h)(Ke=>this.validateMessageEvent(Ke)),(0,wt.U)(Ke=>this.getOAuthLoginData(Ke)),(0,wt.U)(Ke=>this.parseLoginResult(Ke)),(0,wt.U)(Ke=>{const je=new URL(this.alsSdkService.redirectFinishedUrl);return je.searchParams.append("platform",c.platform),je.searchParams.append("ui_locales",this.localeService.getLocale()),Ke.display_name&&je.searchParams.append("display_name",Ke.display_name),oe.location.href=je.href,Ke}),(0,vt.K)(Ke=>{this.logger.error("error retrieving login url ",Ke.message);const je=new URL(this.alsSdkService.redirectFinishedUrl);return je.searchParams.append("platform",c.platform),je.searchParams.append("ui_locales",this.localeService.getLocale()),je.searchParams.append("error","accountlink_fail"),oe.location.href=je.href,(0,U.of)("")})),Ue=(0,ao.F)(500).pipe((0,Ie.h)(()=>oe.closed),(0,$t.h)(""),(0,r.q)(1));return(0,In.S3)(Ue,fe)}doLoginNative(c,V){var oe;let fe=null===(oe=this.appConfig.starfleet)||void 0===oe?void 0:oe.portNumbers;0===fe.length&&(fe=[4444]);const Ue=new P.xQ,Ke=new P.xQ;return this.bridgeService.executeCommand(Bt.Gh.Common.Httpserver.StartHttpServer,{ports:fe,redirectUrl:"",redirectParams:[]}).pipe((0,Te.zg)(je=>{if("httpRequest"===(null==je?void 0:je.callbackReason)){const st=this.parseLoginResult(je.url),Ot=[`ui_locales=${this.localeService.getLocale()}`,`platform=${c.platform}`];return st.display_name&&Ot.push(`display_name=${st.display_name}`),this.bridgeService.executeCommand(Bt.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:this.alsSdkService.redirectFinishedUrl,redirectParams:Ot}).pipe((0,Pe.b)(()=>{Ke.next(st),Ke.complete()}))}return"httpRequestAborted"===(null==je?void 0:je.callbackReason)?(0,U.of)(!0).pipe((0,Pe.b)(()=>{Ke.next(),Ke.complete()})):"serverCreated"===(null==je?void 0:je.callbackReason)?(this.logger.info("HTTP server port is: ",je.portNumber),Ue.next(je.portNumber),(0,U.of)(!0)):(0,at._)("Error in HTTP server response for account login")}),(0,vt.K)(je=>(this.logger.error("Error creating HTTP server for account login",je),this.bridgeService.executeCommand(Bt.Gh.Common.Httpserver.SendRedirectResponse,{redirectUrl:this.alsSdkService.redirectFinishedUrl,redirectParams:[`ui_locales=${this.localeService.getLocale()}`,`platform=${c.platform}`,"error=server_error"]}).pipe((0,Pe.b)(()=>{Ue.error(je),Ke.error(je)})))),(0,Dr.x)(()=>{Ke.complete(),Ue.complete()})).subscribe(),Ue.pipe((0,Ii.b)(je=>this.alsSdkService.getLoginUrl(c.type.toUpperCase(),je,V)),(0,Ii.b)(je=>(this.appConfig.accountLinking.useNativeAuthCommands?this.bridgeService.executeCommand(Bt.Gh.Common.Nativeauth.initiateLogInALS,{url:je}).pipe((0,r.q)(1)).subscribe():window.open(je,"_blank"),Ke.asObservable())),(0,r.q)(1),(0,ws.L)(3e5,(0,U.of)("")),(0,Dr.x)(()=>{this.logger.info("Closing HTTP server"),this.bridgeService.executeCommand(Bt.Gh.Common.Httpserver.StopHttpServer).subscribe()}))}validateMessageEvent(c){let V=c&&c.data;return V=V&&c.origin===window.location.origin,!!V}getOAuthLoginData(c){var V;const oe=null===(V=c.data)||void 0===V?void 0:V.key;if(!oe)return{};const fe=window.localStorage.getItem(oe);window.localStorage.removeItem(oe);try{return JSON.parse(fe).data}catch{return this.logger.error("malformed access code object",fe),null}}getGameSyncStatus(c){switch(c){case Vn.UNKNOWN:return me.Mlh.Unknown;case Vn.SYNC_SUCCESS:return me.Mlh.Sync_Success;case Vn.PROFILE_NOT_CREATED:return me.Mlh.Profile_Not_Created;case Vn.SYNC_DENIED:return me.Mlh.Sync_Denied;case Vn.SYNC_FAILED:return me.Mlh.Sync_Failed;default:return me.Mlh.Unknown}}sendOwnershipSyncTelemetry(c,V){const oe=this.accountProviders.get(V);let fe=oe.isSynced?c?me.ZQU.Resync:me.ZQU.Sync:me.ZQU.AccountLinked;if(oe.reconnectReason)switch(oe.reconnectReason){case ti.onboardingReconnect:fe=me.ZQU.ReconnectForOnboarding;break;case ti.syncDenied:fe=me.ZQU.ReconnectAfterSyncDenied;break;case ti.reconnect:fe=me.ZQU.Reconnect}else if(oe.prevResyncReason)switch(oe.prevResyncReason){case ni.profileNotCreated:fe=me.ZQU.ResyncAfterProfileCreate;break;case ni.privateProfile:fe=me.ZQU.ResyncAfterResolve;break;case ni.syncFailed:fe=me.ZQU.ResyncAfterSyncFailed}const Ue=new me.kr1({userAction:fe,state:oe.isConnected?me.jzO.Connected:me.jzO.Disconnected,status:this.getGameSyncStatus(oe.state),serviceProviderName:V||"",totalNumberOfGfnSupportedGames:oe.numberOfSyncedGames,syncDate:oe.syncDate||""});this.telemetryService.push(Ue),oe.resetResyncReconnectReasons()}sendOwnershipDisconnectTelemetry(c){var V;const oe=this.accountProviders.get(c),fe=(null===(V=this.accountProviders.get(c))||void 0===V?void 0:V.syncDate)||"",Ue=new me.kr1({userAction:me.ZQU.Disconnect,state:me.jzO.Disconnected,status:me.Mlh.Sync_Success,serviceProviderName:c||"",totalNumberOfGfnSupportedGames:0,syncDate:fe});this.telemetryService.push(Ue),oe.resetResyncReconnectReasons()}navigateToAccountsSection(){this.syncCTATileClicked(),this.customLocationService.backNavigationRoute=this.router.url,this.cancelPendingCTA(),this.router.navigate([vn.nn.Settings],{skipLocationChange:!0,fragment:"settings_integrations"})}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(p.dF),i.LFG(Nt.VK),i.LFG($n.No),i.LFG(v.y0),i.LFG(p.OL),i.LFG(jt.gb),i.LFG(Kt.Dc),i.LFG(xo),i.LFG(Xn.zc),i.LFG(M.sK),i.LFG(rr.eP),i.LFG(Ln.F0),i.LFG(nr),i.LFG(ze.h),i.LFG(ys),i.LFG(Se.OA),i.LFG(Ar.nG),i.LFG(bi),i.LFG(Ns.pl),i.LFG(me.wU6),i.LFG(L.on))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Hs=e(26013),Ur=e(99923),Ro=(()=>((Ro||(Ro={})).denied="denied",Ro))(),Vi=(()=>{return(ce=Vi||(Vi={})).clientAddedData="CLIENT_ADDED_DATA",ce.clientRemovedData="CLIENT_REMOVED_DATA",ce.clientDataResponse="CLIENT_DATA_RESPONSE",ce.serverDataRequest="SERVER_DATA_REQUEST",Vi;var ce})();let Vs=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st){this.cloudVarService=V,this.settingsService=oe,this.bridgeService=fe,this.distributedTracingUtilService=Ue,this.telemetryUtilService=Ke,this.guestModeService=je,this.guestModeHelperService=st,this.detectClipboardChange=new Cn.X(!1),this.desktopPasteTelemetry={clientClipboardRead:me.wye.UNDEFINED,clipboardDataSent:me.wye.UNDEFINED,clipboardDataLength:0,streamSessionId:"",streamSubSessionId:"",requestId:""},this.isGuestAppFlow=!1,this.logger=c.getLogger("ClipboardService"),this.isGuestAppFlow=this.guestModeHelperService.isGuestAppFlow()}setDefaultClipboardSetting(){(0,ci.s)(()=>this.isGuestAppFlow,(0,Sn.aj)([this.guestModeService.isGuestFlowConfigFetched$,this.gxtClipboardPasteConfig()]),(0,Sn.aj)([(0,U.of)(null),this.gxtClipboardPasteConfig()])).pipe((0,r.q)(1),(0,Te.zg)(([c,V])=>{var oe,fe,Ue,Ke,je,st;return this.isGuestAppFlow&&(this.guestModeConfig=this.guestModeHelperService.getGuestModeConfig()),this.logger.info("Guest mode config for Paste: ",null===(fe=null===(oe=this.guestModeConfig)||void 0===oe?void 0:oe.igoSettings)||void 0===fe?void 0:fe.pasteDefaultOn," and Gxt config: ",V),null!=V&&V.isEnabled&&null!=V&&V.maxPasteBuffer?(this.isPasteFeatureOn=null==V?void 0:V.isEnabled,void 0!==(null===(Ke=null===(Ue=this.guestModeConfig)||void 0===Ue?void 0:Ue.igoSettings)||void 0===Ke?void 0:Ke.pasteDefaultOn)&&(this.isPasteFeatureOn=this.isPasteFeatureOn&&(null===(st=null===(je=this.guestModeConfig)||void 0===je?void 0:je.igoSettings)||void 0===st?void 0:st.pasteDefaultOn)),this.settingsService.getSettingsData().pipe((0,r.q)(1))):(this.logger.info("Skip default setting as clipboard paste disabled"),(0,U.of)(null))})).subscribe(c=>{var V;if(c&&!c.hasOwnProperty(jt.Bq.ClipboardPaste)){this.logger.info("Setting clipboard paste as enabled: ",this.isPasteFeatureOn," by default");const oe={settingType:jt.Bq.ClipboardPaste,selectedOption:null===(V=this.isPasteFeatureOn)||void 0===V||V};this.settingsService.storeChangedSettings(oe)}})}init(){return this.detectClipboardChange||(this.detectClipboardChange=new Cn.X(!1)),this.detectClipboardChange.asObservable().pipe((0,Te.zg)(()=>this.clipboardFeatureConfig()),(0,Te.zg)(c=>null!==c?c.isEnabled&&c.maxPasteBuffer?this.readText().pipe((0,wt.U)(V=>this.getTextContent(V,c.maxPasteBuffer)),(0,Te.zg)(V=>this.sendClientDataAvailable(!!V))):(this.logger.info("Clipboard paste feature not enabled due to user settings"),(0,U.of)(!1)):(this.logger.info("Clipboard paste feature not enabled"),this.detectClipboardChange.complete(),this.detectClipboardChange=null,ji.E)),(0,vt.K)(c=>(this.logger.error("Error while sending clipboard availability",c),(0,U.of)(!1))))}setStreamingIds(c,V){this.desktopPasteTelemetry.streamSessionId=c,this.desktopPasteTelemetry.streamSubSessionId=V}sendClientDataAvailable(c){var V;this.clipboardAvailableSpan=this.distributedTracingUtilService.startSpan(Kt.j1.ClientClipboardAvailable);const oe=[],fe=this.distributedTracingUtilService.inject(this.clipboardAvailableSpan);null===(V=Object.keys(fe))||void 0===V||V.forEach(st=>{oe.push({key:st,value:fe[st]})});const Ue={messageType:Gn.wM.paste,pasteData:{type:c?Vi.clientAddedData:Vi.clientRemovedData},tracingData:{traceId:this.clipboardAvailableSpan.spanContext().traceId,traceContext:oe}},Ke=JSON.stringify(Ue);return this.logger.info("Sending clipboard data available type",Ue.pasteData.type),this.bridgeService.executeCommand(Bt.Gh.Gfn.Streaming.SendClipboardUpdate,{clipboardInfo:Ke},!1).pipe((0,Pe.b)(st=>{this.distributedTracingUtilService.closeSpan(this.clipboardAvailableSpan),this.logger.info("Clipboard available data sent",st)}),(0,vt.K)(()=>(this.logger.error("Bridge command for SendClipboardUpdate failed"),this.distributedTracingUtilService.closeSpan(this.clipboardAvailableSpan),(0,U.of)(!1))))}sendClipboardContentInternal(c,V,oe){var fe,Ue;const Ke=V.spanContext().traceId,je=[],st=this.distributedTracingUtilService.inject(V);null===(fe=Object.keys(st))||void 0===fe||fe.forEach(Yt=>{je.push({key:Yt,value:st[Yt]})});const Ot={messageType:Gn.wM.paste,pasteData:{type:c?Vi.clientDataResponse:Vi.clientRemovedData},tracingData:{requestId:oe,traceId:Ke,traceContext:je}};c&&(Ot.pasteData.data=c);const At={clipboardInfo:JSON.stringify(Ot)};return this.logger.info("Sending clipboard data type",Ot.pasteData.type),this.desktopPasteTelemetry.clipboardDataLength=null!==(Ue=null==c?void 0:c.length)&&void 0!==Ue?Ue:0,this.desktopPasteTelemetry.clipboardDataSent=this.desktopPasteTelemetry.clientClipboardRead===me.wye.FALSE?me.wye.UNDEFINED:c?me.wye.TRUE:me.wye.FALSE,this.desktopPasteTelemetry.requestId=oe,this.bridgeService.executeCommand(Bt.Gh.Gfn.Streaming.SendClipboardUpdate,At,!1)}readText(){return navigator.clipboard?(0,Un.D)(navigator.clipboard.readText()).pipe((0,vt.K)(c=>(this.logger.info(`Clipboard readText: ${c}`),(0,U.of)(null)))):(this.logger.warn("navigator.clipboard is undefined, readText() probably is being used in non secure context."),(0,U.of)(null))}sendClipboardData(c){var V;const oe={};null===(V=null==c?void 0:c.traceContext)||void 0===V||V.forEach(Ue=>{oe[Ue.key]=Ue.value});const fe=this.distributedTracingUtilService.startSpanUsingContext(Kt.j1.ClientDesktopPaste,oe);this.clipboardFeatureConfig().pipe((0,r.q)(1),(0,Te.zg)(Ue=>null!==Ue?(this.desktopPasteTelemetry.clientClipboardRead=Ue.maxPasteBuffer?me.wye.TRUE:me.wye.FALSE,Ue.isEnabled&&Ue.maxPasteBuffer?this.readText().pipe((0,wt.U)(Ke=>this.getTextContent(Ke,Ue.maxPasteBuffer)),(0,Te.zg)(Ke=>this.sendClipboardContentInternal(Ke,fe,null==c?void 0:c.requestId))):(this.logger.info("Clipboard paste feature disabled due to user settings"),this.sendClipboardContentInternal(null,fe,null==c?void 0:c.requestId))):(this.logger.info("Clipboard paste feature disabled"),this.sendClipboardContentInternal(null,fe,null==c?void 0:c.requestId)))).subscribe(Ue=>{this.distributedTracingUtilService.closeSpan(fe),this.logger.info("Clipboard data sent",Ue),this.telemetryUtilService.sendClipboardPasteEvent(this.desktopPasteTelemetry)},Ue=>{this.distributedTracingUtilService.setSpanAttribute(fe,Kt.NI.Error,!0),this.distributedTracingUtilService.closeSpan(fe),this.logger.error("Error sending custom Message")})}gxtClipboardPasteConfig(){return this.cloudVarService.getFeatureToggle(Ur._P.CLIPBOARD_PASTE_FEATURE_CONFIG,{configCheckEnabled:!1})}willBeEnabledOnStreamStart(){return this.clipboardFeatureConfig().pipe((0,wt.U)(c=>{var V;return null!==(V=null==c?void 0:c.isEnabled)&&void 0!==V&&V}),(0,r.q)(1))}clipboardFeatureConfig(){return this.gxtClipboardPasteConfig().pipe((0,r.q)(1),(0,Te.zg)(c=>null!=c&&c.isEnabled&&null!=c&&c.maxPasteBuffer?this.checkReadPermissions().pipe((0,Te.zg)(V=>{const oe={isEnabled:!1,maxPasteBuffer:0};return V!==Ro.denied?this.settingsService.getSettingsData().pipe((0,wt.U)(fe=>null!=fe&&fe.clipboardPaste?c:oe)):(0,U.of)(oe)})):(0,U.of)(null)))}checkReadPermissions(){const c={name:"clipboard-read"};try{return(0,Un.D)(navigator.permissions.query(c)).pipe((0,wt.U)(V=>V.state),(0,vt.K)(V=>(this.logger.error("Error reading clipboard permissions",V),(0,U.of)(Ro.denied))))}catch{return this.logger.error("Error while reading browser clipboard permissions"),(0,U.of)(Ro.denied)}}getTextContent(c,V){return new Blob([c]).size<=V?c:(this.logger.warn("Invalid text on clipboard"),null)}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Ur.$l),i.LFG(jt.gb),i.LFG(p.dF),i.LFG(Kt.Dc),i.LFG(me.wU6),i.LFG(ze.o),i.LFG(ze.h))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Ss=e(11688);let Ws=(()=>{class ce{constructor(c,V,oe){this.gamepadService=V,this.ngZone=oe,this.logger=c.getLogger("GamepadNavigationService")}initialize(){this.logger.info("Initializing gamepad navigation"),this.bindCommand("ArrowUp",this.gamepadService.upPressed$),this.bindCommand("ArrowDown",this.gamepadService.downPressed$),this.bindCommand("ArrowLeft",this.gamepadService.leftPressed$),this.bindCommand("ArrowRight",this.gamepadService.rightPressed$),this.bindCommand("Enter",this.gamepadService.onButtonPressed$(Ss.z8.A,{repeat:!0}),{synthesizeClick:!0}),this.bindCommand("Escape",this.gamepadService.onButtonPressed$(Ss.z8.B,{repeat:!0}))}bindCommand(c,V,oe){const fe=!(null==oe||!oe.synthesizeClick);let Ke,Ue=!1;this.ngZone.runOutsideAngular(()=>{V.pipe((0,Pe.b)(je=>{const st=(0,g.tE)(),Ot=st instanceof HTMLButtonElement||st instanceof HTMLAnchorElement&&st.hasAttribute("href");fe&&je&&Ot&&(Ke=st)}),(0,Dn.w)(je=>je?(0,U.of)("keydown"):Ue?(0,U.of)("keyup"):$i.C)).subscribe(je=>{const st=(0,g.tE)();(0,g.a9)(st,je,c),Ue="keydown"===je,fe&&"keyup"===je&&Ke===st&&((0,g.tr)(st),Ke=void 0)})})}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(Ss.Se),i.LFG(i.R0b))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Es=e(30613),rr=e(80956);let zs=(()=>{class ce{constructor(c,V){this.localeService=V,this.logger=c.getLogger("gfn/RedirectService")}getLocalizedDate(c,V=null){return this.localeService.localeChanged.pipe((0,r.q)(1),(0,Te.zg)(oe=>{const fe=new Date(c);if(isNaN(fe.getTime()))return(0,at._)("Invalid Date");const Ue=oe.replace("_","-");V||(V={day:"numeric",month:"long",year:"numeric"});const Ke=`${fe.toLocaleDateString(Ue,V)}`;return(0,U.of)(Ke)}),(0,vt.K)(oe=>(this.logger.info("Error while localizing date ",oe),(0,at._)(oe))))}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(p.ed),i.LFG(p.OL))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();var Ks=e(18087),$s=e(28985);let Ys=(()=>{class ce{constructor(c,V,oe,fe,Ue,Ke,je,st,Ot){var Lt,At,Yt;this.settingsService=c,this.externalJsLoadService=V,this.browserSupportService=oe,this.appConfig=fe,this.remoteConfigService=Ue,this.localeService=Ke,this.guestModeHelperService=je,this.ecommerceService=st,this._udsSuggestionsShown=!1,this.logger=Ot.getLogger("UdsHelperService"),this.udsBundlePath=null!==(Lt=this.appConfig)&&void 0!==Lt&&Lt.udsConfig.cdnPathIsRelative?this.browserSupportService.getHostBranchName()+(null===(At=this.appConfig)||void 0===At?void 0:At.udsConfig.cdnPath):null===(Yt=this.appConfig)||void 0===Yt?void 0:Yt.udsConfig.cdnPath}get udsSuggestionsShown(){return this._udsSuggestionsShown}set udsSuggestionsShown(c){this._udsSuggestionsShown=c}get snoozeDurationInDays(){return this._snoozeDurationInDays}set snoozeDurationInDays(c){this._snoozeDurationInDays=c}get elapsedTimeInDays(){return this._elapsedTimeInDays}set elapsedTimeInDays(c){this._elapsedTimeInDays=Math.max(0,Math.floor(c/86400))}get sessionDurationInMinsForUDS(){return this._sessionDurationInMins}set sessionDurationInMinsForUDS(c){this._sessionDurationInMins=c/60}isGapSinceEntitlementAllowed(c,V){if(!V)return this.logger.info("firstEntitlementStartDateTime from GES is empty/null"),!1;const fe=86400*c,Ue=(new Date).getTime(),Ke=new Date(V).getTime(),je=Math.max(0,Math.floor((Ue-Ke)/1e3));return this.logger.info("elapsedTime since firstEntitlement",je),this.elapsedTimeInDays=je,je<=fe}canEnableUDSFeature(){return this.guestModeHelperService.isGuestMode?(0,U.of)(!1):(0,Sn.aj)([this.remoteConfigService.remoteConfigFetched$,this.localeService.localeChanged,this.ecommerceService.getUserMembership()]).pipe((0,r.q)(1),(0,wt.U)(([c,V,oe])=>{var fe,Ue,Ke,je,st,Ot;this.snoozeDurationInDays=null===(fe=c.config)||void 0===fe?void 0:fe.udsConfig.snoozeDurationInDays;let Lt=null===(Ue=c.config)||void 0===Ue?void 0:Ue.udsConfig.canEnableUI;return Lt=Lt&&(null===(je=null===(Ke=c.config)||void 0===Ke?void 0:Ke.udsConfig.supportedLocales)||void 0===je?void 0:je.includes(V))&&this.isGapSinceEntitlementAllowed(null===(st=c.config)||void 0===st?void 0:st.udsConfig.allowedGapSinceEntitlementInDays,null===(Ot=oe.subscription)||void 0===Ot?void 0:Ot.firstEntitlementStartDateTime),this.logger.info("canEnableUDSUI flag",Lt),Lt}),(0,vt.K)(c=>(this.logger.error("Error while fetching UDS remote config",c),(0,U.of)(!1))))}shouldShowUDSDialog(c){return(0,Sn.aj)([this.remoteConfigService.remoteConfigFetched$,this.canEnableUDSFeature()]).pipe((0,r.q)(1),(0,wt.U)(([V,oe])=>{var fe;this.logger.info("Session duration ",c);const Ue=oe&&c>=(null===(fe=V.config)||void 0===fe?void 0:fe.udsConfig.minSessionDurationForUDS);return this.sessionDurationInMinsForUDS=c,this.logger.info("showUDSDialog flag ",Ue),Ue}),(0,vt.K)(V=>(this.logger.error("Error in shouldShowUDSDialog",V),(0,U.of)(!1))))}snoozeUDS(){var c;const V=null!==(c=24*this.snoozeDurationInDays*60*60*1e3)&&void 0!==c?c:0,oe={settingType:jt.Bq.UdsSnoozeStopDateTime,selectedOption:new Date(Date.now()+V).toISOString()};this.settingsService.storeChangedSettings(oe)}isUdsSnoozed(){var c;return null!==(c=this.appConfig.udsConfig)&&void 0!==c&&c.disableSnooze?(0,U.of)(!1):this.settingsService.getSettingsData().pipe((0,wt.U)(V=>{if(null!=V&&V.udsSnoozeStopDateTime){const oe=new Date(V.udsSnoozeStopDateTime).getTime();if((new Date).getTime()<oe)return!0}return!1}))}loadUdsJsBundle(){return this.udsBundlePath&&this.externalJsLoadService.isScriptLoaded(this.udsBundlePath)?(0,U.of)(!0):(0,Sn.aj)([this.canEnableUDSFeature(),this.isUdsSnoozed()]).pipe((0,r.q)(1),(0,Te.zg)(([c,V])=>(this.logger.info("isUdsSnoozed",V),c&&!V?this.externalJsLoadService.loadJSWithRetry(this.udsBundlePath,this.appConfig.udsConfig.jsLoadConfig):(0,U.of)(!1))),(0,vt.K)(c=>(this.logger.error("Error in loading UDS js bundle from CDN",c),(0,U.of)(!1))))}unloadUdsJsBundle(){this.externalJsLoadService.unloadJS(this.udsBundlePath),delete window.uds}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(jt.gb),i.LFG($s.Z),i.LFG(wn.OA),i.LFG(Nt.VK),i.LFG(It.s),i.LFG(p.OL),i.LFG(ze.h),i.LFG(An.BH),i.LFG(p.ed))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const Fr="fullscreen",bs="apple-translucent-bar",js=new Jt.b("2.0.56.999");let xs=(()=>{class ce{constructor(c,V,oe,fe,Ue){var Ke;this.meta=c,this.pwaService=oe,this.updateService=fe,this.fullscreenSubject=new Cn.X(!1),this.fullscreenState$=this.fullscreenSubject.asObservable(),this._enableTranslucentStatusBar=!1,this.logger=V.getLogger("AppleScreenService"),this.bodyClassList=document.body.classList,this.isTranslucentStatusBar=this.checkTranslucentStatusBarApplied(),this._enableTranslucentStatusBar=!(null===(Ke=Ue.featureEnablement)||void 0===Ke||!Ke.enableAppleTranslucentStatusBar)&&this.isTranslucentStatusBar}get enableTranslucentStatusBar(){return this._enableTranslucentStatusBar}get fullscreen(){return this.fullscreenSubject.getValue()}set fullscreen(c){this.isTranslucentStatusBar&&(this.fullscreenSubject.next(c),c?this.bodyClassList.contains(Fr)||this.bodyClassList.add(Fr):this.bodyClassList.contains(Fr)&&this.bodyClassList.remove(Fr))}applyAppleTranslucentBarStyle(){this.bodyClassList.contains(bs)||this.bodyClassList.add(bs)}checkTranslucentStatusBarApplied(){const c=this.meta.getTag('name="apple-mobile-web-app-status-bar-style"');return"black-translucent"===(null==c?void 0:c.content)}isDeprecated(){return this.updateService.getInitialVersion().pipe((0,wt.U)(c=>c.compareMajorVersion(js)!==Jt.A.Lesser))}initialize(){if(this.pwaService.isInPWAMode()){if(!this.isTranslucentStatusBar)return void this.logger.warn("Translucent Status Bar is not enabled on this Apple device");this.isDeprecated().subscribe(c=>{c?this._enableTranslucentStatusBar=!1:this.applyAppleTranslucentBarStyle()})}}}return ce.\u0275fac=function(c){return new(c||ce)(i.LFG(Bi.h_),i.LFG(p.ed),i.LFG(Ar.nG),i.LFG(He),i.LFG(Nt.VK))},ce.\u0275prov=i.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},30610:(Ge,ae,e)=>{"use strict";e.d(ae,{c:()=>B,$:()=>Y});var t=e(64542),n=e(21361),x=e(64710),M=e(97483),L=e(96671),p=e(59562),P=e(38449),a=e(47504),o=e(23815),v=e(2629),y=e(89258),C=e(71265),A=e(33932),d=e(98949),m=e(87727),S=e(42423);const s=new Map([[15867909,S.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]]);var r=e(39609),l=e(39103),i=e(69060);const O=n.Gh.Gfn.Streaming;let Y=(()=>{class K extends x.q9{constructor(f,D,I,w,_,$,G){super(),this.zone=f,this.loggingService=D,this.libLoggingService=I,this.projectInterfaceService=w,this.distributedTracing=_,this.deeplinkHelperService=$,this.androidHelperService=G,this.ragnarokCodesNotificationMap=new Map,this.streamingProfileGuid="",this.systemInfoGuid="",this.gridSession=void 0,this.configureStreamingSettingsParameters={},this.hdrStreaming=!1,this.logger=D.getLogger("crimson/android/streaming-plugin"),this.gridServerAnalyticsEvent=new L.xQ,this.streamingEventsSubject=new L.xQ,this.gridServer=new t.GridServer}get handlers(){return{module:O.Start.module,commands:{[O.Start.method]:this.start.bind(this),[O.Prepare.method]:this.prepare.bind(this),[O.SetAuthInfo.method]:this.setAuthInfo.bind(this),[O.SetAuthToken.method]:this.setAuthToken.bind(this),[O.Stop.method]:this.stop.bind(this),[O.GetActiveSessions.method]:this.getActiveSessions.bind(this),[O.GetSessionInfo.method]:this.getSessionInfo.bind(this),[O.Resume.method]:this.resume.bind(this),[O.PauseStreaming.method]:this.pauseStreaming.bind(this),[O.RegisterCallback.method]:this.registerCallback.bind(this),[O.ConfigureStreamingSettings.method]:this.ConfigureStreamingSettings.bind(this),[O.GetUnifiedAPIVersion.method]:this.GetUnifiedAPIVersion.bind(this),[O.PlatformGetMaxBitRateForArray.method]:this.platformGetMaxBitRateForArray.bind(this),[O.VsyncToggle.method]:this.isVsyncToggleSupported.bind(this),[O.RegisterGridServerAnalyticsCallback.method]:this.registerGridServerAnalyticsCallback.bind(this),[O.OpenOsr.method]:this.winOpenOsr.bind(this),[O.CloseOsr.method]:this.winCloseOsr.bind(this),[O.UpdateRemoteConfig.method]:this.notImplemented.bind(this),[O.OsrRegisterCustomKeyPress.method]:this.notImplemented.bind(this),[O.OsrUnregisterCustomKeyPress.method]:this.notImplemented.bind(this),[O.OsrRegisterKeyPressCallback.method]:this.notImplemented.bind(this),[O.OsrSetOverlayResolution.method]:this.notImplemented.bind(this),[O.GetStreamVolume.method]:this.notImplemented.bind(this),[O.SetStreamVolume.method]:this.notImplemented.bind(this),[O.ToggleUserInput.method]:this.notImplemented.bind(this),[O.SendUnicode.method]:this.notImplemented.bind(this),[O.SetVirtualKeyboardState.method]:this.notImplemented.bind(this),[O.Cancel.method]:this.notImplemented.bind(this),[O.SetVideoTransforms.method]:this.notImplemented.bind(this),[O.RegisterMicCallback.method]:this.notImplemented.bind(this),[O.GetMicState.method]:this.notImplemented.bind(this),[O.SetMicState.method]:this.notImplemented.bind(this),[O.OsrCheckKeyPressCombination.method]:this.notImplemented.bind(this),[O.SetKeyboardLayout.method]:this.notImplemented.bind(this),[O.UpdateEventInfoGuids.method]:this.updateEventInfoGuids.bind(this),[O.ToggleJoystickMouse.method]:this.notImplemented.bind(this),[O.UpdateEventDataElements.method]:this.notImplemented.bind(this),[O.ToggleOnScreenStats.method]:this.notImplemented.bind(this),[O.SendClipboardUpdate.method]:this.notImplemented.bind(this),[O.SendKeyEvent.method]:this.notImplemented.bind(this),[O.CalculateDataUsage.method]:this.CalculateDataUsage.bind(this)}}}buildRagnarokErrorMap(f,D){d.Y.forEach((I,w)=>this.ragnarokCodesNotificationMap.set(w,I)),s.forEach((I,w)=>this.ragnarokCodesNotificationMap.set(w,I))}onSessionStartResult(f){var D,I,w;if(this.logger.info("callback onSessionStartResult called with eventData, ",f),this.sessionStartCalled=!0,f.sessionId&&(null===(D=this.sessionIdSubject)||void 0===D||D.next(f.sessionId)),f.error){null===(I=this.sessionIdSubject)||void 0===I||I.complete(),this.sessionIdSubject=null;const _=null===(w=f.error)||void 0===w?void 0:w.code;if(15867905===_||15867906===_)return}this.streamingEventsSubject.next(m.d.createSessionStartResult(f,this.ragnarokCodesNotificationMap,this.logger)),f.error||this.streamingEventsSubject.next(JSON.stringify({event:S.V4.STREAMING_BEGIN}))}onSessionFirstFrameResult(f){var D;this.logger.info("callback onSessionFirstFrameResult called with eventData, ",f),f.error&&(null===(D=this.sessionIdSubject)||void 0===D||D.complete(),this.sessionIdSubject=null),this.streamingEventsSubject.next(m.d.createSessionStartResult(f,this.ragnarokCodesNotificationMap,this.logger)),f.error||this.streamingEventsSubject.next(JSON.stringify({event:S.V4.STREAMING_FIRST_FRAME}))}onSessionStopResult(f){var D;this.logger.info("callback onSessionStopResult called with result, ",f),null===(D=this.sessionIdSubject)||void 0===D||D.complete(),this.sessionIdSubject=null,this.streamingEventsSubject.next(m.d.createSessionStopResult(f,this.ragnarokCodesNotificationMap))}onGetSessionResult(f){this.logger.info("callback onGetSessionResult called with result, ",f),this.streamingEventsSubject.next(m.d.createGetSessionResult(f,this.ragnarokCodesNotificationMap,this.logger))}onStreamStopped(f,D){this.logger.info("callback onStreamStopped called with eventData object, ",f);const I={event:S.V4.STREAMING_TERMINATED,extendedCode:0,postSessionConfiguration:D};I.reason=f.isResumable?S.Y6.NVB_SN_PAUSED_BY_USER:S.Y6.NVB_SN_STOPPED_BY_USER,I.isResumable=f.isResumable,this.streamingEventsSubject.next(JSON.stringify(I))}onGsActiveSessionsResult(f){this.logger.info("onGsActiveSessionsResult",f),this.logger.info("callback onGsActiveSessionsResult called from GridServer with result, ",f);const D={event:S.V4.ACTIVE_SESSIONS,result:{extendedError:[],requestId:1,result:0},sessions:m.d.mapActiveSessionInfoToSession(f.sessionList,this.logger)};f.error&&(D.result.result=this.ragnarokCodesNotificationMap.get(f.error.code)||f.error.code),this.streamingEventsSubject.next(JSON.stringify(D))}onGsProgressUpdate(f){var D;this.logger.info("onGsProgressUpdate",f);const I={sessionId:f.sessionId,subSessionId:f.subSessionId,queuePosition:f.queuePosition,eta:f.eta,state:f.state};I.sessionId&&(null===(D=this.sessionIdSubject)||void 0===D||D.next(I.sessionId)),this.streamingEventsSubject.next(m.d.createProgressUpdateEvent(I))}onGsLogEvent(f){this.libLoggingService.sendLog({logLevel:f.logLevel,logStr:f.logstr,logTag:f.logtag,timeStamp:f.timeStamp})}onGsTelemetryEvent(f){this.logger.info("Dispatching GridServer telemetry event "+JSON.stringify(f)),this.gridServerAnalyticsEvent.next(JSON.stringify(f))}onNativeResponseStreamStopped(f,D,I){this.nativeStreamingInvoked=!1,this.onStreamStopped(f,I),this.logger.info("onNativeResponseStreamStopped: ",this.gridSession),this.logger.info("onNativeResponseStreamStopped: ",f),this.logger.info("onNativeResponseStreamStopped: ",D),void 0===this.gridSession?(this.logger.info("grid server cancelSessionSetup"),this.gridServer.cancelSessionSetup(),this.onSessionStopResult(D)):f.isResumable||(this.logger.info("sendDeleteRequest from onNativeResponseStreamStopped:",D.sessionId),this.distributedTracing.runWithinSpanContext(this.streamingSpanData,()=>{this.gridServer.sendDeleteRequest(D.sessionId).then(()=>{this.logger.info("Successfully sent session delete Request to server. ",D.sessionId);const w={sessionId:D.sessionId,subSessionId:D.subSessionId};this.gridSession=void 0,this.onSessionStopResult(w)},w=>{this.logger.info("sending session delete request failed.. ",D.sessionId),this.onSessionStopResult({sessionId:D.sessionId,subSessionId:D.subSessionId,error:w})})}))}onNativeResponseSystemInfo(f,D){var I;const w=new Map;let _,$;null===(I=D.clientHeaders)||void 0===I||I.forEach(Z=>{w.set(Z.headerName,Z.headerValue)}),this.buildRagnarokErrorMap("Android",f.OSVersion),this.deeplinkHelperService.windowedMode&&(_=Object.assign(Object.assign({},t.defaultInputConfigFlags),{cursorType:2})),$=x.ng.isTouchPlatform()?"Android-Generic-Touch":"Android-Generic-TV";const G="GFN-PC/"+t.CLIENT_VERSION,J={clientIdentification:G,clientVersion:t.CLIENT_VERSION,clientAppVersion:D.clientAppVersion,deviceHashId:D.deviceId,serverAddress:D.address,clientPlatformName:$,clientType:"NATIVE",appUserAgent:G,deviceOs:"ANDROID",deviceOsVer:f.OSVersion,deviceType:this.mapDeviceTypeFromSystemInfo(f.DeviceType),deviceMake:f.Make,deviceModel:f.Model,acceptLanguage:f.UserDefaultUILanguage,ecomEnabled:"true",clientStreamer:"NVIDIA-CLASSIC",clientId:"ec7e38d4-03af-4b58-b131-cfb0495903ab",authTokenCallback:Z=>this.zone.run(()=>this.generateAuthToken(Z)),clientHeaders:w};this.gridServer.uninitialize(),this.gridServer=new t.GridServer,this.gridSession=void 0,this.sessionIdSubject=new p.t(1),this.logger.info("grid server initialize"),this.gridServer.addListener("ActiveSessionsResult",this.onGsActiveSessionsResult.bind(this)),this.gridServer.addListener("ProgressUpdate",this.onGsProgressUpdate.bind(this)),this.gridServer.updateTelemetryEventIds({systemInfoGuid:this.systemInfoGuid}),this.gridServer.addListener("TelemetryEvent",this.onGsTelemetryEvent.bind(this)),this.gridServer.addListener("Log",this.onGsLogEvent.bind(this)),this.gridServer.initialize(J),this.logger.info("Initialize GridServer complete"),this.initializeGridServerSubject.next({success:!0,code:200}),this.initializeGridServerSubject.complete()}generateAuthToken(f){return this.logger.info("callback generateAuthToken called from nvrtc"),this.streamingEventsSubject.next(JSON.stringify({event:S.V4.UPDATE_AUTH_TOKEN,spanData:f})),this.authTokenSubject=new L.xQ,this.authTokenSubject.toPromise()}startStream(f,D,I){this.logger.info("startStream:",f),I&&this.logger.info("resume case");const w=this.getNativeStreamingParams(f,I),_=this.makeFullBridgeCommand(n.Gh.Gfn.Streaming.LaunchNativeStreamer,w,"QUERY_IPC_EXTENSION_MESSAGE"!==n.Gh.Gfn.Streaming.LaunchNativeStreamer.legacyCommand);this.logger.info("startStream android command params:"+JSON.stringify(_)),this.destroyed||(this.androidHelperService.executeCommandNative(_,!0,!0).subscribe(G=>{const F=JSON.parse(G.response),J=this.getStream();if("com.nvidia.geforcenow.action.STREAMING_STARTED"===F.event){const z={sessionId:F.sessionId,subSessionId:F.subSessionId,isResume:!1,streams:J,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionStartResult(z)}else if("com.nvidia.geforcenow.action.STREAMING_FIRST_FRAME"===F.event){const z={sessionId:F.sessionId,subSessionId:F.subSessionId,isResume:!1,streams:J,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionFirstFrameResult(z)}else if("com.nvidia.geforcenow.action.STREAMING_RESUMED"===F.event){const z={sessionId:F.sessionId,subSessionId:F.subSessionId,isResume:!0,streams:J,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};this.onSessionStartResult(z)}else if("com.nvidia.geforcenow.action.STREAMING_PAUSED"===F.event)this.onSessionStopResult({sessionId:F.sessionId,subSessionId:F.subSessionId});else if("com.nvidia.geforcenow.action.STREAMING_STOPPED"===F.event){this.logger.info("session start called: ",this.sessionStartCalled);const z={sessionId:F.sessionId,subSessionId:F.subSessionId},Z={sessionId:F.sessionId,subSessionId:F.subSessionId,error:{code:F.errorCode},isResumable:F.isResumable,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress()};this.onNativeResponseStreamStopped(Z,z,F.postSessionConfiguration)}},G=>{var F,J,z,Z,ue,u,k,W,N,H;this.logger.info(" callback error. Send back error:");const h={sessionId:null!==(J=null===(F=this.gridServer)||void 0===F?void 0:F.getSessionId())&&void 0!==J?J:"",subSessionId:null!==(Z=null===(z=this.gridServer)||void 0===z?void 0:z.getSubSessionId())&&void 0!==Z?Z:"",isResume:I,error:{code:3237089284,description:G.errorMessage},zoneName:null!==(u=null===(ue=this.gridServer)||void 0===ue?void 0:ue.getZoneName())&&void 0!==u?u:"",zoneAddress:null!==(W=null===(k=this.gridServer)||void 0===k?void 0:k.getZoneAddress())&&void 0!==W?W:"",gpuType:null!==(H=null===(N=this.gridServer)||void 0===N?void 0:N.getGpuType())&&void 0!==H?H:""};this.onSessionStartResult(h)},()=>{this.logger.info(" callback complete")}),this.nativeStreamingInvoked=!0)}getNativeStreamingParams(f,D){const I=new Array,w=new Array;this.logger.info("media connection info length:",this.gridSession.mediaConnectionInfo.length),this.gridSession.mediaConnectionInfo.forEach(z=>{typeof z<"u"&&(this.logger.info("media connection info usage:",z),w.push(z),I.push({ip:z.ip,port:z.port,protocol:z.protocol,usage:z.usage,appLevelProtocol:z.appLevelProtocol,resourcePath:z.resourcePath}))}),this.logger.info("signal connection info usage:",this.gridSession.signalConnectionInfo);const _=this.gridSession.streamInfo[0],$=_.width,G=_.height,F=_.fps;return this.logger.info("StreamInfo: ",_),{sessionType:D?"Resume":"Launch",cmsId:f.appId,appLaunchMode:f.appLaunchMode,maxLocalPlayers:this.extendedSessionStartParams.maxLocalPlayers,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),serverType:"GFN",accountLinked:this.extendedSessionStartParams.sessionStartParams.accountLinked,sessionId:this.gridSession.sessionId,subSessionId:this.gridSession.subSessionId,heroImage:this.extendedSessionStartParams.heroImage,gameDisplayOwnRating:this.extendedSessionStartParams.gameDisplayOwnRating,storeName:this.extendedSessionStartParams.storeName,appName:this.extendedSessionStartParams.appName,subscriptionLongDesc:this.extendedSessionStartParams.subscriptionLongDesc,providerName:this.extendedSessionStartParams.providerName,audioModeFormat:this.extendedSessionStartParams.sessionStartParams.requestedAudioFormat,serverLocation:this.extendedSessionStartParams.serverLocation,streamingProfile:{name:this.streamingProfile.name,description:this.streamingProfile.description,width:$,height:G,fps:F,maxBitrate:this.streamingProfile.maxBitrate,maxBitrateAuto:this.streamingProfile.maxBitrateAuto,dataUsage:this.streamingProfile.dataUsage,drc:this.streamingProfile.drc,vSync:this.streamingProfile.vSync,aspectRatio:this.streamingProfile.aspectRatio,maxPacketSize:this.streamingProfile.maxPacketSize,hdrStreaming:1===_.sdrHdrMode},contentRating:this.extendedSessionStartParams.contentRating,eventInfoGuids:{systemInfoGuid:this.systemInfoGuid,streamingProfileGuid:this.streamingProfileGuid},signalConnectionInfo:{ip:this.gridSession.signalConnectionInfo.ip,port:this.gridSession.signalConnectionInfo.port,protocol:this.gridSession.signalConnectionInfo.protocol},mediaConnectionInfo:I,configInfo:this.configureStreamingSettingsParameters,hostName:this.extendedSessionStartParams.hostName}}setupSession(f,D,I){var w,_,$,G,F,J,z,Z,ue,u;this.logger.info("setupSession");const k=f?2:0;try{if(this.gridServer&&this.extendedSessionStartParams.sessionStartParams){this.logger.info("calling setupSession:"+this.gridServer),this.logger.info(this.gridServer),this.logger.info(this.gridServer.getSessionId()),this.logger.info(this.gridServer.getSubSessionId()),this.logger.info(this.extendedSessionStartParams.sessionStartParams),this.logger.info(this.gridSession);let W=I;void 0!==this.gridSession&&(W=this.gridSession.sessionId),this.sessionRequestInProgress=!0,this.distributedTracing.runWithinSpanContext(D,()=>{this.gridServer.putOrPostSession(this.extendedSessionStartParams.sessionStartParams,k,W).then(N=>(this.gridSession=N,this.logger.info("gridSession:",this.gridSession),"ready_for_connection"===N.state?(this.logger.info("Session is ready for connection "),new Promise((h,E)=>{h(N)})):this.gridServer?(this.logger.info("session is not ready for connection"),this.gridServer.getSession(N.sessionId,!0)):void 0)).then(N=>{this.sessionRequestInProgress=!1,this.gridSession=N,this.logger.info("ready to start streaming"),this.startStream(this.extendedSessionStartParams.sessionStartParams,this.gridSession.sessionId,f)}).catch(N=>{var H,h,E,ee,R,q,ne,_e,U,re;this.sessionRequestInProgress=!1,this.logger.error("set up session error:",N),this.sessionIdSubject=void 0;let pe=!1;if(N.code){(15867905===N.code||15867906===N.code)&&(this.gridServer.getSessionId()&&(this.logger.info("sendDeleteRequest from session setup failure:",N.code),this.gridServer.sendDeleteRequest(this.gridServer.getSessionId()),this.gridSession=void 0),pe=!0),this.logger.error("session request failed:",N.code);const Pe={sessionId:this.gridServer.getSessionId(),subSessionId:this.gridServer.getSubSessionId(),isResume:f,error:N,sessionList:N.sessionList,zoneName:this.gridServer.getZoneName(),zoneAddress:this.gridServer.getZoneAddress(),gpuType:this.gridServer.getGpuType()};if(this.onSessionStartResult(Pe),pe){const Te={sessionId:W,subSessionId:this.gridServer.getSubSessionId()};this.onSessionStopResult(Te)}}else{this.logger.error("Exception case for set up failure");const Pe={sessionId:null!==(h=null===(H=this.gridServer)||void 0===H?void 0:H.getSessionId())&&void 0!==h?h:"",subSessionId:null!==(ee=null===(E=this.gridServer)||void 0===E?void 0:E.getSubSessionId())&&void 0!==ee?ee:"",isResume:f,error:{code:3237089284,description:"Quitting due to exception"},zoneName:null!==(q=null===(R=this.gridServer)||void 0===R?void 0:R.getZoneName())&&void 0!==q?q:"",zoneAddress:null!==(_e=null===(ne=this.gridServer)||void 0===ne?void 0:ne.getZoneAddress())&&void 0!==_e?_e:"",gpuType:null!==(re=null===(U=this.gridServer)||void 0===U?void 0:U.getGpuType())&&void 0!==re?re:""};this.onSessionStartResult(Pe)}})})}else this.logger.info("gridserver not initialized")}catch(W){this.logger.info("gridserver setup exception:",W),this.sessionRequestInProgress=!1;const N={sessionId:null!==(_=null===(w=this.gridServer)||void 0===w?void 0:w.getSessionId())&&void 0!==_?_:"",subSessionId:null!==(G=null===($=this.gridServer)||void 0===$?void 0:$.getSubSessionId())&&void 0!==G?G:"",isResume:f,error:{code:3237089284,description:"Quitting due to exception"},zoneName:null!==(J=null===(F=this.gridServer)||void 0===F?void 0:F.getZoneName())&&void 0!==J?J:"",zoneAddress:null!==(Z=null===(z=this.gridServer)||void 0===z?void 0:z.getZoneAddress())&&void 0!==Z?Z:"",gpuType:null!==(u=null===(ue=this.gridServer)||void 0===ue?void 0:ue.getGpuType())&&void 0!==u?u:""};this.onSessionStartResult(N)}}startInternal(f){this.logger.info("startInternalAfterInitialization Android plugin");const I=this.makeFullBridgeCommand(n.Gh.Gfn.Streaming.GetHighestSupportedAudioFormat,{audioFormat:f.payload.audioModeFormat},"QUERY_IPC_EXTENSION_MESSAGE"!==n.Gh.Gfn.Streaming.GetHighestSupportedAudioFormat.legacyCommand);return this.androidHelperService.executeCommandNative(I,!1,!0).pipe((0,v.q)(1),(0,y.U)(w=>{const _=JSON.parse(w.response);this.populateParams(f,_);const $=f.payload.session;return this.logger.info("startInternal Android plugin:",$),$?this.setupSession(!0,f.payload.spanData,$):(this.sessionIdSubject=new p.t(1),this.streamingSpanData=f.payload.spanData,this.setupSession(!1,f.payload.spanData),this.logger.info("session done")),{success:!0,code:200,data:"true"}}))}populateParams(f,D){var I;const w={widthInPixels:f.payload.streamingProfile.width,heightInPixels:f.payload.streamingProfile.height,framesPerSecond:f.payload.streamingProfile.fps,sdrHdrMode:this.hdrStreaming?1:0},_=new Array;_.push(w);const $=f.payload.metaData;$.surroundAudioInfo=String(D);let G=null===(I=f.payload)||void 0===I?void 0:I.appLaunchMode;(!G||G===M.xld.Default)&&(G=M.xld.GamepadFriendly);const F={appId:f.payload.appId.toString(),monitorSettings:_,appLaunchMode:m.d.mapStringToAppLaunchMode(G,this.logger),streamParams:[{width:f.payload.streamingProfile.width,height:f.payload.streamingProfile.height,fps:f.payload.streamingProfile.fps,maxBitrateKbps:f.payload.streamingProfile.maxBitrate,videoTagId:"remote-video",audioTagId:"remote-audio"}],metaData:$,allowKeyboardLayoutChange:f.payload.allowKeyboardLayoutChange,keyboardLayout:f.payload.keyboardLayout,clientLocale:f.payload.locale,accountLinked:f.payload.accountLinked,shortName:f.payload.gameShortName,networkSessionId:f.payload.networkSessionId,partnerCustomData:f.payload.partnerCustomData,enablePersistingInGameSettings:f.payload.persistingInGameSettings,requestedAudioFormat:D};this.streamingProfile=f.payload.streamingProfile,this.extendedSessionStartParams={sessionStartParams:F,maxLocalPlayers:f.payload.maxLocalPlayers,appName:f.payload.appName,contentRating:f.payload.contentRating,heroImage:f.payload.heroImage,gameDisplayOwnRating:f.payload.gameDisplayOwnRating,storeName:f.payload.storeName,subscriptionLongDesc:f.payload.subscriptionLongDesc,providerName:f.payload.providerName,hostName:f.payload.zoneName,networkSessionId:f.payload.networkSessionId,serverLocation:f.payload.serverLocation},this.logger.info("startInternal GFN streamer start:",F)}start(f){return this.logger.info("start android plugin"),this.sessionStartCalled=!1,this.zone.runOutsideAngular(()=>this.startInternal(f))}prepareInternal(f){var D,I;this.logger.info("prepareInternal android plugin"),this.initializeGridServerSubject=new P.c;const w=this.makeFullBridgeCommand(n.Gh.Common.Systeminfo.GetSystemInfo,void 0,"QUERY_IPC_EXTENSION_MESSAGE"!==n.Gh.Common.Systeminfo.GetSystemInfo.legacyCommand),_=this.makeFullBridgeCommand(n.Gh.Gfn.Streaming.IsPlatformSupportsHDRStreaming,void 0,"QUERY_IPC_EXTENSION_MESSAGE"!==n.Gh.Gfn.Streaming.IsPlatformSupportsHDRStreaming.legacyCommand);return this.destroyed||(this.logger.info("hdr is ",null===(D=f.payload.streamingProfile)||void 0===D?void 0:D.hdrStreaming),null!==(I=f.payload.streamingProfile)&&void 0!==I&&I.hdrStreaming?(0,a.aj)([this.androidHelperService.executeCommandNative(w,!1,!0),this.androidHelperService.executeCommandNative(_,!1,!0)]).pipe((0,v.q)(1)).subscribe(([$,G])=>{const F=JSON.parse(G.response);this.hdrStreaming=F.supportsHdrDecode&&F.supportsHdrRendering,this.onNativeResponseSystemInfo(JSON.parse($.response),f.payload)},$=>(this.logger.error("Error in getSystemInfo",$),this.initializeGridServerSubject.error("Error retrieving System info"),this.initializeGridServerSubject.complete(),(0,o.of)(""))):this.androidHelperService.executeCommandNative(w,!1,!0).pipe((0,v.q)(1)).subscribe($=>{this.hdrStreaming=!1,this.onNativeResponseSystemInfo(JSON.parse($.response),f.payload)},$=>(this.logger.error("Error in getSystemInfo",$),this.initializeGridServerSubject.error("Error retrieving System info"),this.initializeGridServerSubject.complete(),(0,o.of)("")))),this.initializeGridServerSubject}makeFullBridgeCommand(f,D,I){return Object.assign({command:f.legacyCommand,system:f.system,module:f.module,method:f.method,payload:D},I?D:null)}prepare(f){return this.logger.info("android plugin"),this.zone.runOutsideAngular(()=>this.prepareInternal(f))}setAuthInfo(f){return this.logger.info("setAuthInfo android plugin"),this.zone.runOutsideAngular(()=>{let D=0;switch(f.payload.tokenType){case M.qql.NVB_AUTH_JWT_GFN:D=1;break;case M.qql.NVB_AUTH_JWT:D=2}return this.logger.info("grid server setAuthInfo "),this.gridServer.setAuthInfo({type:D,token:f.payload.token}),this.logger.info("setAuthInfo done"),this.makeResult("false")})}setAuthToken(f){return this.authTokenSubject.next(f.payload.token),this.authTokenSubject.complete(),this.authTokenSubject=null,this.makeResult("true")}stopStream(f,D,I){this.logger.info("nativeStreamingInvoked:",this.nativeStreamingInvoked),this.logger.info("stopStream sessionId:",f),this.logger.info("stopStream grid server sessionId:",this.gridServer.getSessionId()),f&&(this.logger.info("stopStream sendDeleteRequest from stopStream"),this.distributedTracing.runWithinSpanContext(I,()=>{this.gridServer.sendDeleteRequest(f).then(()=>{this.logger.info("Successfully sent session elete Request to server. ",f);const w={sessionId:f,subSessionId:this.gridServer.getSubSessionId()};this.gridSession=void 0,this.onSessionStopResult(w)},w=>{this.logger.info("sending session delete request failed.. ",f);const _={sessionId:f,subSessionId:this.gridServer.getSessionId(),error:w};this.onSessionStopResult(_)})}))}stopInternal(f){const D=f.payload.session;return this.logger.info("stopInternal:",D),D||this.sessionIdSubject?this.sessionRequestInProgress?(this.logger.info("session setup in progress"),this.gridServer.cancelSessionSetup(),this.makeResult("true")):(D?(0,o.of)(D):this.sessionIdSubject.asObservable()).pipe((0,v.q)(1),(0,C.b)(w=>{const _=f.payload.reasonCode;this.logger.info("Stopping session ",w,_?`reason: 0x${_.toString(16)}`:""),this.logger.info("stopInternal stopStream"),this.stopStream(w,_,f.payload.spanData)}),(0,A.zg)(w=>this.makeResult("true"))):(this.logger.info("stopInternal error"),this.makeError(500,"No session to be stopped"))}stop(f){return this.logger.info("stop"),this.zone.runOutsideAngular(()=>this.stopInternal(f))}getActiveSessions(f){return this.zone.runOutsideAngular(()=>{this.logger.info("getActiveSessions"),this.distributedTracing.runWithinSpanContext(f.payload.spanData,()=>{this.gridServer.getAllActiveSessions()})}),this.makeResult("true")}getSessionInfo(f){return this.zone.runOutsideAngular(()=>{this.logger.info("getSessionInfo"),this.distributedTracing.runWithinSpanContext(f.payload.spanData,()=>{this.gridServer.getSession(f.payload.session,!1).then(D=>{this.logger.info("getSessionInfo success"),this.onGetSessionResult({sessionId:D.sessionId,subSessionId:D.subSessionId,appId:D.appId,state:D.state,status:D.state,appLaunchMode:D.appLaunchMode})}).catch(D=>{this.logger.info("getSessionInfo error");const I={sessionId:f.payload.session,subSessionId:this.gridServer.getSubSessionId(),error:D};this.onGetSessionResult(I)})})}),this.makeResult("true")}resumeInternal(f){this.logger.info("resumeInternal GFN streamer:"),this.extendedSessionStartParams.sessionStartParams.networkSessionId=f.payload.networkSessionId,this.streamingSpanData=f.payload.spanData,this.setupSession(!0,f.payload.spanData)}resume(f){return this.sessionStartCalled=!1,this.zone.runOutsideAngular(()=>{this.logger.info("resume"),this.resumeInternal(f)}),this.makeResult("true")}pauseStreamingInternal(f){return this.logger.info("pauseStreamingInternal"),this.makeResult("true")}pauseStreaming(f){return this.logger.info("pauseStreaming"),this.zone.runOutsideAngular(()=>this.pauseStreamingInternal(f))}registerCallback(f){return this.makePersistentResult(this.streamingEventsSubject.asObservable())}platformGetMaxBitRateForArray(f){const D=[];return f.payload.resolutions.forEach(w=>{const _=t.CalculateMaxBitrateKbps(w.width,w.height,w.frameRate);D.push({width:w.width,height:w.height,fps:w.frameRate,maxBandwidth:_})}),this.makeResult(JSON.stringify({resolutions:D}))}ConfigureStreamingSettings(f){return this.mergeConfigureStreamingSettings(f.payload),(0,t.ConfigureGridServerSettings)(this.configureStreamingSettingsParameters),this.makeResult("true")}mergeConfigureStreamingSettings(f){f.gxtOverrideData&&(this.configureStreamingSettingsParameters.gxtOverrideData=f.gxtOverrideData),null!=f.isInternalUser&&(this.configureStreamingSettingsParameters.isInternalUser=f.isInternalUser),f.overrideData&&(this.configureStreamingSettingsParameters.overrideData=f.overrideData),f.remoteConfigData&&(this.configureStreamingSettingsParameters.remoteConfigData=f.remoteConfigData)}GetUnifiedAPIVersion(f){return this.makeResult(t.CLIENT_VERSION)}updateEventInfoGuids(f){return this.streamingProfileGuid=f.payload.streamingProfileGuid,this.systemInfoGuid=f.payload.systemInfoGuid,this.makeResult("true")}getStream(){const f=[],D=[];return D.push({kind:"video",trackId:"njkl"}),f.push({streamId:"abcdef12345",tracks:D}),f}mapDeviceTypeFromSystemInfo(f){let D;return f===x.z7.Phone?D="PHONE":f===x.z7.Tablet?D="TABLET":f===x.z7.TV&&(D="TV"),D}isVsyncToggleSupported(){return this.makeResult("false")}registerGridServerAnalyticsCallback(f){return this.makePersistentResult(this.gridServerAnalyticsEvent.asObservable())}notImplemented(){return this.makeError(500,"Not implemented")}winCloseOsr(f){return this.makeResult("osrClose")}winOpenOsr(f){return this.makeResult("osrOpen")}CalculateDataUsage(f){let D=f.payload.bitRateKbps;0===D&&(D=t.CalculateMaxBitrateKbps(f.payload.width,f.payload.height,f.payload.frameRate));const I=t.CalculateDataUsage(f.payload.frameRate,D);return this.makeResult(JSON.stringify({dataUsage:I}))}}return K.\u0275fac=function(f){return new(f||K)(r.LFG(r.R0b),r.LFG(x.ed),r.LFG(x._V),r.LFG(l.m3),r.LFG(i.Dc),r.LFG(M.gIP),r.LFG(x.nr))},K.\u0275prov=r.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();var T=e(9357);let B=(()=>{class K{constructor(f,D,I){this.bridgeService=D,this.telemetryService=I,this.logger=f.getLogger("gridServerAnalyticsEventHandlerService")}initiateAnalyticsEvents(){this.bridgeService.executeCommand(n.Gh.Gfn.Streaming.RegisterGridServerAnalyticsCallback).subscribe(f=>{this.parseAndSendData(f)})}parseAndSendData(f){let D=T.KM.Behavioral;typeof f<"u"&&("functional"===f.gdprLevel?D=T.KM.Functional:"technical"===f.gdprLevel?D=T.KM.Technical:"behavioral"===f.gdprLevel&&(D=T.KM.Behavioral)),this.bridgeService.executeCommand(n.Gh.Common.Telemetry.SendGridServerAnalyticsEvent,f).subscribe()}}return K.\u0275fac=function(f){return new(f||K)(r.LFG(x.ed),r.LFG(x.dF),r.LFG(T.y0))},K.\u0275prov=r.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},6106:(Ge,ae,e)=>{"use strict";e.d(ae,{$:()=>w});var t=e(96671),n=e(59562),x=e(23815),M=e(50608),L=e(71265),p=e(33932),P=e(2629),a=e(13800),o=e(82374),v=e(89258),y=e(74266),C=e(64542),A=e(21361),d=e(64710),m=e(39103),S=e(42423);const s=new Map([[15867908,S.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP],[15867909,S.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]]),r=new Map([[15867908,S.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP],[15867909,S.Y6.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP]]),l=new Map([[15868718,S.Sj.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT]]),i=new Map([[3237093894,S.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED]]);var O=e(98949),Y=e(97483);const T_create=_=>new C.GridApp(_);var B=e(80155),K=e(87727),b=e(39609),f=e(69060),D=e(22973);const I=A.Gh.Gfn.Streaming;let w=(()=>{class _ extends d.nM{constructor(G,F,J,z,Z,ue,u,k){super(),this.zone=G,this.loggingService=F,this.libLoggingService=J,this.windowService=z,this.projectInterfaceService=Z,this.distributedTracing=ue,this.platformInfoService=u,this.deeplinkHelperService=k,this.gfnClientUI="GFN_CLIENT_UI",this.isInputEnabled=!0,this.ragnarokCodesNotificationMap=new Map,this.ragnarokExtenedCodesNotificationMap=new Map,this.isComboKeyHelperInitialized$=new t.xQ,this.streamingProfileGuid="",this.systemInfoGuid="",this.eventDataElements={},this.logger=F.getLogger("crimson/browser/streaming-plugin"),this.streamingEvents=new t.xQ,this.streamingStats=new t.xQ,this.micEvents=new t.xQ}get handlers(){return{module:I.Start.module,commands:{[I.Start.method]:this.start.bind(this),[I.Prepare.method]:this.prepare.bind(this),[I.SetAuthInfo.method]:this.setAuthInfo.bind(this),[I.SetAuthToken.method]:this.setAuthToken.bind(this),[I.Stop.method]:this.stop.bind(this),[I.GetActiveSessions.method]:this.getActiveSessions.bind(this),[I.GetSessionInfo.method]:this.getSessionInfo.bind(this),[I.Cancel.method]:this.cancel.bind(this),[I.Resume.method]:this.resume.bind(this),[I.PauseStreaming.method]:this.pauseStreaming.bind(this),[I.UpdateRemoteConfig.method]:this.updateRemoteConfig.bind(this),[I.RegisterCallback.method]:this.registerCallback.bind(this),[I.OpenOsr.method]:this.winOpenOsr.bind(this),[I.CloseOsr.method]:this.winCloseOsr.bind(this),[I.OsrRegisterCustomKeyPress.method]:this.osrRegisterKeypress.bind(this),[I.OsrUnregisterCustomKeyPress.method]:this.osrUnregisterKeypress.bind(this),[I.OsrRegisterKeyPressCallback.method]:this.osrRegisterKeypressCallback.bind(this),[I.OsrSetOverlayResolution.method]:this.osrSetOverlayResolution.bind(this),[I.GetStreamVolume.method]:this.getStreamVolume.bind(this),[I.SetStreamVolume.method]:this.setStreamVolume.bind(this),[I.ToggleUserInput.method]:this.toggleUserInput.bind(this),[I.SendUnicode.method]:this.sendUnicode.bind(this),[I.SetVirtualKeyboardState.method]:this.setVirtualKeyboardState.bind(this),[I.SetVideoTransforms.method]:this.setVideoTransforms.bind(this),[I.RegisterMicCallback.method]:this.registerMicCallback.bind(this),[I.ShouldDefaultEnableMic.method]:this.shouldDefaultEnableMic.bind(this),[I.GetMicState.method]:this.getMicState.bind(this),[I.SetMicState.method]:this.setMicState.bind(this),[I.ConfigureStreamingSettings.method]:this.ConfigureStreamingSettings.bind(this),[I.GetUnifiedAPIVersion.method]:this.GetUnifiedAPIVersion.bind(this),[I.OsrCheckKeyPressCombination.method]:this.OsrCheckKeyPressCombination.bind(this),[I.SetKeyboardLayout.method]:this.SetKeyboardLayout.bind(this),[I.UpdateEventInfoGuids.method]:this.updateEventInfoGuids.bind(this),[I.ToggleJoystickMouse.method]:this.toggleJoystickMouse.bind(this),[I.UpdateEventDataElements.method]:this.updateEventDataElements.bind(this),[I.ToggleOnScreenStats.method]:this.toggleOnScreenStats.bind(this),[I.SendClipboardUpdate.method]:this.sendClipboardData.bind(this),[I.PlatformGetMaxBitRateForArray.method]:this.platformGetMaxBitRateForArray.bind(this),[I.SendKeyEvent.method]:this.SendKeyEvent.bind(this),[I.IsPlatformSupportsUHD.method]:this.isUhdSupported.bind(this),[I.GetStreamStats.method]:this.getStreamStats.bind(this),[I.VsyncToggle.method]:this.isVsyncToggleSupported.bind(this),[I.SetStreamingMaxBitrate.method]:this.setStreamingMaxBiteRate.bind(this),[I.SetDrcDfcState.method]:this.setDrcDfcState.bind(this),[I.CalculateDataUsage.method]:this.CalculateDataUsage.bind(this),[I.IsPlatformSupportsHDRStreaming.method]:this.IsPlatformSupportsHDRStreaming.bind(this)}}}get virtualGamepadHandler(){var G;return null===(G=this.gridApp)||void 0===G?void 0:G.getVirtualGamepadHandler()}setMicRecordingEnabled(G){var F;null===(F=this.gridApp)||void 0===F||F.setMicRecordingEnabled(G)}SetKeyboardLayout(G){return this.zone.runOutsideAngular(()=>{this.gridApp.setKeyboardLayout(G.payload.kbLayout)}),this.makeResult("true")}toggleOnScreenStats(){return this.zone.runOutsideAngular(()=>{var G;null===(G=this.gridApp)||void 0===G||G.toggleOnScreenStats()}),this.makeResult("toggle on screen stats")}selectPlatformSpecificMap(G){return G?r:s}buildRagnarokErrorMap(G,F){const J="iOS"===G||"iPadOS"===G,z=parseFloat(F),Z=J&&z>=15&&z<15.1;O.Y.forEach((ue,u)=>this.ragnarokCodesNotificationMap.set(u,ue)),this.selectPlatformSpecificMap(J).forEach((ue,u)=>this.ragnarokCodesNotificationMap.set(u,ue)),Z&&i.forEach((ue,u)=>this.ragnarokCodesNotificationMap.set(u,ue)),l.forEach((ue,u)=>this.ragnarokExtenedCodesNotificationMap.set(u,ue))}initializeGridApp(){return this.platformInfoService.getPlatformInfo().pipe((0,L.b)(G=>{if(this.logger.info("PlatformInfo:",G),!this.gridApp){this.gridApp=T_create(G.details),this.gridApp.updateEventDataElements(this.eventDataElements),this.logger.info("EventDataElements sent to ragnarok after gridapp init:",this.eventDataElements),this.buildRagnarokErrorMap(G.details.os,G.details.osVer);const F=(J,z)=>{this.gridApp.addListener(J,(...Z)=>{this.zone.run(()=>{z.bind(this)(Z[0])})})};this.projectInterfaceService.sendCustomMessage.subscribe(J=>{this.sendCustomMessage(J)}),F("SessionStartResult",this.onSessionStartResult),F("SessionStopResult",this.onSessionStopResult),F("ActiveSessionsResult",this.onActiveSessionResult),F("GetSessionResult",this.onGetSessionResult),F("ProgressUpdate",this.onProgressUpdate),F("StreamStopped",this.onStreamStopped),F("Log",this.onRagnarokLogEvent),F("StreamingEvent",this.onStreamingEvent),F("StreamingQuality",this.onStreamingQuality),F("MicCapture",this.onMicStatusUpdate),F("CustomMessage",this.onCustomMessage),F("TextComposition",this.onTextComposition),F("StreamStatsUpdate",this.onStreamStatsUpdate)}}))}onStreamingQuality(G){this.streamingEvents.next(JSON.stringify({event:S.V4.STREAMING_QUALITY,streamQuality:G.qualityScore,bandwidthScore:G.bandwidthScore,networkLossScore:G.networkLossScore,latencyScore:G.latencyScore}))}onStreamingEvent(G){if(this.logger.info("callback onStreamingEvent called from nvrtc with eventData, ",G),G.streamingWarnings){const F={event:S.V4.STREAMING_WARNINGS,time:G.streamingWarnings.secondsLeft};switch(G.streamingWarnings.code){case 1:F.warning=S.Y6.NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT;break;case 2:F.warning=S.Y6.NVB_SN_APPROACHING_IDLE_TIMEOUT;break;case 4:F.warning=S.Y6.NVB_SN_CLEAR_IDLE_TIMEOUT;break;case 3:F.warning=S.Y6.NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT}this.streamingEvents.next(JSON.stringify(F))}}onRagnarokLogEvent(G){this.libLoggingService.sendLog({logLevel:G.logLevel,logStr:G.logstr,logTag:G.logtag,timeStamp:G.timeStamp})}mapAppLaunchModeToString(G){switch(G){case 0:return Y.xld.Default;case 1:return Y.xld.GamepadFriendly;case 2:return Y.xld.TouchFriendly}return this.logger.error("mapAppLaunchModeToString Unknown AppLaunchMode value:"+G+" using Default"),Y.xld.Default}mapStringToAppLaunchMode(G){switch(G){case Y.xld.Default:return 0;case Y.xld.GamepadFriendly:return 1;case Y.xld.TouchFriendly:return 2}return this.logger.error("mapStringToAppLaunchMode Unknown AppLaunchMode value:"+G+" using Default"),0}mapActiveSessionInfoToSession(G){const F=[];if(G)for(const J of G){const z={sessionId:J.sessionId,appId:J.appId,appLaunchMode:this.mapAppLaunchModeToString(J.appLaunchMode),clientId:void 0,deviceId:void 0,status:S.a1.NVB_SESSION_STATUS_UNKNOWN};switch(J.state){case"initializing":z.status=S.a1.NVB_SESSION_INITIALIZING;break;case"ready_for_connection":z.status=S.a1.NVB_SESSION_READY_FOR_CONNECT;break;case"streaming":z.status=S.a1.NVB_SESSION_STREAMING;break;case"paused":z.status=S.a1.NVB_SESSION_PAUSED_UNINTENTIONAL;break;case"resuming":z.status=S.a1.NVB_SESSION_RESUMING;break;case"finished":z.status=S.a1.NVB_SESSION_PAUSED_INTENTIONAL;break;default:z.status=S.a1.NVB_SESSION_STATUS_UNKNOWN}F.push(z)}return F}onSessionStartResult(G){var F,J,z;if(this.logger.info("callback onSessionStartResult called from nvrtc with eventData, ",G),this.zoneName=G.zoneName,G.sessionId&&(null===(F=this.sessionId)||void 0===F||F.next(G.sessionId)),G.error){null===(J=this.sessionId)||void 0===J||J.complete(),this.sessionId=null;const Z=null===(z=G.error)||void 0===z?void 0:z.code;if(15867905===Z||15867906===Z)return}this.streamingEvents.next(K.d.createSessionStartResult(G,this.ragnarokCodesNotificationMap,this.logger)),G.error||(this.streamingEvents.next(JSON.stringify({event:S.V4.STREAMING_BEGIN})),this.streamingEvents.next(JSON.stringify({event:S.V4.STREAMING_FIRST_FRAME})))}onSessionStopResult(G){var F;this.logger.info("callback onSessionStopResult called from nvrtc with result, ",G),null===(F=this.sessionId)||void 0===F||F.complete(),this.sessionId=null,this.streamingEvents.next(K.d.createSessionStopResult(G,this.ragnarokCodesNotificationMap))}onActiveSessionResult(G){this.logger.info("callback onActiveSessionResult called from nvrtc with result, ",G);const F={event:S.V4.ACTIVE_SESSIONS,result:{extendedError:[],requestId:1,result:0},sessions:this.mapActiveSessionInfoToSession(G.sessionList)};G.error&&(F.result.result=this.ragnarokCodesNotificationMap.get(G.error.code)||G.error.code),this.streamingEvents.next(JSON.stringify(F))}onGetSessionResult(G){this.logger.info("callback onGetSessionResult called from nvrtc with result, ",G),this.streamingEvents.next(K.d.createGetSessionResult(G,this.ragnarokCodesNotificationMap,this.logger))}onProgressUpdate(G){var F;this.logger.info("callback onProgressUpdate called from nvrtc with eventData, ",G),G.sessionId&&(null===(F=this.sessionId)||void 0===F||F.next(G.sessionId)),this.streamingEvents.next(K.d.createProgressUpdateEvent(G))}onStreamStopped(G){var F,J;this.logger.info("callback onStreamStopped called from nvrtc with eventData object, ",G),null===(F=this.sessionId)||void 0===F||F.complete(),this.sessionId=null;const z={event:S.V4.STREAMING_TERMINATED,extendedCode:null!==(J=this.ragnarokExtenedCodesNotificationMap.get(G.error.code))&&void 0!==J?J:0};z.reason=this.ragnarokCodesNotificationMap.get(G.error.code)||G.error.code,z.isResumable=G.isResumable,this.streamingEvents.next(JSON.stringify(z))}onMicStatusUpdate(G){const F={uiMicState:m.tn.PermissionPending,internalMicState:"RAGNAROK_"};switch(G.state){case 0:F.internalMicState+="UNINITIALIZED",F.uiMicState=m.tn.PermissionPending;break;case 1:F.internalMicState+="PERMISSION_PENDING",F.uiMicState=m.tn.PermissionPending;break;case 6:F.internalMicState+="UNSUPPORTED",F.uiMicState=m.tn.PermissionPending;break;case 7:F.internalMicState+="ERROR",F.uiMicState=m.tn.PermissionPending;break;case 2:F.internalMicState+="PERMISSION_DENIED",F.uiMicState=m.tn.PermissionDenied;break;case 3:F.internalMicState+="STARTED",F.uiMicState=m.tn.Unmuted;break;case 4:F.internalMicState+="NO_SUITABLE_DEVICE",F.uiMicState=m.tn.NoMicFound;break;case 5:F.internalMicState+="STOPPED",F.uiMicState=m.tn.Muted}this.logger.info("State event received:",G.state,"state sent to MicrophoneService:",F),this.micEvents.next(JSON.stringify(F))}onCustomMessage(G){const F=G;this.processCustomMessage(F),this.projectInterfaceService.onCustomMessage(F)}processCustomMessage(G){if(G.messageRecipient===this.gfnClientUI)switch(G.messageType){case Y.wMv.paste:case Y.wMv.zoneMaintenance:case Y.wMv.sessionLengthTimer:this.logger.info("Browser client message event: ",G),this.streamingEvents.next(JSON.stringify({event:S.V4.STREAMING_CLIENT_MESSAGE,message:JSON.parse(G.data)}))}}onTextComposition(G){this.streamingEvents.next(JSON.stringify({event:S.V4.TEXT_COMPOSITION,compositionText:G.compositionText,imeRecommendation:G.imeRecommendation}))}setStreamingMaxBiteRate(G){return this.zone.runOutsideAngular(()=>{try{this.gridApp.setStreamingMaxBitrate(G.payload.kbps,G.payload.streamIdx)}catch(F){return this.logger.info("SetStreamingMaxBitrateParameters bridge command failed with error ",F),this.makeError(500,F)}return this.makeResult("true")})}setDrcDfcState(G){return this.zone.runOutsideAngular(()=>{try{this.gridApp.setDrcDfcState(G.payload.enabled,G.payload.streamIdx)}catch(F){return this.logger.info("SetDrcDfcStateParameters bridge command failed with error ",F),this.makeError(500,F)}return this.makeResult("true")})}getStreamStats(G){return this.makePersistentResult(this.streamingStats.asObservable())}onStreamStatsUpdate(G){const F=G.totalBandwidth*G.utilizedBandwidth*10,J={streamStats:{frameRate:G.fps,avgGameFrameRate:Math.round(G.avgGameFps),droppedFrames:G.frameLoss,packetloss:G.packetLoss,roundTripDelayMs:G.rtd,bandwidthUtilization:Math.round(G.utilizedBandwidth),streamBitrate:F,bandwidth:1e3*G.totalBandwidth,frameWidth:G.streamingResolution.width,frameHeight:G.streamingResolution.height,serverZone:this.zoneName}};this.streamingStats.next(J)}generateAuthToken(G){return this.logger.info("callback generateAuthToken called from nvrtc"),this.streamingEvents.next(JSON.stringify({event:S.V4.UPDATE_AUTH_TOKEN,spanData:G})),this.authTokenSubject=new t.xQ,this.authTokenSubject.toPromise()}startInternal(G){const F={appId:G.payload.appId.toString(),appLaunchMode:this.mapStringToAppLaunchMode(G.payload.appLaunchMode),streamParams:[{width:G.payload.streamingProfile.width,height:G.payload.streamingProfile.height,fps:G.payload.streamingProfile.fps,maxBitrateKbps:G.payload.streamingProfile.maxBitrate,videoTagId:"remote-video",audioTagId:"remote-audio",drc:G.payload.streamingProfile.drc}],metaData:Object.assign(Object.assign({},G.payload.metaData),{surroundAudioInfo:Math.min(G.payload.audioModeFormat,C.GetSupportedAudioChannelCount()).toString()}),allowKeyboardLayoutChange:G.payload.allowKeyboardLayoutChange,keyboardLayout:G.payload.keyboardLayout,clientLocale:G.payload.locale,accountLinked:G.payload.accountLinked,shortName:G.payload.gameShortName,networkSessionId:G.payload.networkSessionId,partnerCustomData:G.payload.partnerCustomData,enablePersistingInGameSettings:G.payload.persistingInGameSettings};return this.logger.info("Final streaming params:",F),this.sessionId=new n.t(1),this.distributedTracing.runWithinSpanContext(G.payload.spanData,()=>{const J=G.payload.session;J?(this.sessionId.next(J),this.gridApp.resumeSession(F,J)):this.gridApp.startSession(F)}),this.makeResult("true")}start(G){return this.zone.runOutsideAngular(()=>this.startInternal(G))}prepareInternal(G){return this.initializeGridApp().pipe((0,p.zg)(F=>{var J;const z=new Map;null===(J=G.payload.clientHeaders)||void 0===J||J.forEach(u=>{z.set(u.headerName,u.headerValue)});const Z={clientAppVersion:G.payload.clientAppVersion,deviceHashId:G.payload.deviceId,serverAddress:G.payload.address,authTokenCallback:u=>this.zone.run(()=>this.generateAuthToken(u)),textInputElement:document.getElementById("hiddentext"),clientHeaders:z};let ue;return this.deeplinkHelperService.windowedMode&&(ue=Object.assign(Object.assign({},C.defaultInputConfigFlags),{cursorType:2})),this.gridApp.initialize(Z,ue)?this.makeResult("true"):this.makeError(500,"Grid application cannot be initialized")}))}prepare(G){return this.zone.runOutsideAngular(()=>this.prepareInternal(G))}setAuthInfo(G){return this.zone.runOutsideAngular(()=>{let F=0;switch(G.payload.tokenType){case Y.qql.NVB_AUTH_JWT_GFN:F=1;break;case Y.qql.NVB_AUTH_JWT:F=2}return this.gridApp.setAuthInfo({type:F,token:G.payload.token}),this.makeResult("true")})}setAuthToken(G){return this.authTokenSubject.next(G.payload.token),this.authTokenSubject.complete(),this.authTokenSubject=null,this.makeResult("true")}stopInternal(G){const F=G.payload.session;return F||this.sessionId?(F?(0,x.of)(F):this.sessionId.asObservable()).pipe((0,P.q)(1),(0,L.b)(z=>{const Z=G.payload.reasonCode;this.logger.info("Stopping session ",z,Z?`reason: 0x${Z.toString(16)}`:""),this.distributedTracing.runWithinSpanContext(G.payload.spanData,()=>{this.gridApp.stopSession(z,Z)})}),(0,p.zg)(z=>this.makeResult("true"))):this.makeError(500,"No session to be stopped")}stop(G){return this.zone.runOutsideAngular(()=>this.stopInternal(G))}getActiveSessions(G){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(G.payload.spanData,()=>{this.gridApp.getActiveSessions()})}),this.makeResult("true")}getSessionInfo(G){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(G.payload.spanData,()=>{this.gridApp.getSession(G.payload.session)})}),this.makeResult("true")}cancel(G){return this.makeResult("true")}resume(G){return this.zone.runOutsideAngular(()=>{this.distributedTracing.runWithinSpanContext(G.payload.spanData,()=>{this.gridApp.resume()})}),this.makeResult("true")}pauseStreamingInternal(){var G;return(null!==(G=this.sessionId)&&void 0!==G?G:(0,x.of)(void 0)).subscribe(J=>{this.gridApp.pauseSession(J)}),this.makeResult("true")}pauseStreaming(G){return this.zone.runOutsideAngular(()=>this.pauseStreamingInternal())}updateRemoteConfig(G){return this.makeResult("true")}registerCallback(G){return this.makePersistentResult(this.streamingEvents.asObservable())}winCloseOsr(G){return this.isInputEnabled&&(this.logger.info("InputToggle: Closing OSR"),this.zone.runOutsideAngular(()=>{var F;null===(F=this.gridApp)||void 0===F||F.toggleUserInput(!0),this.isInputEnabled=!1})),this.makeResult("osrClose")}winOpenOsr(G){return(this.isInputEnabled&&!G.payload.enableInput||!this.isInputEnabled&&G.payload.enableInput)&&(this.logger.info("InputToggle: Opening OSR with enableInput:",G.payload.enableInput),this.zone.runOutsideAngular(()=>{var F;null===(F=this.gridApp)||void 0===F||F.toggleUserInput(!G.payload.enableInput),this.isInputEnabled=!this.isInputEnabled})),this.makeResult("osrOpen")}osrRegisterKeypress(G){return this.makeResult("true")}osrUnregisterKeypress(G){return this.makeResult("true")}osrRegisterKeypressCallback(G){return this.comboKeyHelper||(this.comboKeyHelper=new d.n2(this.loggingService,G.payload.osType,!0),this.projectInterfaceService.isNonEnglishKeyboardLayout.subscribe(F=>{this.comboKeyHelper.setNonEnglishKeyboardLayout(F),this.isComboKeyHelperInitialized$.next(!0),this.isComboKeyHelperInitialized$.complete()})),this.zone.runOutsideAngular(()=>{this.projectInterfaceService.enableListener.pipe((0,a.w)(F=>F?this.windowService.getKeydownEvent():M.C),(0,o.j)(F=>this.isComboKeyHelperInitialized$)).subscribe(F=>{F&&this.comboKeyHelper.processKeyDownEventForHotkeyInvocation(F)})}),this.makePersistentResult(this.comboKeyHelper.shortcutData.pipe((0,o.j)(F=>this.isComboKeyHelperInitialized$),(0,v.U)(F=>this.projectInterfaceService.checkIfShortcutIsPresentCallback(F)),(0,y.h)(F=>F.length>0),(0,v.U)(F=>(F=F.map(J=>J in d.zl?d.zl[J].toLowerCase():String.fromCharCode(J).toLowerCase())).join("-"))))}osrSetOverlayResolution(G){return this.makeResult("true")}getStreamVolume(G){return this.makeResult("true")}setStreamVolume(G){return this.makeResult("true")}toggleUserInput(G){return this.logger.info("InputToggle: Toggling input:",G.payload.enable),this.zone.runOutsideAngular(()=>{this.gridApp.toggleUserInput(G.payload.enable)}),this.makeResult("true")}toggleJoystickMouse(G){return this.logger.info("Toggling RSMouse/LSMouse: ",G.payload.enable),this.zone.runOutsideAngular(()=>{var F;null===(F=this.gridApp)||void 0===F||F.toggleRsdmm(G.payload.enable)}),this.makeResult("true")}sendUnicode(G){return this.zone.runOutsideAngular(()=>{const F=G.payload.unicodeInput,J=F instanceof Uint8Array?F:new Uint8Array(F);this.gridApp.sendTextInput(J.buffer)}),this.makeResult("true")}setVirtualKeyboardState(G){return this.zone.runOutsideAngular(()=>{var F;null===(F=this.gridApp)||void 0===F||F.setVirtualKeyboardState(G.payload.visible)}),this.makeResult("true")}setVideoTransforms(G){return this.zone.runOutsideAngular(()=>{this.gridApp.setVideoTransforms(G.payload.offsetX,G.payload.offsetY,G.payload.zoomFactor)}),this.makeResult("true")}registerMicCallback(G){return this.makePersistentResult(this.micEvents.asObservable())}shouldDefaultEnableMic(G){return this.zone.runOutsideAngular(()=>this.makeResult(this.gridApp.shouldDefaultEnableMic()?"true":"false"))}getMicState(G){return this.zone.runOutsideAngular(()=>{this.gridApp.getMicState()}),this.makeResult("true")}setMicState(G){return this.zone.runOutsideAngular(()=>{this.gridApp.setMicRecordingEnabled(G.payload.enable)}),this.makeResult("true")}ConfigureStreamingSettings(G){return this.logger.info("Streaming settings config:",G.payload),this.zone.runOutsideAngular(()=>{C.ConfigureRagnarokSettings(G.payload)}),this.makeResult("true")}GetUnifiedAPIVersion(G){return this.makeResult(C.CLIENT_VERSION)}OsrCheckKeyPressCombination(){return this.makeResult("true")}sendCustomMessage(G){var F;null===(F=this.gridApp)||void 0===F||F.sendCustomMessage(G)}updateEventInfoGuids(G){var F;return this.streamingProfileGuid=G.payload.streamingProfileGuid,this.systemInfoGuid=G.payload.systemInfoGuid,this.eventDataElements.telemetryEventIds={streamingProfileGuid:G.payload.streamingProfileGuid,systemInfoGuid:G.payload.systemInfoGuid},null===(F=this.gridApp)||void 0===F||F.updateEventDataElements(this.eventDataElements),this.logger.info("EventInfoGuids sent to ragnarok with other event data elements:",this.eventDataElements),this.makeResult("true")}updateEventDataElements(G){var F,J;return this.eventDataElements.commonData=Object.assign(Object.assign({},this.eventDataElements.commonData),G.payload.commonData),this.eventDataElements.config=null!==(F=G.payload.config)&&void 0!==F?F:this.eventDataElements.config,this.eventDataElements.telemetryEventIds={streamingProfileGuid:this.streamingProfileGuid,systemInfoGuid:this.systemInfoGuid},null===(J=this.gridApp)||void 0===J||J.updateEventDataElements(this.eventDataElements),this.logger.info("EventDataElements sent to ragnarok:",this.eventDataElements),this.makeResult("true")}sendClipboardData(G){return this.projectInterfaceService.postCustomMessage(G.payload.clipboardInfo,Y.gOl.UIPlugin,Y.wMv.paste),this.makeResult("true")}platformGetMaxBitRateForArray(G){const F=[];return G.payload.resolutions.forEach(z=>{const Z=C.CalculateMaxBitrateKbps(z.width,z.height,z.frameRate);F.push({width:z.width,height:z.height,fps:z.frameRate,maxBandwidth:Z})}),this.makeResult(JSON.stringify({resolutions:F}))}SendKeyEvent(G){var F;const J=G.payload.keyEvent;return J instanceof KeyboardEvent?(null===(F=this.gridApp)||void 0===F||F.sendKeyEvent(J),this.makeResult("true")):this.makeError(500,"event is not KeyboardEvent")}isUhdSupportedOnSamsungTV(){if(this.logger.info("Checking UHD support on Tizen TV..."),!(0,B.gd)())return this.logger.info("This TV panel does not support UHD"),!1;const G=(0,B.bq)(),{year:F,version:J}=(0,B.L2)(G);if(!F||!J)return this.logger.error("Failed to parse TV server year and version from",G),!1;const z=+F,Z=+J;return this.logger.info(`TV server year (${z}) version (${Z})`),2021===z||z>=2023||2022===z&&Z>=1008}isHevcSupportedOnLGTV(){return this.logger.info("Checking HEVC support on LG TV..."),!!window.lge_webrtc_hevc_support}isUhdSupported(){return d.ng.isPWAModeOnSamsungTV()?this.makeResult(`${this.isUhdSupportedOnSamsungTV()}`):d.ng.isPWAModeOnLGTV()?this.makeResult(`${this.isHevcSupportedOnLGTV()}`):this.makeResult("false")}isVsyncToggleSupported(){return this.makeResult("false")}CalculateDataUsage(G){let F=G.payload.bitRateKbps;0===F&&(F=C.CalculateMaxBitrateKbps(G.payload.width,G.payload.height,G.payload.frameRate));const J=C.CalculateDataUsage(G.payload.frameRate,F);return this.makeResult(JSON.stringify({dataUsage:J}))}IsPlatformSupportsHDRStreaming(){return this.makeResult(JSON.stringify({supportsHdrDecode:!1,supportsHdrRendering:!1}))}}return _.\u0275fac=function(G){return new(G||_)(b.LFG(b.R0b),b.LFG(d.ed),b.LFG(d._V),b.LFG(d.un),b.LFG(m.m3),b.LFG(f.Dc),b.LFG(D.tu),b.LFG(Y.gIP))},_.\u0275prov=b.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},98949:(Ge,ae,e)=>{"use strict";e.d(ae,{Y:()=>n});var t=e(42423);const n=new Map([[15868737,t.Y6.NVB_SN_ENTITLEMENT_TIMEOUT],[15868708,t.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT],[15867913,t.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT],[15868739,t.Y6.NVB_SN_TERMINATED_BY_OPERATOR],[15868704,t.Y6.NVB_SN_STOPPED_BY_USER],[15868741,t.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT],[15868743,t.Y6.NVB_SN_TERMINATED_BY_PM],[15868707,t.Y6.NVB_SN_TERMINATED_WINDOWED_MODE],[15868709,t.Y6.NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS],[15868710,t.Y6.NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS],[15868712,t.Y6.NVB_SN_TERMINATED_MINER_PROCESS_ACCESS],[15868711,t.Y6.NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS],[15868744,t.Y6.NVB_SN_TERMINATED_MULTIPLE_LOGIN],[15868714,t.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT],[3237089282,t.dq.NVB_R_NETWORK_ERROR],[3237089281,t.dq.NVB_R_NETWORK_ERROR],[3237093895,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093377,t.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED],[3237093643,t.dq.NVB_R_SESSION_LIMIT_REACHED],[3237093889,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093890,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093891,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093892,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093893,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093894,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093900,t.dq.NVB_R_STREAMER_CONNECT_FAILED],[3237093673,t.dq.NVB_R_APPLICATION_PATCHING],[3237093379,t.dq.NVB_R_INVALID_SERVER_RESPONSE],[3237093654,t.dq.NVB_R_SESSION_NOT_ACTIVE],[3237093668,t.dq.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL],[3237093670,t.dq.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT],[3237093650,t.dq.NVB_R_USER_IS_NOT_ENTITLED],[3237093632,t.dq.NVB_R_SERVER_ERROR],[3237093656,t.dq.NVB_R_SEVER_MAINTENANCE_MODE],[3237093657,t.dq.NVB_R_SERVER_OUT_OF_SERVICE],[3237093901,t.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093906,t.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093899,t.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093694,t.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED],[3237093688,t.dq.NVB_R_APP_MAINTENANCE_STATUS],[3237093678,t.dq.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT],[3237093642,t.dq.NVB_R_TOO_MANY_SERVER_REQUESTS],[3237093693,t.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED],[3237093695,t.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING],[3237093698,t.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION],[3237093674,t.dq.NVB_R_INVALID_APP_IDENTIFIER],[15868717,t.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER],[15868417,t.dq.NVB_R_NETWORK_ERROR],[15868418,t.Y6.NVB_SN_STREAMER_NETWORK_ERROR],[3237093703,t.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE],[3237093704,t.dq.NVB_R_ZONE_MAITENANCE_STATUS],[15868745,t.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE],[3237093707,t.dq.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION]])},87727:(Ge,ae,e)=>{"use strict";e.d(ae,{d:()=>x});var t=e(42423),n=e(97483);class x{static mapAppLaunchModeToString(L,p){switch(L){case 0:return n.xld.Default;case 1:return n.xld.GamepadFriendly;case 2:return n.xld.TouchFriendly}return p.error("mapAppLaunchModeToString Unknown AppLaunchMode value:"+L+" using Default"),n.xld.Default}static mapStringToAppLaunchMode(L,p){switch(L){case n.xld.Default:return 0;case n.xld.GamepadFriendly:return 1;case n.xld.TouchFriendly:return 2}return p.error("mapStringToAppLaunchMode Unknown AppLaunchMode value:"+L+" using Default"),0}static mapActiveSessionInfoToSession(L,p){const P=[];if(L)for(const a of L){const o={sessionId:a.sessionId,appId:a.appId,appLaunchMode:x.mapAppLaunchModeToString(a.appLaunchMode,p),clientId:void 0,deviceId:void 0,status:t.a1.NVB_SESSION_STATUS_UNKNOWN};switch(a.state){case"initializing":o.status=t.a1.NVB_SESSION_INITIALIZING;break;case"ready_for_connection":o.status=t.a1.NVB_SESSION_READY_FOR_CONNECT;break;case"streaming":o.status=t.a1.NVB_SESSION_STREAMING;break;case"paused":o.status=t.a1.NVB_SESSION_PAUSED_UNINTENTIONAL;break;case"resuming":o.status=t.a1.NVB_SESSION_RESUMING;break;case"finished":o.status=t.a1.NVB_SESSION_PAUSED_INTENTIONAL;break;default:o.status=t.a1.NVB_SESSION_STATUS_UNKNOWN}P.push(o)}return P}static createSessionStartResult(L,p,P){const a={event:t.V4.SESSION_SETUP_SUCCESS,gpuType:L.gpuType};return L.sessionId&&(a.sessionId=L.sessionId,a.subSessionId=L.subSessionId,a.streams=L.streams),L.error&&(a.event=L.isResume?t.V4.SESSION_RESUME_FAILURE:t.V4.SESSION_SETUP_FAILURE,a.result={result:p.get(L.error.code)||L.error.code},a.sessions=x.mapActiveSessionInfoToSession(L.sessionList,P)),JSON.stringify(a)}static createSessionStopResult(L,p){const P={event:t.V4.STOP_RESULT};return L.sessionId&&(P.sessionId=L.sessionId,P.subSessionId=L.subSessionId),L.error&&(P.result={result:p.get(L.error.code)||L.error.code}),JSON.stringify(P)}static createGetSessionResult(L,p,P){const o={event:t.V4.GET_SESSION_INFO,result:{extendedError:[],requestId:1,result:0},sessions:x.mapActiveSessionInfoToSession([{sessionId:L.sessionId,appId:L.appId,appLaunchMode:L.appLaunchMode,state:L.state}],P)};return L.error&&(o.result.result=p.get(L.error.code)||L.error.code),JSON.stringify(o)}static createProgressUpdateEvent(L){const p={event:t.V4.SESSION_SETUP_PROGRESS,eta:L.eta,queuePosition:L.queuePosition};switch(L.state){case"InQueue":p.state=t.Py.NVB_SSS_QUEUEPOSITION;break;case"Configuring":p.state=t.Py.NVB_SSS_CONFIGURING;break;case"StartingStreamer":p.state=t.Py.NVB_SSS_STARTINGSTREAMER;break;case"PreviousSessionCleanup":p.state=t.Py.NVB_SSS_PREVIOUS_SESSION_CLEANUP}return JSON.stringify(p)}}},82512:(Ge,ae,e)=>{"use strict";e.d(ae,{h:()=>S});var t=e(96671),n=e(23815),x=e(39138),M=e(94751),L=e(2629),p=e(89258),P=e(21361),a=e(64710),o=e(97483),v=e(91739),y=e(99385),C=e(49773),A=e(39609),d=e(9357),m=e(77779);let S=(()=>{class s{constructor(l,i,O,Y,T,B,K,b,f,D,I,w,_){this.telemetryService=i,this.streamerConfigService=O,this.streamingManagerService=Y,this.networkConfigurationService=T,this.streamingProfileService=B,this.bridgeService=K,this.networkTestService=b,this.serverRoutingService=f,this.gameLaunchAnalyticsService=D,this.pathService=I,this.guestModeHelperService=w,this.ownershipSyncService=_,this.oobeShown=!1,this.gameLaunchStepList=[y.$D.UpdateCheck,y.$D.PreStreaming,y.$D.Authentication,y.$D.PlatformSelection,y.$D.AccountLinking,y.$D.Authorization,y.$D.NetworkTest,y.$D.Loading],this.overlappingDurations=[o.FRL.Lbr,o.FRL.SessionQueue],this.seatSetupDurations=[o.FRL.StreamerClientSetupDuration,o.FRL.StreamerConnectionDuration,o.FRL.SeatConfigDuration,o.FRL.StreamingStartDuration,o.FRL.SessionQueue],this.seatSetupOverlappingDurations=[o.FRL.StreamerConnectionDuration,o.FRL.SeatConfigDuration,o.FRL.SessionQueue],this.gameFeatureState=[{name:"",state:""}],this.seatSetupSequence$=new t.xQ,this.seatSetupSequenceCount=[],this.logger=l.getLogger("gameSessionAnalyticsService"),this.resetNetworkTestResult(),this.resetResumeType(),this.resetGameLaunchDurationsMatrix(),this.resetdialogInteractionDurations(),this.pathService.onExitingStreamer.subscribe($=>{$&&this.cleanupGameLaunchMetrics()}),this.seatSetupEventSequence=[],this.recordAndLogSeatSetupSequence()}resetNetworkTestResult(){this.networkTestUIResult=o.DYb.Unknown}resetResumeType(){this.resumeType=o.NuE.None}getStreamingManagerCallbacks(l){return{callbackContext:this,onStateBegin:()=>{},onStateEnd:this.generateCallback(l).bind(this),onTerminalError:i=>this.onErrorState(l,i)}}initGameSessionAnalytics(){this.gameLaunchStepList.forEach(l=>{this.streamingManagerService.register(l,this.getStreamingManagerCallbacks(l))}),this.networkTestService.lbrState.subscribe(l=>{this.streamingManagerService.inActiveState()?l===o.eTr.Started?this.startGameLaunchDuration(o.FRL.Lbr):l===o.eTr.Finished&&this.stopGameLaunchDuration(o.FRL.Lbr):this.logger.info("Skipping LBR duation measrement since not triggered from Game Launch path")})}handleGeronimoLaunchResult(l,i=""){this.sendGameLaunchDurationEvent(l,i)}nextSeatSeatupEvent(l,i){this.seatSetupSequence$.next([l,i])}recordAndLogSeatSetupSequence(){this.seatSetupSequence$.subscribe(([l,i])=>{i?(this.logger.info("Seat setup sequence and count is ",this.seatSetupSequenceCount),this.seatSetupSequenceCount=[]):0!==this.seatSetupSequenceCount.length&&this.seatSetupSequenceCount.slice(-1)[0][0]!==l||0===this.seatSetupSequenceCount.length?this.seatSetupSequenceCount.push([l,1]):this.seatSetupSequenceCount[this.seatSetupSequenceCount.length-1][1]+=1})}handleGameLaunchFailure(l){this.sendGameLaunchDurationEvent(l)}updateGameLaunchDurations(l,i){this.updateSeatSetupEventSequence(i),this.stopGameLaunchDuration(l),i?(this.seatSetupOverlappingDurations.includes(i)&&this.gameLaunchDurations.get(i).duration&&(this.gameLaunchDurations.get(i).previousDurationCarry=this.gameLaunchDurations.get(i).duration),this.gameLaunchDurations.get(i).start=Date.now()):this.logger.info("Game launch durations measured upto session start: ",this.gameLaunchDurations)}moveGameLaunchDuration(l,i){this.gameLaunchDurations.get(l).start=this.gameLaunchDurations.get(i).start,this.gameLaunchDurations.get(l).duration=this.gameLaunchDurations.get(i).duration,this.gameLaunchDurations.get(i).start=0,this.gameLaunchDurations.get(i).duration=0}startGameLaunchDuration(l){l===o.FRL.StreamerClientSetupDuration&&(this.seatSetupEventSequence=[],this.updateSeatSetupEventSequence(o.FRL.StreamerClientSetupDuration)),this.gameLaunchDurations.get(l).start&&this.resetGameLaunchDuration(l),this.logger.info("starting game launch step duration",l),this.gameLaunchDurations.get(l).start=l===o.FRL.StreamerJsInit?window.jsInitStartTs:Date.now()}stopGameLaunchDuration(l){const i=this.gameLaunchDurations.get(l).start;this.logger.info("Current step: ",l," , Time stamp: ",i),this.gameLaunchDurations.get(l).duration=0!==i?Date.now()-i:0,this.seatSetupOverlappingDurations.includes(l)&&this.gameLaunchDurations.get(l).previousDurationCarry&&(this.gameLaunchDurations.get(l).duration+=this.gameLaunchDurations.get(l).previousDurationCarry,this.gameLaunchDurations.get(l).previousDurationCarry=0),this.logger.info("Game launch duration for ",l," is: ",this.gameLaunchDurations.get(l).duration)}resetGameLaunchDuration(l){this.logger.info("reset game launch duration for step: ",l),this.gameLaunchDurations.get(l).duration=0,this.gameLaunchDurations.get(l).start=0,this.gameLaunchDurations.get(l).previousDurationCarry=0}setIsOobeShown(l){this.oobeShown=l}setDialogInteractionDuration(l,i){this.dialogInteractionDurations.set(l,i)}setNetworkTestUIResult(l){this.networkTestUIResult=l}setAuthenticationStatus(l){this.authenticationStatus=l}setResumeType(l){this.resumeType=l}getVSyncMode(l){return l===o.OAB.ValueAdaptive.value?o.ef6.Adaptive:l===o.OAB.ValueOn.value?o.ef6.On:o.ef6.Off}sendStreamingProfileEvent(){this.streamingProfileService.getStreamingProfile().pipe((0,M.M)(this.streamingProfileService.getStreamingProfileGuid()),(0,L.q)(1)).subscribe(([l,i])=>{const O={profileName:l.name,resolutionHeight:l.height,resolutionWidth:l.width,aspectRatio:l.aspectRatio,framerate:l.fps,maxBitrate:l.maxBitrate,DRC:l.drc?o.wye.TRUE:o.wye.FALSE,vSyncSetting:this.getVSyncMode(l.vSync),streamingProfileGuid:i,hdrEnabled:l.hdrStreaming?o.wye.TRUE:o.wye.FALSE};this.telemetryService.push(new o.pDK(O))},l=>{this.logger.error("Failed to get streaming profile settings: ",l)})}resetGameLaunchDurationsMatrix(){this.seatSetupEventSequence=[],this.gameLaunchDurations=new Map;for(const l in o.FRL)this.gameLaunchDurations.hasOwnProperty(l)||this.gameLaunchDurations.set(o.FRL[l],{start:0,duration:0,previousDurationCarry:0})}resetdialogInteractionDurations(){this.dialogInteractionDurations=new Map;for(const l in v.z)this.dialogInteractionDurations.hasOwnProperty(l)||this.dialogInteractionDurations.set(v.z[l],0)}calculateLaunchDuration(){const l=this.gameLaunchAnalyticsService.getGameLaunchMetadata(),i=l.launchTs,O=this.gameLaunchDurations.get(o.FRL.StreamerJsInit).start;this.logger.info("initiallaunchts",i,"currentTs",Date.now());const Y=this.streamerConfigService.activeConfig.launchSource;if(a.ng.isCefPlatform()){let T=0,B=0;return this.logger.info("Mall is running:",l.isMallRunning),l.isMallRunning?(this.isWarmLaunch=!0,B=0,T=Y===o.zO5.GeForceNOW||l.isFromGameChangeDialog?0:O-i,this.updateGameLaunchStartupDurations({start:i,duration:B,previousDurationCarry:0}),(0,n.of)(T)):this.bridgeService.executeCommand(P.Gh.Common.Applicationinfo.GetApplicationTimeInfo,{type:P.Yk.Common.Applicationinfo.ApplicationTimeType.Launch}).pipe((0,p.U)(K=>(this.isWarmLaunch=K.isWarmLaunch||!1,this.logger.info("applaunchtimeinfo",K),l.isFromGameChangeDialog||(i>0&&i>K.startTime&&(B=i-K.startTime),T=O-K.startTime),this.updateGameLaunchStartupDurations({start:i,duration:B,previousDurationCarry:0},{start:K.startTime,duration:T,previousDurationCarry:0}),T)))}return 0!==i&&this.updateGameLaunchStartupDurations({start:i,duration:O-i,previousDurationCarry:0}),(0,n.of)(0)}updateGameLaunchStartupDurations(l,i){l&&(this.gameLaunchDurations.get(o.FRL.InitialLaunch).start=l.start,this.gameLaunchDurations.get(o.FRL.InitialLaunch).duration=l.duration),i&&(this.gameLaunchDurations.get(o.FRL.StreamerCefInit).start=i.start,this.gameLaunchDurations.get(o.FRL.StreamerCefInit).duration=i.duration)}onErrorState(l,i){if(l===i.errorSourceState)switch(i.errorSourceState){case y.$D.Authentication:this.logger.info(`Error ${i.errorData.errorCode} occured on state Authentication`),this.sendGameLaunchSourceInfoTelemetry();break;case y.$D.Authorization:{this.logger.info(`Error ${i.errorData.errorCode} occured on state Authorization`);const O={isResume:!1,status:i.errorData.errorCode===C.D8.NotEntitled?o.N3X.NesNotEntitled:o.N3X.NesAuthFailed,errorDetails:i.errorData.errorCode.toString()};this.sendGameLaunchDurationEvent(O);break}}}generateCallback(l){return()=>{this.onStateEndInternal(l)}}onStateEndInternal(l){switch(l){case y.$D.Init:this.startGameLaunchDuration(o.FRL.UpdateCheck);break;case y.$D.UpdateCheck:this.updateGameLaunchDurations(o.FRL.UpdateCheck,o.FRL.PreStreaming);break;case y.$D.PreStreaming:{this.stopGameLaunchDuration(o.FRL.PreStreaming);const i=Date.now();this.gameLaunchDurations.get(o.FRL.ManualLoginEntry).start=i,this.gameLaunchDurations.get(o.FRL.AutoLogin).start=i;break}case y.$D.Authentication:this.authenticationStatus!==v.y.AUTO_LOGIN?(this.resetGameLaunchDuration(o.FRL.AutoLogin),this.updateGameLaunchDurations(o.FRL.ManualLoginEntry,o.FRL.PlatformSelection)):(this.resetGameLaunchDuration(o.FRL.ManualLoginEntry),this.updateGameLaunchDurations(o.FRL.AutoLogin,o.FRL.PlatformSelection)),this.sendGameLaunchSourceInfoTelemetry();break;case y.$D.PlatformSelection:this.updateGameLaunchDurations(o.FRL.PlatformSelection,o.FRL.AccountLinking);break;case y.$D.AccountLinking:this.updateGameLaunchDurations(o.FRL.AccountLinking,o.FRL.NesAuthorization);break;case y.$D.Authorization:this.updateGameLaunchDurations(o.FRL.NesAuthorization,o.FRL.NetworkTest);break;case y.$D.NetworkTest:this.updateGameLaunchDurations(o.FRL.NetworkTest,o.FRL.StartSession),this.startGameLaunchDuration(o.FRL.StreamerClientSetupDuration);break;case y.$D.Loading:this.sendStreamingProfileEvent()}}updateSeatSetupEventSequence(l){this.seatSetupDurations.includes(l)&&this.seatSetupEventSequence.push(l)}getSeatSetupEventSequence(){return this.seatSetupEventSequence}resetSeatSetupEventSequence(l){l?(this.seatSetupEventSequence=[],this.resetGameLaunchDuration(o.FRL.StreamerClientSetupDuration),this.resetGameLaunchDuration(o.FRL.StreamerConnectionDuration),this.resetGameLaunchDuration(o.FRL.SeatConfigDuration),this.resetGameLaunchDuration(o.FRL.StreamingStartDuration)):this.seatSetupEventSequence.length>=1&&this.updateGameLaunchDurations(this.seatSetupEventSequence[this.seatSetupEventSequence.length-1],void 0)}setGameFeatureState(l){this.logger.info("Game feature updated",l),this.gameFeatureState=l}getAccountLinksData(){const l=this.ownershipSyncService.getAccountLinkingAnalyticsInfo(),i=[];for(const O of l)O.isAccountSyncSupported?i.push(O.providerType+(O.isSynced?"_SYNCED":"_UNSYNCED")):O.isAccountLinkingSsoAvailable&&i.push(O.providerType+(O.isAccountLinked?"_LINKED":"_UNLINKED"));return i}sendGameLaunchSourceInfoTelemetry(){var l;const i=null!==(l=this.streamerConfigService.activeConfig.shortName)&&void 0!==l?l:"",O=this.streamerConfigService.activeConfig.launchSource,T=this.gameLaunchAnalyticsService.getGameLaunchMetadata().epicAccountLinked?o.wye.TRUE:o.wye.FALSE;this.logger.info("Game launch source for game: ",i," is :",O),(0,x.$R)(this.telemetryService.getDefaultClientConsentObserable(),this.telemetryService.getCommonDataObservable()).subscribe(B=>{this.logger.info("Sending Game launch event for game: ",i);const K=this.guestModeHelperService.isGuestMode?{useBeacon:!0}:null;this.telemetryService.push(new o.U4l({gameShortName:i,gameLaunchSource:O,epicAccountLinked:T,accountLinks:this.getAccountLinksData()}),null,K)})}getNetworkTestDuration(){const l=this.gameLaunchDurations.get(o.FRL.NetworkTest).duration,i=this.gameLaunchDurations.get(o.FRL.Lbr).duration;return l>0?l-i:0}getStartSessionDuration(){const l=this.gameLaunchDurations.get(o.FRL.StartSession).duration,i=this.gameLaunchDurations.get(o.FRL.SessionQueue).duration;return l>0?l-i:0}getTotalGameLaunchDuration(){let l=0;return this.gameLaunchDurations.forEach((i,O)=>{!this.overlappingDurations.includes(O)&&!this.seatSetupEventSequence.includes(O)&&(l+=i.duration)}),l-=this.getTotaldialogInteractionDuration(),l}getTotaldialogInteractionDuration(){let l=0;return this.dialogInteractionDurations.forEach(i=>{l+=i}),l}getGameLaunchTelemetryStatus(l){return l&&Object.values(o.N3X).includes(l.status)?l.status:o.N3X.Success}sendGameLaunchDurationEvent(l,i=""){var O;const Y=null!==(O=this.streamerConfigService.activeConfig.shortName)&&void 0!==O?O:"",T=this.streamerConfigService.activeConfig.launchSource,B=this.gameLaunchAnalyticsService.getGameLaunchMetadata(),K=B.shortName;if(this.logger.info(`Sending game launch metrics for game: ${Y}, game in `,`metadata: ${K}, and game was launched via ${T}.`),K&&K!==Y&&T!==o.zO5.External&&T!==o.zO5.Deeplink)return this.logger.error(`Event not sent! Game launched: ${Y}, is different from the game launch info in `,`memory: ${K}, and game was launched via mallclient.`),void this.cleanupGameLaunchMetrics();const b=this.calculateLaunchDuration(),f=this.networkConfigurationService.getNetworkOverride();(0,x.$R)(f,b).pipe((0,L.q)(1)).subscribe(([D,I])=>{var w;const _=o.FRL,$=new o.Y_M({lbrDuration:this.gameLaunchDurations.get(_.Lbr).duration,initialLaunchDuration:this.gameLaunchDurations.get(_.InitialLaunch).duration,totalLaunchDuration:this.getTotalGameLaunchDuration(),platformSelectionDuration:this.gameLaunchDurations.get(_.PlatformSelection).duration-this.dialogInteractionDurations.get(v.z.PlatformSelection),accountLinkingDuration:this.gameLaunchDurations.get(_.AccountLinking).duration-this.dialogInteractionDurations.get(v.z.AccountLinking),nesAuthorizationDuration:this.gameLaunchDurations.get(_.NesAuthorization).duration,geronimoLaunchDuration:0,manualLoginEntryDuration:this.gameLaunchDurations.get(_.ManualLoginEntry).duration,lbrRun:this.serverRoutingService.isLbrRun?o.wye.TRUE:o.wye.FALSE,resumeType:this.resumeType,networkTestDuration:this.getNetworkTestDuration(),isResume:l&&!0===l.isResume?o.wye.TRUE:o.wye.FALSE,networkTestUiResult:this.networkTestUIResult,accountLinked:this.streamerConfigService.activeConfig.accountLinked?o.wye.TRUE:o.wye.FALSE,overrideActive:D?o.wye.TRUE:o.wye.FALSE,sessionCleanupDuration:this.gameLaunchDurations.get(_.SessionCleanup).duration,sessionQueueDuration:this.gameLaunchDurations.get(_.SessionQueue).duration,autoLoginDuration:this.gameLaunchDurations.get(_.AutoLogin).duration,streamerCefStartupDuration:this.gameLaunchDurations.get(_.StreamerCefInit).duration,networkTestRun:this.networkTestService.isNetworkTestRun?o.wye.TRUE:o.wye.FALSE,gameLaunchSource:T,oobeShown:this.oobeShown?o.wye.TRUE:o.wye.FALSE,isWarmLaunch:this.isWarmLaunch?o.wye.TRUE:o.wye.FALSE,streamerJsStartupDuration:this.gameLaunchDurations.get(_.StreamerJsInit).duration,sessionId:i||"",oobeCheckDuration:this.gameLaunchDurations.get(_.PreStreaming).duration,startSessionDuration:this.getStartSessionDuration(),overrideZone:null!==(w=null==D?void 0:D.address)&&void 0!==w?w:"",isFromGameChangeDialog:B.isFromGameChangeDialog?o.wye.TRUE:o.wye.FALSE,gameShortName:Y,updateCheckDuration:this.gameLaunchDurations.get(_.UpdateCheck).duration,status:this.getGameLaunchTelemetryStatus(l),errorDetails:l?l.errorDetails:"",streamerClientSetupDuration:this.gameLaunchDurations.get(o.FRL.StreamerClientSetupDuration).duration,streamerConnectionDuration:this.gameLaunchDurations.get(o.FRL.StreamerConnectionDuration).duration,seatConfigDuration:this.gameLaunchDurations.get(o.FRL.SeatConfigDuration).duration,streamingStartDuration:this.gameLaunchDurations.get(o.FRL.StreamingStartDuration).duration,featuresState:this.gameFeatureState,accountLinks:this.getAccountLinksData()});this.logger.info("Printing seat setup event sequence ",this.seatSetupEventSequence),this.telemetryService.push($,null,this.guestModeHelperService.isGuestMode?{useBeacon:!0}:null),this.cleanupGameLaunchMetrics()})}cleanupGameLaunchMetrics(){this.serverRoutingService.resetLbrStatus(),this.networkTestService.resetNetworkTestStatus(),this.resetNetworkTestResult(),this.resetResumeType(),this.resetGameLaunchDurationsMatrix(),this.gameLaunchAnalyticsService.resetGameLaunchMetadata(!0),this.resetdialogInteractionDurations()}}return s.\u0275fac=function(l){return new(l||s)(A.LFG(a.ed),A.LFG(d.y0),A.LFG(m.o),A.LFG(y.bF),A.LFG(o.XS0),A.LFG(o.GKb),A.LFG(a.dF),A.LFG(o.R2C),A.LFG(o.mw3),A.LFG(o.V89),A.LFG(o.unb),A.LFG(o.hTr),A.LFG(o.qMk))},s.\u0275prov=A.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},91739:(Ge,ae,e)=>{"use strict";e.d(ae,{y:()=>t,z:()=>n});var t=(()=>{return(x=t||(t={}))[x.AUTO_LOGIN=0]="AUTO_LOGIN",x[x.MANUAL_LOGIN=1]="MANUAL_LOGIN",x[x.EMAIL_VERIFICATION=2]="EMAIL_VERIFICATION",t;var x})(),n=(()=>{return(x=n||(n={})).PlatformSelection="platformSelection",x.AccountLinking="accountLinking",n;var x})()},80429:(Ge,ae,e)=>{"use strict";e.d(ae,{r:()=>o});var t=e(69060),n=e(99385),x=e(85566),L=e(97483),p=e(39609),P=e(64710),a=e(9357);let o=(()=>{class v{constructor(C,A,d,m,S){this.streamingManagerService=A,this.distributedTracingUtilService=d,this.networkConfigurationService=m,this.telemetryService=S,this.gameLaunchStepList=[n.$D.UpdateCheck,n.$D.PreStreaming,n.$D.Authentication,n.$D.PlatformSelection,n.$D.AccountLinking,n.$D.Authorization,n.$D.NetworkTest,n.$D.Loading],this.logger=C.getLogger("gameSessionDistributedTracingService"),this.streamerStateToSpanMap=new Map}getSpanName(C){switch(C){case n.$D.UpdateCheck:return t.j1.UpdateCheck;case n.$D.PreStreaming:return t.j1.PreStreaming;case n.$D.Authentication:return t.j1.StreamerAuthentication;case n.$D.PlatformSelection:return t.j1.PlatformSelection;case n.$D.AccountLinking:return t.j1.AccountLinking;case n.$D.Authorization:return t.j1.StreamerAuthorization;case n.$D.NetworkTest:return t.j1.StreamerNetworktest;case n.$D.Loading:return t.j1.SessionLoading;default:return C.name}}getStreamingManagerCallbacks(C){return{callbackContext:this,onStateBegin:this.generateBeginStateCallback(C).bind(this),onStateEnd:this.generateEndStateCallback(C).bind(this),onTerminalError:A=>this.onErrorState(C,A)}}generateBeginStateCallback(C){return()=>{this.logger.info("Generating Span for state:",C.name);const A=this.getSpanName(C),d=this.distributedTracingUtilService.startSpan(A,this.gameLaunchSpan);this.streamerStateToSpanMap.set(C,d)}}generateEndStateCallback(C){return()=>{const A=this.streamerStateToSpanMap.get(C);(0,x.isNil)(A)||(this.logger.info("Closing span for state:",C.name),C===n.$D.Authentication&&this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.LoginWindowShown,this.telemetryService.getScreen()!==L.CGJ.ScreenAutoLogin),this.distributedTracingUtilService.closeSpan(A))}}onErrorState(C,A){if(C===A.errorSourceState){(0,x.isNil)(this.gameLaunchSpan)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.Error,!0),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.FailurePoint,A.errorSourceState.name),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.ErrorType,A.errorData.errorType),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.ErrorCode,A.errorData.errorCode),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.HttpStatusCode,A.errorData.httpErrorCode));const d=this.streamerStateToSpanMap.get(C);(0,x.isNil)(d)||this.distributedTracingUtilService.setSpanAttribute(d,t.NI.Error,!0)}this.closeGameLaunchSpan()}subscribeToOverrideZone(){this.networkConfigurationService.getNetworkOverride().subscribe(C=>{(0,x.isNil)(this.gameLaunchSpan)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.RoutingOverrideUsed,!(0,x.isNil)(C)),(0,x.isNil)(C)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.OverrideZoneName,C.name),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.OverrideZoneAddress,C.address)))})}closeGameLaunchSpan(C){(0,x.isNil)(this.gameLaunchSpan)||((0,x.isNil)(C)||(this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.IsSessionAutoResumed,C.isResume),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.ErrorDetails,C.errorDetails),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.Error,C.status!==L.N3X.Success)),this.distributedTracingUtilService.closeSpan(this.gameLaunchSpan))}initGameSessionDistributedTracing(){this.gameLaunchStepList.forEach(C=>{this.streamingManagerService.register(C,this.getStreamingManagerCallbacks(C))})}startGameLaunchSpan(C){this.gameLaunchSpan=this.distributedTracingUtilService.startSpan(t.j1.GameLaunch),this.subscribeToOverrideZone(),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.LaunchSource,C.launchSource),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.CmsId,C.cmsId),this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.ShortName,C.shortName)}setAttributeOnGameLaunchSpan(C,A){(0,x.isNil)(this.gameLaunchSpan)||this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,C,A)}updateGeronimoLaunchInfo(C,A){(0,x.isNil)(this.gameLaunchSpan)||this.distributedTracingUtilService.setSpanAttribute(this.gameLaunchSpan,t.NI.SessionId,A),this.closeGameLaunchSpan(C)}getCurrentActiveSpan(){return this.streamerStateToSpanMap.get(this.streamingManagerService.getCurrentState())}}return v.\u0275fac=function(C){return new(C||v)(p.LFG(P.ed),p.LFG(n.bF),p.LFG(t.Dc),p.LFG(L.XS0),p.LFG(a.y0))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},91388:(Ge,ae,e)=>{"use strict";e.d(ae,{$e:()=>t.$,BJ:()=>x.B,V$:()=>n.V,wu:()=>t.w});var t=e(79309),n=e(3758),x=e(78241)},78241:(Ge,ae,e)=>{"use strict";e.d(ae,{B:()=>L});var t=e(2629),n=e(39609);e(3758),e(64710);let L=(()=>{class p{constructor(a,o,v,y,C){this.inputControl=v,this.logTag=y,this.osrBaseLogger=o.getLogger("OsrBaseComponent/"+y),this.osrHandler=a.createOsrHandler(y),this.hostClasses=["streamer-osr-component-flex"],C&&(this.hostClasses=this.hostClasses.concat(C)),this.hostClass=this.hostClasses.join(" ")}ngOnInit(){this.openOsr()}ngOnDestroy(){this.osrBaseLogger.info("ngOnDestroy closing and destroying osr handle"),this.osrHandler.closeAndDestroy().pipe((0,t.q)(1)).subscribe(a=>{this.osrBaseLogger.info("Closed osr, state after close: "+a)},a=>{this.osrBaseLogger.error("Received error when closing osr: ",a)})}setInputControl(a){this.osrBaseLogger.info("Setting input control after init to "+a),this.inputControl=a,this.openOsr()}openOsr(){this.osrBaseLogger.info("opening osr for",this.logTag,"with inputControl = "+this.inputControl),this.osrHandler.open(this.inputControl).pipe((0,t.q)(1)).subscribe(a=>{this.osrBaseLogger.info("Opened osr with state "+a)},a=>{this.osrBaseLogger.error("Received error when opening osr: ",a)})}}return p.\u0275fac=function(a){n.$Z()},p.\u0275dir=n.lG2({type:p,hostVars:2,hostBindings:function(a,o){2&a&&n.Tol(o.hostClass)}}),p})()},3758:(Ge,ae,e)=>{"use strict";e.d(ae,{V:()=>v});var t=e(79309),n=e(39536),x=e(53722),M=e(22804),L=e(2629),p=e(33932),P=e(51325),a=e(39609),o=e(64710);let v=(()=>{class y{constructor(A,d,m){this.loggingService=A,this.bridgeService=d,this.spatialNavigationService=m,this.logger=A.getLogger("gfn/osr-handler-service")}createOsrHandler(A){return this.logger.info("Creating new OsrHandler instance"),new t.w(this.loggingService,this.bridgeService,A,this.spatialNavigationService)}attachOsrHandlerForModal(A,d){let m,S,s;if(A instanceof n.hV)m="MatDialogRef",S=A.afterOpened(),s=A.afterClosed();else if(A instanceof x.oL)m="MatBottomSheetRef",S=A.afterOpened(),s=A.afterDismissed();else{if(!(A instanceof M.JP))throw new Error("not a supported type.");m="NvHigGenericDialogRef",S=A.afterOpened(),s=A.afterClosed()}if(!S||!s)throw new Error("Either afterOpen$ or afterClosed$ is not assigned.");return this.withOsrHandler(m,S,s,d),A}withOsrHandler(A,d,m,S){const s=this.createOsrHandler(A);return d.pipe((0,L.q)(1),(0,p.zg)(()=>s.open(S)),(0,p.zg)(()=>m.pipe((0,L.q)(1),(0,p.zg)(()=>s.closeAndDestroy()))),(0,P.K)(r=>(this.logger.info(`open osr failed. message: ${r.message}`),s.closeAndDestroy())),(0,L.q)(1)).subscribe(),s}}return y.\u0275fac=function(A){return new(A||y)(a.LFG(o.ed),a.LFG(o.dF),a.LFG(M.jr))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},79309:(Ge,ae,e)=>{"use strict";e.d(ae,{$:()=>L,w:()=>a});var t=e(89258),n=e(85566),M=e(21361),L=(()=>{return(o=L||(L={}))[o.Closed=0]="Closed",o[o.Open=1]="Open",o[o.OpenWithInput=2]="OpenWithInput",L;var o})();const P="OsrHandler has already been destroyed";let a=(()=>{class o{constructor(y,C,A,d){this.bridgeService=C,this.spatialNavigationService=d,this.desiredOsrState=L.Closed,this.logTag="",this.logger=y.getLogger("gfn/osr-handler"),this.destroyed=!1,this.logTag=A,o.registeredHandlers.push(this),this.logger.info("Created new OSR component",this.logTag)}static getStringListOfRegisteredHandlers(){let y="";return this.registeredHandlers.forEach(C=>y+=`\nState: ${C.desiredOsrState}, Parent: ${C.logTag}`),y}static clearHandlers(){this.registeredHandlers=[]}static getHighestRequestedState(){return 0===o.registeredHandlers.length?L.Closed:o.registeredHandlers.reduce((y,C)=>y.desiredOsrState>C.desiredOsrState?y:C).desiredOsrState}convertOsrReturnToOsrState(y,C){switch(y){case"osrOpen":return C?L.OpenWithInput:L.Open;case"osrClose":return L.Closed;default:return this.logger.error("Unknown osr return string: "+y+" returning closed"),L.Closed}}open(y=!1){if(this.destroyed)throw new Error(P);return this.desiredOsrState=y?L.OpenWithInput:L.Open,this.executeCommandForDesiredState(o.getHighestRequestedState())}close(){if(this.destroyed)throw new Error(P);return this.desiredOsrState=L.Closed,this.executeCommandForDesiredState(o.getHighestRequestedState())}closeAndDestroy(){if(this.destroyed)throw new Error(P);return this.desiredOsrState=L.Closed,this.destroyed=!0,o.registeredHandlers=(0,n.without)(o.registeredHandlers,this),this.executeCommandForDesiredState(o.getHighestRequestedState())}executeCommandForDesiredState(y){this.logger.info("List of all handlers, highest requested state:",y,o.getStringListOfRegisteredHandlers());let A,C=!1;switch(y){case L.OpenWithInput:C=!0,A=this.openOsrInternal(C);break;case L.Open:A=this.openOsrInternal(C);break;case L.Closed:A=this.closeOsrInternal();break;default:this.logger.error("Unknown desired osr state: "+y+" calling close"),A=this.closeOsrInternal()}return A.pipe((0,t.U)(d=>this.convertOsrReturnToOsrState(d,C)))}openOsrInternal(y){return this.spatialNavigationService.activated=y,this.bridgeService.executeCommand(M.Gh.Gfn.Streaming.OpenOsr,{enableInput:y})}closeOsrInternal(){return this.spatialNavigationService.activated=!1,this.bridgeService.executeCommand(M.Gh.Gfn.Streaming.CloseOsr)}}return o.registeredHandlers=[],o})()},4967:(Ge,ae,e)=>{"use strict";e.d(ae,{m:()=>m});var t=e(18406),n=e(59562),x=e(39138),M=e(23815),L=e(64710),p=e(99385),P=e(74266),a=e(63155),o=e(2629),v=e(4042),y=e(33932),C=e(42423),A=e(39609),d=e(97483);let m=(()=>{class S{constructor(r,l,i,O,Y,T,B,K,b,f){this.streamingManagerService=l,this.systemInfo=i,this.networkConfigService=O,this.networkStatusService=Y,this.guestModeHelperService=T,this.playtestLiveService=B,this.streamingService=K,this.udsHelperService=b,this.appConfig=f,this.networkConditionsData=new t.X(null),this._skipPostSessionTips=!0,this._currentStreamingResolution=null,this._currentStreamingProperties=null,this.udsDataReplaySubject=null,this.logger=r.getLogger("gfn/postSessionConnection")}get skipPostSessionTips(){return this._skipPostSessionTips}set skipPostSessionTips(r){this._skipPostSessionTips=r}emitUDSData(r){return this.udsDataReplaySubject||(this.udsDataReplaySubject=new n.t(1)),this.udsDataReplaySubject.next(r)}resetUDSDataReplaySubject(){var r;null===(r=this.udsDataReplaySubject)||void 0===r||r.complete(),this.udsDataReplaySubject=null}getUDSData$(){return this.udsDataReplaySubject||(this.udsDataReplaySubject=new n.t(1)),this.udsDataReplaySubject.asObservable()}get streamingResolution(){return this._currentStreamingResolution}set streamingResolution(r){this._currentStreamingResolution=r}get streamingProperties(){return this._currentStreamingProperties}set streamingProperties(r){this._currentStreamingProperties=Object.assign({},r)}get networkConditionsData$(){return this.networkConditionsData.asObservable()}get streamedAppName(){var r;return(null===(r=this.streamingService.streamingParams)||void 0===r?void 0:r.appName)||""}initializeStreamingUi(){this.streamingManagerService.register(p.$D.PostSessionConnection,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.streamingService.streamingEvent$.pipe((0,P.h)(l=>l.event===C.V4.SESSION_SETUP_SUCCESS||l.event===C.V4.STREAMING_TERMINATED)).subscribe(l=>{var i,O,Y,T,B,K,b,f,D,I,w,_,$,G,F,J,z,Z;if(l.event===C.V4.SESSION_SETUP_SUCCESS)this.sessionStartTime=Date.now(),(null===(i=null==l?void 0:l.streamSettings)||void 0===i?void 0:i.length)>0&&(this.streamingResolution={width:null!==(B=null===(T=null===(Y=null===(O=l.streamSettings[0])||void 0===O?void 0:O.videoSettings)||void 0===Y?void 0:Y.resolution)||void 0===T?void 0:T.width)&&void 0!==B?B:0,height:null!==(D=null===(f=null===(b=null===(K=l.streamSettings[0])||void 0===K?void 0:K.videoSettings)||void 0===b?void 0:b.resolution)||void 0===f?void 0:f.height)&&void 0!==D?D:0,fps:null!==(_=null===(w=null===(I=l.streamSettings[0])||void 0===I?void 0:I.videoSettings)||void 0===w?void 0:w.frameRate)&&void 0!==_?_:0}),this.streamingProperties=this.streamingService.streamingProperties;else if(l.event===C.V4.STREAMING_TERMINATED){this.logger.info("UDS Data on session termination ",null==l?void 0:l.udsData);const ue=null==l?void 0:l.udsData;!(null===(G=null===($=this.appConfig)||void 0===$?void 0:$.udsConfig)||void 0===G)&&G.useOverriddenSAScores&&ue&&!(null===(J=null===(F=this.appConfig)||void 0===F?void 0:F.udsConfig)||void 0===J)&&J.saScores&&(ue.saScores=Object.assign(Object.assign({},ue.saScores),null===(Z=null===(z=this.appConfig)||void 0===z?void 0:z.udsConfig)||void 0===Z?void 0:Z.saScores),this.logger.info("Overriding saScores ",ue.saScores)),this.emitUDSData(ue)}},l=>{this.logger.error("Error encountered during has PostSessionConnectionService streaming callback: ",l)})}closeDialog(){this.shownUiHandle&&(this.logger.info("closing post connection dialog"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null)}setNetworkConditions(){this.skipPostSessionTips=!1,this.networkStatusService.isOnline?(0,x.$R)(this.systemInfo.getNetworkInformation(),this.networkConfigService.getNetworkOverride()).pipe((0,a.P)()).subscribe(([r,l])=>{this.setNetworkConditionsInfo(!!r&&"1"===r.IsVPN,l,r?r.NetworkType:L.VV.Unknown,!1)},r=>this.logger.error("failed to set post session network conditions while online. Error: ",r)):this.networkConfigService.getNetworkOverride().pipe((0,a.P)()).subscribe(r=>{this.setNetworkConditionsInfo(!1,r,L.VV.Unknown,!0)},r=>this.logger.error("failed to set post session network conditions while offline. Error: ",r))}setNetworkConditionsInfo(r,l,i,O){const Y={isVpn:r,zoneOverride:l,networkType:i,isOffline:O};this.logger.info("post session network conditions are: ",Y),this.networkConditionsData.next(Y)}onStateStarted(r){this.uiHandle=r.handle,this.logger.info("skipping post session tips: ",this.skipPostSessionTips);const l=this.getUDSData$().pipe((0,o.q)(1),(0,v.h)(!0));this.shouldShowUDSSuggestions().pipe((0,o.q)(1),(0,y.zg)(i=>i?l:(0,M.of)(!1))).subscribe(i=>{var O;i&&!this.playtestLiveService.skipUds()?(this.uiHandle.restoreWindow(),this.uiHandleSub=this.uiHandle.show(["uds"]).subscribe(Y=>{this.shownUiHandle=Y})):(this.udsHelperService.udsSuggestionsShown=!1,this.skipPostSessionTips||this.playtestLiveService.skipPostSessionTips()||this.guestModeHelperService.isGuestMode&&(null===(O=this.guestModeHelperService.getGuestModeConfig())||void 0===O||!O.isPostSessionTipsEnabled)?this.uiHandle.goToNext():(this.setNetworkConditions(),this.uiHandle.restoreWindow(),this.skipPostSessionTips=!0,this.uiHandleSub=this.uiHandle.show(["postSessionConnection"]).subscribe(Y=>{this.shownUiHandle=Y})))})}shouldShowUDSSuggestions(){return null!=window&&window.uds?this.udsHelperService.shouldShowUDSDialog(this.getSessionDurationInSeconds()).pipe((0,o.q)(1)):(this.logger.info("uds object on window not found"),(0,M.of)(!1))}getSessionDurationInSeconds(){const r=Date.now()-this.sessionStartTime,l=Math.floor(r/1e3);return this.logger.info("Streaming session duration in seconds: ",l),l}onStateEnd(){this.uiHandle=null,this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null),this.resetUDSDataReplaySubject(),this.udsHelperService.unloadUdsJsBundle()}}return S.\u0275fac=function(r){return new(r||S)(A.LFG(L.ed),A.LFG(p.bF),A.LFG(L.Ob),A.LFG(d.XS0),A.LFG(L._J),A.LFG(d.hTr),A.LFG(d.Q0y),A.LFG(C.FW),A.LFG(d.wHL),A.LFG(d.VKt))},S.\u0275prov=A.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},30745:(Ge,ae,e)=>{"use strict";e.d(ae,{f:()=>v});var t=e(97483),n=e(85566),M=e(39609),L=e(95914),p=e(91565),P=e(64710),a=e(77779);let v=(()=>{class y{constructor(A,d,m,S,s){this.applicationLifetimeService=A,this.sharedStorageService=d,this.updateService=m,this.loggingService=S,this.streamerConfigService=s,this.logger=S.getLogger("StreamerRelaunchService")}startRelaunch(A){return this.ensureNewRelaunchStateMachine(),this.currentStateMachine.startRelaunch(A,!0)}ensureNewRelaunchStateMachine(){!(0,n.isNil)(this.currentStateMachine)&&this.currentStateMachine.isActive()&&this.currentStateMachine.cancelRelaunch(),this.currentStateMachine=new t.WM6(this.applicationLifetimeService,this.sharedStorageService,this.updateService,this.loggingService),this.currentStateMachine.setRelaunchShutdownHandler(this.relaunchShutdownHandler.bind(this))}relaunchShutdownHandler(){return this.currentStateMachine.appendRelaunchSharedData({cmsId:String(this.streamerConfigService.activeConfig.cmsId),releaseHighlight:!0})}}return y.\u0275fac=function(A){return new(A||y)(M.LFG(L.Ll),M.LFG(p.OA),M.LFG(t.GMF),M.LFG(P.ed),M.LFG(a.o))},y.\u0275prov=M.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},92159:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>p});var t=e(97483),n=e(39609),x=e(64710),M=e(77779),L=e(99385);let p=(()=>{class P{constructor(o,v,y){this.streamerConfigService=v,this.streamerManagerService=y,this.logger=o.getLogger("gfn/RelaunchGameService")}relaunchGame(){const o=(0,t.IGn)(this.streamerConfigService.activeConfig);this.logger.info("Same Game relaunch requested. Setting exit URL to",o),this.streamerManagerService.exitStreamer({exitUrl:o}).subscribe()}relaunchNewGame(o){const v=o.indexOf("#"),y=o.slice(v+1);this.logger.info("New Game relaunch requested. Setting exit URL to",y),this.streamerManagerService.exitStreamer({exitUrl:y}).subscribe()}}return P.\u0275fac=function(o){return new(o||P)(n.LFG(x.ed),n.LFG(M.o),n.LFG(L.bF))},P.\u0275prov=n.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},77779:(Ge,ae,e)=>{"use strict";e.d(ae,{o:()=>L});var t=e(18406),n=e(80155),x=e(97483),M=e(39609);let L=(()=>{class p{constructor(){this.streamerConfig=new t.X(this.createStreamerConfigFromSearchParameters())}get activeConfig(){return(0,n.IM)(this.streamerConfig.value)}set activeConfig(a){this.streamerConfig.next((0,n.IM)(a))}get config$(){return this.streamerConfig.asObservable()}createStreamerConfigFromSearchParameters(){const a=window.location.hash;return(0,x.A8q)(a)}}return p.\u0275fac=function(a){return new(a||p)},p.\u0275prov=M.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},49773:(Ge,ae,e)=>{"use strict";e.d(ae,{D8:()=>p,EP:()=>x,GR:()=>n,fD:()=>t,pY:()=>L,ym:()=>P});const t={width:470,height:618},n={width:560,height:166},x={width:560,height:146};var L=(()=>{return(a=L||(L={}))[a.InvalidParams=0]="InvalidParams",a[a.NetworkError=1]="NetworkError",a[a.ZeroCmsId=2]="ZeroCmsId",a[a.ScheduledMaintenance=3]="ScheduledMaintenance",a[a.UnsupportedPlatform=4]="UnsupportedPlatform",a[a.UnsupportedBrowser=5]="UnsupportedBrowser",a[a.PWARequired=6]="PWARequired",a[a.NativeAppOnly=7]="NativeAppOnly",L;var a})(),p=(()=>{return(a=p||(p={}))[a.UnsupportedRegion=0]="UnsupportedRegion",a[a.NotAffiliateEntitled=1]="NotAffiliateEntitled",a[a.NotEntitled=2]="NotEntitled",a[a.Unknown=3]="Unknown",p;var a})(),P=(()=>{return(a=P||(P={}))[a.MissingCmsId=0]="MissingCmsId",a[a.FailedToFetchAppStores=1]="FailedToFetchAppStores",a[a.PlatformSelectionCancelled=2]="PlatformSelectionCancelled",a[a.UnexpectedError=3]="UnexpectedError",P;var a})()},7537:(Ge,ae,e)=>{"use strict";e.d(ae,{Ac:()=>L,Gj:()=>t,b_:()=>n,wO:()=>x});const t={width:789,height:250,resultHeight:549,widthError:480,heightError:168,heightErrorSmall:148,widthErrorNetworkTest:744,heightErrorNetworkTest:312},n=549,x="rating",L="input"},17212:(Ge,ae,e)=>{"use strict";e.d(ae,{c:()=>x});var t=e(97483),n=e(42423);class x{constructor(L){this.appConfig=L}formatErrorCode(L){return(0,t.h6z)(L)}getErrorLink(L,p){let P,a;switch(p){case n.Sj.NVB_R_UDP_BUFFER_TOO_SMALL:P=t.hEi.UdpBufferTips,a="error.udpBufferTips";break;case n.Sj.NVB_R_FIREWALL_BLOCK:P=t.hEi.GfnPcNetHelpFirewall,a="error.checkFirewallSettingsTips";break;case n.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE1:case n.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE2:case n.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE3:case n.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR:P=t.hEi.GfnPcNetHelpWifi,a="common.troubleshootingTips";break;case n.dq.NVB_R_GFN_GAME_NOT_OWNED_BY_USER:P="",a="";break;case n.dq.NVB_R_VERSION_MISMATCH:P=t.hEi.GfnPcHelpUpdate,a="error.manualUpdateTips";break;case n.dq.NVB_R_SERVER_OUT_OF_SERVICE:case n.dq.NVB_R_SEVER_MAINTENANCE_MODE:case n.dq.NVB_R_INVALID_SERVER_RESPONSE:P=t.hEi.GfnServerStatus,a="common.viewServerStatus";break;case n.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING:case n.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND:P=t.hEi.GfnPcUnSupportedRegion,a="error.moreInformation";break;case n.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED:return{url:"https://nvidia.custhelp.com/app/answers/detail/a_id/5244/",text:"common.learnMore"};default:p>=n.dq.NVB_R_SERVER_ERROR_BEGIN&&p<=n.dq.NVB_R_SERVER_ERROR_MAX?(P=t.hEi.GfnServerStatus,a="common.viewServerStatus"):this.isVideoDecoderError(p)?(P=t.hEi.GfnPcHelpMissingDecoder,a="common.learnMore"):P=""}return 0===P.length?{url:"",text:""}:{url:this.appConfig.redirect.serverUrl+L+"&page="+P,text:a,shortUrl:t.hD7[P]}}isVideoDecoderError(L){return L>>>12===n.Sj.VIDEO_DECODER_ERROR_MASK||L===n.Sj.VIDEO_DECODER_CREATION_FAILED}}},24799:(Ge,ae,e)=>{"use strict";e.d(ae,{u:()=>p,C:()=>M});var t=e(42423),n=e(17212);const x={ExcludedFailedErrorCodes:[t.dq.NVB_R_TOO_MANY_SERVER_REQUESTS,t.dq.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT,t.dq.NVB_R_APPLICATION_PATCHING,t.dq.NVB_R_APP_MAINTENANCE_STATUS,t.dq.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND,t.dq.NVB_R_USER_IS_NOT_ENTITLED,t.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING,t.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND,t.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION,t.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND,t.dq.NVB_R_SESSION_NOT_ACTIVE],ExcludedTerminationErrorCodes:[t.Sj.NVB_R_UDP_BUFFER_TOO_SMALL,t.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,t.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,t.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT,t.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT,t.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP]};class M extends n.c{constructor(a){super(a),this.reasonToText=new Map([[t.Y6.NVB_SN_STOPPED_UNINTENTIONALLY,"error.sessionTerminated"],[t.Y6.NVB_SN_ENTITLEMENT_TIMEOUT,"error.entitlementTimeout"],[t.Y6.NVB_SN_STREAMER_NETWORK_ERROR,"error.streamerNetworkError"],[t.Y6.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT,"error.userIdleTimeout"],[t.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT,"error.sessionTimelimit"],[t.Y6.NVB_SN_TERMINATED_BY_OPERATOR,"error.maintenance"],[t.Y6.NVB_SN_TERMINATED_WINDOWED_MODE,"error.windowedMode"],[t.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,"error.systemWentToSleep"],[t.Y6.NVB_SN_TERMINATED_MULTIPLE_LOGIN,"error.multipleLogin"],[t.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,"error.playingOnAnotherStream"],[t.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER,"error.gameNotOwnedByUser"],[t.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP,"error.systemWentToSleep"],[t.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP,"error.systemSleepDuringSessionInit"],[t.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE,"error.scheduleMaintenanceText"]])}getErrorInfo(a,o,v,y,C,A){const d=this.getErrorText(v,y),m=this.getErrorCode(v,y),S=this.getTerminationErrorLink(a,v,y);return{errorCode:m,errorText:d,linkText:S.text,linkUrl:S.url,isErrorResumable:o,appName:C,appStore:A,shortUrl:S.shortUrl}}getErrorText(a,o){return a===t.Y6.NVB_SN_STREAMING_START_FAILED?o===t.Sj.NVB_R_UDP_BUFFER_TOO_SMALL?"error.increaseUdpBuffer":"error.failedToConnect":a===t.Y6.NVB_SN_PAUSED_BY_USER&&o===t.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR?"error.streamerNetworkError":o===t.Sj.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT?"error.protectedContent":this.reasonToText.has(a)?this.reasonToText.get(a):"error.sessionTerminated"}getErrorCode(a,o){return x.ExcludedTerminationErrorCodes.some(y=>y===a||y===o)?"":this.formatErrorCode(o||a)}getTerminationErrorLink(a,o,v){return this.getErrorLink(a,v||o)}}var L=e(85566);class p extends n.c{constructor(a){super(a),this.reasonToText=new Map([[t.dq.NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER,"error.cloudDown"],[t.dq.NVB_R_GES_NOT_REACHABLE,"error.cloudDown"],[t.dq.NVB_R_SERVER_OUT_OF_SERVICE,"error.cloudDown"],[t.dq.NVB_R_SEVER_MAINTENANCE_MODE,"error.maintenance"],[t.dq.NVB_R_INSUFFICIENT_RESOURCES,"error.insufficientResources"],[t.dq.NVB_R_STREAMER_NETWORK_ERROR,"error.networkError"],[t.dq.NVB_R_STREAMER_CONNECT_FAILED,"error.networkError"],[t.dq.NVB_R_SESSION_NOT_ACTIVE,"error.userIdleTimeout"],[t.dq.NVB_R_NOT_SUPPORTED,"error.restartApp"],[t.dq.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL,"error.restartApp"],[t.dq.NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT,"error.restartApp"],[t.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED,"error.restartApp"],[t.dq.NVB_R_PREFERRED_CONTROLLER_NOT_FOUND,"error.restartApp"],[t.dq.NVB_R_VERSION_MISMATCH,"error.manualUpdateRequired"],[t.dq.NVB_R_OS_ERROR,"error.reinstallApp"],[t.dq.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT,"error.reinstallApp"],[t.dq.NVB_R_APP_TITLE_FENCED,"error.titleFenced"],[t.dq.NVB_R_APPLICATION_PATCHING,"error.titleFenced"],[t.dq.NVB_R_APP_MAINTENANCE_STATUS,"fencedStatus.offlineSupplementalText"],[t.dq.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND,"fencedStatus.offlineSupplementalText"],[t.dq.NVB_R_INVALID_APP_IDENTIFIER,"error.invalidId"],[t.dq.NVB_R_USER_IS_NOT_ENTITLED,"error.affiliateAccessError"],[t.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING,"error.gfnNotAvailableInRegion"],[t.dq.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND,"error.gfnNotAvailableInRegion"],[t.dq.NVB_R_TOO_MANY_SERVER_REQUESTS,"error.tooManyRequests"],[t.dq.NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN,"error.multipleLogin"],[t.dq.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT,"error.playingOnAnotherStream"],[t.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED,"error.instanceTypeNotSupported"],[t.dq.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND,"error.instanceTypeNotSupported"],[t.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED,"error.sessionQueueLengthExceeded"],[t.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND,"error.sessionQueueLengthExceeded"],[t.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION,"error.gameBinariesNotAvailableInRegion"],[t.dq.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND,"error.gameBinariesNotAvailableInRegion"],[t.dq.NVB_R_SESSION_IN_QUEUE_ABANDONED,"error.gameLaunchTimeout"],[t.dq.NVB_R_ZONE_MAITENANCE_STATUS,"error.scheduleMaintenanceLoadingText"],[t.dq.NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND,"error.scheduleMaintenanceLoadingText"],[t.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE,"error.scheduleMaintenanceLoadingText"],[t.dq.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND,"error.scheduleMaintenanceLoadingText"],[t.dq.NVB_R_SESSION_ICE_CONNECTION_FAILED,"error.knowledgeSupportPageMessage"],[t.dq.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION,"error.instanceTypeNotSupported"]])}getErrorInfo(a,o,v,y,C){const A=this.getErrorText(v),d=this.getErrorCode(v,y),m=this.getFailedErrorLink(a,v,y);return{errorCode:d,errorText:A,linkText:m.text,linkUrl:m.url,isErrorResumable:o,reasonCode:v,appName:C,shortUrl:m.shortUrl}}getErrorText(a){return a>=t.dq.NVB_R_NETWORK_ERROR&&a<=t.dq.NVB_R_UNEXPECTED_HTTPREDIRECT?"error.localNetworkError":this.reasonToText.has(a)?this.reasonToText.get(a):"error.sessionFailed"}getErrorCode(a,o){let v;return v=(0,L.isArray)(o)&&o.length>0?o[0]:a,x.ExcludedFailedErrorCodes.includes(v)?"":this.formatErrorCode(v)}getFailedErrorLink(a,o,v){let y;return y=(0,L.isArray)(v)&&v.length>0?v[0]:o,this.getErrorLink(a,y)}}},22449:(Ge,ae,e)=>{"use strict";e.d(ae,{o:()=>n,r:()=>t});var t=(()=>{return(x=t||(t={})).HotKey="Hotkey",x.Igo="IGO",x.Osc="OSC",t;var x})(),n=(()=>{return(x=n||(n={})).Send="Send",x.ToggleTextVisibility="ToggleTextVisibility",n;var x})()},60841:(Ge,ae,e)=>{"use strict";e.d(ae,{q:()=>s});var t=e(48163),n=e(85566),x=e(24799),M=e(49773),L=e(99385),p=e(47504),P=e(42423),a=e(17212);class o extends a.c{getErrorInfo(l,i,O){const Y=this.getErrorText(O),T=this.formatErrorCode(O),B=this.getErrorLink(l,O);return{errorCode:T,errorText:Y,linkText:B.text,linkUrl:B.url,isErrorResumable:i,shortUrl:B.shortUrl}}getErrorText(l){return this.isVideoDecoderError(l)?"error.minRequirement":"error.invalidParams"}}var v=e(97483),y=e(66195),C=e(13800),A=e(2629),d=e(39609),m=e(64710);let s=(()=>{class r{constructor(i,O,Y,T,B,K,b,f,D,I,w){this.streamingManagerService=O,this.streamingService=Y,this.localeService=T,this.ecomService=B,this.gfnSdkService=b,this.guestModeService=f,this.guestModeHelperService=D,this.unsupportedBrowserService=I,this.telemetryUtilService=w,this.genericErrorPath=["streamerError","genericError"],this.nesErrorPath=["streamerError","nesAuthError"],this.ecomNesErrorPath=["streamerError","entitlementError"],this.sessionErrorPath=["streamerError","sessionError"],this.nonUpgradableUser=!1,this.canUpgradeOnSessionLength=!1,this.userMembership={},this.unsupportedGfnErrorExists=!1,this.logger=i.getLogger("gfn/errorService"),this.geronimoTerminationErrors=new x.C(K),this.geronimoFailedErrors=new x.u(K),this.geronimoBridgeErrors=new o(K),this.routeDataGenerators=new Map,this.routeDataGenerators.set(L.fR.GenericError,this.generateGenericErrorData.bind(this)),this.routeDataGenerators.set(L.fR.NesAuthError,this.generateNesErrorData.bind(this)),this.routeDataGenerators.set(L.fR.GeronimoError,this.generateStreamerErrorData.bind(this)),this.routeDataGenerators.set(L.fR.PreStreamGeronimoError,this.generatePreStreamerErrorData.bind(this)),this.routeDataGenerators.set(L.fR.EntitlementError,this.generateEntitlementErrorData.bind(this)),this.localeService.localeChanged.subscribe(_=>{this.locale=_})}initializeStreamingUi(){this.checkUserEntitlement(),this.streamingManagerService.register(L.$D.Error,{callbackContext:this,onStateBegin:this.routeErrorState,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(L.$D.ResumableError,{callbackContext:this,onStateBegin:this.onErrorState,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(L.$D.TerminalError,{callbackContext:this,onStateBegin:this.onErrorState,onStateEnd:this.onStateEnd})}closeErrorDialog(i=!0,O){this.shownUiHandle&&(this.logger.info("closing error dialog"),this.shownUiHandle.hide(),this.shownUiHandle=null),this.uiHandle&&i&&(this.logger.info("Going to the done state."),this.sendDialogClosedTelemetry(),this.uiHandle.goToDone(O),this.uiHandle=null)}isErrorResumable(){return this.streamingService.isSessionResumable()}routeErrorState(i){this.isErrorResumable()?i.errorUIHandle.goToResumableError(i.data):i.errorUIHandle.goToTerminalError(i.data)}onErrorState(i){var O,Y,T,B,K,b;if(this.uiHandle=i.handle,this.guestModeHelperService.isGuestMode)return(null===(Y=null===(O=i.data)||void 0===O?void 0:O.errorData)||void 0===Y?void 0:Y.errorCode)===P.Sj.GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED?this.guestModeService.updateGuestModeExitUrl(v.et_.GFN_Error_SessionLimitReached):(null===(B=null===(T=i.data)||void 0===T?void 0:T.errorData)||void 0===B?void 0:B.errorCode)===P.Sj.GUEST_MODE_CAMAPAIGN_DISABLED?this.guestModeService.updateGuestModeExitUrl(v.et_.Campaign_Suspended):(null===(b=null===(K=i.data)||void 0===K?void 0:K.errorData)||void 0===b?void 0:b.errorCode)!==P.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT&&this.guestModeService.updateGuestModeExitUrl(v.et_.GFN_Error),void this.closeErrorDialog();const f=this.generateErrorData(i.data);this.logger.info("Final error route data:",f),this.uiHandleSub=this.uiHandle.show(f.path,f.data).subscribe(D=>{this.shownUiHandle=D,this.sendDialogOpenTelemetryOnError(i.data)})}sendDialogOpenTelemetryOnError(i){var O;switch(null===(O=null==i?void 0:i.errorData)||void 0===O?void 0:O.errorCode){case M.pY.UnsupportedBrowser:case M.pY.UnsupportedPlatform:case M.pY.PWARequired:case M.pY.NativeAppOnly:this.unsupportedGfnErrorExists=!0,this.telemetryUtilService.sendPopUpDialogShownEvent(v.ItH.Unsupported_Browser_Or_Platform_Game_Launch)}}sendDialogClosedTelemetry(){this.unsupportedGfnErrorExists&&this.telemetryUtilService.sendPopUpDialogClosedEvent(v.ItH.Unsupported_Browser_Or_Platform_Game_Launch,v.XzU.Dialog_Closed)}onStateEnd(){this.uiHandle=null,this.unsupportedGfnErrorExists=!1,this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null)}generateErrorData(i){if(!this.routeDataGenerators.has(i.errorData.errorType))throw new Error("Cannot generate error route data for error type: "+i.errorData.errorType);return this.routeDataGenerators.get(i.errorData.errorType)(i.errorData)}generateNesErrorData(i){return this.logger.info("Generating Nes error data from:",i),{path:this.nesErrorPath,size:M.fD,data:{errorCode:i.errorCode}}}generateEntitlementErrorData(i){return this.logger.info("Generating Ecom user membership status error data from:",i),{path:this.ecomNesErrorPath,size:M.fD,data:{useCase:v.vq_.Join}}}generateGenericErrorData(i){this.logger.info("Generating generic error data from:",i);const O={errorText:"error.invalidParams",isErrorResumable:!1},Y=this.unsupportedBrowserService.unsupportedBrowserState$.pipe((0,C.w)(B=>this.unsupportedBrowserService.getDialogLink$(B,{anchorLink:!0})));switch(i.errorCode){case M.pY.NetworkError:O.errorText="error.networkError";break;case M.pY.ZeroCmsId:O.errorText="error.desktopShortcutInvalid";break;case M.pY.ScheduledMaintenance:O.errorText="error.scheduleMaintenanceLoadingText",O.reasonCode=P.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE;break;case M.pY.UnsupportedBrowser:case M.pY.PWARequired:case M.pY.NativeAppOnly:Y.pipe((0,A.q)(1)).subscribe(B=>{O.errorText="layout.universalUnsupportedDialogText.unsupportedBrowserHeaderText",O.linkText=B.text,O.linkUrl=B.url,O.shortUrl=B.shortUrl});break;case M.pY.UnsupportedPlatform:Y.pipe((0,A.q)(1)).subscribe(B=>{O.errorText="layout.universalUnsupportedDialogText.unsupportedPlatformHeaderText",O.linkText=B.text,O.linkUrl=B.url,O.shortUrl=B.shortUrl})}return{path:this.genericErrorPath,size:M.fD,data:O}}generatePreStreamerErrorData(i){let O;const Y=this.isErrorResumable();return i instanceof L.yX&&(0,n.has)(i,"resultInfo.code")?O=this.geronimoBridgeErrors.getErrorInfo(this.locale,Y,i.resultInfo.code):i instanceof L.yX&&(0,n.has)(i,"resultInfo.result")&&(0,n.has)(i,"resultInfo.extendedError")?(this.logger.info("Generating GeronimoPreStream error data from:",i,Y),O=this.geronimoFailedErrors.getErrorInfo(this.locale,Y,i.resultInfo.result,i.resultInfo.extendedError)):(this.logger.info("Unexpected Geronimo error data:",i,Y),O={errorText:"error.sessionFailed",isErrorResumable:Y}),{path:this.genericErrorPath,size:M.fD,data:O}}generateStreamerErrorData(i){var O,Y,T,B,K,b;let f;this.logger.info("Generating Geronimo error data from:",i);const D=i,I=this.isErrorResumable();let w=i.errorCode;if(D.errorEventInfo.event===P.V4.STREAMING_TERMINATED){const J=null===(O=this.streamingService.streamingParams)||void 0===O?void 0:O.digitalStore;if(f=this.geronimoTerminationErrors.getErrorInfo(this.locale,I,w,D.errorEventInfo.extendedCode,null!==(T=null===(Y=D.errorEventInfo)||void 0===Y?void 0:Y.latestStreamedAppName)&&void 0!==T?T:null===(B=this.streamingService.streamingParams)||void 0===B?void 0:B.appName,J),this.updateErrorTextForDefaultAppStore(J,f),this.logger.info("Game session limit reached: ",w," Show upsell dialog? ",this.canUpgradeOnSessionLength),w===P.Y6.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE)return this.logger.info("Stream terminated for scheduled maintenance of zone: ",w),f.reasonCode=w,{path:this.sessionErrorPath,size:M.EP,data:f};if(this.nonUpgradableUser&&w===P.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT)return{path:this.sessionErrorPath,size:M.GR,data:f};if(this.canUpgradeOnSessionLength&&w===P.Y6.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT)return{path:this.ecomNesErrorPath,size:M.fD,data:{useCase:v.vq_.MaxSessionLengthExceeded}};w===P.Y6.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER&&(this.logger.info("Stream ended because user does not own the game: ",w),f.reasonCode=w)}else{if(this.userMembership.eComFeatureEnabled&&D.errorEventInfo.event===P.V4.SESSION_SETUP_FAILURE&&(D.errorCode===P.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND||D.errorCode===P.dq.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED))return{path:this.ecomNesErrorPath,size:M.fD,data:{useCase:v.vq_.QueueLimitExceeded}};{const F=D.errorEventInfo;w=F.result.result,f=this.geronimoFailedErrors.getErrorInfo(this.locale,I,w,F.result.extendedError,null!==(K=null==F?void 0:F.latestStreamedAppName)&&void 0!==K?K:null===(b=this.streamingService.streamingParams)||void 0===b?void 0:b.appName)}}return{path:this.genericErrorPath,size:M.fD,data:f}}updateErrorTextForDefaultAppStore(i,O){i===v.f1U&&"error.gameNotOwnedByUser"===O.errorText&&(O.errorText="error.gameNotOwnedByUserWithoutAppStore")}checkUserEntitlement(){(0,p.aj)([this.ecomService.getUserMembership(),this.gfnSdkService.getAuthType()]).subscribe(([i,O])=>{var Y,T;const K=(0,t._T)(i,["product"]);this.logger.info("Check user membership for showing upsell dialog: ",K),this.userMembership=i,this.canUpgradeOnSessionLength=i.eComFeatureEnabled&&i.membershipStatus===v.Tn6.Entitled&&(null===(Y=i.subscription)||void 0===Y?void 0:Y.upsellOptions.betterSessionLengthProductExists),this.nonUpgradableUser=i.membershipStatus===v.Tn6.Entitled&&!(null!==(T=i.subscription)&&void 0!==T&&T.upsellOptions.betterSessionLengthProductExists),O===y.Gr.JWT&&(this.canUpgradeOnSessionLength=!0,this.nonUpgradableUser=!1)})}}return r.\u0275fac=function(i){return new(i||r)(d.LFG(m.ed),d.LFG(L.bF),d.LFG(P.FW),d.LFG(m.OL),d.LFG(v.BHV),d.LFG(v.VKt),d.LFG(y.s),d.LFG(v.o15),d.LFG(v.hTr),d.LFG(v.rHN),d.LFG(v.wU6))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},72231:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>S});var t=e(50017),x=e(64710),M=e(23815),L=e(74266),p=e(38435),P=e(33932),a=e(2629),o=e(42423),v=e(99385),y=e(39609),C=e(3878),A=e(77779),d=e(97483),m=e(54081);let S=(()=>{class s{constructor(l,i,O,Y,T,B,K,b,f,D,I,w){this.streamingManagerService=i,this.sanitizer=O,this.streamerConfigService=Y,this.streamingService=T,this.gfcHelperService=B,this.surveyService=K,this.feedbackService=b,this.playtestLiveService=f,this.guestModeHelperService=D,this.udsHelperService=I,this.appConfig=w,this.surveyURL=null,this.logger=l.getLogger("gfn/streamingFeedback"),this.logger.info("entered streamingFeedback"),this.sessionSetup$=this.streamingService.streamingEvent$.pipe((0,L.h)(_=>_.event===o.V4.SESSION_SETUP_SUCCESS)),this.sessionSetup$.subscribe(_=>{this.sessionStartTime=Date.now(),this.sessionId=this.streamingService.streamingProperties.sessionId},_=>{this.logger.error("Error encountered during has feedback check: ",_)})}initializeStreamingUi(){x.ng.isBrowserPlatform()&&this.gfcHelperService.getAppInstanceId().subscribe(i=>{this.appInstanceId=i}),this.streamingManagerService.register(v.$D.PostStreaming,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}finishFeedbackState(){this.shownUiHandle?(this.logger.info("Post-game feedback, finishFeedbackState - goToNext state"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):(this.logger.error("finishFeedbackUIState was called while UI was not shown."),this.uiHandle&&(this.logger.info("Try going to the next state."),this.uiHandle.goToNext()))}onStateStarted(l){var i,O;if(this.uiHandle=l.handle,null!==(i=this.appConfig.featureEnablement)&&void 0!==i&&i.nativeEndOfSessionSurvey)return this.uiHandle.goToNext(),void(this.uiHandle=null);this.playtestLiveService.skipFeedback()||this.guestModeHelperService.isGuestMode||this.udsHelperService.udsSuggestionsShown||!this.guestModeHelperService.isGuestMode&&null!==(O=this.streamerConfigService.activeConfig)&&void 0!==O&&O.sdkClient?this.finishFeedbackState():this.uiHandleSub=this.uiHandle.show(["feedback"],{surveyURL:this.surveyURL}).subscribe(Y=>{this.shownUiHandle=Y},Y=>this.logger.error("Error showing Feedback route: ",Y))}onStateEnd(){this.uiHandleSub&&this.uiHandleSub.unsubscribe(),this.shownUiHandle&&(this.shownUiHandle=null),this.uiHandle&&(this.uiHandle=null)}resizeWindowForFeedback(){this.uiHandle&&this.uiHandle.restoreWindow()}getSessionDuration(){const l=Date.now()-this.sessionStartTime,i=Math.floor(l/6e4);return this.logger.info("Streaming session duration in minutes: ",i),i}getPostGameSurveyUrl(){return this.isAdminHubSurvey=!1,this.surveyService.isSurveyFeatureAvailable([t.TriggerType.PostGame]).pipe((0,p.b)(l=>l?this.streamerConfigService.config$.pipe((0,P.zg)(i=>this.surveyService.getAvailableSurvey([t.TriggerType.PostGame],`${i.cmsId}`,this.sessionId,this.getSessionDuration())),(0,a.q)(1),(0,P.zg)(i=>{if(i){this.logger.info("AdminHub Post-game Survey is available");const O=this.sanitizer.bypassSecurityTrustResourceUrl(i.surveyContainerUrl);return this.isAdminHubSurvey=!0,this.logger.info("got surveySafeUrl: ",O),this.subscribeToSurveyEvents(i),(0,M.of)(O)}return this.logger.info("AdminHub PostGame Survey is not available, do not show feedback"),(0,M.of)(null)})):(this.logger.info("AdminHub PostGame Survey is not available due to disabled Feature Rollout"),(0,M.of)(null))))}hasAdminHubSurvey(){return this.isAdminHubSurvey}getUser(){return(0,M.of)(!0)}subscribeToSurveyEvents(l){this.surveyEventReferenceSubmitted=(0,t.subscribeToIFrameEvents)({surveyId:l.surveyId,type:t.SurveyEventType.Submitted},this.surveyEventListenerSubmitted.bind(this)),this.surveyEventReferenceDismissed=(0,t.subscribeToIFrameEvents)({surveyId:l.surveyId,type:t.SurveyEventType.Dismissed},this.surveyEventListenerDismissed.bind(this)),this.surveyEventReferenceCloseDialog=(0,t.subscribeToIFrameEvents)({surveyId:l.surveyId,type:t.SurveyEventType.CloseDialog},this.surveyEventListenerCloseDialog.bind(this))}surveyEventListenerSubmitted(){this.logger.info("PostGAME Submitted, closing window"),this.feedbackService.onSurveySent(),this.finishFeedbackState(),this.surveyEventReferenceSubmitted.unsubscribe()}surveyEventListenerDismissed(){this.logger.info("PostGAME Dismissed, closing window..."),this.finishFeedbackState(),this.surveyEventReferenceDismissed.unsubscribe()}surveyEventListenerCloseDialog(){this.logger.info("PostGAME closed, closing window..."),this.surveySendDismissTelemetry(),this.finishFeedbackState(),this.surveyEventReferenceCloseDialog.unsubscribe()}surveySendDismissTelemetry(){this.surveyService.surveyEventListenerCloseDialog(t.TriggerType.PostGame)}showSurveyGuideToastIfNeeded(){this.feedbackService.showGuideToastIfNeeded()}}return s.\u0275fac=function(l){return new(l||s)(y.LFG(x.ed),y.LFG(v.bF),y.LFG(C.H7),y.LFG(A.o),y.LFG(o.FW),y.LFG(d.dgl),y.LFG(d.FR5),y.LFG(m.TB),y.LFG(d.Q0y),y.LFG(d.hTr),y.LFG(d.wHL),y.LFG(d.VKt))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},14479:(Ge,ae,e)=>{"use strict";e.d(ae,{C:()=>s,p:()=>r});var t=e(39138),n=e(71265),x=e(63155),M=e(74266),L=e(33932),p=e(85566),P=e(21361),a=e(97483),o=e(22804),v=e(99385),y=e(64710),C=e(39609),A=e(61799),d=e(92159),m=e(77779),S=e(3878);const s="gameChange";let r=(()=>{class l{constructor(O,Y,T,B,K,b,f,D,I,w,_,$){var G;this.streamerManagerService=T,this.nativeEventService=B,this.bridgeService=K,this.imageFormatService=b,this.streamingService=f,this.relaunchGameService=D,this.streamerConfigService=I,this.titleService=w,this.gameLaunchAnalyticsService=_,this.lcarsService=$,this.isPreviousGameChangeDialogOpen=!1,this.isGameLaunchEventPresent=!1,this.tvMode=!1,this.logger=O.getLogger("gfn/game-change"),this.tvMode=!(null===(G=null==Y?void 0:Y.featureEnablement)||void 0===G||!G.tvMode)}initiateStreamingUi(){this.streamerManagerService.register(v.$D.Streaming,{callbackContext:this,onStateBegin:this.onStreamingBegin,onStateEnd:this.onStreamingEnd},v.pH.Quit),this.registerGameLaunchEvents(),this.registerForegroundEvent()}completePendingGameChange(O){if(O){(0,p.isNil)(this.pendingNewUrlRoute)&&this.logger.error("Cannot complete pending game launch, dont have a pending new url route"),this.logger.info("Game change, Restart cmd args: ","--url-route="+this.pendingNewUrlRoute);const Y=this.pendingNewUrlRoute;this.gameLaunchAnalyticsService.updateGameLaunchChangeMetadata(),this.hideGameChangeDialog(),this.streamingService.stopStreaming().pipe((0,n.b)(T=>{T&&(this.logger.info("Streaming stopped succesfully for game change"),this.titleService.setTitle(a.dCY),this.streamerManagerService.restoreWindow(),this.relaunchGameService.relaunchNewGame(Y))})).subscribe()}else this.logger.info("hideGameChangeDialog"),this.gameLaunchAnalyticsService.resetGameLaunchMetadata(!0),this.hideGameChangeDialog()}registerForegroundEvent(){this.nativeEventService.get$(y.Nx.ForegroundEvent,y.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(()=>{this.isGameLaunchEventPresent||this.requestUserAttention(),this.isGameLaunchEventPresent=!1},O=>{this.logger.error("Received error for Foreground window event: ",O),this.isGameLaunchEventPresent=!1})}registerGameLaunchEvents(){this.nativeEventService.get$(y.Nx.RouteChange,y.bi.Types.HandlerEventType.StructuredWindowEvent).subscribe(O=>{this.isGameLaunchEventPresent=!0,this.checkToShowGameChangeDialog(O)},O=>{this.logger.error("Received error for game change window event: ",O)})}onStreamingBegin(O){this.isInStreamingState=!0,this.uiHandle=O.handle}checkToShowGameChangeDialog(O){try{const Y=JSON.parse(O);if(this.logger.info("Received game change data: ",Y),(0,p.isNil)(Y)||(0,p.isNil)(Y["current-route"])||(0,p.isNil)(Y["new-route"]))return void this.logger.error("Invalid game change data given, ignoring");this.isInStreamingState?(this.logger.info("Game is already streaming. Handle game change dialog"),this.handleGameChange(Y)):(this.logger.info("Game is not streaming, requesting focus"),this.requestUserAttention())}catch(Y){this.logger.error(`Game change data failed JSON parsing. Error: ${Y} | Game change string: ${O}`)}}onStreamingEnd(){this.isInStreamingState=!1,this.uiHandle&&(this.uiHandle=null),this.showSub&&this.showSub.unsubscribe()}handleGameChange(O){if(O["new-route"].startsWith("oauth/"))return void this.logger.info("Got oauth route message, ignoring");const Y=this.streamerConfigService.activeConfig.cmsId;if((0,p.isNil)(Y)||0===Y)return void this.logger.error("Current cms id not found in url route, ignoring game change");const T=(0,a.X4o)(O["new-route"],this.logger);if(!(0,p.isNil)(T)&&0!==T)return Y===T?(this.logger.info("Ignoring request to launch a second instance of the currently running game"),void this.requestUserAttention()):(this.pendingNewUrlRoute=O["new-route"],void(this.uiHandle?(this.shownUiHandle&&(this.isPreviousGameChangeDialogOpen=!0,this.completePendingGameChange(!1)),this.requestUserAttention(),this.showSub=this.showGameChangeDialog(Y,T).subscribe(B=>{this.shownUiHandle=B},B=>{this.logger.error("Error when showing game change dialog: ",B)})):this.logger.error("Unknown error when showing game change dialog")));this.logger.error("New cms id not found in url route, ignoring game change")}requestUserAttention(){this.requestUserAttentionSub=this.bridgeService.executeCommand(P.Gh.Common.Windowcontrol.RequestUserAttention).pipe((0,x.P)()).subscribe()}showGameChangeDialog(O,Y){return this.logger.info("ShowGameChangeDialog called"),(0,t.$R)(this.lcarsService.getMetadataByCmsId(O),this.lcarsService.getMetadataByCmsId(Y)).pipe((0,M.h)(([T,B])=>!(0,p.isNil)(T)&&!(0,p.isNil)(B)),(0,L.zg)(([T,B])=>{const K=this.imageFormatService.formatImageServiceUrl(B.images.KEY_ART,{w:(0,o.av)(this.tvMode)});return this.uiHandle.show([s,{currentGameName:T.title,newGameName:B.title,newGameIcon:K}])}))}hideGameChangeDialog(){this.logger.info("Inside hideGameChangeDialog: ",this.shownUiHandle),this.shownUiHandle&&(this.shownUiHandle.hide(),this.shownUiHandle=null,this.showSub.unsubscribe(),this.showSub=null,this.isPreviousGameChangeDialogOpen||(this.pendingNewUrlRoute=null),this.isPreviousGameChangeDialogOpen=!1),this.requestUserAttentionSub&&(this.requestUserAttentionSub.unsubscribe(),this.requestUserAttentionSub=null)}}return l.\u0275fac=function(O){return new(O||l)(C.LFG(y.ed),C.LFG(a.VKt),C.LFG(v.bF),C.LFG(y.o1),C.LFG(y.dF),C.LFG(y.CQ),C.LFG(A.F),C.LFG(d.S),C.LFG(m.o),C.LFG(S.Dx),C.LFG(a.V89),C.LFG(a.zcQ))},l.\u0275prov=C.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},79486:(Ge,ae,e)=>{"use strict";e.d(ae,{el:()=>n,u7:()=>x});var n=(()=>{return(M=n||(n={})).EditBox="gfnEditBox",M.Unknown="unknown",n;var M})(),x=(()=>{return(M=x||(x={})).success="Success",M.missing="Missing event",M.invalidjson="Invalid JSON data",M.unknown="Unknown",x;var M})()},71052:(Ge,ae,e)=>{"use strict";e.d(ae,{x:()=>v});var t=e(96671),n=e(74266),x=e(42423),M=e(79486),L=e(97483),p=e(39609),P=e(64710),a=e(9357),o=e(39103);let v=(()=>{class y{constructor(A,d,m,S,s){this.injector=d,this.streamingService=m,this.telemetryService=S,this.projectInterfaceService=s,this.gfnEventEditboxSubject=new t.xQ,this.logger=A.getLogger("GfnEventsService"),this.gfnEditboxEventCounter=-1}GfnEventEditbox$(){return this.gfnEventEditboxSubject.asObservable()}initialize(){this.logger.info("GfnEvents service init"),this.streamingService.streamingEvent$.pipe((0,n.h)(A=>A.event===x.V4.STREAMING_BEGIN)).subscribe(()=>{this.cmsId=this.streamingService.streamingParams.appId,this.sessionId=this.streamingService.streamingProperties.sessionId,this.subSessionId=this.streamingService.streamingProperties.subSessionId}),this.streamingService.streamingEvent$.pipe((0,n.h)(A=>A.event===x.V4.STREAMING_TERMINATED||A.event===x.V4.STOP_RESULT)).subscribe(()=>{this.gfnEditboxEventCounter=-1}),this.projectInterfaceService.onCustomMessageReceived.subscribe(A=>{(null==A?void 0:A.messageRecipient)===L.gOl.Serenity&&this.parseGfnEvents(null==A?void 0:A.data)})}sendTelemetry(A,d){const m=new L.g7J({cmsId:this.cmsId.toString(),streamSessionId:this.sessionId,streamSubSessionId:this.subSessionId,eventType:this.getGfnEventType(A),statusDetails:d});this.telemetryService.push(m)}parseGfnEvents(A){this.logger.info("parseGfnEvents",A);try{const d=JSON.parse(A);if((null==d?void 0:d.event)===M.el.EditBox){const m=null==d?void 0:d.counter;m&&(-1===this.gfnEditboxEventCounter?this.gfnEditboxEventCounter=m:++this.gfnEditboxEventCounter!==m&&(this.logger.error("Counter mismatch counter: "+m+" gfnEditboxEventCounter: "+this.gfnEditboxEventCounter+" "+A),this.sendTelemetry(M.el.EditBox,M.u7.missing),this.gfnEditboxEventCounter=m));const S=null==d?void 0:d.args;if(S){const s=null==S?void 0:S.id;if(s){const r={id:s},l=null==S?void 0:S.Rect;l&&(r.left=l.left,r.top=l.top,r.right=l.right,r.bottom=l.bottom),this.gfnEventEditboxSubject.next(r)}}}}catch{this.logger.error("Invalid JSON",A),this.sendTelemetry(M.el.Unknown,M.u7.invalidjson)}}getGfnEventType(A){return A===M.el.EditBox?L.YyK.EditBox:L.YyK.EventNone}}return y.\u0275fac=function(A){return new(A||y)(p.LFG(P.ed),p.LFG(p.zs3),p.LFG(x.FW),p.LFG(a.y0),p.LFG(o.m3))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},49914:(Ge,ae,e)=>{"use strict";e.d(ae,{h:()=>r});var t=e(97483),n=e(66195),x=e(99385),M=e(23815),L=e(89258),p=e(33932),P=e(49773),a=e(69060),o=e(91739),v=e(85566),C=e(39609),A=e(64710),d=e(77779),m=e(80429),S=e(82512),s=e(42423);let r=(()=>{class l{constructor(O,Y,T,B,K,b,f,D,I,w){this.idmService=Y,this.gfnSdkService=T,this.streamingManagerService=B,this.networkStatusService=K,this.streamerConfigService=b,this.gameSessionDistributedTracingService=f,this.gameSessionAnalyticsService=D,this.streamingService=I,this.distributedTracingUtilService=w,this.logger=O.getLogger("gfn/streamingJarvisAuth")}initializeStreamingUi(){this.streamingManagerService.register(x.$D.Authentication,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}get hasShownUiHandle(){return!(0,v.isNil)(this.shownUiHandle)}finishJarvisAuthState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishJarvisAuthState was called while UI was not shown.")}goToErrorCallback(O){var Y;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(Y=this.uiHandle)||void 0===Y||Y.goToError(O)}onStateStarted(O){this.uiHandle=O.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this));const Y=this.gameSessionDistributedTracingService.getCurrentActiveSpan();this.networkStatusService.isOnline?this.gfnSdkService.getAuthInfo().subscribe(T=>{T.authType===n.Gr.JWT?(this.gameSessionAnalyticsService.setAuthenticationStatus(o.y.AUTO_LOGIN),this.logger.info("Using JWT auth flow, skipping the user auth check."),this.uiHandle.goToNext(),this.uiHandle=null):this.uiHandleSub=this.idmService.isUserTokenAvailable.pipe((0,L.U)(B=>B&&this.streamerConfigService.activeConfig.launchSource===t.zO5.GeForceNOW||this.gfnSdkService.isThisAGFNSDKSession()&&this.gfnSdkService.isAuthInfoValid(T)),(0,p.zg)(B=>(this.distributedTracingUtilService.setSpanAttribute(Y,a.NI.SkippedAuthCheck,B),B?(0,M.of)(null):this.uiHandle.show(["login"])))).subscribe(B=>{this.shownUiHandle=B,(0,v.isNil)(B)&&(this.gameSessionAnalyticsService.setAuthenticationStatus(o.y.AUTO_LOGIN),this.logger.info("User is logged in and game is launched from mall. Hence, skipping the auth check"),this.uiHandle.goToNext(),this.uiHandle=null)})}):(this.uiHandle.goToError({errorType:x.fR.GenericError,errorCode:P.pY.NetworkError}),this.uiHandle=null)}onStateEnd(){this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&this.uiHandleSub.unsubscribe()}}return l.\u0275fac=function(O){return new(O||l)(C.LFG(A.ed),C.LFG(t.No2),C.LFG(n.s),C.LFG(x.bF),C.LFG(A._J),C.LFG(d.o),C.LFG(m.r),C.LFG(S.h),C.LFG(s.FW),C.LFG(a.Dc))},l.\u0275prov=C.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},17564:(Ge,ae,e)=>{"use strict";e.d(ae,{wn:()=>R,q_:()=>t.q,Sc:()=>$.S,pp:()=>L.p,x9:()=>q.x,h$:()=>x.h,oG:()=>ne.o,rW:()=>ne.r,H9:()=>_e.H,J$:()=>_,gI:()=>M.g,iO:()=>ue.iO,nX:()=>Z});var t=e(60841),x=(e(24799),e(49914)),M=e(50744),L=e(14479),p=e(96671),P=e(23815),a=e(39138),o=e(47504),v=e(41221),y=e(33932),C=e(4042),A=e(71265),d=e(63155),m=e(2629),S=e(89258),s=e(51325),r=e(13800),l=e(85566),i=e(99385),O=e(64710),Y=e(97483),T=e(7537),B=e(69060),K=e(21361),b=e(39609),f=e(82512),D=e(80429),I=e(95914),w=e(61799);let _=(()=>{class U{constructor(pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve){this.streamingManagerService=Pe,this.gridService=Te,this.networkTestService=me,this.serverRoutingService=et,this.networkConfigurationService=Xe,this.gameSessionAnalyticsService=Ze,this.gameSessionDistributedTracingService=nt,this.applicationLifetimeService=Me,this.streamingProfileService=ze,this.appConfig=le,this.guestModeHelperService=Le,this.streamingService=Re,this.bridgeService=Q,this.distributedUtilService=ve,this.shutdownHandler=null,this.networkTestUIResult=Y.DYb.Unknown,this.logger=pe.getLogger("gfn/streamingNetworkTest")}initializeStreamingUi(){this.networkTestService.initialize(),this.streamingManagerService.register(i.$D.NetworkTest,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.streamingManagerService.register(i.$D.NetworkTest,{callbackContext:this,onStateBegin:this.setUpQuitDialog,onStateEnd:this.cleanUpQuitDialog},i.pH.Quit),this.shutdownHandler=this.applicationLifetimeService.addWorkOnShutdown(()=>this.serverRoutingService.cleanupOnCancel().pipe((0,y.zg)(()=>this.networkTestService.cleanupOnCancel()),(0,C.h)(void 0)))}setUpQuitDialog(pe){this.quitUIHandle=pe.handle,this.quitUIHandle.setExitGuard(()=>this.showQuitDialog())}cleanUpQuitDialog(){this.logger.info("NT is complete, unregistering quit handlers"),this.quitShownUIHandle&&(this.quitShownUIHandle=null,this.completePendingQuit(!0)),this.quitShowSubscription&&this.quitShowSubscription.unsubscribe(),this.requestUserAttentionSub&&this.requestUserAttentionSub.unsubscribe(),this.quitUIHandle=null}requestUserAttention(){this.requestUserAttentionSub&&this.requestUserAttentionSub.unsubscribe(),this.requestUserAttentionSub=this.bridgeService.executeCommand(K.Gh.Common.Windowcontrol.RequestUserAttention).subscribe()}showQuitDialog(){return this.quitSubject&&(this.logger.error("Previous quit subject is not cleaned up"),this.quitSubject.error("showQuitDialog is called again before clean up")),this.quitSubject=new p.xQ,this.requestUserAttention(),this.quitShowSubscription=this.quitUIHandle.show(["quitLoading"],{streamerState:i.$D.NetworkTest.name}).subscribe(pe=>{this.quitShownUIHandle&&this.quitShownUIHandle.hide(),this.quitShownUIHandle=pe,this.logger.info("Quit dialog is shown")},pe=>{this.logger.error("Received error while trying to show quit dialog: ",pe)},()=>{this.quitShowSubscription=null}),this.quitSubject.asObservable().pipe((0,y.zg)(pe=>(0,P.of)(pe)),(0,A.b)(()=>{this.hideQuitDialog()}))}hideQuitDialog(){this.quitShownUIHandle&&(this.quitShownUIHandle.hide(),this.quitShownUIHandle=null,this.quitShowSubscription.unsubscribe(),this.quitShowSubscription=null)}completePendingQuit(pe){this.quitSubject?(this.logger.info("Completing pending quit with: ",pe?"cancel":"quit"),this.quitSubject.next(!pe),this.quitSubject.complete(),this.quitSubject=null):this.logger.error("No pending quit to complete")}onStateEnd(){this.logger.info("Unsubscribing all the subscriptions before State End "),this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.networkOverridesSubscription&&this.networkOverridesSubscription.unsubscribe(),this.networkTestCallbacksSubscription&&this.networkTestCallbacksSubscription.unsubscribe()}goToErrorCallback(pe){var Pe;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(Pe=this.uiHandle)||void 0===Pe||Pe.goToError(pe)}onStateStarted(pe){this.uiHandle=pe.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),this.networkTestUIResult=Y.DYb.Unknown,this.networkTestSpan=this.gameSessionDistributedTracingService.getCurrentActiveSpan(),this.networkTestService.setParentSpanForNetworkTest(this.networkTestSpan);const Pe=this.networkConfigurationService.getNetworkOverride().pipe((0,y.zg)(Te=>{(0,l.isNil)(Te)||(this.logger.info("The user selected a zone manually and runNetworkTest is: ",Te.runNetworkTest),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.NetworkOverridePresent,!0),T.Gj.resultHeight=T.b_);const me=this.isNetworkTestRequired(Te),et=this.isLbrRequired(Te),Xe=this.getUpdatedThresholdInfo();return(0,a.$R)(me,et,Xe)}),(0,y.zg)(([Te,me,et])=>{if(Te||me)return this.networkTestCallbacks(),this.uiHandle.show(["networkTest"]);if(et.hasNetworkAnalysisParameterUpdated){this.networkTestCallbacks();const Xe={networkTestResult:JSON.stringify(et.updatedNetworkTestResult)};return this.uiHandle.show(["networkTest"],Xe)}return this.gameSessionAnalyticsService.setNetworkTestUIResult(Y.DYb.Skipped),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.NetworkTestStatus,Y.vg_.Skipped),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.NetworkTestStatus,Y.vg_.Skipped),(0,P.of)({})}),(0,d.P)());this.networkOverridesSubscription=Pe.subscribe(Te=>{this.logger.info("shownUiHandle",Te),(0,l.isEmpty)(Te)?(this.logger.info("Skip Network Test and LBR"),this.uiHandle.goToNext()):this.shownUiHandle=Te}),this.subscribeToZoneFromNetworkTestService()}getUpdatedThresholdInfo(){const pe={hasNetworkAnalysisParameterUpdated:!1};return O.ng.isBrowserPlatform()?(0,P.of)(pe):(0,o.aj)([this.networkTestService.getResolutionForThresholdComparision(),this.networkConfigurationService.getCurrentFingerprintInfo()]).pipe((0,m.q)(1),(0,y.zg)(([Pe,Te])=>{if(null==Te||!Te.networkTestReturn)return(0,P.of)(null);const me=this.networkTestService.selectThresholdForResolution(Te.networkTestReturn.testResult.thresholds,Pe);return me.profile.width!==Te.lastShownThresholdProfile.width||me.profile.height!==Te.lastShownThresholdProfile.height||me.profile.frameRate!==Te.lastShownThresholdProfile.frameRate?(this.networkConfigurationService.updateNetworkTestThresholdProfile(me.profile).subscribe(v.Z,v.Z),this.networkTestService.analyzeNetworkTestResults(Te.networkTestReturn,me,!1)):(0,P.of)(null)}),(0,S.U)(Pe=>Pe?{hasNetworkAnalysisParameterUpdated:!0,updatedNetworkTestResult:Pe}:pe),(0,s.K)(Pe=>(this.logger.error("Error while checking for updated threshold",Pe),(0,P.of)(pe))))}subscribeToZoneFromNetworkTestService(){this.networkTestService.zoneName.subscribe(pe=>{this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.ZoneName,pe.name),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.ZoneAddress,pe.address),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.ZoneName,pe.name),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.ZoneAddress,pe.address)})}networkTestCallbacks(){this.networkTestCallbacksSubscription=this.networkTestService.networkTestMessages.subscribe(pe=>{var Pe,Te;switch(this.logger.info("Received network test message: ",pe,Y.ASW[null===(Pe=null==pe?void 0:pe.data)||void 0===Pe?void 0:Pe.networkTestStatus]),pe.message){case Y.Irw.NetworkTestAutoRunDone:pe.data.networkTestStatus===Y.ASW.Excellent?(this.networkTestUIResult===Y.DYb.Unknown&&(this.networkTestUIResult=Y.DYb.Passed),this.finishNetworkTestState(),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.NetworkTestStatus,Y.vg_.Passed),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.NetworkTestStatus,Y.vg_.Passed),this.networkTestCallbacksSubscription.unsubscribe()):this.networkTestUIResult=Y.DYb.DialogShown,this.gameSessionAnalyticsService.setNetworkTestUIResult(this.networkTestUIResult);break;case Y.Irw.NetworkTestClosed:this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.NetworkTestStatus,Y.vg_.UserInputPrompted),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.NetworkTestStatus,Y.vg_.UserInputPrompted),this.finishNetworkTestState();break;case Y.Irw.NetworkTestClosedOnError:this.isWebRtcNetworkTestEnabled?this.finishNetworkTestState():this.closeStreamerWindow();break;case Y.Irw.NetworkTestFailed:this.gameSessionAnalyticsService.handleGameLaunchFailure({status:pe.data.networkTestStatus,errorDetails:pe.data.errorDetails});break;case Y.Irw.NetworkTestAutoRunTryAgain:break;case Y.Irw.LBRAutoRunDone:let me,et;this.finishNetworkTestState(),null!==(Te=pe.data)&&void 0!==Te&&Te.isLbrRun?(me=Y.vg_.LbrDone,et=Y.DYb.LbrDone):(me=Y.vg_.Skipped,et=Y.DYb.Skipped),this.distributedUtilService.setSpanAttribute(this.networkTestSpan,B.NI.NetworkTestStatus,me),this.gameSessionDistributedTracingService.setAttributeOnGameLaunchSpan(B.NI.NetworkTestStatus,me),this.networkTestCallbacksSubscription.unsubscribe(),this.gameSessionAnalyticsService.setNetworkTestUIResult(et);break;default:this.logger.info("Network test message: default case"),this.finishNetworkTestState()}})}finishNetworkTestState(){this.networkTestService.setNetworkTestExpiryTime().subscribe(),this.shownUiHandle?(this.logger.info("Proceed to next state"),this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishNetworkTestState was called while UI was not shown."),this.shutdownHandler&&(this.shutdownHandler.remove(),this.shutdownHandler=null)}closeStreamerWindow(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.quitUIHandle.setExitGuard(()=>(0,P.of)(!0)),this.uiHandle.goToDone(),this.uiHandle=null):this.logger.error("closeStreamerWindow was called while UI was not shown.")}isWebrtcNetworkTestRequired(pe){return this.networkTestService.webrtcNetworkTestEnabled.pipe((0,r.w)(Pe=>Pe.showUI?this.networkTestService.isWebrtcNetworkTestRequired(pe):(0,P.of)(!1)))}isNetworkTestRequired(pe){var Pe,Te;if(null!==(Pe=this.appConfig.featureEnablement)&&void 0!==Pe&&Pe.disablePreStreamNetworkTest||this.guestModeHelperService.isGuestMode&&(null===(Te=this.guestModeHelperService.getGuestModeConfig())||void 0===Te||!Te.isNetworkTestEnabled))return(0,P.of)(!1);let me;return O.ng.isBrowserPlatform()?me=this.isWebrtcNetworkTestRequired(pe):(0,l.isNil)(pe)||!pe.runNetworkTest?me=this.networkTestService.shouldNetworkTestRun().pipe((0,y.zg)(et=>et?(0,P.of)(!0):this.isMaxDisplayRequired().pipe((0,A.b)(Xe=>{Xe&&(this.logger.info("Max display is required, hence run network test"),this.networkTestService.setRetriggerPolicy(Y.Yk9.MaxDisplayRequired))})))):(this.logger.info("Override zone has been set, hence run network test"),this.networkTestService.setRetriggerPolicy(Y.Yk9.OverrideFlagSet),me=(0,P.of)(pe.runNetworkTest)),me.pipe((0,A.b)(et=>{this.networkTestService.isNetworkTestRequired=et,this.logger.info(`Network test will ${et?"":"not "}be run.`)}))}isLbrRequired(pe){var Pe;if(null!==(Pe=this.appConfig.featureEnablement)&&void 0!==Pe&&Pe.disablePreStreamNetworkTest)return(0,P.of)(!1);let Te;return Te=(0,l.isNil)(pe)&&O.ng.isNativeLikePlatform()?this.gridService.zoneList$.pipe((0,s.K)(me=>(this.logger.error("error to get zone list from server: ",me),(0,P.of)({}))),(0,r.w)(me=>this.serverRoutingService.shouldLbrRun(me))):O.ng.isNativeLikePlatform()?this.networkConfigurationService.getCurrentCachedLatencies().pipe((0,S.U)(me=>!!(0,l.isNil)(me))):(0,P.of)(!1),Te.pipe((0,A.b)(me=>{this.serverRoutingService.isLbrRequired=me,this.logger.info(`LBR will ${me?"":"not "}be run.`)}))}isMaxDisplayRequired(){return this.streamingProfileService.getStreamingProfile().pipe((0,y.zg)(pe=>{const Pe=pe.networkInfo,Te=pe.currentFingerprintMaxDisplay,me=pe.primaryDisplayResolution;return(0,l.isNil)(pe)||(0,l.isNil)(Pe)||!this.appConfig.featureEnablement.dynamicStreamingResolution||pe.name!==Y.M1b.Balanced||Pe.NetworkType===O.VV.WiFi2_4?(0,P.of)(!1):(0,l.isNil)(Te)?(0,P.of)(!0):this.streamingProfileService.getNvSupportedResolutions().pipe((0,S.U)(et=>{let Xe=me.width/me.height,Ze=!1;for(const Me of et)if(Xe===Me.widthInPixels/Me.heightInPixels){Ze=!0;break}Ze||(Xe=16/9);const nt=Xe!==Te.width/Te.height;return nt&&this.streamingProfileService.clearCachedStreamingProfile(),nt}))}))}}return U.\u0275fac=function(pe){return new(pe||U)(b.LFG(O.ed),b.LFG(i.bF),b.LFG(Y.rIG),b.LFG(Y.R2C),b.LFG(Y.mw3),b.LFG(Y.XS0),b.LFG(f.h),b.LFG(D.r),b.LFG(I.Ll),b.LFG(Y.GKb),b.LFG(Y.VKt),b.LFG(Y.hTr),b.LFG(w.F),b.LFG(O.dF),b.LFG(B.Dc))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var $=e(72231),G=e(76086),F=e(30745),J=e(77779),z=e(52954);let Z=(()=>{class U{constructor(pe,Pe,Te,me,et,Xe,Ze,nt,Me){this.streamingManagerService=Pe,this.streamerRelaunchService=Te,this.updateService=me,this.streamerConfigService=et,this.location=Xe,this.gfnSwUpdateService=Ze,this.streamingService=nt,this.deeplinkHelperService=Me,this.logger=pe.getLogger("gfn/streamingUpdateCheck")}initializeStreamingUi(){this.streamingManagerService.register(i.$D.UpdateCheck,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd}),this.currentStateSubscription&&(this.currentStateSubscription.unsubscribe(),this.currentStateSubscription=null),this.currentStateSubscription=this.streamingManagerService.getCurrentStateChanges().subscribe(Pe=>{this.logger.info("streaming state change: ",Pe),this.currentState=Pe})}finishUpdateCheckState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null):this.logger.error("finishUpdateCheckState was called while UI was not shown.")}goToErrorCallback(pe){var Pe;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(Pe=this.uiHandle)||void 0===Pe||Pe.goToError(pe)}onStateStarted(pe){this.uiHandle=pe.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),O.ng.isBrowserPlatform()?this.handleBrowserUpdate():this.handleDesktopUpdate()}handleBrowserUpdate(){this.gfnSwUpdateService.isFirstInstallation()?(this.logger.info("First Installation, skipping update check"),this.uiHandle.goToNext()):this.browserUpdateCheckSubscription=this.gfnSwUpdateService.checkForUpdates().pipe((0,r.w)(pe=>pe.updateAvailable?(this.logger.info("Update was installed. Will request service worker to activate",pe),this.updateService.appendUpdateData({updateFromJS:!0,updateFromStreamer:!0,updateStartTimestamp:Date.now()})):(this.logger.info("No update available."),(0,P.of)(!1))),(0,y.zg)(pe=>{if(pe&&this.deeplinkHelperService.allowApplicationReload()){const Pe=(0,Y.IGn)(this.streamerConfigService.activeConfig);return this.location.replaceState(Pe),this.gfnSwUpdateService.activateServiceWorker()}return(0,P.of)(!1)}),(0,y.zg)(pe=>pe?this.gfnSwUpdateService.swActivationTimedOutNotification:(0,P.of)(!1))).subscribe(pe=>{pe?this.logger.info("Activation requested. Will reload in a moment..."):(this.logger.info("Moving to next state."),this.uiHandle.goToNext())},pe=>{this.logger.error("Failed to check for update",pe),this.currentState===i.$D.UpdateCheck&&this.uiHandle.goToNext()})}handleDesktopUpdate(){const pe=(0,G.P)(()=>(0,P.of)(this.uiHandle.goToNext()));this.updateService.getAvailableUpdate$().pipe((0,r.w)(Pe=>Pe?(this.logger.info("Update available, attempting update"),this.streamerRelaunchService.startRelaunch(!0)):(this.logger.info("No update available on startup."),pe))).subscribe(()=>this.logger.info("Finished update check"),Pe=>{this.logger.error("Failed to check for pending update",Pe),this.currentState===i.$D.UpdateCheck&&this.uiHandle.goToNext()})}onStateEnd(){this.logger.info("Unsubscribing all the subscriptions before State End"),this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&(this.uiHandleSub.unsubscribe(),this.uiHandleSub=null),this.browserUpdateCheckSubscription&&this.browserUpdateCheckSubscription.unsubscribe()}}return U.\u0275fac=function(pe){return new(pe||U)(b.LFG(O.ed),b.LFG(i.bF),b.LFG(F.f),b.LFG(Y.GMF),b.LFG(J.o),b.LFG(z.Ye),b.LFG(Y.m$M),b.LFG(w.F),b.LFG(Y.gIP))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var ue=e(65641),u=e(18406),k=e(12606),W=e(57693),N=e(74266),H=e(42423),h=e(9357),E=e(70494),ee=e(74482);let R=(()=>{class U{constructor(pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le){var Le,Re,Q,ve;this.configuration=Te,this.streamingService=me,this.telemetryService=et,this.streamerManagerService=Xe,this.bridgeService=Ze,this.experienceControl=nt,this.keyboardLayoutService=Me,this.networkStatusService=ze,this.appConfig=le,this.activeUiHandle=null,this.imeEnabled=!1,this.imeOpened=new u.X(!1),this.imeInputActionSubject=new p.xQ,this.imeInputTextVisibleSubject=new p.xQ,this.logger=Pe.getLogger("ClientImeLoaderService"),this.mobileMode=!(null===(Re=null===(Le=this.appConfig)||void 0===Le?void 0:Le.featureEnablement)||void 0===Re||!Re.mobileMode),this.tvMode=!(null===(ve=null===(Q=this.appConfig)||void 0===Q?void 0:Q.featureEnablement)||void 0===ve||!ve.tvMode),this.isImeConfigEnabled$=(0,P.of)(Te.featureEnablement.clientIME).pipe((0,r.w)(be=>be&&this.mobileMode?pe.accountStatusChanged.pipe((0,r.w)(xe=>this.queryGxTargetForBrowserClientIME(xe)),(0,k.x)()):(0,P.of)(be)),(0,W.d)(1)),this.isImeEnabled$=(0,o.aj)([this.isImeConfigEnabled$,this.networkStatusService.onlineStatusChanged]).pipe((0,r.w)(([be,xe])=>(this.logger.info("Client IME support changes to",be?"supported":"unsupported"),xe?this.mobileMode||this.tvMode?(0,P.of)(be):O.ng.isBrowserPlatform()?this.keyboardLayoutService.readCachedKeyboardLayout().pipe((0,r.w)(ke=>{var Ce;return this.logger.info("Keyboard layout cache read response: ",ke),ke&&Object.keys(ke).length>0?(0,P.of)(null===(Ce=null==ke?void 0:ke.params)||void 0===Ce?void 0:Ce.isOtherLayout):(0,P.of)(this.keyboardLayoutService.isOtherDefaultLayout)})):(0,o.aj)([this.keyboardLayoutService.getKeyboardLayoutsList(),this.keyboardLayoutService.onKBLayoutChange$,this.keyboardLayoutService.readCachedKeyboardLayout()]).pipe((0,r.w)(([ke,Ce,ge])=>{var De;if(!(0,l.isNil)(ge)&&!(0,l.isEmpty)(ge))return(0,P.of)(null===(De=ge.params)||void 0===De?void 0:De.isOtherLayout);{const ye=ke;this.logger.info("kbChanged: ",Ce);const Oe=ye.find(ie=>ie.code===Ce);return(0,P.of)(void 0===Oe)}})):(this.logger.info("Returning false. isOnline: ",xe),(0,P.of)(!1)))),(0,s.K)(be=>(this.logger.error("Error detected while checking whether the clientIME feature is enabled",be),(0,P.of)(!1))))}get imeInputInProgress(){return this.imeOpened.value}get imeOpened$(){return this.imeOpened.asObservable()}get imeInputAction$(){return this.imeInputActionSubject.asObservable()}get imeInputTextVisible$(){return this.imeInputTextVisibleSubject.asObservable()}queryGxTargetForBrowserClientIME(pe){var Pe,Te;const me=(0,P.of)({userId:null!==(Pe=null==pe?void 0:pe.userId)&&void 0!==Pe?Pe:"",idpId:null!==(Te=null==pe?void 0:pe.idpId)&&void 0!==Te?Te:""});return this.experienceControl.getCloudVariable(this.configuration.gxTarget.experiences.isBrowserClientIMESupported,{},void 0,void 0,void 0,me).pipe((0,S.U)(et=>et.value.isBrowserClientIMESupported),(0,s.K)(et=>(this.logger.info("Failed to resolve gx-target cloud variable:",et),(0,P.of)(!1))))}initialize(){this.streamerManagerService.register(i.$D.Streaming,{callbackContext:this,onStateBegin:this.onStateBegin,onStateEnd:this.onStateEnd},i.pH.Primary),this.isImeEnabled$.subscribe(Pe=>{this.logger.info("Cient IME",Pe?"enabled":"disabled"),this.imeEnabled=Pe}),this.streamingService.streamingEvent$.pipe((0,N.h)(Pe=>Pe.event===H.V4.SESSION_SETUP_SUCCESS)).subscribe(Pe=>{this.sessionStartTime=Date.now()},Pe=>{this.logger.error("Error encountered while getting session setup time: ",Pe)})}onStateBegin(pe){this.activeUiHandle=pe.handle}onStateEnd(){this.activeUiHandle=null,this.imeOpened.next(!1)}initImeInputHandler(pe){var Pe;this.imeEnabled?!1===this.imeInputInProgress&&(null===(Pe=this.activeUiHandle)||void 0===Pe||Pe.show(["input"]).subscribe(Te=>{this.imeOpened.next(!0),this.shownImeInputHandle=Te,this.logger.info("IME window opened");const me=new Y.aGN({streamDuration:0,source:""});me.parameters.source=pe,me.parameters.streamDuration=Date.now()-this.sessionStartTime,this.telemetryService.push(me)},Te=>{this.logger.info("Failed to open IME window")})):this.logger.error("Client IME is disabled!")}closeImeInputHandler(){this.shownImeInputHandle.hide(),this.imeOpened.next(!1),this.logger.info("IME window closed")}sendUnicodeInput(pe){const Te=(new TextEncoder).encode(pe);return this.bridgeService.executeCommand(K.Gh.Gfn.Streaming.SendUnicode,{unicodeInput:Te})}controlImeInput(pe){this.imeInputActionSubject.next(pe)}emitImeInputTextVisibility(pe){this.imeInputTextVisibleSubject.next(pe)}}return U.\u0275fac=function(pe){return new(pe||U)(b.LFG(Y.No2),b.LFG(O.ed),b.LFG(Y.VKt),b.LFG(w.F),b.LFG(h.y0),b.LFG(i.bF),b.LFG(O.dF),b.LFG(E.Q6),b.LFG(ee.G),b.LFG(O._J),b.LFG(Y.VKt))},U.\u0275prov=b.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();var q=e(71052),ne=e(22449),_e=e(35006)},35006:(Ge,ae,e)=>{"use strict";e.d(ae,{H:()=>d});var t=e(96671),n=e(42930),x=e(33932),M=e(57693),L=e(74266),p=e(89258),P=e(71265),a=e(10907),o=e(9359),v=e(42423),y=e(39609),C=e(64710),A=e(97483);let d=(()=>{class m{constructor(s,r,l){this.streamingService=r,this.appConfig=l,this.quality$=new t.xQ,this.logger=s.getLogger("gfn/NetworkBarsUiService")}get qualityInfo$(){return(0,n.H)(this.appConfig.networkIndicators.initializationDelay).pipe((0,x.zg)(()=>this.quality$),(0,M.d)(1))}initializeStreamingUi(){this.logger.info("initializeStreamingUi");const s=this.streamingService.streamingEvent$.pipe((0,L.h)(r=>r.event===v.V4.STREAMING_QUALITY),(0,p.U)(r=>r));this.terminated$=this.streamingService.streamingEvent$.pipe((0,L.h)(r=>r.event===v.V4.STREAMING_TERMINATED),(0,p.U)(r=>r),(0,P.b)(r=>this.logger.info("got terminated event"))),this.onFrameLossWarning=this.streamingService.streamingEvent$.pipe((0,L.h)(r=>r.event===v.V4.STREAMING_FRAME_LOSS_WARNING),(0,P.b)(r=>this.logger.info("got onFrameLossWarning event",r))),this.onFrameLossCleared=this.streamingService.streamingEvent$.pipe((0,L.h)(r=>r.event===v.V4.STREAMING_FRAME_LOSS_CLEARED),(0,P.b)(r=>this.logger.info("got onFrameLossCleared event",r))),this.onStreamingFirstFrame=this.streamingService.streamingEvent$.pipe((0,L.h)(r=>r.event===v.V4.STREAMING_FIRST_FRAME),(0,P.b)(r=>this.logger.info("got onStreamingFirstFrame event",r))),s.pipe((0,a.R)(this.terminated$),(0,o.r)()).subscribe(r=>this.quality$.next(r),r=>this.logger.error("subscribe failed",r))}}return m.\u0275fac=function(s){return new(s||m)(y.LFG(C.ed),y.LFG(v.FW),y.LFG(A.VKt))},m.\u0275prov=y.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},50744:(Ge,ae,e)=>{"use strict";e.d(ae,{g:()=>C});var t=e(2629),n=e(71265),x=e(99385),M=e(64710),L=e(9357),p=e(97483),P=e(49773),a=e(39609),o=e(82512),v=e(77779),y=e(61799);let C=(()=>{class A{constructor(m,S,s,r,l,i,O,Y){this.streamingManagerService=S,this.userConsentService=s,this.gameSessionAnalyticsService=r,this.streamerConfigService=l,this.streamingService=i,this.unsupportedBrowserService=O,this.configuration=Y,this.logger=m.getLogger("gfn/streamingOobe")}initializeStreamingUi(){this.streamingManagerService.register(x.$D.PreStreaming,{callbackContext:this,onStateBegin:this.onStateStarted,onStateEnd:this.onStateEnd})}setDefaultConsents(){this.userConsentService.setDefaultConsentData(L.l3).subscribe()}finishOobeState(){this.shownUiHandle?(this.shownUiHandle.hide(),this.shownUiHandle=null,this.uiHandle.goToNext(),this.uiHandle=null,this.setDefaultConsents()):this.logger.error("finishOobeUIState was called while UI was not shown.")}goToErrorCallback(m){var S;this.logger.info("Ui Handle:",this.uiHandle?"valid":"null"),null===(S=this.uiHandle)||void 0===S||S.goToError(m)}onStateStarted(m){this.uiHandle=m.handle,this.streamingService.sessionTerminationListener(this.goToErrorCallback.bind(this)),this.unsupportedBrowserService.unsupportedBrowserState$.pipe((0,t.q)(1),(0,n.b)(S=>{if(M.ng.isBrowserPlatform()&&S.unsupportedState!==p.DI4.None&&!this.configuration.featureEnablement.unsupportedPlatformGameplay){const s={errorType:x.fR.GenericError,errorCode:this.getErrorCode(S)};this.uiHandle.goToError(s),this.uiHandle=null}else this.streamerConfigService.activeConfig.launchSource===p.zO5.GeForceNOW?(this.logger.info("Skipping oobe stage"),this.uiHandle.goToNext(),this.uiHandle=null,this.setDefaultConsents()):this.uiHandleSub=this.uiHandle.show(["oobe"]).subscribe(s=>{this.shownUiHandle=s})})).subscribe()}getErrorCode(m){if(m.supportedState===p.cIz.None)switch(m.unsupportedState){case p.DI4.UnsupportedOS:return P.pY.UnsupportedPlatform;case p.DI4.UnsupportedBrowser:return P.pY.UnsupportedBrowser;case p.DI4.NativeAppOnly:return P.pY.NativeAppOnly;case p.DI4.PWARequired:return P.pY.PWARequired;default:throw new Error("should not happen!")}else if(m.unsupportedState===p.DI4.None)throw new Error("To be Implemented")}onStateEnd(){this.uiHandle=null,this.streamingService.unsubscribeSessionTerminationListener(),this.uiHandleSub&&this.uiHandleSub.unsubscribe()}setAnonymousUser(m){this.anonymousUser=m}isAnonymousUser(){return this.anonymousUser}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(M.ed),a.LFG(x.bF),a.LFG(p.ZZY),a.LFG(o.h),a.LFG(v.o),a.LFG(y.F),a.LFG(p.rHN),a.LFG(p.VKt))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},65641:(Ge,ae,e)=>{"use strict";e.d(ae,{Tp:()=>C,iO:()=>d,rI:()=>A});var t=e(18406),n=e(74266),x=e(63155),M=e(78747),L=e(21361),p=e(99385),P=e(42423),a=e(39609),o=e(64710),v=e(97483),y=e(4967);const C="streamingReconnect";var A=(()=>{return(m=A||(A={}))[m.RECONNECTING=0]="RECONNECTING",m[m.STOP=1]="STOP",A;var m})();let d=(()=>{class m{constructor(s,r,l,i,O,Y){this.streamerManagerService=r,this.bridgeService=l,this.streamingService=i,this.playtestLiveService=O,this.postSessionConnectionService=Y,this.dialogStateSub=new t.X(A.RECONNECTING),this.logger=s.getLogger("gfn/streaming-reconnect")}get dialogState$(){return this.dialogStateSub.asObservable()}initiateStreamingUi(){this.streamerManagerService.register(p.$D.Streaming,{callbackContext:this,onStateBegin:this.onStreamingBegin,onStateEnd:this.onStreamingEnd},p.pH.Quit)}onStreamingBegin(s){this.uiHandle=s.handle,this.terminatedSub=this.streamingService.streamingEvent$.pipe((0,n.h)(r=>r.event===P.V4.STREAMING_TERMINATED)).subscribe(r=>{var l;if(r.reason===P.Y6.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP||r.reason===P.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP){const i=new p.tw(r);null===(l=this.uiHandle)||void 0===l||l.goToError(i)}else this.dialogStateSub.next(A.STOP)}),this.streamingConnectionSub=this.streamingService.connectivityEvent$.subscribe(r=>{this.onConnectionEvent(r)})}onConnectionEvent(s){switch(this.logger.info("received connectivity event: ",s),s.event){case P.qC.STREAMING_CONNECTION_LOST:this.onLoseConnection(),this.postSessionConnectionService.skipPostSessionTips=!1;break;case P.qC.STREAMING_CONNECTION_FOUND:this.onGainConnection(),this.postSessionConnectionService.skipPostSessionTips=!0}}onLoseConnection(){var s;this.playtestLiveService.skipReconnect()?(this.streamingService.terminateAutoResume(),null===(s=this.uiHandle)||void 0===s||s.goToNext()):this.shownUiHandle||(this.logger.info("Show lost connection dialog"),this.requestUserAttention(),this.showDialog())}onGainConnection(){this.shownUiHandle&&(this.logger.info("Exit lost connection dialog"),this.toggleDialog(!1))}showDialog(){this.uiHandle.show([C]).subscribe(s=>{this.shownUiHandle=s,this.dialogStateSub.next(A.RECONNECTING)})}onStreamingEnd(){var s,r;this.logger.info("on streaming reconnect service end"),null===(s=this.streamingConnectionSub)||void 0===s||s.unsubscribe(),null===(r=this.terminatedSub)||void 0===r||r.unsubscribe(),this.uiHandle=null,this.shownUiHandle=null}requestUserAttention(){this.bridgeService.executeCommand(L.Gh.Common.Windowcontrol.RequestUserAttention).pipe((0,x.P)()).subscribe()}toggleDialog(s){s?this.streamingService.isSessionResumable()?(this.logger.info("Session is resumable calling stop streaming"),this.streamingService.stopStreaming().pipe((0,M.x)(()=>{this.uiHandle&&this.uiHandle.goToNext()})).subscribe(r=>{this.logger.info("calling stopStreaming. result: ",r)})):(this.logger.info("Terminating auto resume."),this.streamingService.terminateAutoResume(),this.uiHandle&&this.uiHandle.goToNext()):s||this.shownUiHandle&&(this.shownUiHandle.hide(),this.shownUiHandle=null)}}return m.\u0275fac=function(s){return new(s||m)(a.LFG(o.ed),a.LFG(p.bF),a.LFG(o.dF),a.LFG(P.FW),a.LFG(v.Q0y),a.LFG(y.m))},m.\u0275prov=a.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},99385:(Ge,ae,e)=>{"use strict";e.d(ae,{$D:()=>n.$D,bF:()=>t.b,fR:()=>n.fR,pH:()=>n.pH,q8:()=>n.q8,tw:()=>n.tw,yX:()=>n.yX,z$:()=>n.z$});var t=e(61864),n=e(52762)},61864:(Ge,ae,e)=>{"use strict";e.d(ae,{b:()=>_});var t=e(23815),n=e(18406),x=e(76086),M=e(47504),L=e(50936),p=e(33932),P=e(71265),a=e(89258),o=e(63155),v=e(78747),y=e(57693),C=e(85566),A=e(64710),d=e(95914),m=e(21361),S=e(97483),s=e(52762);class r{constructor(G){this.callbacks=G,this.callbacks.onStateBegin=this.callbacks.onStateBegin.bind(this.callbacks.callbackContext),this.callbacks.onStateEnd&&(this.callbacks.onStateEnd=this.callbacks.onStateEnd.bind(this.callbacks.callbackContext)),this.callbacks.onResumableError&&(this.callbacks.onResumableError=this.callbacks.onResumableError.bind(this.callbacks.callbackContext)),this.callbacks.onTerminalError&&(this.callbacks.onTerminalError=this.callbacks.onTerminalError.bind(this.callbacks.callbackContext))}begin(G){this.callbacks.onStateBegin(G)}end(){this.callbacks.onStateEnd&&this.callbacks.onStateEnd()}resumableError(G){this.callbacks.onResumableError&&this.callbacks.onResumableError(G)}terminalError(G){this.callbacks.onTerminalError&&this.callbacks.onTerminalError(G)}}class l{constructor(G,F){this.parent=G,this.id=F,this.hidden=!1}hide(){if(this.hidden)throw new Error("Cannot hide UI that has already been hidden");this.hidden=!0,this.parent.hide(this.id)}}const O={path:[s.z$],id:0},Y={x:0,y:0,w:0,h:0};var T=e(91388),B=e(49773),K=e(85501),b=e(39609),f=e(52954),D=e(77779),I=e(39103);const w=()=>(0,t.of)(!0);let _=(()=>{class ${constructor(F,J,z,Z,ue,u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re){this.loggingService=J,this.bridgeService=z,this.pathService=Z,this.location=u,this.applicationLifetimeService=k,this.streamerConfigService=W,this.gfcHelperService=N,this.gameShareUrlService=H,this.streamingProfileService=h,this.ownershipSyncService=E,this.projectInterfaceService=ee,this.redirectService=R,this.serviceWorkerService=q,this.gfnSwUpdateService=ne,this.notificationUiService=_e,this.deeplinkHelperService=U,this.guestModeHelperService=re,this.restrictedStates=[s.$D.Init,s.$D.Done],this.pathSegments=[],this.logger=this.loggingService.getLogger("gfn/StreamerManagerService"),this.nextShowIdNumber=1,this.currentState=s.$D.Init,this.currentStateChange$=new n.X(this.currentState),this.stateRegistrations=new Map,this.currentViewStacks=new Map,this.stateMachineConnections=new Map,this.stateMachineConnections.set(s.$D.Init,s.$D.UpdateCheck),this.stateMachineConnections.set(s.$D.UpdateCheck,s.$D.PreStreaming),this.stateMachineConnections.set(s.$D.PreStreaming,s.$D.Authentication),this.stateMachineConnections.set(s.$D.Authentication,s.$D.PlatformSelection),this.stateMachineConnections.set(s.$D.PlatformSelection,s.$D.AccountLinking),this.stateMachineConnections.set(s.$D.AccountLinking,s.$D.Authorization),this.stateMachineConnections.set(s.$D.Authorization,s.$D.NetworkTest),this.stateMachineConnections.set(s.$D.NetworkTest,s.$D.Loading),this.stateMachineConnections.set(s.$D.Loading,s.$D.Streaming),this.stateMachineConnections.set(s.$D.Streaming,s.$D.PostSessionConnection),this.stateMachineConnections.set(s.$D.PostSessionConnection,s.$D.PostStreaming),this.stateMachineConnections.set(s.$D.PostStreaming,s.$D.Done),this.stateMachineConnections.set(s.$D.ResumableError,s.$D.Loading),this.lastWindowSize=null,this.defaultOsrHandler=ue.createOsrHandler("StreamerManagerService"),this.pathSegments=S.fFR.StreamerRoot.split("/"),this.projectInterfaceService.setExitStreamerCallBack(this.exitStreamer.bind(this))}register(F,J,z=s.pH.Primary){F.supportedRouterTags.includes(z)||this.logAndThrowError("Router tag "+z+" is not supported in state "+F.name),(0,C.includes)(this.restrictedStates,F)&&this.logAndThrowError("Cannot register handler for state "+F+" as it is a restricted state"),this.currentState===s.$D.Init?(this.stateRegistrations.has(F)||this.stateRegistrations.set(F,[]),this.stateRegistrations.get(F).push({callbacks:new r(J),handle:new $.InternalUIHandleImpl(this,F,z,this.loggingService),tag:z})):this.logAndThrowError("Cannot register new UI handlers after the Streamer state machine has begun")}initiateStreamer(){this.inActiveState()&&this.logAndThrowError("InitiateStreamer called in illegal state"),this.currentState===s.$D.Done&&(this.exitCurrentState(),this.enterState(s.$D.Init)),0!==this.streamerConfigService.activeConfig.cmsId||this.streamerConfigService.activeConfig.parentGameId?(this.currentStateChangeSubscription||(this.currentStateChangeSubscription=this.getCurrentStateChanges().pipe((0,p.zg)(F=>(this.logger.info("UpdateStreamerStatus with state",null==F?void 0:F.name),this.bridgeService.executeCommand(m.Gh.Gfn.Gfnsdkhost.UpdateStreamerStatus,{status:F.name})))).subscribe(()=>{},()=>{})),this.shutdownRequestedWorkHandle||(this.shutdownRequestedWorkHandle=this.applicationLifetimeService.addWorkOnShutdownRequested(()=>this.exitStreamer({skipsNavigation:!0}).pipe((0,P.b)(F=>{F&&(this.shutdownRequestedWorkHandle.remove(),this.shutdownRequestedWorkHandle=null)}),(0,a.U)(F=>!F)))),this.shutdownWorkHandle||(this.shutdownWorkHandle=this.applicationLifetimeService.addWorkOnShutdown(()=>(this.inDoneState()||this.goToDone({skipsNavigation:!0}),(0,t.of)(void 0)))),this.advanceState()):this.goToError({errorType:s.fR.GenericError,errorCode:B.pY.ZeroCmsId})}exitStreamer(F){return this.inDoneState()?(0,t.of)(!0):this.exitStreamer$?(this.logger.warn("An exit request is still in progress. New request will not be made."),this.exitStreamer$):(0,x.P)(()=>{const J=this.getCurrentState(),z=this.stateRegistrations.has(J)?this.stateRegistrations.get(J).map(Z=>Z.handle.exitGuard().pipe((0,o.P)())):[(0,t.of)(!0)];return this.exitStreamer$=(0,M.aj)(z).pipe((0,a.U)(Z=>!Z.includes(!1)),(0,P.b)(Z=>{Z&&this.goToDone(F)}),(0,v.x)(()=>{this.exitStreamer$=null}),(0,y.d)({refCount:!1,bufferSize:1})),this.exitStreamer$})}getCurrentState(){return this.currentState}getCurrentStateChanges(){return this.currentStateChange$.asObservable()}inErrorState(){return this.isErrorState(this.currentState)}inTerminalState(){return this.inDoneState()}inDoneState(){return this.currentState===s.$D.Done}inActiveState(){return this.currentState!==s.$D.Init&&this.currentState!==s.$D.Done}updateDefaultOsrState(F,J){if(null==J||F!==J){let z;switch(F){case T.$e.Open:z=this.defaultOsrHandler.open();break;case T.$e.OpenWithInput:z=this.defaultOsrHandler.open(!0);break;case T.$e.Closed:z=this.defaultOsrHandler.close();break;default:this.logger.error("Unrecognized osr state: ",F),z=this.defaultOsrHandler.close()}z.subscribe({next:Z=>{this.logger.info("Updated osr state to: "+Z)},error:Z=>{this.logger.error("Failed to update osr state: "+Z)}})}}exitCurrentState(){this.stateRegistrations.has(this.currentState)&&this.stateRegistrations.get(this.currentState).forEach(F=>{F.handle.disable(),F.callbacks.end()}),this.resetViewStacks()}enterState(F,J){return this.currentState=F,this.logger.info("Entering state: ",F),this.currentStateChange$.next(this.currentState),!(0,C.includes)(this.restrictedStates,F)&&this.stateRegistrations.has(F)?(this.stateRegistrations.get(F).forEach(z=>{const Z={handle:z.handle,data:J};z.handle.enable(),z.callbacks.begin(Z)}),!0):F===s.$D.Done&&(this.exit(J),!0)}exit(F){var J,z;null===(J=this.streamerConfigService.activeConfig)||void 0===J||!J.sdkClient||!A.ng.isCefPlatform()||this.guestModeHelperService.isGuestMode&&null!==(z=this.guestModeHelperService.getGuestModeConfig())&&void 0!==z&&z.disableCloseOnStreamExit?(this.streamingProfileService.clearCachedStreamingProfile(),this.notificationUiService.clearNotificationsQueue(),this.deeplinkHelperService.postStreamingCleanUp(),A.ng.isCefPlatform()?this.bridgeService.executeCommand(m.Gh.Gfn.Streaming.Cleanup).pipe((0,v.x)(()=>this.handleExit(F))).subscribe():(this.gfnSwUpdateService.periodicallyCheckForUpdates(),this.handleExit(F))):this.applicationLifetimeService.shutdownApplication(d.ld.ApplicationRequestedExit)}handleExit(F){var J,z;if(null==F||!F.skipsNavigation){const Z=null!=(null==F?void 0:F.exitUrl)||null!=(null==F?void 0:F.exitCommandData);if(A.ng.isBrowserPlatform()&&!Z){this.gfcHelperService.terminateRemoteLogSession(),this.serviceWorkerService.postMessageSw({type:K.rL.GameExit}),this.updateAddressBar();const ue=this.gameShareUrlService.getExitUrl();return void(ue.includes("http")?this.redirectService.redirectToExternalUrl(ue,{replace:!0}):this.pathService.navigateByUrl(ue,{skipLocationChange:!0}))}if(A.ng.isCefPlatform()&&this.restoreWindow(),null!=F&&F.exitCommandData)this.logger.info("Exit navigation by command:",F.exitCommandData),this.pathService.navigate(F.exitCommandData.commands,null!==(J=F.exitCommandData.options)&&void 0!==J?J:{skipLocationChange:!0});else{const ue=null!==(z=null==F?void 0:F.exitUrl)&&void 0!==z?z:S.fFR.Home;this.logger.info("Exiting to "+ue),this.pathService.navigateByUrl(ue,{skipLocationChange:!0})}}}updateAddressBar(){this.logger.info(`UpdateAddressBar called. Current Streamer State: ${this.currentState.name}`),this.gameShareUrlService.setShareUrlInAddressBar()}enterErrorState(F,J){return this.isErrorState(F)||this.logAndThrowError("enterErrorState called with a non-error state: "+F.name),this.logger.info("Advancing to error state: ",F.name),this.currentState=F,this.currentStateChange$.next(this.currentState),!!this.stateRegistrations.has(F)&&(this.stateRegistrations.get(F).forEach(z=>{const Z={handle:z.handle,errorUIHandle:z.handle,data:J};z.handle.enable(),z.callbacks.begin(Z)}),!0)}advanceState(){if(this.inTerminalState())this.logger.info("Not advancing from terminal state: "+this.currentState.name);else if(this.stateMachineConnections.has(this.currentState)){const F=this.stateMachineConnections.get(this.currentState);this.updateDefaultOsrState(F.defaultOsrState,this.currentState.defaultOsrState),this.exitCurrentState(),this.logger.info("Advancing to state: "+this.stateMachineConnections.get(this.currentState).name),this.enterState(this.stateMachineConnections.get(this.currentState))||(this.logger.info("Skipping state with no registered handlers: "+this.currentState.name),this.advanceState())}else this.logAndThrowError("No state to advance to from state: "+this.currentState.name)}updateDisplays(){this.logger.info("UpdateDisplays called");const F={};this.currentViewStacks.forEach((z,Z)=>{if(z.length>0){const ue=z[z.length-1];F[Z]=ue.path.slice(),ue.data&&F[Z].push(ue.data)}});const J=this.pathService.navigate([...this.pathSegments,{outlets:F}],{skipLocationChange:!0});return J.then(()=>{if(this.streamerConfigService.activeConfig.launchSource===S.zO5.GeForceNOW&&A.ng.isBrowserPlatform()){if(this.inDoneState())return void this.location.replaceState(this.gameShareUrlService.getExitUrl());this.updateAddressBar()}}),J}show(F,J,z){this.logger.info(`Show called for routerTag: ${F}, path: ${J}`),this.currentViewStacks.has(F)||this.currentViewStacks.set(F,[O]);const Z=this.nextShowIdNumber++;return this.currentViewStacks.get(F).push({path:J,id:Z,data:z}),new L.y(ue=>{this.updateDisplays().then(()=>{ue.next(Z)}).catch(u=>{ue.error(u)})})}hide(F){this.logger.info(`Hide called with id:${F}`),0===F&&this.logAndThrowError("Cannot hide default UI element"),this.currentViewStacks.forEach((J,z)=>{J.forEach((Z,ue)=>{if(Z.id===F)return J.splice(ue,1),void this.updateDisplays()})})}goToDone(F){this.inDoneState()?this.logger.warn("Already in Done state, no transition to make"):(this.updateDefaultOsrState(s.$D.Done.defaultOsrState),this.exitCurrentState(),this.enterState(s.$D.Done,F))}goToError(F){(this.inTerminalState()||this.inErrorState())&&this.logAndThrowError("Cannot enter Error state from Error or terminal state: "+this.currentState.name);const J={errorSourceState:this.currentState,errorData:F};this.exitCurrentState(),this.enterErrorState(s.$D.Error,J)}goToResumableError(F){this.currentState!==s.$D.Error&&this.logAndThrowError("Invalid state to call goToResumableError from: "+this.currentState.name),this.stateRegistrations.forEach((J,z)=>{J.forEach(Z=>{Z.callbacks.resumableError(F)})}),this.exitCurrentState(),this.enterErrorState(s.$D.ResumableError,F)}goToTerminalError(F){this.currentState!==s.$D.Error&&this.logAndThrowError("Invalid state to call goToTerminalError from: "+this.currentState.name),this.stateRegistrations.forEach((J,z)=>{J.forEach(Z=>{Z.callbacks.terminalError(F)})}),this.exitCurrentState(),this.enterErrorState(s.$D.TerminalError,F)}restoreWindow(){this.lastWindowSize?(this.lastWindowSize=null,this.bridgeService.executeCommand(m.Gh.Common.Windowcontrol.RestoreFromFullScreen).subscribe(()=>{})):this.logger.info("Not restoring window as there was no change in size")}fullscreenWindow(){this.lastWindowSize={width:window.innerWidth,height:window.innerHeight},this.logger.info("Fullscreening window"),this.bridgeService.executeCommand(m.Gh.Common.Windowcontrol.Resize,Y).subscribe(()=>{})}resetViewStacks(){this.logger.info("Resetting view stacks"),this.currentViewStacks.clear(),this.currentViewStacks.set(s.pH.Primary,[O]),this.currentViewStacks.set(s.pH.Quit,[O]),this.updateDisplays()}isErrorState(F){return F===s.$D.Error||F===s.$D.ResumableError||F===s.$D.TerminalError}logAndThrowError(F){throw this.logger.error(F),new Error(F)}}return $.InternalUIHandleImpl=class{constructor(G,F,J,z){this.parent=G,this.routerTag=J,this.exitGuard=w,this.enabled=!0,this.logger=z.getLogger(["gfn","StreamerManagerService","InternalUIHandle",F.name,J].join("/"))}disable(){this.enabled=!1,this.exitGuard=w}enable(){this.enabled=!0}goToError(G){this.checkEnabled(),this.parent.goToError(G)}goToNext(){this.checkEnabled(),this.parent.advanceState()}goToDone(G){return this.checkEnabled(),this.parent.exitStreamer(G).toPromise()}goToResumableError(G){this.checkEnabled(),this.parent.goToResumableError(G)}goToTerminalError(G){this.checkEnabled(),this.parent.goToTerminalError(G)}show(G,F){return this.checkEnabled(),this.parent.show(this.routerTag,G,F).pipe((0,a.U)(J=>new l(this,J)))}hide(G){this.checkEnabled(),this.parent.hide(G)}restoreWindow(){this.checkEnabled(),this.parent.restoreWindow()}fullscreenWindow(){this.checkEnabled(),this.parent.fullscreenWindow()}setExitGuard(G){this.checkEnabled(),this.exitGuard=G}checkEnabled(){if(!this.enabled){const G="Cannot use a disabled UI handle, likely due to using the handle after the streamer state advanced";throw this.logger.error(G),new Error(G)}}},$.\u0275fac=function(F){return new(F||$)(b.LFG(S.VKt),b.LFG(A.ed),b.LFG(A.dF),b.LFG(S.unb),b.LFG(T.V$),b.LFG(f.Ye),b.LFG(d.Ll),b.LFG(D.o),b.LFG(S.dgl),b.LFG(S.tDF),b.LFG(S.GKb),b.LFG(S.qMk),b.LFG(I.m3),b.LFG(S.VHe),b.LFG(K.HR),b.LFG(S.m$M),b.LFG(S.PTF),b.LFG(S.gIP),b.LFG(S.hTr))},$.\u0275prov=b.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},52762:(Ge,ae,e)=>{"use strict";e.d(ae,{$D:()=>A,fR:()=>p,h2:()=>y,pH:()=>L,q8:()=>a,tw:()=>o,yX:()=>v,z$:()=>P});var t=e(91388),n=e(82195),x=e(85566),L=(()=>{return(d=L||(L={})).Primary="primary",d.Quit="quit",d.StreamingTimer="streamingTimer",L;var d})(),p=(()=>{return(d=p||(p={}))[d.GenericError=0]="GenericError",d[d.NesAuthError=1]="NesAuthError",d[d.GeronimoError=2]="GeronimoError",d[d.PreStreamGeronimoError=3]="PreStreamGeronimoError",d[d.EntitlementError=4]="EntitlementError",p;var d})();const P="empty";class a{constructor(m,S){this.errorType=m,this.errorCode=S}}class o extends a{constructor(m){super(p.GeronimoError,o.extractErrorCode(m)),this.errorEventInfo=m}static extractErrorCode(m){return m.event===n.V4.STREAMING_TERMINATED?m.reason:m.result.result}}class v extends a{constructor(m){const S=(0,x.has)(m,"code")?m.code:(0,x.has)(m,"result")?m.result:-1;super(p.PreStreamGeronimoError,S),this.resultInfo=m}}class y extends a{constructor(m){super(p.GenericError,m)}}var A,d;(d=A||(A={})).Init={name:"Init",supportedRouterTags:[],defaultOsrState:t.$e.Closed,enableBackNavigation:!1},d.UpdateCheck={name:"UpdateCheck",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.PreStreaming={name:"PreStreaming",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.OpenWithInput,enableBackNavigation:!1},d.Authentication={name:"Authentication",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.Authorization={name:"Authorization",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!0},d.PlatformSelection={name:"PlatformSelection",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!0},d.AccountLinking={name:"AccountLinking",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!0},d.NetworkTest={name:"NetworkTest",supportedRouterTags:[L.Primary,L.Quit],defaultOsrState:t.$e.Open,enableBackNavigation:!0},d.Loading={name:"Loading",supportedRouterTags:[L.Primary,L.Quit],defaultOsrState:t.$e.Open,enableBackNavigation:!0},d.PostSessionConnection={name:"PostSessionConnection",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.Streaming={name:"Streaming",supportedRouterTags:[L.Primary,L.StreamingTimer,L.Quit],defaultOsrState:t.$e.Closed,enableBackNavigation:!1},d.PostStreaming={name:"PostStreaming",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.Done={name:"Done",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.OpenWithInput,enableBackNavigation:!1},d.Error={name:"Error",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.ResumableError={name:"ResumableError",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1},d.TerminalError={name:"TerminalError",supportedRouterTags:[L.Primary],defaultOsrState:t.$e.Open,enableBackNavigation:!1}},82195:(Ge,ae,e)=>{"use strict";e.d(ae,{C3:()=>t,Py:()=>P,Sj:()=>n,V4:()=>L,Y6:()=>M,a1:()=>p,dq:()=>x,pi:()=>v,qC:()=>o});var t=(()=>{return(d=t||(t={}))[d.NVB_PROFILE_GAMING=0]="NVB_PROFILE_GAMING",d[d.NVB_PROFILE_PROFESSIONAL=1]="NVB_PROFILE_PROFESSIONAL",d[d.NVB_PROFILE_GAMING_720P_30FPS=2]="NVB_PROFILE_GAMING_720P_30FPS",d[d.NVB_PROFILE_GAMING_720P_60FPS=3]="NVB_PROFILE_GAMING_720P_60FPS",d[d.NVB_PROFILE_GAMING_1080P_30FPS=4]="NVB_PROFILE_GAMING_1080P_30FPS",d[d.NVB_PROFILE_GAMING_1080P_60FPS=5]="NVB_PROFILE_GAMING_1080P_60FPS",d[d.NVB_PROFILE_ROAMING_720P_30FPS=6]="NVB_PROFILE_ROAMING_720P_30FPS",d[d.NVB_PROFILE_ROAMING_720P_60FPS=7]="NVB_PROFILE_ROAMING_720P_60FPS",t;var d})(),n=(()=>{return(d=n||(n={}))[d.NVB_R_UDP_BUFFER_TOO_SMALL=2148204566]="NVB_R_UDP_BUFFER_TOO_SMALL",d[d.NVB_R_FIREWALL_BLOCK=2148016156]="NVB_R_FIREWALL_BLOCK",d[d.NVB_R_WIFI_CONNECTIVITY_ISSUE1=2147745808]="NVB_R_WIFI_CONNECTIVITY_ISSUE1",d[d.NVB_R_WIFI_CONNECTIVITY_ISSUE2=2147745799]="NVB_R_WIFI_CONNECTIVITY_ISSUE2",d[d.NVB_R_WIFI_CONNECTIVITY_ISSUE3=2147745796]="NVB_R_WIFI_CONNECTIVITY_ISSUE3",d[d.VIDEO_DECODER_CREATION_FAILED=67174402]="VIDEO_DECODER_CREATION_FAILED",d[d.VIDEO_DECODER_ERROR_MASK=790289]="VIDEO_DECODER_ERROR_MASK",d[d.NVST_NETERR_CLIENT_DISCONNECT_UNINTENDED_NO_VIDEO_PACKETS_RECENTLY=2147745808]="NVST_NETERR_CLIENT_DISCONNECT_UNINTENDED_NO_VIDEO_PACKETS_RECENTLY",d[d.NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT=2148438786]="NVST_DISCONN_SERVER_VFP_PROTECTED_CONTENT",d[d.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR=3237150722]="GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR",d[d.GFNPC_CLIENT_SESSION_IN_INITIALIZING_STATE=3237150723]="GFNPC_CLIENT_SESSION_IN_INITIALIZING_STATE",d[d.GFNPC_CLIENT_VIDEO_PLAY_FAIL=3237150724]="GFNPC_CLIENT_VIDEO_PLAY_FAIL",d[d.GFNPC_CLIENT_AUDIO_PLAY_FAIL=3237150725]="GFNPC_CLIENT_AUDIO_PLAY_FAIL",d[d.GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB=3237150726]="GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB",d[d.GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED=3237093682]="GFNPC_CLIENT_GUESTMODE_SESSION_LIMIT_PER_DEVICE_REACHED",d[d.GUEST_MODE_CAMAPAIGN_DISABLED=3237093705]="GUEST_MODE_CAMAPAIGN_DISABLED",n;var d})(),x=(()=>{return(d=x||(x={}))[d.NVB_R_UNKNOWN=-1]="NVB_R_UNKNOWN",d[d.NVB_R_SUCCESS=0]="NVB_R_SUCCESS",d[d.NVB_R_UNINITIALIZED=1]="NVB_R_UNINITIALIZED",d[d.NVB_R_CALLBACKS_NOT_REGISTERED=2]="NVB_R_CALLBACKS_NOT_REGISTERED",d[d.NVB_R_NOT_SUPPORTED=3]="NVB_R_NOT_SUPPORTED",d[d.NVB_R_VERSION_MISMATCH=4]="NVB_R_VERSION_MISMATCH",d[d.NVB_R_UPGRADE_RECOMMENDED=5]="NVB_R_UPGRADE_RECOMMENDED",d[d.NVB_R_OS_ERROR=6]="NVB_R_OS_ERROR",d[d.NVB_R_INVALID_PARAM=101]="NVB_R_INVALID_PARAM",d[d.NVB_R_INVALID_CLIENT_OBJECT=102]="NVB_R_INVALID_CLIENT_OBJECT",d[d.NVB_R_INVALID_SERVER_NAME=103]="NVB_R_INVALID_SERVER_NAME",d[d.NVB_R_INVALID_PORT_NUMBER=104]="NVB_R_INVALID_PORT_NUMBER",d[d.NVB_R_INVALID_VIDEO_DECODER=105]="NVB_R_INVALID_VIDEO_DECODER",d[d.NVB_R_INVALID_AUDIO_RENDERER=106]="NVB_R_INVALID_AUDIO_RENDERER",d[d.NVB_R_INVALID_AUTH_TYPE=107]="NVB_R_INVALID_AUTH_TYPE",d[d.NVB_R_INVALID_STREAM_SETTINGS=108]="NVB_R_INVALID_STREAM_SETTINGS",d[d.NVB_R_INVALID_CERTIFICATE=109]="NVB_R_INVALID_CERTIFICATE",d[d.NVB_R_INVALID_PRIVATE_KEY=110]="NVB_R_INVALID_PRIVATE_KEY",d[d.NVB_R_INVALID_CERTIFICATE_KEY_PAIR=111]="NVB_R_INVALID_CERTIFICATE_KEY_PAIR",d[d.NVB_R_REINITIALIZE_ERROR=112]="NVB_R_REINITIALIZE_ERROR",d[d.NVB_R_INVALID_PROFILE=113]="NVB_R_INVALID_PROFILE",d[d.NVB_R_INVALID_INPUT_DEVICE=114]="NVB_R_INVALID_INPUT_DEVICE",d[d.NVB_R_INVALID_STATS_OPTION=115]="NVB_R_INVALID_STATS_OPTION",d[d.NVB_R_INVALID_FEATURECONTROL_TYPE=116]="NVB_R_INVALID_FEATURECONTROL_TYPE",d[d.NVB_R_NETWORK_ERROR=151]="NVB_R_NETWORK_ERROR",d[d.NVB_R_SOCKET_ERROR=152]="NVB_R_SOCKET_ERROR",d[d.NVB_R_ADDRESS_RESOLVE_FAILED=153]="NVB_R_ADDRESS_RESOLVE_FAILED",d[d.NVB_R_CONNECT_FAILED=154]="NVB_R_CONNECT_FAILED",d[d.NVB_R_SSL_ERROR=155]="NVB_R_SSL_ERROR",d[d.NVB_R_CONNECTION_TIMEOUT=156]="NVB_R_CONNECTION_TIMEOUT",d[d.NVB_R_DATA_RECEIVE_TIMEOUT=157]="NVB_R_DATA_RECEIVE_TIMEOUT",d[d.NVB_R_PEER_NO_RESPONSE=158]="NVB_R_PEER_NO_RESPONSE",d[d.NVB_R_UNEXPECTED_HTTPREDIRECT=159]="NVB_R_UNEXPECTED_HTTPREDIRECT",d[d.NVB_R_NETWORK_CAPABLE=201]="NVB_R_NETWORK_CAPABLE",d[d.NVB_R_INSUFFICIENT_NETWORK_CAPABILITY=202]="NVB_R_INSUFFICIENT_NETWORK_CAPABILITY",d[d.NVB_R_MINIMUM_NETWORK_CAPABILITY=203]="NVB_R_MINIMUM_NETWORK_CAPABILITY",d[d.NVB_R_BLOCK_STREAM=204]="NVB_R_BLOCK_STREAM",d[d.NVB_R_AUTH_ERR_UNKNOWN=252]="NVB_R_AUTH_ERR_UNKNOWN",d[d.NVB_R_AUTH_ERR_DEFUNCT_TOKEN=253]="NVB_R_AUTH_ERR_DEFUNCT_TOKEN",d[d.NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT=254]="NVB_R_AUTH_ERR_UNAUTHORIZED_CLIENT",d[d.NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL=255]="NVB_R_AUTH_ERR_UNSUPPORTED_PROTOCOL",d[d.NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER=256]="NVB_R_AUTH_ERR_UNREACHABLE_AUTH_SERVER",d[d.NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT=257]="NVB_R_AUTH_ERR_UNSUPPORTED_TOKEN_FORMAT",d[d.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED=258]="NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED",d[d.NVB_R_SESSION_NOT_ACTIVE=301]="NVB_R_SESSION_NOT_ACTIVE",d[d.NVB_R_SESSION_LIMIT_REACHED=302]="NVB_R_SESSION_LIMIT_REACHED",d[d.NVB_R_INSUFFICIENT_RESOURCES=303]="NVB_R_INSUFFICIENT_RESOURCES",d[d.NVB_R_EULA_NOT_ACCEPTED=304]="NVB_R_EULA_NOT_ACCEPTED",d[d.NVB_R_APP_TITLE_FENCED=305]="NVB_R_APP_TITLE_FENCED",d[d.NVB_R_INVALID_APP_IDENTIFIER=306]="NVB_R_INVALID_APP_IDENTIFIER",d[d.NVB_R_PREFERRED_CONTROLLER_NOT_FOUND=307]="NVB_R_PREFERRED_CONTROLLER_NOT_FOUND",d[d.NVB_R_NO_ACTIVE_SESSION_FOUND=308]="NVB_R_NO_ACTIVE_SESSION_FOUND",d[d.NVB_R_SESSION_NOT_PAUSED=309]="NVB_R_SESSION_NOT_PAUSED",d[d.NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN=310]="NVB_R_SESSION_TERMINATED_MULTIPLE_LOGIN",d[d.NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT=311]="NVB_R_SESSION_TERMINATED_ANOTHER_CLIENT",d[d.NVB_R_STREAMER_UNINITIALIZED=341]="NVB_R_STREAMER_UNINITIALIZED",d[d.NVB_R_STREAMER_NETWORK_ERROR=342]="NVB_R_STREAMER_NETWORK_ERROR",d[d.NVB_R_STREAMER_CONNECT_FAILED=343]="NVB_R_STREAMER_CONNECT_FAILED",d[d.NVB_R_USER_IS_NOT_ENTITLED=351]="NVB_R_USER_IS_NOT_ENTITLED",d[d.NVB_R_GES_NOT_REACHABLE=352]="NVB_R_GES_NOT_REACHABLE",d[d.NVB_R_USER_NOT_REGISTERED_IN_GES=353]="NVB_R_USER_NOT_REGISTERED_IN_GES",d[d.NVB_R_NO_ENTITLEMENT_TIME_REMAINING=354]="NVB_R_NO_ENTITLEMENT_TIME_REMAINING",d[d.NVB_R_SERVER_ERROR=501]="NVB_R_SERVER_ERROR",d[d.NVB_R_SERVER_OUT_OF_SERVICE=502]="NVB_R_SERVER_OUT_OF_SERVICE",d[d.NVB_R_SEVER_MAINTENANCE_MODE=503]="NVB_R_SEVER_MAINTENANCE_MODE",d[d.NVB_R_INVALID_SERVER_RESPONSE=504]="NVB_R_INVALID_SERVER_RESPONSE",d[d.NVB_R_TOO_MANY_SERVER_REQUESTS=505]="NVB_R_TOO_MANY_SERVER_REQUESTS",d[d.NVB_R_APPLICATION_PATCHING=506]="NVB_R_APPLICATION_PATCHING",d[d.NVB_R_APP_MAINTENANCE_STATUS=3237290296]="NVB_R_APP_MAINTENANCE_STATUS",d[d.NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND=-1057677e3]="NVB_R_APP_MAINTENANCE_STATUS_WORKAROUND",d[d.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED=3237290301]="NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED",d[d.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED=3237290302]="NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED",d[d.NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND=-1057676994]="NVB_R_SERVER_SESSION_QUEUE_LENGTH_EXCEEDED_WORKAROUND",d[d.NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND=-1057676995]="NVB_R_REQUIRED_SEAT_INSTANCE_TYPE_NOT_SUPPORTED_WORKAROUND",d[d.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING=-1057676993]="NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING",d[d.NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND=3237290303]="NVB_R_REGION_NOT_SUPPORTED_FOR_STREAMING_WORKAROUND",d[d.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION=3237290306]="NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION",d[d.NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND=-1057676990]="NVB_R_SESSION_GAME_BINARIES_NOT_AVAILABLE_IN_REGION_WORKAROUND",d[d.NVB_R_SESSION_IN_QUEUE_ABANDONED=3237093701]="NVB_R_SESSION_IN_QUEUE_ABANDONED",d[d.NVB_R_SESSION_ICE_CONNECTION_FAILED=3237093894]="NVB_R_SESSION_ICE_CONNECTION_FAILED",d[d.NVB_R_SERVER_ERROR_BEGIN=61440]="NVB_R_SERVER_ERROR_BEGIN",d[d.NVB_R_SERVER_ERROR_MAX=553648127]="NVB_R_SERVER_ERROR_MAX",d[d.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE=3237290311]="NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE",d[d.NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND=-1057676985]="NVB_R_SESSION_REMOVED_FROM_QUEUE_MAINTENANCE_WORKAROUND",d[d.NVB_R_ZONE_MAITENANCE_STATUS=3237290312]="NVB_R_ZONE_MAITENANCE_STATUS",d[d.NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND=-1057676984]="NVB_R_ZONE_MAITENANCE_STATUS_WORKAROUND",d[d.NVB_R_GFN_GAME_NOT_OWNED_BY_USER=15806465]="NVB_R_GFN_GAME_NOT_OWNED_BY_USER",d[d.NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION=3237290315]="NVB_R_INSTANCE_TYPE_NOT_SUPPORTED_IN_SINGLE_REGION",x;var d})(),M=(()=>{return(d=M||(M={}))[d.NVB_SN_STREAMING_PROPERTIES=0]="NVB_SN_STREAMING_PROPERTIES",d[d.NVB_SN_STREAMER_CONNECTED=1]="NVB_SN_STREAMER_CONNECTED",d[d.NVB_SN_STREAMING_QUALITY_CHANGED=2]="NVB_SN_STREAMING_QUALITY_CHANGED",d[d.NVB_SN_SERVER_INITIATED_PAUSE=3]="NVB_SN_SERVER_INITIATED_PAUSE",d[d.NVB_SN_SERVER_INITIATED_RESUME=4]="NVB_SN_SERVER_INITIATED_RESUME",d[d.NVB_SN_CONTROLLER_MAPPING_CHANGED=5]="NVB_SN_CONTROLLER_MAPPING_CHANGED",d[d.NVB_SN_APPROACHING_IDLE_TIMEOUT=11]="NVB_SN_APPROACHING_IDLE_TIMEOUT",d[d.NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT=12]="NVB_SN_APPROACHING_SESSION_MAX_TIMELIMIT",d[d.NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT=13]="NVB_SN_APPROACHING_ENTITLEMENT_TIMEOUT",d[d.NVB_SN_CLEAR_IDLE_TIMEOUT=14]="NVB_SN_CLEAR_IDLE_TIMEOUT",d[d.NVB_SN_WARNING_MAX=20]="NVB_SN_WARNING_MAX",d[d.NVB_SN_FRAME_STATISTICS=21]="NVB_SN_FRAME_STATISTICS",d[d.NVB_SN_SUMMARY_STATISTICS=22]="NVB_SN_SUMMARY_STATISTICS",d[d.NVB_SN_TERMINATION_BEGIN=50]="NVB_SN_TERMINATION_BEGIN",d[d.NVB_SN_STREAMING_START_FAILED=51]="NVB_SN_STREAMING_START_FAILED",d[d.NVB_SN_STOPPED_BY_USER=52]="NVB_SN_STOPPED_BY_USER",d[d.NVB_SN_STOPPED_UNINTENTIONALLY=53]="NVB_SN_STOPPED_UNINTENTIONALLY",d[d.NVB_SN_ENTITLEMENT_TIMEOUT=54]="NVB_SN_ENTITLEMENT_TIMEOUT",d[d.NVB_SN_STREAMER_NETWORK_ERROR=55]="NVB_SN_STREAMER_NETWORK_ERROR",d[d.NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT=56]="NVB_SN_EXITED_DUE_TO_USER_IDLE_TIMEOUT",d[d.NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT=57]="NVB_SN_EXITED_DUE_TO_SESSION_TIMELIMIT",d[d.NVB_SN_TERMINATED_BY_OPERATOR=58]="NVB_SN_TERMINATED_BY_OPERATOR",d[d.NVB_SN_PAUSED_BY_USER=59]="NVB_SN_PAUSED_BY_USER",d[d.NVB_SN_TERMINATED_BY_PM=60]="NVB_SN_TERMINATED_BY_PM",d[d.NVB_SN_TERMINATED_WINDOWED_MODE=61]="NVB_SN_TERMINATED_WINDOWED_MODE",d[d.NVB_SN_TERMINATED_GAME_EXITED=62]="NVB_SN_TERMINATED_GAME_EXITED",d[d.NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS=63]="NVB_SN_TERMINATED_UNAUTHROIZED_PROCESS_ACCESS",d[d.NVB_SN_TERMINATED_MULTIPLE_LOGIN=64]="NVB_SN_TERMINATED_MULTIPLE_LOGIN",d[d.NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS=65]="NVB_SN_TERMINATED_MALICIOUS_PROCESS_ACCESS",d[d.NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS=66]="NVB_SN_TERMINATED_UNKNOWN_PROCESS_ACCESS",d[d.NVB_SN_TERMINATED_MINER_PROCESS_ACCESS=67]="NVB_SN_TERMINATED_MINER_PROCESS_ACCESS",d[d.NVB_SN_TERMINATED_FULL_TDR_OCCURRED=68]="NVB_SN_TERMINATED_FULL_TDR_OCCURRED",d[d.NVB_SN_TERMINATED_ANOTHER_CLIENT=69]="NVB_SN_TERMINATED_ANOTHER_CLIENT",d[d.NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER=72]="NVB_SN_TERMINATED_GAME_NOT_OWNED_BY_USER",d[d.NVB_SN_PM_TERMINATED_MAINTENANCE_MODE=73]="NVB_SN_PM_TERMINATED_MAINTENANCE_MODE",d[d.NVB_SN_TERMINATION_MAX=200]="NVB_SN_TERMINATION_MAX",d[d.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP=301]="NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP",d[d.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP=302]="NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP",d[d.NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP=303]="NVB_SN_INIT_FAILED_DUE_TO_SYSTEM_SLEEP",d[d.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP=304]="NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP",M;var d})(),L=(()=>{return(d=L||(L={})).STREAMING_BEGIN="STREAMING_BEGIN",d.SESSION_SETUP_SUCCESS="SESSION_SETUP_SUCCESS",d.SESSION_SETUP_FAILURE="SESSION_SETUP_FAILURE",d.STREAMING_TERMINATED="STREAMING_TERMINATED",d.ACTIVE_SESSIONS="ACTIVE_SESSIONS",d.GET_SESSION_INFO="GET_SESSION_INFO",d.STOP_RESULT="STOP_RESULT",d.SESSION_RESUME_FAILURE="SESSION_RESUME_FAILURE",d.STREAMING_WARNINGS="STREAMING_WARNINGS",d.SESSION_SETUP_PROGRESS="SESSION_SETUP_PROGRESS",d.ANALYTICS_EVENT="ANALYTICS_EVENT",d.SUMMARY_STATS="SUMMARY_STATS",d.FRAME_STATS="FRAME_STATS",d.UPDATE_AUTH_TOKEN="UPDATE_AUTH_TOKEN",d.STREAMING_QUALITY="STREAMING_QUALITY",d.STREAMING_FIRST_FRAME="STREAMING_FIRST_FRAME",d.STREAMING_PROPERTY_UPDATE="STREAMING_PROPERTY_UPDATE",d.STREAMING_FRAME_LOSS_WARNING="STREAMING_FRAME_LOSS_WARNING",d.STREAMING_FRAME_LOSS_ERROR="STREAMING_FRAME_LOSS_ERROR",d.STREAMING_FRAME_LOSS_CLEARED="STREAMING_FRAME_LOSS_CLEARED",d.BROWSER_ANALYTICS_EVENT="BROWSER_ANALYTICS_EVENT",d.SERENITY_EVENT="SERENITY_EVENT",d.STREAMING_CLIENT_MESSAGE="STREAMING_CLIENT_MESSAGE",d.TEXT_COMPOSITION="TEXT_COMPOSITION",L;var d})(),p=(()=>{return(d=p||(p={}))[d.NVB_SESSION_STATUS_UNKNOWN=-1]="NVB_SESSION_STATUS_UNKNOWN",d[d.NVB_SESSION_INITIALIZING=0]="NVB_SESSION_INITIALIZING",d[d.NVB_SESSION_READY_FOR_CONNECT=1]="NVB_SESSION_READY_FOR_CONNECT",d[d.NVB_SESSION_STREAMING=2]="NVB_SESSION_STREAMING",d[d.NVB_SESSION_WAITING_FOR_RECONNECT=3]="NVB_SESSION_WAITING_FOR_RECONNECT",d[d.NVB_SESSION_PAUSED_INTENTIONAL=4]="NVB_SESSION_PAUSED_INTENTIONAL",d[d.NVB_SESSION_PAUSED_UNINTENTIONAL=5]="NVB_SESSION_PAUSED_UNINTENTIONAL",d[d.NVB_SESSION_RESUMING=6]="NVB_SESSION_RESUMING",p;var d})(),P=(()=>{return(d=P||(P={}))[d.NVB_SSS_CONNECTING=0]="NVB_SSS_CONNECTING",d[d.NVB_SSS_QUEUEPOSITION=1]="NVB_SSS_QUEUEPOSITION",d[d.NVB_SSS_CONFIGURING=2]="NVB_SSS_CONFIGURING",d[d.NVB_SSS_STARTINGSTREAMER=3]="NVB_SSS_STARTINGSTREAMER",d[d.NVB_SSS_SEATREADY=4]="NVB_SSS_SEATREADY",d[d.NVB_SSS_PREVIOUS_SESSION_CLEANUP=5]="NVB_SSS_PREVIOUS_SESSION_CLEANUP",P;var d})(),o=(()=>{return(d=o||(o={})).STREAMING_CONNECTION_LOST="STREAMING_CONNECTION_LOST",d.STREAMING_CONNECTION_FOUND="STREAMING_CONNECTION_FOUND",o;var d})(),v=(()=>{return(d=v||(v={}))[d.RESUMABLE=0]="RESUMABLE",d[d.NOT_RESUMABLE=1]="NOT_RESUMABLE",d[d.NO_AUTH_TOKEN=2]="NO_AUTH_TOKEN",v;var d})()},42423:(Ge,ae,e)=>{"use strict";e.d(ae,{FW:()=>t.F,Py:()=>n.Py,Sj:()=>n.Sj,V4:()=>n.V4,Y6:()=>n.Y6,a1:()=>n.a1,dq:()=>n.dq,qC:()=>n.qC});var t=e(61799),n=e(82195)},61799:(Ge,ae,e)=>{"use strict";e.d(ae,{F:()=>W});var t=e(48163),n=e(64710),x=e(21361),M=e(57441),L=e(10907),p=e(33932),P=e(74266),a=e(89258),o=e(71265),v=e(2629),y=e(4042),C=e(51325),A=e(63155),d=e(39654),m=e(17835),S=e(96671),s=e(42930),r=e(23815),l=e(47504),i=e(41221),O=e(39138),Y=e(50608),T=e(42520),B=e(16099),K=e(18388),b=e(82195),f=e(85566);class D{constructor(){this.result=b.dq.NVB_R_SESSION_NOT_ACTIVE,this.extendedError=[]}}var I=e(97483),w=e(69060),_=e(66195),$=e(99385),G=e(39609),F=e(91565),J=e(82512),z=e(80429),Z=e(74482),ue=e(77779),u=e(39103),k=e(85501);let W=(()=>{class N{constructor(h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me,ze,le,Le,Re,Q,ve,be,xe,ke){this.bridgeService=E,this.windowService=ee,this.sharedStorageService=R,this.gameSessionAnalyticsService=q,this.gameSessionDistributedTracingService=ne,this.idmService=_e,this.gfnSdkService=U,this.appConfig=re,this.discordService=pe,this.networkStatusService=Pe,this.distributedTracingUtilService=Te,this.networkConfigurationService=me,this.gfcHelperService=et,this.keyboardLayoutService=Xe,this.streamerConfigService=Ze,this.surveyService=nt,this.projectInterfaceService=Me,this.serviceWorkerService=ze,this.networkStatus=le,this.streamingProfileService=Le,this.systemInfoService=Re,this.deeplinkHelperService=Q,this.clipboardService=ve,this.clientHeaderService=be,this.ratingService=xe,this.browseUxService=ke,this.connectivityEventSub=new S.xQ,this.startRequestsSub=new S.xQ,this.dismissSnackbar=new S.xQ,this.validResumeErrorCodes=[b.Y6.NVB_SN_STREAMER_NETWORK_ERROR,b.Y6.NVB_SN_STOPPED_UNINTENTIONALLY,b.Y6.NVB_SN_PAUSED_DUE_TO_SYSTEM_SLEEP,b.Y6.NVB_SN_INIT_PAUSED_DUE_TO_SYSTEM_SLEEP],this.validSleepErrorCodes=[b.Y6.NVB_SN_STREAMER_NETWORK_ERROR,b.Y6.NVB_SN_STOPPED_BY_USER],this.isVideoReceived=!1,this._hasFirstFrameBeenReceived=!1,this.isStreaming=!1,this.resumableSession=!1,this.waitForStop=!1,this.shuttingDownFromSleep=!1,this.sharedStreamingProperties={sessionId:null,subSessionId:null,streams:null},this.isResume=!1,this.autoResuming=!1,this.sessionStartAttempts=0,this.isAutoResumedSession=!1,this.terminatingAutoResume$=new S.xQ,this.cancelTimerSubject=new S.xQ,this.reconnectTimeout=(0,s.H)(this.appConfig.streamer.reconnectTimeout).pipe((0,M.B)(),(0,L.R)(this.cancelTimerSubject)),this.nvstNetworkErrorCodes=/^8004([A-F0-9]{4})/,this.isAuthTokenRefreshedOnce=!1,this.logger=h.getLogger("streamingService"),this.resetStreamingServiceFlags(),this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.initializeCallbackHandlers(),this.registerCallback$=this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.RegisterCallback),this._streamingEvent$=this.registerCallback$.pipe((0,p.zg)(Ce=>{const ge=this.callbackHandler.get(Ce.event);return ge?ge.call(this,Ce):(0,r.of)(Ce)}),(0,M.B)()),this.streamingEvent$.subscribe(()=>{},Ce=>this.logger.error("callback error",Ce),()=>this.logger.info("callback complete")),this.activeSessionsEvent$=this.streamingEvent$.pipe((0,P.h)(Ce=>Ce.event===b.V4.ACTIVE_SESSIONS),(0,a.U)(Ce=>Ce)),this.getSessionInfoEvent$=this.streamingEvent$.pipe((0,P.h)(Ce=>Ce.event===b.V4.GET_SESSION_INFO),(0,a.U)(Ce=>Ce)),this.stopEvent$=this.streamingEvent$.pipe((0,P.h)(Ce=>Ce.event===b.V4.STOP_RESULT),(0,o.b)(Ce=>{this.waitForStop=!1,this.updateSessionId(Ce.sessionId,Ce.subSessionId)})),(0,l.aj)([this.streamingProfileService.getStreamingProfileGuid(),this.systemInfoService.getSystemInfoGuid()]).pipe((0,p.zg)(([Ce,ge])=>this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.UpdateEventInfoGuids,{streamingProfileGuid:Ce,systemInfoGuid:ge}))).subscribe(),this.initProjectInterfaceNotifications()}get streamingProperties(){return this.sharedStreamingProperties}get hasFirstFrameBeenReceived(){return this._hasFirstFrameBeenReceived}get isStreamingOn(){return this.isStreaming}get connectivityEvent$(){return this.connectivityEventSub.asObservable()}get startRequests$(){return this.startRequestsSub.asObservable()}get resumeType(){return this.isResume?this.isAutoResumedSession?I.NuE.AutoResume:I.NuE.DeviceTransition:I.NuE.None}get streamingEvent$(){return this._streamingEvent$}get dismissPushNotificationSnackbarSubject(){return this.dismissSnackbar}get dismissPushNotificationSnackbarObs$(){return this.dismissSnackbar.asObservable()}sessionTerminationListener(h){this.swListenerSubscription=this.serviceWorkerService.swNotifyListener.subscribe(E=>{this.logger.info("Msg received from SW to stop streaming: ",E),this.stopStreaming(!1,b.Sj.GFNPC_CLIENT_GAME_LAUNCHED_IN_NEW_TAB).subscribe(()=>{const R=new $.tw({event:b.V4.STREAMING_TERMINATED,reason:b.Y6.NVB_SN_TERMINATED_ANOTHER_CLIENT,latestStreamedAppName:E.content});h(R)})})}unsubscribeSessionTerminationListener(){var h;null===(h=this.swListenerSubscription)||void 0===h||h.unsubscribe()}initProjectInterfaceNotifications(){this.streamingEvent$.subscribe(h=>{switch(h.event){case b.V4.SESSION_SETUP_SUCCESS:this.projectInterfaceService.notifyStreamingSessionSetupSuccess({event:h.event,sessionId:h.sessionId,subSessionId:h.subSessionId});break;case b.V4.STREAMING_BEGIN:this.projectInterfaceService.notifyStreamingBegin({event:h.event});break;case b.V4.STOP_RESULT:case b.V4.STREAMING_TERMINATED:case b.V4.SESSION_SETUP_FAILURE:const R={event:h.event,errorCode:h.reason,isResumable:this.isResumableNetworkErrorCode(h)};this.projectInterfaceService.notifyStreamingEnd(R),this.browseUxService.emitStreamingTerminated()}},i.Z)}updateKeyboardLayout(){return(0,l.aj)([this.systemInfoService.getDeviceOSType().pipe((0,v.q)(1)),this.keyboardLayoutService.readCachedKeyboardLayout()]).pipe((0,o.b)(([h,E])=>{this.logger.info("Keyboard layout cache read response for prepare:",E);let ee=null==E?void 0:E.code;!ee&&n.ng.isBrowserPlatform()&&(ee=this.keyboardLayoutService.getDefaultKBLayoutCode()),this.logger.info("Updating the keyboard layout data to be passed to the streamer:",ee),this.keyboardLayoutCode=ee,this.projectInterfaceService.setIsNonEnglishKeyboardLayout(this.keyboardLayoutService.isNonEnglishKeyboardLayout(ee,h))},h=>this.logger.info("Keyboard layout cache read error:",h)),(0,y.h)(null))}updateStreamingContentRating(){var h,E,ee;let R;return R=null!==(h=this.streamingParams.contentRating)&&void 0!==h&&h.type&&null!==(E=this.streamingParams.contentRating)&&void 0!==E&&E.categoryKey&&null!==(ee=this.streamingParams.contentRating)&&void 0!==ee&&ee.contentDescriptorKeys?(0,O.$R)(this.ratingService.getCurrentRating(this.streamingParams.contentRating.type,this.streamingParams.contentRating.categoryKey).pipe((0,C.K)(q=>(0,r.of)(null))),this.ratingService.getContentDescriptors(this.streamingParams.contentRating.type,this.streamingParams.contentRating.contentDescriptorKeys).pipe((0,C.K)(q=>(0,r.of)([])))):(0,r.of)([null,[]]),R.pipe((0,v.q)(1),(0,o.b)(([q,ne])=>{var _e,U,re,pe,Pe,Te,me,et,Xe,Ze,nt,Me;let ze="";ne&&ne.length&&(ze=ne.join(", ")),this.startParamsContentRating=void 0,(0,f.isNil)(q)||(this.startParamsContentRating={displayIntervalMin:q.displayInterval,ratingClassText:q.rating.label,largeImageUrl:q.rating.largeImageUrl,smallImageUrl:q.rating.smallImageUrl,contentDescriptorText:ze,ratingSystem:null!==(re=null===(U=null===(_e=this.streamingParams)||void 0===_e?void 0:_e.contentRating)||void 0===U?void 0:U.type)&&void 0!==re?re:"",categoryKey:null!==(Te=null===(Pe=null===(pe=this.streamingParams)||void 0===pe?void 0:pe.contentRating)||void 0===Pe?void 0:Pe.categoryKey)&&void 0!==Te?Te:"",contentDescriptorKeys:null!==(Xe=null===(et=null===(me=this.streamingParams)||void 0===me?void 0:me.contentRating)||void 0===et?void 0:et.contentDescriptorKeys)&&void 0!==Xe?Xe:[],interactiveElementKeys:null!==(Me=null===(nt=null===(Ze=this.streamingParams)||void 0===Ze?void 0:Ze.contentRating)||void 0===nt?void 0:nt.interactiveElementKeys)&&void 0!==Me?Me:[]})}),(0,a.U)(q=>{}))}initializeCallbackHandlers(){this.callbackHandler=new Map,this.callbackHandler.set(b.V4.SESSION_SETUP_SUCCESS,this.onSessionSetupSuccess),this.callbackHandler.set(b.V4.STREAMING_BEGIN,this.onStreamingBegin),this.callbackHandler.set(b.V4.SESSION_SETUP_FAILURE,this.onSetupFailure),this.callbackHandler.set(b.V4.STREAMING_TERMINATED,this.onStreamingTerminated),this.callbackHandler.set(b.V4.UPDATE_AUTH_TOKEN,this.onUpdateAuthToken),this.callbackHandler.set(b.V4.STREAMING_FIRST_FRAME,this.onStreamingFirstFrame),this.callbackHandler.set(b.V4.SESSION_RESUME_FAILURE,this.onSessionResumeFailure),this.callbackHandler.set(b.V4.SESSION_SETUP_PROGRESS,this.onSessionSetupProgress),this.callbackHandler.set(b.V4.STREAMING_FRAME_LOSS_WARNING,this.onFrameLossWarning),this.callbackHandler.set(b.V4.STREAMING_FRAME_LOSS_ERROR,this.onFrameLossError),this.callbackHandler.set(b.V4.STREAMING_FRAME_LOSS_CLEARED,this.onFrameLossCleared)}mapSleepErrorCode(h){return this.shuttingDownFromSleep&&(0,f.includes)(this.validSleepErrorCodes,h.reason)&&(this.logger.info("Valid error reason for sleep, replacing reason but leaving error code."),h.reason=b.Y6.NVB_SN_TERMINATED_DUE_TO_SYSTEM_SLEEP,this.shuttingDownFromSleep=!1),h}onUpdateAuthToken(h){this.logger.info("getDelegateToken");const E=this.distributedTracingUtilService.startSpanUsingContext("StreamerUpdateAuthToken",h.spanData);return this.idmService.getAuthToken(!1,E).pipe((0,C.K)(ee=>(this.logger.info("Catch delegateToken error"),(0,r.of)({token:""}))),(0,p.zg)(ee=>this.processDelegateToken(ee||null)),(0,a.U)(ee=>h))}processDelegateToken(h){this.logger.info("processDelegateToken");let E="";return null!==h&&(E=JSON.stringify({access_token:h.token})),this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.SetAuthToken,{token:E})}onStreamingBegin(h){return this.logger.info("onStreamingBegin"),this.discordService.updatePresence(this.streamingParams.appName),this.distributedTracingUtilService.closeSpan(this.streamingSpan),this.isStreaming=!0,this.sessionStartAttempts=0,this.clipboardInitSub=this.clipboardService.init().subscribe(),this.clipboardAvailableSub=this.windowService.getFocusEvent().subscribe(()=>{var E;null===(E=this.clipboardService.detectClipboardChange)||void 0===E||E.next(!0)}),this.networkConfigurationService.cacheCurrentFingerprint().pipe((0,C.K)(E=>(this.logger.error("Unable to cache current fingerprint: ",E),(0,r.of)(!1))),(0,p.zg)(E=>this.autoResuming?(this.logger.info("auto resuming, suppress onStreamingBegin "),this.connectivityEventSub.next({event:b.qC.STREAMING_CONNECTION_FOUND}),this.cancelTimerSubject.next(!0),this.resetAutoResumingState(),this.sendStreamingBeginTelemetry(),Y.C):(this.logger.info("not auto-resuming, stream starting"),this.gameSessionAnalyticsService.updateGameLaunchDurations(I.FRL.StartSession,void 0),this.gameSessionAnalyticsService.updateGameLaunchDurations(I.FRL.StreamingStartDuration,void 0),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0),this.sendStreamingBeginTelemetry(),(0,r.of)(h))))}sendStreamingBeginTelemetry(){this.logger.info("sending telemetry, onStreamingBegin");const h={status:I.N3X.Success,isResume:this.isResume,errorDetails:"0x00000000"};this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gameSessionAnalyticsService.handleGeronimoLaunchResult(h,this.sharedStreamingProperties.sessionId),this.gameSessionDistributedTracingService.updateGeronimoLaunchInfo(h,this.sharedStreamingProperties.sessionId)}onStreamingFirstFrame(h){return this.logger.info("onStreamingFirstFrame"),this.isVideoReceived=!0,this._hasFirstFrameBeenReceived=!0,(0,r.of)(h)}onSetupFailure(h){return this.logger.error("onSetupFailure",h),this.waitForStop=!1,this.updateSessionId(h.sessionId,h.subSessionId),!1===this.isAuthTokenRefreshedOnce&&h.result.result===b.dq.NVB_R_AUTH_ERR_UNKNOWN?(this.logger.info("Failed with NVB_R_AUTH_ERR_UNKNOWN starting with refreshed token"),this.isAuthTokenRefreshedOnce=!0,this.setAuthInfo(!0).pipe((0,p.zg)(()=>this.start()),(0,p.zg)(()=>Y.C))):1===this.sessionStartAttempts&&h.result.result===b.dq.NVB_R_SESSION_LIMIT_REACHED?(this.logger.info("Attempted to launch a session resulted in session limit reached, stopping or resuming active session"),this.gameSessionAnalyticsService.moveGameLaunchDuration(I.FRL.SessionCleanup,I.FRL.StartSession),this.gameSessionAnalyticsService.resetSeatSetupEventSequence(!0),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0),this.sessionCleanup(h).pipe((0,v.q)(1),(0,o.b)(()=>{this.gameSessionAnalyticsService.updateGameLaunchDurations(I.FRL.SessionCleanup,I.FRL.StartSession),this.gameSessionAnalyticsService.startGameLaunchDuration(I.FRL.StreamerClientSetupDuration)}),(0,p.zg)(E=>E.error?this.forwardSetupFailure({event:b.V4.SESSION_SETUP_FAILURE,result:{requestId:0,result:E.result},sessionId:""}):this.start(E.sessionId).pipe((0,p.zg)(()=>Y.C))))):this.forwardSetupFailure(h)}forwardSetupFailure(h){this.gameSessionAnalyticsService.updateGameLaunchDurations(I.FRL.StartSession,void 0),this.gameSessionAnalyticsService.resetSeatSetupEventSequence(!1),this.gameSessionAnalyticsService.nextSeatSeatupEvent(null,!0);const E=this.getErrorCode(h.result),ee={status:"0x00000000"!==E?n.ng.isCefPlatform()?I.N3X.GeronimoLaunchError:I.N3X.RagnarokLaunchError:I.N3X.Success,isResume:this.isResume,errorDetails:E.toString()};return this.logger.info("received session error : ",ee),this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gameSessionAnalyticsService.handleGeronimoLaunchResult(ee,h.sessionId),this.gameSessionDistributedTracingService.updateGeronimoLaunchInfo(ee,h.sessionId),this.sessionStartAttempts=0,(0,r.of)(h)}getErrorCode(h){let E;return E=(0,f.isArray)(h.extendedError)&&h.extendedError.length>0?h.extendedError[0]:h.result,(0,I.h6z)(E)}onSessionResumeFailure(h){return this.waitForStop=!1,this.autoResuming?this.hasSessionTimedOut?(this.logger.info("returning cached terminated event"),(0,r.of)(this.prevTerminatedInfo)):(this.logger.info("auto resume failed, retrying",h),this.resumeableTerminateWrapper(this.prevTerminatedInfo,!0)):(this.logger.error("onResumeFailure",h),this.sendResumeFailureTelemetryData({status:n.ng.isCefPlatform()?I.N3X.GeronimoLaunchError:I.N3X.RagnarokLaunchError,errorDetails:(0,f.propertyOf)(h)("result").toString()}),this.updateSessionId(h.sessionId,h.subSessionId),(0,r.of)(h))}resetAutoResumingState(){this.autoResuming=!1,this.prevTerminatedInfo=null}updateNetorkTestIndirectPolicy(h,E){return h?this.networkConfigurationService.updateCurrentFingerprintNetworkTestFlag(h,E):(0,r.of)(!1)}getStreamerNetworkErrorInfo(h,E){const ee=E.toString(16).toUpperCase();let R=[!1];return h===b.Y6.NVB_SN_STREAMER_NETWORK_ERROR&&this.nvstNetworkErrorCodes.test(ee)?R=[!0,I.VRd.StreamerNetworkError]:this.appConfig.featureEnablement.networkTestPolicy.isFrameLossTimeoutErrorEnabled&&h===b.Y6.NVB_SN_PAUSED_BY_USER&&E===b.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR&&(R=[!0,I.VRd.StreamerFrameLossTimeoutError]),this.logger.info(`Network test should${R[0]?"":" not"} be triggered from network error code: 0x${ee}`),R}onStreamingTerminated(h){var E,ee;h=this.mapSleepErrorCode(h),this.logger.info("onStreamingTerminated",h),this.discordService.clearPresence(),this.isStreaming=!1,this.waitForStop=!1,null===(E=this.clipboardAvailableSub)||void 0===E||E.unsubscribe(),null===(ee=this.clipboardInitSub)||void 0===ee||ee.unsubscribe();const[R,q]=this.getStreamerNetworkErrorInfo(h.reason,h.extendedCode);return this.updateNetorkTestIndirectPolicy(R,q).pipe((0,C.K)(ne=>(this.logger.error("Unable to update streamer network test policy: ",ne),(0,r.of)(!1))),(0,p.zg)(ne=>{var _e;return this.isVideoReceived&&this.isResumableNetworkErrorCode(h)?(this.resumableSession=!0,this.isVideoReceived=!1,this.logger.info("session is resumable, sending STREAMING_CONNECTION_LOST event"),this.connectivityEventSub.next({event:b.qC.STREAMING_CONNECTION_LOST}),null!==(_e=this.appConfig.featureEnablement)&&void 0!==_e&&_e.autoResumeDisabled?(0,r.of)(h):(this.reconnectTimeout.pipe((0,v.q)(1)).subscribe(()=>{this.hasSessionTimedOut=!0,this.logger.info("hasSessionTimedOut set to true")}),this.resumeableTerminateWrapper(h,!1))):(this.logger.info("clear state"),this.resumableSession=!1,this.clearSessionId(!this.isSessionResumable()),(0,r.of)(h))}))}isResumableNetworkErrorCode(h){return this.logger.info("isNetworkErrorCode? :",h),h.isResumable||(0,f.includes)(this.validResumeErrorCodes,h.reason)||h.reason===b.Y6.NVB_SN_PAUSED_BY_USER&&(h.extendedCode===b.Sj.NVST_NETERR_CLIENT_DISCONNECT_UNINTENDED_NO_VIDEO_PACKETS_RECENTLY||h.extendedCode===b.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE1||h.extendedCode===b.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE2||h.extendedCode===b.Sj.NVB_R_WIFI_CONNECTIVITY_ISSUE3||h.extendedCode===b.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR)}resumeableTerminateWrapper(h,E){const ee=this.terminatingAutoResume$.asObservable().pipe((0,y.h)(null)),R=this.resumableTerminate(h),q=E?(0,s.H)(this.appConfig.streamer.reconnectRefreshInterval).pipe((0,p.zg)(()=>R)):R;return(0,T.T)(q,ee).pipe((0,A.P)(),(0,d.o)(()=>!1===this.isStreaming),(0,p.zg)(ne=>((0,f.isNil)(ne)?this.logger.info("Terminate Fired!"):this.logger.info("Auto resume failed!"),(0,r.of)(h))))}resumableTerminate(h){if(this.networkStatusService.isOnline)return this.attemptAutoResume(h);{const E=this.networkStatusService.onlineStatusChanged.pipe((0,P.h)(ee=>!0===ee));return(0,T.T)(this.reconnectTimeout,E).pipe((0,A.P)(),(0,p.zg)(ee=>!0===ee?this.attemptAutoResume(h):(this.logger.info("Network timed out!"),(0,r.of)(h))))}}attemptAutoResume(h){const E=this.startSessionsPollingSpan(w.j1.GetSessionInfo);return this.getSessionInfo(this.sharedStreamingProperties.sessionId,E).pipe((0,p.zg)(ee=>this.getSessionInfoEvent$),(0,o.b)(ee=>{this.logger.info("getSessionInfo - sessionInfo",ee),this.logger.info("update resumable state and clear"),this.distributedTracingUtilService.closeSpan(E),this.updateResumableSession(ee)}),(0,A.P)(),(0,p.zg)(ee=>this.resumableSession?(this.logger.info("auto resuming.... calling gfnResume"),this.autoResuming=!0,this.prevTerminatedInfo=h,this.autoResume().pipe((0,p.zg)(()=>(this.isAutoResumedSession=!0,this.logger.info("auto-resume invoked"),Y.C)),(0,C.K)(R=>(this.logger.error("auto-resume failed",R),this.resetAutoResumingState(),this.clearSessionId(!this.isSessionResumable()),(0,r.of)(h))))):(this.logger.info("fire terminated",this.resumableSession,this.networkStatusService.isOnline),(0,r.of)(h))),(0,C.K)(ee=>(this.logger.info("attemptAutoResume error:",ee),(0,r.of)(h))))}autoResume(){return this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.networkConfigurationService.networkSessionId$.pipe((0,v.q)(1),(0,p.zg)(h=>this.gfnResume(h).pipe((0,o.b)(E=>{this.waitForStop=E,this.startRequestsSub.next()}))))}clearSessionId(h=!1){this.sharedStreamingProperties.sessionId=null,this.sharedStreamingProperties.subSessionId=null,h&&(this.logger.info("clear old streaming sessionId from sharedstorage.json."),this.updateSessionId())}updateResumableSession(h){this.logger.info("updateResumableSession"),this.resumableSession=!0,this.getResumableState(h.result,h.sessions)===b.pi.NOT_RESUMABLE&&(this.resumableSession=!1),this.logger.info("updateResumableSession resumeable",this.resumableSession)}onSessionSetupSuccess(h){return this.sharedStreamingProperties.sessionId=h.sessionId,this.sharedStreamingProperties.subSessionId=h.subSessionId,this.updateSessionId(h.sessionId,h.subSessionId),this.sharedStreamingProperties.streams=h.streams,this.logger.info("streams: "+JSON.stringify(this.sharedStreamingProperties.streams)),this.surveyService.setStreamingSessionId(this.sharedStreamingProperties.sessionId),this.clipboardService.setStreamingIds(this.sharedStreamingProperties.sessionId,this.sharedStreamingProperties.subSessionId),this.autoResuming?(this.logger.info("auto resuming, suppress success"),Y.C):(this.logger.info("streaming mode is",h.streamingMode),(0,r.of)(h))}onSessionSetupProgress(h){return this.autoResuming?Y.C:(0,r.of)(h)}onFrameLossError(h){return this.logger.info("onFrameLossError"),this.pauseStreaming(b.Sj.GFNPC_CLIENT_FRAME_LOSS_TIMEOUT_ERROR).pipe((0,a.U)(E=>h),(0,C.K)(E=>(this.logger.error("pauseStreaming failed",E),(0,r.of)(h))))}onFrameLossWarning(h){return this.logger.info("onFrameLossWarning"),(0,r.of)(h)}onFrameLossCleared(h){return this.logger.info("onFrameLossCleared"),(0,r.of)(h)}updateSessionId(h,E){this.logger.info("Update session Id"),h&&this.gfcHelperService.updateEventDataParamIds({streamSessionId:h,streamSubSessionId:E}),this.sharedStorageService.writeBlock("streamingSessionId",{sessionId:h||null}).subscribe(i.Z,R=>{this.logger.error("Failed to update the session Id in shared storage. Error:",R)})}gfnStart(h){return this.gameSessionAnalyticsService.updateGameLaunchDurations(I.FRL.StreamerClientSetupDuration,I.FRL.StreamerConnectionDuration),this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.Start,h)}gfnPrepare(h){return this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.Prepare,h)}getActiveSessions(h){return this.logger.info("getActiveSessions"),this.setAuthInfo().pipe((0,p.zg)(()=>this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.GetActiveSessions,{spanData:(0,f.isNil)(h)?{}:this.distributedTracingUtilService.inject(h)})))}getSessionInfo(h,E){return this.logger.info("getSessionInfo"),this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.GetSessionInfo,{session:h,spanData:E?this.distributedTracingUtilService.inject(E):{}})}start(h){const E=(0,f.pick)(this.streamingParams,["appId","appLaunchMode","frameStatsEnabled","summaryStatsEnabled","maxLocalPlayers","advancedLatencyOptimization","networkPacketCaptureEnabled","metaData","frameLossWarningTimeout","frameLossErrorTimeout","address","serverType","port","partnerCustomData","streamingProfile","locale","accountLinked","persistingInGameSettings","gameShortName","networkSessionId","audioModeFormat","supportedControls","heroImage","gameDisplayOwnRating","storeName","appName","subscriptionLongDesc","providerName","zoneName","serverLocation"]);this.keyboardLayoutCode&&(E.keyboardLayout=this.keyboardLayoutCode,E.allowKeyboardLayoutChange=!1),E.contentRating=this.startParamsContentRating,this.streamingSpan=this.distributedTracingUtilService.startSpan(w.j1.StartStreaming,this.gameSessionDistributedTracingService.getCurrentActiveSpan()),E.metaData.ClientImeSupport=this.appConfig.featureEnablement.serverIME?"0":"1";const ee=this.streamingProfileService.getCurrentPhysicalResolution();ee&&(E.metaData.clientPhysicalResolution=JSON.stringify(ee)),E.session=h,(0,f.isNil)(h)||(this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType)),(0,f.isNil)(this.streamingSpan)||(E.spanData=this.distributedTracingUtilService.inject(this.streamingSpan));const q=(0,t._T)(E,["partnerCustomData"]);return this.logger.info("start",q),this.sessionStartAttempts+=1,this.gfnStart(E).pipe((0,o.b)(ne=>{this.waitForStop=ne,this.startRequestsSub.next()}))}setAuthInfo(h=!1){return this.gfnSdkService.getAuthInfo().pipe((0,p.zg)(ee=>ee.authType===_.Gr.JWT?(0,r.of)({tokenType:I.qql.NVB_AUTH_JWT,token:ee.authToken}):this.idmService.getAuthToken(h,this.streamingSpan).pipe((0,a.U)(R=>({tokenType:I.qql.NVB_AUTH_JWT_GFN,token:R.token})))),(0,p.zg)(ee=>this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.SetAuthInfo,ee)))}startSessionsPollingSpan(h){return this.distributedTracingUtilService.startSpan(h,this.gameSessionDistributedTracingService.getCurrentActiveSpan())}getSessionState(h){if(h){this.logger.info("Recovering active session from session result Info.");const E=h.sessions?h.sessions:[],ee=this.getResumableState(h.result,E);return this.logger.info("resumable state",h,ee),(0,r.of)({resultInfo:h.result,sessions:E,resumableState:ee})}{this.logger.info("pollActiveSessions");const E=this.startSessionsPollingSpan(w.j1.GetActiveSessions);return this.getActiveSessions(E).pipe((0,p.zg)(ee=>this.activeSessionsEvent$),(0,a.U)(ee=>{const R=this.getResumableState(ee.result,ee.sessions);return this.logger.info("resumable state",ee,R),{resultInfo:ee.result,sessions:ee.sessions,resumableState:R}}),(0,A.P)(),(0,o.b)(()=>this.distributedTracingUtilService.closeSpan(E)))}}setupSession(h){if(this.logger.info("setupSession",h),(0,f.isNil)(h))throw new Error("Invalid session state");const E=(0,f.get)(h,"resultInfo.result"),ee={error:!this.isSuccess(E),result:E};if(ee.error)return this.logger.error("unexpected result code in sessions",ee.result),(0,r.of)(ee);const R=h.sessions;let q=R.length;const ne=[];for(const U of R)U.appId===this.streamingParams.appId?U.status!==b.a1.NVB_SESSION_INITIALIZING?(this.logger.info("resuming session",U.sessionId),q--,ee.sessionId=U.sessionId,ee.appLaunchMode=U.appLaunchMode):(this.logger.info("found session in initializing state, stopping it"),ne.push(U.sessionId)):ne.push(U.sessionId);this.logger.info("stopEventsToWaitFor",q,ee.sessionId);let _e=(0,r.of)(ee);if(q>0){const U=(0,B.D)(ne).pipe((0,o.b)(re=>this.logger.info("Stopping session ",re)),(0,p.zg)(re=>this.stopStreamingInternal(re)),(0,C.K)(re=>(this.logger.error("Caught error while stopping stream ",re),(0,r.of)(null))));_e=this.stopEvent$.pipe((0,m.j)(q),(0,y.h)(ee)),U.subscribe(re=>this.logger.info("Stopped session: ",re),re=>{this.logger.error("Failed to stop session: ",re),this.gameSessionAnalyticsService.handleGameLaunchFailure({status:I.N3X.HTTPError,errorDetails:re&&re.status?re.status.toString():""})},()=>this.logger.info("Finished stopping all sessions"))}return _e}sessionCleanup(h){return this.getSessionState(h).pipe((0,p.zg)(E=>this.setupSession(E)))}isSuccess(h){return h===b.dq.NVB_R_SUCCESS||h===b.dq.NVB_R_UPGRADE_RECOMMENDED||h===b.dq.NVB_R_NO_ACTIVE_SESSION_FOUND||h===b.dq.NVB_R_SESSION_LIMIT_REACHED}getResumableState(h,E){if(h.result===b.dq.NVB_R_AUTH_ERR_TOKEN_NOT_UPDATED)return this.logger.info("getResumableState - token not updated"),b.pi.NO_AUTH_TOKEN;if(!this.isSuccess(h.result))return this.logger.info("getResumableState - failure",h.result),b.pi.NOT_RESUMABLE;for(const ee of E)if(ee.appId===this.streamingParams.appId&&this.isResumableSessionState(ee))return this.logger.info("getResumableState - found resumable state"),b.pi.RESUMABLE;return this.logger.info("getResumableState - no resumable sessions found"),b.pi.NOT_RESUMABLE}isResumableSessionState(h){return h.status===b.a1.NVB_SESSION_READY_FOR_CONNECT||h.status===b.a1.NVB_SESSION_PAUSED_INTENTIONAL||h.status===b.a1.NVB_SESSION_PAUSED_UNINTENTIONAL||h.status===b.a1.NVB_SESSION_STREAMING}stopStreamingInternal(h,E){return this.logger.info("calling stopstreaming internal"),this.setAuthInfo().pipe((0,p.zg)(()=>this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.Stop,{session:h,reasonCode:E})))}pauseStreamingInternal(h){return this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.PauseStreaming,{reasonCode:h})}gfnResume(h){return this.setAuthInfo().pipe((0,p.zg)(()=>this.bridgeService.executeCommand(x.Gh.Gfn.Streaming.Resume,{networkSessionId:h})))}sendResumeFailureTelemetryData(h){this.gameSessionAnalyticsService.handleGameLaunchFailure({isResume:!0,status:h.status,errorDetails:h.errorDetails})}resetStreamingServiceFlags(){this.isVideoReceived=!1,this._hasFirstFrameBeenReceived=!1,this.isStreaming=!1,this.resumableSession=!1,this.waitForStop=!1,this.shuttingDownFromSleep=!1,this.sharedStreamingProperties={sessionId:null,subSessionId:null},this.isResume=!1,this.autoResuming=!1,this.sessionStartAttempts=0,this.isAutoResumedSession=!1,this.prevTerminatedInfo=null,this.hasSessionTimedOut=!1,this.isAuthTokenRefreshedOnce=!1}stopStreaming(h=!1,E){var ee,R;if(null===(ee=this.clipboardAvailableSub)||void 0===ee||ee.unsubscribe(),null===(R=this.clipboardInitSub)||void 0===R||R.unsubscribe(),h&&(this.logger.info("System is sleeping, shutting down stream."),this.shuttingDownFromSleep=!0),this.logger.info("stop streaming called, waitForStop:",this.waitForStop," isStreaming:",this.isStreaming),!this.waitForStop&&!this.isStreaming&&!this.isSessionResumable())return this.clearSessionId(!0),(0,r.of)(!0);let q=this.streamingEvent$.pipe((0,P.h)(ne=>ne.event===b.V4.STREAMING_TERMINATED||ne.event===b.V4.STOP_RESULT));return this.networkStatus.isOnline||(this.logger.info("Stop Streaming when user is offline"),q=(0,r.of)({event:b.V4.STREAMING_TERMINATED})),(0,O.$R)(this.stopStreamingInternal(this.sharedStreamingProperties.sessionId,E),q).pipe((0,A.P)(),(0,a.U)(ne=>ne[0]),(0,C.K)(ne=>(this.logger.error("Caught error while stopping the streaming",ne),(0,r.of)(!1))))}pauseStreaming(h){return this.logger.info("pause streaming called, isStreaming:",this.isStreaming),this.pauseStreamingInternal(h)}getPrepareParameters(h){let E=b.C3.NVB_PROFILE_GAMING_1080P_60FPS;(this.windowService.window.screen.height<1080||this.windowService.window.screen.width<1920)&&(E=b.C3.NVB_PROFILE_GAMING_720P_60FPS);const ee=(0,f.pick)(h,["address","serverType","port","deviceId","advancedLatencyOptimization","directInput","streamingProfile","appName","locale"]);return this.clientHeaderService.getCommonHeaders({withClientId:"lcars"}).pipe((0,a.U)(R=>{const q=Object.entries(R).map(([_e,U])=>({headerName:_e,headerValue:U instanceof Array?U[0]:U}));return Object.assign(Object.assign({},ee),{profile:E,cmsId:h.appId.toString(),shortName:h.gameShortName,clientAppVersion:this.appConfig.build.version,clientHeaders:q})}))}startStreaming(h){return this.streamingParams=h,this.hasSessionTimedOut&&(this.hasSessionTimedOut=!1,this.cancelTimerSubject.next(!0)),this.sessionStartAttempts=0,this.getPrepareParameters(h).pipe((0,o.b)(E=>this.logger.info("prepare params",E)),(0,p.zg)(E=>this.gfnPrepare(E)),(0,p.zg)(E=>this.setAuthInfo()),(0,p.zg)(E=>this.processPartnerData()),(0,p.zg)(E=>this.updateKeyboardLayout()),(0,p.zg)(E=>this.updateStreamingContentRating()),(0,p.zg)(E=>this.start()))}processPartnerData(){let h=!1;const E=this.deeplinkHelperService.getDeeplinkPartnerData();return E&&(this.logger.info("Found partner-data in play-game deeplink"),this.streamingParams.metaData.partnerData=E,h=!0),this.gfnSdkService.isThisAGFNSDKSession()?(0,l.aj)([this.gfnSdkService.getPartnerData(),this.gfnSdkService.getPartnerSecureData()]).pipe((0,a.U)(([ee,R])=>(ee&&ee.length>0?(this.streamingParams.metaData.partnerData=ee,this.logger.info("partnerData passed from GFN SDK"),h=!0):this.logger.info("No partnerData passed from GFN SDK"),R&&R.length>0?(this.streamingParams.partnerCustomData=R,this.logger.info("partnerSecureData passed from GFN SDK"),h=!0):this.logger.info("No partnerSecureData passed from GFN SDK"),h))):(h||this.logger.info("No partnerData and partnerSecureData present"),(0,r.of)(h))}isSessionResumable(){return this.resumableSession}isResumed(){return this.isResume}terminateAutoResume(){this.terminatingAutoResume$.next()}resume(){return this.logger.info("resuming...."),(0,l.aj)([this.getSessionState(),this.networkConfigurationService.networkSessionId$.pipe((0,v.q)(1))]).pipe((0,p.zg)(([h,E])=>{if(this.resumableSession=h.resumableState===b.pi.RESUMABLE,this.resumableSession)return this.logger.info("resumable session found"),this.isAutoResumedSession=!1,this.isResume=!0,this.gameSessionAnalyticsService.setResumeType(this.resumeType),this.gfnResume(E).pipe((0,o.b)(ee=>{this.waitForStop=ee,this.startRequestsSub.next()}));{this.logger.error("no resumable sessions found");const ee=new D;return this.sendResumeFailureTelemetryData({status:I.N3X.ClientError,errorDetails:ee.result.toString()}),(0,K._)(ee)}}))}}return N.\u0275fac=function(h){return new(h||N)(G.LFG(n.ed),G.LFG(n.dF),G.LFG(n.un),G.LFG(F.OA),G.LFG(J.h),G.LFG(z.r),G.LFG(I.No2),G.LFG(_.s),G.LFG(I.VKt),G.LFG(I.hHP),G.LFG(n._J),G.LFG(w.Dc),G.LFG(I.XS0),G.LFG(I.dgl),G.LFG(Z.G),G.LFG(ue.o),G.LFG(I.FR5),G.LFG(u.m3),G.LFG(k.HR),G.LFG(n._J),G.LFG(I.GKb),G.LFG(n.Ob),G.LFG(I.gIP),G.LFG(I.YvH),G.LFG(I.x5h),G.LFG(I.V5e),G.LFG(I.OMY))},N.\u0275prov=G.Yz7({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},98851:(Ge,ae,e)=>{"use strict";e.d(ae,{DX:()=>$,Qr:()=>G});var t=e(39536),n=e(39609),x=e(64710),M=e(52954),L=e(18937),p=e(90657),P=e(93557),a=e(34375),o=e(51637),v=e(32764),y=e(45224),C=e(20478),A=e(72467),d=e(73557),m=e(715);function S(F,J){if(1&F&&n._UZ(0,"mat-progress-spinner",11),2&F){const z=n.oxw(2);n.Q6J("diameter",48)("mode",z.data.progressMode)("value",z.value)}}const s=function(F){return{spinnerContent:F}};function r(F,J){if(1&F&&(n.TgZ(0,"div",8),n.YNc(1,S,1,3,"mat-progress-spinner",9),n._UZ(2,"span",10),n.ALo(3,"translate"),n.qZA()),2&F){const z=n.oxw();n.Q6J("ngClass",n.VKq(6,s,z.data.spinner)),n.xp6(1),n.Q6J("ngIf",z.data.spinner),n.xp6(1),n.Q6J("innerHtml",n.xi3(3,3,z.data.query,z.data.queryParam),n.oJD)}}function l(F,J){if(1&F){const z=n.EpF();n.TgZ(0,"div",19)(1,"mat-checkbox",20),n.NdJ("ngModelChange",function(ue){n.CHM(z);const u=n.oxw().$implicit;return n.KtG(u.state=ue)})("change",function(){n.CHM(z);const ue=n.oxw().index,u=n.oxw(2);return n.KtG(u.onStateChanged(ue))}),n._uU(2),n.ALo(3,"translate"),n.qZA()()}if(2&F){const z=n.oxw().$implicit;n.xp6(1),n.Q6J("ngModel",z.state),n.xp6(1),n.Oqu(n.lcZ(3,2,z.label))}}function i(F,J){if(1&F&&(n.TgZ(0,"div"),n.YNc(1,l,4,4,"div",18),n.qZA()),2&F){const z=J.$implicit;n.xp6(1),n.Q6J("ngIf",z.label)}}function O(F,J){if(1&F){const z=n.EpF();n.TgZ(0,"div",12),n._UZ(1,"span",10),n.ALo(2,"translate"),n.TgZ(3,"div")(4,"div",13)(5,"mat-checkbox",14),n.NdJ("ngModelChange",function(ue){n.CHM(z);const u=n.oxw();return n.KtG(u.masterState=ue)})("change",function(){n.CHM(z);const ue=n.oxw();return n.KtG(ue.onStateChanged())}),n._uU(6),n.ALo(7,"translate"),n.qZA()(),n.TgZ(8,"div",15),n.YNc(9,i,2,1,"div",16),n.qZA()(),n._UZ(10,"span",17),n.ALo(11,"translate"),n.qZA()}if(2&F){const z=n.oxw();n.xp6(1),n.Q6J("innerHtml",n.xi3(2,6,z.data.query,z.data.queryParam),n.oJD),n.xp6(4),n.Q6J("ngModel",z.masterState)("indeterminate",z.checkIndeterminate()),n.xp6(1),n.Oqu(n.lcZ(7,9,z.data.state)),n.xp6(3),n.Q6J("ngForOf",z.data.subActions),n.xp6(1),n.Q6J("innerHtml",n.xi3(11,11,z.data.hint,z.data.hintParam),n.oJD)}}function Y(F,J){if(1&F&&n._UZ(0,"mat-progress-bar",24),2&F){const z=n.oxw(2);n.Q6J("mode",z.data.progressMode)("value",z.value)}}function T(F,J){if(1&F&&(n.TgZ(0,"div",25),n._uU(1),n.qZA()),2&F){const z=n.oxw(2);n.xp6(1),n.hij("",z.value,"%")}}const B=function(){return{progressBarContent:!0}};function K(F,J){if(1&F&&(n.TgZ(0,"div",21),n._UZ(1,"span",10),n.ALo(2,"translate"),n.YNc(3,Y,1,2,"mat-progress-bar",22),n.YNc(4,T,2,1,"div",23),n.qZA()),2&F){const z=n.oxw();n.Q6J("ngClass",n.DdM(7,B)),n.xp6(1),n.Q6J("innerHtml",n.xi3(2,4,z.data.query,z.data.queryParam),n.oJD),n.xp6(2),n.Q6J("ngIf",z.data.progressBar),n.xp6(1),n.Q6J("ngIf",z.data.progressPercentage)}}const b=function(F){return{background:F}};function f(F,J){if(1&F&&(n.TgZ(0,"button",26),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&F){const z=n.oxw();n.Q6J("mat-dialog-close",z.getRetValue1())("ngStyle",n.VKq(5,b,z.data.action1Color)),n.xp6(1),n.hij(" ",n.lcZ(2,3,z.data.action1)," ")}}function D(F,J){if(1&F&&(n.TgZ(0,"button",27),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&F){const z=n.oxw();n.Q6J("mat-dialog-close",z.retVals.Action2),n.xp6(1),n.hij(" ",n.lcZ(2,2,z.data.action2)," ")}}function I(F,J){if(1&F&&(n.TgZ(0,"button",27),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&F){const z=n.oxw();n.Q6J("mat-dialog-close",z.retVals.Action3),n.xp6(1),n.hij(" ",n.lcZ(2,2,z.data.action3)," ")}}var $=(()=>{return(F=$||($={})).Action1="action1",F.Action2="action2",F.Action3="action3",F.Action4="",$;var F})();let G=(()=>{class F{constructor(z,Z){this.data=z,this.localeSerive=Z,this.masterState=!0,this.retVals=$,this.direction="ltr",this.value=0,z.spinner&&(z.progressBar=!1),void 0===z.progressMode&&(z.progressMode="indeterminate"),this.direction=this.localeSerive.isRTLLayoutEnabled?"rtl":"ltr"}set dialogData(z){this.data=z}get dialogData(){return this.data}onStateChanged(z){if(void 0===z)this.data.subActions.forEach(Z=>{Z.state=this.masterState});else{let Z=!0;this.data.subActions.forEach(ue=>{ue.state&&(Z=!1)}),this.masterState=!Z}}getRetValue1(){return this.masterState?this.retVals.Action1:this.retVals.Action4}checkIndeterminate(){if(0===this.data.subActions.length)return!1;let z=!1;return this.data.subActions.forEach(Z=>{Z.state!==this.masterState&&(z=!0)}),z}}return F.\u0275fac=function(z){return new(z||F)(n.Y36(t.eJ),n.Y36(x.OL))},F.\u0275cmp=n.Xpm({type:F,selectors:[["nv-hig-alert-dialog"]],inputs:{value:"value",dialogData:"dialogData"},decls:11,vars:11,consts:[[3,"dir"],["mat-dialog-title","",1,"font-header6"],["mat-dialog-content","","class","font-body2","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",3,"ngClass",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start left","fxLayoutGap","16px",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","8px",3,"ngClass",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close","ngStyle",4,"ngIf"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-content","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",1,"font-body2",3,"ngClass"],["color","accent","fxFlex","none",3,"diameter","mode","value",4,"ngIf"],["cdkMonitorSubtreeFocus","",3,"innerHtml"],["color","accent","fxFlex","none",3,"diameter","mode","value"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start left","fxLayoutGap","16px",1,"font-body2"],[1,"checkbox"],[1,"font-body2",3,"ngModel","indeterminate","ngModelChange","change"],[1,"subcheckboxsize"],[4,"ngFor","ngForOf"],[1,"hinttext",3,"innerHtml"],["class","subcheckbox",4,"ngIf"],[1,"subcheckbox"],[1,"font-body2",3,"ngModel","ngModelChange","change"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","8px",1,"font-body2",3,"ngClass"],["class","mat-accent",3,"mode","value",4,"ngIf"],["fxLayoutAlign","start start",4,"ngIf"],[1,"mat-accent",3,"mode","value"],["fxLayoutAlign","start start"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close","ngStyle"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close"]],template:function(z,Z){1&z&&(n.TgZ(0,"div",0)(1,"span",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.YNc(4,r,4,8,"div",2),n.YNc(5,O,12,14,"div",3),n.YNc(6,K,5,8,"div",4),n.TgZ(7,"div",5),n.YNc(8,f,3,7,"button",6),n.YNc(9,D,3,4,"button",7),n.YNc(10,I,3,4,"button",7),n.qZA()()),2&z&&(n.s9C("dir",Z.direction),n.xp6(2),n.Oqu(n.lcZ(3,9,Z.data.title)),n.xp6(2),n.Q6J("ngIf",void 0===Z.data.progressBar&&void 0===Z.data.hint||Z.data.spinner),n.xp6(1),n.Q6J("ngIf",Z.data.hint),n.xp6(1),n.Q6J("ngIf",Z.data.progressBar),n.xp6(1),n.Q6J("align","end"),n.xp6(1),n.Q6J("ngIf",Z.data.action1),n.xp6(1),n.Q6J("ngIf",Z.data.action2),n.xp6(1),n.Q6J("ngIf",Z.data.action3))},dependencies:[M.mk,M.sg,M.O5,M.PC,L.xw,L.SQ,L.Wh,L.yH,p.oO,p.Zl,P.JJ,P.On,a.eB,o.Lv,v.sN,y.eI,C.FC,t.aO,t.YS,t.Rb,t.ev,A.kH,d.xZ,m.X$],styles:[".spinnerContent[_ngcontent-%COMP%]{overflow:hidden!important}.progressBarContent[_ngcontent-%COMP%]{padding-top:16px}.checkbox[_ngcontent-%COMP%]{margin-bottom:0!important}.subcheckboxsize[_ngcontent-%COMP%]{max-height:240px;overflow-y:auto}.isLtr[_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{padding-left:16px}html[dir=ltr][_ngcontent-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{--dummy1: 0;padding-left:16px}.isRtl[_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{padding-right:16px}html[dir=rtl][_ngcontent-%COMP%]   .subcheckbox[_ngcontent-%COMP%]{--dummy1: 0;padding-right:16px}.hinttext[_ngcontent-%COMP%]{padding-bottom:28px}"]}),F})()},70412:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>a});var t=e(52954),n=e(50239),x=e(68660),M=e(64710),L=e(22804),p=e(39609);let a=(()=>{class o{constructor(y){if(y)throw new Error("CoreModule already loaded; Import in root module only.")}}return o.\u0275fac=function(y){return new(y||o)(p.LFG(o,12))},o.\u0275mod=p.oAB({type:o}),o.\u0275inj=p.cJS({imports:[t.ez,n.o9,x.Q,(0,M.zv)(),L.hp]}),o})()},88567:(Ge,ae,e)=>{"use strict";e.d(ae,{Ru3:()=>Z.Ru,NXs:()=>ue.NX,WU6:()=>ue.WU,adt:()=>o,OhQ:()=>Q,QMi:()=>b,SD3:()=>Tn.S,uPR:()=>ie,uvS:()=>On,Mbz:()=>_e,lm_:()=>Te.l,ANe:()=>ue.AN,wn$:()=>Ut,k63:()=>nn,h8g:()=>ue.R5,Uke:()=>en,Sck:()=>z.Sc,rji:()=>Me,A2s:()=>z.A2,kqG:()=>wt,InJ:()=>H.In,DXk:()=>k.DX,ZBJ:()=>z.ZB,M94:()=>i.M,sWi:()=>S.sW,z9z:()=>S.z9,y1B:()=>S.y1,qpT:()=>Y.q,OVt:()=>Ln.OV,TEL:()=>Ln.TE,udq:()=>Ln.ud,xdp:()=>Ln.xd,pWD:()=>Ln.pW,gs7:()=>s.g,QyH:()=>be,YQv:()=>Re,i85:()=>qn,WD3:()=>Zt,jOX:()=>Ln.jO,vlP:()=>Ln.vl,$jC:()=>Ln.$j,I5U:()=>Ln.I5,rQ6:()=>ke,pJR:()=>ue.pJ,f5Y:()=>oi.f,SXx:()=>H.SX,DUK:()=>Ct,Enb:()=>Ne,pLq:()=>Ye,HYm:()=>r,FCu:()=>ue.FC,vUp:()=>L.v,_RK:()=>Z._R,nGc:()=>Z.nG,ZJJ:()=>Z.ZJ,KwD:()=>l.Kw,Fr4:()=>l.Fr,EcD:()=>l.Ec,BHi:()=>l.BH,dmT:()=>kn.d,nmt:()=>Ln.nm,aqq:()=>Ln.aq,pgi:()=>ue.pg,iIl:()=>at,T7D:()=>nt,CND:()=>he,b5w:()=>pe,Vu:()=>zn,dSX:()=>qe,G0Y:()=>sn,$uQ:()=>Tt,wBk:()=>ue.wB,_6J:()=>Pn,_Cb:()=>l._C,Tjy:()=>Jt,PoW:()=>ue.Po,lar:()=>E.l,Spn:()=>ln,IO3:()=>Je,aMB:()=>Xt,cz_:()=>Et}),e(70412);var n=e(96671),x=e(18406),M=e(39609),L=e(20546);let o=(()=>{class $e{constructor(g){this.oscDisplayService=g,this.actionClicked=new n.xQ,this.iconsChanged=new x.X([]),this.titleChanged=new x.X({title:"",params:{}}),this.navButtonChanged=new x.X(""),this.activeChanged=new x.X(!1),this.iconList=[],this.actionClicked$=this.actionClicked.asObservable(),this.icons$=this.iconsChanged.asObservable(),this.title$=this.titleChanged.asObservable(),this.navButton$=this.navButtonChanged.asObservable(),this.active$=this.activeChanged.asObservable()}reset(){this.titleChanged.next({title:"",params:{}}),this.iconsChanged.next([]),this.navButtonChanged.next(""),this.activeChanged.next(!1)}setTitle(g,X={}){this.titleChanged.next({title:g,params:X})}setNavButton(g){this.navButtonChanged.next(g)}setNavButtonArrow(){this.setNavButton("arrow_left")}setNavButtonClose(){this.setNavButton("close")}setActive(g){this.activeChanged.next(g)}addIcon(g){this.iconList.push(g),this.iconsChanged.next(this.iconList)}deleteIcon(g){const X=this.iconList.findIndex(de=>de.id===g);-1!==X&&(this.iconList.splice(X,1),this.iconsChanged.next(this.iconList))}setIcons(g){this.iconList=g.slice(),this.iconsChanged.next(this.iconList)}setAll(g){this.reset(),this.setTitle(g.title,g.params),this.setActive(g.active),this.setIcons(g.icons),g.navButton&&""!==g.navButton?this.setNavButton(g.navButton):g.navButtonArrow?this.setNavButtonArrow():g.navButtonClose&&this.setNavButtonClose()}clearIcons(){this.iconList=[],this.iconsChanged.next(this.iconList)}getIcons(){return this.iconList}clickIcon(g){"closeIgo"===g&&this.closeIgo(),this.actionClicked.next(g)}clickBack(){this.clickIcon("nav")}closeIgo(){this.oscDisplayService.closeOSC()}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(L.v))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var v=e(89258),y=e(33932),C=e(51325),A=e(23815),d=e(64710),m=e(21361),S=e(32016),s=e(35880);let r=(()=>{class $e{constructor(g,X,de,Se,He,it){this.injector=g,this.igoConfig=de,this.systemInfoService=Se,this.bridgeService=He,this.hotKeyHelper=it,this.logger=X.getLogger("OsService")}init(){return this.logger.info("Initialize"),"GFE"===this.igoConfig.branding?(this.hardwareInfoService=this.injector.get(d.ty),this.hardwareInfoService||this.logger.error("ERROR:: Failed to obtain HardwareInformationService"),this.systemInfoService.getSystemInfo().pipe((0,v.U)(g=>(this.logger.info("Platform: ",g.Platform),this.isWindows=g.Platform===d.eJ.Windows,this.isOptimus=!1,!0)),(0,y.zg)(()=>this.hardwareInfoService.getOptimusStatus(!0)),(0,v.U)(g=>(this.logger.info("IsOptimus: ",g),this.isOptimus="0"!==g,!0)),(0,C.K)(()=>(0,A.of)(!0)))):this.systemInfoService.getSystemInfo().pipe((0,v.U)(g=>(this.logger.info("Platform: ",g.Platform),this.isWindows=g.Platform===d.eJ.Windows,this.isOptimus=!1,this.networkInfo=g.Network,this.logger.info("NetworkInfo: ",this.networkInfo),!0)))}getDirSeparator(){return"GFE"===this.igoConfig.branding||this.isWindows?"\\":"/"}getFileBaseSize(){return this.isWindows?1024:1e3}getQuitHotkey(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:S.sW.QuitGame}).pipe((0,v.U)(g=>g.keys),(0,v.U)(g=>this.hotKeyHelper.shortcutToString(g)))}getOSType(){return this.isWindows?d.eJ.Windows:d.eJ.Mac}getIsOptimus(){return this.isOptimus}getNetworkInfo(){return this.networkInfo}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(M.zs3),M.LFG(d.ed),M.LFG(s.g),M.LFG(d.Ob),M.LFG(d.dF),M.LFG(d.d_))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var l=e(89838),i=e(72701),Y=(e(70372),e(39323)),T=e(86283),B=e(71265),K=(()=>{return($e=K||(K={}))[$e.Empty=0]="Empty",$e[$e.Partial=1]="Partial",$e[$e.Full=2]="Full",K;var $e})();let b=(()=>{class $e{constructor(g,X,de){this.osService=X,this.bridgeService=de,this.videoPath="",this.directoryListOutdated=!0,this.directoryListUpdateCounts=!1,this.files=[],this.directoryList=[],this.directories=[],this.populatedFolder=[[],[],[],[],[]],this.folderData=[],this.fileData=[],this.mainCache=[],this.folderCache=[],this.cacheEntries=5,this.initialized=!1,this.ageCounter=0,this.dataIndex=0,this.freeInterval=3e5,this.minEntryAge=12e5,this.active=!1,this.logger=g.getLogger("CacheService")}resetCacheEntry(g){this.folderCache[g]={dirty:!0,crc:0,path:"",age:0,time:0,loaded:K.Empty}}init(){if(this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),!this.initialized){this.directoryListOutdated=!0,this.mainCache[0]={dirty:!0,crc:0,path:""};for(let g=0;g<this.cacheEntries;g++)this.resetCacheEntry(g);this.cacheTimerOn(),this.initialized=!0,this.logger.info("Initialize complete")}}reInit(){this.cacheTimerOff(),this.initialized=!1,this.init()}galleryActive(g){this.active=g}cacheTimerOn(){this.cacheTimer||(this.cacheTimer=(0,T.F)(this.freeInterval).subscribe(()=>{if(this.logger.info("cacheTimer called"),this.active)return;let g=2147483647,X=-1;const Se=(new Date).getTime();for(let He=0;He<this.cacheEntries;He++)0!==this.folderCache[He].age&&this.folderCache[He].age<g&&Se-this.folderCache[He].time>this.minEntryAge&&(X=He,g=this.folderCache[He].age);0!==g&&-1!==X&&(this.logger.info("resetting cache entry: "+X+" age was: "+g),this.folderData[X].directories.length=0,this.folderData[X].files.length=0,this.folderCache[X].loaded===K.Full&&(this.fileData[X].popFolder.length=0),this.resetCacheEntry(X)),this.checkCacheState()}))}cacheTimerOff(){this.logger.info("cacheTimerOff called"),this.cacheTimer&&(this.cacheTimer.unsubscribe(),this.cacheTimer=void 0)}checkCacheState(){let g=!0;this.folderCache.forEach(X=>{X.loaded!==K.Empty&&(g=!1)}),g&&this.cacheTimerOff()}setRecordingPaths(g){this.videoPath=g,this.reInit()}getCurrentPopFolder(){return this.populatedFolder[this.dataIndex]}resetCurrentPopFolder(){this.populatedFolder[this.dataIndex].length=0}useCacheData(g,X){let de=!1;if(g!==this.videoPath){const Se=this.folderCache.findIndex(St=>St.path===g);if(-1===Se)return!1;de=!this.folderCache[Se].dirty&&this.folderCache[Se].path===g;const He=de&&this.folderCache[Se].loaded!==K.Empty,it=de&&this.folderCache[Se].loaded===K.Full;this.dataIndex=Se;const Pt=(new Date).getTime();return X?(He&&(this.logger.info("useCacheData, updating partial!"),this.files=this.folderData[Se].files,this.directories=this.folderData[Se].directories,this.counts=this.folderData[Se].counts,this.logger.info("useCacheData, updating partial - DONE!!"),this.folderCache[Se].time=Pt),He):(it&&(this.logger.info("useCacheData, updating full!"),this.populatedFolder[Se]=this.fileData[Se].popFolder,this.counts=this.folderData[Se].counts,this.logger.info("useCacheData, updating full - DONE!!"),this.folderCache[Se].time=Pt),it)}return de=!this.mainCache[0].dirty&&this.mainCache[0].path===g,de}setCacheNotDirty(g){if(g===this.videoPath)this.mainCache[0].dirty=!1;else{const X=this.folderCache.findIndex(de=>de.path===g);-1!==X&&(this.folderCache[X].dirty=!1)}}setCacheLoadedPartial(g){const X=this.folderCache.findIndex(de=>de.path===g);-1!==X&&(this.folderCache[X].loaded=K.Partial,this.folderData[X]={files:this.files,directories:this.directories,counts:this.counts})}setCacheLoaded(g){const X=this.folderCache.findIndex(de=>de.path===g);-1!==X&&(this.folderCache[X].loaded=K.Full,this.fileData[X]={popFolder:this.populatedFolder[X]})}setFileCounts(g,X){const de=this.folderCache.findIndex(Se=>Se.path===X);-1!==de?this.folderData[de].counts=g:this.logger.error("Could not find cache entry")}getVideoPathCRC(){return this.getGalleryFolderCRC(this.videoPath).pipe((0,v.U)(g=>{const X=this.mainCache[0].crc!==g.crc;return this.mainCache[0]={dirty:X,crc:g.crc,path:this.videoPath},X}),(0,C.K)(g=>(this.logger.info("getVideoPathCRC error: ",g),(0,A.of)(!0))))}getCachedDataCRC(g){void 0===g&&(this.logger.info("getCachedDataCRC: input undefined will use video path"),g=this.videoPath);let X=-1;if(g===this.videoPath)return this.getVideoPathCRC();if(X=this.folderCache.findIndex(de=>de.path===g),-1===X&&(X=this.folderCache.findIndex(de=>de.path===g)),-1===X){let de=2147483647;for(let Se=0;Se<this.cacheEntries;Se++)this.folderCache[Se].dirty&&this.folderCache[Se].age<de&&(X=Se,de=this.folderCache[Se].age)}if(-1===X){let de=2147483647;for(let Se=0;Se<this.cacheEntries;Se++)this.folderCache[Se].age<de&&(X=Se,de=this.folderCache[Se].age)}return X>=this.cacheEntries&&this.logger.error("folder cache has bad indexing!"),this.logger.info("Using index: "+X),this.getGalleryFolderCRC(g).pipe((0,y.zg)(de=>{const Se=this.folderCache[X].crc!==de.crc,it=Se||this.folderCache[X].loaded===K.Empty;this.ageCounter++;const Pt=(new Date).getTime();return this.folderCache[X]={dirty:it,crc:de.crc,path:g,age:this.ageCounter,time:Pt,loaded:Se?K.Empty:this.folderCache[X].loaded},this.cacheTimerOn(),(0,A.of)(!0)}),(0,C.K)(de=>(this.logger.info("getCachedDataCRC error: ",de),this.resetCacheEntry(X),(0,A.of)(!1))))}getGalleryFolderCRC(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFolderCRC,{directory:g})}getDirectoryListCRC(){return this.getVideoPathCRC().pipe((0,B.b)(g=>{this.directoryListOutdated=g}))}getNewDirectoryList(){return this.directoryListOutdated?(this.directoryList.length=0,this.directoryListUpdateCounts=!0,this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFolderListing,{directory:this.videoPath,shouldGetOnlyNv:!0,excludeDirectoryType:m.Yk.Common.Gallery.ExcludeDirectoryType.empty}).pipe((0,v.U)(X=>(this.setDirectoryList(X.directories),this.logger.info("New Directories: ",this.directoryList),this.directoryList)))):(this.logger.info("Current Directories: ",this.directoryList),this.directoryListUpdateCounts=!1,(0,A.of)(this.directoryList))}getDirectoryList(){return this.getDirectoryListCRC().pipe((0,y.zg)(()=>this.getNewDirectoryList()))}setDirectoryList(g){this.directoryList=g.slice(),this.directoryListOutdated=!1}updateDirectoryList(g){if(this.directoryList.length){let X=g.lastIndexOf(this.dirSeparator);const de=g.substr(0,X);X=de.lastIndexOf(this.dirSeparator)+1;const Se=de.substr(X);this.directoryList.find(He=>He===Se)||this.flushDirectoryList()}}flushDirectoryList(){this.directoryListOutdated=!0}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(r),M.LFG(d.dF))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var f=e(39138),D=e(50936),I=e(47504),w=e(16099),_=e(38435),$=e(63155),G=e(74266),F=e(4042),J=e(28805),z=e(52321),Z=e(59717),ue=e(6083),u=e(41221),k=e(98851),W=e(97483),N=e(77779),H=e(71136),h=e(715),E=e(86329),ee=e(2629),R=e(39536),q=e(76549),ne=e(22804);let _e=(()=>{class $e{constructor(g,X,de,Se){this.oscDisplayService=g,this.dialog=X,this.snackbar=de,this.focusManager=Se}openAlertDialog(g,X=!0){const de={panelClass:["nv-hig","nv-igo","nv-overlay-panel"],disableClose:X,autoFocus:!1,data:g};return this.oscDisplayService.getCanShowUI().pipe((0,G.h)(Se=>Se),(0,ee.q)(1),(0,y.zg)(()=>this.oscDisplayService.getCurrentOpenState()),(0,ee.q)(1),(0,v.U)(Se=>{const He="open"!==Se;He&&this.oscDisplayService.openOSC("");const it=this.focusManager.restoreFocusAfterClosed(()=>this.dialog.open(k.Qr,de));return it.afterClosed().subscribe(()=>{He&&this.oscDisplayService.closeOSC()}),it}))}openSnackBar(g,X="",de=5e3){return this.snackbar.open(g,X,{duration:de,horizontalPosition:"left",panelClass:["nv-hig","nv-igo"]})}closeSnackBar(){this.snackbar.dismiss()}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(L.v),M.LFG(R.on),M.LFG(q.pl),M.LFG(ne.IK))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var U=e(85948);let pe=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St,Mt,Be){this.injector=g,this.bridgeService=de,this.translateService=Se,this.igoConfig=He,this.oscNotificationService=it,this.telemetry=dt,this.dialogHelper=Pt,this.endpointFactory=St,this.hotkeyService=Mt,this.gfnInfoService=Be,this.disableRecordSpecialCase=H.Kk.RECORD_SPECIAL_CASE_4K,this.appShortName="",this.scopes=[],this.highlightsActive=!1,this.overrideHighlightUI=!1,this.sdkHighlightSupported=!1,this.cachedShortName="",this.sdkInstance={appShortName:"",profileName:"",name:"",sdkVersion:""},this.highlightsActive$=new x.X(!1),this.gameSpecificHlData=[],this.subActions=[],this.logger=X.getLogger("SdkHighlightsService")}get streamerConfig(){return this.streamerConfigService.activeConfig}isHighlightsActive(){return this.highlightsActive$.asObservable()}overrideHighlightSettings(){return this.overrideHighlightUI}cachedAHLGameShortName(){return this.cachedShortName}init(){this.logger.info("Initialize"),this.gfnInfoService.getRecordSpecialCase().subscribe(g=>{this.logger.info("disableRecordSpecialCase mode: ",g),this.disableRecordSpecialCase=g}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterSDKNotifications).subscribe(g=>this.highlightsEvent(g)),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetHighlightsActive).subscribe(g=>{g&&this.highlightsActive$.next(!this.disableRecordSpecialCase&&g.active)})}getPermissionsData(g){const X=[];X.push(this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetApplicationConfigs,{}).pipe((0,B.b)(de=>{if(this.gameSpecificHlData.length=0,de){const Se=de.apps.findIndex(He=>He.app.profileName===g);-1!==Se&&(this.gameSpecificHlData=de.apps[Se].highlights,this.gameSpecificHlData.forEach(He=>He.userEnabled=!0))}}))),X.push(this.hotkeyService.blockAllHotkeys(!0).pipe((0,B.b)(()=>{this.logger.info("Hotkeys disabled")}))),setTimeout(()=>{(0,f.$R)(...X).subscribe(()=>{this.askToSetPermissions(g)})},2e3)}askToSetPermissions(g){this.logger.info("permissions request");let X="GFE"===this.igoConfig.branding?"product.NVAPP":"product.GFN";X=this.translateService.instant(X);let de="GFE"===this.igoConfig.branding?"confirmation.HighlightsTitle":X;de=this.translateService.instant(de);const Se="GFE"===this.igoConfig.branding?"confirmation.HighlightsPermissionsNvApp":"confirmation.HighlightsPermissions",He="GFE"===this.igoConfig.branding?"confirmation.HighlightsHintNvApp":"confirmation.HighlightsHint";this.subActions.length=0,this.gameSpecificHlData.length>0&&this.gameSpecificHlData.forEach(dt=>{const Pt=`highlightLabels.${dt.name}`;let St=this.translateService.instant(Pt);St===Pt&&(St=dt.name),this.subActions.push({label:St,state:dt.userEnabled})}),this.dialogHelper.openAlertDialog({title:de,query:Se,queryParam:{arg:g},state:"confirmation.HighlightsMainCheckbox",hint:He,hintParam:{arg:X},action1:"confirmation.LetsGo",action1Color:"#76b900",subActions:this.subActions}).pipe((0,y.zg)(dt=>dt.afterClosed())).subscribe(dt=>{dt===k.DX.Action1?this.allowHighlights():this.disallowHighlights(),this.hotkeyService.blockAllHotkeys(!1).subscribe()})}highlightsEvent(g){this.logger.info("Event: ",g),g?g.requestPermissions?this.eventRequestPermissions(g):g.createInstance?this.eventCreateInstance(g):g.destroyInstance?this.eventDestroyInstance(g):g.updatePermissions?(this.sdkInstance.appShortName=g.updatePermissions.app.appShortName,this.sdkInstance.profileName=g.updatePermissions.app.profileName,this.sdkInstance.name=g.updatePermissions.app.name):g.actionStatus?this.eventActionStatus(g):g.openGroup||g.closeGroup||(g.highlightSessionStatus?(this.highlightsActive=g.highlightSessionStatus.enable,this.highlightsActive$.next(g.highlightSessionStatus.enable)):g.manualRecordRunning?"GFE"===this.igoConfig.branding&&this.oscNotificationService.show(Z.ZJ.ManualRecordRunning,g.manualRecordRunning.manualRecordGameName,g.manualRecordRunning.gameName):this.logger.info("Unknown or unhandled Event Type: ",g)):this.logger.info("Event: undefined or null")}eventRequestPermissions(g){this.appShortName=g.requestPermissions.app.appShortName,this.scopes=g.requestPermissions.scopes,this.getPermissionsData(g.requestPermissions.app.profileName)}eventCreateInstance(g){this.sdkInstance.appShortName=g.createInstance.app.appShortName,this.sdkInstance.profileName=g.createInstance.app.profileName,this.sdkInstance.name=g.createInstance.app.name,this.sdkInstance.sdkVersion=g.createInstance.sdkVersion}eventActionStatus(g){const X=g.actionStatus;"HighlightsSaveVideo"!==g.actionStatus.action&&"HighlightsSaveScreenshot"!==g.actionStatus.action||"NVGSDK_ERR_CAP_LIMIT_REACHED"!==g.actionStatus.status?"HighlightsSaveVideo"!==g.actionStatus.action&&"HighlightsSaveScreenshot"!==g.actionStatus.action||"NVGSDK_ERR_DISK_LIMIT_REACHED"!==g.actionStatus.status?"NVGSDK_SUCCESS"!==g.actionStatus.status&&(void 0===g.actionStatus.status&&(g.actionStatus.status="NVGSDK_ERR_NOT_SET"),this.logger.info("Event not handled: ",g)):(this.logger.info("Capture failed due to disk space limit"),this.oscNotificationService.show(Z.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights")):(this.logger.info("Capture failed due to cap space limit"),this.oscNotificationService.show(Z.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights")),this.telemetry.recordSDKCallResult(X.action,X.status,X.statusInternalCode,{shortName:X.app.appShortName},X.sdkVersion?X.sdkVersion:""),X.action===ue.og.connect&&this.getStateOfCurrentGame(g.actionStatus.app).subscribe(de=>{de.permissionParams.permissions.length>0&&this.telemetry.sendHighlightsGameSetting({},de.state,de.state?ue.pg.alreadyOn:ue.pg.alreadyOff)})}eventDestroyInstance(g){this.sdkInstance.appShortName="",this.sdkInstance.profileName="",this.sdkInstance.name="",this.sdkInstance.sdkVersion=""}fillPermissions(g){const X={app:{},permissions:[]};return X.app.appShortName=this.appShortName,this.scopes.forEach((de,Se)=>{X.permissions[Se]={scope:de,permission:g}}),X}setPermissions(g){const X=this.fillPermissions(g);return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetSDKPermissions,X).pipe((0,v.U)(de=>(this.logger.info("SetSDKPermissions "+(g===m.Yk.Share.Shareserver.SdkPermissions.granted?"granted":"denied")+" for: ",this.appShortName),this.gameSpecificHlData.length>0&&this.updateHighlightsSettings(),!0)),(0,C.K)(de=>(this.logger.info("SetSDKPermissions failed: ",de),(0,A.of)(!1))))}updateHighlightsSettings(){const X={app:{appShortName:this.sdkInstance.appShortName,profileName:this.sdkInstance.profileName,name:this.sdkInstance.name},highlightDefinitions:this.gameSpecificHlData};X.highlightDefinitions.forEach(de=>{const Se=`highlightLabels.${de.name}`;let He=this.translateService.instant(Se);He===Se&&(He=de.name),de.userEnabled=this.subActions.find(it=>it.label===He).state}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetHighlightsConfig,X).subscribe(()=>{})}allowHighlights(){this.setPermissions(m.Yk.Share.Shareserver.SdkPermissions.granted).subscribe(),this.telemetry.sendHighlightsGameSetting({shortName:this.sdkInstance.appShortName},!0,ue.pg.initial)}disallowHighlights(){this.setPermissions(m.Yk.Share.Shareserver.SdkPermissions.denied).subscribe(),this.telemetry.sendHighlightsGameSetting({shortName:this.sdkInstance.appShortName},!1,ue.pg.initial)}getStateOfCurrentGame(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetSDKPermissions,{app:g}).pipe((0,v.U)(Se=>{let He=!1;for(let dt=0;dt<Se.permissions.length;dt++)He=Se.permissions[dt].permission===m.Yk.Share.Shareserver.SdkPermissions.granted||He,this.logger.info(Se.permissions[dt].scope+" permissions for: "+g.profileName+" are: "+Se.permissions[dt].permission);return{permissionParams:{app:g,permissions:Se.permissions},state:He}}))}setStateOfCurrentGame(g){for(let de=0;de<g.permissionParams.permissions.length;de++)g.permissionParams.permissions[de].permission=g.state?m.Yk.Share.Shareserver.SdkPermissions.granted:m.Yk.Share.Shareserver.SdkPermissions.denied;return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetSDKPermissions,g.permissionParams).pipe((0,v.U)(()=>{this.logger.info("Permissions for: "+g.permissionParams.app.profileName+" changed to: "+g.permissionParams.permissions[0].permission)}))}IsSDKHighlightSupportedGame(g){return this.lcarsService.getMetadataByCmsId(g).pipe((0,v.U)(X=>{var de,Se;if(X){if(this.logger.info("isHighlightsSupported: ",null===(de=X.nvidiaTech)||void 0===de?void 0:de.HIGHLIGHTS),null!==(Se=X.nvidiaTech)&&void 0!==Se&&Se.HIGHLIGHTS)return this.sdkHighlightSupported=!0,void(this.overrideHighlightUI=!1);this.sdkHighlightSupported=!1}else this.logger.info("isHighlightsSupported value not found for the game")})).subscribe(u.Z,X=>{this.sdkHighlightSupported=!1,this.overrideHighlightUI=!1,this.logger.error("Unable to obtain game meta data.",X)})}createEndpoint(){return this.endpointFactory.createEndpoint({config:{timeout:1e4,timeBetweenRetries:3e4,maxRetries:2}})}toggleAutohighlight(g){!0===this.igoConfig.GFNCefClient&&(this.streamerConfigService=this.injector.get(N.o),this.lcarsService=this.injector.get(W.zcQ),this.IsSDKHighlightSupportedGame(this.streamerConfig.cmsId),this.enableAutohighlight(g))}enableAutohighlight(g){const X={toggle:g};g||this.sdkHighlightSupported?(this.overrideHighlightUI=!1,this.cachedShortName=""):(this.overrideHighlightUI=!0,this.cachedShortName=this.streamerConfig.shortName,this.logger.info("AHL disabled on a supported game: ",this.cachedShortName)),this.sdkHighlightSupported?this.logger.info("AHL not supported for ",this.streamerConfig.shortName):this.bridgeService.executeCommand(m.Gh.Share.Shareserver.ToggleAutoHighlight,X).pipe((0,v.U)(de=>(this.logger.info("ToggleAutoHighlight returns: ",de),de)),(0,C.K)(de=>(this.logger.info("ToggleAutoHighlight error: ",de),(0,A.of)(!1)))).subscribe()}toggleSdkHighlights(g){!0===this.igoConfig.GFNCefClient&&this.bridgeService.executeCommand(m.Gh.Share.Shareserver.DisableRecordSpecialCase,{specialCase:g?H.Kk.RECORD_SPECIAL_CASE_NONE:H.Kk.RECORD_SPECIAL_CASE_4K}).pipe((0,v.U)(de=>(this.logger.info("DisableRecordSpecialCase returns: ",de),de)),(0,C.K)(de=>(this.logger.info("DisableRecordSpecialCase error: ",de),(0,A.of)(!1)))).subscribe()}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(M.zs3),M.LFG(d.ed),M.LFG(d.dF),M.LFG(h.sK),M.LFG(s.g),M.LFG(Z.nG),M.LFG(E.l),M.LFG(_e),M.LFG(U.V9),M.LFG(S.y1),M.LFG(H.In))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var Pe=e(52954),Te=e(66134),nt=(()=>{return($e=nt||(nt={}))[$e.BackNav=0]="BackNav",$e[$e.ForwardNav=1]="ForwardNav",$e[$e.DeleteFile=2]="DeleteFile",nt;var $e})();let Me=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St,Mt,Be,Ie,se){this.bridgeService=X,this.osService=de,this.cacheService=Se,this.sdkService=He,this.notifierService=it,this.oscDisplayService=dt,this.telemetry=Pt,this.translateService=St,this.dialogHelper=Mt,this.datePipe=Be,this.gfnInfoService=Ie,this.featureSupportService=se,this.videoPath="",this.thumbWidth=128,this.thumbHeight=128,this.directories=[],this.workingFolder="",this.lastUserSelectedFolder="",this.previewCaller=void 0,this.mostLikelyResolution={width:1920,height:1080},this.currentFileData$=new x.X(null),this.currentSelectedFilesData$=new x.X([]),this.captureSaved$=new x.X(""),this.activeFilter=0,this.fileCounts=new z.uc,this.topLevelCounts=[],this.updatingTracker=!1,this.highlightSummaryIsOpen=!1,this.trackerCallback$=new n.xQ,this.delayedCallback$=new n.xQ,this.canceledCallback$=new n.xQ,this.refreshEvent$=new n.xQ,this.recentEvent$=new n.xQ,this.lowDiskSpaceEvent$=new x.X(!1),this.previewPaneEvent$=new n.xQ,this.logger=g.getLogger("GalleryService")}get fileDataChangeListener(){return this.currentFileData$.asObservable()}get currentFileData(){return this.currentFileData$.getValue()}set currentFileData(g){this.logger.info("Updating metadata"),this.currentFileData$.next(g)}get filesSelectedDataChangeListener(){return this.currentSelectedFilesData$.asObservable()}get currentSelectedFilesData(){return this.currentSelectedFilesData$.getValue()}set currentSelectedFilesData(g){this.currentSelectedFilesData$.next(g)}listenForTrackerEvents(){return this.trackerCallback$.asObservable()}listenForDelayedEvents(){return this.delayedCallback$.asObservable()}isHighlightCanceled(){return this.canceledCallback$.asObservable()}refreshEvent(){return this.refreshEvent$.asObservable()}recentEvent(){return this.recentEvent$.asObservable()}previewPaneEvent(){return this.previewPaneEvent$.asObservable()}lowDiskSpaceEvent(){const g=this.checkDiskSpace().subscribe(()=>{g.unsubscribe()});return this.lowDiskSpaceEvent$.asObservable()}lowDiskSpaceValue(){return this.lowDiskSpaceEvent$.getValue()}captureSaved(){return this.captureSaved$.asObservable()}init(){this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),this.bridgeService.executeCommand(m.Gh.Common.Gallery.GalleryNotifications).pipe((0,_.b)(g=>this.galleryEvent(g))).subscribe(),this.checkDiskSpace().pipe((0,$.P)()).subscribe(),this.gfnInfoService.streamingTerminated().pipe().subscribe(()=>{this.setLastUserSelectedFolder("")}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,G.h)(g=>!(null==g||!g.appStarted))).subscribe(g=>{this.setLastUserSelectedFolder("")}),this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetSettings).pipe((0,y.zg)(g=>(this.checkDiskLimits(g.settings.capacity),g.settings.path?this.initPathItems(g.settings.path).pipe((0,v.U)(X=>g)):(0,A.of)(g))),(0,B.b)(g=>{this.telemetry.updateGallerySettings(g)}),(0,y.zg)(g=>this.featureSupportService.isGFEMode()?this.bridgeService.executeCommand(m.Gh.Common.Gallery.MigrateHighlightsTracker):(0,A.of)(null))).subscribe()}hasAnyEntries(){if(this.topLevelCounts.length>0){let g=0;return this.topLevelCounts.forEach(X=>{g+=X.totalCount}),console.log("gallery entries: ",g),g>0}return!1}checkDiskLimits(g){this.logger.info("Disk Limits: ",g),g.enabled&&g.capacityPercent/100*g.totalDiskSpaceMB<=g.usageMB&&(this.logger.info("Gallery is full"),this.notifierService.show(Z.ZJ.GalleryIsFull))}initPathItems(g){this.videoPath=g,this.cacheService.setRecordingPaths(this.videoPath);const X=this.videoPath.split(":")[0];return this.logger.info("Drive Letter: ",X),X.length&&this.getDriveSize(X),this.getFolders().pipe((0,B.b)(()=>{this.logger.info("Initialize complete")}))}pathChanged(){return this.logger.info("Re-initializing Gallery Service"),this.workingFolder="",this.setLastUserSelectedFolder(""),this.directories=[],this.topLevelCounts=[],this.cacheService.flushDirectoryList(),this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetSettings).pipe((0,y.zg)(X=>(this.checkDiskLimits(X.settings.capacity),this.initPathItems(X.settings.path))),(0,F.h)(!0))}getDriveSize(g){this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetDriveInfo,{drive:g}).subscribe(de=>{this.currentDriveSize=de.totalSpaceMB,this.currentDriveFreeSpace=de.freeSpaceMB,this.logger.info("Drive info: ",de)})}buildPath(g){return""===g?this.videoPath:this.videoPath+this.dirSeparator+g}setWorkingFolder(g){const X=this.buildPath(g);return this.cacheService.getCachedDataCRC(X).pipe((0,y.zg)(de=>this.getUsableData(g)),(0,y.zg)(de=>(this.cacheService.useCacheData(X,!1),(0,A.of)(this.cacheService.files.length))))}getWorkingFolder(){return""!==this.workingFolder&&this.directories.length&&(this.directories.find(X=>X===this.workingFolder)||(this.workingFolder="")),""===this.workingFolder&&this.directories.length&&(this.workingFolder=this.directories[0]),this.workingFolder}setLastUserSelectedFolder(g){this.lastUserSelectedFolder=g}getLastUserSelectedFolder(){return this.lastUserSelectedFolder}getVideoFolder(){return this.videoPath}saveCurrentLocation(g){this.currentLocation=g}getCurrentLocation(){return this.currentLocation}setGalleryThumbSize(g){this.thumbWidth=g,this.thumbHeight=g}populateDirectoryStats(){if(this.directories.length>0&&this.cacheService.directoryListUpdateCounts){this.topLevelCounts=[];const g=[];return this.directories.forEach(X=>{g.push(this.getAppStats(X))}),(0,f.$R)(...g).pipe((0,v.U)(()=>this.directories))}return(0,A.of)(this.directories)}getFolders(){return this.cacheService.getDirectoryList().pipe((0,y.zg)(g=>(this.directories=g,this.populateDirectoryStats())))}showFolderContents(g){return""===g?""===this.workingFolder?this.workingFolder=g=this.directories[0]:g=this.workingFolder:this.workingFolder=g,this.logger.info("Working Folder: ",this.workingFolder),this.setWorkingFolder(g).pipe((0,v.U)(()=>this.cacheService.getCurrentPopFolder()))}getUsableData(g){this.logger.info("GetUsableData Dir: ",g);const X=this.buildPath(g);if(this.cacheService.useCacheData(X,!0))return this.logger.info("GetUsableData - Using cached data"),this.fileCounts=this.cacheService.counts,this.telemetry.setGalleryAccessCached(!0),this.telemetry.setGalleryFolderCounts(this.cacheService.counts.images,this.cacheService.counts.total-this.cacheService.counts.images),(0,A.of)(!0);this.telemetry.setGalleryAccessCached(!1);let de=[];return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetApplicationConfigs,{}).pipe((0,B.b)(Se=>{if(Se&&Se.apps.length){const He=Se.apps.find(it=>it.app.profileName===g||it.app.name===g);He&&(de=He.highlights.map(it=>({name:it.name,displayName:"",count:0,enabled:!0})),de.forEach(it=>{const dt=`highlightLabels.${it.name}`,Pt=this.translateService.instant(dt);it.displayName=Pt===dt?it.name:Pt}))}}),(0,C.K)(()=>(0,A.of)(!1)),(0,y.zg)(()=>this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetAppUGC,{appName:g})),(0,v.U)(Se=>{this.cacheService.resetCurrentPopFolder();const He=[],it=this.cacheService.getCurrentPopFolder();let dt=0,Pt=0,St=0,Mt=0;return Se.ugc&&Se.ugc.forEach((Be,Ie)=>{Pt+=Be.fileSubType===m.Yk.Common.Gallery.SubType.InstantReplay?1:0,dt+=Be.fileSubType===m.Yk.Common.Gallery.SubType.Manual?1:0,Be.fileType===m.Yk.Common.Gallery.FileType.video&&Be.fileSubType!==m.Yk.Common.Gallery.SubType.InstantReplay&&Be.fileSubType!==m.Yk.Common.Gallery.SubType.Manual&&Be.fileSubType!==m.Yk.Common.Gallery.SubType.Highlight&&(dt+=1),St+=Be.fileType===m.Yk.Common.Gallery.FileType.image?1:0,Mt+=Be.fileSubType===m.Yk.Common.Gallery.SubType.Highlight?1:0;const se=Be.path.lastIndexOf(this.dirSeparator),rt={name:Be.path.substr(se+1),type:Be.fileType,subtype:Be.fileSubType,source:Be.fileSource,thumbnail:""};He.push(rt);const mt={fullFilename:Be.path,file:rt,folder:g,index:Ie,duration:Be.duration,date:Be.date,fileSize:Be.fileSizeKB.toString(),audiotype:Be.audiotype,hlName:Be.highlightName,hlId:Be.id,hlGroup:Be.highlightGroupId,cancel:!1,data:null};it.push(mt),de.some(It=>{if(It.name===Be.highlightName)return It.count++,!0})}),this.cacheService.files=He,this.cacheService.setCacheLoadedPartial(X),this.logger.info("Files: "+Se.ugc.length+" Highlights : "+Mt+" Recordings: "+dt+" IR: "+Pt+" Images: "+St),this.fileCounts={total:Se.ugc.length,highlights:Mt,videos:dt,instantReplays:Pt,images:St,highlightBreakDown:de},this.telemetry.setGalleryFolderCounts(St,Se.ugc.length-St),this.cacheService.setFileCounts(this.fileCounts,X),!0}))}getAppStats(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetAppStats,{appName:g}).pipe((0,v.U)(de=>{this.logger.info("App Stats: "+g+" SS: "+de.screenshots+" V: "+de.videos);const Se=this.topLevelCounts.findIndex(He=>He.folder===g);return Se>=0?this.topLevelCounts[Se].totalCount=de.screenshots+de.videos:this.topLevelCounts.push({folder:g,totalCount:de.screenshots+de.videos}),de}))}getMetaData(g,X=!0){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFileMetadata,{file:g,width:X?this.thumbWidth:void 0,height:X?this.thumbHeight:void 0})}getImageFileDimensions(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetImageFileDimensions,{file:g})}getFileData(g,X,de){const Se=this.cacheService.getCurrentPopFolder();return void 0===Se||Se.length<=X||g!==Se[0].folder||""===Se[X].file.name?(0,A.of)(void 0):this.getMetaData(Se[X].fullFilename,de).pipe((0,$.P)(),(0,v.U)(He=>{const it=this.cacheService.getCurrentPopFolder();if(void 0===it||it.length<=X||g!==it[0].folder)return;const dt=it[X],Pt=it[X].file,St=void 0===He.audiotype?z.$K.Unknown:He.audiotype;return Pt.type===z.A2.Video&&Pt.subtype===z.dM.Normal&&St===m.Yk.Common.Gallery.AudioType.Separate&&(Pt.subtype=z.dM.Mta),dt.audiotype=St,dt.duration=void 0===He.duration?"":He.duration,dt.memeTop=He.memeInfo?He.memeInfo.topBarText:"",dt.memeBottom=He.memeInfo?He.memeInfo.bottomBarText:"",dt.data=void 0===He.thumbnail?null:He.thumbnail,dt}),(0,C.K)(He=>(this.logger.error("GetMetaData failed: ",He),(0,A.of)(void 0))))}fillInFileData(g){return this.getFileData(g.folder,g.index,!0)}removeItem(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.RemoveGalleryItem,{file:g,forceDelete:!1}).pipe((0,y.zg)(de=>{const Se=g.lastIndexOf(this.dirSeparator),He=g.substr(Se+1,g.length-1);return this.logger.info("File deleted: ",He),this.cleanupLocalHighlightsListAfterDelete(g),(0,A.of)(!0)}),(0,C.K)(de=>(this.logger.info("File remove failed: ",de),this.notifierService.show(Z.ZJ.FailedToRemove,"",""),(0,A.of)(!1))))}getThumbnailForFile(g,X=70,de=70){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetThumbnail,{file:g,width:X,height:de}).pipe((0,v.U)(He=>He.thumbnail))}eventCaptureSaved(g){const X=g.captureSaved.ugc.fileSource===m.Yk.Common.Gallery.Source.GFE_SDK&&g.captureSaved.ugc.fileSubType===m.Yk.Common.Gallery.SubType.Highlight,de=g.captureSaved.ugc.fileType===m.Yk.Common.Gallery.FileType.image,Se=g.captureSaved.ugc.fileSource===m.Yk.Common.Gallery.Source.GFE_Ansel;if(g.captureSaved.unannounced||this.getThumbnailForFile(g.captureSaved.ugc.path).subscribe(He=>{if(X){const it=`highlightLabels.${g.captureSaved.ugc.highlightName}`;this.translateService.get(it).subscribe(dt=>{dt===it&&(dt=g.captureSaved.ugc.highlightName),this.notifierService.show(Z.ZJ.HighlightsSaved,dt,"","",He)})}else if(Se){let it="";switch(g.captureSaved.ugc.fileSubType){case m.Yk.Common.Gallery.SubType.Normal_Ansel:it="nvcamera.screenshot";break;case m.Yk.Common.Gallery.SubType.SuperResolution:case m.Yk.Common.Gallery.SubType.SuperResolution_Oversized:it="nvcamera.highResolutionPhoto";break;case m.Yk.Common.Gallery.SubType.SubType_360Mono:it="nvcamera.360PhotoSphere";break;case m.Yk.Common.Gallery.SubType.Stereo:it="nvcamera.screenshot3D";break;case m.Yk.Common.Gallery.SubType.SubType_360Stereo:it="nvcamera.360PhotoSphere3D"}this.notifierService.show(Z.ZJ.HighlightsSaved,it,"","",He)}else de?this.notifierService.show(Z.ZJ.ScreenshotSaved,"","","",He):"Manual"===g.captureSaved.ugc.fileSubType?this.notifierService.show(Z.ZJ.RecordStopped,"","","",He):"InstantReplay"===g.captureSaved.ugc.fileSubType&&this.notifierService.show(Z.ZJ.InstantReplaySaved,"","","",He)}),this.highlightSummaryIsOpen?void 0===this.highlightsSummaryData.highlights.find(He=>He.path===g.captureSaved.ugc.path)&&this.highlightsSummaryData.highlights.push({id:g.captureSaved.ugc.id,path:g.captureSaved.ugc.path,fileType:g.captureSaved.ugc.fileType,highlightdefinitionId:g.captureSaved.ugc.highlightDefinitionId,highlightName:g.captureSaved.ugc.highlightName,highlightGroupId:g.captureSaved.ugc.highlightGroupId,highlightTags:g.captureSaved.ugc.highlightTags,highlightSignificance:g.captureSaved.ugc.highlightSignificance}):this.cacheService.updateDirectoryList(g.captureSaved.ugc.path),X){const He={id:g.captureSaved.ugc.id,groupId:g.captureSaved.ugc.highlightGroupId,filename:g.captureSaved.ugc.path,name:g.captureSaved.ugc.highlightName,cancel:!1};if(this.delayedCallback$.observers.length){const it=g.captureSaved.ugc.DRSProfileName,dt=0===this.directories.length,Pt=!dt&&void 0===this.directories.find(Be=>Be===it),St=!dt&&!Pt&&this.workingFolder!==it,Mt=dt||Pt||St;if(this.logger.info("Special cases: "+dt+" "+Pt+" "+St),Mt){const Be=this.workingFolder;this.showFolderContents(g.captureSaved.ugc.DRSProfileName).subscribe(()=>{this.saveDelayedHighlight(He),this.workingFolder=Be})}else this.saveDelayedHighlight(He)}this.telemetry.sendHighlightCapture({shortName:this.sdkService.sdkInstance.appShortName},this.sdkService.sdkInstance.sdkVersion,this.durationToSeconds(g.captureSaved.ugc.duration),g.captureSaved.ugc.highlightDefinitionId,"image"===g.captureSaved.ugc.fileType?ue.zc.image:ue.zc.video)}return this.captureSaved$.observers.length&&this.captureSaved$.next(g.captureSaved.ugc.path),!X&&this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:g.captureSaved.ugc.DRSProfileName}),this.getFolders().pipe((0,B.b)(He=>this.updateRecentList()),(0,v.U)(He=>!0))}durationToSeconds(g){const X=g.lastIndexOf(":"),de=g.slice(X+1),Se=g.slice(0,X),He=Se.lastIndexOf(":"),it=Se.slice(He+1),dt=g.slice(0,He);return Number(de)+60*Number(it)+3600*Number(dt)}updateRecentList(){this.recentEvent$.observers.length&&this.recentEvent$.next()}updateAfterFileCreation(g){this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:g}),this.updateRecentList(),this.logger.info("Update Recent and Gallery complete")}getMissingItem(g){const X=g.filename;let de=X.lastIndexOf(this.dirSeparator);const Se=X.slice(de+1),He=X.slice(0,de);de=He.lastIndexOf(this.dirSeparator);const it=He.slice(de+1);if(this.workingFolder!==it)return(0,A.of)(void 0);const dt=this.cacheService.getCurrentPopFolder(),Pt=dt.findIndex(St=>g.id===St.hlId);return-1===Pt?(this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:it}),(0,A.of)(void 0)):(dt[Pt].fullFilename=X,dt[Pt].file.name=Se,this.getFileData(it,Pt,!0))}getCurrentDropdownCount(g){return this.getAppStats(g).pipe((0,v.U)(X=>{const de=this.topLevelCounts.findIndex(Se=>Se.folder===g);return-1!==de?(this.topLevelCounts[de].totalCount=X.screenshots+X.videos,this.topLevelCounts[de].totalCount):0}))}saveDelayedHighlight(g){if(g.cancel)return this.logger.info("Canceling Highlight"),void this.canceledCallback$.next({hlEvent:z.ZB.HIGHLIGHT_COMPLETED,args:g});const X=this.getMissingItem(g).subscribe(de=>{de&&(this.delayedCallback$.next({hlEvent:z.ZB.HIGHLIGHT_COMPLETED,args:de}),X.unsubscribe())})}updateFolderSync(g,X){return new D.y(de=>{this.updateFolder(g,X).subscribe(()=>{de.next(),de.complete(),this.logger.info("Complete")})})}updateFolder(g,X){let de={};if(X===z.Sc.Highlights)de={userGalleryPath:g};else if(X===z.Sc.Temporary){const He=g.lastIndexOf(this.dirSeparator),it=g.length-1;He===it&&(g=g.slice(0,it)),de={tempFolderPath:g}}return this.bridgeService.executeCommand(m.Gh.Common.Gallery.SetSettings,{settings:de}).pipe((0,v.U)(()=>!0),(0,F.h)(!0))}galleryEvent(g){if(g){if(g.captureSaved)return this.logger.info("Gallery event: CaptureSaved:",g),this.eventCaptureSaved(g);if(g.openSummary)this.logger.info("Gallery event: OpenSummary"),this.eventOpenSummary(g);else if(g.highlightCanceled)this.logger.info("Gallery event: HighlightCanceled"),this.eventHighlightCanceled(g);else if(g.ugcDeleted)this.logger.info("Gallery event: UgcDeleted"),this.eventUGCDeleted(g);else if(g.checkDiskSpace)this.logger.info("Gallery event: CheckDiskSpace"),this.lowDiskSpace(g);else if(void 0!==g.galleryIsFull)this.logger.info("Gallery event: GalleryIsFull"),!0===g.galleryIsFull&&this.notifierService.show(Z.ZJ.GalleryIsFull);else if(g.highlightCaptureFailed)this.logger.info("Gallery event: HighlightCaptureFailed"),this.checkCaptureFailure(g);else if(g.galleryPathUpdateStatus){switch(g.galleryPathUpdateStatus.status){case m.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateInProgress:this.updatingTracker=!0;break;case m.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete:case m.Yk.Common.Gallery.GalleryPathUpdateStatus.CancelUpdateComplete:this.updatingTracker=!1}this.trackerCallback$.next({trackerEvent:g.galleryPathUpdateStatus.status})}else this.logger.info("Unknown or unhandled Event Type: ",g)}else this.logger.info("Event: undefined or null");return(0,A.of)(!1)}galleryTrackerChangePath(){return new D.y(g=>{this.pathChanged().subscribe(()=>{g.next(),g.complete(),this.logger.info("ChangePath Complete")})})}getRecentData(g,X){this.setGalleryThumbSize(g);const de=[];return de.length=0,this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetRecentUGC,{count:X}).pipe((0,y.zg)(it=>{if(!it||!it.recents||!it.recents.length)return this.logger.info("No recent items to view!"),(0,f.$R)((0,A.of)(!1));const dt=Math.min(X,it.recents.length);for(let St=0;St<dt;St++){const Mt=it.recents[St].path;let Be=Mt.lastIndexOf(this.dirSeparator);const Ie=Mt.substr(Be+1,Mt.length-1);let se=Mt.substr(0,Be);Be=se.lastIndexOf(this.dirSeparator),se=se.substr(Be+1,se.length-1);const rt={fullFilename:Mt,file:{name:Ie,type:it.recents[St].fileType,subtype:it.recents[St].fileSubType,source:it.recents[St].fileSource,thumbnail:""},folder:se,index:St,duration:it.recents[St].duration,date:it.recents[St].date,fileSize:it.recents[St].fileSizeKB.toString(),audiotype:it.recents[St].audiotype,hlName:it.recents[St].highlightName,hlId:it.recents[St].id,hlGroup:it.recents[St].highlightGroupId,cancel:!1,data:null};de.push(rt)}this.logger.info("Viewing "+de.length+" recent items");const Pt=[];return de.forEach(St=>{Pt.push(this.getRecentMetaData(St,g))}),(0,f.$R)(...Pt)}),(0,v.U)(()=>(this.logger.info("Recent MetaData complete!"),de)))}setHighlightsSummaryOpen(g){this.highlightSummaryIsOpen=g}getRecentMetaData(g,X){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFileMetadata,{file:g.fullFilename,width:X,height:X}).pipe((0,v.U)(Se=>void 0===Se.fileType?(this.logger.info("metadata not available for file ",g.fullFilename),!1):("video"===Se.fileType&&void 0!==g.duration&&(g.duration=Se.duration),g.date=Se.date,g.fileSize=Se.fileSizeKB+"",g.audiotype=Se.audiotype,g.data=Se.thumbnail,!0)))}eventOpenSummary(g){const X=this.sdkService.sdkInstance.profileName;if(!X||0===X.length)return void this.logger.error("Missing game name");this.highlightSummaryIsOpen=!0,this.highlightsSummaryData={sdkVersion:this.sdkService.sdkInstance.sdkVersion,profileName:X,appShortName:this.sdkService.sdkInstance.appShortName,name:this.sdkService.sdkInstance.name,highlights:g.openSummary.ugc};const de={callbackData:JSON.stringify({openedFromSDK:!0})};this.telemetry.beginStartupTimer(ue.bq.highlightsButton),this.oscDisplayService.openOSC("sidebar/gallery",de)}eventHighlightCanceled(g){this.canceledCallback$.observers.length&&this.saveDelayedHighlight({id:g.highlightCanceled.highlight.id,groupId:g.highlightCanceled.highlight.groupId,filename:"",name:"",cancel:!0}),this.telemetry.sendHighlightCancelled({shortName:this.sdkService.sdkInstance.appShortName},this.sdkService.sdkInstance.name,this.sdkService.sdkInstance.sdkVersion)}eventUGCDeleted(g){const X=g.ugcDeleted.ugc,de=X.path;let Se=de.lastIndexOf(this.dirSeparator);const He=de.slice(0,Se);Se=He.lastIndexOf(this.dirSeparator);const it=He.slice(Se+1);this.getFolders().subscribe(()=>this.updateRecentList()),this.workingFolder===it&&(-1===this.cacheService.getCurrentPopFolder().findIndex(St=>X.id===St.hlId)||this.refreshEvent$.observers.length&&this.refreshEvent$.next({folder:it,filename:de}))}lowDiskSpace(g){this.lowDiskSpaceEvent$.next(g.checkDiskSpace.lowDiskSpace)}checkCaptureFailure(g){this.logger.info("checkCaptureFailure: ",g),(g.highlightCaptureFailed.errorCode===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_DISC_SPACE||g.highlightCaptureFailed.errorCode===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_BOUNDS||g.highlightCaptureFailed.errorCode===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_GALLERY_SPACE)&&this.notifierService.show(Z.ZJ.NoSpaceCaptureNotSaved,"commonLabels.Highlights")}checkDiskSpace(){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.CheckDiskSpace,{}).pipe((0,v.U)(X=>(this.lowDiskSpace({checkDiskSpace:{lowDiskSpace:X.lowDiskSpace}}),X.lowDiskSpace)))}cleanupLocalHighlightsListAfterDelete(g){if(this.highlightsSummaryData&&this.highlightsSummaryData.highlights.length>0){const X=this.highlightsSummaryData.highlights.find(de=>de.path===g);if(X){this.logger.info("Highlight to delete: ",X);const de=this.highlightsSummaryData.highlights.indexOf(X);de>-1&&this.highlightsSummaryData.highlights.splice(de,1)}}}getHighlightsToUse(g){return g?(this.highlightSummaryIsOpen=!0,this.highlightsSummaryData):{sdkVersion:"",profileName:"",appShortName:"",name:"",highlights:void 0}}generateGalleryFilename(g,X,de=new Date){return`${this.videoPath}${this.dirSeparator}${g}${this.dirSeparator}${g} ${this.datePipe.transform(de,"yyyy.MM.dd - HH.mm.ss.SS")}.${X}`}previewPaneSendEvent(g){this.previewPaneEvent$.next(g)}setPreviewCaller(g){this.previewCaller=g}getPreviewCaller(){return this.previewCaller}showDeleteSnackbar(g){let X=!0;const de=g.length,Se=1===de?"confirmation.deletedTitle":"confirmation.deletedTitleMulti";return g.length<=0?(0,A.of)(!1):new D.y(dt=>{(0,I.aj)([this.translateService.get(Se,{arg:de}),this.translateService.get("confirmation.undo")]).pipe((0,y.zg)(([Pt,St])=>{const Mt=this.dialogHelper.openSnackBar(Pt,St);return Mt.onAction().subscribe(()=>{X=!1}),Mt.afterDismissed()}),(0,y.zg)(()=>(0,w.D)(g)),(0,y.zg)(Pt=>X?(this.telemetry.sendGalleryFileRemoved(Pt),this.removeItem(Pt.fullFilename)):(0,A.of)(!1)),(0,J.Z)()).subscribe(Pt=>{dt.next(Pt),dt.complete()})})}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF),M.LFG(r),M.LFG(b),M.LFG(pe),M.LFG(Z.nG),M.LFG(L.v),M.LFG(E.l),M.LFG(h.sK),M.LFG(_e),M.LFG(Pe.uU),M.LFG(H.In),M.LFG(Te.l))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var ze=e(45661),le=e(99636),Le=e(85566),Re=(()=>{return($e=Re||(Re={})).off="off",$e.on="on",$e.recording="recording",Re;var $e})(),Q=(()=>{return($e=Q||(Q={})).active="Active",$e.stopped="Stopped",$e.paused="Paused",Q;var $e})(),be=(()=>{return($e=be||(be={})).low="Low",$e.medium="Medium",$e.high="High",$e.ultra="Ultra",$e.custom="Custom",be;var $e})(),xe=e(39103),ke=m.Yk.Share.Shareserver.MicModeEnum,Ce=m.Yk.Share.Shareserver.Resolution,ge=m.Yk.Share.Shareserver.Quality,Oe=m.Yk.Share.Shareserver.DeviceTypeEnum,ie=m.Yk.Share.Shareserver.DeviceStateTypeEnum;let qe=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St,Mt,Be,Ie){this.bridgeService=X,this.oscNotificationService=de,this.hotkeyService=Se,this.oscDisplayService=He,this.telemetry=it,this.dialogHelper=dt,this.igoConfig=Pt,this.gfnInfoService=St,this.sdkHighlightService=Mt,this.microphoneService=Be,this.featureSupportService=Ie,this.disableRecordSpecialCase=H.Kk.RECORD_SPECIAL_CASE_4K,this.$mrState=new x.X(!1),this.$irState=new x.X(Re.off),this.$micState=new x.X(ke.off),this.$hlBadState=new x.X(!1),this.$micDeviceState=new n.xQ,this.$camDeviceState=new n.xQ,this.$micPttHotkey=new x.X(!1),this._mrStartTime=null,this.isDTCaptureSupported=!1,this.notebookCoProc=!1,this.captureState=null,this.isGfnMicrophoneEnabled=!1,this.maxIRTime=15,this.throttleMs=333,this.microphoneSpecs=[],this.currentMicIndex=-1,this.captureScreenshot=void 0,this.enableInstantReplay=void 0,this.disableInstantReplay=void 0,this.saveIR=void 0,this.startManualRecord=void 0,this.stopAndSaveManualRecord=void 0,this.logger=g.getLogger("ShadowPlayService")}throttled(g){return(0,Le.throttle)(g,1e3,{trailing:!1})}init(){this.captureScreenshot=this.throttled(this._captureScreenshot),this.enableInstantReplay=this.throttled(this._enableInstantReplay),this.disableInstantReplay=this.throttled(this._disableInstantReplay),this.saveIR=this.throttled(this._saveIR),this.startManualRecord=this.throttled(this._startManualRecord),this.stopAndSaveManualRecord=this.throttled(this._stopAndSaveManualRecord),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterCaptureStateChangeNotifications).pipe((0,G.h)(X=>X.captureMode!==m.Yk.Share.Shareserver.CaptureModeEnum.gameCast)).subscribe(X=>this.handleCaptureEvent(X)),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterGeneralNotifications).subscribe(X=>this.handleGeneralNotification(X)),this.gfnInfoService.getRecordSpecialCase().subscribe(X=>{this.logger.info("disableRecordSpecialCase mode: ",X),this.disableRecordSpecialCase=X,this.sdkHighlightService.toggleAutohighlight(!this.disableRecordSpecialCase),this.sdkHighlightService.toggleSdkHighlights(!this.disableRecordSpecialCase)}),this.featureSupportService.isGfnMicrophoneEnabled().pipe((0,ee.q)(1)).subscribe(X=>{if(this.isGfnMicrophoneEnabled=X,X)this.microphoneService.currentMicState$.subscribe(de=>{this.setMicMode(de===xe.tn.Unmuted?ke.on:ke.off)});else{const de=this.getMicrophoneData().subscribe(()=>{de.unsubscribe()});this.hotkeyService.listen(S.sW.MicToggle).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{let Se=this.$micState.getValue();Se=Se===ke.ptt||Se===ke.on?ke.off:ke.on,this.setMicMode(Se)}),this.hotkeyService.listenPTT().pipe((0,le.p)(this.throttleMs)).subscribe(Se=>{this.$micPttHotkey.next(Se),this.setMicPTTMode(Se?ke.on:ke.off)})}}),this.hotkeyService.listen(S.sW.DVRToggle).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$irState.getValue()===Re.off?this.enableInstantReplay():this.disableInstantReplay())}),this.hotkeyService.listen(S.sW.DVRSave).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$irState.getValue()===Re.recording?this.saveIR():this.logger.info("Attempted to save and instant replay while instant replay was disabled"))}),this.hotkeyService.listen(S.sW.RecordToggle).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{this.disableRecordSpecialCase||(this.$mrState.getValue()?this.stopAndSaveManualRecord():this.startManualRecord())}),this.hotkeyService.listen(S.sW.Screenshot).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{H.Kk.RECORD_SPECIAL_CASE_PLAYTEST!==this.disableRecordSpecialCase&&this.captureScreenshot()}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetCaptureState).subscribe(X=>{this.captureState=X.state}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetDesktopCaptureSupportReason).subscribe(X=>{if(this.logger.info("Desktop Support Reason: ",X),this.isDTCaptureSupported=X.support,!this.isDTCaptureSupported){const de=X.desktopCaptureUnsupportedReason[0];(de.indexOf("notebookDriver")>=0||de.indexOf("notebookCoProc")>=0||de.indexOf("notebookDGpu")>=0||de.indexOf("hideCheckboxAOSP")>=0)&&(this.notebookCoProc=!0)}},X=>{this.logger.info("Desktop support query failed")});const g=this.getInstantReplayMaxLength().subscribe(X=>{this.maxIRTime=X,this.logger.info("IR Length: "+X+" seconds"),g.unsubscribe()});(0,ze.D)([this.getInstantReplayEnableStatus(),this.getInstantReplayRunningStatus()]).subscribe(([X,de])=>{de?this.$irState.next(Re.recording):X&&this.$irState.next(Re.on),(de||X)&&this.hotkeyService.startListeningToHotkey(S.sW.DVRSave).subscribe()})}get mrStartTime(){return this._mrStartTime}get videoCaptureReturnLocation(){return this._videoCaptureReturnLocation}set videoCaptureReturnLocation(g){this._videoCaptureReturnLocation=g}handleCaptureEvent(g){switch(this.logger.info("Capture Event:",g),g.captureMode){case m.Yk.Share.Shareserver.CaptureModeEnum.screenshot:this.logger.info("screenshot capture event"),this.telemetry.sendCaptureEvent(ue.rS.screenshotSaved,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails);break;case m.Yk.Share.Shareserver.CaptureModeEnum.manual:this.logger.info("Manual capture"),g.recordingState===m.Yk.Share.Shareserver.RecordingState.started?this.disableRecordSpecialCase||(this.oscNotificationService.show(Z.ZJ.RecordStarted),this.$mrState.next(!0),this._mrStartTime=Date.now(),this.telemetry.sendCaptureEvent(ue.rS.startManualCapture,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.available&&(this.oscNotificationService.show(Z.ZJ.RecordSaving),this.$mrState.next(!1),this._mrStartTime=null,this.telemetry.sendCaptureEvent(ue.rS.stopAndSaveManualCapture,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails));break;case m.Yk.Share.Shareserver.CaptureModeEnum.dvr:this.logger.info("DVR");const X=this.$irState.value===Re.on||this.$irState.value===Re.recording;g.recordingState===m.Yk.Share.Shareserver.RecordingState.enabled?this.disableRecordSpecialCase||(this.oscNotificationService.show(Z.ZJ.InstantReplayStarted),this.logger.info("IR Enabled"),this.$irState.next(Re.on),this.telemetry.sendCaptureEvent(ue.rS.turnOnInstantReplay,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.started?this.disableRecordSpecialCase||(this.logger.info("IR Started"),this.$irState.next(Re.recording)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.available?this.disableRecordSpecialCase||(this.logger.info("IR Available"),this.$irState.next(Re.on)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.saved?this.disableRecordSpecialCase||(this.logger.info("IR Saved"),this.oscNotificationService.show(Z.ZJ.InstantReplaySaving),this.telemetry.sendCaptureEvent(ue.rS.instantReplaySaved,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.disabled&&(this.oscNotificationService.show(Z.ZJ.InstantReplayStopped),this.logger.info("IR Disabled"),this.$irState.next(Re.off),this.telemetry.sendCaptureEvent(ue.rS.turnOffInstantReplay,g.captureMethod,g.recordWidth,g.recordHeight,g.recordFramerate,g.recordCodec,g.colorSpaceRange,g.errorType,g.errorDetails));const de=this.$irState.value===Re.on||this.$irState.value===Re.recording;de!==X&&(de?this.hotkeyService.startListeningToHotkey(S.sW.DVRSave).subscribe():this.hotkeyService.stopListeningToHotkey(S.sW.DVRSave));break;case m.Yk.Share.Shareserver.CaptureModeEnum.gearHighlight:this.logger.info("Gear Highlight"),g.recordingState===m.Yk.Share.Shareserver.RecordingState.enabled?(this.logger.info("Gear Highlights Enabled"),this.$hlBadState.next(!1)):g.recordingState===m.Yk.Share.Shareserver.RecordingState.disabled&&(this.logger.info("Gear Highlights Disabled"),this.$hlBadState.next(!0));break;default:this.logger.info("Other",g.captureMode)}}handleGeneralNotification(g){if(this.logger.info("General Event: ",g),g.captureFailed)this.handleError();else if(g.galleryIsFull)this.logger.info("Gallery is full"),this.oscNotificationService.show(Z.ZJ.GalleryIsFull);else if(g.diskSpaceIsLow)this.logger.info("Gallery disk space is low"),this.oscNotificationService.show(Z.ZJ.DiskSpaceIsLow);else if(g.deviceChange)g.deviceChange.device===Oe.mic?(this.logger.info("Microphone has been ",g.deviceChange.state),this.$micDeviceState.next(g.deviceChange.state)):g.deviceChange.device===Oe.webcam&&(this.logger.info("Camera has been ",g.deviceChange.state),this.$camDeviceState.next(g.deviceChange.state));else if(g.disableHDR)switch(g.disableHDR.captureMode){case m.Yk.Share.Shareserver.CaptureModeEnum.manual:this.oscNotificationService.show(Z.ZJ.HDRErrorRecord);break;case m.Yk.Share.Shareserver.CaptureModeEnum.highlight:this.oscNotificationService.show(Z.ZJ.HDRErrorHighlight)}}handleError(){!1===this.isDTCaptureSupported&&!0===this.notebookCoProc&&("PID"===this.captureState?(this.oscNotificationService.show(Z.ZJ.WarningSupportedGameRequired),this.logger.info("Supported game required")):(this.oscNotificationService.show(Z.ZJ.WarningFullscreenGameRequired),this.logger.info("Fullscreen game required")))}getMRState(){return this.$mrState.asObservable()}getIRState(){return this.$irState.asObservable()}getMICState(){return this.$micState.asObservable()}getHLBadState(){return this.$hlBadState.asObservable()}getMICDeviceState(){return this.$micDeviceState.asObservable()}getCAMDeviceState(){return this.$camDeviceState.asObservable()}micPttHotkeyPressed(){return this.$micPttHotkey.asObservable()}isNotebookCoProcSystem(){return this.notebookCoProc}doWeNeedToAskPermission(){return(0,I.aj)([this.isCaptureControlPIDModeValid(),this.isInDesktopMode(),this.getDesktopCaptureSupported(),this.getDesktopCaptureEnabled()]).pipe((0,v.U)(([g,X,de,Se])=>(this.logger.info("isCaptureControlPIDModeValid: ",g),this.logger.info("isInDesktopMode: ",X),this.logger.info("isDesktopCaptureSupported: ",de),this.logger.info("isDesktopCaptureEnabled: ",Se),!(!X||Se||g)&&(!0===this.notebookCoProc?("PID"===this.captureState?(this.oscNotificationService.show(Z.ZJ.WarningSupportedGameRequired),this.logger.info("Supported game required")):(this.oscNotificationService.show(Z.ZJ.WarningFullscreenGameRequired),this.logger.info("Fullscreen game required")),!1):de))))}isCaptureControlPIDModeValid(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetCaptureControlPIDMode).pipe((0,v.U)(g=>(this.logger.info("Is Capture Control PID mode valid: ",g),g.valid)))}isInDesktopMode(){return this.oscDisplayService.getCurrentDesktopMode().pipe((0,ee.q)(1),(0,v.U)(g=>(this.logger.info("Desktop mode: ",g),"desktop"===g)))}getDesktopCaptureSupported(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetDesktopCaptureSupported).pipe((0,v.U)(g=>(this.logger.info("DesktopCapture Supported: ",g.support),g.support)))}getDesktopCaptureEnabled(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetDesktopCaptureEnabled).pipe((0,v.U)(g=>(this.logger.info("DesktopCapture Enabled: ",g.enable),g.enable)))}SetDesktopCaptureEnabled(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetDesktopCaptureEnabled,{enable:g}).pipe((0,v.U)(de=>(this.logger.info("SetDesktopCaptureEnabled: ",de),!0)),(0,C.K)(de=>(this.logger.error("Error in SetDesktopCaptureEnabled: ",de),(0,A.of)(!1))))}handlePrivacyAndAvailability(g){return this.doWeNeedToAskPermission().pipe((0,y.zg)(X=>X?"GFE"===this.igoConfig.branding?this.askToEnableDTCapture(g):(0,A.of)(!1):(0,A.of)(!0)))}checkFailure(g,X){this.logger.info("Check Failure for ",X," returns: ",g),g._return_internal===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_DISC_SPACE||g._return_internal===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_BOUNDS||g._return_internal===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_NO_GALLERY_SPACE?"mainMenu.ManualRecord"===X?this.oscNotificationService.show(Z.ZJ.NoSpaceCaptureNotStarted):this.oscNotificationService.show(Z.ZJ.NoSpaceCaptureNotSaved,X):g._return_internal===m.Yk.Share.Shareserver.InternalErrorCodeEnum.ShadowPlay_E_FAIL_CAPTURE_DISABLED&&this.oscNotificationService.show(Z.ZJ.WarningSupportedGameRequired,X)}askToEnableDTCapture(g){this.logger.info("askToEnableDTCapture request for: ",g);let X="",de="";switch(g){case"ss":X="mainMenu.Screenshot",de="confirmation.CaptureScreenshot";break;case"mr":X="mainMenu.ManualRecord",de="confirmation.CaptureRecording";break;case"br":X="settings.Broadcast",de="confirmation.CaptureBroadcasting"}return this.dialogHelper.openAlertDialog({title:X,query:de,queryParam:"",action1:"confirmation.NotRightNow",action2:"confirmation.yes"}).pipe((0,y.zg)(He=>He.afterClosed()),(0,y.zg)(He=>He===k.DX.Action2?this.SetDesktopCaptureEnabled(!0):(0,A.of)(!1)),(0,v.U)(He=>"ss"!==g&&He))}_captureScreenshot(){this.handlePrivacyAndAvailability("ss").subscribe(X=>{X&&(this.logger.info("Taking screenshot"),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.CaptureScreenshot).subscribe(de=>{this.checkFailure(de,"mainMenu.Screenshot")},de=>{this.logger.error("CaptureScreenshot failed: ",de)}),this.telemetry.startCaptureEvent(ue.rS.screenshotSaved))})}captureCustomScreenshot(g,X,de){return this.logger.info("Got custom screenshot request: Filename "+X),new D.y(Se=>{const He=this.bridgeService.executeCommand(m.Gh.Share.Shareserver.CustomScreenshotNotifications).subscribe(it=>{Se.next(it),He.unsubscribe(),Se.complete()},it=>{Se.error(it)});this.bridgeService.executeCommand(m.Gh.Share.Shareserver.CaptureCustomScreenshot,{controller:g,screenshotName:X,slotId:de}).subscribe(it=>{(it._return_code||it._return_internal!==m.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok&&it._return_internal!==m.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_NoError)&&(this.logger.info("Internal error while capturing screenshot."+it.return_code),Se.error(it.return_code),He.unsubscribe())},it=>{this.logger.info("Error while initializing custom screenshot"),Se.error(it),He.unsubscribe()})})}_enableInstantReplay(){return this.logger.info("IR Enabled"),this.telemetry.startCaptureEvent(ue.rS.turnOnInstantReplay),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableInstantReplay,{enable:!0}).subscribe(g=>{this.checkFailure(g,"mainMenu.InstantReplay")},g=>{this.logger.error("EnableInstantReplay (enable) failed: ",g)})}_disableInstantReplay(){return this.logger.info("IR Disabled"),this.telemetry.startCaptureEvent(ue.rS.turnOffInstantReplay),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableInstantReplay,{enable:!1}).subscribe(g=>{this.checkFailure(g,"mainMenu.InstantReplay")},g=>{this.logger.error("EnableInstantReplay (disable) failed: ",g)})}_saveIR(){return this.logger.info("IR saved"),this.telemetry.startCaptureEvent(ue.rS.instantReplaySaved),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SaveInstantReplay).subscribe(g=>{this.checkFailure(g,"mainMenu.InstantReplay")},g=>{this.logger.error("SaveInstantReplay failed: ",g)})}_startManualRecord(){this.logger.info("Try manual"),this.handlePrivacyAndAvailability("mr").subscribe(X=>{if(X)return this.logger.info("Manual Record started"),this.telemetry.startCaptureEvent(ue.rS.startManualCapture),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableRecord,{enable:!0}).subscribe(de=>{this.checkFailure(de,"mainMenu.ManualRecord")},de=>{this.logger.error("EnableRecord (start) failed: ",de)})})}_stopAndSaveManualRecord(){return this.logger.info("Manual Record saved"),this.telemetry.startCaptureEvent(ue.rS.stopAndSaveManualCapture),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableRecord,{enable:!1}).subscribe(g=>{this.checkFailure(g,"mainMenu.ManualRecord")},g=>{this.logger.error("EnableRecord (save) failed: ",g)})}getInstantReplayRunningStatus(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetInstantReplayRunningStatus).pipe((0,v.U)(g=>(this.logger.info("GetInstantReplayRunningStatus returns: ",g),g.status)))}getInstantReplayEnableStatus(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetInstantReplayEnableStatus).pipe((0,v.U)(g=>(this.logger.info("GetInstantReplayEnableStatus returns: ",g),g.status)))}getInstantReplayMaxLength(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetInstantReplaySettings).pipe((0,v.U)(g=>(this.logger.info("GetInstantReplaySettings returns: ",g),this.telemetry.updateReplayLength(g.replayLengthSeconds),g.replayLengthSeconds)))}getMicMode(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetMicMode).pipe((0,v.U)(g=>(this.logger.info("GetMicMode returns: ",g),this.$micState.next(g.mode),g.mode)),(0,C.K)(g=>(this.logger.error("GetMicMode error: ",g),(0,A.of)(ke.off))))}setMicMode(g){const X={mode:g},de=g!==ke.off;return!this.isGfnMicrophoneEnabled&&"GFN"===this.igoConfig.branding&&(this.logger.info(" SetMicState with ",de),this.bridgeService.executeCommand(m.Gh.Gfn.Streaming.SetMicState,{enable:de}).subscribe(Se=>{},Se=>{this.logger.error(" SetMicState: ",Se)})),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetMicMode,X).subscribe(Se=>{this.$micState.next(g)},Se=>{this.logger.error(" SetMicMode: ",Se)})}setMicPTTMode(g){const X=!this.$mrState.getValue(),de=this.$irState.getValue()!==Re.recording,Se=this.$micState.getValue()!==ke.ptt;if(!(X&&de||Se))return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.MicPTTMode,{mode:g}).subscribe(it=>{this.logger.info("SetMicPTTMode results: ",it)},it=>{this.logger.info("SetMicPTTMode error: ",it)})}getFreestylePreviewBasePath(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetFreestylePreviewBasePath,{})}GetSupportedBitrates(g,X){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetSupportedBitrates,{quality:g,resolution:X})}GetSupportedBitratesFramerates(g,X){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetSupportedBitratesFramerates,{quality:g,resolution:X})}GetQualityDefaultData(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetQualityDefaultData,{quality:g})}setInstantReplaySettings(g){return this.logger.info("setInstantReplaySettings params: ",g),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetInstantReplaySettings,g).pipe((0,v.U)(X=>(this.logger.info("SetInstantReplaySettings returns: ",X),!0)))}getRecordSettings(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetRecordSettings).pipe((0,v.U)(g=>(this.logger.info("GetRecordSettings returns: ",g),g)))}setRecordSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetRecordSettings,g).subscribe(X=>{this.logger.info("SetRecordSettings returns: ",X)})}getBroadcastSettings(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetBroadcastSettings).pipe((0,v.U)(g=>(this.logger.info("GetBroadcastSettings returns: ",g),g)))}convertResolution(g){switch(g){case"In-game":default:return Ce.In_game;case"2160p 4K":return Ce.Resolution_2160p_4K;case"4320p 8K":return Ce.Resolution_4320p_8K;case"1440p HD":return Ce.Resolution_1440p_HD;case"1080p HD":return Ce.Resolution_1080p_HD;case"720p HD":return Ce.Resolution_720p_HD;case"480p":return Ce.Resolution_480p;case"360p":return Ce.Resolution_360p;case"240p":return Ce.Resolution_240p;case"Exact":return Ce.Exact}}getVideoSpecsInit(){return(0,I.aj)([this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetSupportedResolutions),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetSupportedFramerates),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetInstantReplaySettings)]).pipe((0,v.U)(([g,X,de])=>{const Se=ge[de.quality],He=this.convertResolution(de.resolution);return this.videoSpecs={resolutions:g.resolutions,frameRates:X.framerates,frameRatesDefault:void 0,bitRatesMin:void 0,bitRatesMax:void 0,bitRatesDefault:void 0,recQualitySP:Se,recQualityIgo:this.convertQualitySpToIgo(Se),recResolution:He,recFramerate:de.framerate,recBitrate:de.bitrateBps,recReplayLength:de.replayLengthSeconds},this.videoSpecs}),(0,C.K)(g=>(this.logger.error("Error in getVideoSpecsInit: ",g),(0,A.of)(this.videoSpecs))))}getVideoSpecs(){return this.getVideoSpecsInit().pipe((0,y.zg)(g=>this.GetSupportedBitratesFramerates(g.recQualitySP,g.recResolution)),(0,v.U)(g=>(this.videoSpecs.bitRatesMin=g.bitrateBpsMin,this.videoSpecs.bitRatesMax=g.bitrateBpsMax,this.videoSpecs.bitRatesDefault=g.bitrateBpsDefault,this.videoSpecs.frameRates=g.fpsList.slice(0,g.supportedFPSCount),this.videoSpecs.frameRatesDefault=g.fpsDefault,this.videoSpecs)),(0,C.K)(g=>(this.logger.error("Error in getVideoSpecs: ",g),(0,A.of)(this.videoSpecs))))}convertQualitySpToIgo(g){switch(g){case ge.Average:return be.low;case ge.Good:return be.medium;case ge.VeryGood:return be.high;case ge.UltraGood:return be.ultra;case ge.Custom:return be.custom;default:this.logger.info("Invalid Quality: ",g)}}convertQualityIgoToSp(g){switch(g){case be.low:return ge.Average;case be.medium:return ge.Good;case be.high:return ge.VeryGood;case be.ultra:return ge.UltraGood;case be.custom:return ge.Custom;default:this.logger.info("Invalid Quality: ",g)}}setVideoSpecs(g,X){if(!X)return this.videoSpecs=Object.assign(Object.assign({},this.videoSpecs),{recReplayLength:g.recReplayLength}),this.setVideoSpecsNUpdateIRMaxTime({replayLengthSeconds:g.recReplayLength});if(void 0===this.videoSpecs)return this.logger.error("setVideoSpecs input is undefined!"),(0,A.of)(!1);this.videoSpecs.recQualitySP=this.convertQualityIgoToSp(g.recQualityIgo),this.videoSpecs.recResolution=g.recResolution,this.videoSpecs.recFramerate=g.recFramerate,this.videoSpecs.recBitrate=g.recBitrate,this.videoSpecs.recReplayLength=g.recReplayLength;const de={quality:this.videoSpecs.recQualitySP,resolution:g.recResolution,framerate:g.recFramerate,bitrateBps:g.recBitrate,replayLengthSeconds:g.recReplayLength};return g.recQualityIgo===be.custom?(this.videoSpecs.recQualityIgo=be.custom,this.videoSpecs.recQualitySP=ge.Custom,this.GetSupportedBitratesFramerates(de.quality,de.resolution).pipe((0,y.zg)(Se=>((de.bitrateBps<Se.bitrateBpsMin||de.bitrateBps>Se.bitrateBpsMax)&&(de.bitrateBps=this.videoSpecs.recBitrate=Se.bitrateBpsDefault),Se.fpsList.indexOf(de.framerate)<0&&(de.framerate=Se.fpsDefault),this.setVideoSpecsNUpdateIRMaxTime(de))))):(this.videoSpecs.recQualityIgo=g.recQualityIgo,this.setVideoSpecsNUpdateIRMaxTime(de))}setVideoSpecsNUpdateIRMaxTime(g){return this.setInstantReplaySettings(g).pipe((0,v.U)(()=>(this.maxIRTime=this.videoSpecs.recReplayLength,!0)))}getMicCount(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetMicCount).pipe((0,v.U)(g=>g.present),(0,C.K)(g=>(this.logger.error("GetMicCount error: ",g),(0,A.of)(0))))}getMicSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetMicSettings,g).pipe((0,v.U)(X=>(this.microphoneSpecs[g.index]=X,!0)),(0,C.K)(X=>(this.logger.error("GetMicSettings error: ",X),(0,A.of)(!1))))}getCurrentMicSettings(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetMicSettings,{index:-1}).pipe((0,v.U)(X=>X.index),(0,C.K)(X=>(this.logger.error("getCurrentMicSettings error: ",X),(0,A.of)(0))))}setMicSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetMicSettings,{index:g.index,muted:g.micSpecs[g.index].muted,volumePercent:g.micSpecs[g.index].volumePercent,boostPercent:g.micSpecs[g.index].boostPercent}).pipe((0,C.K)(de=>(this.logger.error("setMicSettings error: ",de),(0,A.of)(!1))))}getAudioSettings(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetAudioSettings).pipe((0,v.U)(g=>({systemVolumePercent:g.systemVolumePercent,separateTracks:g.separateTracks})),(0,C.K)(g=>(this.logger.error("GetAudioSettings error: ",g),(0,A.of)({systemVolumePercent:0,separateTracks:!1}))))}setAudioSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetAudioSettings,g).pipe((0,C.K)(X=>(this.logger.error("setAudioSettings error: ",X),(0,A.of)(!1))))}getMicrophoneData(){this.microphoneSpecs.length=0;let g=0;return this.getMicCount().pipe((0,y.zg)(X=>{if(g=X,0===g)return(0,A.of)({index:-1,micSpecs:void 0});const de=[];for(let Se=0;Se<g;Se++)de.push(this.getMicSettings({index:Se}));return(0,f.$R)(...de)}),(0,y.zg)(()=>this.getCurrentMicSettings()),(0,v.U)(X=>{this.logger.info("All Mic Data: ",this.microphoneSpecs),this.logger.info("Current Index: ",X);const de=[];if(this.microphoneSpecs.forEach((He,it)=>{de[it]={index:He.index,name:He.name,id:He.id,muted:He.muted,enabled:He.enabled,volumePercent:He.volumePercent,boostPercent:He.boostPercent}}),de[X].enabled)this.currentMicIndex=X;else{this.currentMicIndex=-1;for(let He=0;He<g;He++)if(de[He].enabled){this.currentMicIndex=de[He].index;break}}return{index:this.currentMicIndex,micSpecs:de}}))}isCurrentMicAvailable(){return this.getMicrophoneData().pipe((0,v.U)(()=>this.microphoneSpecs[this.currentMicIndex].enabled))}syncShadowPlaySettings(g){return this.logger.info("syncShadowPlaySettings"),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SyncShadowPlaySettings,{isGFEMigration:g}).pipe((0,v.U)(de=>(this.logger.info("SyncShadowPlaySettings successful:",de),!0)),(0,C.K)(de=>(this.logger.error("SyncShadowPlaySettings failed:",de),(0,A.of)(!1))))}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF),M.LFG(Z.nG),M.LFG(S.y1),M.LFG(L.v),M.LFG(E.l),M.LFG(_e),M.LFG(s.g),M.LFG(H.In),M.LFG(pe),M.LFG(xe.pJ),M.LFG(Te.l))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})(),Et=(()=>{class $e{constructor(g,X,de,Se,He){this.bridgeService=X,this.hotkeyService=de,this.oscDisplayService=Se,this.igoConfig=He,this.throttleMs=333,this.$webcamState=new x.X(!1),this.webcamInfo={present:!1,enabled:!1,visible:!1,preview:!1,queuePreview:!1,position:m.Yk.Share.Shareserver.OverlayPositionEnum.rightTop,size:m.Yk.Share.Shareserver.OverlaySizeEnum.small},this.logger=g.getLogger("WebcamService")}init(){if("GFE"===this.igoConfig.branding){this.hotkeyService.listen(S.sW.CameraToggle).pipe((0,le.p)(this.throttleMs)).subscribe(()=>{this.toggleWebcam()}),this.initializeWebcam(),this.getWebcamOverlaySettings();let g=!1;this.oscDisplayService.getCurrentOpenState().subscribe(X=>{g&&this.getCurrentWebcamStates(X),g=!0})}}getCurrentWebcamStates(g){"open"===g&&!0===this.webcamInfo.preview?this.enableWebcamPreview(!1):"closed"===g&&(this.webcamInfo.preview=this.webcamInfo.queuePreview,this.enableWebcamPreview(this.webcamInfo.queuePreview))}initializeWebcam(){this.getWebcamPresent().subscribe(g=>{this.logger.info("Webcam present: ",g),this.webcamInfo.present=g,g&&(this.getWebcamEnable().subscribe(X=>{this.webcamInfo.enabled=X,this.$webcamState.next(this.webcamInfo.enabled),this.logger.info("Webcam Enabled: ",X)}),this.getWebcamShown().subscribe(X=>{this.webcamInfo.visible=X,this.logger.info("Webcam Shown: ",X)}),this.getWebcamPreviewState().subscribe(X=>{this.webcamInfo.preview=this.webcamInfo.queuePreview=X,this.logger.info("Webcam Preview: ",X)}))})}getWebcamState(){return this.$webcamState.asObservable()}getWebcamPresent(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetWebcamPresent).pipe((0,v.U)(g=>(this.logger.info("GetWebcamPresent returns: ",g),g.present),g=>(this.logger.info("GetWebcamPresent error: ",g),!1)))}getWebcamEnable(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetWebcamEnable).pipe((0,v.U)(g=>(this.logger.info("GetWebcamEnable returns: ",g),g.status),g=>(this.logger.info("GetWebcamEnable error: ",g),!1)))}enableWebcam(g){this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableWebcam,{status:g}).subscribe(de=>{this.logger.info("EnableWebcam returns: ",de),this.webcamInfo.enabled=g},de=>{this.logger.info("EnableWebcam error: ",de)})}getWebcamShown(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetWebcamShown).pipe((0,v.U)(g=>(this.logger.info("GetWebcamShown returns: ",g),g.shown),g=>(this.logger.info("GetWebcamShown error: ",g),!1)))}toggleWebcam(){this.bridgeService.executeCommand(m.Gh.Share.Shareserver.ToggleWebcam).subscribe(g=>{this.logger.info("ToggleWebcam returns: ",g),this.webcamInfo.enabled=!this.webcamInfo.enabled,this.$webcamState.next(this.webcamInfo.enabled)},g=>{this.logger.info("ToggleWebcam error: ",g)})}getWebcamPreviewState(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetWebcamPreviewState).pipe((0,v.U)(g=>(this.logger.info("GetWebcamPreviewState returns: ",g),g.enabled),g=>(this.logger.info("GetWebcamPreviewState error: ",g),!1)))}enableWebcamPreview(g){this.bridgeService.executeCommand(m.Gh.Share.Shareserver.EnableWebcamPreview,{enable:g}).subscribe(de=>{this.logger.info("EnableWebcamPreview returns: ",de)},de=>{this.logger.info("EnableWebcamPreview error: ",de)})}queueWebcamPreview(g){this.webcamInfo.queuePreview=g}getWebcamOverlaySettings(){this.bridgeService.executeCommand(m.Gh.Share.Shareserver.GetIndicatorOverlaySettings,{id:m.Yk.Share.Shareserver.IndicatorEnum.webcam}).subscribe(X=>{this.logger.info("GetIndicatorOverlaySettings returns: ",X),this.webcamInfo.position=X.position,this.webcamInfo.size=X.size},X=>{this.logger.info("GetIndicatorOverlaySettings error: ",X)})}setWebcamOverlaySettings(g,X){this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetIndicatorOverlaySettings,{id:m.Yk.Share.Shareserver.IndicatorEnum.webcam,enable:this.webcamInfo.enabled,position:g,size:X}).subscribe(Se=>{this.logger.info("SetIndicatorOverlaySettings returns: ",Se),this.webcamInfo.position=g,this.webcamInfo.size=X},Se=>{this.logger.info("SetIndicatorOverlaySettings error: ",Se)})}getWebcamInfo(){return this.webcamInfo}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF),M.LFG(S.y1),M.LFG(L.v),M.LFG(s.g))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var kt=e(42520),an=e(18388),dn=e(13800),xn=e(57441),un=e(10907),Nt=e(24645),bn=e(49048),pn=e(2502),Mn=e(78747),ht=e(43375);const ut=100;class Ut{constructor(bt,g,X,de,Se=[],He=!1,it=!1,dt=[],Pt=!1){this.id=bt,this.name=g,this.isSelected=X,this.stackIdx=de,this.controls=Se,this.isPPEFilter=He,this.isExpanded=it,this.errorCodes=dt,this.isVisible=Pt}}class en{constructor(){this.filters=[],this.selectedFilterCount=0,this.upButtonDisabled=!0,this.downButtonDisabled=!0}moveSelectionUp(){const bt=this.filters.length,g=new Set;for(let X=bt-2;X>=0;X--)this.filters[X].isSelected&&!this.filters[X+1].isSelected&&(this.swapFilters(X,X+1),g.add(X),g.add(X+1));return g}moveSelectionDown(){const bt=this.filters.length,g=new Set;for(let X=1;X<bt;X++)this.filters[X].isSelected&&!this.filters[X-1].isSelected&&(this.swapFilters(X,X-1),g.add(X),g.add(X-1));return g}deleteSelection(){const bt=this.getIndicesOfSelection();return(0,Le.remove)(this.filters,function(g){return g.isSelected}),this.selectedFilterCount=this.selectedFilterCount-bt.length,bt.reverse()}filterClicked(bt,g){bt.isSelected!==g&&(g?this.selectedFilterCount++:this.selectedFilterCount--),bt.isSelected=g}getIndicesOfSelection(){const bt=[];return this.filters.forEach((g,X,de)=>{g.isSelected&&bt.push(X)}),bt}getSelectedFilters(){return this.filters.filter(bt=>bt.isSelected)}swapFilters(bt,g){if(bt<0||bt>=this.filters.length||g<0||g>=this.filters.length)return;const X=this.filters[bt];this.filters[bt]=this.filters[g],this.filters[g]=X,this.filters[bt].stackIdx=bt,this.filters[g].stackIdx=g}deserialize(bt){if(!bt.filters)return!1;const g=this;return g.selectedFilterCount=bt.selectedFilterCount,g.upButtonDisabled=bt.upButtonDisabled,g.downButtonDisabled=bt.downButtonDisabled,bt.filters.forEach((X,de)=>{const Se=new Ut(X.id,X.name,X.isSelected,X.stackIdx,X.controls);g.filters[de]=Se}),!0}}class _n{constructor(bt,g){this.filterStack=new en,this.id=bt,this.altText=g,this.slotName=void 0}deserialize(bt){if(!bt.filterStack)return!1;const g=this;return g.id=bt.id,g.altText=bt.altText,g.slotName=bt.slotName,g.slotHotkey=bt.slotHotkey,g.filterStack.deserialize(bt.filterStack)}}class Vt{constructor(bt){this.previewAvailable=!1,this.id=bt}}class cn{constructor(bt){this.lastSlotIdx=0,this.slots=this.createEmptySlots(bt),2===bt&&(this.lastSlotIdx=1)}createEmptySlots(bt){const g=[];for(let X=0;X<bt;X++){const de=0===X?"settings.None":X.toString();g.push(new _n(X,de))}return g}deserialize(bt){const g=this;if(!bt.slots||bt.slots.length!==g.slots.length)return!1;let X;return g.lastSlotIdx=bt.lastSlotIdx,g.slots.every((de,Se)=>(X=de.deserialize(bt.slots[Se]),X)),X}}class sn{constructor(){this.anselSlotsInfo=new cn(2),this.modsSlotsInfo=new cn(4)}deserialize(bt){return!(!bt.anselSlotsInfo||!bt.modsSlotsInfo)&&(this.anselSlotsInfo.deserialize(bt.anselSlotsInfo)&&this.modsSlotsInfo.deserialize(bt.modsSlotsInfo))}}class tn{constructor(){this.filterPresets={}}deserialize(bt){if(!bt.filterPresets)return!1;const g=this;let X;return Object.keys(bt.filterPresets).every(de=>(g.filterPresets[de]=new sn,X=g.filterPresets[de].deserialize(bt.filterPresets[de]),X)),X}}const ct=["Auto Depth of Field","Black & White","Brightness/Contrast","Color","Colorblind","Depth of Field","Details","Letterbox","Night mode","Old film","Painterly","Sharpen","Sharpen+","SpecialFX","Splitscreen","Tilt-shift","Vignette","Watercolor"];var ft=e(70494),ot=(()=>{return($e=ot||(ot={})).anselEnabledResponse="anselEnabledResponse",$e.anselEnabledState="anselEnabledState",$e.procInfo="procInfo",$e.captureTypesList="captureTypesList",$e.sdkIntegration="sdkIntegration",$e.rollRange="rollRange",$e.fovRange="fovRange",$e.setRollFovResponse="setRollFovResponse",$e.screenResolution="screenResolution",$e.highResResolutions="highResResolutions",$e.panoramaResolutions="panoramaResolutions",$e.captureShotStarted="captureShotStarted",$e.captureShotProgress="captureShotProgress",$e.captureShotFinished="captureShotFinished",$e.captureShotProcessingFinished="captureShotProcessingFinished",$e.captureShotCancel="captureShotCancel",$e.features="features",$e.filtersList="filtersList",$e.resetFilter="resetFilter",$e.insertFilter="insertFilter",$e.removeFilter="removeFilter",$e.moveFilter="moveFilter",$e.filterStackInfo="filterStackInfo",$e.filterDetails="filterDetails",$e.setFilterAttribute="setFilterAttribute",$e.setFovResponse="setFovResponse",$e.setRollResponse="setRollResponse",$e.fovValue="fovValue",$e.resetEntireStack="resetEntireStack",$e.nvCameraReady="nvCameraReady",$e.anselStatusReport="anselStatusReport",$e.ngxAIUpResProgress="ngxAIUpResProgress",$e.ngxAIUpResCaptureDone="ngxAIUpResCaptureDone",$e.cancelPendingOperations="cancelPendingOperations",ot;var $e})(),Ct=(()=>{return($e=Ct||(Ct={}))[$e.slider=1]="slider",$e[$e.boolean=2]="boolean",$e[$e.button=3]="button",$e[$e.list=4]="list",$e[$e.edit=5]="edit",$e[$e.label=6]="label",$e[$e.pulldown=7]="pulldown",$e[$e.radiobutton=9]="radiobutton",Ct;var $e})(),Tt=(()=>{return($e=Tt||(Tt={})).HotKey="HK",$e.Ui="UI",Tt;var $e})(),Xt=(()=>{return($e=Xt||(Xt={})).Top="Top",$e.Bottom="Bottom",Xt;var $e})(),nn=(()=>{return($e=nn||(nn={})).MoveUp="MoveUp",$e.MoveDown="MoveDown",$e.Add="Add",$e.Delete="Delete",$e.Clicked="Clicked",$e.ApplyStyle="ApplyStyle",$e.None="None",nn;var $e})(),On=(()=>{return($e=On||(On={})).Keyboard="Keyboard",$e.Mouse="Mouse",$e.Gamepad="Gamepad",On;var $e})(),Ye=(()=>{return($e=Ye||(Ye={})).UpdateStyleFail="updateStyleFail",$e.ApplyStyleFail="applyStyleFail",$e.RemoveFilterSuccess="RemoveFilterSuccess",$e.CaptureFinished="CaptureFinished",$e.CaptureFailed="CaptureFailed",Ye;var $e})(),Je=(()=>{return($e=Je||(Je={})).SUCCESS="Success",$e.ERROR_RESTART="Error occured, please restart the game",$e.ERROR_SUPPORTED_GAME="Supported game required",$e.ERROR_SESSION_NOT_ALLOWED="Session not allowed",$e.ERROR_TIMEOUT="Timeout has occurred",$e.ERROR_SYSTEM_OFFLINE="System is offline",Je;var $e})();const Rt={GPUArchitecture:"0x00000160",ExGPUArchImplementation:[8,7],OSBuildNumber:17134};var he=(()=>{return($e=he||(he={}))[$e.KeyZ=0]="KeyZ",$e[$e.KeyX=1]="KeyX",$e[$e.KeyY=2]="KeyY",$e[$e.KeyW=3]="KeyW",$e[$e.KeyS=4]="KeyS",$e[$e.KeyA=5]="KeyA",$e[$e.KeyD=6]="KeyD",he;var $e})();let Ne=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St,Mt,Be,Ie,se,We,rt,mt,It,on,Cn,Sn){this.injector=g,this.igoConfig=X,this.loggingService=de,this.bridgeService=Se,this.hotkeyService=He,this.oscDisplayService=it,this.translateService=dt,this.shadowPlayService=Pt,this.galleryService=St,this.localeService=Mt,this.telemetryService=Be,this.oscNotificationService=Ie,this.dialogHelperService=se,this.dbService=We,this.endpointFactory=rt,this.networkStatusService=mt,this.systemInfoService=It,this.gfnInfoService=on,this.experienceControlService=Cn,this.featureSupportService=Sn,this.gfnRTSPAccountedLatency=3e3,this.nvCameraStrictTimeout=250,this.nvCameraDefaultTimeout=2e3,this.nvCameraRelaxedTimeout=15e3,this.throttleDuration=500,this.nvCameraMenuOpenTimeout=3e3,this.dbStorageName="NvCamera",this.filterPresetsStorageKeyName="FilterPresets_v1",this.captureEnhanceSwitchKeyName="CaptureEnhanceSwitch",this.previewSupported=!0,this.freestylePreviewPrefix="Preview_",this.freestylePreviewExtension=".png",this.cmsBlackListDataUrl="https://static.nvidiagrid.net/titles/nvidiatech",this.previewInProgress=!1,this.isNvCameraEnabled=!1,this.isGameFilterEnabled=!1,this.isPhotoModeEnabled=!1,this.isRedirectionEnable=!1,this.notifications$=new n.xQ,this.currentUIMode=void 0,this.currentProcessInfo=void 0,this.cmsRequestOptions={includeRequestId:!0},this.currentGameStreamInfo=void 0,this.currentGFEGameInfo=void 0,this.currentFreestyleGameInfo=void 0,this.systemInfo=void 0,this.isDevServer=!1,this.freestyleBlacklistedCmsidArray=[],this.filterPresetsData=void 0,this.isModsAppliedCurrently=!1,this.isAIUpresSupported=void 0,this.isNvCameraReady=!1,this.nvcameraOperationUnderProgress=!1,this.uiRunning=new x.X(!1),this.gameFilterStyleToggleHotkey=new x.X(""),this.cachedFeaturesAvailable=void 0,this.currentGameSlots=void 0,this.sourceTrigger=Tt.HotKey,this.snackBarRef=void 0,this.restartRequired=!1,this.statusOfCaptureEnhance=!0,this.isSystemOnline=!1,this.nvCameraTimedOut=!1,this.gameFilterDisable=new x.X(!0),this.photoModeDisable=new x.X(!0),this.previewPaths=[],this.panningUsed=!1,this.panningWithGC=!1,this.panningWithKB=!1,this.panningWithMouse=!1,this.usedController=!1,this.usedKeyboard=!1,this.usedMouse=!1,this.menuLaunchTime=0,this.DDVersion="0.0",this.isAppStartedReceived=!1,this.gameFilterMenu=!1,this.slotsUsed=new Set,this.navigationInputDevice={KEYBOARD:!1,MOUSE:!1,GAMEPAD:!1},this.dialogRef=void 0,this.staticFilterListStrings=[],this.menuCloseInProgress$=new x.X(!1),this.alertDialogData={title:"nvcamera.GameFilter",query:"",queryParam:{arg:""},action1:void 0,action2:void 0,spinner:void 0,progressBar:void 0,progressPercentage:void 0},this.preResetSessionData={uiMode:void 0,modsApplied:!1,currentGameInfo:void 0},this.appConfig=null,this.streamerStateSubscription=void 0,this.featureResult={gameFilterSupport:!1,photoModeSupport:!1},this.chromaDBResult=void 0,this.logger=this.loggingService.getLogger("NvCameraService"),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName)}get currentGameInfo(){if(this.igoConfig.GFNCefClient){const g=this.gfnInfoService.getstreamerConfig();return this.currentGameStreamInfo={procId:void 0,cmsId:null==g?void 0:g.cmsId,drsName:void 0,drsProfileName:void 0,shortName:null==g?void 0:g.shortName,drsWhitelist:void 0},this.logger.info("Current Streaming Game:",this.currentGameStreamInfo),this.currentGameStreamInfo}return this.currentGFEGameInfo}init(){return this.logger.info("Initialize , feature support: ",this.igoConfig.NvCameraFeaturesEnabled),this.igoConfig.GFNCefClient&&(this.nvCameraStrictTimeout+=this.gfnRTSPAccountedLatency,this.nvCameraDefaultTimeout+=this.gfnRTSPAccountedLatency,this.nvCameraRelaxedTimeout+=this.gfnRTSPAccountedLatency,this.appConfig=this.injector.get(W.VKt),this.appConfig||this.logger.info("ERROR:: Failed to obtain appConfig")),this.getSystemInfo().subscribe(g=>{this.logger.info("System Info: ",g)}),this.igoConfig.GFNCefClient&&this.updateStreamerState(),this.getAllFilterList(),this.checkFeatureSupport().toPromise().then(g=>(this.logger.info("Photo Mode supported = ",this.isPhotoModeSupported()),this.logger.info("Game Filter supported = ",this.isGameFilterSupported()),this.logger.info("initialized"),!0),g=>(this.logger.error("failed to initialize, error: ",g.message),!1))}queryChromaDB(){return this.chromaDBResult?(this.logger.info("Skipping Chroma query, already populated:",this.chromaDBResult),(0,A.of)(this.chromaDBResult)):this.isChromaApproved()}isChromaApproved(){var g,X;return this.isDevServer?(this.logger.info("Skipping launch checks, isDevServer: ",this.isDevServer),this.chromaDBResult={gameFilterSupport:!0,photoModeSupport:!0},(0,A.of)(this.chromaDBResult)):null!==(g=this.currentGameInfo)&&void 0!==g&&g.cmsId?this.gfnInfoService.getAppMetadataUsingCmsId(null===(X=this.currentGameInfo)||void 0===X?void 0:X.cmsId).pipe((0,v.U)(de=>(this.logger.info("isFreestyleSupported: ",de.nvidiaTech.FREESTYLE),this.logger.info("isAnselSupported: ",de.nvidiaTech.ANSEL),this.chromaDBResult={gameFilterSupport:de.nvidiaTech.FREESTYLE,photoModeSupport:de.nvidiaTech.ANSEL},this.chromaDBResult)),(0,C.K)(de=>(this.logger.error(`Unable to obtain game meta data ${de}`),this.chromaDBResult={gameFilterSupport:!0,photoModeSupport:!0},(0,A.of)(this.chromaDBResult)))):(this.logger.error("CmsId not available to query"),(0,A.of)(void 0))}isFeatureAvailable(){return"GFE"===this.igoConfig.branding?(0,A.of)({photoModeSupport:this.isPhotoModeSupported(),gameFilterSupport:this.isGameFilterSupported()}):(this.isSystemOnline=this.networkStatusService.isOnline,this.isSystemOnline?this.queryChromaDB().pipe((0,v.U)(g=>{if(this.featureResult=g,this.featureResult.gameFilterSupport||this.featureResult.photoModeSupport)if(!this.isNvCameraReady&&this.isAppStartedReceived)this.logger.info("Checking if nvcamera is ready"),this.checkNvCameraReady();else if(this.isNvCameraReady)this.setAnselFreestyleState();else{const X="NvCamera is not ready";this.featureResult.gameFilterSupport&&this.sendFeatureDisableErrorTelemetry(ue.AN.GameFilter,ue.$R.featureNotAvailable,X),this.featureResult.photoModeSupport&&this.sendFeatureDisableErrorTelemetry(ue.AN.PhotoMode,ue.$R.featureNotAvailable,X)}return this.featureResult}),(0,C.K)(g=>(this.logger.error("Unable to get chroma results, using defaults."+g),this.featureResult={gameFilterSupport:!0,photoModeSupport:!0},(0,A.of)(this.featureResult)))):void 0)}isGameFilterSupported(){return this.isNvCameraEnabled&&this.isGameFilterEnabled}isPhotoModeSupported(){return this.isNvCameraEnabled&&this.isPhotoModeEnabled}isPhotoModeLiteSupported(){return this.isNvCameraEnabled&&this.isPhotoModeEnabled&&!this.igoConfig.GFNCefClient}listenNotification(g){return this.notifications$.asObservable().pipe((0,G.h)(X=>g.some(de=>!!X[de])))}get gfStyleToggleHotkey$(){return this.gameFilterStyleToggleHotkey.asObservable()}getNListenForGameFilterHotkey(){const g=this.getHotkeyStringForActiveSlot().pipe((0,B.b)(de=>{this.gameFilterStyleToggleHotkey.next(de)})),X=[m.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle1,m.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle2,m.Yk.Share.Shareserver.HotkeyEnum.FreeStyleToggleStyle3].map(de=>this.hotkeyService.listen(de).pipe((0,dn.w)(Se=>this.hotkeyService.getHotkeyString(Se)),(0,B.b)(Se=>{this.gameFilterStyleToggleHotkey.next(Se)})));return(0,kt.T)(...X,g)}launchPhotoModeMenu(g=Tt.HotKey){this.logger.info("launchPhotoModeMenu"),this.isPhotoModeSupported()?(this.nvcameraOperationUnderProgress&&this.logger.info("Nvcamera operation underway, cancel menu launch"),this.currentUIMode=ue.AN.PhotoMode,this.sourceTrigger=g,this.menuLaunchTime=Date.now(),this.tryLaunchMenu(m.Yk.Common.Nvcamera.FeaturesSupported.sdk).subscribe(()=>{this.logger.info("launchPhotoModeMenu successfull, AI Upres supported",this.isAIUpresSupported)},X=>{this.errorHandlingForLaunchMenu(m.Yk.Common.Nvcamera.FeaturesSupported.sdk,X.message),this.logger.error("launchPhotoModeMenu error: ",X.message)})):this.logger.info("Photo Mode not supported, should not be here")}launchGameFilterMenu(g=Tt.HotKey){this.logger.info("launchGameFilterMenu"),this.gameFilterMenu=!0,this.isGameFilterSupported()||this.featureSupportService.isPpeEnabled()?(this.nvcameraOperationUnderProgress&&this.logger.info("Nvcamera operation underway, cancel menu launch"),this.currentUIMode=ue.AN.GameFilter,this.sourceTrigger=g,this.menuLaunchTime=Date.now(),this.tryLaunchMenu(m.Yk.Common.Nvcamera.FeaturesSupported.mods).subscribe(()=>{this.logger.info("launchGameFilterMenu successful")},X=>{this.errorHandlingForLaunchMenu(m.Yk.Common.Nvcamera.FeaturesSupported.mods,X.message),this.logger.error("launchGameFilterMenu error: ",X.message)})):this.logger.info("Game Filter not supported, should not be here")}postMenuClose(g,X=!1){this.currentUIMode=void 0,this.isModsAppliedCurrently=X,this.telemetryService.setModsActiveStatus(X),this.currentGameInfo&&(this.telemetryService.sendAnselFreestyleSession(g,Date.now()-this.menuLaunchTime,this.navigationInputDevice.KEYBOARD,this.navigationInputDevice.MOUSE,this.navigationInputDevice.GAMEPAD,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName,this.panningUsed,this.panningWithKB,this.panningWithMouse),this.sendAnselFreestyleFiltersTelemetry(g))}closeMenu(g,X=!1){return(0,A.of)(g).pipe((0,y.zg)(de=>{if(de===ue.AN.GameFilter)return(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok);let Se;return this.currentUIMode=void 0,this.isModsAppliedCurrently?(Se=this.currentGameSlots.modsSlotsInfo.lastSlotIdx,X=!0,this.logger.info("reapplying mods after photo mode session")):Se=0,this.applySlot(Se,!0,ue.AN.GameFilter)}),(0,C.K)(de=>(this.logger.error("error while closing the menu: ",de),(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok))),(0,C.K)(de=>(this.logger.error("applySlot failed",de),(0,A.of)(de))),(0,y.zg)(()=>this.configureNvCameraSession(!1,!1,X,this.nvCameraDefaultTimeout)),(0,B.b)(()=>{this.postMenuClose(g,X)}),(0,C.K)(de=>{throw this.postMenuClose(g,X),de}))}getFilterList(){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetFilter,{enable:!1},ot.filtersList,this.nvCameraRelaxedTimeout)}setFilter(g,X,de,Se){const He=this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetFilter,{enable:g,stackId:X,filterId:de},ot.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,xn.B)());return this.customizeAndShowAlert(Se,nn.Add),He}customizeAndShowAlert(g,X){if(this.dialogRef)this.logger.error("Something messed up, should not be here, current dialog is already up");else{let de,Se;if(Se=this.getCurrentModSlotName(),X===nn.MoveUp||X===nn.MoveDown||X===nn.Add||X===nn.Delete)this.currentUIMode===ue.AN.PhotoMode||this.currentUIMode===ue.AN.PhotoModeLight?(de="nvcamera.UpdatingFilters",Se=""):Se?de="commonLabels.Updating":(de="nvcamera.UpdatingStyle",Se=this.getCurrentSlotIndex());else{if(X!==nn.ApplyStyle)return;this.currentUIMode===ue.AN.PhotoMode||this.currentUIMode===ue.AN.PhotoModeLight?(de="nvcamera.ApplyingFilters",Se=""):Se?de="commonLabels.Applying":(de="nvcamera.ApplyingStyle",Se=this.getCurrentSlotIndex())}this.showAlert(void 0,de,Se,"confirmation.cancel",void 0,!0,!1,"indeterminate",g,{next:it=>{if(it===k.DX.Action1){this.logger.info("User cancelled the ongoing filter operation : ",it);this.notifications$.next({cancelPendingOperations:{}}),this.closeAlert()}},error:it=>{this.logger.error("failed in showAlert",it),this.closeAlert()},complete:()=>{this.closeAlert()}})}}showAlert(g,X,de,Se,He,it,dt,Pt,St,Mt){this.dialogRef||(this.alertDialogData.title=g||(this.currentUIMode===ue.AN.PhotoMode?"nvcamera.PhotoMode":"nvcamera.GameFilter"),this.alertDialogData.query=X,this.alertDialogData.queryParam={arg:de},this.alertDialogData.action1=Se,this.alertDialogData.action2=He,this.alertDialogData.spinner=it,this.alertDialogData.progressBar=dt,this.alertDialogData.progressPercentage=dt&&"determinate"===Pt,this.alertDialogData.progressMode=Pt,this.dialogHelperService.openAlertDialog(this.alertDialogData).pipe((0,B.b)(Be=>this.dialogRef=Be),(0,y.zg)(Be=>Be.afterClosed()),(0,un.R)(St)).subscribe(Mt))}closeAlert(){this.dialogRef&&(this.dialogRef.close(),this.dialogRef=void 0)}showSnack(g,X){let de,Se;if(this.closeAlert(),Se=this.getCurrentModSlotName(),g===Ye.UpdateStyleFail)Se?de="snacks.UnableToUpdate":(de="snacks.UnableToUpdateStyle",Se=this.getCurrentSlotIndex());else if(g===Ye.ApplyStyleFail)Se?de="snacks.UnableToApply":(de="snacks.UnableToApplyStyle",Se=this.getCurrentSlotIndex());else if(g===Ye.RemoveFilterSuccess)Se=X,de="1"===Se?"snacks.RemovedFilter":"snacks.RemovedFilters";else{if(g!==Ye.CaptureFailed)return;de="nvcamera.UnableToPhotograph",Se=void 0}this.translateService.get(de,{arg:Se}).subscribe(He=>{this.snackBarRef=this.dialogHelperService.openSnackBar(He)})}setFilterAttribute(g,X,de,Se,He,it){return Se===Ct.boolean&&(it.forEach((Pt,St)=>{it[St]=!!Pt}),He="bool"),this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetFilterAttribute,{filter:g,controlId:de,controlType:Se,stackId:X,dataType:He,values:it},ot.setFilterAttribute,this.nvCameraDefaultTimeout).pipe((0,v.U)(Pt=>{if(Pt.setFilterAttribute.status)return Pt.setFilterAttribute.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}setFilterWithAttributes(g){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetFilter,{enable:!0,stackId:g.stackIdx,filterId:g.id},ot.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,y.zg)(X=>(0,w.D)(X.filterDetails.controls)),(0,_.b)(X=>this.setFilterAttribute(g.id,g.stackIdx,X.id,Ct[X.controlType],X.dataType,[g.controls[X.id].currentValue])),(0,C.K)(X=>(this.logger.error("setFilterAttribute failed: ",X),(0,A.of)(X))),(0,Nt.h)(1))}resetEntireStack(){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.ResetFilterStack,{},ot.resetEntireStack,this.nvCameraRelaxedTimeout).pipe((0,v.U)(g=>{if(g.resetEntireStack.status)return g.resetEntireStack.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}removeFilter(g){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.RemoveFilter,{stackId:g},ot.removeFilter,this.nvCameraRelaxedTimeout).pipe((0,v.U)(X=>{if(X.removeFilter.status)return X.removeFilter.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}resetFilterControls(g,X){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.ResetFilter,{resetAll:g,stackId:X},ot.resetFilter,this.nvCameraRelaxedTimeout).pipe((0,v.U)(de=>{if(de.resetFilter.status)return de.resetFilter.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}setGridOfThirds(g){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.SetCameraGridOfThirds,{enableGoT:g})}getFreestyleWhitelisted(g){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.GetFreestyleWhitelisted,{profileName:g})}getCaptureTypes(){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetAnselCaptureTypes,{},ot.captureTypesList,this.nvCameraRelaxedTimeout)}getCaptureResolutions(g){let X;return X=g===m.Yk.Common.Nvcamera.CaptureTypes.regular||g===m.Yk.Common.Nvcamera.CaptureTypes.stereoRegular?ot.screenResolution:g===m.Yk.Common.Nvcamera.CaptureTypes.highRes?ot.highResResolutions:ot.panoramaResolutions,this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetCaptureResolutions,{captureType:g},X,this.nvCameraRelaxedTimeout)}getCameraRange(g,X){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetCameraRangeFovRoll,{getCameraRoll:g,getCameraFov:X},g?ot.rollRange:ot.fovRange,this.nvCameraRelaxedTimeout)}SetCameraControlFovRoll(g,X,de){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetCameraControlFovRoll,{setFovRollEnable:g,setRollValue:void 0!==X?Math.round(X):void 0,setFovValue:void 0!==de?Math.round(de):void 0},ot.setRollFovResponse,this.nvCameraRelaxedTimeout)}GetCameraControlFov(g){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetCameraControlFov,{setFovRollEnable:g},ot.fovValue,this.nvCameraRelaxedTimeout)}captureScreenshot(g,X){return this.igoConfig.GFNCefClient?this.shadowPlayService.captureCustomScreenshot("photoMode","placeholder.png",this.getActiveModsSlot(this.currentUIMode).id):new D.y(de=>{let He,it;g?(He=[ot.ngxAIUpResProgress,ot.ngxAIUpResCaptureDone],it=m.Gh.Common.Nvcamera.StartNgxAIUpRes):(He=[ot.captureShotStarted,ot.captureShotFinished,ot.captureShotProcessingFinished,ot.captureShotProgress,ot.anselStatusReport],it=m.Gh.Common.Nvcamera.CaptureScreenshot);const dt=this.listenNotification(He).pipe((0,bn.V)(9e5)).subscribe(Pt=>{de.next(Pt),(Pt.captureShotProcessingFinished&&!g||Pt.ngxAIUpResCaptureDone)&&(dt.unsubscribe(),de.complete())},Pt=>{this.logger.info("listenerCaptureShotFinished timed out"),de.error(Pt),dt.unsubscribe()});this.bridgeService.executeCommand(it,X).subscribe(Pt=>{this.logger.info(it,"command issued: ",Pt)},Pt=>{this.logger.info("nvcameraRequestWithWait",it," failed"),de.error(Pt),dt.unsubscribe()})})}cancelCurrentCapture(){return this.igoConfig.GFNCefClient?(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok):this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.CancelCapture,{},ot.captureShotCancel,this.nvCameraRelaxedTimeout).pipe((0,v.U)(g=>{if(g.captureShotCancel.status)return g.captureShotCancel.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}applySlot(g,X=!1,de=ue.AN.GameFilter){let Se;return this.logger.info("applyslot index:",g),this.logger.info("applyslot feature:",de),Se=de===ue.AN.GameFilter?this.currentGameSlots.modsSlotsInfo:this.currentGameSlots.anselSlotsInfo,(X=(X=X||0===g)||!this.isModsAppliedCurrently)||Se.lastSlotIdx!==g?(2!==Se.slots.length&&(Se.lastSlotIdx=g),this.resetEntireStack().pipe((0,y.zg)(()=>0===g?(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok):this.applyFilters(Se.slots[g].filterStack.filters,nn.ApplyStyle)))):(this.logger.info("slot is already applied, skipping"),(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok))}enableModsAndApplySlot(g){return this.logger.info("enableModsAndApplySlot index = ",g),this.nvcameraOperationUnderProgress=!0,this.tryStartNvCameraSession(m.Yk.Common.Nvcamera.FeaturesSupported.mods).pipe((0,y.zg)(()=>this.applySlot(g,!0)),(0,pn.g)(250),(0,y.zg)(()=>(this.isModsAppliedCurrently=!0,this.telemetryService.setModsActiveStatus(!0),this.configureNvCameraSession(!1,!1,!0,this.nvCameraDefaultTimeout))),(0,Mn.x)(()=>{this.nvcameraOperationUnderProgress=!1}))}applyFilters(g,X){if(g.length>0){const de=(0,w.D)(g).pipe((0,_.b)(Se=>this.setFilterAndAttributes(Se,Se.stackIdx)),(0,un.R)(this.listenNotification([ot.cancelPendingOperations])),(0,C.K)(Se=>(this.logger.error("setFilterAndAttributes failed: ",Se),(0,A.of)(Se))),(0,Nt.h)(1),(0,xn.B)());return this.customizeAndShowAlert(de,X),de}return(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok)}checkPreviewEnabled(){return!(this.currentUIMode!==ue.AN.GameFilter||!this.previewSupported)||(this.logger.info("Freestyle previews not enabled."+this.currentUIMode),!1)}showPreviewImg(g,X,de,Se){if(!this.checkPreviewEnabled())return;if(void 0===g){const it=this.getActiveModsSlot(this.currentUIMode);if(void 0===it)return void this.logger.info("Active mod slot cannot be undefined");g=it.id}const He=this.slotsPreviewInfo[g];void 0===Se&&(Se=He.previewPath),this.galleryService.getThumbnailForFile(Se,X,de).subscribe(it=>{if(this.resetPreviewStatus(),void 0===it)return this.logger.info("Image thumbnail cannot be undefined."),void(He.previewAvailable=!1);this.logger.info("Freestyle preview available for slot: "+He.id),He.previewImgData=it,He.previewAvailable=!0},it=>{this.logger.info("Freestyle preview not available for slot: "+He.id),He.previewAvailable=!1,this.resetPreviewStatus()})}resetPreviewStatus(){this.previewInProgress&&(this.logger.info("Freestyle preview shot completed."),this.previewInProgress=!1)}setPreviewDetails(g,X,de){this.logger.info("Setting preview details"),this.checkPreviewEnabled()&&(this.slotsPreviewInfo||this.initializePreviewInfo(),this.shadowPlayService.getFreestylePreviewBasePath().subscribe(Se=>{const He=Se.previewBasePath;this.logger.info("Freestyle preview base folder"+He);for(const it of g)it.id&&(this.slotsPreviewInfo[it.id].previewPath=He+"\\"+this.freestylePreviewPrefix+it.id+this.freestylePreviewExtension,this.logger.info("Preview path for Slot: "+it.id+" is "+this.slotsPreviewInfo[it.id].previewPath),this.previewPaths.push(this.slotsPreviewInfo[it.id].previewPath));this.sendPreviewPathToGalleryPlugin()},Se=>{this.logger.info("Error occured in setting preview details :"+Se)}))}sendPreviewPathToGalleryPlugin(){this.bridgeService.executeCommand(m.Gh.Common.Gallery.PreviewPathInfo,{paths:this.previewPaths}).subscribe(()=>{this.previewPaths=[]})}updatePreview(g,X){if(!this.checkPreviewEnabled())return;const de=this.getActiveModsSlot(this.currentUIMode);if(void 0===de)return void this.logger.info("Active mod slot cannot be undefined.");if(0===de.id||this.previewInProgress)return;this.previewInProgress=!0;const Se=this.freestylePreviewPrefix+de.id+this.freestylePreviewExtension;this.logger.info("Preview screenshot triggered for Slot "+de.id),this.triggerPreview(Se,de).subscribe(He=>{this.showPreviewImg(de.id,g,X,He.filePath)},He=>{this.logger.info("Error in capturing screenshot for preview"),this.previewInProgress=!1})}triggerPreview(g,X){return this.shadowPlayService.captureCustomScreenshot("freestyle",g,X.id)}getAvailableFeatureSet(){return this.cachedFeaturesAvailable?(0,A.of)(this.cachedFeaturesAvailable):this.queryFeatureSet(this.isNvCameraReady?this.nvCameraDefaultTimeout:this.nvCameraStrictTimeout)}queryFeatureSet(g){return this.cachedFeaturesAvailable=void 0,this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetFeatureSet,{},ot.features,g).pipe((0,v.U)(X=>{var de,Se;const He=null!==(Se=null===(de=null==X?void 0:X.features)||void 0===de?void 0:de.featureSet)&&void 0!==Se?Se:[];return this.cachedFeaturesAvailable={[m.Yk.Common.Nvcamera.FeaturesSupported.sdk]:He.includes(m.Yk.Common.Nvcamera.FeaturesSupported.sdk),[m.Yk.Common.Nvcamera.FeaturesSupported.mods]:He.includes(m.Yk.Common.Nvcamera.FeaturesSupported.mods),[m.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]:He.includes(m.Yk.Common.Nvcamera.FeaturesSupported.allowOffline)},this.cachedFeaturesAvailable}),(0,C.K)(X=>(this.cachedFeaturesAvailable={[m.Yk.Common.Nvcamera.FeaturesSupported.sdk]:!1,[m.Yk.Common.Nvcamera.FeaturesSupported.mods]:!1,[m.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]:!1},(0,A.of)(this.cachedFeaturesAvailable))))}closeGameFilterMenu(g){this.menuCloseInProgress$.next(!0),this.closeMenu(ue.AN.GameFilter,g.isleaveFilters).subscribe(X=>{this.changeUIRunning(!1),this.logger.info("GameFilter menu closed successfully: ",X)},X=>{this.changeUIRunning(!1),this.logger.error("error while closing GameFilter menu: ",X)})}closePhotoModeMenu(g){this.menuCloseInProgress$.next(!0),(g.isAnselLite?(0,A.of)(null):this.setGridOfThirds(!1)).pipe((0,y.zg)(()=>g.isShowError||this.restartRequired?(this.changeUIRunning(!1),(0,A.of)(!0)):this.closeMenu(ue.AN.PhotoMode,!1))).subscribe(X=>{this.changeUIRunning(!1),this.logger.info("Photo mode menu closed successfully: ",X)},X=>{this.changeUIRunning(!1),this.logger.error("error while closing Photo mode menu: ",X)})}configureNvCameraSession(g,X,de,Se){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetAnselEnable,{sessionEnable:g,pauseOnEnable:X,leaveFiltersOn:de},ot.anselEnabledResponse,Se).pipe((0,B.b)(()=>{g||this.saveFilterPresetsData()}),(0,v.U)(He=>{if(He.anselEnabledResponse.capture)return He.anselEnabledResponse.capture;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}getNvCameraSessionState(){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetAnselEnabledStatus,{},ot.anselEnabledState,this.nvCameraRelaxedTimeout).pipe((0,v.U)(g=>{if(void 0!==g.anselEnabledState.status)return g.anselEnabledState.status;throw new Error(m.Yk.Common.Nvcamera.AnselStatusEnum.failed)}))}getProcessInfo(){return this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.GetProcessInfo,{},ot.procInfo,this.nvCameraRelaxedTimeout).pipe((0,v.U)(g=>g),(0,C.K)(g=>(this.logger.error("GetProcessInfo failed:",g),(0,A.of)(void 0))))}getNvCameraSettings(){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.GetNvCameraConfig)}checkFeatureSupport(){return this.isPhotoModeEnabled=this.igoConfig.PhotoModeEnabled,this.isGameFilterEnabled=this.igoConfig.GameFilterEnabled,this.isNvCameraEnabled="DISABLED"!==this.igoConfig.NvCameraFeaturesEnabled&&(this.isPhotoModeEnabled||this.isGameFilterEnabled),this.loadCaptureEnhanceSwitchValue().pipe((0,y.zg)(g=>(this.statusOfCaptureEnhance=g||!0,this.igoConfig.GFNCefClient?(0,A.of)(!0):(this.regKeyStatusForNvCamera=this.statusOfCaptureEnhance&&this.isNvCameraEnabled,this.configureNvcameraSettings(this.regKeyStatusForNvCamera,this.regKeyStatusForNvCamera)))),(0,y.zg)(g=>(this.logger.info("configureNvcameraSettings response: ",g),this.registerNotifications(),this.setHotkeyForSlotToggle(this.isGameFilterSupported()))),(0,y.zg)(()=>void 0!==this.isAIUpresSupported?(0,A.of)(this.isAIUpresSupported):this.getAiUpresSupported()),(0,v.U)(g=>(this.isAIUpresSupported=g,this.logger.info("AIUpres supported",this.isAIUpresSupported),!0)),(0,C.K)(g=>{throw this.logger.error("checkFeatureSupport failed: ",g),g}))}configureNvcameraSettings(g,X){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.SetNvCameraConfig,{ipcEnable:g,freestyleEnable:X}).pipe((0,v.U)(de=>(this.logger.info("ConfigureNvcameraSettings returned: ",de),!0)),(0,C.K)(de=>(this.logger.info("ConfigureNvcameraSettings returned: ",de),(0,A.of)(!1))))}changeUIRunning(g){this.uiRunning.next(g),g||this.menuCloseInProgress$.next(!1)}checkAndLaunchPhotoModeMenu(){this.igoConfig.GFNCefClient&&this.currentUIMode!==ue.AN.PhotoMode?this.isSystemOnline&&this.queryChromaDB().subscribe(g=>{g.photoModeSupport&&this.togglePhotoModeUI()}):this.togglePhotoModeUI()}waitForMenuToClose(g){this.menuCloseInProgress$.pipe((0,bn.V)(this.nvCameraMenuOpenTimeout),(0,ht.sE)(X=>!1===X),(0,ee.q)(1)).subscribe(X=>{this.logger.info("Previous menu closed "),g===ue.AN.PhotoMode?this.launchPhotoModeMenu():g===ue.AN.GameFilter&&this.launchGameFilterMenu()},X=>{this.logger.error("Previous session did not close in time: ",X)})}togglePhotoModeUI(){if(this.logger.info("UI running status PhotoModeUI",this.uiRunning.getValue(),this.menuCloseInProgress$.getValue()),this.uiRunning.getValue())if(this.menuCloseInProgress$.getValue())this.waitForMenuToClose(ue.AN.PhotoMode);else{if(this.currentUIMode===ue.AN.GameFilter){const g=this.uiRunning.subscribe(X=>{X||(this.launchPhotoModeMenu(),g.unsubscribe())})}this.oscDisplayService.closeOSC()}else this.launchPhotoModeMenu()}toggleGameFilterUI(){if(this.logger.info("UI running status GameFilterUI",this.uiRunning.getValue()),this.uiRunning.getValue())if(this.menuCloseInProgress$.getValue())this.waitForMenuToClose(ue.AN.GameFilter);else{if(this.currentUIMode===(ue.AN.PhotoMode||ue.AN.PhotoModeLight)){const g=this.uiRunning.subscribe(X=>{X||(this.launchGameFilterMenu(),g.unsubscribe())})}this.oscDisplayService.closeOSC()}else this.launchGameFilterMenu()}registerHotkey(g,X){this.hotkeyService.listen(g).pipe((0,le.p)(this.throttleDuration)).subscribe(()=>{X()})}registerNotifications(){this.isNvCameraEnabled&&(this.isPhotoModeSupported()&&this.registerHotkey(S.sW.OpenAnsel,this.checkAndLaunchPhotoModeMenu.bind(this)),this.isGameFilterSupported()&&(this.registerHotkey(S.sW.FreeStyleToggleStyle1,this.applyOrToggleStyleAt.bind(this,1)),this.registerHotkey(S.sW.FreeStyleToggleStyle2,this.applyOrToggleStyleAt.bind(this,2)),this.registerHotkey(S.sW.FreeStyleToggleStyle3,this.applyOrToggleStyleAt.bind(this,3)),this.igoConfig.GFNCefClient||this.registerHotkey(S.sW.OpenFreestyle,this.toggleGameFilterUI.bind(this))),this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.NvCameraResponseNotification).subscribe(g=>{this.handleNotifications(g)}),this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.NvCameraFilterResponseNotification).subscribe(g=>{this.handleNotifications(g)}),this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.NgxAIUpResNotifications).subscribe(g=>{this.handleNotifications(g)}),this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.NvCameraUIControlNotificationData).subscribe(g=>{this.handleNotifications(g)}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,G.h)(g=>!!g.gameExited||!!g.disableHDR)).subscribe(g=>{g.gameExited?this.onGameExit(g.gameExited):this.anselSnapWhenHDRScreenshotError()}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,G.h)(g=>!(null==g||!g.appStarted))).subscribe(g=>{this.isAppStartedReceived=!0,this.logger.info(" App Start Data: ",g),g&&(this.currentGFEGameInfo={procId:g.appStarted.pid,cmsId:g.appStarted.cmsId,drsName:g.appStarted.DRSAppName,drsProfileName:g.appStarted.profileName,shortName:g.appStarted.shortName,drsWhitelist:!1})}),this.listenNotification([ot.nvCameraReady]).pipe((0,pn.g)(this.nvCameraDefaultTimeout)).subscribe(g=>{this.onNvCameraReady(g)}),this.getCmsData().subscribe())}anselSnapWhenHDRScreenshotError(){this.isNvCameraReady?(this.uiRunning.getValue()?(0,A.of)(!0):this.tryStartNvCameraSession(m.Yk.Common.Nvcamera.FeaturesSupported.mods)).pipe((0,_.b)(X=>X?this.captureScreenshot(!1,void 0):(0,A.of)(X)),(0,C.K)(X=>(this.logger.info("NvCamera session declined for anselSnapWhenHDRScreenshotError",X),this.oscNotificationService.show(Z.ZJ.HDRErrorScreenshot),(0,an._)(X)))).subscribe():this.oscNotificationService.show(Z.ZJ.HDRErrorScreenshot)}applyOrToggleStyleAt(g){if(this.logger.info("Hotkey toggle style no ",g),this.nvcameraOperationUnderProgress)return void this.logger.info("Filter operations under progress, ignoring hotkey");if(this.uiRunning.getValue())return void this.logger.info("UI is up, ignoring hotkey");let X,de=!1;this.isModsAppliedCurrently&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx===g?(X=this.enableModsAndApplySlot(0),this.previousStyleApplied=""):(X=this.checkSlotsForCurrentGame().pipe((0,y.zg)(Se=>this.enableModsAndApplySlot(g))),de=!0),X.subscribe(Se=>{this.logger.info("Status of applyOrToggleStyleAt = ",Se),de&&this.sendAnselFreestyleFiltersTelemetry(ue.AN.GameFilter)},Se=>{this.logger.info("Error in applyOrToggleStyleAt. Error = ",Se),de&&(this.nvCameraTimedOut=!0,this.sendAnselFreestyleErrorTelemetry(ue.NX.anselFreeStyle,ue.AN.GameFilter))})}getHotkeyStringForSlot(g){switch(g){case 1:return this.hotkeyService.getHotkeyString(S.sW.FreeStyleToggleStyle1);case 2:return this.hotkeyService.getHotkeyString(S.sW.FreeStyleToggleStyle2);case 3:return this.hotkeyService.getHotkeyString(S.sW.FreeStyleToggleStyle3);default:return(0,A.of)(void 0)}}handleNotifications(g){this.logger.info("NvCamera Notification: ",g),this.notifications$.next(g)}saveFilterPresetsData(g=null){(g=g||this.filterPresetsData)&&this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(g)).subscribe(()=>{this.logger.info("Filter presets data storage updated")},X=>{this.logger.error("Error while updating filter presets data storage: ",X)})}loadFilterPresetsData(){return this.filterPresetsData?(0,A.of)(!0):(this.filterPresetsData=new tn,this.dBStore.getItem(this.filterPresetsStorageKeyName).pipe((0,v.U)(g=>(g?this.filterPresetsData.deserialize(JSON.parse(g))?this.logger.info("Filter presets data loaded from the storage"):(this.logger.error("Failed to parse stored filter presets data, stored data: ",JSON.stringify(g)),this.filterPresetsData=new tn):this.logger.info("Filter presets data not found in the storage"),!0)),(0,C.K)(g=>(this.logger.error("Could not load filter presets data from the storage: ",JSON.stringify(g)),(0,A.of)(!0)))))}loadSlotsForCurrentGame(){return this.loadFilterPresetsData().pipe((0,B.b)(()=>{let g="";g=this.isDevServer?"devserver":this.igoConfig.GFNCefClient?this.currentGameInfo.cmsId.toString():this.currentProcessInfo.procPath,this.filterPresetsData.filterPresets[g]?this.logger.info("Saved filter presets loaded for the game",this.filterPresetsData):(this.logger.info("No saved filter presets found for the game"),this.filterPresetsData.filterPresets[g]=new sn,this.igoConfig.GFNCefClient||(this.filterPresetsData.filterPresets[g].modsSlotsInfo.lastSlotIdx=1)),this.currentGameSlots=this.filterPresetsData.filterPresets[g]}))}getHotkeyStringForActiveSlot(){return this.isNvCameraReady?this.checkSlotsForCurrentGame().pipe((0,y.zg)(X=>this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0?this.getHotkeyStringForSlot(this.currentGameSlots.modsSlotsInfo.lastSlotIdx):(0,A.of)(void 0))):(0,A.of)("None")}checkSlotsForCurrentGame(){return this.currentGameSlots?(0,A.of)(!0):this.getProcessInfo().pipe((0,G.h)(g=>!!g),(0,y.zg)(g=>(this.currentProcessInfo=g[ot.procInfo],this.loadSlotsForCurrentGame())))}initializePreviewInfo(){if(!this.slotsPreviewInfo){this.slotsPreviewInfo=[];for(let g=0;g<=3;g++)this.slotsPreviewInfo.push(new Vt(g))}}deletePreviews(){if(this.slotsPreviewInfo)for(let g=0;g<=3;g++)this.slotsPreviewInfo[g].previewPath&&this.bridgeService.executeCommand(m.Gh.Common.Gallery.DeletePreview,{previewFilepath:this.slotsPreviewInfo[g].previewPath}).subscribe()}tryLaunchMenu(g){this.nvcameraOperationUnderProgress=!0;let X=!1;return this.tryStartNvCameraSession(g).pipe((0,y.zg)(de=>(X=de,this.checkSlotsForCurrentGame())),(0,v.U)(()=>(this.logger.info("Launching UI Menu"),this.restartRequired=!1,g===m.Yk.Common.Nvcamera.FeaturesSupported.mods?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",X?{showError:!1,errorType:Je.SUCCESS,nvCameraSessionExists:!0}:{showError:!0,errorType:Je.ERROR_SUPPORTED_GAME,nvCameraSessionExists:!1}):g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{UIMode:this.currentUIMode,isAIUpresEnabled:this.isAIUpresSupported,showError:!1,errorType:Je.SUCCESS}),!0)),(0,Mn.x)(()=>{this.nvcameraOperationUnderProgress=!1}))}setNvcameraCmsInfo(){this.currentFreestyleGameInfo&&this.currentFreestyleGameInfo.cmsId&&this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.SetCMSInfo,{cmsId:this.currentFreestyleGameInfo.cmsId.toString(),shortName:this.currentFreestyleGameInfo.shortName}).subscribe()}getSystemInfo(){return this.systemInfo?(0,A.of)(this.systemInfo):(this.systemInfo={cpuName:"",gpuName:"",systemType:"",isOptimus:!1,osVersion:"",ddVersion:""},this.igoConfig.GFNCefClient?(0,A.of)(this.systemInfo):(this.hardwareInfoService=this.injector.get(d.ty),this.hardwareInfoService||this.logger.error("ERROR:: Failed to obtain HardwareInformationService"),(0,ze.D)([this.systemInfoService.getSystemInfo(),this.hardwareInfoService.getOptimusStatus(!0),this.hardwareInfoService.getGenericInfo(!0)]).pipe((0,v.U)(([g,X,de])=>{this.systemInfo.cpuName=g.CPUName;const Se=g.GPU.length;let He=0;for(;He<Se-1;He++)this.systemInfo.gpuName+=g.GPU[He].LongGPUName+", ";return this.systemInfo.gpuName+=g.GPU[He].LongGPUName,this.systemInfo.osVersion=g.OSVersion,this.systemInfo.isOptimus="0"!==X,this.systemInfo.systemType=de.MoboType,this.systemInfo.ddVersion=de.DriverVersion,this.systemInfo}),(0,C.K)(g=>{this.logger.error("Error while fetching system info ",g);const X=this.systemInfo;return this.systemInfo=void 0,(0,A.of)(X)}))))}checkFeatureLaunch(g){var X,de;let Se=Je.SUCCESS;switch(this.isSystemOnline=this.networkStatusService.isOnline,this.currentGameInfo&&(this.igoConfig.GFNCefClient||(null===(X=this.currentFreestyleGameInfo)||void 0===X?void 0:X.procId)===this.currentGameInfo.procId)&&(this.currentFreestyleGameInfo=this.currentGameInfo),g){case ue.AN.PhotoModeLight:case ue.AN.GameFilter:if(this.isSystemOnline)return this.getBlacklistData(!0).pipe((0,v.U)(()=>(this.currentFreestyleGameInfo&&void 0!==this.currentFreestyleGameInfo.cmsId&&!this.freestyleBlacklistedCmsidArray.includes(this.currentFreestyleGameInfo.cmsId)?(this.logger.info("Game whitelisted in ChromaDB"),Se=Je.SUCCESS):(this.logger.info("Game blacklisted in ChromaDB: ",this.currentFreestyleGameInfo),Se=Je.ERROR_SUPPORTED_GAME),Se)),(0,C.K)(He=>{var it;return Se=this.igoConfig.GFNCefClient?Je.ERROR_SYSTEM_OFFLINE:null!==(it=this.cachedFeaturesAvailable)&&void 0!==it&&it[m.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]?Je.SUCCESS:Je.ERROR_SUPPORTED_GAME,(0,A.of)(Se)}));Se=this.igoConfig.GFNCefClient?Je.ERROR_SYSTEM_OFFLINE:null!==(de=this.cachedFeaturesAvailable)&&void 0!==de&&de[m.Yk.Common.Nvcamera.FeaturesSupported.allowOffline]?Je.SUCCESS:Je.ERROR_SUPPORTED_GAME;break;case ue.AN.PhotoMode:break;default:this.logger.error("Unknown feature: "+g)}return(0,A.of)(Se)}nvcameraRequestWithWait(g,X,de,Se){return new D.y(He=>{this.logger.info("command: ",g.method),this.logger.info("params: ",X);const it=this.listenNotification([de]).pipe((0,bn.V)(Se)).subscribe(dt=>{He.next(dt),it.unsubscribe(),He.complete()},dt=>{this.logger.error("nvcameraRequestWithWait ",g.method," timed out"),He.error(dt)});this.bridgeService.executeCommand(g,X).subscribe(dt=>{this.logger.info(g.method,"command issued: ",dt)},dt=>{this.logger.error("nvcameraRequestWithWait",g.method," failed"),He.error(dt),it.unsubscribe()})})}enableNvCameraSession(){return this.configureNvCameraSession(!0,this.currentUIMode===ue.AN.PhotoMode,!1,this.nvCameraDefaultTimeout).pipe((0,v.U)(X=>{const de=[m.Yk.Common.Nvcamera.AnselStatusEnum.ok,m.Yk.Common.Nvcamera.AnselStatusEnum.alreadyEnabled];if(de.push(this.currentUIMode===ue.AN.PhotoMode?m.Yk.Common.Nvcamera.AnselStatusEnum.okAnsel:m.Yk.Common.Nvcamera.AnselStatusEnum.okModsOnly),de.includes(X))return!0;throw new Error(Je.ERROR_SESSION_NOT_ALLOWED)}))}tryStartNvCameraSession(g){return this.igoConfig.GFNCefClient?this.enableNvCameraSession():this.getAvailableFeatureSet().pipe((0,v.U)(X=>{if(null!=X&&X[g])return g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk?ue.AN.PhotoMode:ue.AN.GameFilter;if(g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk&&null!=X&&X[m.Yk.Common.Nvcamera.FeaturesSupported.mods]&&this.isPhotoModeLiteSupported())return this.currentUIMode=ue.AN.PhotoModeLight,ue.AN.PhotoModeLight;throw new Error(Je.ERROR_SUPPORTED_GAME)}),(0,y.zg)(X=>this.checkFeatureLaunch(X)),(0,B.b)(X=>{if(X!==Je.SUCCESS)throw new Error(X)}),(0,y.zg)(()=>this.enableNvCameraSession()))}onNvCameraReady(g){this.statusOfCaptureEnhance&&(g.nvCameraReady.deviceCreationCounter>0&&(this.logger.info("nvcamera ready notification received"),this.isNvCameraReady=!0,this.gameFilterDisable.next(!1),this.photoModeDisable.next(!1),this.queryFeatureSet(this.nvCameraRelaxedTimeout).subscribe()),this.getProcessInfo().pipe((0,G.h)(X=>!!X),(0,y.zg)(X=>(this.currentProcessInfo=X[ot.procInfo],this.currentFreestyleGameInfo={procId:X[ot.procInfo].procId,cmsId:void 0,drsName:void 0,drsProfileName:void 0,shortName:void 0,drsWhitelist:!1},this.igoConfig.GFNCefClient?(0,A.of)(!1):this.loadSlotsForCurrentGame())),(0,G.h)(X=>X),(0,y.zg)(()=>{const X=this.currentGameSlots.modsSlotsInfo.lastSlotIdx;return X>0?this.enableModsAndApplySlot(X).pipe((0,v.U)(de=>(this.logger.info("slot",X,"filters applied automatically"),this.sendAnselFreestyleFiltersTelemetry(ue.AN.GameFilter,!0),de))):(0,A.of)(m.Yk.Common.Nvcamera.AnselStatusEnum.ok)}),(0,y.zg)(X=>this.getHotkeyStringForActiveSlot().pipe((0,v.U)(de=>(this.gameFilterStyleToggleHotkey.next(de),X))))).subscribe(u.Z,X=>{this.logger.error("failed to apply slot automatically: ",X.message)}))}resetState(g=null){if(this.logger.info("resetState"),this.igoConfig.GFNCefClient)this.preResetSessionData.currentGameInfo=this.currentGameInfo,this.preResetSessionData.uiMode=this.currentUIMode,this.preResetSessionData.modsApplied=this.isModsAppliedCurrently;else{const X=null==g?void 0:g.exitAppPID;if(this.logger.info("currentProcessInfo:",this.currentProcessInfo),this.currentProcessInfo&&this.currentProcessInfo.procId!==X&&-1!==X)return void this.logger.info("gameExit ignored for Pid:",X);this.currentProcessInfo&&this.currentProcessInfo.procId===X&&(this.currentFreestyleGameInfo=void 0,this.freestyleBlacklistedCmsidArray=[])}this.cachedFeaturesAvailable=void 0,this.currentGameSlots=void 0,this.currentUIMode=void 0,this.isModsAppliedCurrently=!1,this.gameFilterDisable.next(!0),this.photoModeDisable.next(!0),this.isNvCameraReady=!1,this.currentProcessInfo=void 0,this.telemetryService.setModsActiveStatus(!1),this.saveFilterPresetsData(),this.restartRequired=!1,this.currentGFEGameInfo=void 0,this.currentGameStreamInfo=void 0,this.previewInProgress=!1,this.deletePreviews(),this.slotsPreviewInfo=void 0,this.chromaDBResult=void 0,this.isAppStartedReceived=!1}onGameExit(g){if(!this.igoConfig.GFNCefClient)return this.resetState(g)}sanitize(g){return Math.floor(100*g)/100}fillSingleSliderControl(g,X,de,Se){Se.id=X.id,Se.dataType=X.dataType,Se.dimension=de,Se.measureUnit=X.measureUnit||"",Se.minValue=Math.round(X.minValue[de]*ut)/ut,Se.maxValue=Math.round(X.maxValue[de]*ut)/ut,Se.stepSize=Math.round(X.stepSize[de]*ut)/ut,Se.currentValue=Math.round(X.currentValue[de]*ut)/ut,Se.uiMinValue=X.uiMinValueV1?X.uiMinValueV1[de]:X.uiMinValue,Se.uiMaxValue=X.uiMaxValueV1?X.uiMaxValueV1[de]:X.uiMaxValue,Se.uiStepSize=this.sanitize(X.uiStepSize[de]),0===Se.uiStepSize&&(Se.uiStepSize=Math.abs(Se.uiMaxValue-Se.uiMinValue)/100),Se.uiMinValue!==Se.uiMaxValue?(Se.currentUIValue=Math.round(100*this.normalizeSliderValue(X.currentValue[de]*ut/ut,Se.minValue,Se.maxValue,Se.uiMinValue,Se.uiMaxValue))/100,Se.defaultValue=Math.round(100*this.normalizeSliderValue(X.defaultValue[de]*ut/ut,Se.minValue,Se.maxValue,Se.uiMinValue,Se.uiMaxValue))/100):(Se.currentUIValue=Se.uiMaxValue,Se.defaultValue=Se.uiMaxValue),"int"===X.dataType&&(Se.stepSize=Se.uiStepSize=1)}fillSingleEditControl(g,X,de,Se){Se.id=X.id,Se.dataType=X.dataType,Se.dimension=de,Se.currentValue=X.currentValue[de],Se.minValue=X.minValue[de],Se.maxValue=X.maxValue[de]}createFilterControls(g,X){var de;g&&g.filterDetails&&(X.controls=[],null===(de=g.filterDetails.controls)||void 0===de||de.forEach((Se,He,it)=>{const dt={};dt.controlType=Se.controlType,dt.displayName=Se.displayName,dt.currentValueArray=[];const Pt=(Se.defaultValue||Se.currentValue||[Se.defaultId]).length;if("slider"===Se.controlType){if(1===Pt)this.fillSingleSliderControl(X,Se,0,dt),dt.currentValueArray[0]=dt.currentValue;else if(Pt>1){dt.controlType="multislider",dt.subControls=[],dt.id=Se.id,dt.dataType=Se.dataType;for(let St=0;St<Pt;St++){const Mt={};Mt.displayName=Se.uiDisplayNameV1?Se.uiDisplayNameV1[St]:"",this.fillSingleSliderControl(X,Se,St,Mt),dt.currentValueArray[St]=Mt.currentValue,dt.subControls.push(Mt)}}}else if("boolean"===Se.controlType)dt.id=Se.id,dt.controlType=Se.controlType,dt.dataType="bool",dt.dimension=0,dt.currentValue=!!Se.currentValue[0],dt.currentValueArray[0]=dt.currentValue;else if("pulldown"===Se.controlType||"radiobutton"===Se.controlType)dt.id=Se.id,dt.dimension=0,dt.dataType="int",dt.pullDownOrRadioButtonItems=Se.uiDisplayNameV1,dt.currentValueArray[0]=Se.currentId;else{if("edit"!==Se.controlType)return void this.logger.error("unknown filter control type:",Se.controlType);if(1===Pt)this.fillSingleEditControl(X,Se,0,dt),dt.currentValueArray[0]=dt.currentValue;else if(Pt>1){dt.controlType="multiedit",dt.id=Se.id,dt.dataType=Se.dataType,dt.subControls=[];for(let St=0;St<Pt;St++){const Mt={};Mt.displayName=Se.uiDisplayNameV1?Se.uiDisplayNameV1[St]:"",this.fillSingleEditControl(X,Se,St,Mt),dt.currentValueArray[St]=Mt.currentValue,dt.subControls.push(Mt)}}}X.controls.push(dt)}))}togglePanning(){this.enableAnselRedirection(!this.isRedirectionEnable)}gfnMouseEvent(g,X,de,Se){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.MouseEventToNvcamera,{eventName:g,button:X,coordinateX:de,coordinateY:Se}).subscribe()}gfnKBEvent(g,X,de,Se){return this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.KeyboardEventToNvcamera,{eventName:g,keyCode:X,code:de,shiftKey:Se}).subscribe()}enableAnselRedirection(g,X,de){if(X=m.Yk.Common.Nvcamera.Hid.mouse,this.isRedirectionEnable===g)return;let Se;this.isRedirectionEnable=g,this.isInDesktopMode().pipe((0,y.zg)(He=>{if(He){if(this.currentUIMode!==ue.AN.PhotoMode)return(0,A.of)(!1);Se=m.Yk.Common.Nvcamera.Mode.windowedSDK}else if(this.currentUIMode===ue.AN.PhotoMode)Se=m.Yk.Common.Nvcamera.Mode.fullscreenSDK;else{if(this.currentUIMode!==ue.AN.PhotoModeLight)return(0,A.of)(!1);Se=m.Yk.Common.Nvcamera.Mode.fullscreenNoSDK}return this.igoConfig.GFNCefClient?(0,A.of)(!1):this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.SetAnselRedirection,{enable:g,mode:Se,hid:X})})).subscribe(He=>{this.logger.info("EnableAnselRedirection status: ",He)},He=>{this.logger.error("EnableAnselRedirection error: ",He)})}getRedirectionState(){return this.isRedirectionEnable}isInDesktopMode(){return this.oscDisplayService.getCurrentDesktopMode().pipe((0,$.P)(),(0,v.U)(g=>(this.logger.info("Current display mode is ",g),"desktop"===g)))}setLanguageAndGetFilterList(){return this.localeService.localeChanged.pipe((0,$.P)(),(0,y.zg)(g=>this.bridgeService.executeCommand(m.Gh.Common.Nvcamera.SetLanguage,{langId:g})),(0,y.zg)(()=>this.getFilterList()))}getCurrentUIMode(){return this.currentUIMode}setCurrentModSlotName(g){this.currentGameSlots.modsSlotsInfo.slots[this.currentGameSlots.modsSlotsInfo.lastSlotIdx].slotName=g}getCurrentModSlotName(){if(this.isAnyGameFilterSlotSelected()){const g=this.currentGameSlots.modsSlotsInfo.slots[this.currentGameSlots.modsSlotsInfo.lastSlotIdx].slotName;return g&&""!==g.trim()?g:void 0}}getCurrentSlotIndex(){return this.isAnyGameFilterSlotSelected()?this.currentGameSlots.modsSlotsInfo.lastSlotIdx.toString():""}getActiveModsSlot(g){let X;return X=g===ue.AN.GameFilter?this.currentGameSlots.modsSlotsInfo:this.currentGameSlots.anselSlotsInfo,X.slots[X.lastSlotIdx]}isAnyGameFilterSlotSelected(){return!!this.statusOfCaptureEnhance&&this.currentGameSlots&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0}isAnyGameFilterSlotSelectedNvApp(){return this.currentGameSlots&&this.currentGameSlots.modsSlotsInfo.lastSlotIdx>0}isPreviousSessionRunning(){return this.currentFreestyleGameInfo&&this.currentFreestyleGameInfo.cmsId}getCmsData(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications,{}).pipe((0,y.zg)(g=>(this.logger.info("app notification:",g),!g.appStarted||(this.isAppStartedReceived=!0,this.currentGameInfo&&this.currentGameInfo.drsWhitelist)?(0,A.of)(void 0):this.isPreviousSessionRunning()?(this.logger.info("not updating current app data"),(0,A.of)(void 0)):(this.logger.info("updating current app data"),g&&(this.currentGFEGameInfo={procId:g.appStarted.pid,cmsId:g.appStarted.cmsId,drsName:g.appStarted.DRSAppName,drsProfileName:g.appStarted.profileName,shortName:g.appStarted.shortName,drsWhitelist:!1}),this.igoConfig.GFNCefClient?(0,A.of)({}):this.getFreestyleWhitelisted(g.appStarted.DRSAppName)))),(0,y.zg)(g=>(g&&(this.currentGameInfo.drsWhitelist=g.freestyleWhitelisted),this.getBlacklistData(!1))),(0,C.K)(g=>(this.logger.error("Unable to fetch cms blacklist data: "+JSON.stringify(g)),(0,A.of)(this.freestyleBlacklistedCmsidArray))))}setAnselFreestyleState(){this.gameFilterDisable.value&&this.gameFilterDisable.next(!1),this.photoModeDisable.value&&this.photoModeDisable.next(!1)}checkNvCameraReady(){this.queryFeatureSet(this.nvCameraRelaxedTimeout).pipe((0,B.b)(g=>{g&&(g[m.Yk.Common.Nvcamera.FeaturesSupported.mods]||g[m.Yk.Common.Nvcamera.FeaturesSupported.sdk])&&(this.isNvCameraReady=!0,this.logger.info("Setting NvCamera ready"),this.setAnselFreestyleState())})).subscribe()}getBlacklistData(g){return 0!==this.freestyleBlacklistedCmsidArray.length?(0,A.of)(this.freestyleBlacklistedCmsidArray):this.queryBlacklistData(g)}queryBlacklistData(g){return this.endpoint||(this.endpoint=this.createEndpoint(g)),this.endpoint.get(this.cmsBlackListDataUrl,this.cmsRequestOptions).pipe((0,v.U)(de=>(de&&de.data&&(this.freestyleBlacklistedCmsidArray=[],de.data.forEach(Se=>{!1===Se.isFreeStyleSupported&&this.freestyleBlacklistedCmsidArray.push(Se.cms_appId)})),this.logger.info("freestyleBlacklistedCmsidArray: ",this.freestyleBlacklistedCmsidArray),this.freestyleBlacklistedCmsidArray)),(0,C.K)(de=>(this.logger.error("Unable to obtain game meta data."),(0,A.of)(this.freestyleBlacklistedCmsidArray))))}createEndpoint(g){return this.endpointFactory.createEndpoint({config:{timeout:3e3,timeBetweenRetries:3e4,maxRetries:g?1:3}})}setNavigationInputDevice(g=[],X=[]){if(g.length===X.length)for(let de=0;de<g.length;de++)switch(g[de]){case On.Keyboard:this.navigationInputDevice.KEYBOARD=!!X[de];break;case On.Mouse:this.navigationInputDevice.MOUSE=!!X[de];break;case On.Gamepad:this.navigationInputDevice.GAMEPAD=!!X[de]}}sendAnselFreestyleFiltersTelemetry(g,X=!1){let de="",Se="",He="",it="",dt=0;g===ue.AN.GameFilter&&(this.currentGameSlots.modsSlotsInfo.slots.forEach(Pt=>{const St=Pt.filterStack.filters.length;let Mt="";if(St){this.slotsUsed.add(dt);for(let Be=0;Be<St;Be++)Mt+=Be<St-1?Pt.filterStack.filters[Be].name+", ":Pt.filterStack.filters[Be].name}else this.slotsUsed.delete(dt);switch(dt){case 1:de=Mt;break;case 2:Se=Mt;break;case 3:He=Mt}if(dt===this.currentGameSlots.modsSlotsInfo.lastSlotIdx&&(it=Mt,this.previousStyleApplied!==it))for(let Be=0;Be<St;Be++)this.telemetryService.sendAnselFreestyleFilters(Pt.filterStack.filters[Be].name,g,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName);dt++}),""!==it&&this.previousStyleApplied!==it&&this.telemetryService.sendFreestyleSlotTelemetry(de,Se,He,it,this.currentGameSlots.modsSlotsInfo.lastSlotIdx,this.slotsUsed.size,X,this.currentGameInfo.cmsId.toString(),this.currentGameInfo.shortName,this.currentGameInfo.drsName,this.currentGameInfo.drsProfileName)),this.previousStyleApplied=it}sendAnselScreenshotTelemetry(g,X){let de="",Se=0,He=this.currentGameInfo;He||(He=this.preResetSessionData.currentGameInfo),g===ue.WU.completed&&this.currentGameSlots.anselSlotsInfo.slots.forEach(it=>{const dt=it.filterStack.filters.length;let Pt="";if(dt)for(let St=0;St<dt;St++)this.telemetryService.sendAnselFreestyleFilters(it.filterStack.filters[St].name,ue.AN.PhotoMode,null==He?void 0:He.cmsId.toString(),null==He?void 0:He.shortName,null==He?void 0:He.drsName,null==He?void 0:He.drsProfileName),Pt+=St<dt-1?it.filterStack.filters[St].name+", ":it.filterStack.filters[St].name;1===Se&&(de=Pt),Se++}),this.telemetryService.sendAnselScreenshotTelemetry(g,null==He?void 0:He.cmsId,null==He?void 0:He.shortName,X.screenshotType,X.screenshotResolution,this.panningUsed,X.mode,X.totalMs,X.gridUsed,X.roll,X.fov,de,X.errorType,X.errorString)}sendAnselFreestyleErrorTelemetry(g,X,de){this.getSystemInfo().subscribe(Se=>{let He=ue.Wg.unsupportedGame,it=this.currentGameInfo;de?(He=ue.Wg.streamerError,it||(it=this.preResetSessionData.currentGameInfo)):it&&this.freestyleBlacklistedCmsidArray.includes(it.cmsId)?He=ue.Wg.gameBlacklisted:this.nvCameraTimedOut&&(He=ue.Wg.nvCameraTimedOut,this.nvCameraTimedOut=!1),it&&this.telemetryService.sendAnselFreestyleErrorTelemetry(g,X,it.cmsId.toString(),it.shortName,it.drsName,it.drsProfileName,Se.cpuName,Se.gpuName,Se.osVersion,Se.isOptimus,Se.systemType,Se.ddVersion,He,de)})}setSwitchForNvCameraSettings(g){return this.configureNvcameraSettings(g,g).pipe((0,v.U)(X=>{if(X)return this.statusOfCaptureEnhance=g,this.saveCaptureEnhanceSwitchValue(),this.onCaptureEnhanceToggle(),!0}))}saveCaptureEnhanceSwitchValue(){this.dBStore.setItem(this.captureEnhanceSwitchKeyName,this.statusOfCaptureEnhance)}loadCaptureEnhanceSwitchValue(){return this.igoConfig.GFNCefClient?(0,A.of)(!0):this.dBStore.getItem(this.captureEnhanceSwitchKeyName)}errorHandlingForLaunchMenu(g,X){X!==Je.ERROR_SUPPORTED_GAME&&(this.currentUIMode=void 0),this.igoConfig.GFNCefClient?g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk?(X===Je.ERROR_SESSION_NOT_ALLOWED?this.oscNotificationService.show(Z.ZJ.PhotoModeNotAllowed):this.photoModeDisable.next(!0),this.sendFeatureDisableErrorTelemetry(ue.AN.PhotoMode,ue.$R.nvCameraSessionConfigurationFailed,JSON.stringify(X))):g===m.Yk.Common.Nvcamera.FeaturesSupported.mods&&(this.gameFilterDisable.next(!0),this.sendFeatureDisableErrorTelemetry(ue.AN.GameFilter,ue.$R.nvCameraSessionConfigurationFailed,JSON.stringify(X))):X!==Je.ERROR_SESSION_NOT_ALLOWED||g!==m.Yk.Common.Nvcamera.FeaturesSupported.sdk?X===Je.ERROR_RESTART?(this.restartRequired=!0,g===m.Yk.Common.Nvcamera.FeaturesSupported.mods?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!1,errorType:Je.ERROR_RESTART}):g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{showError:!1,errorType:Je.ERROR_RESTART})):g===m.Yk.Common.Nvcamera.FeaturesSupported.mods?this.oscDisplayService.openOSC("sidebar/nvcamera/game-filters",{showError:!0,errorType:X}):g===m.Yk.Common.Nvcamera.FeaturesSupported.sdk&&this.oscDisplayService.openOSC("sidebar/nvcamera/photo-mode",{UIMode:this.currentUIMode,isAIUpresEnabled:!1,showError:!0,errorType:X}):this.oscNotificationService.show(Z.ZJ.PhotoModeNotAllowed)}onCaptureEnhanceToggle(){this.statusOfCaptureEnhance&&this.isNvCameraReady?this.applySlot(this.currentGameSlots.modsSlotsInfo.lastSlotIdx,!0).subscribe(g=>{this.logger.info("applySlot success")},g=>{this.logger.error("applySlot failed:",g)}):!this.statusOfCaptureEnhance&&this.isNvCameraReady&&this.resetEntireStack().subscribe(g=>{this.logger.info("resetEntireStack success")},g=>{this.logger.error("resetEntireStack failed:",g)}),this.setHotkeyForSlotToggle(this.statusOfCaptureEnhance&&this.isGameFilterSupported()).subscribe()}setHotkeyForSlotToggle(g){return this.igoConfig.GFNCefClient?(0,A.of)(!1):this.bridgeService.executeCommand(m.Gh.Share.Shareserver.SetHotkeyDynamicEnable,{enable:g,keys:[S.sW.FreeStyleToggleStyle1,S.sW.FreeStyleToggleStyle2,S.sW.FreeStyleToggleStyle3]}).pipe((0,v.U)(X=>(this.logger.info("SetHotkeyDynamicEnable returned: ",X),!0)),(0,C.K)(X=>(this.logger.error("SetHotkeyDynamicEnable failed: ",X),(0,A.of)(!1))))}formatDataForUnifiedIPC(g,X){if(!g||!g.controls||!Array.isArray(g.controls)||0===g.controls.length)return this.logger.error("Fields missing (Filter / Controls). Abort formatting..."),null;const de={filterId:void 0,stackIdx:void 0,controls:[void 0]},Se={slider:1,multislider:1,boolean:2,edit:5,multiedit:5,pulldown:7};return de.filterId=g.id,de.stackIdx=X,de.controls=[],g.controls.forEach(function(He){de.controls.push({id:He.id,type:Se[He.controlType],values:He.currentValueArray,dataType:He.dataType})}),de}setFilterAndAttributes(g,X){this.logger.info("service.setFilterAndAttributes(). Try to formatDataForUnifiedIPC().");const de=this.formatDataForUnifiedIPC(g,X);return de?(this.logger.info("SetFilterAndAttributes request: ",de),this.nvcameraRequestWithWait(m.Gh.Common.Nvcamera.SetFilterAndAttributes,{filterId:de.filterId,stackIdx:de.stackIdx,controls:de.controls},ot.filterDetails,this.nvCameraRelaxedTimeout).pipe((0,v.U)(Se=>Se.filterDetails.filter.status?Se.filterDetails.filter.status:m.Yk.Common.Nvcamera.AnselStatusEnum.failed),(0,Nt.h)(1))):(this.logger.error("Fallback to old API (setFilterType)."),this.setFilterWithAttributes(g))}normalizeSliderValue(g,X,de,Se,He){return(g-X)/(de-X)*(He-Se)+Se}startNvCameraSession(){return this.currentUIMode=ue.AN.GameFilter,this.tryStartNvCameraSession(m.Yk.Common.Nvcamera.FeaturesSupported.mods)}getAiUpresSupported(){return this.igoConfig.GFNCefClient?(0,A.of)(!1):this.systemInfoService.getOsInformation().pipe((0,v.U)(g=>{const X=g.OSVersion.split(".");return Rt.OSBuildNumber<=parseInt(X[X.length-1],10)}),(0,y.zg)(g=>g?this.hardwareInfoService.getGpuInfo(!0):(0,A.of)(void 0)),(0,v.U)(g=>{if(g){const X=(0,Le.find)(g.GPU,{IsPrimary:"1"})||g.GPU[0],de=X.GPUArchitecture,Se=void 0!==X.GPUArchImplementation?parseInt(X.GPUArchImplementation,16):void 0,He=parseInt(Rt.GPUArchitecture,16)<=parseInt(de,10),it=He&&Se&&!Rt.ExGPUArchImplementation.includes(Se);return!(!He||!it)}return!1}),(0,C.K)(g=>(this.logger.error("Error in checking AIUpresSupport: ",g),(0,A.of)(!1))))}updateStreamerState(){this.streamerStateSubscription&&(this.streamerStateSubscription.unsubscribe(),this.streamerStateSubscription=void 0),this.streamerStateSubscription=this.oscDisplayService.streamerState$.subscribe(g=>{if(g){if(this.logger.info("streaming state change: ",g.name),["Error","TerminalError","ResumableError"].indexOf(g.name)>=0&&(this.isModsAppliedCurrently||this.preResetSessionData.modsApplied||this.currentUIMode)){const de="State: "+g.name+", modsActive: "+(this.isModsAppliedCurrently||this.preResetSessionData.modsApplied)+", UI mode: "+(this.currentUIMode?this.currentUIMode:this.preResetSessionData.uiMode||"Other");this.logger.info("StreamerError errorString = ",de),this.sendAnselFreestyleErrorTelemetry(ue.NX.anselFreestyleGeneralFailure,this.currentUIMode||ue.AN.GameFilter,de)}"Done"===g.name&&this.resetState()}})}sendFunctionalityErrorTelemetry(g){this.sendAnselFreestyleErrorTelemetry(ue.NX.anselFreestyleGeneralFailure,this.currentUIMode||ue.AN.GameFilter,g)}sendFeatureDisableErrorTelemetry(g,X,de){let Se=this.currentGameInfo;Se||(Se=this.preResetSessionData.currentGameInfo),this.telemetryService.sendAnselFreestyleFeatureDisableTelemetry(null==Se?void 0:Se.cmsId.toString(),null==Se?void 0:Se.shortName.toString(),g||ue.AN.GameFilter,X,de||"Unknown Error")}getAllFilterList(){return this.featureSupportService.isPpeEnabled()&&(this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.AiDigitalVibrance"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]}),this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.TrueHDRTitle"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]}),this.staticFilterListStrings.push({id:"2",name:this.translateService.instant("nvcamera.NIS"),isVisible:!0,isPPEFilter:!0,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]})),ct.forEach(g=>{this.staticFilterListStrings.push({id:"1",name:this.translateService.instant("nvcamera."+g),isVisible:!0,isPPEFilter:!1,isFeatureEnabled:!1,isExpanded:!1,errorCodesList:[]})}),this.staticFilterListStrings}transformGFEFilterData(g){this.logger.info("transformGFEFilterData");const X=[];return g?(g.forEach((de,Se)=>{var He;const it={filterDetails:{filter:{status:m.Yk.Common.Nvcamera.AnselStatusEnum.ok,stackIdx:Se,id:de.id,filterDisplayName:de.title},controls:[]}};function dt(Mt,Be,Ie){var se,We,rt,mt,It,on;Be.minValue.push(null===(se=Mt.range)||void 0===se?void 0:se.min),Be.maxValue.push(null===(We=Mt.range)||void 0===We?void 0:We.max),Be.defaultValue.push(Mt.default),Be.currentValue.push(Mt.value),"int"===Be.dataType&&(Mt.step=1),Be.stepSize.push(Mt.step),Be.uiMinValueV1.push(null===(rt=Mt.uiRange)||void 0===rt?void 0:rt.min[Ie]),Be.uiMaxValueV1.push(null===(mt=Mt.uiRange)||void 0===mt?void 0:mt.max[Ie]),Be.uiMinValue=null===(It=Mt.uiRange)||void 0===It?void 0:It.min[0],Be.uiMaxValue=null===(on=Mt.uiRange)||void 0===on?void 0:on.min[0],0===Mt.step&&(Mt.step=((Be.uiMaxValueV1?Be.uiMaxValueV1[Ie]:Be.uiMaxValue)-(Be.uiMinValueV1?Be.uiMinValueV1[Ie]:Be.uiMinValue))/100,Be.uiStepSize.push(Mt.step))}function Pt(Mt,Be,Ie){Be.minValue.push(Mt.min),Be.maxValue.push(Mt.max),Be.defaultValue.push(Mt.value),Be.currentValue.push(Mt.value)}null===(He=de.controls)||void 0===He||He.forEach(Mt=>{var Be,Ie;const se={};switch(se.id=Mt.id,se.displayName=Mt.title,Mt.type){case"sidebar-slider":se.controlType="slider",se.dataType=Mt.dataType,se.uiDisplayNameV1=[""],se.minValue=[],se.maxValue=[],se.defaultValue=[],se.currentValue=[],se.stepSize=[],se.uiStepSize=[],se.uiMinValueV1=[],se.uiMaxValueV1=[],se.uiMinValue=[],se.uiMaxValue=[],se.uiDisplayNameV1=[""],dt(Mt,se,0),se.uiDisplayNameV1=[""];break;case"sidebar-multislider":se.controlType="slider",se.dataType=Mt.dataType,se.minValue=[],se.maxValue=[],se.defaultValue=[],se.currentValue=[],se.stepSize=[],se.uiStepSize=[],se.uiMinValueV1=[],se.uiMaxValueV1=[],se.uiMinValue=[],se.uiMaxValue=[],se.uiDisplayNameV1=[""],null===(Be=Mt.subcontrols)||void 0===Be||Be.forEach((We,rt)=>{se.uiDisplayNameV1.push(We.title),dt(We,se,rt)});break;case"sidebar-boolean":se.controlType="boolean",se.dataType="bool",se.currentValue=Mt.value;break;case"sidebar-list":se.controlType="pulldown",se.defaultId=Mt.title,se.currentId=Mt.title,se.uiDisplayNameV1=[],Mt.items.forEach(We=>{se.uiDisplayNameV1.push(We.title)});break;case"sidebar-edit":se.controlType="edit",se.dataType=Mt.dataType,se.uiDisplayNameV1=[""],se.minValue=[],se.maxValue=[],se.defaultValue=[],se.currentValue=[],Pt(Mt,se);break;case"sidebar-multiedit":se.controlType="edit",se.dataType=Mt.dataType,se.minValue=[],se.maxValue=[],se.defaultValue=[],se.currentValue=[],se.uiDisplayNameV1=[""],null===(Ie=Mt.subcontrols)||void 0===Ie||Ie.forEach((We,rt)=>{se.uiDisplayNameV1.push(We.title),Pt(We,se)})}it.filterDetails.controls.push(se)});const St=new Ut(de.id,de.title,!1,Se);this.createFilterControls(it,St),X.push(St)}),X):(this.logger.info("Invalid filter stack data from gfe backup"),X)}loadGFEMigrationData(g){try{const X=new tn,de=g.ModsSlotStorage,Se=g.ModsDataStorage,He=3;return de&&Se?(Object.keys(de).forEach(dt=>{var Pt,St,Mt;let Be;for(X.filterPresets[dt]=new sn,Be=0;Be<He;Be++){const Ie=null===(Pt=Se[dt])||void 0===Pt?void 0:Pt.lastSlot;X.filterPresets[dt].modsSlotsInfo.lastSlotIdx=Ie>=0?Ie:0,X.filterPresets[dt].modsSlotsInfo.slots[Be+1].filterStack.filters=this.transformGFEFilterData(null===(St=de[dt][Be])||void 0===St?void 0:St.activeFilterStack)}X.filterPresets[dt].anselSlotsInfo.lastSlotIdx=1,X.filterPresets[dt].anselSlotsInfo.slots[1].filterStack.filters=this.transformGFEFilterData(null===(Mt=de[dt][Be])||void 0===Mt?void 0:Mt.activeFilterStack)}),this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(X)).pipe((0,B.b)(dt=>this.logger.info("Filter presets migrated from GFE")))):(this.logger.info("No filter presets found in gfe backup"),(0,A.of)(null))}catch{return this.logger.error("Error while migrating filter presets from GFE"),(0,A.of)(null)}}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(M.zs3),M.LFG(s.g),M.LFG(d.ed),M.LFG(d.dF),M.LFG(S.y1),M.LFG(L.v),M.LFG(h.sK),M.LFG(qe),M.LFG(Me),M.LFG(d.OL),M.LFG(E.l),M.LFG(Z.nG),M.LFG(_e),M.LFG(d.MC),M.LFG(U.V9),M.LFG(d._J),M.LFG(d.Ob),M.LFG(H.In),M.LFG(ft.Q6),M.LFG(Te.l))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var Qe=e(77892);let at=(()=>{class $e{constructor(g,X,de,Se,He,it){this.loggingService=g,this.bridgeService=X,this.endpointFactory=de,this.featureSupportService=Se,this.nvCameraService=He,this.dbService=it,this.cmsDenyListDataUrl="https://static.nvidiagrid.net/titles/nvidiatech",this.cmsRequestOptions={includeRequestId:!0},this.systemInfo=void 0,this.nisStateInfo=void 0,this.currentGameInfo=void 0,this.DeepDVCDenylistedCmsidArray=[],this.isSystemOnline=!1,this.vibranceDefaultValue=0,this.sharpenDefaultValue=0,this.deepDvcStateAtGameLaunch=[],this.deepDvcStateAtAppLaunch=void 0,this.trueHdrStateAtGameLaunch=[],this.trueHdrStateAtAppLaunch=void 0,this.nis2StateAtGameLaunch=[],this.nis2StateAtAppLaunch=void 0,this.ppeFilterSlotData=void 0,this.currentGameSlotIndex=1,this.hardConstraintSupportFailure=0,this.softConstraintSupportFailure=0,this.nisEnabled=!1,this.deepDVCEnabled=!0,this.isAppStartedReceived=!1,this.isPpeFeaturesEnabled=!1,this.isPpeSupportedGame=!1,this.dbStorageName="PpeFilters",this.filterPresetsStorageKeyName="PpeFilterPresets",this.logger=this.loggingService.getLogger("PpeService"),this.isAIDVCSupported=!1,this.isAIHDRSupported=!1,this.isNIS2Supported=!1,this.isAIDVCEnabled=!1,this.isAIHDREnabled=!1,this.isNIS2Enabled=!1,this.isAIDVCAddSuccess=!1,this.isAIHDRAddSuccess=!1,this.isPpeFeaturesEnabled=this.featureSupportService.isPpeEnabled(),this.nisFTS=this.featureSupportService.isNIS2Supported(),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName)}init(){this.isPpeFeaturesEnabled=this.featureSupportService.isPpeEnabled(),this.isPpeFeaturesEnabled&&(this.logger.info(" Ppe Service Init"),this.resetGameInfo(),this.registerNotifications())}changeDeepDvcFilterSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.SetAIDVCState,g)}changeTrueHdrFilterSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.SetAIHDRState,g)}changeNis2FilterSettings(g){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.SetNIS2State,g)}disableAIDVC(g){const X={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!1,saturation:this.deepDvcParametersValue.saturation,intensity:this.deepDvcParametersValue.intensity,saveEnabled:!!g,saveIntensity:!0,saveSaturation:!0,applyEffectInRealTime:!0};return this.deepDvcParametersValue&&g&&(this.deepDvcParametersValue.enabled=!1),this.logger.info("PPE filter DeepDVC is being disabled ",X),this.changeDeepDvcFilterSettings(X)}disableAIHDR(g){const X={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!1,peakBrightness:this.trueHdrParametersValue.peakBrightness,middleGrey:this.trueHdrParametersValue.middleGrey,contrast:this.trueHdrParametersValue.contrast,saturation:this.trueHdrParametersValue.saturation,saveEnabled:!!g,savePeakBrightness:!0,saveMiddleGrey:!0,saveContrast:!0,saveSaturation:!0,applyEffectInRealTime:this.isAIHDRSupported&&this.trueHdrStateAtAppLaunch.enabled};return this.trueHdrParametersValue&&g&&(this.trueHdrParametersValue.enabled=!1),this.logger.info("PPE filter TrueHDR is being disabled ",X),this.changeTrueHdrFilterSettings(X)}disableNIS2(g){const X={cmsId:this.currentGameInfo.cmsId,sharpen:this.nis2ParametersValue.sharpen};return this.nis2ParametersValue&&g&&(this.nis2ParametersValue.enabled=!1),this.logger.info("PPE filter NIS2 is being disabled ",X),this.changeNis2FilterSettings(X)}saveAIDVCState(){return this.getDeepDVCStateInfo().pipe((0,y.zg)(g=>{if(this.deepDvcParametersValue){const X=this.deepDvcParametersValue.enabled!==g.enabled,de=this.deepDvcParametersValue.intensity!==g.intensity,Se=this.deepDvcParametersValue.saturation!==g.saturation;if(X||de||Se){const it={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:this.deepDvcParametersValue.enabled,intensity:this.deepDvcParametersValue.intensity,saturation:this.deepDvcParametersValue.saturation,saveEnabled:X,saveIntensity:de,saveSaturation:Se,applyEffectInRealTime:!1};return this.logger.info("DeepDVC Drs is being updated ",it,this.deepDvcParametersValue),this.changeDeepDvcFilterSettings(it)}}return(0,A.of)(null)})).subscribe()}saveAIHDRState(){return this.getTrueHDRStateInfo().pipe((0,y.zg)(g=>{if(this.trueHdrParametersValue){const X=this.trueHdrParametersValue.enabled!==g.enabled,de=this.trueHdrParametersValue.peakBrightness!==g.peakBrightness,Se=this.trueHdrParametersValue.middleGrey!==g.middleGrey,He=this.trueHdrParametersValue.contrast!==g.contrast,it=this.trueHdrParametersValue.saturation!==g.saturation;if(X||de||Se||He||it){const Pt={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:this.trueHdrParametersValue.enabled,peakBrightness:this.trueHdrParametersValue.peakBrightness,middleGrey:this.trueHdrParametersValue.middleGrey,contrast:this.trueHdrParametersValue.contrast,saturation:this.trueHdrParametersValue.saturation,saveEnabled:X,savePeakBrightness:de,saveMiddleGrey:Se,saveContrast:He,saveSaturation:it,applyEffectInRealTime:!1};return this.logger.info("TrueHDR Drs is being updated ",Pt,this.trueHdrParametersValue),this.changeTrueHdrFilterSettings(Pt)}}return(0,A.of)(null)})).subscribe()}saveNIS2State(){return this.getNIS2StateInfo().pipe((0,y.zg)(g=>{if(this.nis2ParametersValue&&this.nis2ParametersValue.sharpen!==g.sharpen){const Se={cmsId:this.currentGameInfo.cmsId,sharpen:this.nis2ParametersValue.sharpen};return this.logger.info("NIS2 Drs is being updated ",Se,this.nis2ParametersValue),this.changeNis2FilterSettings(Se)}return(0,A.of)(null)})).subscribe()}restoreAIDVC(g){const X={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:g.enabled,saturation:g.saturation,intensity:g.intensity,saveEnabled:!1,saveIntensity:!1,saveSaturation:!1,applyEffectInRealTime:!0};return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:g.enabled,intensity:g.intensity,saturation:g.saturation},this.logger.info("Restoring AIDVC state ",X),this.changeDeepDvcFilterSettings(X)}restoreAIHDR(g){const X={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:g.enabled,peakBrightness:g.peakBrightness,middleGrey:g.middleGrey,contrast:g.contrast,saturation:g.saturation,saveEnabled:!1,savePeakBrightness:!1,saveMiddleGrey:!1,saveContrast:!1,saveSaturation:!1,applyEffectInRealTime:!0};return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:g.enabled,peakBrightness:g.peakBrightness,middleGrey:g.middleGrey,contrast:g.contrast,saturation:g.saturation},this.logger.info("Restoring AIHDR state ",X),this.changeTrueHdrFilterSettings(X)}restoreNIS2(g){const X={cmsId:this.currentGameInfo.cmsId,sharpen:g.sharpen};return this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:g.enabled,sharpen:g.sharpen},this.logger.info("Restoring NIS2 state ",X),this.changeNis2FilterSettings(X)}restorePPEFilters(){this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]<=0||(this.getDeepDVCSystemSupport().pipe((0,y.zg)(g=>(this.logger.info("getDeepDVCSystemSupport ",g),g.errorCode===Qe.ib.FEATURE_SUPPORT_ERROR_OK?(this.isAIDVCSupported=!0,(0,A.of)(!0)):(this.isAIDVCSupported=!1,(0,A.of)(!1)))),(0,G.h)(g=>!!g),(0,y.zg)(g=>(this.logger.info("getDeepDVCSystemSupport response",g),this.getDeepDVCStateInfo())),(0,y.zg)(g=>{if(this.isAIDVCEnabled=g.enabled,this.deepDvcStateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:g.enabled,saturation:g.saturation,intensity:g.intensity},this.isAIDVCEnabled){let X=-1;return this.deepDvcStateAtGameLaunch&&(X=this.deepDvcStateAtGameLaunch.findIndex(de=>de.cmsId===this.currentGameInfo.cmsId)),-1!==X?this.deepDvcStateAtGameLaunch[X]=this.deepDvcStateAtAppLaunch:this.deepDvcStateAtGameLaunch.push(this.deepDvcStateAtAppLaunch),this.logger.info("AIDVC values at app launch ",this.deepDvcStateAtGameLaunch),this.restoreAIDVC(g)}return(0,A.of)(!1)}),(0,C.K)(g=>(this.logger.info("Restore AIDVC Filter error : ",g),(0,A.of)(!1)))).subscribe(g=>{this.logger.info("Restore AIDVC Filter response",g)}),this.getTrueHDRSystemSupport().pipe((0,y.zg)(g=>(this.logger.info("getTrueHDRSystemSupport : ",g),this.isAIHDRSupported=g.isSupported,(0,A.of)(g.isSupported))),(0,y.zg)(g=>(this.logger.info("getTrueHDRSystemSupport response",g),this.getTrueHDRStateInfo())),(0,y.zg)(g=>{if(this.isAIHDREnabled=g.enabled,this.trueHdrStateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:g.enabled,peakBrightness:g.peakBrightness,middleGrey:g.middleGrey,contrast:g.contrast,saturation:g.saturation},this.logger.info("AIHDR values at app launch ",this.trueHdrStateAtAppLaunch),this.isAIHDREnabled){let X=-1;return this.trueHdrStateAtGameLaunch&&(X=this.trueHdrStateAtGameLaunch.findIndex(de=>de.cmsId===this.currentGameInfo.cmsId)),-1!==X?this.trueHdrStateAtGameLaunch[X]=this.trueHdrStateAtAppLaunch:this.trueHdrStateAtGameLaunch.push(this.trueHdrStateAtAppLaunch),this.restoreAIHDR(g)}return(0,A.of)(!1)}),(0,C.K)(g=>(this.logger.info("Restore AIHDR Filter error : ",g),(0,A.of)(!1)))).subscribe(g=>{this.logger.info("Restore AIHDR Filter response",g)}),this.nisEnabled&&this.getNIS2SystemSupport().pipe((0,y.zg)(g=>(this.logger.info("getNIS2SystemSupport ",g),this.isNIS2Supported=g.supported,(0,A.of)(!!g.supported))),(0,G.h)(g=>!!g),(0,y.zg)(g=>(this.logger.info("getNIS2SystemSupport response",g),this.getNIS2StateInfo())),(0,y.zg)(g=>{if(this.isNIS2Enabled=g.enabled,this.nis2StateAtAppLaunch={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:g.sharpen},this.isNIS2Enabled){let X=-1;return this.nis2StateAtGameLaunch&&(X=this.nis2StateAtGameLaunch.findIndex(de=>de.cmsId===this.currentGameInfo.cmsId)),-1!==X?this.nis2StateAtGameLaunch[X]=this.nis2StateAtAppLaunch:this.nis2StateAtGameLaunch.push(this.nis2StateAtAppLaunch),this.logger.info("NIS2 values at app launch ",this.nis2StateAtGameLaunch),this.restoreNIS2(g)}return(0,A.of)(!1)}),(0,C.K)(g=>(this.logger.info("Restore NIS2 Filter error : ",g),(0,A.of)(!1)))).subscribe(g=>{this.logger.info("Restore NIS2 Filter response",g)}))}registerNotifications(){this.getCmsData().subscribe(),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,G.h)(g=>!(null==g||!g.gameExited))).subscribe(g=>{this.onGameAppExit(g)}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,G.h)(g=>!(null==g||!g.appStarted))).subscribe(g=>{this.logger.info(" App Start Data: ",g),this.nvCameraService.isPreviousSessionRunning()?this.logger.info("APP updte skipped since previous NvCamera session running"):(this.isAppStartedReceived=!0,this.isPpeSupportedGame=!!g.appStarted.cmsId,g&&(this.currentGameInfo={procId:g.appStarted.pid,cmsId:g.appStarted.cmsId,drsName:g.appStarted.DRSAppName,drsProfileName:g.appStarted.profileName,shortName:g.appStarted.shortName,drsWhitelist:!1}),this.loadPpeSlotsForCurrentGame().subscribe(()=>{this.restorePPEFilters()}))})}getCmsData(){return this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications,{}).pipe((0,y.zg)(g=>(this.logger.info("app notification:",g),g.appStarted?this.nvCameraService.isPreviousSessionRunning()?(this.logger.info("Preious session running in NvCamera"),(0,A.of)(void 0)):(this.isAppStartedReceived=!0,this.isPpeSupportedGame=!!g.appStarted.cmsId,this.logger.info("updating current app data"),g&&(this.currentGameInfo={procId:g.appStarted.pid,cmsId:g.appStarted.cmsId,drsName:g.appStarted.DRSAppName,drsProfileName:g.appStarted.profileName,shortName:g.appStarted.shortName,drsWhitelist:!1}),this.logger.info(" getCmsData currentGameInfo : ",this.currentGameInfo),(0,A.of)({})):(0,A.of)(void 0))),(0,y.zg)(g=>(g&&(this.currentGameInfo.drsWhitelist=g.freestyleWhitelisted),this.getDenyListData(!1))),(0,y.zg)(g=>(this.logger.info("game App Started ",g),this.getDenyListData(!1))),(0,C.K)(g=>(this.logger.error("Unable to fetch cms denylist data: "+g),(0,A.of)(this.DeepDVCDenylistedCmsidArray))))}updateNIS2State(g){this.nisStateInfo.enabled=g.enabled,this.nisStateInfo.sharpen=g.sharpen,this.setSharpness(g.sharpen,!1)}onGameAppExit(g){this.logger.info(" GameApp exit ProcessID:",g.exitAppPID),this.isAppStartedReceived=!1,this.isPpeSupportedGame=!1;const X=this.deepDvcStateAtGameLaunch.findIndex(Se=>Se.cmsId===this.currentGameInfo.cmsId);this.deepDvcStateAtGameLaunch.splice(X,1);const de=this.trueHdrStateAtGameLaunch.findIndex(Se=>Se.cmsId===this.currentGameInfo.cmsId);this.trueHdrStateAtGameLaunch.splice(de,1),this.hardConstraintSupportFailure=0,this.savePpeFilterPresetsData(),this.resetGameInfo(),this.ResetGraphicsSettingValues()}getDenyListData(g){return 0!==this.DeepDVCDenylistedCmsidArray.length?(0,A.of)(this.DeepDVCDenylistedCmsidArray):this.queryDenylistData(g)}queryDenylistData(g){return this.endpoint||(this.endpoint=this.createEndpoint(g)),this.endpoint.get(this.cmsDenyListDataUrl,this.cmsRequestOptions).pipe((0,v.U)(de=>(de&&de.data&&(this.DeepDVCDenylistedCmsidArray=[],de.data.forEach(Se=>{!1===Se.isDeepDVCAllowed&&this.DeepDVCDenylistedCmsidArray.push(Se.cms_appId)})),this.DeepDVCDenylistedCmsidArray)),(0,C.K)(de=>(this.logger.error("Unable to obtain game meta data.",de),(0,A.of)(this.DeepDVCDenylistedCmsidArray))))}createEndpoint(g){return this.endpointFactory.createEndpoint({config:{timeout:3e3,timeBetweenRetries:3e4,maxRetries:g?1:3}})}getDeepDVCSystemSupport(){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetAIDVCSupport)}getTrueHDRSystemSupport(){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetAIHDRSupport)}getNIS2SystemSupport(){return this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetNIS2State,{cmsId:0})}runTimeChangeControlValue(g){const X=g.controls;if(X&&g.id===Qe.A2&&this.isAIDVCEnabled){const de={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!0,saturation:X[1].currentUIValue,intensity:X[0].currentUIValue,saveEnabled:!1,saveIntensity:!1,saveSaturation:!1,applyEffectInRealTime:!0};return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:de.enabled,intensity:de.intensity,saturation:de.saturation},this.logger.info("DeepDVC filter values updated and are being applied ",de),this.changeDeepDvcFilterSettings(de)}if(X&&g.id===Qe.A2&&!this.isAIDVCEnabled)return this.deepDvcParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:!0,intensity:X[0].currentUIValue,saturation:X[1].currentUIValue},this.logger.info("DeepDVC filter values updated and are being saved ",this.deepDvcParametersValue),(0,A.of)(!0);if(X&&g.id===Qe.y5&&this.isAIHDREnabled){const de={cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId,enabled:!0,peakBrightness:X[0].currentUIValue,middleGrey:X[1].currentUIValue,contrast:X[2].currentUIValue,saturation:X[3].currentUIValue,saveEnabled:!this.isAIHDRSupported,savePeakBrightness:!1,saveMiddleGrey:!1,saveContrast:!1,saveSaturation:!1,applyEffectInRealTime:this.isAIHDRSupported&&this.trueHdrStateAtAppLaunch.enabled};return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:de.enabled,peakBrightness:de.peakBrightness,middleGrey:de.middleGrey,contrast:de.contrast,saturation:de.saturation},this.logger.info("TrueHDR filter values updated and are being applied ",de),this.changeTrueHdrFilterSettings(de)}if(X&&g.id===Qe.y5&&!this.isAIHDREnabled)return this.trueHdrParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:!0,peakBrightness:X[0].currentUIValue,middleGrey:X[1].currentUIValue,contrast:X[2].currentUIValue,saturation:X[3].currentUIValue},this.logger.info("TrueHDR filter values updated and are being saved ",this.trueHdrParametersValue),(0,A.of)(!0);if(X&&g.id===Qe.dQ&&this.isNIS2Enabled&&this.nisFTS){const de={cmsId:this.currentGameInfo.cmsId,sharpen:X[0].currentUIValue};return this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:de.sharpen},this.logger.info("NIS2 filter values updated and are being applied ",de),this.changeNis2FilterSettings(de)}return X&&g.id===Qe.dQ&&!this.isNIS2Enabled&&this.nisFTS?(this.nis2ParametersValue={cmsId:this.currentGameInfo.cmsId,enabled:this.isNIS2Enabled,sharpen:X[0].currentUIValue},this.logger.info("NIS2 filter values updated and are being saved ",this.nis2ParametersValue),(0,A.of)(!0)):void 0}getDeepDVCStateInfo(){return this.logger.info(" : getDeepDVCStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetAIDVCState,{cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId})}getTrueHDRStateInfo(){return this.logger.info(" : getTrueHDRStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetAIHDRState,{cmsId:this.currentGameInfo.cmsId,processId:this.currentGameInfo.procId})}getTrueHDRRealTimeStateInfo(){return this.logger.info(" : getTrueHDRRealTimeStateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetAIHDRRealTimeState,{processId:this.currentGameInfo.procId})}getNIS2StateInfo(){return this.logger.info(" : getNIS2StateInfo currentGameInfo : ",this.currentGameInfo),this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetNIS2State,{cmsId:this.currentGameInfo.cmsId})}savePpeFilterPresetsData(){this.ppeFilterSlotData&&this.dBStore.setItem(this.filterPresetsStorageKeyName,JSON.stringify(this.ppeFilterSlotData)).subscribe(()=>{this.logger.info("Filter presets data storage updated")},g=>{this.logger.error("Error while updating filter presets data storage: ",g)})}loadPpeFilterPresetsData(){return this.ppeFilterSlotData?(0,A.of)(!0):(this.ppeFilterSlotData=new Qe.Kj,this.dBStore.getItem(this.filterPresetsStorageKeyName).pipe((0,v.U)(g=>{if(g)try{this.ppeFilterSlotData=JSON.parse(g),this.logger.info("Ppe Filter slots data found in the storage")}catch(X){this.logger.error("Failed to parse stored Ppe Filter slots data exception : ",X)}else this.logger.info("Ppe Filter slots data not found in the storage");return!0}),(0,C.K)(g=>(this.logger.error("Could not load filter presets data from the storage: ",JSON.stringify(g)),(0,A.of)(!0)))))}loadPpeSlotsForCurrentGame(){return this.loadPpeFilterPresetsData().pipe((0,B.b)(()=>{let g=-1;g=this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName],-1===g||void 0===g?(this.logger.info("No saved Ppe filter presets found for the game"),this.currentGameSlotIndex=1):(this.logger.info("Saved Ppe filter presets loaded for the game",g),this.currentGameSlotIndex=g)}))}updatePpeFilterSlotIndex(g){this.currentGameSlotIndex=g,this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]=g}isAnyPpeFilterSlotSelected(){var g,X;return(null===(X=null===(g=this.ppeFilterSlotData)||void 0===g?void 0:g.ppeFilterSlot)||void 0===X?void 0:X[this.currentGameInfo.drsProfileName])>0}getCurrentPpeSlotIndex(){return this.isAnyPpeFilterSlotSelected()?this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName].toString():""}getCurrentPpeSlotNumber(){return this.isAnyPpeFilterSlotSelected()?this.ppeFilterSlotData.ppeFilterSlot[this.currentGameInfo.drsProfileName]:null}getErrorCodeList(g){this.logger.info(" : Support ErrorCodes : ",g),this.hardConstraintSupportFailure=0,this.softConstraintSupportFailure=1;let X=0,de=0;const Se=Object.keys(m.Yk.Share.Graphicssetting.AihdrUnSupportedErrors).filter(He=>isNaN(Number(He))).map((He,it)=>{if(X=Object.values(Qe.Vk).includes(He)?1:0,de=g&1<<m.Yk.Share.Graphicssetting.AihdrUnSupportedErrors[He],X&&de&&(this.hardConstraintSupportFailure=X&&de),de)return this.isAIHDRSupported=!1,this.constructErrorItem(m.Yk.Share.Graphicssetting.AihdrUnSupportedErrors[He],Boolean(X),!!de)});return g&&!this.hardConstraintSupportFailure&&(this.softConstraintSupportFailure=1),this.logger.info("ErrorList : "+JSON.stringify(Se)),Se}constructErrorItem(g,X,de){return{errorId:g,hardConstraint:X,valueSet:de}}setNISStateInfo(){this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.SetNIS2State,{cmsId:this.currentGameInfo.cmsId,sharpen:this.nisStateInfo.sharpen}).subscribe(g=>(this.logger.info("NIS2 setNISStateInfo : "+JSON.stringify(g)),(0,A.of)(!0)))}setSharpness(g,X){return(0,A.of)(!1)}setVibrance(g,X){return(0,A.of)(!1)}reapplyDesktopSharpness(){this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.GetNIS2State,{cmsId:0}).pipe((0,y.zg)(g=>(this.logger.info("NIS2 Desktop/Global info",g),this.bridgeService.executeCommand(m.Gh.Share.Graphicssetting.SetNIS2State,{cmsId:0,sharpen:g.sharpen}))),(0,C.K)(g=>(this.logger.error("on NIS2 reapplyDesktopSharpness Error ",g),(0,A.of)([]))))}sendNIS2Telemetry(g){this.logger.info("Sharpness value for telemetry ",g)}sendDeepDVCTelemetry(g){this.logger.info("Vibrance value for telemetry ",g)}ResetGraphicsSettingValues(){this.reapplyDesktopSharpness(),this.isAIDVCAddSuccess=!1,this.isAIHDRAddSuccess=!1}resetGameInfo(){this.currentGameInfo={procId:0,cmsId:0,drsName:"",drsProfileName:"",shortName:"",drsWhitelist:!1}}initializeNISInfo(){this.nisStateInfo={supported:!1,enabled:!1,cmsId:0,selectedResolutionIndex:0,resolutions:[],sharpen:0}}initializeAIDVCInfo(){this.deepDvcParametersValue={cmsId:0,enabled:!1,intensity:0,saturation:0}}initializeAIHDRInfo(){this.trueHdrParametersValue={cmsId:0,enabled:!1,peakBrightness:0,middleGrey:0,contrast:0,saturation:0}}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF),M.LFG(U.V9),M.LFG(Te.l),M.LFG(Ne),M.LFG(d.MC))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})(),Zt=(()=>{class $e{constructor(g,X,de,Se,He){this.loggingService=g,this.osService=X,this.bridgeService=de,this.galleryService=He,this.uploadDataList=[],this.memeQueue=[],this.DefaultMemeMaxLength=80,this.upperMemeMaxed=this.DefaultMemeMaxLength,this.lowerMemeMaxed=this.DefaultMemeMaxLength,this.saveBitmap=!0,this.idTracker=0,this.dirSeparator="",this.logger=this.loggingService.getLogger("MemeService"),this.renderer=Se.createRenderer(null,null)}init(){this.logger.info("Initializing Meme Service"),this.dirSeparator=this.osService.getDirSeparator(),this.galleryService.captureSaved().subscribe(g=>{if(this.memeQueue.length>0){const X=this.memeQueue.find(de=>de.source===g);X&&(this.saveMemeStrings(X).subscribe(),this.memeQueue=this.memeQueue.filter(de=>de.source!==g))}})}createMeme(g){this.memeParams=g,this.memeCanvasData="",this.logger.info("Meme params: ",g),0!==g.width&&setTimeout(()=>{if(this.memeCanvasData=this.createMemeCanvasForGIFTranscoder(this.memeParams.width,this.memeParams.height),this.saveBitmap){const de=this.writeEncryptedBmp(this.memeCanvasData).subscribe(()=>{de.unsubscribe()})}const X=this.setupTranscode(!1).subscribe(de=>{de&&this.logger.info("Transcode Meme/GIF complete!",g),X.unsubscribe()})})}createGIF(g){this.gifParams=g,this.logger.info("GIF params: ",g),setTimeout(()=>{const X=this.setupTranscode(!0).subscribe(de=>{de&&this.logger.info("Transcode GIF complete!",g),X.unsubscribe()})})}setupTranscode(g){const Se={file:g?this.gifParams.file:this.memeParams.file,targetPath:"",maxFileSizeMB:g?void 0:200,quality:"medium",newHeight:720,newFps:"high",newDuration:g?this.gifParams.duration:this.memeParams.duration,userData:this.idTracker,memeImage:g?"":this.memeCanvasData};return this.getTemporaryFolderPath().pipe((0,y.zg)(He=>(this.idTracker++,He[He.length-1]===this.dirSeparator&&(He=He.slice(0,-1)),Se.targetPath=He,this.saveUploadData(this.idTracker,Se))),(0,y.zg)(()=>this.gifTranscode(Se)))}saveUploadData(g,X){return this.getMemeStrings(X.file).pipe((0,v.U)(de=>(this.uploadData={id:g,folder:X.targetPath,fileSize:0,type:"video",subtype:"",videoUploadTitle:"",privacy:"",destination:"",fileSource:"",highlightDefinitionId:"",conversionStartTime:"",DRSName:"",DRSProfileName:"",fullFilename:X.file,fileName:"",containsMeme:""===X.memeImage?"No":"Yes",topMemeLength:de.top.length,bottomMemeLength:de.bottom.length},-1===this.findUploadDataInList(this.uploadData.id)&&(this.uploadDataList.push(this.uploadData),this.logger.info("Stored UploadData: ",this.uploadData)),!0)))}findUploadDataInList(g){let X=-1;return this.uploadDataList.forEach(function(de,Se){de.id===g&&(X=Se)}),X}getFilename(g){return/.*[\\/](.*)/.exec(g)[1]}getTemporaryFolderPath(){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetSettings).pipe((0,v.U)(g=>g.settings.tempFolderPath))}createMemeCanvasForGIFTranscoder(g,X){this.logger.info("Begin creating Bitmap at: "+g+"x"+X);const de=g,Se=X,He=this.renderer.createElement("canvas");He.width=de,He.height=Se;const it=He.getContext("2d");it.fillStyle="rgba(0,0,0,0)",it.fillRect(0,0,de,Se);const dt=this.memeParams.topFontSize*(de/this.memeParams.clientWidth),Pt=this.memeParams.bottomFontSize*(de/this.memeParams.clientWidth),St=this.memeParams.strokeColor||"black",Mt=this.memeParams.fillColor||"white";let Be=dt.toFixed(0);it.font=Be+"px NVIDIA",this.logger.info("Video Font top: ",it.font);let Ie=this.calculateFontWidth(dt,this.memeParams.topString),se=Math.floor(de/2-Ie/2),We=parseInt(Be,10);this.logger.info("Top string at x: "+se+" y: "+We),it.strokeStyle=St,it.lineWidth=this.getLineWidth(Be),it.strokeText(this.memeParams.topString,se,We,Ie),it.fillStyle=Mt,it.fillText(this.memeParams.topString,se,We,Ie),Be=Pt.toFixed(0),it.font=Be+"px NVIDIA",this.logger.info("Video Font bottom: ",it.font),Ie=this.calculateFontWidth(Pt,this.memeParams.bottomString);const rt=.025*Se;se=Math.floor(de/2-Ie/2),We=Math.floor(Se-rt),this.logger.info("Bottom string at x: "+se+" y: "+We),it.strokeStyle=St,it.lineWidth=this.getLineWidth(Be),it.strokeText(this.memeParams.bottomString,se,We,Ie),it.fillStyle=Mt,it.fillText(this.memeParams.bottomString,se,We,Ie),this.logger.info("Canvas created");const mt=this.CanvasToBMPToDataURL(He);return this.logger.info("BMP Image created"),mt}calculateFontWidth(g,X){const Se=this.renderer.createElement("canvas").getContext("2d");return Se.font=g+"px NVIDIA",Se.measureText(X).width}getLineWidth(g){const X=parseInt(g,10),de=Math.round((X+20)/20);return Math.min(de,5)}toArrayBuffer(g){const X=g.width,de=g.height,Se=4*X,He=g.getContext("2d").getImageData(0,0,X,de),it=new Uint32Array(He.data.buffer),dt=4*Math.floor((32*X+31)/32),St=56+dt*de,Mt=new ArrayBuffer(St),Be=new DataView(Mt);let on,Cn,se=0,We=0,rt=0,mt=0,It=0;for(Sn(19778),Yn(St),se+=4,Yn(54),Yn(40),Yn(X),Yn(de),Sn(1),Sn(32),se+=24,rt=de-1;rt>=0;){for(mt=54+rt*dt,We=0;We<Se;)Cn=it[It++],on=Cn>>>24,Be.setUint32(mt+We,Cn<<8|on),We+=4;rt--}return Mt;function Sn(Qn){Be.setUint16(se,Qn,!0),se+=2}function Yn(Qn){Be.setUint32(se,Qn,!0),se+=4}}CanvasToBMPToDataURL(g){const X=new Uint8Array(this.toArrayBuffer(g)),de=X.length;let Se="",He=0;for(;He<de;)Se+=String.fromCharCode(X[He++]);return btoa(Se)}saveMemeStrings(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.AddMeme,{file:g.source,memeInfo:{topBarText:g.top,bottomBarText:g.bottom}}).pipe((0,v.U)(de=>(this.logger.info("AddMeme complete: ",de),!0),de=>(this.logger.error("AddMeme failed: ",de),!1)),(0,C.K)(de=>(this.logger.info("AddMeme error: ",de),(0,A.of)(!1))))}getMemeStrings(g){const X={top:"",bottom:"",source:g,color:""};return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFileMetadata,{file:g}).pipe((0,v.U)(de=>(X.top=de.memeInfo.topBarText,X.bottom=de.memeInfo.bottomBarText,X)),(0,C.K)(de=>(this.logger.info("Get Meme Strings from metaData error: ",de),(0,A.of)(X))))}clearMemeStrings(g){this.logger.info("Source to clear: ",g),this.saveMemeStrings({top:"",bottom:"",source:g,color:""}).subscribe()}queueToUpdateMeme(g,X,de){const Se={top:"",bottom:"",source:g,color:""};(""!==X||""!==de)&&(Se.top=X,Se.bottom=de),this.memeQueue.push(Se)}writeEncryptedBmp(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.WriteEncryptedBitmap,{bitmapImage:g}).pipe((0,v.U)(de=>(this.logger.info("WriteEncryptedBmp complete: ",de),!0),de=>(this.logger.error("WriteEncryptedBmp failed: ",de),!1)),(0,C.K)(de=>(this.logger.info("WriteEncryptedBitmap error: ",de),(0,A.of)(!1))))}gifTranscode(g){const X={file:g.file,targetPath:g.targetPath,maxFileSizeMB:g.maxFileSizeMB,quality:g.quality,newHeight:g.newHeight,newFps:g.newFps,newDuration:g.newDuration,userData:g.userData.toString(),memeImage:g.memeImage};return this.logger.info("Final Transcode parameters: ",X),this.bridgeService.executeCommand(m.Gh.Common.Gallery.TranscodeMediaFile,X).pipe((0,v.U)(de=>{this.logger.info("gifTranscode complete: ",de);const Se=parseInt(de.userData,10),He=this.findUploadDataInList(Se);return this.logger.info("UserData: ",this.uploadDataList[He]),de.newFile},de=>{this.logger.info("gifTranscode failed: ",de)}),(0,C.K)(de=>(this.logger.info("gifTranscode error: ",de),(0,A.of)(void 0))))}setUpperMemeMaxed(g){this.upperMemeMaxed=g}setLowerMemeMaxed(g){this.lowerMemeMaxed=g}isUpperMemeMaxed(){return this.upperMemeMaxed}isLowerMemeMaxed(){return this.lowerMemeMaxed}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(r),M.LFG(d.dF),M.LFG(M.FYo),M.LFG(Me))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})(),ln=(()=>{class $e{constructor(g,X){this.loggingService=g,this.bridgeService=X,this.logger=this.loggingService.getLogger("TrimService")}init(){this.logger.info("Initializing Trim Service")}trim(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.Trim,g).pipe((0,v.U)(X=>(this.logger.info("Trim complete: ",X),!0),X=>(this.logger.info("Trim failed: ",X),!0)),(0,C.K)(X=>(this.logger.info("Trim error: ",X),(0,A.of)(!1))))}moveFile(g,X){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.MoveFile,{source:g,destination:X})}copyFile(g,X){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.CopyFile,{source:g,destination:X})}deleteFile(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.RemoveGalleryItem,{file:g})}overwriteOriginal(g,X){return this.logger.info("Overwriting original!"),this.deleteFile(X).pipe((0,y.zg)(()=>(this.logger.info("Original deleted!"),this.moveFile(g,X))))}getMetaData(g){return this.bridgeService.executeCommand(m.Gh.Common.Gallery.GetFileMetadata,{file:g})}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var Tn=e(90393);let wt=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St){this.injector=g,this.loggingService=X,this.bridgeService=de,this.hotkeyService=Se,this.igoConfig=He,this.dbService=it,this.experienceControlService=dt,this.oscNotificationService=Pt,this.telemetryService=St,this.ingestUrl="",this.ingestUrlDb="",this.protocolType="rtp",this.presetData=void 0,this.validUrl=!1,this.throttleDuration=500,this.broadcastConnectionTimeOut=1e4,this.isGfnBroadcastEnabled=!1,this.appConfig=null,this.connectionStatus=2,this.connection$=new n.xQ,this.urlValidity$=new n.xQ,this.notifications$=new n.xQ,this.gfnBroadcastEnable$=new n.xQ,this.dbStorageName="GfnBroadcast",this.urlPresetStorageKeyName="urlPreset",this.broadcastMode="Lightstream",this.currentGameInfo=void 0,this.broadcastStartTime=0,this.broadcastEndTime=0,this.portalCheckMap=new Map,this.currentGameInfo=void 0,this.logger=this.loggingService.getLogger("GFNBroadcast Service"),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName)}init(){this.checkGfnBroadcastFeatureSupport().subscribe(g=>{this.logger.info("Checking GFN Broadcast Feature Support: ",g),this.loadUrlPresetData(),this.registerHotkey(S.sW.ConnectGfnBroadcastToggle,this.toggleConnection.bind(this)),this.registerNotifications(),this.isGfnBroadcastEnabled=g,this.gfnBroadcastEnable$.next(this.isGfnBroadcastEnabled)},g=>{throw this.logger.info("Checking GFN Broadcast Feature Support: ",g),this.gfnBroadcastEnable$.next(!1),g}),this.setPortalCheckMap()}checkGfnBroadcastFeatureSupport(){return this.igoConfig.GFNCefClient?this.appConfig||(this.appConfig=this.injector.get(W.VKt),this.appConfig)?this.experienceControlService.getCloudVariable(this.appConfig.gxTarget.experiences.isBroadcastEnabled,{},{useCache:!1},ft.Z4.GxTargetGetCloudVariable,ft.Qu.GxTargetGetGfnBroadcastFeature).pipe((0,v.U)(g=>(this.logger.info("GxTargetGet Broadcast enable status: ",g.value),g.value)),(0,C.K)(g=>(this.logger.info("GxTargetGetFeatureEnabled fetch error",g),(0,A.of)(!0)))):(this.logger.info("ERROR:: Failed to obtain appConfig"),(0,A.of)(!1)):(0,A.of)(!0)}isGfnBroadcastSupported(){return this.igoConfig.GFNBroadcastEnabled}DirectBroadcastSupported(){return this.igoConfig.DirectBroadcastEnabled}checkPortal(){for(const[g,X]of this.portalCheckMap.entries()){const de=this.ingestUrl.match(g);if(de&&1===de.length)return X}return""}isValidUrl(){const g=this.ingestUrl.match(/^rtmp:\/\/|^rtmps:\/\/|^rtmpe:\/\//g);if(g&&0!==g.length){if(this.logger.info("Valid RTMP URL:",this.ingestUrl),this.DirectBroadcastSupported()){if(this.broadcastMode=this.checkPortal(),""===this.broadcastMode)return void this.logger.info("Not a valid broadcast portal");this.logger.info(" Valid broadcast portal:",this.broadcastMode)}return this.validUrl=!0,this.protocolType="rtmp",void this.urlValidity$.next({isValidServer:!0,server:this.ingestUrl})}const X=this.ingestUrl.match(/^rtsp:\/\/|^rtp:\/\//g),de=this.ingestUrl.match(/lightstream\.com/g);X&&de&&0!==X.length&&0!==de.length?(this.protocolType="rtp",this.bridgeService.executeCommand(m.Gh.Gfn.Gfnbroadcast.ValidateRtspServer,{rtspUrl:this.ingestUrl}).subscribe(Se=>{this.validUrl=Se.isValidServer,this.urlValidity$.next(Se)},Se=>{this.logger.info("Failed checking url validity: ",Se),this.validUrl=!1,this.urlValidity$.next({isValidServer:!1,server:this.ingestUrl})})):this.setFalseUrl()}setFalseUrl(){this.validUrl=!1,this.urlValidity$.next({isValidServer:!1,server:this.ingestUrl})}registerHotkey(g,X){this.hotkeyService.listen(g).pipe((0,le.p)(this.throttleDuration)).subscribe(()=>{X()})}saveUrlPresetData(){this.logger.info("Saving URL Preset Data"),this.ingestUrlDb!==this.ingestUrl?(this.presetData={ingestUrl:this.ingestUrl,protocolType:this.protocolType},this.savePresetData(this.urlPresetStorageKeyName,this.presetData).subscribe(()=>{this.logger.info("Successfully stored "+this.urlPresetStorageKeyName+"preset data"),this.ingestUrlDb=this.ingestUrl},g=>{this.logger.info("Failed to store "+this.urlPresetStorageKeyName+" preset data")})):this.logger.info("Skipped storing URL Preset data! Data already available")}savePresetData(g,X){return this.logger.info("Saving Preset data: "+g+" "+X),this.dBStore.setItem(g,X)}loadUrlPresetData(){this.logger.info("Loading URL Preset Data"),this.dBStore.getItem(this.urlPresetStorageKeyName).subscribe(g=>{g?"object"==typeof g?(this.logger.info("URL preset data found new format",g),this.ingestUrl=g.ingestUrl,this.ingestUrlDb=this.ingestUrl,this.validUrl=!0,this.protocolType=g.protocolType):(this.logger.info("URL preset data found old format",g),this.ingestUrl=g):this.logger.info("URL preset data not found")},g=>{this.logger.error("Could not load URL presets data: ",g)})}registerNotifications(){this.logger.info("Registering Broadcast Notification"),this.bridgeService.executeCommand(m.Gh.Gfn.Gfnbroadcast.GfnBroadcastResponseNotification).subscribe(g=>{this.logger.info("GFN Broadcast Notification: ",g),this.notifications$.next(g)},g=>{this.logger.info("GFN Broadcast Notification Error: ",g),this.notifications$.next(g)}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,G.h)(g=>!(null==g||!g.gameExited))).subscribe(g=>{this.onGameExit(g)}),this.bridgeService.executeCommand(m.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,G.h)(g=>!(null==g||!g.appStarted))).subscribe(g=>{this.logger.info("App Start Data: ",g),this.currentGameInfo={procId:g.appStarted.pid,cmsId:g.appStarted.cmsId,drsName:g.appStarted.DRSAppName,drsProfileName:g.appStarted.profileName,shortName:g.appStarted.shortName,drsWhitelist:!1}})}handleConnectionNotification(g,X,de){const Se=g.pipe((0,bn.V)(X)).subscribe(He=>{var it,dt,Pt,St,Mt,Be;this.logger.info("On Connection Handle: ",He);let Ie="";He.broadcastConnectResponse?He.broadcastConnectResponse.enableStatus===m.Yk.Gfn.Gfnbroadcast.EnableStatus.success?(this.connectionStatus=0,Ie=He.broadcastConnectResponse.enableStatus,this.oscNotificationService.show(Z.ZJ.ConnectedToGfnBroadcast,this.broadcastMode),this.saveUrlPresetData(),this.broadcastStartTime=Date.now(),this.telemetryService.sendBroadcastEventTelemetry((null===(it=this.currentGameInfo)||void 0===it?void 0:it.cmsId.toString())||"",(null===(dt=this.currentGameInfo)||void 0===dt?void 0:dt.shortName.toString())||"",ue.MG.start,ue.ZA.lightstream,0)):He.broadcastConnectResponse.enableStatus===m.Yk.Gfn.Gfnbroadcast.EnableStatus.genericFailure&&(this.connectionStatus=2,Ie=He.broadcastConnectResponse.enableStatus,this.oscNotificationService.show(Z.ZJ.FailedToConnectGfnBroadcast,this.broadcastMode),this.telemetryService.sendBroadcastErrorTelemetry((null===(Pt=this.currentGameInfo)||void 0===Pt?void 0:Pt.cmsId.toString())||"",(null===(St=this.currentGameInfo)||void 0===St?void 0:St.shortName.toString())||"",ue.kt.failedToStart,ue.ZA.lightstream,He.broadcastConnectResponse.enableStatus)):He.broadcasDisconnectResponse&&(this.connectionStatus=2,Ie=He.broadcasDisconnectResponse.disconnectStatus,this.oscNotificationService.show(Z.ZJ.DisconnectedFromGfnBroadcast,this.broadcastMode),this.broadcastEndTime=Date.now(),this.telemetryService.sendBroadcastEventTelemetry((null===(Mt=this.currentGameInfo)||void 0===Mt?void 0:Mt.cmsId.toString())||"",(null===(Be=this.currentGameInfo)||void 0===Be?void 0:Be.shortName.toString())||"",ue.MG.stop,ue.ZA.lightstream,this.broadcastEndTime-this.broadcastStartTime)),this.connection$.next({connectionStatus:this.connectionStatus,connectionFeedback:Ie}),Se.unsubscribe()},He=>{var it,dt;this.connectionStatus=2,this.connection$.next({connectionStatus:this.connectionStatus}),this.telemetryService.sendBroadcastErrorTelemetry((null===(it=this.currentGameInfo)||void 0===it?void 0:it.cmsId.toString())||"",(null===(dt=this.currentGameInfo)||void 0===dt?void 0:dt.shortName.toString())||"",ue.kt.timeoutError,ue.ZA.lightstream,""),this.oscNotificationService.show(de?Z.ZJ.FailedToConnectGfnBroadcast:Z.ZJ.DisconnectedFromGfnBroadcast,this.broadcastMode),Se.unsubscribe()})}connect(){if(this.logger.info("Lightstream Broadcast trying to connect"),!this.validUrl)return void this.logger.info("Lightstream Broadcast connect failed! Invalid Url");if(1===this.connectionStatus)return void this.logger.info("Lightstream Broadcast connect failed! Already Connecting");const g=this.protocolType;this.logger.info("Broadcast protocol = ",g);const X=this.ingestUrl;this.logger.info("Lightstream Broadcast trying to connect.. ",X),this.connectionStatus=1,this.connection$.next({connectionStatus:this.connectionStatus}),this.oscNotificationService.show(Z.ZJ.ConnectingToGfnBroadcast,this.broadcastMode),this.handleConnectionNotification(this.notifications$.asObservable(),this.broadcastConnectionTimeOut,!0),this.bridgeService.executeCommand(m.Gh.Gfn.Gfnbroadcast.BroadcastConnect,{protocol:g,ingestURL:X,ports:[5e3,5002]}).subscribe(Se=>this.logger.info("Lightstream Broadcast Connect On Next: ",Se))}disconnect(){this.logger.info("Lightstream Broadcast trying to disconnect.. ",this.ingestUrl),1!==this.connectionStatus?(this.connectionStatus=3,this.connection$.next({connectionStatus:this.connectionStatus}),this.handleConnectionNotification(this.notifications$.asObservable(),2e3,!1),this.bridgeService.executeCommand(m.Gh.Gfn.Gfnbroadcast.BroadcastDisconnect).subscribe(g=>this.logger.info("Lightstream Broadcast Disconnect On Next: ",g))):this.logger.info("Lightstream Broadcast disconnect failed! Already Connecting")}toggleConnection(){0===this.connectionStatus?this.disconnect():2===this.connectionStatus&&this.connect()}onGameExit(g){const X=g.gameExited.exitAppPID;if(-1===X)return this.logger.info("Game Exit Broadcast disconnected"),this.disconnect();this.logger.info("gameExit ignored for Pid:",X)}listenConnectionNotification(){return this.connection$.asObservable()}listenUrlValidityNotification(){return this.urlValidity$.asObservable()}listenGfnBroadcastEnableNotification(){return this.gfnBroadcastEnable$.asObservable()}set IngestUrl(g){this.ingestUrl=g}get IngestUrl(){return this.ingestUrl}get ConnectionStatus(){return this.connectionStatus}get IsGfnBroadcastEnabled(){return this.isGfnBroadcastEnabled}get ValidUrl(){return this.validUrl}setPortalCheckMap(){this.portalCheckMap.set(/\/\/live.twitch.tv\//g,"Twitch"),this.portalCheckMap.set(/contribute.live-video.net\/app/g,"Twitch"),this.portalCheckMap.set(/.rtmp.youtube.com/g,"YouTube Studio")}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(M.zs3),M.LFG(d.ed),M.LFG(d.dF),M.LFG(S.y1),M.LFG(s.g),M.LFG(d.MC),M.LFG(ft.Q6),M.LFG(Z.nG),M.LFG(E.l))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var Dn=e(42423),Bt=(()=>{return($e=Bt||(Bt={})).Normal="normal-color",$e.Bright="bright-color",$e.Warning="warning-color",$e.Error="error-color",Bt;var $e})(),Jt=(()=>{return($e=Jt||(Jt={}))[$e.Off=0]="Off",$e[$e.Standard=1]="Standard",$e[$e.Compact=2]="Compact",Jt;var $e})();let Pn=(()=>{class $e{constructor(g,X,de,Se,He,it,dt){this.injector=g,this.igoConfig=X,this.loggingService=de,this.hotkeyService=Se,this.osdService=He,this.bridgeService=it,this.systemInfoService=dt,this.throttleDuration=500,this.statsWindowPosition=l.Fr.rightTop,this.statsWindowSize=l._C.standard,this.statsState=Jt.Off,this.statsRunning=!1,this.mrPosition=l.Fr.none,this.irPosition=l.Fr.none,this.hlPosition=l.Fr.none,this.micPosition=l.Fr.none,this.mrState=!1,this.irState=!1,this.hlState=!1,this.micState=!1,this.statistics$=new n.xQ,this.statsHotkey$=new n.xQ,this.totalDroppedFrames=0,this.previousPacketLoss=0,this.networkData={roundTripDelay:0,streamingFps:0,gameEngineFps:0,frameLoss:"0",totalFrameLoss:"0",packetLoss:"0",totalPacketLoss:"0",totalAvailableBandwidth:0,bandwidthUsed:0,bandwidthPrecentage:0,networkName:"",connectionType:"",isVpnOn:!1,resolution:"",resolutionLabel:"",serverLoc:"",hdrStreamingStatus:""},this.colorDataEnabled=!0,this.colorData={roundTripDelay:Bt.Bright,streamingFps1:Bt.Bright,streamingFps2:Bt.Normal,gameEngineFps:Bt.Bright,packetLoss1:Bt.Bright,packetLoss2:Bt.Normal,packetLossTotal:Bt.Normal,frameLoss:Bt.Normal,frameLossTotal:Bt.Normal,totalAvailableBandwidth:Bt.Normal,connectionType:Bt.Normal,vpnIndicator:Bt.Normal,resolution:Bt.Normal,serverLoc:Bt.Normal},this.statsEvent={state:this.statsState,position:this.statsWindowPosition,size:this.statsWindowSize,data:this.networkData,colors:this.colorData},this.zone="",this.zoneDefault="",this.hdrSupportedForCurrentGame=!1,this.hdrStreamingStatus="","GFN"===this.igoConfig.branding&&(this.gridService=this.injector.get(W.rIG),this.gfnInfoService=this.injector.get(H.In),this.streamingService=this.injector.get(Dn.FW),this.translateService=this.injector.get(h.sK),this.logger=this.loggingService.getLogger("StatisticsService"))}init(){this.logger.info("Initializing Statistics Service"),this.hotkeyService.listen(S.sW.StatisticsToggle).subscribe(()=>{this.logger.info("Hotkey for Statistics toggle pressed."),this.statsState=this.statsState===Jt.Compact?Jt.Off:this.statsState+1,this.toggleStatistics(),this.statsHotkey$.next(this.statsState)}),this.streamingService.streamingEvent$.pipe((0,G.h)(g=>g.event===Dn.V4.STREAMING_TERMINATED||g.event===Dn.V4.STOP_RESULT)).subscribe(()=>{this.killStats()}),this.gfnInfoService.getHDRSupportInfo().subscribe(g=>{this.hdrSupportedForCurrentGame=g,this.logger.info("HDR support for current game: ",this.hdrSupportedForCurrentGame)})}toggleStatistics(){this.statsWindowPosition=this.osdService.getPosition(l.Kw.Statistics),this.statsWindowSize=this.osdService.getStatsSize(),this.logger.info("Stat Position: "+this.statsWindowPosition+" Size: "+this.statsWindowSize),this.statsRunning?(this.statsRunning=this.statsState!==Jt.Off,this.sendUICurrentData()):(this.sendUICurrentData(),this.updateStatsData())}updateStatsData(){var g,X;if(this.statsState!==Jt.Off){const de=!this.statsRunning;this.statsRunning=!0;const Se=[];de&&(this.zone=this.zoneDefault="",Se.push(null===(g=this.gridService)||void 0===g?void 0:g.defaultZone$.pipe((0,B.b)(He=>{He&&(this.zoneDefault=He.name)}))),Se.push(null===(X=this.gridService)||void 0===X?void 0:X.detectedLocalZone$.pipe((0,B.b)(He=>{He&&(this.zone=He.name)})))),Se.push(this.systemInfoService.getNetworkInformation().pipe((0,B.b)(He=>{this.networkInfo=He}))),Se.push(this.bridgeService.executeCommand(m.Gh.Gfn.Streaming.GetStreamStats,{}).pipe((0,B.b)(He=>{this.streamingStats=He}))),Se.push((0,A.of)(this.gfnInfoService.getHDRStreamingStatus()).pipe((0,B.b)(He=>{this.hdrStreamingStatus=He?"commonLabels.Active":this.gfnInfoService.getIsHDrFeatureAvailable()&&this.hdrSupportedForCurrentGame?"commonLabels.Inactive":""}))),(0,f.$R)(...Se).subscribe(()=>{this.updateUIData(),this.getStatsData()},He=>{this.logger.error("UpdateStats Error: ",He),de&&(this.statsRunning=!1),this.getStatsData()})}}getStatsData(){setTimeout(()=>{this.updateStatsData()},1e3)}sendUICurrentData(){this.statsEvent={state:this.statsState,position:this.statsWindowPosition,size:this.statsWindowSize,data:this.networkData,colors:this.colorData},this.statistics$.next(this.statsEvent)}updateUIData(){var g,X,de,Se,He,it,dt,Pt,St,Mt;const Be=this.streamingStats,Ie=Be.streamStats.frameWidth,se=Be.streamStats.frameHeight,We=this.gfnInfoService.getFormattedAspectRatio(Ie,se),rt=this.translateService.instant("settings.gameplay.ResView",{resWidth:Ie,resHeight:se,aspectRatio:We}),mt=this.gfnInfoService.getResolutionLabel(Be.streamStats.frameWidth,Be.streamStats.frameHeight);this.totalDroppedFrames+=Be.streamStats.droppedFrames;const It=Be.streamStats.packetloss-this.previousPacketLoss;this.previousPacketLoss=Be.streamStats.packetloss;const on=Be.streamStats.bandwidth||0,Sn=Be.streamStats.bandwidthUtilization,Yn=Math.round((Be.streamStats.streamBitrate||0)/1e3),Qn=Math.round(on/1e3);let ei=null===(g=Be.streamStats.serverZone)||void 0===g?void 0:g.toUpperCase().replace(/-/g,"\u2011");ei=void 0===ei||""===ei?"--":ei;const pi=""===this.zone?this.zoneDefault:this.zone,Ri=void 0!==(null===(X=this.networkInfo)||void 0===X?void 0:X.NetworkName)&&""!==(null===(de=this.networkInfo)||void 0===de?void 0:de.NetworkName),zi=void 0!==(null===(Se=this.networkInfo)||void 0===Se?void 0:Se.NetworkType)&&""!==(null===(He=this.networkInfo)||void 0===He?void 0:He.NetworkType);if(this.networkData={roundTripDelay:Be.streamStats.roundTripDelayMs||0,streamingFps:Be.streamStats.frameRate||0,gameEngineFps:Be.streamStats.avgGameFrameRate||0,frameLoss:Be.streamStats.droppedFrames.toString(),totalFrameLoss:this.totalDroppedFrames.toString(),packetLoss:It.toString(),totalPacketLoss:Be.streamStats.packetloss.toString(),totalAvailableBandwidth:Qn,bandwidthUsed:Yn,bandwidthPrecentage:Sn,networkName:Ri?null===(it=this.networkInfo)||void 0===it?void 0:it.NetworkName:"--",connectionType:zi?null===(dt=this.networkInfo)||void 0===dt?void 0:dt.NetworkType:"--",isVpnOn:"1"===(null===(Pt=this.networkInfo)||void 0===Pt?void 0:Pt.IsVPN),resolution:rt,resolutionLabel:mt,serverLoc:pi+" ("+ei+")",hdrStreamingStatus:this.hdrStreamingStatus},this.colorDataEnabled){const ai=this.networkData.roundTripDelay<=40?Bt.Bright:this.networkData.roundTripDelay<=80?Bt.Warning:Bt.Error;let li=Bt.Normal;!(null===(St=this.networkData.connectionType)||void 0===St)&&St.includes("2.4")&&(li=Bt.Warning),this.colorData={roundTripDelay:ai,streamingFps1:Bt.Bright,streamingFps2:Bt.Normal,gameEngineFps:Bt.Bright,packetLoss1:0===It?Bt.Bright:Bt.Error,packetLoss2:0===It?Bt.Normal:Bt.Error,packetLossTotal:0===Be.streamStats.packetloss?Bt.Normal:Bt.Error,frameLoss:0===Be.streamStats.droppedFrames?Bt.Normal:Bt.Error,frameLossTotal:0===this.totalDroppedFrames?Bt.Normal:Bt.Error,totalAvailableBandwidth:Bt.Normal,connectionType:li,vpnIndicator:"1"===(null===(Mt=this.networkInfo)||void 0===Mt?void 0:Mt.IsVPN)?Bt.Warning:Bt.Normal,resolution:Bt.Normal,serverLoc:Bt.Normal}}this.sendUICurrentData()}getStatisticsEvents(){return this.statistics$.asObservable()}statisticsLayoutChanged(){this.toggleStatistics()}statisticsStateChanged(g){this.statsState=g,this.toggleStatistics()}statisticsHotkeyPressed(){return this.statsHotkey$.asObservable()}getStatsState(){return this.statsState}killStats(){this.totalDroppedFrames=0,this.previousPacketLoss=0,this.statsRunning=!1,this.statsState=Jt.Off,this.sendUICurrentData()}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(M.zs3),M.LFG(s.g),M.LFG(d.ed),M.LFG(S.y1),M.LFG(l.Ec),M.LFG(d.dF),M.LFG(d.Ob))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var kn=e(92839);let zn=(()=>{class $e{constructor(g,X,de,Se,He,it,dt,Pt,St,Mt,Be,Ie,se,We,rt,mt,It,on,Cn,Sn,Yn,Qn,ei,pi){this.loggingService=g,this.osService=X,this.hotkey=de,this.oscDisplay=Se,this.cacheService=He,this.oscNotification=it,this.galleryService=dt,this.sdkGalleryService=Pt,this.shadowPlayService=St,this.webcamService=Mt,this.igoConfig=Be,this.nvcamera=Ie,this.ppeService=se,this.osdService=We,this.telemetryHelperService=rt,this.gfnInfo=mt,this.memeService=It,this.oscDisplayService=on,this.trimService=Cn,this.clientInputService=Sn,this.gfnBroadcastService=Yn,this.featureSupportService=Qn,this.statisticsService=ei,this.perfMonService=pi,this.logger=this.loggingService.getLogger("IGO ServiceLoader"),this.isInitialised=!1}init(){return this.featureSupportService.init().pipe((0,v.U)(g=>(this.logger.info("Feature Support Data: ",g),!!this.isInitialised||!(null==g||!g.igo)&&(null!=g&&g.initData?(this.isInitialised=!0,this.initSelectiveServices(g)):(this.isInitialised=!0,this.initAllServices(),this.igoConfig.RecordingFeaturesDisabled=!0,setTimeout(()=>this.oscDisplayService.openOSC(),1e3)),!0))))}initAllServices(){this.initBaseServices(),this.shadowPlayService.init(),this.webcamService.init(),this.nvcamera.init(),this.ppeService.init(),this.gfnBroadcastService.init(),this.clientInputService.init(),this.featureSupportService.isGFEMode()?this.perfMonService.init():this.statisticsService.init()}initSelectiveServices(g){g.hotkey&&this.hotkey.init(),g.oscDisplay&&this.oscDisplay.init(),g.os&&this.osService.init().subscribe(()=>{g.oscNotification&&this.oscNotification.init(),g.cache&&this.cacheService.init(),g.gallery&&this.galleryService.init(),g.sdkGallery&&this.sdkGalleryService.init(),g.meme&&this.memeService.init(),g.trim&&this.trimService.init(),g.telemetryHelper&&this.telemetryHelperService.init()}),g.gfnInfo&&this.gfnInfo.init(),g.osd&&this.osdService.init(),g.shadowPlay&&this.shadowPlayService.init(),g.webcam&&this.webcamService.init(),g.nvcamera&&this.nvcamera.init(),g.ppe&&this.ppeService.init(),g.gfnBroadcast&&this.gfnBroadcastService.init(),g.clientInput&&this.clientInputService.init(),g.statistics&&this.statisticsService.init(),g.perfMon&&this.perfMonService.init()}initBaseServices(){this.hotkey.init(),this.oscDisplay.init(),this.osService.init().subscribe(()=>{this.oscNotification.init(),this.cacheService.init(),this.galleryService.init(),this.sdkGalleryService.init(),this.memeService.init(),this.trimService.init(),this.telemetryHelperService.init()}),this.gfnInfo.init(),this.osdService.init()}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(r),M.LFG(S.y1),M.LFG(L.v),M.LFG(b),M.LFG(Z.nG),M.LFG(Me),M.LFG(pe),M.LFG(qe),M.LFG(Et),M.LFG(s.g),M.LFG(Ne),M.LFG(at),M.LFG(l.Ec),M.LFG(E.l),M.LFG(H.In),M.LFG(Zt),M.LFG(L.v),M.LFG(ln),M.LFG(Tn.S),M.LFG(wt),M.LFG(Te.l),M.LFG(Pn),M.LFG(kn.d))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();var oi=e(33149),si=e(22828);let qn=(()=>{class $e{constructor(g,X){this.loggingService=g,this.bridgeService=X,this.logger=this.loggingService.getLogger("KeyboardService")}onKeyDown(g,X){switch(g.key){case"ArrowDown":X===Xt.Bottom?(g.stopPropagation(),g.preventDefault()):(this.bridgeService.executeCommand(m.Gh.Share.Osc.GenerateKeyboardMessage,{keycode:si.Mf,keymodifier:0}).subscribe(de=>{this.logger.info("ArrowDown pressed"+de)}),g.stopPropagation());break;case"ArrowUp":X===Xt.Top?(g.stopPropagation(),g.preventDefault()):(this.bridgeService.executeCommand(m.Gh.Share.Osc.GenerateKeyboardMessage,{keycode:si.Mf,keymodifier:si.JU}).subscribe(de=>{this.logger.info("ArrowUp pressed"+de)}),g.stopPropagation())}}}return $e.\u0275fac=function(g){return new(g||$e)(M.LFG(d.ed),M.LFG(d.dF))},$e.\u0275prov=M.Yz7({token:$e,factory:$e.\u0275fac,providedIn:"root"}),$e})();e(71533);var Ln=e(12152);e(14310)},52321:(Ge,ae,e)=>{"use strict";e.d(ae,{$K:()=>M,A2:()=>n,Sc:()=>x,ZB:()=>A,dM:()=>L,uc:()=>o});var t=e(21361),n=(()=>{return(l=n||(n={})).Video="video",l.Image="image",l.Other="other",n;var l})(),x=(()=>{return(l=x||(x={})).Temporary="temporary",l.Highlights="highlights",x;var l})(),M=t.Yk.Common.Gallery.AudioType,L=(()=>{return(l=L||(L={})).Normal="Normal",l.SuperResolution="SuperResolution",l.SuperResolutionOversized="SuperResolution_Oversized",l.Mono360="360Mono",l.Stereo="Stereo",l.Stereo360="360Stereo",l.Exr="Exr",l.Live="Live",l.Offline="Offline",l.Highlights="Highlight",l.Mta="MTA",l.NormalAnsel="Normal_Ansel",l.Gif="AnimatedGif",l.InstantReplay="InstantReplay",l.Manual="Manual",l.Screenshot="Screenshot",L;var l})();class o{constructor(){this.total=0,this.highlights=0,this.videos=0,this.instantReplays=0,this.images=0,this.highlightBreakDown=[]}}var A=(()=>{return(l=A||(A={})).HIGHLIGHT_COMPLETED="highlightCompleted",l.MOVE_STARTED="moveStarted",l.MOVE_INPROGRESS="moveInProgress",l.MOVE_DONE="moveDone",A;var l})()},35880:(Ge,ae,e)=>{"use strict";e.d(ae,{g:()=>t});class t{}},71533:(Ge,ae,e)=>{"use strict";e.d(ae,{P:()=>n,d:()=>t});const t={igo:!0,shadowPlay:!0,broadcast:!1,webcam:!1,nvcamera:!0,ppe:!0,graphics:!0,gfnBroadcast:!1,clientInput:!1,hotkey:!0,oscDisplay:!0,os:!0,oscNotification:!0,cache:!0,gallery:!0,sdkGallery:!0,telemetryHelper:!0,meme:!1,trim:!1,gfnInfo:!1,osd:!0,gfnMicrophone:!1,statistics:!1,gamepadOrientedMode:!1,virtualKeyboard:!1,controlUGC:!1,connectionStatus:!1,isKBMGameSupported:!0,inputControlHints:!1,nvKeyboardSupported:!1,clientIME:!1,useGamepadLSControl:!1,shortcutControls:!1,title:!0,feedback:!0,links:!0,gameplay:!0,virtualKeyboardOnMobile:!0,perfMon:!0,reflexAnalyzer:!0},n=Object.assign({initData:{}},t)},90393:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>C});var t=e(17564),n=e(96671),x=e(23815),M=e(74266),L=e(99636),p=e(33932),P=e(2629),a=e(32016),o=e(39609),v=e(64710),y=e(35880);let C=(()=>{class A{constructor(m,S,s,r,l){this.igoConfig=S,this.injector=s,this.hotkeyService=r,this.systemVirtualKeyboardService=l,this.inputUISubject=new n.xQ,this.clientImeLoaderService=null,this.throttleMs=333,this.logger=m.getLogger("IGO ClientInputService"),this.igoConfig.GFNCefClient&&(this.clientImeLoaderService=this.injector.get(t.wn))}get inputControlUIOpened$(){return this.inputUISubject.asObservable().pipe((0,M.h)(m=>!0===m))}get inputControlUIClosed$(){return this.inputUISubject.asObservable().pipe((0,M.h)(m=>!1===m))}get systemKeyboardState$(){return this.systemVirtualKeyboardService.keyboardVisible$}get imeOpened$(){var m,S;return null!==(S=null===(m=this.clientImeLoaderService)||void 0===m?void 0:m.imeOpened$)&&void 0!==S?S:(0,x.of)(!1)}get isImeEnabled$(){var m,S;return null!==(S=null===(m=this.clientImeLoaderService)||void 0===m?void 0:m.isImeEnabled$)&&void 0!==S?S:(0,x.of)(!1)}get imeInputInProgress(){var m,S;return null!==(S=null===(m=this.clientImeLoaderService)||void 0===m?void 0:m.imeInputInProgress)&&void 0!==S&&S}get imeInputTextVisible$(){var m,S;return null!==(S=null===(m=this.clientImeLoaderService)||void 0===m?void 0:m.imeInputTextVisible$)&&void 0!==S?S:(0,x.of)(!1)}init(){this.logger.info("Initializing ClientInputService"),this.igoConfig.GFNCefClient&&this.hotkeyService.listen(a.sW.NativeKeyboardInputDialog).pipe((0,L.p)(this.throttleMs),(0,p.zg)(()=>this.clientImeLoaderService.isImeEnabled$.pipe((0,P.q)(1)))).subscribe(m=>{this.clientImeLoaderService.imeInputInProgress?this.clientImeLoaderService.closeImeInputHandler():(this.logger.info("ClientIME window opening triggered"),m?(this.logger.info("ClientIME feature is enabled, opening IME window"),this.clientImeLoaderService.initImeInputHandler(t.rW.HotKey)):this.logger.info("ClientIME feature is disabled"))})}toggleInputUI(m){this.inputUISubject.next(m)}initImeInput(m){var S;null===(S=this.clientImeLoaderService)||void 0===S||S.initImeInputHandler(m)}controlImeInput(m){var S;null===(S=this.clientImeLoaderService)||void 0===S||S.controlImeInput(m)}closeImeInput(){var m;null===(m=this.clientImeLoaderService)||void 0===m||m.closeImeInputHandler()}}return A.\u0275fac=function(m){return new(m||A)(o.LFG(v.ed),o.LFG(y.g),o.LFG(o.zs3),o.LFG(a.y1),o.LFG(v.sp))},A.\u0275prov=o.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},66134:(Ge,ae,e)=>{"use strict";e.d(ae,{l:()=>S});var t=e(52954),n=e(23815),x=e(2629),M=e(33932),L=e(4042),p=e(51325),P=e(89258),a=e(21361),o=e(64710),v=e(97483),y=e(71533),C=e(39609),A=e(35880),d=e(45908),m=e(59248);let S=(()=>{class s{constructor(l,i,O,Y,T,B,K){var b,f,D,I,w;this.injector=i,this.bridgeService=O,this.igoConfig=Y,this.systemInfoService=T,this.browserSupportService=B,this.consoleHotkeyNotification=!1,this.isGuestAppFlow=!1,this.logger=l.getLogger("igo/FeatureSupportService"),this.isBrowserPlatform=o.ng.isBrowserPlatform(),this.isCaptureSupported=!0,"GFN"===this.igoConfig.branding&&(this.guestModeHelperService=this.injector.get(v.hTr),this.appConfig=this.injector.get(v.VKt),this.tvMode=!(null===(f=null===(b=this.appConfig)||void 0===b?void 0:b.featureEnablement)||void 0===f||!f.tvMode),this.isMobileMode=!(null===(I=null===(D=this.appConfig)||void 0===D?void 0:D.featureEnablement)||void 0===I||!I.mobileMode),this.isVirtualKbEnabled=!!this.appConfig.featureEnablement.virtualKeyboard,this.inputHintsEnabled=!!this.appConfig.featureEnablement.inputControlHints,this.nvKeyboardSupported=K.enabled,this.clientImeEnabled=!!this.appConfig.featureEnablement.clientIME,this.useGamepadLSControl=!!this.appConfig.featureEnablement.useGamepadLSControl,this.consoleHotkeyNotification=!!this.appConfig.featureEnablement.consoleHotkeyNotification,this.isGuestAppFlow=this.guestModeHelperService.isGuestAppFlow(),this.isVirtualControllerEnabled=!(null===(w=this.appConfig.featureEnablement)||void 0===w||!w.virtualController)),this.initFeatureControl()}setIgoFeatureSupportData(l){return{igo:!0,shadowPlay:this.isShadowPlayEnabled(),broadcast:this.isBroadcastEnabled(),webcam:this.isWebcamEnabled(),nvcamera:this.isNvcameraEnabled(),ppe:this.isPpeEnabled(),graphics:this.isGraphicsEnabled(),gfnBroadcast:this.isGfnBroadcastEnabled(),clientInput:!0,hotkey:!0,oscDisplay:!0,os:!0,oscNotification:!0,cache:!0,gallery:this.isGalleryEnabled(),sdkGallery:this.isSdkGalleryEnabled(),telemetryHelper:!0,meme:this.isMemeEnabled(),trim:this.isTrimEnabled(),gfnInfo:!0,osd:!0,gfnMicrophone:this.evaluateGfnMicEnablement(l),statistics:this.isStatisticsEnabled(),gamepadOrientedMode:this.isGamepadOrientedMode(),virtualKeyboard:this.isVirtualKeyboardEnabled(),controlUGC:this.isControlUGCEnabled(),connectionStatus:this.isConnectionStatusEnabled(),isKBMGameSupported:this.isKeyboardMouseGamesAllowed(),inputControlHints:this.isInputControlHintsEnabled(),nvKeyboardSupported:this.isNvKeyboardSupported(),clientIME:this.isClientImeEnabled(),useGamepadLSControl:this.isGamepadLSControlUsed(),shortcutControls:this.areShortcutsOveridden(),title:this.showTitle(),feedback:this.showFeedbackSetting(),links:this.showLinks(),gameplay:this.isGameplaySupported(),virtualKeyboardOnMobile:this.isVirtualKeyboardOnMobileSupported(),perfMon:this.isPerfOverlayEnabled(),reflexAnalyzer:this.isReflexAnalyzerEnabled()}}initFeatureControl(){this.featureControl$="GFN"===this.igoConfig.branding&&this.igoConfig.IGOFeatureEnabled?this.systemInfoService.getDeviceType().pipe((0,x.q)(1),(0,M.zg)(l=>(this.cachedDeviceType=l,this.isGuestAppFlow&&(this.guestModeConfig=this.guestModeHelperService.getGuestModeConfig()),(0,n.of)(this.setIgoFeatureSupportData(l))))):(0,n.of)(y.d)}evaluateGfnMicEnablement(l){return l!==o.z7.TV&&!this.isGfnMobileMode()}init(){let l;return this.featureControl$.pipe((0,M.zg)(i=>(l=i,this.injector.get(t.V_,Promise.resolve(null)))),(0,M.zg)(i=>this.bridgeService.executeCommand(a.Gh.Share.Shareserver.GetInitData)),(0,M.zg)(i=>(i&&(this.isCaptureSupported=i.captureSupported),l.igo?(this.igoSupportData=Object.assign({initData:i},l),(0,n.of)(this.igoSupportData)):(this.logger.info("Disabling IGO due to feature toggle"),this.igoSupportData=y.P,this.bridgeService.executeCommand(a.Gh.Share.Shareserver.SetCaptureSupported,{supported:!1}).pipe((0,L.h)(this.igoSupportData))))),(0,p.K)(i=>(this.logger.info("Error occured while fetching GetInitDataReturn : ",i),(0,n.of)(this.igoSupportData))))}isShadowPlayEnabled(){return!this.isBrowserPlatform&&this.isCaptureSupported}isBroadcastEnabled(){return!this.isBrowserPlatform}isIgoWithoutBrowserPlatform(){return!this.isBrowserPlatform}isWebcamEnabled(){return!this.isGFEMode()&&!this.isBrowserPlatform}isNvcameraEnabled(){return!this.isBrowserPlatform}isPpeEnabled(){return"GFN"!==this.igoConfig.branding}isNIS2Supported(){return!1}isGraphicsEnabled(){return!1}isGfnBroadcastEnabled(){return!0}isDirectBroadcastEnabled(){return this.isBrowserPlatform}isGalleryEnabled(){return!this.isBrowserPlatform&&this.isCaptureSupported}isSdkGalleryEnabled(){return!this.isBrowserPlatform}isMemeEnabled(){return!this.isBrowserPlatform}isTrimEnabled(){return!this.isBrowserPlatform}isMicrophoneEnabled(){return"GFN"!==this.igoConfig.branding}showPerfLogging(){return"GFN"!==this.igoConfig.branding}isGfnMicrophoneEnabled(){return"GFN"===this.igoConfig.branding?this.systemInfoService.getDeviceType().pipe((0,x.q)(1),(0,P.U)(l=>this.evaluateGfnMicEnablement(l))):(0,n.of)(!1)}isStatisticsEnabled(){var l,i;return!(this.isMobileMode||(this.isGuestAppFlow?null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i||!i.isInGameStatisticsEnabled:"GFN"!==this.igoConfig.branding))}isGamepadOrientedMode(){return this.tvMode&&"GFN"===this.igoConfig.branding}isTVMode(){return this.tvMode&&"GFN"===this.igoConfig.branding}isVirtualKeyboardEnabled(){return this.isVirtualKbEnabled&&"GFN"===this.igoConfig.branding}isSystemEnabled(){return this.systemInfoService.getDeviceOSType().pipe((0,x.q)(1),(0,P.U)(l=>{const i=l===o.wi.Windows,Y=l===o.wi.MacOS;return this.isBrowserPlatform?i||l===o.wi.ChromeOS||Y||l===o.wi.XBox:i||Y}))}isControlUGCEnabled(){return!this.isBrowserPlatform&&"GFN"===this.igoConfig.branding}isConnectionStatusEnabled(){return"GFN"===this.igoConfig.branding}isKeyboardMouseGamesAllowed(){var l,i;return"GFN"!==this.igoConfig.branding||(null===(i=null===(l=this.appConfig)||void 0===l?void 0:l.client)||void 0===i?void 0:i.supportsKeyboardMouseGames)}isInputControlHintsEnabled(){return this.inputHintsEnabled&&"GFN"===this.igoConfig.branding}isGfnBrowserDevMode(){return"GFN"===this.igoConfig.branding&&this.isBrowserPlatform&&this.browserSupportService.isStagingOrDevDomain()}isNvKeyboardSupported(){return this.nvKeyboardSupported&&"GFN"===this.igoConfig.branding}isClientImeEnabled(){return this.clientImeEnabled&&"GFN"===this.igoConfig.branding}isGamepadLSControlUsed(){return this.useGamepadLSControl&&"GFN"===this.igoConfig.branding}isConsoleHotKeyNotificationCombination(){return this.consoleHotkeyNotification&&"GFN"===this.igoConfig.branding}isGfnMobileMode(){return this.isMobileMode&&"GFN"===this.igoConfig.branding}areShortcutsOveridden(){var l,i;return!!this.isGuestAppFlow&&!(null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i||!i.shortcutControls)}getHotkeyShortcutsOverrides(){var l,i;return null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.shortcutControls}showTitle(){return!this.isGuestAppFlow}showFeedbackSetting(){return!this.isGuestAppFlow}showLinks(){return!this.isGuestAppFlow}isGameplaySupported(){return!this.isGuestAppFlow}showTimeLeftMessage(){return!this.isGuestAppFlow}getOverriddenMicPosition(){var l,i,O;return null!==(O=null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.micIconPosition)&&void 0!==O?O:null}getOverriddenNetworkStatusIconPosition(){var l,i,O;return null!==(O=null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.networkStatusIndicatorPosition)&&void 0!==O?O:null}getOverriddenStatisticsPosition(){var l,i,O;return null!==(O=null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.statisticsPosition)&&void 0!==O?O:null}getIgoOverrideSettings(){var l;return this.isGuestAppFlow?null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings:null}isVirtualControllerSupported(){var l,i,O;let Y;return this.isGuestAppFlowWrapper()?(Y=!1,Y=this.isVirtualControllerEnabled&&(null!==(O=null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.virtualGamepad)&&void 0!==O?O:Y)):Y=this.isVirtualControllerEnabled,Y}isVirtualKeyboardOnMobileSupported(){var l,i,O;let Y=!0;return this.isGuestAppFlowWrapper()&&(Y=null!==(O=null===(i=null===(l=this.guestModeConfig)||void 0===l?void 0:l.igoSettings)||void 0===i?void 0:i.virtualKeyboard)&&void 0!==O?O:Y),Y}isGuestAppFlowWrapper(){var l;return null===(l=this.guestModeHelperService)||void 0===l?void 0:l.isGuestAppFlow()}isGFEMode(){return"GFN"!==this.igoConfig.branding}isRunTimeMaxBitRateConfigSupported(){return o.ng.isNativeLikePlatform()||this.isBrowserPlatform&&!this.isMobileMode}isRunTimeVSYNCConfigSupported(){return!o.ng.isBrowserPlatform()}isRunTimeAdjustPoorNetworkToggleSupported(){return o.ng.isNativeLikePlatform()||this.isBrowserPlatform&&!this.isMobileMode}isPerfOverlayEnabled(){return this.isGFEMode()}isRectOptimizationEnabled(){return!1}isReflexAnalyzerEnabled(){return this.isPerfOverlayEnabled()}}return s.\u0275fac=function(l){return new(l||s)(C.LFG(o.ed),C.LFG(C.zs3),C.LFG(o.dF),C.LFG(A.g),C.LFG(o.Ob),C.LFG(d.OA),C.LFG(m.Ow))},s.\u0275prov=C.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},71136:(Ge,ae,e)=>{"use strict";e.d(ae,{In:()=>z,Kk:()=>F,SX:()=>J});var t=e(74266),n=e(89258),x=e(2629),M=e(99636),L=e(94751),p=e(33932),P=e(71265),a=e(64710),o=e(21361),v=e(39103),y=e(54081),C=e(42423),A=e(17564),d=e(77779),m=e(97483),S=e(18406),s=e(96671),r=e(23815),l=e(47504),i=e(42930),O=e(50017),T=e(45908),B=e(32016),K=e(70494),b=e(59717),f=e(39609),D=e(35880),I=e(66134),w=e(20546),_=e(39323),$=e(90393),G=(()=>{return(Z=G||(G={}))[Z.MIN_COMPACT_ICON_DURATION=1e3]="MIN_COMPACT_ICON_DURATION",Z[Z.MIN_EXPANDED_NETWORK_MESSAGE_DURATION=6e3]="MIN_EXPANDED_NETWORK_MESSAGE_DURATION",G;var Z})(),F=(()=>{return(Z=F||(F={}))[Z.RECORD_SPECIAL_CASE_NONE=0]="RECORD_SPECIAL_CASE_NONE",Z[Z.RECORD_SPECIAL_CASE_4K=1]="RECORD_SPECIAL_CASE_4K",Z[Z.RECORD_SPECIAL_CASE_PLAYTEST=2]="RECORD_SPECIAL_CASE_PLAYTEST",F;var Z})(),J=(()=>{return(Z=J||(J={}))[Z.NORMAL=0]="NORMAL",Z[Z.WARNING=1]="WARNING",Z[Z.ALERT=2]="ALERT",J;var Z})();let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe){this.injector=u,this.igoConfig=k,this.featureSupportService=W,this.browserSupportService=N,this.oscDisplayService=H,this.projectInterfaceService=h,this.loggingService=E,this.bridgeService=ee,this.hotkeyService=R,this.hotkeyShareService=q,this.microphoneService=ne,this.notifierService=_e,this.clientInputService=U,this.dbService=re,this.systemInfoService=pe,this.streamingEndTime=-1,this.appTitle="",this.appInstanceId="",this.currentGameProfileName="",this.gfnEnabled=!1,this.imeEnabled=!1,this.throttleMs=333,this.isGfnMicEnabled=!1,this.hdrStreamingStatus=!1,this.$disableRecordSpecialCase=new S.X(F.RECORD_SPECIAL_CASE_NONE),this.$gpuFriendlyName=new S.X(""),this.$streamingTerminated=new s.xQ,this.$networkState=new S.X(J.NORMAL),this.subscriptions=[],this.networkStatusInit=!1,this.globalStore=null,this.igoNotifications="IgoNotifications",this.netWorkNotificationEnabled=!1,this.getGameHdrSupportInfo=new s.xQ,this.micIconStatus=new S.X(!1),this.logger=this.loggingService.getLogger("GfnInfoService"),this.globalStore=this.dbService.getGlobalStore(this.igoNotifications)}init(){this.logger.info("GfnInfo service init"),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled&&(this.streamerConfigService=this.injector.get(d.o),this.streamingProfileService=this.injector.get(m.GKb),this.playtestLiveService=this.injector.get(m.Q0y),this.cloudVariableHelperService=this.injector.get(m.$lO),this.streamingService=this.injector.get(C.FW),this.streamingService.streamingEvent$.pipe((0,t.h)(u=>u.event===C.V4.SESSION_SETUP_SUCCESS)).subscribe(u=>{this.onSessionSetupSuccess(u),this.onGetGpuName(u),this.onGetGameName()}),this.streamingService.streamingEvent$.pipe((0,t.h)(u=>u.event===C.V4.STREAMING_CLIENT_MESSAGE)).subscribe(u=>{this.processStreamingClientMessage(u)}),this.streamingService.streamingEvent$.pipe((0,t.h)(u=>u.event===C.V4.STREAMING_BEGIN)).subscribe(()=>{this.appTitle=this.streamingService.streamingParams.appName,this.streamingEndTime=-1,this.getHDRGameSupportInfo()}),this.streamingService.streamingEvent$.pipe((0,t.h)(u=>u.event===C.V4.STREAMING_BEGIN||u.event===C.V4.STOP_RESULT||u.event===C.V4.STREAMING_TERMINATED),(0,n.U)(u=>(this.logger.info("Microphone Icon Status update ",u.event),u.event===C.V4.STREAMING_BEGIN?this.micIconStatus.next(!0):(u.event===C.V4.STOP_RESULT||u.event===C.V4.STREAMING_TERMINATED)&&this.micIconStatus.next(!1),!0))).subscribe(),this.feedbackService=this.injector.get(y.TB),this.surveyService=this.injector.get(m.FR5),this.nesUserInfoService=this.injector.get(m.fIQ),this.gfcHelperService=this.injector.get(m.dgl),this.lcarsService=this.injector.get(m.zcQ),this.appConfig=this.injector.get(m.VKt),a.ng.isBrowserPlatform()&&this.gfcHelperService.getAppInstanceId().subscribe(u=>{this.appInstanceId=u}),this.featureSupportService.isGfnMicrophoneEnabled().pipe((0,x.q)(1)).subscribe(u=>{this.isGfnMicEnabled=u,u&&(this.hotkeyService.listen(B.sW.MicToggle).pipe((0,M.p)(this.throttleMs),(0,L.M)(this.microphoneService.currentMicState$)).subscribe(([k,W])=>{W!==v.tn.PermissionPending&&W!==v.tn.PermissionDenied&&this.microphoneService.toggleMicrophone()}),this.streamingService.streamingEvent$.pipe((0,t.h)(k=>k.event===C.V4.STREAMING_BEGIN)).subscribe(()=>{this.microphoneService.start(this.streamingService.streamingProperties.sessionId,this.streamingService.streamingProperties.subSessionId)}))}),this.streamingService.streamingEvent$.pipe((0,t.h)(u=>u.event===C.V4.STREAMING_TERMINATED||u.event===C.V4.STOP_RESULT)).subscribe(()=>{this.isGfnMicEnabled&&this.microphoneService.stop(),this.$gpuFriendlyName.next(""),this.$streamingTerminated.next(!0),this.$networkState.next(J.NORMAL),this.networkNotificationSubscription&&(this.networkNotificationSubscription.unsubscribe(),this.networkNotificationSubscription=void 0)}),this.idmService=this.injector.get(m.No2),this.idmService.accountStatusChanged.subscribe(u=>{this.feedbackService.onAccountStatusChanged({userId:u.userId,externalUserId:u.externalId,idpId:u.idpId,isAuthenticated:u.isAuthenticated})}),this.gfnEnabled=!0,this.projectInterfaceService.triggerQuitStreaming.subscribe(u=>{u&&this.quitStreaming()}),this.clientInputService.isImeEnabled$.subscribe(u=>{this.logger.info("Checking ClientIME enablement value ",u),this.imeEnabled=u,this.imeEnabled?(this.hotkeyShareService.removeFromHotkeyIgnoreList(B.sW.NativeKeyboardInputDialog),this.hotkeyService.startListeningToHotkey(B.sW.NativeKeyboardInputDialog).subscribe()):this.hotkeyService.stopListeningToHotkey(B.sW.NativeKeyboardInputDialog)},u=>{this.logger.info("Error getting ClientIME enablement value, defaulting to false",u),this.hotkeyService.stopListeningToHotkey(B.sW.NativeKeyboardInputDialog),this.imeEnabled=!1}),this.releaseHighlights=this.injector.get(m.NS5),this.networkConfigurationService=this.injector.get(m.XS0),this.networkBarsUiService=this.injector.get(A.H9),this.settingsService=this.injector.get(m.gbG),this.networkConfigurationService.getNetworkOverride().subscribe(u=>{null!=u&&(this.currentServer1={server:u.name})}),this.networkConfigurationService.getCurrentCachedZone().subscribe(u=>{null!=u&&(this.currentServer2={server:u.name})}),a.ng.isBrowserPlatform()||this.registerHDRStreamingStatusNotification()),"GFN"===this.igoConfig.branding&&(this.experienceControlService=this.injector.get(K.Q6),this.experienceControlService.batchCvsFetchedStatus$.pipe((0,x.q)(1),(0,p.zg)(u=>u?this.isIgssEnabledInConfig():(0,r.of)(!0))).subscribe())}getstreamerConfig(){return this.streamerConfigService.activeConfig}updateSessionLengthTime(u){var k;const W=null===(k=null==u?void 0:u.message)||void 0===k?void 0:k.timerData;W&&W.beforeEventMS?this.streamingEndTime=Date.now()+W.beforeEventMS:this.logger.error("Missing timerData params:",JSON.stringify(W))}processStreamingClientMessage(u){var k;(null===(k=null==u?void 0:u.message)||void 0===k?void 0:k.messageType)===m.wMv.sessionLengthTimer&&this.updateSessionLengthTime(u)}getStreamingEndTime(){return this.streamingEndTime}getStreamingTitle(){return this.appTitle}quitGfnStreaming(){this.gfnEnabled&&(this.oscDisplayService.closeOSC(T.Y.QuitGath),this.quitStreaming())}quitStreaming(){this.projectInterfaceService.exitStreamerCallBack().pipe((0,x.q)(1)).subscribe(()=>this.oscDisplayService.gfnQuitting())}exitFullScreen(){this.browserSupportService.exitFullscreen()}sendFeeback(u){if(this.feedbackService.setUpToastContainer(u),!this.gfnEnabled)return;const k=()=>this.streamerConfigService.config$.pipe((0,p.zg)(H=>this.surveyService.getAvailableSurvey([O.TriggerType.Feedback],`${H.cmsId}`,this.streamingService.streamingProperties.sessionId))),W=()=>this.surveyService.isSurveyFeatureAvailable([O.TriggerType.Feedback]),N=()=>this.surveyService.surveyEventListenerCloseDialog(O.TriggerType.Feedback);this.nesUserInfoService.fetchUserInfoWithStreamingUrl().pipe((0,p.zg)(H=>this.feedbackService.initializeFeedback(H.serviceEndpoint.loginProvider,k,W,this.appInstanceId)),(0,t.h)(H=>H),(0,x.q)(1)).subscribe(()=>{this.feedbackService.onOpenFeedbackDialog(N)})}getAppMetadataUsingCmsId(u){return this.lcarsService.getMetadataByCmsId(u)}getAppMetaDataUsingParentId(u){return this.lcarsService.getAppdata(u).pipe((0,n.U)(k=>k[0]))}getRecordSpecialCase(){return this.$disableRecordSpecialCase.asObservable()}onSessionSetupSuccess(u){if(this.logger.info("OnSessionSetupSuccess EventInfo: ",u),this.hasWarningBeenShown=this.hasAlertBeenShown=this.ignoreQScore=!1,this.getNetworkNotificationStateFromMall(),this.networkStatusInit||(this.networkStatusInit=!0,this.networkStatus()),!this.featureSupportService.isControlUGCEnabled()||!this.igoConfig.ControlUGCEnabled)return void this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE);const k=u.streamSettings[0].videoSettings.resolution.width,W=u.streamSettings[0].videoSettings.resolution.height,N=u.streamSettings[0].videoSettings.frameRate,H=4953600,h=k*W;this.logger.info("videoSettings.resolution.width : ",k),this.logger.info("videoSettings.resolution.height: ",W),this.playtestLiveService.disableClientRecord()?(this.logger.info("SpecialCase: PLAYTEST"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_PLAYTEST)):h>=H&&N>=120||N>=240?(this.logger.info("Streaming at 4K like resolution with fps >= 120"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K)):h>=H?(this.logger.info("Streaming at 4K, check if transcode to 1440p is supported for record"),this.bridgeService.executeCommand(o.Gh.Share.Shareserver.GetIf4KRecordingFallbackAvailable).subscribe(E=>{this.logger.info("GetIf4KRecordingFallbackAvailable result:",E),E?(this.logger.info("SpecialCase: NONE"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE)):(this.logger.info("SpecialCase: 4K"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K))},E=>{this.logger.error("GetIf4KRecordingFallbackAvailable error:",E),this.logger.info("SpecialCase: 4K"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_4K)})):(this.logger.info("SpecialCase: NONE"),this.$disableRecordSpecialCase.next(F.RECORD_SPECIAL_CASE_NONE))}getGpuName(){return this.$gpuFriendlyName.asObservable()}onGetGpuName(u){this.$gpuFriendlyName.next(u.gpuType)}streamingTerminated(){return this.$streamingTerminated.asObservable()}onGetGameName(){const u=this.bridgeService.executeCommand(o.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,t.h)(k=>!(null==k||!k.appStarted))).subscribe(k=>{this.currentGameProfileName=k.appStarted.profileName,u.unsubscribe()})}showReleaseHighlight(u){this.releaseHighlights.onShowReleaseHighlight(!1,u,"0")}getCurrentServer(){const u=null==this.currentServer1;return u&&null==this.currentServer2?{server:"Auto"}:u?this.currentServer2:this.currentServer1}networkStatus(){const u=(0,l.aj)([this.networkBarsUiService.qualityInfo$,this.systemInfoService.getDeviceType().pipe((0,x.q)(1))]).pipe((0,t.h)(()=>!this.ignoreQScore),(0,P.b)(()=>{this.ignoreQScore=!0})).subscribe(([k,W])=>{let N=!1;if(this.netWorkNotificationEnabled)if(this.isQosUnderThreshold(k.streamQuality))if(k.streamQuality>this.appConfig.networkIndicators.alertThreshold){const H=!(this.hasWarningBeenShown||this.hasAlertBeenShown),h="notification.network.spottyConnection";this.hasWarningBeenShown=!0,H?(N=!1,this.notifierService.show(b.ZJ.NetworkSpottyConnection,h)):(N=!0,this.$networkState.next(J.WARNING))}else{if(this.hasAlertBeenShown)N=!0,this.$networkState.next(J.ALERT);else{N=!1;const h=W===a.z7.Phone?b.Ru.Message1:this.featureSupportService.isGuestAppFlowWrapper()?b.Ru.Message2:b.Ru.None;this.notifierService.show(b.ZJ.NetworkBadConnection,"","","","",{useAlternativeMessage:h})}this.hasAlertBeenShown=!0}else this.$networkState.next(J.NORMAL);else N=!1;this.delayTimer(N)});this.subscriptions.push(u)}getHDRSupportInfo(){return this.getGameHdrSupportInfo.asObservable()}getHDRGameSupportInfo(){const u=this.getstreamerConfig().cmsId;let k;k=u?this.getAppMetadataUsingCmsId(u):this.getAppMetaDataUsingParentId(this.streamerConfigService.activeConfig.parentGameId),k.pipe((0,n.U)(W=>{const H=W.variants.some(h=>this.lcarsService.isFeatureSupportedOnVariant(h,m.xAh[m.xAh.HDR_ENABLED]));this.getGameHdrSupportInfo.next(H)})).subscribe()}getIsHDrFeatureAvailable(){return this.streamingProfileService.isFeatureAvailableToUser(m.xAh.HDR_ENABLED,m.$cB.SUPPORT_HDR)}getResolutionLabel(u,k){return this.streamingProfileService.getResolutionLabel(u,k)}getHDRStreamingStatus(){return this.hdrStreamingStatus}isPlatformSupportsHDRDecode(){return this.streamingProfileService.IsPlatformSupportsHDRDecode}getFormattedAspectRatio(u,k){return this.streamingProfileService.calculateAspectRatio(u,k)}getNetworkNotificationStateFromMall(){var u;this.networkNotificationSubscription=null===(u=this.settingsService)||void 0===u?void 0:u.networkWarningsEnabled$.subscribe(k=>{this.netWorkNotificationEnabled=k,this.globalStore.setItem("noteConnectionStatus",k).pipe((0,x.q)(1)).subscribe(()=>{this.logger.info("Network Notification enabled: ",k)},W=>{this.logger.error(`Unable to set noteConnectionStatus in store ${this.igoNotifications}`,W)})})}getNetworkWarningsEnabledState(){var u,k;return null!==(k=null===(u=this.settingsService)||void 0===u?void 0:u.networkWarningsEnabled$)&&void 0!==k?k:(0,r.of)(!1)}getNetworkState(){return this.$networkState.asObservable()}delayTimer(u){const W=(0,i.H)(u?G.MIN_COMPACT_ICON_DURATION:G.MIN_EXPANDED_NETWORK_MESSAGE_DURATION).subscribe(()=>{this.ignoreQScore=!1});this.subscriptions.push(W)}isQosUnderThreshold(u){return u<=this.appConfig.networkIndicators.warningThreshold}registerHDRStreamingStatusNotification(){this.bridgeService.executeCommand(o.Gh.Gfn.Streaming.RegisterHDRStreamingStatusNotification).subscribe(u=>{this.hdrStreamingStatus=u,this.logger.info("registerHDRStreamingStatusNotification: HDR streaming status: ",u)},u=>{this.logger.error("registerHDRStreamingStatusNotification error:",u)})}isIgssEnabledInConfig(){return a.ng.isNativeLikePlatform()?(0,r.of)(!0):this.cloudVariableHelperService.getFeatureToggle(m._P4.ENABLE_BROWSER_IGSS).pipe((0,x.q)(1))}showMicIcon(){return this.micIconStatus.asObservable()}}return Z.\u0275fac=function(u){return new(u||Z)(f.LFG(f.zs3),f.LFG(D.g),f.LFG(I.l),f.LFG(T.OA),f.LFG(w.v),f.LFG(v.m3),f.LFG(a.ed),f.LFG(a.dF),f.LFG(B.y1),f.LFG(_.q),f.LFG(v.pJ),f.LFG(b.nG),f.LFG($.S),f.LFG(a.MC),f.LFG(a.Ob))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},72701:(Ge,ae,e)=>{"use strict";e.d(ae,{M:()=>L});var t=e(64710),n=e(22402),x=e(39609),M=e(97483);let L=(()=>{class p{constructor(a){this.guestModeHelperService=a}get(a){const o=a===t.wi.MacOS?n.u3:n.vq;if(this.guestModeHelperService.isGuestAppFlow()){const v=a===t.wi.MacOS?n.kf:n.wl;null==v||v.forEach((y,C)=>{void 0!==o.get(C)&&o.set(C,y)})}return o}}return p.\u0275fac=function(a){return new(a||p)(x.LFG(M.hTr))},p.\u0275prov=x.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},70372:(Ge,ae,e)=>{"use strict";e.d(ae,{i:()=>S});var t=e(85566),x=e(96671),M=e(23815),L=e(89258),p=e(33932),P=e(82374),a=e(22402),o=e(32016),v=e(44684),y=e(39609),C=e(64710),A=e(39103),d=e(39323),m=e(72701);let S=(()=>{class s{constructor(l,i,O,Y,T){this.dbCacheService=l,this.projectInterfaceService=i,this.hotkeyShareService=Y,this.hotkeyDefaultMappingService=T,this.isHotKeyMappingInitialized$=new x.xQ,this.areHotkeysOverridden=!1,this.logger=O.getLogger("HotkeyMonitoringService"),this.inMemoryHotkeyMapping=new Map,this.igoShortcutsDb=this.dbCacheService.getOrCreateCachedGlobalItem(a.Vi,a.Sk.Shortcuts)}initHotkeyMapping(l,i){this.defaultHotkeyMapping=this.hotkeyDefaultMappingService.get(i),this.areHotkeysOverridden=!!l&&0!==(null==l?void 0:l.size),this.logger.info("Init hotkey mapping"),this.projectInterfaceService.setShortcutCheckCallBacks(this.checkIfShortcutIsPresent.bind(this)),0===this.inMemoryHotkeyMapping.size&&this.initializeHotkeyMemory(l),this.isHotKeyMappingInitialized$.next(!0),this.isHotKeyMappingInitialized$.complete()}get ignoreList(){return this.hotkeyShareService.hotkeyIgnoreList}initializeHotkeyMemory(l){this.igoShortcutsDb.sync_().pipe((0,L.U)(i=>{if(!this.cacheExists())return this.resetToDefault();{let O=0;if(this.logger.info("igoDb Cache exists"),this.defaultHotkeyMapping.forEach((Y,T)=>{void 0!==this.igoShortcutsDb[T]?this.inMemoryHotkeyMapping.set(T,this.igoShortcutsDb[T]):this.updateCacheAndMemory(T,Y),O++}),O===this.defaultHotkeyMapping.size)return this.logger.info("All hotkeys written in memory/db."),(0,M.of)(!0)}})).subscribe(i=>{this.areHotkeysOverridden&&this.initMemoryWithOverriddenHotkeys(l)})}initMemoryWithOverriddenHotkeys(l){this.logger.info("Overrides found, only write in memory."),this.overriddenHotkeysList=new Map(l),l.forEach((i,O)=>{(0,v.m)(i,this.defaultHotkeyMapping.get(O))||void 0===this.igoShortcutsDb[O]||(0,v.m)(i,this.igoShortcutsDb[O])?(0,v.m)(i,this.defaultHotkeyMapping.get(O))||this.inMemoryHotkeyMapping.set(O,i):(0,v.m)(this.defaultHotkeyMapping.get(O),this.igoShortcutsDb[O])?this.inMemoryHotkeyMapping.set(O,i):this.inMemoryHotkeyMapping.set(O,this.igoShortcutsDb[O])}),this.logger.info("Write in memory completed")}cacheExists(){return void 0!==this.igoShortcutsDb[o.sW.OpenIGO]}updateHotkeyMapping(l,i){this.inMemoryHotkeyMapping.set(l,i)}checkIfShortcutIsPresent(l){let i=null;const O=l.slice().sort();return this.logger.info("Check if shortcut is present"),this.defaultHotkeyMapping.forEach((Y,T)=>{const B=Y.slice().sort();if(!this.ignoreList.includes(T))if(this.inMemoryHotkeyMapping.has(T)&&void 0!==this.inMemoryHotkeyMapping.get(T)){this.logger.info("Hotkey already in memory: ",this.inMemoryHotkeyMapping.get(T));const K=this.inMemoryHotkeyMapping.get(T).slice().sort();(0,t.isEqual)(K,O)&&(i=l)}else this.updateCacheAndMemory(T,B),(0,t.isEqual)(B,O)&&(i=l)}),i?(this.logger.info("Key combo is defined",i),i):[]}updateCacheAndMemory(l,i){this.igoShortcutsDb.sync_().pipe((0,p.zg)(()=>(this.igoShortcutsDb[l]=i,this.inMemoryHotkeyMapping.set(l,i),this.igoShortcutsDb.persist_()))).subscribe()}resetToDefault(){return this.resetToDefaultObs$()}resetToDefaultObs$(){return this.igoShortcutsDb.sync_().pipe((0,P.j)(l=>this.isHotKeyMappingInitialized$),(0,p.zg)(()=>(this.logger.info("Resetting to defaults"),this.defaultHotkeyMapping.forEach((l,i)=>{this.areHotkeysOverridden?(this.igoShortcutsDb[i]=this.overriddenHotkeysList.get(i),this.inMemoryHotkeyMapping.set(i,this.overriddenHotkeysList.get(i))):(this.igoShortcutsDb[i]=l,this.inMemoryHotkeyMapping.set(i,l))}),this.igoShortcutsDb.persist_())))}}return s.\u0275fac=function(l){return new(l||s)(y.LFG(C.LA),y.LFG(A.m3),y.LFG(C.ed),y.LFG(d.q),y.LFG(m.M))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},32016:(Ge,ae,e)=>{"use strict";e.d(ae,{sW:()=>B,z9:()=>K,y1:()=>b});var t=e(96671),n=e(45661),x=e(23815),M=e(74266),L=e(89258),p=e(33932),P=e(51325),a=e(2629),o=e(4042),v=e(71265),y=e(64710),C=e(21361),A=e(85566);class d{constructor(D){this.osrName=D}}const S={CMD:new d("cmd"),N0:new d("0"),ALT:new d("alt"),TAB:new d("tab"),CTRL:new d("ctrl")};var s=e(41221),r=e(39609);let l=(()=>{class f{constructor(I,w,_){this.bridgeService=w,this.systemInfoService=_,this.keyPressCallback$=new t.xQ,this.keyBindings=new Map,this.platformUniqueKeys=new Map,this.logger=I.getLogger("gfn/KeybindingService"),this.setPlatformUniqueKeys(),this.init()}registerKeyBinding(I,w){if(0===I.length)throw Error("Key combination cannot have length 0");for(const $ of I)if(this.platformUniqueKeys.has($)&&!this.platformUniqueKeys.get($).includes(w))throw Error(`Key ${$.osrName} is not supported by current platform`);const _=this.generateKeyBindingName(I);if(this.keyBindings.has(_))throw Error("Key combination already exists in keyBindings");return this.keyBindings.set(_,I),this.osrRegisterCustomKeyPress(_,_).subscribe(s.Z,$=>{this.logger.error(`Failed to register ${_} with error`,$)}),new f.KeyBindImpl(_,this,this.keyPressCallback$.pipe((0,M.h)($=>$===_)))}unregisterKeyBinding(I){if(!this.keyBindings.has(I))throw Error(`Key binding ${I} does not exist and cannot be unregisterd.`);this.keyBindings.delete(I),this.osrUnregisterCustomKeyPress(I).subscribe(s.Z,w=>{this.logger.error(`Failed to unregister ${I} with error`,w)})}generateKeyBindingName(I){return(0,A.map)(I,"osrName").join("-")}init(){this.registerKeybindingCallback()}setPlatformUniqueKeys(){this.platformUniqueKeys.set(S.CMD,[y.wi.MacOS])}registerKeybindingCallback(){this.logger.info("osrRegisterKeyPressCallback"),this.systemInfoService.getDeviceOSType().pipe((0,p.zg)(I=>this.bridgeService.executeCommand(C.Gh.Gfn.Streaming.OsrRegisterKeyPressCallback,{osType:I}))).subscribe(I=>{if(null!==I){const w=I.toString();this.checkIfKeyBindingIsPresent(w)?this.logger.info("Keybinding is present ",w):this.logger.error("Unhandled custom keypress event type: ",w)}else this.logger.error("null custom keypress event: ",I)},I=>{this.logger.error("osrRegisterKeyPressCallback callback failure",I)})}checkIfKeyBindingIsPresent(I){var w;let _=!1;const $=I.split("-").slice().sort(),G=Array.from(null===(w=this.keyBindings)||void 0===w?void 0:w.keys());return null==G||G.forEach(F=>{const J=null==F?void 0:F.split("-").slice().sort();(0,A.isEqual)($,J)&&(_=!0,this.keyPressCallback$.next(F),this.logger.info("keyPressCallback$ is updated with ",F))}),_}osrRegisterCustomKeyPress(I,w){return this.logger.info("osrRegisterCustomKeyPress",I,w),this.bridgeService.executeCommand(C.Gh.Gfn.Streaming.OsrRegisterCustomKeyPress,{name:I,keyCombination:w})}osrUnregisterCustomKeyPress(I){return this.logger.info("osrUnregisterCustomKeyPress",I),this.bridgeService.executeCommand(C.Gh.Gfn.Streaming.OsrUnregisterCustomKeyPress,{keyCombination:I})}}return f.KeyBindImpl=class{constructor(D,I,w){this.keyBindingName=D,this.parent=I,this.keyPressed$=new t.xQ,w.subscribe(this.keyPressed$)}get onKeyPressed$(){return this.keyPressed$.asObservable()}unregister(){this.parent.unregisterKeyBinding(this.keyBindingName),this.keyPressed$.complete()}},f.\u0275fac=function(I){return new(I||f)(r.LFG(y.ed),r.LFG(y.dF),r.LFG(y.Ob))},f.\u0275prov=r.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var i=e(99385),O=e(35880),Y=e(39323),T=e(72701),B=C.Yk.Share.Shareserver.HotkeyEnum,K=(()=>{return(f=K||(K={})).Valid="Valid",f.Invalid="Invalid",f.InUse="InUse",f.Error="Error",K;var f})();let b=(()=>{class f{constructor(I,w,_,$,G,F,J,z){this.loggingService=I,this.bridgeService=w,this.igoConfig=_,this.injector=$,this.hotkeyShareService=G,this.hotKeyHelper=F,this.systemInfoService=J,this.hotkeyDefaultMappingService=z,this.hkCallback$=new t.xQ,this.hkPTTCallback$=new t.xQ,this.hotkeyList={},this.gfnHotkeyMappings={},this.keybindingService=null,this.streamerManagerService=null,this.blockHotkeys=!1,this.logger=this.loggingService.getLogger("HotkeyService")}listen(I){return this.hkCallback$.pipe((0,M.h)(w=>w===I))}listenPTT(){return this.hkPTTCallback$.asObservable()}init(){this.logger.info("Hotkey service init"),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled&&(this.keybindingService=this.injector.get(l),this.streamerManagerService=this.injector.get(i.bF)),this.getAllHotkeys(),this.bridgeService.executeCommand(C.Gh.Share.Shareserver.RegisterHotkeyNotifications).subscribe(I=>this.hotkeyEvent(I))}get ignoreList(){return this.hotkeyShareService.hotkeyIgnoreList}hotkeyEvent(I){null===I||(this.logger.info("Hotkey: ",I),this.blockHotkeys||void 0===I.hotkey)||("PTT"===I.hotkey?this.hkPTTCallback$.next("Down"===I.state):this.hkCallback$.next(I.hotkey))}getAllHotkeys(){const I=Object.keys(B).map(_=>B[_]),w=[];I.forEach(_=>{const $=B[_];w.push(this.getHotkeyNum($).pipe((0,L.U)(G=>(this.logger.info(`Hot key mapping for ${$} :`,G),this.hotkeyList[$]=G,!0))))}),(0,n.D)(w).subscribe(()=>{I.forEach(_=>{const $=B[_];this.keybindingService&&this.hotkeyList[$]&&this.hotkeyList[$].length>0&&this.registerGfnHotkey($,this.hotkeyList[$])})})}getHotkeyNum(I){return this.hotkeyList[I]?(0,x.of)(this.hotkeyList[I]):this.bridgeService.executeCommand(C.Gh.Share.Shareserver.GetHotkeyShortcut,{hotkey:I}).pipe((0,L.U)(w=>w.keys))}getHotkeyString(I){return this.hotkeyList[I]?(0,x.of)(this.hotKeyHelper.shortcutToString(this.hotkeyList[I])):this.getHotkeyNum(I).pipe((0,L.U)(w=>this.hotKeyHelper.shortcutToString(w)))}setHotkeyString(I,w){return this.checkIfValidGfnHotkey(w).pipe((0,p.zg)(_=>_?this.bridgeService.executeCommand(C.Gh.Share.Shareserver.SetHotkeyShortcut,{hotkey:I,keys:w}):(0,x.of)({_return_internal:C.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg})),(0,L.U)(_=>_._return_internal===C.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Success_Ok?(this.keybindingService&&(this.gfnHotkeyMappings[I]&&(this.gfnHotkeyMappings[I].unregister(),this.gfnHotkeyMappings[I]=void 0),(1!==w.length||0!==w[0])&&this.registerGfnHotkey(I,w)),this.hotkeyList[I]=w,K.Valid):_._return_internal===C.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_InvalidArg?K.Invalid:_._return_internal===C.Yk.Share.Shareserver.InternalErrorCodeEnum.GXP_Error_HotkeyInUse?K.InUse:(this.logger.info("SetHotkeyShortcut Unhandled result: ",_._return_internal),K.Error)),(0,P.K)(_=>(this.logger.info("SetHotkeyShortcut failed: ",_),(0,x.of)(K.Error))))}checkForDup(I,w){let _=!1;const $=I.slice().sort();return w.forEach(G=>{if(this.hotkeyList[G].length){const F=this.hotkeyList[G].slice().sort();(0,A.isEqual)($,F)&&(_=!0)}}),_}checkIdenticalEntry(I,w){if(!I||!this.hotkeyList[w])return!1;const _=I.slice().sort(),$=this.hotkeyList[w].slice().sort();return(0,A.isEqual)(_,$)}checkIfModifierKey(I){let w=!1;return y.Du.forEach(_=>{_===I&&(w=!0)}),w}checkIfWinKey(I){return 91===I||92===I}checkIfValidGfnHotkey(I){if(!this.keybindingService||!I||0===I.length||1===I.length&&0===I[0])return(0,x.of)(!0);const $=I.map(G=>this.hotKeyHelper.processKey(G).toLowerCase()).map(G=>new d(G)).map(G=>G.osrName).join("-");return this.bridgeService.executeCommand(C.Gh.Gfn.Streaming.OsrCheckKeyPressCombination,{keyCombination:$}).pipe((0,P.K)(G=>(this.logger.info("Check KeyPress Combo err: ",G),(0,x.of)(!0))))}registerGfnHotkey(I,w){if(-1!==this.ignoreList.indexOf(I))return;const G=w.map(F=>this.hotKeyHelper.processKey(F).toLowerCase()).map(F=>new d(F));this.gfnHotkeyMappings[I]&&this.gfnHotkeyMappings[I].unregister(),(1!==w.length||0!==w[0])&&this.systemInfoService.getDeviceOSType().pipe((0,a.q)(1)).subscribe(F=>{this.gfnHotkeyMappings[I]=this.keybindingService.registerKeyBinding(G,F),this.gfnHotkeyMappings[I]&&this.gfnHotkeyMappings[I].onKeyPressed$.subscribe(()=>{this.logger.info("key pressed: ",I),!this.blockHotkeys&&this.streamerManagerService.getCurrentState()===i.$D.Streaming&&this.hkCallback$.next(I)})})}blockAllHotkeys(I){return this.blockHotkeys=I,this.bridgeService.executeCommand(C.Gh.Share.Shareserver.SetHotkeyMonitoring,{enable:!I}).pipe((0,L.U)(w=>(this.logger.info("setHotkeyMonitoring returned: ",w),!0)),(0,P.K)(w=>(this.logger.error("setHotkeyMonitoring failed: ",w),(0,x.of)(!1))))}stopListeningToHotkey(I){this.hotkeyList[I]&&this.hotkeyList[I].length<=0||(this.keybindingService&&this.gfnHotkeyMappings[I]&&(this.gfnHotkeyMappings[I].unregister(),this.gfnHotkeyMappings[I]=void 0),this.ignoreList.push(I))}startListeningToHotkey(I){if(void 0===this.hotkeyList[I]||this.hotkeyList[I].length<=0)return(0,x.of)(!0);const w=this.ignoreList.indexOf(I);return w>=0&&this.ignoreList.splice(w,1),this.keybindingService?this.resolveInnerConflicts(I):(0,x.of)(!0)}resolveInnerConflicts(I){const w=[];return this.systemInfoService.getDeviceOSType().pipe((0,a.q)(1),(0,L.U)(_=>{this.removeMappings(I,w,_),w&&w.length>0&&w.forEach($=>{this.setHotkeyString($,this.hotkeyDefaultMappingService.get(_).get($)).subscribe(G=>{G===K.Valid?this.logger.info("Resolve Conflicts result is: ",G):this.logger.error("Some Error occurred while resolving conflicts")})}),this.registerGfnHotkey(I,this.hotkeyList[I])}),(0,o.h)(!0))}removeMappings(I,w,_){const $=this.findDuplicate(I,w,_);void 0!==$&&(this.gfnHotkeyMappings[$]&&(this.gfnHotkeyMappings[$].unregister(),this.gfnHotkeyMappings[$]=void 0),w.push($),this.removeMappings($,w,_))}findDuplicate(I,w,_){let $;return Object.keys(B).map(F=>B[F]).forEach(F=>{var J;const z=B[F];if(z!==I&&(null===(J=this.hotkeyList[z])||void 0===J?void 0:J.length)>0)if(0===w.length)this.checkIdenticalEntry(this.hotkeyList[z],I)&&($=z);else{const Z=this.hotkeyDefaultMappingService.get(_).get(I);$=Z&&this.checkIdenticalEntry(Z,z)?z:void 0}}),this.logger.info("duplicate hotkey found: ",$),$}resetToDefaults(){return this.logger.info("resetToDefaults"),this.bridgeService.executeCommand(C.Gh.Share.Shareserver.ResetHotkeysToDefault).pipe((0,P.K)(()=>(0,x.of)(!0)),(0,v.b)(()=>{this.hotkeyList={},this.keybindingService&&Object.keys(B).map(w=>B[w]).forEach(w=>{this.gfnHotkeyMappings[w]&&(this.gfnHotkeyMappings[w].unregister(),this.gfnHotkeyMappings[w]=void 0)}),this.getAllHotkeys()}),(0,o.h)(!0))}}return f.\u0275fac=function(I){return new(I||f)(r.LFG(y.ed),r.LFG(y.dF),r.LFG(O.g),r.LFG(r.zs3),r.LFG(Y.q),r.LFG(y.d_),r.LFG(y.Ob),r.LFG(T.M))},f.\u0275prov=r.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},39323:(Ge,ae,e)=>{"use strict";e.d(ae,{q:()=>p});var t=e(21361),n=e(64710),x=e(22402),M=e(39609),L=t.Yk.Share.Shareserver.HotkeyEnum;let p=(()=>{class P{constructor(){this.ignoreList=[L.DVRSave]}addToHotkeyIgnoreList(o){-1===this.ignoreList.indexOf(o)&&this.ignoreList.push(o)}removeFromHotkeyIgnoreList(o){o&&(this.ignoreList=this.ignoreList.filter(v=>v!==o))}get hotkeyIgnoreList(){return this.ignoreList}hotkeyMapping(o){return o===n.wi.MacOS?x.u3:x.vq}}return P.\u0275fac=function(o){return new(o||P)},P.\u0275prov=M.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},14310:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>a});var t=e(96671),n=e(23815),x=e(21361),M=e(71265),L=e(51325),p=e(39609),P=e(64710);let a=(()=>{class o{constructor(y,C){this.loggingService=y,this.bridgeService=C,this.localConfigChangedNotification=new t.xQ,this.logger=this.loggingService.getLogger("IgoPiplLocaleConfigService"),this.registerForlocaleChangeNotification()}getLocaleOverride(){return this.bridgeService.executeCommand(x.Gh.Common.Nvlocalizedconfig.GetLocalizationData)}setServerURL(y){this.serverURL=y}getServerURL(){return this.serverURL}localConfigChangeNotification(){return this.localConfigChangedNotification.asObservable()}registerForlocaleChangeNotification(){this.bridgeService.executeCommand(x.Gh.Common.Nvlocalizedconfig.LocalizationDataChangeNotification).pipe((0,M.b)(y=>{var C,A;this.logger.info("Received Localization Data Change Notification: ",y),(null===(C=null==y?void 0:y.jsEvents)||void 0===C?void 0:C.server)!==this.getServerURL()?this.localConfigChangedNotification.next(y):this.logger.info("Telemetry URL unchanged ",null===(A=null==y?void 0:y.jsEvents)||void 0===A?void 0:A.server)}),(0,L.K)(y=>(this.logger.error("Failed to get overrides",y),(0,n.of)(!1)))).subscribe()}}return o.\u0275fac=function(y){return new(y||o)(p.LFG(P.ed),p.LFG(P.dF))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},33149:(Ge,ae,e)=>{"use strict";e.d(ae,{f:()=>p});var t=e(96671),n=e(39609),x=e(64710),M=e(86329),L=e(16873);let p=(()=>{class P{constructor(o,v,y){this.telemetryHelperService=v,this.router=y,this.disableEscape=!1,this.escapeCallback$=new t.xQ,this.centerPaneCallback$=new t.xQ,this.centerPaneOpened=!1,this.logger=o.getLogger("NavigationService")}escapeEvent(){return this.escapeCallback$.asObservable()}centerPaneClosedEvent(){return this.centerPaneCallback$.asObservable()}navigate(o,v,y){this.disableEscape=!1;const C=Date.now();return y?this.router.navigate(o,v).then(A=>(this.telemetryHelperService.trackNavigation(C,y),A)):this.router.navigate(o,v)}goToNextNavState(){this.disableEscape||(this.centerPaneOpened?this.centerPaneCallback$.next():this.escapeCallback$.next(),this.centerPaneOpened=!1),this.disableEscape=!1}openCenterPane(o){this.centerPaneOpened&&!o&&this.centerPaneCallback$.next(),this.centerPaneOpened=o}disableEscapeEvent(o){this.disableEscape=o}disableCenterPaneCallback(){this.centerPaneOpened=!1}}return P.\u0275fac=function(o){return new(o||P)(n.LFG(x.ed),n.LFG(M.l),n.LFG(L.F0))},P.\u0275prov=n.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},20546:(Ge,ae,e)=>{"use strict";e.d(ae,{v:()=>z});var t=e(16873),n=e(18406),x=e(59562),M=e(23815),L=e(47504),p=e(50608),P=e(42520),a=e(4042),o=e(51325),v=e(2629),y=e(13800),C=e(74266),A=e(71265),d=e(28181),m=e(33932),S=e(64710),s=e(21361),r=e(95914),l=e(11688),i=e(32016),O=e(59717),Y=e(6083),T=e(91388),B=e(99385),K=e(45908),b=e(39609),f=e(66134),D=e(89838),I=e(35880),w=e(86329),_=e(33149),$=e(39536),G=e(76549),F=e(39103),J=e(90393);let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R,q,ne,_e,U,re,pe,Pe,Te){this.featureSupportService=u,this.hotkeyService=k,this.notifierService=W,this.loggingService=N,this.bridgeService=H,this.osdService=h,this.injector=E,this.igoConfig=ee,this.telemetry=R,this.navigationService=q,this.dialog=ne,this.snackBar=_e,this.browserSupportService=U,this.projectInterfaceService=re,this.gamepadService=pe,this.clientInputService=Pe,this.systemInfoService=Te,this.transitioning=!1,this.openNoInput=0,this.openWithInput=!1,this.needToOpen=!1,this.paintingAllowed=!0,this.lastActiveWindow=null,this.inDesktopMode=null,this.inFakeFSMode=null,this.inGamepadOrientedMode=null,this.isGfnBrowserDevMode=null,this.isGfnMobileMode=null,this.appInFocus=null,this.needTransitionWorkaround=!1,this.pathSegments=[],this.startingState="sidebar/main-menu",this.startingStateName=Y.wB.mainMenu,this.osrHandler=null,this.applicationLifetime=null,this.quitShownHandle=null,this.isXboxHotkeyNotification=!1,this.currentOpenState$=new n.X("closed"),this.currentDesktopMode$=new n.X("desktop"),this.showUI$=new n.X(!0),this.gfnStreamerService=null,this.storeDelayedState=void 0,this.osdDisplayRect=[],this.notificationDisplayRect=[],this.hideSidebar=!1,this.sideBarVisible$=new x.t(1),this.streamerState$=new n.X(void 0),this.logger=this.loggingService.getLogger("OscDisplayService"),this.inGamepadOrientedMode=u.isGamepadOrientedMode(),this.isGfnBrowserDevMode=u.isGfnBrowserDevMode(),this.isGfnMobileMode=u.isGfnMobileMode(),ee.Path&&(this.pathSegments=ee.Path.split("/"))}getCurrentOpenStateImmediate(){return this.currentOpenState$.value}getCurrentOpenState(){return this.currentOpenState$.asObservable()}getCurrentDesktopMode(){return this.currentDesktopMode$.asObservable()}getLastActiveWindow(){return this.lastActiveWindow}getCanShowUI(){return this.showUI$.asObservable()}getIsUIAllowed(){return this.showUI$.value}getHideSidebar(){return this.hideSidebar}getSidebarVisibilityChange$(){return this.sideBarVisible$.asObservable()}setHideSidebar(u){this.hideSidebar=u,this.sideBarVisible$.next(!u)}doOpenWindow(u,k=!1){return S.ng.isBrowserPlatform()&&u&&this.browserSupportService.setExitPath(K.Y.IGO),null!==this.osrHandler?this.osrHandler.open(u).pipe((0,a.h)(null)):(!u&&k?setTimeout(()=>{this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()},1e3):u?this.unsetDisplayRects().subscribe():this.setDisplayRects().subscribe(),this.bridgeService.executeCommand(s.Gh.Share.Osc.OpenWindow,{enableInput:u}))}doCloseWindow(u){S.ng.isBrowserPlatform()&&this.browserSupportService.resetExitPath(),null===this.osrHandler?(this.unsetDisplayRects().subscribe(),this.bridgeService.executeCommand(s.Gh.Share.Osc.CloseWindow).subscribe()):this.osrHandler.close().subscribe()}setDisplayRects(){return this.featureSupportService.isRectOptimizationEnabled()&&"GFE"===this.igoConfig.branding?this.bridgeService.executeCommand(s.Gh.Share.Osc.SetDisplayRects,{displayRects:[...this.osdDisplayRect,...this.notificationDisplayRect]}).pipe((0,o.K)(()=>(0,M.of)("Error setting display rects"))):(0,M.of)("")}unsetDisplayRects(){return"GFE"===this.igoConfig.branding?this.bridgeService.executeCommand(s.Gh.Share.Osc.SetDisplayRects,{displayRects:[]}).pipe((0,o.K)(()=>(0,M.of)("Error setting display rects"))):(0,M.of)("")}init(){if(this.logger.info("initialized osc display"),this.router=this.injector.get(t.F0),!0===this.igoConfig.GFNCefClient&&this.igoConfig.IGOFeatureEnabled){const W=this.injector.get(T.V$);W&&(this.osrHandler=W.createOsrHandler("OscDisplayService")),this.applicationLifetime=this.injector.get(r.Ll),this.applicationLifetime&&(this.quitShownHandle=this.applicationLifetime.addWorkOnShutdownRequested(this.gfnQuitting.bind(this))),this.showUI$.next(!1),this.gfnStreamerService=this.injector.get(B.bF),this.gfnStreamerService.getCurrentStateChanges().subscribe(N=>{this.logger.info("streaming state change: ",N),this.streamerState$.next(N),N===B.$D.Streaming?this.gfnStreamingEnter():this.gfnStreamingExit()}),this.projectInterfaceService.triggerCloseIGO.subscribe(N=>{N&&this.closeOSC(K.Y.QuitGath)}),this.clientInputService.inputControlUIOpened$.subscribe(()=>{this.closeOSC()}),this.clientInputService.imeOpened$.subscribe(N=>{N&&this.closeOSC()})}this.router.events.subscribe(W=>{W instanceof t.OD?this.preNavigate(W.url):W instanceof t.m2&&this.postNavigate()}),this.isXboxHotkeyNotification=this.featureSupportService.isConsoleHotKeyNotificationCombination(),this.bridgeService.executeCommand(s.Gh.Share.Shareserver.RegisterWindowStateChangeNotifications).subscribe(W=>this.windowEvent(W));const u=(0,L.aj)([this.projectInterfaceService.enableListener,this.getCanShowUI(),this.systemInfoService.getDeviceOSType().pipe((0,v.q)(1))]).pipe((0,y.w)(([W,N,H])=>W&&N?H===S.wi.XBox?this.gamepadService.onButtonComboPressed$([l.z8.DpadUp,l.z8.LeftBumper]).pipe((0,C.h)(h=>h),(0,A.b)(h=>this.logger.info("IGO hotkey combination buttons pressed."))):this.getCurrentOpenState().pipe((0,y.w)(h=>{const E=this.gamepadService.onButtonPressed$(l.z8.Start).pipe((0,C.h)(ee=>!1===ee));return"closed"===h?this.gamepadService.onButtonLongPressed$(l.z8.Start):E.pipe((0,d.T)(1))})):p.C)),k=this.inGamepadOrientedMode?(0,P.T)(this.hotkeyService.listen(i.sW.OpenIGO),u):this.hotkeyService.listen(i.sW.OpenIGO);this.isGfnMobileMode||k.subscribe(()=>this.toggleOSCFromHotkey()),this.igoConfig.GFNCefClient||this.bridgeService.executeCommand(s.Gh.Share.Osc.RegisterCloseCommand).subscribe(()=>{this.closeOSC()}),this.isGfnBrowserDevMode&&this.inGamepadOrientedMode&&this.gamepadService.onButtonComboPressed$([l.z8.LeftBumper,l.z8.LeftTrigger,l.z8.X]).pipe((0,C.h)(W=>W),(0,m.zg)(()=>this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.ToggleOnScreenStats))).subscribe()}preNavigate(u){"/"!==u&&(this.bridgeService.executeCommand(s.Gh.Share.Osc.SetPainting,{enablePainting:!1}).subscribe(),this.paintingAllowed=!1),this.needToOpen&&(this.needToOpen=!1,this.doOpenWindow(!0).subscribe(k=>{k&&"noWindow"!==k&&(this.lastActiveWindow=k),this.notifyOverlayState(!0),this.telemetry.sendStartupTelemetry()}))}postNavigate(){this.needTransitionWorkaround?(this.needTransitionWorkaround=!1,this.router.navigate([...this.pathSegments,{outlets:{igo:[this.startingState]}}]),this.logger.info("Going to starting state now")):(this.paintingAllowed||(this.bridgeService.executeCommand(s.Gh.Share.Osc.SetPainting,{enablePainting:!0}).subscribe(),this.paintingAllowed=!0),this.transitioning=!1)}windowEvent(u){if(null!=u)if(this.logger.info("Window event: ",u),"dismiss"===u.windowMsg)this.closeOSC();else if("fullscreenTransition"===u.windowMsg)null!==this.inDesktopMode&&(this.openNoInput||this.openWithInput)&&this.getFSMode().subscribe(k=>{if(!k)return;const W=!k.fullscreen;(W!==this.inDesktopMode||!W&&k.borderlessMode!==this.inFakeFSMode)&&(this.inDesktopMode=W,this.inFakeFSMode=k.borderlessMode,this.logger.info("new fs state: ",k),this.currentDesktopMode$.next(this.inDesktopMode?"desktop":"fullscreen"),this.transitionDisplayFullscreen(),this.logger.info("closing OSC because of state change"))});else if("overlayToggle"===u.windowMsg)this.toggleOSCFromHotkey();else if("showHotkeyMessage"===u.windowMsg){const k="GFE"===this.igoConfig.branding?"product.NVIDIA":"product.GFN",W="GFE"===this.igoConfig.branding?O.ZJ.OpenShareNvApp:O.ZJ.OpenShare;this.inGamepadOrientedMode&&!this.isXboxHotkeyNotification?this.notifierService.show(W,k,"","","",{useAlternativeMessage:O.Ru.Message1}):this.inGamepadOrientedMode&&this.isXboxHotkeyNotification?this.notifierService.show(W,"notification.HotkeyForXbox",k):this.featureSupportService.isGuestAppFlowWrapper()&&!this.featureSupportService.isGfnMobileMode()?this.hotkeyService.getHotkeyString(s.Yk.Share.Shareserver.HotkeyEnum.OpenIGO).subscribe(N=>{N&&N.length&&this.notifierService.show(W,N,"","","",{useAlternativeMessage:O.Ru.Message2,useAlternativeIcon:!0})}):this.isGfnMobileMode||this.hotkeyService.getHotkeyString(s.Yk.Share.Shareserver.HotkeyEnum.OpenIGO).subscribe(N=>{N&&N.length&&this.notifierService.show(W,N,k)})}}gfnStreamingEnter(){this.showUI$.next(!0),this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.OsrSetOverlayResolution,{width:1920,height:1080}).subscribe(),this.storeDelayedState&&this.storeDelayedState.state&&this.storeDelayedState.state.length>0&&setTimeout(()=>{this.openOSC(this.storeDelayedState.state,this.storeDelayedState.stateParams),this.storeDelayedState=void 0},500)}gfnStreamingExit(){this.getIsUIAllowed()&&(this.showUI$.next(!1),this.closeAll(),this.bridgeService.executeCommand(s.Gh.Gfn.Streaming.OsrSetOverlayResolution,{width:0,height:0}).subscribe())}gfnQuitting(){return this.openWithInput&&this.closeOSC(),(0,M.of)(!1)}getFSMode(){return this.bridgeService.executeCommand(s.Gh.Share.Osc.FullscreenState)}getAppInFocus(){return this.appInFocus}requestAppInFocus(){return this.bridgeService.executeCommand(s.Gh.Share.Shareserver.GetCaptureProcessInfo,{appType:s.Yk.Share.Shareserver.AppType.in_focus}).pipe((0,m.zg)(u=>(this.logger.info("requestAppInFocus: success ",u),this.appInFocus=u,(0,M.of)(!0))),(0,o.K)(u=>(this.logger.info("requestAppInFocus: error ",u),(0,M.of)(!0))))}closeAll(){for(this.openWithInput&&this.closeOSC();this.openNoInput>0;)this.closeOSCForNotification();this.doCloseWindow()}openOSC(u=null,k={}){this.transitioning||(this.clientInputService.imeInputInProgress&&setTimeout(()=>{this.clientInputService.closeImeInput()}),this.clientInputService.toggleInputUI(!1),this.requestAppInFocus().subscribe(()=>{this.openSelectedOSC(u,k)}))}openSelectedOSC(u=null,k={}){if(this.showUI$.value)return!u&&""!==u&&(u=this.startingState),this.router.url===this.startingState&&(this.needTransitionWorkaround=!0,u=null,this.logger.info("Need transition workaround")),this.openWithInput||(this.transitioning=!0,this.openWithInput=!0,this.needToOpen=!0,this.currentOpenState$.next("open")),this.getFSMode().subscribe(W=>{W&&(this.inDesktopMode=!W.fullscreen)},W=>{this.logger.info("Could not query fs state: ",W),this.inDesktopMode=!0},()=>{this.currentDesktopMode$.next(this.inDesktopMode?"desktop":"fullscreen")}),u&&""!==u?void this.navigationService.navigate([...this.pathSegments,{outlets:{igo:[...u.split("/"),k]}}],{skipLocationChange:!0},this.startingStateName):(this.preNavigate("/"),void this.postNavigate());this.storeDelayedState={state:u,stateParams:k}}navigateToNull(){return this.navigationService.navigate([...this.pathSegments,{outlets:{igo:null}}],{skipLocationChange:!0},Y.wB.none)}closeOSC(u){!this.openWithInput||this.transitioning||(this.dialog.closeAll(),this.snackBar.dismiss(),this.appInFocus=null,this.openWithInput=!1,this.navigateToNull().then(k=>{k||(this.logger.info("navigation failed, retrying"),setTimeout(()=>{this.navigateToNull()},100))},k=>{this.logger.info("navigation rejected: ",k),setTimeout(()=>{this.navigateToNull()},100)}),this.currentOpenState$.next("closed"),this.notifyOverlayState(!1),this.openNoInput>0?(this.logger.info("Open OSC without input"),this.doOpenWindow(!1,!0).subscribe(),setTimeout(()=>{this.setDisplayRects().subscribe()})):(this.logger.info("Close OSC"),this.doOpenWindow(!1,!0).subscribe(),setTimeout(()=>{0===this.openNoInput&&!this.openWithInput&&this.doCloseWindow(u)},1e3)))}openOSCForNotification(){this.showUI$.value&&(this.openNoInput+=1,this.openWithInput||(this.logger.info("Open OSC without input"),this.doOpenWindow(!1).subscribe()))}closeOSCForNotification(){0!==this.openNoInput&&(this.openNoInput-=1,this.openNoInput<0&&(this.openNoInput=0),setTimeout(()=>{0===this.openNoInput&&!this.openWithInput&&(this.logger.info("Close OSC"),this.doCloseWindow(K.Y.OscNotification))},5e3))}convertRect(u){return u.map(k=>({x:Math.round(k.x),y:Math.round(k.y),width:Math.round(k.width),height:Math.round(k.height)}))}setOSDDisplayRectangles(u){this.osdDisplayRect=this.convertRect(u),this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()}setNotificationDisplayRectangles(u){this.notificationDisplayRect=this.convertRect(u),this.openNoInput>0&&!this.openWithInput&&this.setDisplayRects().subscribe()}transitionDisplayFullscreen(){this.openNoInput<=0&&!this.openWithInput||(this.doCloseWindow(),setTimeout(()=>{this.logger.info("Reopening OSC after state change"),this.doOpenWindow(this.openWithInput).subscribe(),this.osdService.triggerChange(null)},1e3))}notifyOverlayState(u){}toggleOSCFromHotkey(){this.transitioning||(this.openWithInput?this.closeOSC():(this.telemetry.beginStartupTimer(Y.bq.openHotkey),this.openOSC()))}}return Z.\u0275fac=function(u){return new(u||Z)(b.LFG(f.l),b.LFG(i.y1),b.LFG(O.nG),b.LFG(S.ed),b.LFG(S.dF),b.LFG(D.Ec),b.LFG(b.zs3),b.LFG(I.g),b.LFG(w.l),b.LFG(_.f),b.LFG($.on),b.LFG(G.pl),b.LFG(K.OA),b.LFG(F.m3),b.LFG(l.Se),b.LFG(J.S),b.LFG(S.Ob))},Z.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},59717:(Ge,ae,e)=>{"use strict";e.d(ae,{Ru:()=>o,ZJ:()=>P,_R:()=>a,nG:()=>y});var t=e(96671),n=e(23815),x=e(45661),M=e(71265),L=e(39609),p=e(64710),P=(()=>{return(C=P||(P={}))[C.Empty=0]="Empty",C[C.OpenShare=1]="OpenShare",C[C.OpenShareNvApp=2]="OpenShareNvApp",C[C.InstantReplayStarted=3]="InstantReplayStarted",C[C.InstantReplayStopped=4]="InstantReplayStopped",C[C.InstantReplaySaving=5]="InstantReplaySaving",C[C.InstantReplaySaved=6]="InstantReplaySaved",C[C.RecordStarted=7]="RecordStarted",C[C.RecordSaving=8]="RecordSaving",C[C.RecordStopped=9]="RecordStopped",C[C.ScreenshotSaved=10]="ScreenshotSaved",C[C.PhotographicScreenshotSavedToGallery=11]="PhotographicScreenshotSavedToGallery",C[C.WarningFullscreenGameRequired=12]="WarningFullscreenGameRequired",C[C.WarningRecordingStopToCustomize=13]="WarningRecordingStopToCustomize",C[C.WarningHighlightsStopToCustomize=14]="WarningHighlightsStopToCustomize",C[C.WarningRecordingStopToUseFeature=15]="WarningRecordingStopToUseFeature",C[C.WarningInstantReplayStopToUseFeature=16]="WarningInstantReplayStopToUseFeature",C[C.WarningSupportedGameRequired=17]="WarningSupportedGameRequired",C[C.WarningNvidiaGpuRequired=18]="WarningNvidiaGpuRequired",C[C.HighlightsSaved=19]="HighlightsSaved",C[C.FailedToRemove=20]="FailedToRemove",C[C.GalleryIsFull=21]="GalleryIsFull",C[C.DiskSpaceIsLow=22]="DiskSpaceIsLow",C[C.NoSpaceCaptureNotSaved=23]="NoSpaceCaptureNotSaved",C[C.NoSpaceCaptureNotStarted=24]="NoSpaceCaptureNotStarted",C[C.ErrorRestartGame=25]="ErrorRestartGame",C[C.PhotoModeNotAllowed=26]="PhotoModeNotAllowed",C[C.CustomOverlaySlotEmpty=27]="CustomOverlaySlotEmpty",C[C.ManualRecordRunning=28]="ManualRecordRunning",C[C.ConnectingToGfnBroadcast=29]="ConnectingToGfnBroadcast",C[C.ConnectedToGfnBroadcast=30]="ConnectedToGfnBroadcast",C[C.FailedToConnectGfnBroadcast=31]="FailedToConnectGfnBroadcast",C[C.DisconnectedFromGfnBroadcast=32]="DisconnectedFromGfnBroadcast",C[C.NetworkSpottyConnection=33]="NetworkSpottyConnection",C[C.NetworkBadConnection=34]="NetworkBadConnection",C[C.OnscreenKeyboardUsage=35]="OnscreenKeyboardUsage",C[C.HDRErrorRecord=36]="HDRErrorRecord",C[C.HDRErrorScreenshot=37]="HDRErrorScreenshot",C[C.HDRErrorHighlight=38]="HDRErrorHighlight",C[C.PerfMonLogging=39]="PerfMonLogging",P;var C})(),a=(()=>{return(C=a||(a={}))[C.Empty=0]="Empty",C[C.OpenOverlay=1]="OpenOverlay",C[C.ConnectionStatus=2]="ConnectionStatus",C[C.SaveIRToGallery=3]="SaveIRToGallery",C[C.SaveMRToGallery=4]="SaveMRToGallery",C[C.SaveSSToGallery=5]="SaveSSToGallery",C[C.SaveHLToGallery=6]="SaveHLToGallery",C[C.IROnOff=7]="IROnOff",C[C.MROn=8]="MROn",C[C.RecordHDRError=9]="RecordHDRError",C[C.HighlightHDRError=10]="HighlightHDRError",C[C.ScreenshotHDRError=11]="ScreenshotHDRError",a;var C})(),o=(()=>{return(C=o||(o={}))[C.None=0]="None",C[C.Message1=1]="Message1",C[C.Message2=2]="Message2",o;var C})();const v={useAlternativeMessage:o.None,useAlternativeIcon:!1,useAlternativeIconClass:""};let y=(()=>{class C{constructor(d,m){this.loggingService=d,this.dbService=m,this.notification$=new t.xQ,this.globalStore=null,this.igoNotifications="IgoNotifications",this.globalToggleStore="GlobalToggle",this.globalState=!0,this.initialState=!0,this.controls=[{saveStr:"noteOverlay",control:a.OpenOverlay,enable:this.initialState,controlledNotifiers:[P.OpenShare,P.OpenShareNvApp]},{saveStr:"noteSaveIR",control:a.SaveIRToGallery,enable:this.initialState,controlledNotifiers:[P.InstantReplaySaving,P.InstantReplaySaved]},{saveStr:"noteSaveMR",control:a.SaveMRToGallery,enable:this.initialState,controlledNotifiers:[P.RecordSaving,P.RecordStopped]},{saveStr:"noteSaveSS",control:a.SaveSSToGallery,enable:this.initialState,controlledNotifiers:[P.ScreenshotSaved,P.PhotographicScreenshotSavedToGallery]},{saveStr:"noteSaveHL",control:a.SaveHLToGallery,enable:this.initialState,controlledNotifiers:[P.HighlightsSaved]},{saveStr:"noteOnOffIR",control:a.IROnOff,enable:this.initialState,controlledNotifiers:[P.InstantReplayStarted,P.InstantReplayStopped]},{saveStr:"noteOnMR",control:a.MROn,enable:this.initialState,controlledNotifiers:[P.RecordStarted]},{saveStr:"noteConnectionStatus",control:a.ConnectionStatus,enable:this.initialState,controlledNotifiers:[P.NetworkSpottyConnection,P.NetworkBadConnection]},{saveStr:"noteHDRErrorScreenshot",control:a.ScreenshotHDRError,enable:this.initialState,controlledNotifiers:[P.HDRErrorScreenshot]},{saveStr:"noteHDRErrorHighlight",control:a.HighlightHDRError,enable:this.initialState,controlledNotifiers:[P.HDRErrorHighlight]},{saveStr:"noteHDRErrorRecord",control:a.RecordHDRError,enable:this.initialState,controlledNotifiers:[P.HDRErrorRecord]}],this.logger=this.loggingService.getLogger("OscNotificationService"),this.globalStore=this.dbService.getGlobalStore(this.igoNotifications)}getOscEvents(){return this.notification$.asObservable()}showInternal(d,m,S="",s="",r="",l="",i=v){this.isNotificationBlocked(d)||this.notification$.next({selection:d,arg1:S,arg2:s,flip:m,thumb:l,alternateNotificationData:i})}show(d,m="",S="",s="",r="",l=v){this.showInternal(d,!1,m,S,s,r,l)}flipTo(d,m="",S="",s="",r="",l=v){this.showInternal(d,!0,m,S,s,r,l)}init(){const d=this.globalStore.getItem(this.globalToggleStore).subscribe(m=>{void 0!==m&&(this.globalState=m)},m=>{this.logger.error("Failed to read global notification state",m)},()=>{d.unsubscribe()});this.controls.forEach(m=>{const S=this.globalStore.getItem(m.saveStr).subscribe(s=>{m.enable=void 0===s?this.initialState:s},s=>{this.logger.error("Failed to read Notification Control in database: ",s)},()=>{S.unsubscribe()})})}getNotificationControls(){return this.controls}setNotificationControl(d,m){const S=this.controls.find(r=>r.control===d);S&&(S.enable=m);const s=this.globalStore.setItem(S.saveStr,S.enable).subscribe(()=>{s.unsubscribe(),this.logger.info("Notification Control Stored: "+S.saveStr+" Value: "+S.enable)})}isNotificationBlocked(d){let m=!1;return this.controls.forEach(S=>{S.controlledNotifiers.forEach(s=>{s===d&&(m=!S.enable||!this.globalState)})}),m}getGlobalToggle(){return this.globalState}setGlobalToggle(d){this.globalState=d;const m=this.globalStore.setItem(this.globalToggleStore,this.globalState).subscribe({complete:()=>{m.unsubscribe()}})}loadGFEMigrationData(d){const m=d["notification-settings"];if(!m)return this.logger.info("No valid notification data found in GFE backup"),(0,n.of)(null);const S={noteOverlay:"openShare",noteSaveIR:"savedIR",noteSaveMR:"savedMR",noteSaveSS:"savedSS",noteSaveHL:"savedHL",noteOnOffIR:"IROnOff",noteOnMR:"MRStarted",noteHDRErrorScreenshot:"screenshotHDRError",noteHDRErrorHighlight:"hlHDRError",noteHDRErrorRecord:"recordHDRError"};let s=!0;const r=[];return Object.keys(S).forEach(l=>{const i=m[S[l]];void 0!==i&&r.push(this.globalStore.setItem(l,i)),i&&(s=!1)}),s&&r.push(this.globalStore.setItem(this.globalToggleStore,!1)),(0,x.D)(r).pipe((0,M.b)(l=>this.logger.info("Notification data migrated from GFE")))}}return C.\u0275fac=function(d){return new(d||C)(L.LFG(p.ed),L.LFG(p.MC))},C.\u0275prov=L.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},89838:(Ge,ae,e)=>{"use strict";e.d(ae,{BH:()=>d,Ec:()=>S,Fr:()=>A,Kw:()=>C,_C:()=>m});var t=e(96671),n=e(39138),x=e(23815),M=e(45661),L=e(71265),p=e(4042),P=e(92839),a=e(39609),o=e(64710),v=e(35880),y=e(66134),C=(()=>{return(s=C||(C={})).Recording="Recording",s.IR="IR",s.Highlights="Highlights",s.Broadcast="Broadcast",s.Mic="Mic",s.ViewerCount="ViewerCount",s.Comments="Comments",s.Webcam="Webcam",s.WebcamSize="WebcamSize",s.GfnMic="GfnMic",s.PerfLogging="PerfLogging",s.Statistics="Statistics",s.StatsSize="StatsSize",s.Network="Network",s.Performance="Performance",C;var s})(),A=(()=>{return(s=A||(A={})).rightTop="rightTop",s.rightCenter="rightCenter",s.rightBottom="rightBottom",s.centerBottom="centerBottom",s.leftBottom="leftBottom",s.leftCenter="leftCenter",s.leftTop="leftTop",s.centerTop="centerTop",s.none="none",A;var s})(),d=(()=>{return(s=d||(d={})).small="small",s.medium="medium",s.large="large",d;var s})(),m=(()=>{return(s=m||(m={})).compact="compact",s.standard="standard",m;var s})();let S=(()=>{class s{constructor(l,i,O,Y,T){this.injector=l,this.dbService=i,this.igoConfig=O,this.featureSupportService=Y,this.loggingService=T,this.osdChanged$=new t.xQ,this.globalStore=null,this.dbStoreName="IgoIndicatorSettings",this.overlaySettings={Recording:A.rightTop,IR:A.rightTop,Highlights:A.rightTop,Mic:A.rightTop,Broadcast:A.rightTop,ViewerCount:A.rightTop,Comments:A.rightTop,GfnMic:A.rightTop,Statistics:A.none,StatsSize:m.compact,Network:A.none,Performance:A.rightTop,PerfLogging:A.rightTop},this.logger=this.loggingService.getLogger("OsdService"),"GFN"===this.igoConfig.branding?this.overlaySettings.Statistics=A.rightTop:(this.perfMonService=this.injector.get(P.d),this.overlaySettings.Recording=A.rightBottom,this.overlaySettings.IR=A.rightBottom,this.overlaySettings.Mic=A.rightBottom,this.overlaySettings.Highlights=A.rightBottom,this.overlaySettings.PerfLogging=A.rightBottom),this.featureSupportService.isConnectionStatusEnabled()&&this.featureSupportService.isGfnMobileMode()&&(this.overlaySettings.Network=A.rightTop),this.globalStore=this.dbService.getGlobalStore(this.dbStoreName)}init(){var l;const i=[];Object.keys(this.overlaySettings).forEach(O=>{this.getAndSetOverriddenPositionSetting(O);const Y=this.globalStore.getItem(O).pipe((0,L.b)(T=>{const B=A[T],K=m[T];void 0!==B?this.overlaySettings[O]=B:void 0!==K&&(this.overlaySettings[O]=K)}));i.push(Y)}),(0,n.$R)(...i).subscribe(()=>{var O;null===(O=this.perfMonService)||void 0===O||O.setPerfOverlayQuadrant(this.overlaySettings[C.Performance]),this.triggerChange(null)}),null===(l=this.perfMonService)||void 0===l||l.listenVisibilityChanges().subscribe(O=>{this.logger.info("listenVisibilityChanges:",O),this.overlaySettings.Performance===A.none&&O&&(this.overlaySettings.Performance=A.rightTop,this.saveOverlaySettings().subscribe()),this.triggerChange(C.Performance)})}saveOverlaySettings(l=!1){const i=[];return Object.keys(this.overlaySettings).forEach(O=>{const Y=this.globalStore.setItem(O,this.overlaySettings[O]);i.push(Y)}),(0,n.$R)(...i).pipe((0,L.b)(()=>{l||this.triggerChange(null)}),(0,p.h)(!0))}getPosition(l){return this.overlaySettings[l]}setPosition(l,i){this.overlaySettings[l]=i,l===C.Performance&&this.perfMonService.setPerfOverlayQuadrant(i)}getStatsSize(){return this.overlaySettings[C.StatsSize]}setStatsSize(l){this.overlaySettings[C.StatsSize]=l}getOsdIndicatorSize(l){return this.overlaySettings[l]}setOsdIndicatorSize(l,i){this.overlaySettings[l]=i}listenChanges(){return this.osdChanged$.asObservable()}triggerChange(l){this.osdChanged$.next(l)}loadGFEMigrationData(l){var i,O;const Y=l["osd-storage"];if(!Y)return(0,x.of)(null);const T={RightTop:A.rightTop,RightBottom:A.rightBottom,LeftBottom:A.leftBottom,LeftTop:A.leftTop},B=[];if(null!==(i=Y.Status)&&void 0!==i&&i.enabled){const K=Y.Status.position;T[K]&&(B.push(this.globalStore.setItem(C.Recording,T[K])),B.push(this.globalStore.setItem(C.IR,T[K])),B.push(this.globalStore.setItem(C.Mic,T[K])),B.push(this.globalStore.setItem(C.Highlights,T[K])))}if(null!==(O=Y.Performance)&&void 0!==O&&O.enabled){const K=Y.Performance.position;T[K]&&B.push(this.globalStore.setItem(C.Performance,T[K]))}return(0,M.D)(B).pipe((0,L.b)(K=>this.logger.info("OSD settings migrated from GFE")))}getAndSetOverriddenPositionSetting(l){var i,O,Y;let T=null;l===C.GfnMic?T=null!==(i=this.featureSupportService.getOverriddenMicPosition())&&void 0!==i?i:null:l===C.Network?T=null!==(O=this.featureSupportService.getOverriddenNetworkStatusIconPosition())&&void 0!==O?O:null:l===C.Statistics&&(T=null!==(Y=this.featureSupportService.getOverriddenStatisticsPosition())&&void 0!==Y?Y:null),T&&(this.overlaySettings[l]=T)}}return s.\u0275fac=function(l){return new(l||s)(a.LFG(a.zs3),a.LFG(o.MC),a.LFG(v.g),a.LFG(y.l),a.LFG(o.ed))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},12152:(Ge,ae,e)=>{"use strict";e.d(ae,{$j:()=>a,G$:()=>S,I5:()=>y,OV:()=>O,TC:()=>t,TE:()=>s,U0:()=>Y,V3:()=>m,aq:()=>d,cr:()=>n,gs:()=>o,jO:()=>P,nE:()=>M,nm:()=>C,pW:()=>i,uT:()=>x,ud:()=>r,vE:()=>v,vl:()=>p,xd:()=>l,y6:()=>A});const t=500,n=20,x=5e3,M=3e4;var p=(()=>{return(T=p||(p={}))[T.FPS=0]="FPS",T[T.GPU=1]="GPU",T[T.CPU=2]="CPU",T[T.Latency=3]="Latency",p;var T})();const P=[{id:p.FPS,name:"settings.gameplay.FPS",shortName:"settings.gameplay.FPS"},{id:p.GPU,name:"perfmon.GPUName",shortName:"perfmon.GPU"},{id:p.CPU,name:"perfmon.CPUName",shortName:"perfmon.CPU"},{id:p.Latency,name:"perfmon.latency",shortName:"perfmon.latencyShortName"}];var a=(()=>{return(T=a||(a={}))[T.FPS=0]="FPS",T[T.Basic=1]="Basic",T[T.Advanced=2]="Advanced",T[T.Latency=3]="Latency",T[T.Custom=4]="Custom",a;var T})(),o=(()=>{return(T=o||(o={}))[T.FPS=0]="FPS",T[T.Basic=1]="Basic",T[T.Advanced=2]="Advanced",T[T.Custom=3]="Custom",o;var T})();const v=a.Basic,y=[{id:a.FPS,name:"settings.gameplay.FPS",metrics:["fps"]},{id:a.Basic,name:"perfmon.basic",metrics:["fps","gpuUtil","cpuUtil","avgPCLatency"]},{id:a.Advanced,name:"perfmon.advanced",metrics:["fps","fps1pc","fpsMax","fpsMin","frameTime","gpuUtil","gpuTemp","gpuClock","gpuVoltage","gpuPower","gpuFanSpeed","vramClock","cpuUtil","cpuTemp","cpuClock","renderLatency","avgPCLatency"]},{id:a.Latency,name:"perfmon.latency",metrics:["fps","renderLatency","avgPCLatency","reflexMonitorPosition","mouseLatency","avgMouseLatency","pcDisplayLatency","avgPcDisplayLatency","systemLatency","avgSystemLatency"]},{id:a.Custom,name:"settings.gameplay.Custom",metrics:["fps","fps1pc","fpsMax","fpsMin","frameTime","gpuUtil","gpuTemp","gpuClock","gpuVoltage","gpuPower","gpuFanSpeed","vramClock","cpuUtil","cpuTemp","cpuClock","renderLatency","avgPCLatency","reflexMonitorPosition","mouseLatency","avgMouseLatency","pcDisplayLatency","avgPcDisplayLatency","systemLatency","avgSystemLatency"]}];var C=(()=>{return(T=C||(C={}))[T.Linear=0]="Linear",T[T.Double=1]="Double",T[T.Stacked=2]="Stacked",C;var T})();const A=C.Linear;var d=(()=>{return(T=d||(d={}))[T.Standard=0]="Standard",T[T.Enhanced=1]="Enhanced",d;var T})();const m=d.Standard;var S=(()=>{return(T=S||(S={})).FPS="FPS",T.Basic="Basic",T.Advanced="Advanced",T.Latency="Latency",S;var T})();const s=60,r=35,l=40,i=35,O=30;function Y(){return[{metricId:"fps",name:"perfmon.framRate",shortName:"settings.gameplay.FPS",category:p.FPS,visible:!1,value:void 0,unit:void 0,defaultValue:"perfmon.notApplicable"},{metricId:"fps1pc",name:"perfmon.fps1pc",shortName:"perfmon.fps1pc",category:p.FPS,visible:!1,value:void 0,unit:"perfmon.fps1pcUnit"},{metricId:"fpsMax",name:"perfmon.fpsMax",shortName:"perfmon.fpsMaxShort",category:p.FPS,visible:!1,value:void 0,unit:"perfmon.fpsMaxUnit"},{metricId:"fpsMin",name:"perfmon.fpsMin",shortName:"perfmon.fpsMinShort",category:p.FPS,visible:!1,value:void 0,unit:"perfmon.fpsMinUnit"},{metricId:"frameTime",name:"perfmon.frameTime",shortName:"perfmon.frameTimeShort",category:p.FPS,visible:!1,value:void 0,unit:"perfmon.milliseconds"},{metricId:"gpuUtil",name:"perfmon.gpuUtil",shortName:"perfmon.gpuUtilShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.percentage"},{metricId:"gpuTemp",name:"perfmon.gpuTemp",shortName:"perfmon.gpuTempShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.degreeCelcius"},{metricId:"gpuClock",name:"perfmon.gpuClock",shortName:"perfmon.gpuClockShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"gpuVoltage",name:"perfmon.gpuVoltage",shortName:"perfmon.gpuVoltageShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.volt"},{metricId:"gpuPower",name:"perfmon.gpuPower",shortName:"perfmon.gpuPowerShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.watt"},{metricId:"gpuFanSpeed",name:"perfmon.gpuFanSpeed",shortName:"perfmon.gpuFanSpeedShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.rpm"},{metricId:"vramClock",name:"perfmon.vramClock",shortName:"perfmon.vramClockShort",category:p.GPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"cpuUtil",name:"perfmon.cpuUtil",shortName:"perfmon.cpuUtilShort",category:p.CPU,visible:!1,value:void 0,unit:"perfmon.percentage"},{metricId:"cpuTemp",name:"perfmon.cpuTemp",shortName:"perfmon.cpuTempShort",category:p.CPU,visible:!1,value:void 0,unit:"perfmon.degreeCelcius"},{metricId:"cpuClock",name:"perfmon.cpuClock",shortName:"perfmon.cpuClockShort",category:p.CPU,visible:!1,value:void 0,unit:"perfmon.megaHertz"},{metricId:"renderLatency",name:"perfmon.renderLatency",shortName:"perfmon.renderLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgPCLatency",name:"perfmon.avgPCLatency",shortName:"perfmon.avgPCLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"reflexMonitorPosition",name:"perfmon.reflexMonitorPosition",shortName:"perfmon.reflexMonitorPositionShort",category:p.Latency,visible:!1,value:void 0,unit:"",defaultValue:"perfmon.notApplicable"},{metricId:"mouseLatency",name:"perfmon.mouseLatency",shortName:"perfmon.mouseLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgMouseLatency",name:"perfmon.avgMouseLatency",shortName:"perfmon.avgMouseLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"pcDisplayLatency",name:"perfmon.pcDisplayLatency",shortName:"perfmon.pcDisplayLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgPcDisplayLatency",name:"perfmon.avgPcDisplayLatency",shortName:"perfmon.avgPcDisplayLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"systemLatency",name:"perfmon.systemLatency",shortName:"perfmon.systemLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"},{metricId:"avgSystemLatency",name:"perfmon.avgSystemLatency",shortName:"perfmon.avgSystemLatencyShort",category:p.Latency,visible:!1,value:void 0,unit:"perfmon.milliseconds",defaultValue:"perfmon.notApplicable"}]}},92839:(Ge,ae,e)=>{"use strict";e.d(ae,{d:()=>i});var t=e(96671),n=e(18406),x=e(23815),M=e(89258),L=e(71265),p=e(33932),P=e(51325),a=e(74266),o=e(99636),v=e(21361),y=e(20546),C=e(12152),A=e(32016),d=e(89838),m=e(59717),S=e(39609),s=e(715),r=e(64710),l=e(66134);let i=(()=>{class O{constructor(T,B,K,b,f,D,I,w,_){this.injector=T,this.translateService=B,this.loggingService=K,this.dbService=b,this.bridgeService=f,this.hotkeyService=D,this.featureSupportService=I,this.hardwareService=w,this.oscNotificationService=_,this.PerfMonStorageKeyName="PerfMonPersistedData",this.throttleDuration=500,this.gpuData=[],this.perfData=[],this.perfOverlayVisibilityChanged$=new t.xQ,this.perfOverlayCoordinatesChanged$=new t.xQ,this.perfLoggingIndicator$=new n.X(!1),this.fpsMetricVisible=!1,this.logger=this.loggingService.getLogger("PerfMonService"),this.dBStore=this.dbService.getGlobalStore("PerfMon")}init(){this.logger.info("Initialize"),this.oscDisplayService=this.injector.get(y.v),this.getIsRLASupported().subscribe(T=>{this.isRLAEnabled=T}),this.registerPerfStatsNotifications(),this.setHotkeys(!0),this.registerHotkeyNotifications(),this.registerAppNotifications(),this.initStatsAndLoadData()}listenVisibilityChanges(){return this.perfOverlayVisibilityChanged$.asObservable()}getPerfLoggingStatus(){return this.perfLoggingIndicator$.asObservable()}getPerfOverlayVisiblity(){var T;return null===(T=this.perfmonData)||void 0===T?void 0:T.isPerfOverlayVisible}getFpsMetricVisible(){return this.perfmonData.activeMetricSetId!==C.$j.FPS||this.fpsMetricVisible}setPerfOverlayVisiblity(T){this.logger.info("setPerfOverlayVisiblity: ",T),this.perfmonData.isPerfOverlayVisible=T,this.togglePerfOverlay(T)}getIsRLASupported(){return this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.GetRLAMonitorSupport).pipe((0,M.U)(T=>(this.logger.info("RLA Monitor Status: ",T.supported),T.supported)))}getIsPerfOverlayEnabled(){return this.isPerfOverlayEnabled}setIsPerfOverlayEnabled(T){this.logger.info("setIsPerfOverlayEnabled: ",T),this.isPerfOverlayEnabled!==T&&(this.isPerfOverlayEnabled=T,this.setPerfOverlayVisiblity(T))}getCustomActiveMetricSetId(T){let B=C.gs.FPS;return T===C.$j.FPS?B=C.gs.FPS:T===C.vE?B=C.gs.Basic:T===C.$j.Advanced?B=C.gs.Advanced:(T===C.$j.Latency||T===C.$j.Custom)&&(B=C.gs.Custom),B}getMetricSet(){return void 0===this.perfmonData.activeMetricSetId?C.vE:this.perfmonData.activeMetricSetId}setMetricSet(T){this.logger.info("setMetricSet:",T),this.perfmonData.activeMetricSetId=T,this.togglePerfOverlay(!0)}getActiveLayout(){var T;return void 0===(null===(T=this.perfmonData)||void 0===T?void 0:T.activeLayout)?C.y6:this.perfmonData.activeLayout}setActiveLayout(T){this.perfmonData.activeLayout=T,this.logger.info("setActiveLayout:",this.perfmonData.activeLayout),this.togglePerfOverlay(!0)}getVisibilityMode(){var T;return void 0===(null===(T=this.perfmonData)||void 0===T?void 0:T.perfOverlayVisibilityMode)?C.V3:this.perfmonData.perfOverlayVisibilityMode}setVisibilityMode(T){this.logger.info("setVisibilityMode:",T),this.perfmonData.perfOverlayVisibilityMode=T,this.togglePerfOverlay(!0)}getPerfData(T){return this.perfData[T]}launchPerformanceMenu(){this.logger.info("launchPerformanceMenu"),this.oscDisplayService.openOSC("sidebar/performance/performance-menu")}getIsValidGameRunning(){return this.isValidGameRunning}isPerformanceAvailable(){return this.featureSupportService.isPerfOverlayEnabled()}getLoggingState(){var T;return this.logger.info("getLoggingState:",this.perfmonData.isLogging),null===(T=this.perfmonData)||void 0===T?void 0:T.isLogging}toggleLogging(T){this.logger.info("toggleLogging"),this.perfmonData.isLogging=void 0===T?!this.perfmonData.isLogging:T,this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.LoggingToggle,{path:this.perfmonData.logPath,enable:this.perfmonData.isLogging}).subscribe(K=>{this.logger.info("toggleLogging:",K)},K=>{this.logger.info("toggleLogging:",K)}),this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible),this.perfLoggingIndicator$.next(this.perfmonData.isLogging),this.perfmonData.isLogging&&this.oscNotificationService.show(m.ZJ.PerfMonLogging),this.savePersistedData()}getPerfOverlayAbsolutePosition(T=null){if(this.logger.info("getPerfOverlayAbsolutePosition"),this.perfmonData){if(!this.perfmonData.perfOverlayAbsolutePosition){if(!T)return this.perfmonData.perfOverlayAbsolutePosition;this.updatePerformancePositionCoordinates(T)}return this.perfmonData.perfOverlayAbsolutePosition}}setPerfOverlayAbsolutePosition(T,B=!1){this.logger.info("setPerfOverlayAbsolutePosition",T),this.perfmonData.perfOverlayAbsolutePosition=T,B||this.perfOverlayCoordinatesChanged$.next(T),this.savePersistedData()}listenPerfOverlayCoordinateChanges(){return this.perfOverlayCoordinatesChanged$.asObservable()}setPerfOverlayQuadrant(T){this.logger.info("setPerfOverlayQuadrant",T),this.perfOverlayQuadrant=T}checkPerformancePositionCoordinates(){this.perfmonData.perfOverlayAbsolutePosition||(this.perfmonData.perfOverlayAbsolutePosition={x:void 0,y:void 0},this.updatePerformancePositionCoordinates(this.perfOverlayQuadrant))}updatePerformancePositionCoordinates(T,B=null){if(this.logger.info("updatePerformancePositionCoordinates",T),this.perfmonData&&(B=B||this.perfmonData.perfOverlayAbsolutePosition))switch(T){case d.Fr.rightTop:B.x=100,B.y=0;break;case d.Fr.rightCenter:B.x=100,B.y=50;break;case d.Fr.rightBottom:B.x=100,B.y=100;break;case d.Fr.centerBottom:B.x=50,B.y=100;break;case d.Fr.leftBottom:B.x=0,B.y=100;break;case d.Fr.leftCenter:B.x=0,B.y=50;break;case d.Fr.leftTop:B.x=0,B.y=0;break;case d.Fr.centerTop:B.x=50,B.y=0;break;default:B.x=void 0,B.y=void 0}}enablePerfTracking(T){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.EnablePerfStatsNotification,{intervalMS:C.TC,isEnable:T}).subscribe(K=>{this.logger.info("result:",K)},K=>{this.logger.error("error:",K)})}updateDefaultLoggingPath(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.GetDefaultLoggingPath).subscribe(T=>{this.logger.info("GetDefaultLoggingPath:",T),this.perfmonData.logPath=T.path.logpath},T=>{this.logger.error("GetDefaultLoggingPath error:",T)})}getLoggingPath(){return this.perfmonData.logPath}setLoggingPath(T){this.perfmonData.logPath=T,this.savePersistedData()}updateMetricVisibility(T){void 0===T.value&&T.defaultValue?(T.value=this.translateService.instant(T.defaultValue),T.visible=this.perfmonData.activeMetricSetId!==C.$j.FPS,T.isUnitHidden=!0):(T.visible=void 0!==T.value,T.isUnitHidden=void 0===T.value||T.defaultValue&&T.value===this.translateService.instant(T.defaultValue))}updateCustomMetricSet(){this.perfmonData.customMetrics.length=0,this.perfData[0]&&this.perfData[0].forEach(T=>{T.isCustomSelected&&this.perfmonData.customMetrics.push(T.metricId)}),this.savePersistedData()}loadGFEMigrationData(T){const B=T.overclockings;if(!B)return(0,x.of)(null);const K={isPerfOverlayVisible:!!B.isPerfOverlayVisible,activeMetricSetId:C.vE,activeLayout:C.y6,perfOverlayVisibilityMode:C.V3,perfOverlayAbsolutePosition:null,isLogging:!1,logPath:B.loggingPath||"",customMetrics:[...C.I5.find(f=>f.id===C.vE).metrics],rectAlignmentStatus:!0,flashIndicatorStatus:!1,avgSampleSize:20},b=T["osd-storage"];if(null!=b&&b.Performance.view)switch(null==b?void 0:b.Performance.view){case C.G$.FPS:K.activeMetricSetId=C.$j.FPS;break;case C.G$.Basic:K.activeMetricSetId=C.$j.Basic;break;case C.G$.Advanced:K.activeMetricSetId=C.$j.Advanced;break;case C.G$.Latency:K.activeMetricSetId=C.$j.Latency}return this.dBStore.setItem(this.PerfMonStorageKeyName,K).pipe((0,L.b)(f=>this.logger.info("Statistics overlay settings migrated from GFE")))}getIsRLAEnabled(){return this.isRLAEnabled}isReflexAnalyzerAvailable(){return this.featureSupportService.isReflexAnalyzerEnabled()}isRLASupportedDriver(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.CheckRLASupportedDriver).subscribe(T=>{this.logger.info("getSupportedDD response:",T),this.isRLAsupportedDD=T.supported},T=>{this.logger.error("error in getSupportedDD:",T),this.isRLAsupportedDD=!1})}getIsRLASupportedDD(){return this.isRLAsupportedDD}updateRectAlignStatus(T){this.perfmonData.rectAlignmentStatus=T,this.savePersistedData(),this.logger.info("Storing current rectangle alignment status to local storage - "+this.perfmonData.rectAlignmentStatus)}getRectAlignStatus(){return void 0===this.perfmonData.rectAlignmentStatus&&(this.perfmonData.rectAlignmentStatus=!0),this.perfmonData.rectAlignmentStatus}setRectAlignStatusOnInit(){return this.perfmonData.rectAlignmentStatus}setFlashIndicatorVisibility(T){this.reflexFlashIndicatorVisibility=!T,this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.ShowFlashIndicator,{isVisible:this.reflexFlashIndicatorVisibility}).subscribe(B=>{this.logger.info("setFlashIndicatorVisibility response:",B)},B=>{this.logger.error("error in setFlashIndicatorVisibility:",B)})}getFlashIndicatorStatus(){return this.flashIndicatorStatus=this.perfmonData.flashIndicatorStatus,this.flashIndicatorStatus}setFlashIndicatorSize(T){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.SetFlashIndicatorSize,{size:T}).subscribe(B=>{this.logger.info("SetFlashIndicatorSize response:",B)},B=>{this.logger.error("error in setFlashIndicatorVisibility:",B)})}updateFlashIndicatorStatus(T){this.perfmonData.flashIndicatorStatus=T,this.flashIndicatorStatus=T,this.savePersistedData(),this.logger.info("Storing current Flash Indicator status to local storage - "+this.perfmonData.flashIndicatorStatus)}getCustAvgSampleSize(){return this.perfmonData.avgSampleSize?this.perfmonData.avgSampleSize:C.cr}updateCustAvgSampleSize(T){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.SetMetricSampleSize,{sampleSize:T}).subscribe(B=>{this.logger.info("updateCustAvgSampleSize response:",B),this.perfmonData.avgSampleSize=T,this.savePersistedData()},B=>{this.logger.error("error in setCustAvgOnInit:",B)})}setCustAvgOnInit(){const T=this.getCustAvgSampleSize();this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.SetMetricSampleSize,{sampleSize:T}).subscribe(B=>{this.logger.info("setCustAvgOnInit response:",B)},B=>{this.logger.error("error in setCustAvgOnInit:",B)})}resetAverages(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.ResetAverageMetrics).subscribe(T=>{this.logger.info("resetAverages response:",T)},T=>{this.logger.error("error in resetAverages:",T)})}alignMonitoringRect(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.AlignLatencyMonitoringRectangle).subscribe(T=>{this.logger.info("alignMonitoringRect response:",T)},T=>{this.logger.error("error in alignMonitoringRect:",T)})}loadCustomMetricSet(){this.perfData[0]&&this.perfmonData.customMetrics.forEach(T=>{this.perfData[0].find(B=>B.metricId===T).isCustomSelected=!0})}savePersistedData(T=null){this.dBStore.setItem(this.PerfMonStorageKeyName,T=T||this.perfmonData).subscribe(B=>{this.logger.info("Perstisted data saved successfully ",B)},B=>{this.logger.error("Error while saving the persisted data ",B)})}initStatsAndLoadData(){this.initPerfStats().pipe((0,p.zg)(()=>this.loadPerfMonData()),(0,M.U)(()=>(this.perfmonData.isPerfOverlayVisible&&this.togglePerfOverlay(!0),setTimeout(()=>{this.perfmonData.perfOverlayAbsolutePosition&&this.perfOverlayCoordinatesChanged$.next(this.perfmonData.perfOverlayAbsolutePosition)},250),this.isReflexAnalyzerAvailable&&(this.setCustAvgOnInit(),this.isRLASupportedDriver(),this.getFlashIndicatorStatus()&&this.setFlashIndicatorSize(!0)),!0))).subscribe()}getDefaultPerfMonData(){return this.perfmonData={isPerfOverlayVisible:!1,activeMetricSetId:C.vE,activeLayout:C.y6,perfOverlayVisibilityMode:C.V3,perfOverlayAbsolutePosition:null,isLogging:!1,logPath:"",customMetrics:[...C.I5.find(T=>T.id===C.vE).metrics],rectAlignmentStatus:!0,flashIndicatorStatus:!1,avgSampleSize:20},this.updateDefaultLoggingPath(),this.perfmonData}loadPerfMonData(){return this.dBStore.getItem(this.PerfMonStorageKeyName).pipe((0,M.U)(T=>T?(this.logger.info("Loaded perfmon data from the storage"),this.perfmonData=T,!0):(this.logger.info("No perfmon data found in storage"),this.perfmonData=this.getDefaultPerfMonData(),!1)),(0,P.K)(T=>(this.logger.error("Could not load perfmon data from the storage: ",JSON.stringify(T)),this.perfmonData=this.getDefaultPerfMonData(),(0,x.of)(!1))),(0,L.b)(()=>{this.loadCustomMetricSet()}))}registerAppNotifications(){this.bridgeService.executeCommand(v.Gh.Share.Shareserver.RegisterAppNotifications).pipe((0,a.h)(T=>!(null==T||!T.appStarted))).subscribe(T=>{this.onGameStart(T)}),this.bridgeService.executeCommand(v.Gh.Share.Shareserver.RegisterGeneralNotifications).pipe((0,a.h)(T=>!(null==T||!T.gameExited))).subscribe(T=>{this.onGameExit()})}onGameStart(T){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.SetProcessId,{processId:T.appStarted.pid}).subscribe(B=>{this.isValidGameRunning=!0}),void 0===this.perfmonData.rectAlignmentStatus&&(this.perfmonData.rectAlignmentStatus=!0),this.perfmonData.rectAlignmentStatus&&this.isRLAsupportedDD&&this.isRLAEnabled&&(this.perfmonData.isPerfOverlayVisible?this.alignMonitoringRect():(this.enablePerfTracking(this.perfmonData.isPerfOverlayVisible),setTimeout(()=>{this.alignMonitoringRect(),setTimeout(()=>{this.perfmonData.isPerfOverlayVisible||this.enablePerfTracking(this.perfmonData.isPerfOverlayVisible)},C.nE)},C.uT)))}onGameExit(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.SetProcessId,{processId:0}).subscribe(T=>{this.isValidGameRunning=!1})}registerPerfStatsNotifications(){this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.RegisterPerfStatsNotifications).subscribe(T=>{this.updatePerfStats(T)},T=>{this.logger.error("error:",T)})}setHotkeys(T){this.bridgeService.executeCommand(v.Gh.Share.Shareserver.SetHotkeyDynamicEnable,{enable:T,keys:[A.sW.PMOCOverlay,A.sW.PMOCLoggingToggle,A.sW.PMOCOverlayCycle,A.sW.PMOCSideBar]}).subscribe(B=>{this.logger.info("result:",B)},B=>{this.logger.error("error:",B)})}registerHotkey(T,B){this.hotkeyService.listen(T).pipe((0,o.p)(this.throttleDuration)).subscribe(()=>{B()})}registerHotkeyNotifications(){this.registerHotkey(A.sW.PMOCOverlay,this.togglePerfOverlay.bind(this)),this.registerHotkey(A.sW.PMOCLoggingToggle,this.toggleLogging.bind(this)),this.registerHotkey(A.sW.PMOCOverlayCycle,this.cyclePerfOverlayMetrics.bind(this)),this.registerHotkey(A.sW.PMOCSideBar,this.toggleEnhancedMode.bind(this))}togglePerfOverlay(T){this.checkPerformancePositionCoordinates(),this.perfmonData.isPerfOverlayVisible=void 0!==T?T:!this.perfmonData.isPerfOverlayVisible,this.perfmonData.isPerfOverlayVisible&&(this.isPerfOverlayEnabled=!0),this.enablePerfTracking(this.perfmonData.isPerfOverlayVisible),this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible),this.savePersistedData()}cyclePerfOverlayMetrics(){if(!this.perfmonData.isPerfOverlayVisible)return;this.logger.info("cyclePerfOverlay, current metricSet:",this.perfmonData.activeMetricSetId,this.isRLAEnabled);let T=0;T=this.isRLAEnabled?(this.perfmonData.activeMetricSetId+1)%5:this.perfmonData.activeMetricSetId===C.$j.Advanced?(this.perfmonData.activeMetricSetId+2)%5:(this.perfmonData.activeMetricSetId+1)%5,this.setMetricSet(T)}toggleEnhancedMode(){this.perfmonData.isPerfOverlayVisible&&(this.logger.info("toggleEnhancedMode, current mode:",this.perfmonData.perfOverlayVisibilityMode),this.setVisibilityMode((this.perfmonData.perfOverlayVisibilityMode+1)%2))}initPerfStats(){return this.bridgeService.executeCommand(v.Gh.Share.Nvperfmon.GetGpuInfo).pipe((0,M.U)(T=>(this.gpuData=T.gpus,this.logger.info("GPUData",this.gpuData),this.gpuData.forEach((B,K)=>{this.perfData[K]=(0,C.U0)()}),!0)),(0,P.K)(T=>(this.logger.error("error:",T),(0,x.of)(!1))))}round(T,B){return Math.round(T*(B=Math.pow(10,B)))/B}fillPerfMetrics(T,B){const K=this.perfData[B],b=T.gpusPerfStats.find(f=>f.gpuIndex===B);K.forEach(f=>{let D;if(b&&f.category===C.vl.GPU){if(D=b[f.metricId],"gpuFanSpeed"===f.metricId&&D&&D.length>0){let I=0;for(let w=0;w<D.length;w++)I+=parseInt(D[w].fanSpeed,10);D=I/D.length}}else D=T[f.metricId];"reflexMonitorPosition"!==f.metricId&&(D>0&&f.category===C.vl.FPS?D=Math.round(D):D>0&&(f.category===C.vl.Latency||"renderLatency"===f.metricId)?D=this.round(D,1).toFixed(1):void 0!==D&&(D=this.round(D,1))),f.value=D,this.updateMetricVisibility(f)})}checkFPSViewVisibility(T){this.perfmonData.activeMetricSetId===C.$j.FPS&&(void 0===T||this.fpsMetricVisible?void 0===T&&this.fpsMetricVisible&&(this.fpsMetricVisible=!1,this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible)):(this.fpsMetricVisible=!0,this.perfOverlayVisibilityChanged$.next(this.perfmonData.isPerfOverlayVisible)))}updatePerfStats(T){T&&T.gpusPerfStats&&T.gpusPerfStats.length>0?(T.gSyncLamp&&(Object.keys(T.gSyncLamp).forEach(B=>{if("lamEnabled"===B)T.gSyncLamp[B]!==this.isLAMSupported&&(this.logger.info("Lam metrics support recieved"),this.logger.info("stats:",T),this.isLAMSupported=T.gSyncLamp[B]);else if("reflexMonitorPosition"===B){const K=T.gSyncLamp[B];T[B]="("+K.topleftx+", "+K.toplefty+")"}else if(B.toLowerCase().includes("mouselatency")){const K=T.gSyncLamp[B].latency;T[B]=K&&K>0?K/1e3:void 0}else{const K=T.gSyncLamp[B];T[B]=K&&K>0?K/1e3:void 0}}),delete T.gSyncLamp),this.gpuData.forEach(B=>{this.fillPerfMetrics(T,B.index),this.checkFPSViewVisibility(T.fps)})):this.logger.error("No GPU stats present, ignore this FvSDK sample:",T)}}return O.\u0275fac=function(T){return new(T||O)(S.LFG(S.zs3),S.LFG(s.sK),S.LFG(r.ed),S.LFG(r.MC),S.LFG(r.dF),S.LFG(A.y1),S.LFG(l.l),S.LFG(r.ty),S.LFG(m.nG))},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},77892:(Ge,ae,e)=>{"use strict";e.d(ae,{A2:()=>o,Kj:()=>m,Nx:()=>P,Vk:()=>x,Yi:()=>L,dQ:()=>v,ib:()=>n,y5:()=>y}),e(21361);var n=(()=>{return(S=n||(n={}))[S.FEATURE_SUPPORT_ERROR_OK=0]="FEATURE_SUPPORT_ERROR_OK",S[S.FEATURE_SUPPORT_ERROR_ERROR=1]="FEATURE_SUPPORT_ERROR_ERROR",S[S.FEATURE_SUPPORT_ERROR_MINIMUM_DRIVER_VERSION_NOT_MET=2]="FEATURE_SUPPORT_ERROR_MINIMUM_DRIVER_VERSION_NOT_MET",S[S.FEATURE_SUPPORT_ERROR_OS_HDR_DISABLED=3]="FEATURE_SUPPORT_ERROR_OS_HDR_DISABLED",n;var S})(),x=(()=>{return(S=x||(x={}))[S.GPU_INCOMPATIBLE=0]="GPU_INCOMPATIBLE",S[S.CLIENT_VIRTUALIZATION_ENABLED=1]="CLIENT_VIRTUALIZATION_ENABLED",S[S.OS_INCOMPATIBLE=2]="OS_INCOMPATIBLE",S[S.MSHYBRID_ENABLED=8]="MSHYBRID_ENABLED",x;var S})(),M=(()=>{return(S=M||(M={}))[S.MULTI_MON_DETECTED=3]="MULTI_MON_DETECTED",S[S.HDR_DISABLED=4]="HDR_DISABLED",S[S.SOC_FEATURE_ENABLED=5]="SOC_FEATURE_ENABLED",S[S.SLI_ENABLED=6]="SLI_ENABLED",S[S.SURROUND_ENABLED=7]="SURROUND_ENABLED",S[S.MSHYBRID_ENABLED_DDS_IGPU=9]="MSHYBRID_ENABLED_DDS_IGPU",S[S.MINIMUM_DRIVER_VERSION_NOT_MET=20]="MINIMUM_DRIVER_VERSION_NOT_MET",S[S.GAME_DISALLOWED=21]="GAME_DISALLOWED",M;var S})();const L={[M.MULTI_MON_DETECTED]:"nvcamera.PpeError.multiMonitor",[M.MINIMUM_DRIVER_VERSION_NOT_MET]:"nvcamera.PpeError.minDriver",[M.HDR_DISABLED]:"nvcamera.PpeError.osHdr",[M.SLI_ENABLED]:"nvcamera.PpeError.sli",[M.SURROUND_ENABLED]:"nvcamera.PpeError.surround",[M.SOC_FEATURE_ENABLED]:"nvcamera.PpeError.socFeatures",[M.MSHYBRID_ENABLED_DDS_IGPU]:"nvcamera.PpeError.msHybridDDS"};var p=(()=>{return(S=p||(p={}))[S.DRS_REGKEY_NOT_SET=0]="DRS_REGKEY_NOT_SET",S[S.UNSUPPORTED_PRESENTATION_MODE=1]="UNSUPPORTED_PRESENTATION_MODE",S[S.GAME_HDR_ENABLED=2]="GAME_HDR_ENABLED",p;var S})();const P={[p.DRS_REGKEY_NOT_SET]:"nvcamera.PpeError.featureDisabled",[p.UNSUPPORTED_PRESENTATION_MODE]:"nvcamera.PpeError.iFlip",[p.GAME_HDR_ENABLED]:"nvcamera.PpeError.gameHdr"},o="sqhfx7",v="nXEC17",y="ydzplY";class m{constructor(){this.ppeFilterSlot={}}}},6083:(Ge,ae,e)=>{"use strict";e.d(ae,{$R:()=>K,AD:()=>ze,AN:()=>L,F8:()=>l,FC:()=>T,FU:()=>s,HR:()=>Pe,J2:()=>pe,Jd:()=>k,K8:()=>S,KZ:()=>H,LN:()=>E,M8:()=>$,MG:()=>b,NX:()=>i,Nj:()=>me,ON:()=>w,PH:()=>et,Po:()=>a,QR:()=>_,R5:()=>C,RX:()=>ne,RY:()=>z,Rb:()=>Me,SE:()=>P,VC:()=>Xe,W6:()=>m,WU:()=>Y,Wg:()=>O,Z1:()=>v,ZA:()=>f,_B:()=>nt,bo:()=>J,bq:()=>o,cd:()=>_e,ci:()=>u,ck:()=>Ze,f3:()=>I,fP:()=>n,gY:()=>U,h7:()=>r,j6:()=>W,kT:()=>G,kt:()=>D,ky:()=>ue,lH:()=>re,lj:()=>Te,m$:()=>R,o8:()=>q,og:()=>p,p9:()=>F,pJ:()=>y,pg:()=>M,qG:()=>h,rS:()=>d,uz:()=>Z,wB:()=>A,zZ:()=>N,zc:()=>x,ze:()=>ee});var t=e(9357),n=(()=>{return(Q=n||(n={})).gfn="GFN",Q.standalone="Standalone",n;var Q})(),x=(()=>{return(Q=x||(x={})).image="Image",Q.video="Video",Q.none="None",x;var Q})(),M=(()=>{return(Q=M||(M={})).initial="Initial",Q.settings="Settings",Q.alreadyOn="AlreadyOn",Q.alreadyOff="AlreadyOff",M;var Q})(),L=(()=>{return(Q=L||(L={})).GameFilter="Freestyle",Q.PhotoMode="Ansel",Q.PhotoModeLight="AnselLite",L;var Q})(),p=(()=>{return(Q=p||(p={})).connect="Connect",Q.disconnect="Disconnect",Q.requestpermissions="RequestPermissions",Q.getlanguage="GetLanguage",Q.highlightsconfigure="HighlightsConfigure",Q.highlightsopengroup="HighlightsOpenGroup",Q.highlightsclosegroup="HighlightsCloseGroup",Q.highlightssavevideo="HighlightsSaveVideo",Q.highlightssavescreenshot="HighlightsSaveScreenshot",Q.highlightsopensummary="HighlightsOpenSummary",Q.highlightsgetcount="HighlightsGetCount",Q.highlightsgetuserconfig="HighlightsGetUserConfig",Q.opsoptimize="OpsOptimize",Q.unknown="UNKNOWN",p;var Q})(),P=(()=>{return(Q=P||(P={})).success="NVGSDK_SUCCESS",Q.successversionoldsdk="NVGSDK_SUCCESS_VERSION_OLD_SDK",Q.successversionoldgfe="NVGSDK_SUCCESS_VERSION_OLD_GFE",Q.successpending="NVGSDK_SUCCESS_PENDING",Q.successusernotinterested="NVGSDK_SUCCESS_USER_NOT_INTERESTED",Q.successpermissiongranted="NVGSDK_SUCCESS_PERMISSION_GRANTED",Q.successlinked="NVGSDK_SUCCESS_LINKED",Q.errgeneric="NVGSDK_ERR_GENERIC",Q.errgfeversion="NVGSDK_ERR_GFE_VERSION",Q.errsdkversion="NVGSDK_ERR_SDK_VERSION",Q.errnotimplemented="NVGSDK_ERR_NOT_IMPLEMENTED",Q.errinvalidparameter="NVGSDK_ERR_INVALID_PARAMETER",Q.errnotset="NVGSDK_ERR_NOT_SET",Q.errshadowplayirdisabled="NVGSDK_ERR_SHADOWPLAY_IR_DISABLED",Q.errsdkinuse="NVGSDK_ERR_SDK_IN_USE",Q.errgroupnotfound="NVGSDK_ERR_GROUP_NOT_FOUND",Q.errfilenotfound="NVGSDK_ERR_FILE_NOT_FOUND",Q.errhighlightssetupfailed="NVGSDK_ERR_HIGHLIGHTS_SETUP_FAILED",Q.errhighlightsnotconfigured="NVGSDK_ERR_HIGHLIGHTS_NOT_CONFIGURED",Q.errhighlightssavefailed="NVGSDK_ERR_HIGHLIGHTS_SAVE_FAILED",Q.errunexpectedexception="NVGSDK_ERR_UNEXPECTED_EXCEPTION",Q.errnohighlights="NVGSDK_ERR_NO_HIGHLIGHTS",Q.errnoconnection="NVGSDK_ERR_NO_CONNECTION",Q.errpermissionnotgranted="NVGSDK_ERR_PERMISSION_NOT_GRANTED",Q.errpermissiondenied="NVGSDK_ERR_PERMISSION_DENIED",Q.errinvalidhandle="NVGSDK_ERR_INVALID_HANDLE",Q.errunhandledexception="NVGSDK_ERR_UNHANDLED_EXCEPTION",Q.erroutofmemory="NVGSDK_ERR_OUT_OF_MEMORY",Q.errloadlibrary="NVGSDK_ERR_LOAD_LIBRARY",Q.errlibcallfailed="NVGSDK_ERR_LIB_CALL_FAILED",Q.erripcfailed="NVGSDK_ERR_IPC_FAILED",Q.errconnection="NVGSDK_ERR_CONNECTION",Q.errmodulenotloaded="NVGSDK_ERR_MODULE_NOT_LOADED",Q.errapplicationlookupfailed="NVGSDK_ERR_APPLICATION_LOOKUP_FAILED",Q.errapplicationnotknown="NVGSDK_ERR_APPLICATION_NOT_KNOWN",Q.errfeaturedisabled="NVGSDK_ERR_FEATURE_DISABLED",Q.errlibcalltimeout="NVGSDK_ERR_LIB_CALL_TIMEOUT",Q.errappnooptimization="NVGSDK_ERR_APP_NO_OPTIMIZATION",Q.errappsettingsread="NVGSDK_ERR_APP_SETTINGS_READ",Q.errappsettingswrite="NVGSDK_ERR_APP_SETTINGS_WRITE",Q.errhighlightnotdefined="NVGSDK_ERR_HIGHLIGHT_NOT_DEFINED",Q.errcaplimitreached="NVGSDK_ERR_CAP_LIMIT_REACHED",Q.errdisklimitreached="NVGSDK_ERR_DISK_LIMIT_REACHED",P;var Q})(),a=(()=>{return(Q=a||(a={})).on="Yes",Q.true="Yes",Q.yes="Yes",Q.off="No",Q.false="No",Q.no="No",a;var Q})(),o=(()=>{return(Q=o||(o={})).openHotkey="OpenHotkey",Q.highlightsButton="HighlightsButton",o;var Q})(),v=(()=>{return(Q=v||(v={})).internal="Internal",Q.external="External",Q.network="Network",Q.unknown="Unknown",v;var Q})(),y=(()=>{return(Q=y||(y={})).root="Root",Q.folder="Folder",Q.content="Content",y;var Q})(),C=(()=>{return(Q=C||(C={})).none="None",Q.screenshot="Screenshot",Q.video="Video",Q.ir="InstantReplay",Q.highlight="Highlight",C;var Q})(),A=(()=>{return(Q=A||(A={})).none="None",Q.settings="Settings",Q.galleryMain="GalleryMain",Q.galleryImagePreview="GalleryImagePreview",Q.galleryVideoPreview="GalleryVideoPreview",Q.browser="FolderBrowser",Q.mainMenu="MainMenu",Q.general="General",Q.highlights="HighlightsSettings",Q.videoCapture="VideoCaptureSettings",Q.storage="StorageSettings",Q.shortcuts="HotkeySettings",Q.headsup="HUDSettings",Q.notifications="NotificationSettings",Q.audioCapture="AudioCaptureSettings",Q.broadcast="BroadcastSettings",Q.gfnBroadcast="GfnBroadcast",Q.connect="ConnectSettings",Q.connectOauth="ConnectOauth",Q.broadcastLive="BroadcastLive",Q.share="Share",Q.privacy="Privacy",Q.system="System",Q.gameplay="Gameplay",Q.debug="Debug",Q.graphics="Graphics",Q.instantReplay="InstantReplay",A;var Q})(),d=(()=>{return(Q=d||(d={})).startManualCapture="StartManualCapture",Q.stopAndSaveManualCapture="StopAndSaveManualCapture",Q.turnOnInstantReplay="TurnOnInstantReplay",Q.instantReplaySaved="InstantReplaySaved",Q.turnOffInstantReplay="TurnOffInstantReplay",Q.screenshotSaved="ScreenshotSaved",d;var Q})(),m=(()=>{return(Q=m||(m={})).upperRight="UpperRight",Q.lowerRight="LowerRight",Q.lowerLeft="LowerLeft",Q.upperLeft="UpperLeft",Q.none="None",m;var Q})(),S=(()=>{return(Q=S||(S={})).standard="Standard",Q.compact="Compact",S;var Q})(),s=(()=>{return(Q=s||(s={})).balanced="Balanced",Q.dataSaver="DataSaver",Q.competitive="Competitive",Q.custom="Custom",s;var Q})(),r=(()=>{return(Q=r||(r={})).recording="Recording",Q.iR="IR",Q.highlights="Highlights",Q.mic="Mic",Q.statistics="Statistics",Q.network="Network",r;var Q})(),l=(()=>{return(Q=l||(l={})).empty="Empty",Q.openOverlay="OpenOverlay",Q.connectionStatus="ConnectionStatus",Q.saveIRToGallery="SaveIRToGallery",Q.saveMRToGallery="SaveMRToGallery",Q.saveSSToGallery="SaveSSToGallery",Q.saveHLToGallery="SaveHLToGallery",Q.iROnOff="IROnOff",Q.mROn="MROn",l;var Q})(),i=(()=>{return(Q=i||(i={})).anselFreeStyle="AnselFreestyleNoResponse",Q.anselFreestyleGeneralFailure="AnselFreestyleGeneralFailure",Q.anselFailedToStart="AnselFailedToStart",Q.anselNoSpaceLeft="AnselNoSpaceLeft",Q.anselPermissionDenied="AnselPermissionDenied",Q.anselInvalidRequest="AnselInvalidRequest",Q.anselFreestyleAlreadyEnabled="AnselFreestyleAlreadyEnabled",Q.anselFreestyleAlreadyDisabled="AnselFreestyleAlreadyDisabled",Q.anselOutOfRange="AnselOutOfRange",Q.anselFreestyleAlreadySet="AnselFreestyleAlreadySet",Q.anselFreestyleIncompatibleVersion="AnselFreestyleIncompatibleVersion",Q.anselFreestyleAppFatalError="AnselFreestyleAppFatalError",Q.anselFreestyleAppNonFatalError="AnselFreestyleAppNonFatalError",Q.anselFreestyleUnsupportedGameError="AnselFreestyleUnsupportedGameError",Q.anselFreestyleMenuLaunchError="AnselFreestyleMenuLaunchError",i;var Q})(),O=(()=>{return(Q=O||(O={})).nvCameraTimedOut="NvCameraTimedOut",Q.gameBlacklisted="GameBlackListed",Q.unsupportedGame="UnSupportedGame",Q.streamerError="StreamerError",O;var Q})(),Y=(()=>{return(Q=Y||(Y={})).started="Started",Q.completed="Completed",Q.cancelled="Cancelled",Q.failed="Failed",Y;var Q})(),T=(()=>{return(Q=T||(T={})).anselScreenshotTimeoutFailure="AnselScreenshotTimeoutFailure",Q.anselScreenshotUnknownFailure="AnselScreenshotUnknownFailure",Q.anselScreenshotNoFailure="AnselScreenshotNoFailure",T;var Q})(),K=(()=>{return(Q=K||(K={})).nvCameraReadyNotificationNotReceived="NvCameraReadyNotificationNotReceived",Q.featureNotAvailable="FeatureNotAvailable",Q.nvCameraSessionConfigurationFailed="NvCameraSessionConfigurationFailed",Q.featureDisabledReasonUnknown="FeatureDisabledReasonUnknown",K;var Q})(),b=(()=>{return(Q=b||(b={})).start="Start",Q.stop="Stop",Q.pause="Pause",Q.resume="Resume",b;var Q})(),f=(()=>{return(Q=f||(f={})).adobe="Adobe",Q.facebook="Facebook",Q.lightstream="Lightstream",Q.twitch="Twitch",Q.youtube="YouTube",f;var Q})(),D=(()=>{return(Q=D||(D={})).failedToStart="FailedToStart",Q.failedToStop="FailedToStop",Q.timeoutError="TimeoutError",Q.unknownError="UnknownError",D;var Q})();class I extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="GFNSession"}}class w extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="OpenedIGO"}}class _ extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="SettingSnapshot"}}class $ extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="UITransition"}}class G extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="HighlightsGameSetting"}}class F extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="HighlightsIndividualGameToggle"}}class J extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="HighlightsCancelled"}}class z extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="SDKCallResult"}}class Z extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="GalleryAccess"}}class ue extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="GalleryFilterUsed"}}class u extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="GalleryPlayedVideo"}}class k extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="GalleryFileRemoved"}}class W extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Behavioral,this.name="GalleryOpenedFileLocation"}}class N extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="CaptureEvent"}}class H{constructor(ve,be){this.bridgeService=ve,this.streamerConfigService=be}get streamerConfig(){var ve;return null===(ve=this.streamerConfigService)||void 0===ve?void 0:ve.activeConfig}generateFinalizedEvent(ve,be){return ve.cmsId=ve.cmsId||(this.streamerConfig?this.streamerConfig.cmsId.toString():""),ve.shortName=ve.shortName||(this.streamerConfig?this.streamerConfig.shortName:""),new be(ve)}}class h extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleSession"}}class E extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleSession"}}class ee extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleFilters"}}class R extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleFilters"}}class q extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="FreestyleStylesApplied"}}class ne extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="FreestyleStylesApplied"}}class _e extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselScreenshotEvent"}}class U extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleError"}}class re extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="AnselFreestyleError"}}class pe extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Technical,this.name="AnselFreestyleFeatureDisabled"}}class Pe extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="BroadcastEvent"}}class Te extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="BroadcastError"}}class me extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="StatsClosedEvent"}}class et extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="StatsViewChangedEvent"}}class Xe extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="GameplayEntryEvent"}}class Ze extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="StreamingQualityChangedEvent"}}class nt extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="ResolutionUpscalingChangedEvent"}}class Me extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="WidgetViewChangedEvent"}}class ze extends t.MW{constructor(){super(...arguments),this.gdprLevel=t.KM.Functional,this.name="NotificationChangedEvent"}}},96743:(Ge,ae,e)=>{"use strict";e.d(ae,{b:()=>x});var t=e(6083),n=e(23815);class x{constructor(){this.clientHost=t.fP.standalone,this.modsActive=!1}toTelemetryBoolean(L){return L?t.Po.yes:t.Po.no}setModsActiveStatus(L){this.modsActive=L}sendHighlightCapture(L,p,P,a,o){}init(){}initCommonData(){return(0,n.of)(null)}}},86329:(Ge,ae,e)=>{"use strict";e.d(ae,{l:()=>b});var t=e(21361),n=e(59562),x=e(50936),M=e(45661),L=e(23815),p=e(89258),P=e(33932),a=e(53557),o=e(71265),v=e(6083),y=e(61799),C=e(82195),A=e(97483),d=e(39382),m=e(89838),S=e(59717),s=e(77779),r=e(96743),l=e(39609),i=e(64710),O=e(35880),Y=e(32016),T=e(95914),B=e(14310),K=e(9357);let b=(()=>{class f{constructor(I,w,_,$,G,F,J,z,Z,ue,u,k){this.loggingService=I,this.bridgeService=w,this.igoConfig=_,this.injector=$,this.hotkeyService=G,this.appLifetimeService=F,this.dbService=J,this.osdService=z,this.notificationService=Z,this.igoPiplLocaleConfigService=ue,this.systemInfoService=u,this.telemetryService=k,this.commonData={},this.lastUiState=v.wB.none,this.lastUiTransitionTime=null,this.sdkCalls=[],this.maxBatchSDKCalls=100,this.clientHost=v.fP.standalone,this.driveTypeMap={unknown:v.Z1.unknown,removable:v.Z1.external,fixed:v.Z1.internal,network:v.Z1.network},this.captureEventsMap={},this.screenPosMap={},this.statsFormat={},this.profileNameMap={},this.widgetIndicatorMap={},this.notificationMap={},this.wasHighlightsEnabled=!1,this.cachedSessionId="",this.folderScreenshots=0,this.folderVideos=0,this.irBufLength=new n.t(1),this.gallerySettings=new n.t(1),this.modsActive=!1,this.logger=this.loggingService.getLogger("TelemetryHelperService"),this.screenPosMap[m.Fr.leftBottom]=v.W6.lowerLeft,this.screenPosMap[m.Fr.leftTop]=v.W6.upperLeft,this.screenPosMap[m.Fr.rightBottom]=v.W6.lowerRight,this.screenPosMap[m.Fr.rightTop]=v.W6.upperRight,this.screenPosMap[m.Fr.none]=v.W6.none,this.statsFormat[m._C.standard]=v.K8.standard,this.statsFormat[m._C.compact]=v.K8.compact,this.profileNameMap[A.M1b.Balanced]=v.FU.balanced,this.profileNameMap[A.M1b.DataSaver]=v.FU.dataSaver,this.profileNameMap[A.M1b.Competitive]=v.FU.competitive,this.profileNameMap[A.M1b.Custom]=v.FU.custom,this.widgetIndicatorMap[m.Kw.Recording]=v.h7.recording,this.widgetIndicatorMap[m.Kw.IR]=v.h7.iR,this.widgetIndicatorMap[m.Kw.Highlights]=v.h7.highlights,this.widgetIndicatorMap[m.Kw.Mic]=v.h7.mic,this.widgetIndicatorMap[m.Kw.Statistics]=v.h7.statistics,this.widgetIndicatorMap[m.Kw.Network]=v.h7.network,this.notificationMap[S._R.Empty]=v.F8.empty,this.notificationMap[S._R.OpenOverlay]=v.F8.openOverlay,this.notificationMap[S._R.ConnectionStatus]=v.F8.connectionStatus,this.notificationMap[S._R.SaveIRToGallery]=v.F8.saveIRToGallery,this.notificationMap[S._R.SaveMRToGallery]=v.F8.saveMRToGallery,this.notificationMap[S._R.SaveSSToGallery]=v.F8.saveSSToGallery,this.notificationMap[S._R.SaveHLToGallery]=v.F8.saveHLToGallery,this.notificationMap[S._R.IROnOff]=v.F8.iROnOff,this.notificationMap[S._R.MROn]=v.F8.mROn}init(){let I;this.logger.info("Initializing telemetry"),this.sessionStartTime=Date.now(),this.telemetryHelperIGOService=this.injector.get(r.b),"GFN"===this.igoConfig.branding?(this.streamingService=this.injector.get(y.F),I=this.injector.get(s.o),this.appConfig=this.injector.get(d.VK),this.streamingSubscription=this.streamingService.streamingEvent$.subscribe(w=>{w.event===C.V4.SESSION_SETUP_SUCCESS&&(this.sendSettingsTelemetry(),this.cachedSessionId=this.streamingService.streamingProperties.sessionId||"",this.streamingSubscription.unsubscribe())}),this.gridService=this.injector.get(A.rIG),this.gridService.getCachedZone().subscribe(w=>{this.zone=w})):this.registerForlocaleChangeNotification(),this.perGameEventFactory=new v.KZ(this.bridgeService,I),this.clientHost="GFN"===this.igoConfig.branding?v.fP.gfn:v.fP.standalone,"GFN"===this.igoConfig.branding?this.appLifetimeService.addWorkOnShutdown(()=>new x.y(w=>{w.next(this.sendExitTelemetry()),w.complete()})):this.telemetryHelperIGOService.initCommonData().subscribe(w=>{this.commonData=w}),this.telemetryHelperIGOService.init()}registerForlocaleChangeNotification(){this.igoPiplLocaleConfigService.localConfigChangeNotification().subscribe(I=>{var w;const _=null===(w=null==I?void 0:I.jsEvents)||void 0===w?void 0:w.server;_?this.telemetryService.setServerConfig(_):this.logger.error("Telemetry Server URL empty in local config ",I)})}getLocaleOverride(){return this.bridgeService.executeCommand(t.Gh.Common.Nvlocalizedconfig.GetLocalizationData)}sendExitTelemetry(){this.sendSDKCallResults(!1,!0);const I=this.perGameEventFactory.generateFinalizedEvent({wasHighlightsAvailable:this.toTelemetryBoolean(this.wasHighlightsEnabled),sessionDurationMs:Date.now()-this.sessionStartTime,sessionId:this.cachedSessionId},v.f3);this.telemetryService.push(I,0,{appExit:!0})}beginStartupTimer(I){this.uiBringupStartTime=Date.now(),this.uiBringupOrigin=I}sendStartupTelemetry(){if(!this.uiBringupStartTime)return void this.logger.error("Cannot send ui bringup time, timer was never started");const I=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,openedFrom:this.uiBringupOrigin,totalMs:Date.now()-this.uiBringupStartTime},v.ON);this.telemetryService.push(I)}sendSettingsTelemetry(){const I=this.dbService.getGlobalStore("IGOTelemetry");I.getItem("lastSettingsSendTime").subscribe(w=>{this.logger.info("sendTime: ",w,"alwaysSend: ",this.appConfig?this.appConfig.featureEnablement?this.appConfig.featureEnablement.alwaysSendSettingsTelemetry:"No featureEnablement in config":"No appConfig"),(this.appConfig&&this.appConfig.featureEnablement&&this.appConfig.featureEnablement.alwaysSendSettingsTelemetry||!w||Date.now()-w>6048e5)&&(this.logger.info("Sending settings"),this.doSendSettingsTelemetry(),I.setItem("lastSettingsSendTime",Date.now()))})}doSendSettingsTelemetry(){let w=0,_=0,$=0,G=v.Z1.unknown;const F={clientHost:this.clientHost,gallerySizeMB:0,gallerySpaceUsedPercent:0,typeOfStorageDrive:G,areGlobalHighlightsOn:this.toTelemetryBoolean(!1),openIGOHotkey:"",numGalleryImages:0,numGalleryVideos:0,instantReplayBufferLength:0,galleryTotalSizeMB:0,screenshotHotkey:"",irToggleHotkey:"",saveIRHotkey:"",mrHotkey:"",statsHotkey:"",recordingHUDLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.Recording)],instantReplayHUDLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.IR)],highlightsHUDLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.Highlights)],micHUDLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.Mic)],connectionStatusHUDLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.Network)],statsLocation:this.screenPosMap[this.osdService.getPosition(m.Kw.Statistics)],statsFormat:this.statsFormat[this.osdService.getStatsSize()],irSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.SaveIRToGallery-1].enable),mrSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.SaveMRToGallery-1].enable),screenshotSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.SaveSSToGallery-1].enable),irToggleIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.IROnOff-1].enable),mrStartedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.MROn-1].enable),highlightSavedIndicatorOn:this.toTelemetryBoolean(this.notificationService.getNotificationControls()[S._R.SaveHLToGallery-1].enable)},J=(0,M.D)([this.bridgeService.executeCommand(t.Gh.Common.Gallery.EnumerateDrives),this.gallerySettings]).pipe((0,p.U)(([Z,ue])=>{if(ue.settings.path)for(const u of Z.drives)if(ue.settings.path.startsWith(u.name))return G=this.driveTypeMap[u.type]||v.Z1.unknown,G;return G})),z=this.gallerySettings.pipe((0,p.U)(Z=>(Z.settings.capacity&&(w=Z.settings.capacity.enabled?Math.round(Z.settings.capacity.capacityPercent*Z.settings.capacity.totalDiskSpaceMB):0,_=Z.settings.capacity.usageMB,$=Z.settings.capacity.totalDiskSpaceMB),F.gallerySizeMB=_,F.gallerySpaceUsedPercent=w>0?Math.round(100*_/w):0,F.galleryTotalSizeMB=$,Z)),(0,P.zg)(Z=>Z.settings.path?this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFolderListing,{directory:Z.settings.path,shouldGetOnlyNv:!0,excludeDirectoryType:t.Yk.Common.Gallery.ExcludeDirectoryType.empty}):(0,L.of)(null)),(0,p.U)(Z=>Z&&Z.directories.length>0?Z.directories:[""]),(0,P.zg)(Z=>(0,L.of)(...Z)),(0,P.zg)(Z=>0===Z.length?(0,L.of)({screenshots:0,videos:0}):this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetAppStats,{appName:Z})),(0,a.u)((Z,ue)=>(Z.numImages+=ue.screenshots,Z.numVideos+=ue.videos,Z),{numImages:0,numVideos:0}),(0,o.b)(Z=>{F.numGalleryImages=Z.numImages,F.numGalleryVideos=Z.numVideos}),(0,P.zg)(()=>J),(0,o.b)(Z=>{F.typeOfStorageDrive=Z||v.Z1.unknown}),(0,P.zg)(()=>this.bridgeService.executeCommand(t.Gh.Share.Shareserver.GetHighlightsEnable)),(0,o.b)(Z=>{F.areGlobalHighlightsOn=this.toTelemetryBoolean(Z.enable)}),(0,P.zg)(()=>this.irBufLength),(0,o.b)(Z=>{F.instantReplayBufferLength=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.OpenIGO)),(0,o.b)(Z=>{F.openIGOHotkey=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.Screenshot)),(0,o.b)(Z=>{F.screenshotHotkey=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.DVRToggle)),(0,o.b)(Z=>{F.irToggleHotkey=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.DVRSave)),(0,o.b)(Z=>{F.saveIRHotkey=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.RecordToggle)),(0,o.b)(Z=>{F.mrHotkey=Z}),(0,P.zg)(()=>this.hotkeyService.getHotkeyString(t.Yk.Share.Shareserver.HotkeyEnum.StatisticsToggle)),(0,o.b)(Z=>{F.statsHotkey=Z})).subscribe(()=>{this.logger.info("Actually sending settings telemetry",F);const Z=new v.QR(F);this.telemetryService.push(Z,0,{immediateRequest:!0}),z.unsubscribe()})}updateReplayLength(I){this.irBufLength.next(I),this.irBufLength.complete()}updateGallerySettings(I){this.gallerySettings.next(I),this.gallerySettings.complete()}trackNavigation(I,w=v.wB.none){this.telemetryService.push(new v.M8({clientHost:this.clientHost,sessionId:this.cachedSessionId,oldState:this.lastUiState,newState:w,lingerTimeMs:I-this.lastUiTransitionTime,transitionTimeMs:Date.now()-I})),this.lastUiTransitionTime=Date.now(),this.lastUiState=w}toTelemetryBoolean(I){return I?v.Po.yes:v.Po.no}sendHighlightCapture(I,w,_,$,G){this.telemetryHelperIGOService.sendHighlightCapture(I,w,_,$,G)}sendHighlightsGameSetting(I,w,_){const $=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost,sessionId:this.cachedSessionId},I),{isOn:this.toTelemetryBoolean(w),permissionSource:_,modsActive:this.toTelemetryBoolean(this.modsActive)}),v.kT);this.telemetryService.push($)}sendHighlightsIndividualGameToggle(I,w,_){const $=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost},I),{highlightId:w,isOn:this.toTelemetryBoolean(_)}),v.p9);this.telemetryService.push($)}sendHighlightCancelled(I,w,_){const $=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost,sessionId:this.cachedSessionId},I),{highlightId:w,sdkVersion:_}),v.bo);this.telemetryService.push($)}recordSDKCallResult(I,w,_,$,G){this.wasHighlightsEnabled=!0,this.sdkCalls.unshift({apiAction:I,apiStatus:w,internalCode:_,gameInfo:$,sdkVersion:G}),w!==v.SE.success&&w!==v.SE.successversionoldsdk&&w!==v.SE.successversionoldgfe&&w!==v.SE.successpending&&w!==v.SE.successusernotinterested&&w!==v.SE.successpermissiongranted&&w!==v.SE.successlinked&&this.sendSDKCallResults(!0,!1),this.sdkCalls.length>=this.maxBatchSDKCalls&&this.sendSDKCallResults(!1,!1)}sendSDKCallResults(I,w){if(I)for(const _ of this.sdkCalls){const $=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost,sessionId:this.cachedSessionId},_.gameInfo),{apiAction:_.apiAction,apiStatus:_.apiStatus,internalCode:_.internalCode,sdkVersion:_.sdkVersion,count:1,highlightsSessionId:this.streamingService?this.cachedSessionId:"12345"}),v.RY);w?this.telemetryService.push($,0,{appExit:!0}):this.telemetryService.push($)}else{const _=[];for(const $ of this.sdkCalls){let G=!1;for(const F of _)if(F.apiAction===$.apiAction&&F.apiStatus===$.apiStatus){F.count++,G=!0;break}G||_.push(Object.assign(Object.assign({},$),{count:1}))}for(const $ of _){const G=this.perGameEventFactory.generateFinalizedEvent(Object.assign(Object.assign({clientHost:this.clientHost,sessionId:this.cachedSessionId},$.gameInfo),{apiAction:$.apiAction,apiStatus:$.apiStatus,internalCode:$.internalCode,sdkVersion:$.sdkVersion,count:$.count,highlightsSessionId:this.streamingService?this.cachedSessionId:"12345"}),v.RY);w?this.telemetryService.push(G,0,{appExit:!0}):this.telemetryService.push(G)}}this.sdkCalls=[]}startCaptureEvent(I){this.captureEventsMap[I]=Date.now()}sendCaptureEvent(I,w,_,$,G,F,J,z,Z){if(!this.captureEventsMap[I])return void this.logger.error("Attempted to end a performance measurement for "+I+" without starting it!");const ue=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,action:I,timeMs:Date.now()-this.captureEventsMap[I],modsActive:this.toTelemetryBoolean(this.modsActive),captureMethod:w,recordWidth:_,recordHeight:$,recordFramerate:G,recordCodec:F,colorSpaceRange:J,errorType:z,errorDetails:Z},v.zZ);this.telemetryService.push(ue),this.captureEventsMap[I]=0}startGalleryAccess(I){this.galleryAccessType=I,this.galleryNavStart=Date.now()}setGalleryAccessCached(I){this.galleryAccessCached=I}setGalleryFolderCounts(I,w){this.folderScreenshots=I,this.folderVideos=w}sendGalleryAccess(){if(!this.galleryAccessType||this.galleryAccessType!==v.pJ.folder&&this.galleryAccessType!==v.pJ.root)return void this.logger.error("Atempting to send gallery navigation telemetry that was never started!");const I=this.galleryAccessType;this.galleryAccessType=null;const w=Date.now()-this.galleryNavStart,_=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,isCached:this.toTelemetryBoolean(this.galleryAccessCached),contentType:v.zc.none,highlightId:"",navigationLevel:I,timeTakenMs:w,ageOfContent:0,numImages:this.folderScreenshots,numVideos:this.folderVideos,contentMatchesCurrentGame:v.Po.false},v.uz);this.telemetryService.push(_)}sendGalleryFileAccess(I){if(!this.galleryAccessType||this.galleryAccessType!==v.pJ.content)return void this.logger.error("Atempting to send gallery navigation telemetry that was never started!");const w=Date.now()-this.galleryNavStart;this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFileMetadata,{file:I.fullFilename}).subscribe(_=>{if(void 0===_.fileType)return;const $=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,isCached:v.Po.false,contentType:"image"===I.file.type?v.zc.image:v.zc.video,highlightId:I.hlName,navigationLevel:v.pJ.content,timeTakenMs:w,ageOfContent:Date.now()-new Date(I.date).getTime(),numImages:0,numVideos:0,contentMatchesCurrentGame:v.Po.false},v.uz);this.telemetryService.push($)})}sendGalleryFilterUsed(I){const w=new v.ky({clientHost:this.clientHost,sessionId:this.cachedSessionId,filterCategory:I});this.telemetryService.push(w)}sendGalleryPlayedVideo(I,w){this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFileMetadata,{file:I}).subscribe(_=>{if(void 0===_.fileType)return;const $=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,highlightId:w},v.ci);this.telemetryService.push($)})}sendGalleryFileRemoved(I){this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFileMetadata,{file:I.fullFilename}).subscribe(w=>{if(void 0===w.fileType)return;const _=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,contentType:"image"===I.file.type?v.zc.image:v.zc.video,highlightId:I.hlName},v.Jd);this.telemetryService.push(_)})}sendGalleryOpenedFileLocation(){const I=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId},v.j6);this.telemetryService.push(I)}sendAnselFreestyleSession(I,w,_,$,G,F,J,z,Z,ue,u,k){if("GFN"===this.igoConfig.branding){const W=this.perGameEventFactory.generateFinalizedEvent({mode:I,totalMs:w,usedKeyboard:this.toTelemetryBoolean(_),usedMouse:this.toTelemetryBoolean($),cmsId:F||"",shortName:J||"",panningUsed:this.toTelemetryBoolean(ue),panningWithKB:this.toTelemetryBoolean(u),panningWithMouse:this.toTelemetryBoolean(k)},v.qG);this.telemetryService.push(W)}else{const W=this.perGameEventFactory.generateFinalizedEvent({mode:I,totalMs:w,usedKeyboard:this.toTelemetryBoolean(_),usedMouse:this.toTelemetryBoolean($),usedController:this.toTelemetryBoolean(G),cmsId:F||"",shortName:J||"",DRSName:z||"",DRSProfileName:Z||"",panningUsed:this.toTelemetryBoolean(ue),panningWithKB:this.toTelemetryBoolean(u),panningWithMouse:this.toTelemetryBoolean(k),panningWithGC:v.Po.false},v.LN);this.telemetryService.push(W)}}sendAnselFreestyleFilters(I,w,_,$,G,F){if("GFN"===this.igoConfig.branding){const J=this.perGameEventFactory.generateFinalizedEvent({mode:w,filterName:I||"",cmsId:_||"",shortName:$||""},v.ze);this.telemetryService.push(J)}else{const J=this.perGameEventFactory.generateFinalizedEvent({mode:w,filterName:I||"",cmsId:_||"",shortName:$||"",DRSName:G||"",DRSProfileName:F||""},v.m$);this.telemetryService.push(J)}}sendFreestyleSlotTelemetry(I,w,_,$,G,F,J,z,Z,ue,u){if("GFN"===this.igoConfig.branding){const k=this.perGameEventFactory.generateFinalizedEvent({usedStyles:F,style1Filters:I,style2Filters:w,style3Filters:_,activeStyle:G||0,activeFilters:$,cmsId:z||"",shortName:Z||"",persistedFilters:this.toTelemetryBoolean(J),usedMenu:this.toTelemetryBoolean(!J)},v.o8);this.telemetryService.push(k)}else{const k=this.perGameEventFactory.generateFinalizedEvent({usedStyles:F,style1Filters:I,style2Filters:w,style3Filters:_,activeStyle:G||0,activeFilters:$,cmsId:z||"",shortName:Z||"",DRSName:ue||"",DRSProfileName:u||"",persistedFilters:this.toTelemetryBoolean(J),usedMenu:this.toTelemetryBoolean(!J)},v.RX);this.telemetryService.push(k)}}sendAnselScreenshotTelemetry(I,w,_,$,G,F,J,z,Z,ue,u,k,W,N){if("GFN"===this.igoConfig.branding){const H=new v.cd({state:I,cmsId:w||0,shortName:_||"",screenshotType:$,screenshotResolution:G,panningUsed:this.toTelemetryBoolean(F),mode:J,totalMs:z||0,gridUsed:this.toTelemetryBoolean(Z),installedDDVersion:I===v.WU.failed&&this.zone.name||"",gpuName:I===v.WU.failed&&this.zone.address||"",errorType:W,errorString:N,roll:ue,fov:u,stackedFilters:k});this.telemetryService.push(H)}}sendAnselFreestyleErrorTelemetry(I,w,_,$,G,F,J,z,Z,ue,u,k,W,N){if("GFN"===this.igoConfig.branding){const H=this.perGameEventFactory.generateFinalizedEvent({errorType:I,errorSubType:W,errorString:N||"",mode:w,serverGPUType:this.zone.name,serverOSVersion:this.zone.address,usedMenu:v.Po.true,cmsId:_||"",shortName:$||""},v.gY);this.telemetryService.push(H)}else{const H=this.perGameEventFactory.generateFinalizedEvent({errorType:I,errorString:"",mode:w,systemType:u||"",isOptimus:this.toTelemetryBoolean(ue),usedMenu:v.Po.true,cmsId:_||"",shortName:$||"",DRSName:G||"",DRSProfileName:F||"",osVersion:Z||"",gpuName:z||"",cpuName:J||"",installedDDVersion:k||""},v.lH);this.telemetryService.push(H)}}sendAnselFreestyleFeatureDisableTelemetry(I,w,_,$,G){if("GFN"===this.igoConfig.branding){const F=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:w||"",mode:_,errorType:$,errorInfo:G||"",serverInfo:this.zone.address||""},v.J2);this.telemetryService.push(F)}}sendBroadcastEventTelemetry(I,w,_,$,G){if("GFN"===this.igoConfig.branding){const F=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:w||"",action:_||v.MG.start,provider:v.ZA.lightstream,timeMs:0,modsActive:this.toTelemetryBoolean(this.modsActive)},v.HR);this.telemetryService.push(F)}}sendBroadcastErrorTelemetry(I,w,_,$,G){if("GFN"===this.igoConfig.branding){const F=this.perGameEventFactory.generateFinalizedEvent({cmsId:"",shortName:w||"",errorType:_||v.kt.unknownError,provider:v.ZA.lightstream,errorString:G||""},v.lj);this.telemetryService.push(F)}}setModsActiveStatus(I){this.modsActive=I}sendStatsClosedTelemetry(I,w,_){const $=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,totalMs:I,format:this.statsFormat[_],position:this.screenPosMap[w]},v.Nj);this.logger.info("Stats Closed Telemetry: ",$),this.telemetryService.push($)}sendStatsViewChanged(I,w,_){const $=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,format:this.statsFormat[w],position:this.screenPosMap[_],uiOpen:this.toTelemetryBoolean(I)},v.PH);this.logger.info("Stats View Changed Telemetry: ",$),this.telemetryService.push($)}sendGameplayEntrySetting(I){const w=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,profile:this.profileNameMap[I]},v.VC);this.logger.info("Gameplay Profile Entry Telemetry: ",w),this.telemetryService.push(w)}sendStreamingQualityChanged(I){const w=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,maxBitrateAuto:this.toTelemetryBoolean(I.maxBitrateAuto),maxBitrateAutoChanged:this.toTelemetryBoolean(I.maxBitrateAutoChanged),maxBitrate:I.maxBitrate,maxBitrateChanged:this.toTelemetryBoolean(I.MaxBitrateChanged),vsync:I.vSync,vsyncChanged:this.toTelemetryBoolean(I.vSyncChanged),drc:this.toTelemetryBoolean(I.drc),drcChanged:this.toTelemetryBoolean(I.drcChanged)},v.ck);this.logger.info("StreamingQuality Changed Telemetry: ",w),this.telemetryService.push(w)}sendResolutionUpscalingChanged(I){const w=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,upscaleMode:I.upscaleMode,detailEnhancement:I.detailEnhancement},v._B);this.logger.info("ResolutionUpscaling Changed Telemetry: ",w),this.telemetryService.push(w)}sendWidgetViewChanged(I,w){const _=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,indicator:this.widgetIndicatorMap[I],position:this.screenPosMap[w]},v.Rb);this.logger.info("Widget View Changed Telemetry: ",_),this.telemetryService.push(_)}sendNotificationChanged(I,w){const _=this.perGameEventFactory.generateFinalizedEvent({clientHost:this.clientHost,sessionId:this.cachedSessionId,control:this.notificationMap[I],state:this.toTelemetryBoolean(w)},v.AD);this.logger.info("Notification Changed Telemetry: ",_),this.telemetryService.push(_)}}return f.\u0275fac=function(I){return new(I||f)(l.LFG(i.ed),l.LFG(i.dF),l.LFG(O.g),l.LFG(l.zs3),l.LFG(Y.y1),l.LFG(T.Ll),l.LFG(i.MC),l.LFG(m.Ec),l.LFG(S.nG),l.LFG(B.I),l.LFG(i.Ob),l.LFG(K.y0))},f.\u0275prov=l.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},68660:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>b});var t=e(93557),n=e(70782),x=e(32764),M=e(45224),L=e(34375),p=e(63926),P=e(12427),a=e(70932),o=e(79884),v=e(37661),y=e(71365),C=e(31526),A=e(31603),d=e(73404),m=e(76947),S=e(20478),s=e(39536),r=e(85780),l=e(76549),i=e(99763),O=e(94626),Y=e(72467),T=e(22804),B=e(39609);const K=[t.u5,L.yu,n.IF,p.gR,P.jT,a.g0,x.UK,M.jc,o.t,v.Ps,y.uw,C.Wd,A.Xo,m.x4,r.Cl,d.To,S.Zh,s.yj,l.y,i.AA,O.si,Y.rt,T.hp];let b=(()=>{class f{}return f.\u0275fac=function(I){return new(I||f)},f.\u0275mod=B.oAB({type:f}),f.\u0275inj=B.cJS({imports:[t.u5,K,t.u5,L.yu,n.IF,p.gR,P.jT,a.g0,x.UK,M.jc,o.t,v.Ps,y.uw,C.Wd,A.Xo,m.x4,r.Cl,d.To,S.Zh,s.yj,l.y,i.AA,O.si,Y.rt,T.hp]}),f})()},22402:(Ge,ae,e)=>{"use strict";e.d(ae,{Sk:()=>a,Vi:()=>P,kf:()=>p,u3:()=>M,vq:()=>x,wl:()=>L});const n=e(21361).Yk.Share.Shareserver.HotkeyEnum,x=new Map([[n.OpenIGO,[17,71]],[n.Screenshot,[17,49]],[n.OpenAnsel,[17,50]],[n.RecordToggle,[17,57]],[n.DVRSave,[17,48]],[n.DVRToggle,[17,16,48]],[n.MicToggle,[17,77]],[n.FreeStyleToggleStyle1,[]],[n.FreeStyleToggleStyle2,[]],[n.FreeStyleToggleStyle3,[]],[n.NativeKeyboardInputDialog,[17,75]],[n.ConnectGfnBroadcastToggle,[]],[n.QuitGame,[18,115]],[n.StatisticsToggle,[17,78]]]),M=new Map([[n.OpenIGO,[65335,71]],[n.Screenshot,[65335,49]],[n.OpenAnsel,[65335,50]],[n.RecordToggle,[65335,57]],[n.DVRSave,[65335,48]],[n.DVRToggle,[65335,16,48]],[n.MicToggle,[65335,77]],[n.FreeStyleToggleStyle1,[]],[n.FreeStyleToggleStyle2,[]],[n.FreeStyleToggleStyle3,[]],[n.NativeKeyboardInputDialog,[65335,75]],[n.ConnectGfnBroadcastToggle,[]],[n.QuitGame,[65335,81]],[n.StatisticsToggle,[65335,78]]]),L=new Map([[n.StatisticsToggle,[17,16,69]]]),p=new Map([[n.StatisticsToggle,[65335,16,69]]]),P="IgoShareSettings";var a=(()=>((a||(a={})).Shortcuts="shortcuts",a))()},44684:(Ge,ae,e)=>{"use strict";function t(n,x){if(void 0===n||void 0===x)return!1;let M=!0;return n.length===x.length&&(n.forEach((L,p)=>{L!==x[p]&&(M=!1)}),M)}e.d(ae,{m:()=>t})},19702:(Ge,ae,e)=>{"use strict";e.d(ae,{DX:()=>O,Qr:()=>Y});var t=e(39536),n=e(39609),x=e(52954),M=e(18937),L=e(90657),p=e(34375),P=e(32764),a=e(45224),o=e(715);function v(T,B){if(1&T&&n._UZ(0,"mat-progress-spinner",8),2&T){const K=n.oxw(2);n.Q6J("diameter",48)("mode",K.data.progressMode)("value",K.value)}}const y=function(T){return{spinnerContent:T}};function C(T,B){if(1&T&&(n.TgZ(0,"div",5),n.YNc(1,v,1,3,"mat-progress-spinner",6),n._UZ(2,"span",7),n.ALo(3,"translate"),n.qZA()),2&T){const K=n.oxw();n.Q6J("ngClass",n.VKq(6,y,K.data.spinner)),n.xp6(1),n.Q6J("ngIf",K.data.spinner),n.xp6(1),n.Q6J("innerHtml",n.xi3(3,3,K.data.query,K.data.queryParam),n.oJD)}}function A(T,B){if(1&T&&n._UZ(0,"mat-progress-bar",12),2&T){const K=n.oxw(2);n.Q6J("mode",K.data.progressMode)("value",K.value)}}function d(T,B){if(1&T&&(n.TgZ(0,"div",13),n._uU(1),n.qZA()),2&T){const K=n.oxw(2);n.xp6(1),n.hij("",K.value,"%")}}const m=function(){return{progressBarContent:!0}};function S(T,B){if(1&T&&(n.TgZ(0,"div",9),n._UZ(1,"span",7),n.ALo(2,"translate"),n.YNc(3,A,1,2,"mat-progress-bar",10),n.YNc(4,d,2,1,"div",11),n.qZA()),2&T){const K=n.oxw();n.Q6J("ngClass",n.DdM(7,m)),n.xp6(1),n.Q6J("innerHtml",n.xi3(2,4,K.data.query,K.data.queryParam),n.oJD),n.xp6(2),n.Q6J("ngIf",K.data.progressBar),n.xp6(1),n.Q6J("ngIf",K.data.progressPercentage)}}function s(T,B){if(1&T&&(n.TgZ(0,"button",14),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&T){const K=n.oxw();n.Q6J("mat-dialog-close",K.retVals.Action1),n.xp6(1),n.hij(" ",n.lcZ(2,2,K.data.action1)," ")}}function r(T,B){if(1&T&&(n.TgZ(0,"button",14),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&T){const K=n.oxw();n.Q6J("mat-dialog-close",K.retVals.Action2),n.xp6(1),n.hij(" ",n.lcZ(2,2,K.data.action2)," ")}}function l(T,B){if(1&T&&(n.TgZ(0,"button",14),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&T){const K=n.oxw();n.Q6J("mat-dialog-close",K.retVals.Action3),n.xp6(1),n.hij(" ",n.lcZ(2,2,K.data.action3)," ")}}var O=(()=>{return(T=O||(O={})).Action1="action1",T.Action2="action2",T.Action3="action3",O;var T})();let Y=(()=>{class T{constructor(K){this.data=K,this.retVals=O,this.value=0,K.spinner&&(K.progressBar=!1),void 0===K.progressMode&&(K.progressMode="indeterminate")}set dialogData(K){this.data=K}get dialogData(){return this.data}}return T.\u0275fac=function(K){return new(K||T)(n.Y36(t.eJ))},T.\u0275cmp=n.Xpm({type:T,selectors:[["nv-hig-alert-dialog"]],inputs:{value:"value",dialogData:"dialogData"},decls:9,vars:9,consts:[["mat-dialog-title","",1,"font-header6"],["mat-dialog-content","","class","font-body2","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",3,"ngClass",4,"ngIf"],["mat-dialog-content","","class","font-body2","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",3,"ngClass",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","class","font-button2 hig-button",3,"mat-dialog-close",4,"ngIf"],["mat-dialog-content","","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","14px",1,"font-body2",3,"ngClass"],["color","accent","fxFlex","none",3,"diameter","mode","value",4,"ngIf"],[3,"innerHtml"],["color","accent","fxFlex","none",3,"diameter","mode","value"],["mat-dialog-content","","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",1,"font-body2",3,"ngClass"],["class","mat-accent",3,"mode","value",4,"ngIf"],["fxLayoutAlign","start start",4,"ngIf"],[1,"mat-accent",3,"mode","value"],["fxLayoutAlign","start start"],["mat-button","",1,"font-button2","hig-button",3,"mat-dialog-close"]],template:function(K,b){1&K&&(n.TgZ(0,"span",0),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.YNc(3,C,4,8,"div",1),n.YNc(4,S,5,8,"div",2),n.TgZ(5,"div",3),n.YNc(6,s,3,4,"button",4),n.YNc(7,r,3,4,"button",4),n.YNc(8,l,3,4,"button",4),n.qZA()),2&K&&(n.xp6(1),n.Oqu(n.lcZ(2,7,b.data.title)),n.xp6(2),n.Q6J("ngIf",void 0===b.data.progressBar||b.data.spinner),n.xp6(1),n.Q6J("ngIf",b.data.progressBar),n.xp6(1),n.Q6J("align","end"),n.xp6(1),n.Q6J("ngIf",b.data.action1),n.xp6(1),n.Q6J("ngIf",b.data.action2),n.xp6(1),n.Q6J("ngIf",b.data.action3))},dependencies:[x.mk,x.O5,M.xw,M.SQ,M.Wh,M.yH,L.oO,p.eB,P.sN,a.eI,t.aO,t.YS,t.Rb,t.ev,o.X$],styles:[".spinnerContent[_ngcontent-%COMP%]{overflow:hidden!important}.progressBarContent[_ngcontent-%COMP%]{padding-top:16px}"]}),T})()},83943:(Ge,ae,e)=>{"use strict";e.d(ae,{I:()=>P});var t=e(52954),n=e(50239),x=e(79585),M=e(64710),L=e(39609);let P=(()=>{class a{constructor(v){if(v)throw new Error("CoreModule already loaded; Import in root module only.")}}return a.\u0275fac=function(v){return new(v||a)(L.LFG(a,12))},a.\u0275mod=L.oAB({type:a}),a.\u0275inj=L.cJS({imports:[t.ez,n.o9,x.Q,(0,M.zv)()]}),a})()},63795:(Ge,ae,e)=>{"use strict";e.d(ae,{A2:()=>o.A2,DX:()=>v.DX,ER:()=>o.ER,HY:()=>x.H,Mb:()=>p.M,Sp:()=>a.S,Vu:()=>n.V,dM:()=>o.dM,dz:()=>o.dz,k7:()=>o.k7,rj:()=>L.rj,wz:()=>P.w}),e(83943);var n=e(8929),x=e(32035),L=(e(19235),e(87057)),p=e(53444),P=e(9010),a=e(16467),o=e(51270),v=e(19702)},51270:(Ge,ae,e)=>{"use strict";e.d(ae,{$K:()=>P,A2:()=>L,DW:()=>w,ER:()=>f,Sc:()=>p,dM:()=>a,dO:()=>M,dz:()=>x,k7:()=>v,uc:()=>S});var t=e(21361);const x={width:296,height:167},M=32;var L=(()=>{return(_=L||(L={})).Video="video",_.Image="image",_.Other="other",L;var _})(),p=(()=>{return(_=p||(p={})).Temporary="temporary",_.Highlights="highlights",p;var _})(),P=t.Yk.Common.Gallery.AudioType,a=(()=>{return(_=a||(a={})).Normal="Normal",_.SuperResolution="SuperResolution",_.SuperResolutionOversized="SuperResolution_Oversized",_.Mono360="360Mono",_.Stereo="Stereo",_.Stereo360="360Stereo",_.Exr="Exr",_.Live="Live",_.Offline="Offline",_.Highlights="Highlight",_.Mta="MTA",_.NormalAnsel="Normal_Ansel",_.Gif="AnimatedGif",_.Montage="Montage",_.InstantReplay="InstantReplay",_.Manual="Manual",_.Screenshot="Screenshot",a;var _})(),v=(()=>{return(_=v||(v={})).off="Off",_.inPlace="InPlace",_.toNew="ToNew",v;var _})();class S{constructor(){this.total=0,this.highlights=0,this.videos=0,this.instantReplays=0,this.images=0,this.montages=0,this.highlightBreakDown=[]}}var f=(()=>{return(_=f||(f={})).newest="newest",_.oldest="oldest",_.atoz="atoz",_.ztoa="ztoa",f;var _})(),w=(()=>{return(_=w||(w={})).Highlight="Highlight",_.InstantReplay="InstantReplay",_.Recording="Recording",_.Montage="Montage",_.Screenshot="Screenshot",w;var _})()},19235:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>C});var t=e(21361),n=e(86283),x=e(23815),M=e(89258),L=e(51325),p=e(33932),P=e(71265),a=e(39609),o=e(64710),v=e(32035),y=(()=>{return(A=y||(y={}))[A.Empty=0]="Empty",A[A.Partial=1]="Partial",A[A.Full=2]="Full",y;var A})();let C=(()=>{class A{constructor(m,S,s){this.osService=S,this.bridgeService=s,this.videoPath="",this.directoryListOutdated=!0,this.directoryListUpdateCounts=!1,this.files=[],this.directoryList=[],this.directories=[],this.populatedFolder=[[],[],[],[],[]],this.folderData=[],this.fileData=[],this.mainCache=[],this.folderCache=[],this.cacheEntries=5,this.initialized=!1,this.ageCounter=0,this.dataIndex=0,this.freeInterval=3e5,this.minEntryAge=12e5,this.active=!1,this.logger=m.getLogger("CacheService")}resetCacheEntry(m){this.folderCache[m]={dirty:!0,crc:0,path:"",age:0,time:0,loaded:y.Empty}}init(){if(this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),!this.initialized){this.directoryListOutdated=!0,this.mainCache[0]={dirty:!0,crc:0,path:""};for(let m=0;m<this.cacheEntries;m++)this.resetCacheEntry(m);this.cacheTimerOn(),this.initialized=!0,this.logger.info("Initialize complete")}}reInit(){this.cacheTimerOff(),this.initialized=!1,this.init()}galleryActive(m){this.active=m}cacheTimerOn(){this.cacheTimer||(this.cacheTimer=(0,n.F)(this.freeInterval).subscribe(()=>{if(this.logger.info("cacheTimer called"),this.active)return;let m=2147483647,S=-1;const r=(new Date).getTime();for(let l=0;l<this.cacheEntries;l++)0!==this.folderCache[l].age&&this.folderCache[l].age<m&&r-this.folderCache[l].time>this.minEntryAge&&(S=l,m=this.folderCache[l].age);0!==m&&-1!==S&&(this.logger.info("resetting cache entry: "+S+" age was: "+m),this.folderData[S].directories.length=0,this.folderData[S].files.length=0,this.folderCache[S].loaded===y.Full&&(this.fileData[S].popFolder.length=0),this.resetCacheEntry(S)),this.checkCacheState()}))}cacheTimerOff(){this.logger.info("cacheTimerOff called"),this.cacheTimer&&(this.cacheTimer.unsubscribe(),this.cacheTimer=void 0)}checkCacheState(){let m=!0;this.folderCache.forEach(S=>{S.loaded!==y.Empty&&(m=!1)}),m&&this.cacheTimerOff()}setRecordingPaths(m){this.videoPath=m,this.reInit()}getCurrentPopFolder(){return this.populatedFolder[this.dataIndex]}resetCurrentPopFolder(){this.populatedFolder[this.dataIndex].length=0}useCacheData(m,S){let s=!1;if(m!==this.videoPath){const r=this.folderCache.findIndex(T=>T.path===m);if(-1===r)return!1;s=!this.folderCache[r].dirty&&this.folderCache[r].path===m;const l=s&&this.folderCache[r].loaded!==y.Empty,i=s&&this.folderCache[r].loaded===y.Full;this.dataIndex=r;const Y=(new Date).getTime();return S?(l&&(this.logger.info("useCacheData, updating partial!"),this.files=this.folderData[r].files,this.directories=this.folderData[r].directories,this.counts=this.folderData[r].counts,this.logger.info("useCacheData, updating partial - DONE!!"),this.folderCache[r].time=Y),l):(i&&(this.logger.info("useCacheData, updating full!"),this.populatedFolder[r]=this.fileData[r].popFolder,this.counts=this.folderData[r].counts,this.logger.info("useCacheData, updating full - DONE!!"),this.folderCache[r].time=Y),i)}return s=!this.mainCache[0].dirty&&this.mainCache[0].path===m,s}setCacheNotDirty(m){if(m===this.videoPath)this.mainCache[0].dirty=!1;else{const S=this.folderCache.findIndex(s=>s.path===m);-1!==S&&(this.folderCache[S].dirty=!1)}}setCacheLoadedPartial(m){const S=this.folderCache.findIndex(s=>s.path===m);-1!==S&&(this.folderCache[S].loaded=y.Partial,this.folderData[S]={files:this.files,directories:this.directories,counts:this.counts})}setCacheLoaded(m){const S=this.folderCache.findIndex(s=>s.path===m);-1!==S&&(this.folderCache[S].loaded=y.Full,this.fileData[S]={popFolder:this.populatedFolder[S]})}setFileCounts(m,S){const s=this.folderCache.findIndex(r=>r.path===S);-1!==s?this.folderData[s].counts=m:this.logger.error("Could not find cache entry")}getVideoPathCRC(){return this.logger.info("Getting video path CRC: ",this.videoPath),this.getGalleryFolderCRC(this.videoPath).pipe((0,M.U)(m=>{const S=this.mainCache[0].crc!==m.crc;return this.mainCache[0]={dirty:S,crc:m.crc,path:this.videoPath},S}),(0,L.K)(m=>(this.logger.info("getVideoPathCRC error: ",m),(0,x.of)(!0))))}getCachedDataCRC(m){return void 0===m&&(this.logger.info("getCachedDataCRC: input undefined will use video path"),m=this.videoPath),m===this.videoPath?this.getVideoPathCRC():this.getGalleryFolderCRC(m).pipe((0,p.zg)(S=>{let s=-1;if(s=this.folderCache.findIndex(T=>T.path===m),-1===s&&(s=this.folderCache.findIndex(T=>0===T.crc)),-1===s){let T=2147483647;for(let B=0;B<this.cacheEntries;B++)this.folderCache[B].dirty&&this.folderCache[B].age<T&&(s=B,T=this.folderCache[B].age)}if(-1===s){let T=2147483647;for(let B=0;B<this.cacheEntries;B++)this.folderCache[B].age<T&&(s=B,T=this.folderCache[B].age)}s>=this.cacheEntries&&(this.logger.error("folder cache has bad indexing! ",s),s=0),this.logger.info("Using index: "+s);const r=this.folderCache[s].crc!==S.crc,i=r||this.folderCache[s].loaded===y.Empty;this.ageCounter++;const Y=(new Date).getTime();return this.folderCache[s]={dirty:i,crc:S.crc,path:m,age:this.ageCounter,time:Y,loaded:r?y.Empty:this.folderCache[s].loaded},this.cacheTimerOn(),(0,x.of)(!0)}),(0,L.K)(S=>(this.logger.info("getCachedDataCRC error: ",S),(0,x.of)(!1))))}getGalleryFolderCRC(m){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFolderCRC,{directory:m})}getDirectoryListCRC(){return this.getVideoPathCRC().pipe((0,P.b)(m=>{this.directoryListOutdated=m}))}getNewDirectoryList(){return this.directoryListOutdated?(this.directoryList.length=0,this.directoryListUpdateCounts=!0,this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFolderListing,{directory:this.videoPath,shouldGetOnlyNv:!0,excludeDirectoryType:t.Yk.Common.Gallery.ExcludeDirectoryType.empty}).pipe((0,M.U)(S=>(this.setDirectoryList(S.directories),this.logger.info("New Directories: ",this.directoryList),this.directoryList)))):(this.logger.info("Current Directories: ",this.directoryList),this.directoryListUpdateCounts=!1,(0,x.of)(this.directoryList))}getDirectoryList(){return this.getDirectoryListCRC().pipe((0,p.zg)(()=>this.getNewDirectoryList()))}setDirectoryList(m){this.directoryList=m.slice(),this.directoryListOutdated=!1}updateDirectoryList(m){if(this.directoryList.length){let S=m.lastIndexOf(this.dirSeparator);const s=m.substr(0,S);S=s.lastIndexOf(this.dirSeparator)+1;const r=s.substr(S);this.directoryList.find(l=>l===r)||this.flushDirectoryList()}}flushDirectoryList(){this.directoryListOutdated=!0}}return A.\u0275fac=function(m){return new(m||A)(a.LFG(o.ed),a.LFG(v.H),a.LFG(o.dF))},A.\u0275prov=a.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},53444:(Ge,ae,e)=>{"use strict";e.d(ae,{M:()=>p});var t=e(23815),n=e(19702),x=e(39609),M=e(39536),L=e(76549);let p=(()=>{class P{constructor(o,v){this.dialog=o,this.snackbar=v}openAlertDialog(o,v=!0){const C=this.dialog.open(n.Qr,{panelClass:["nv-hig","nv-oogg"],disableClose:v,autoFocus:!1,data:o});return(0,t.of)(C)}openSnackBar(o,v="",y=5e3){return this.snackbar.open(o,v,{duration:y,horizontalPosition:"left",panelClass:["nv-hig","nv-oogg"]})}closeSnackBar(){this.snackbar.dismiss()}}return P.\u0275fac=function(o){return new(o||P)(x.LFG(M.on),x.LFG(L.pl))},P.\u0275prov=x.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},87057:(Ge,ae,e)=>{"use strict";e.d(ae,{rj:()=>z});var t=e(18406),n=e(96671),x=e(23815),M=e(39138),L=e(50936),p=e(47504),P=e(16099),a=e(96827),o=e(33932),v=e(71265),y=e(89258),C=e(73553),A=e(2502),d=e(63155),m=e(51325),S=e(4042),s=e(28805),r=e(74266),l=e(21361),i=e(51270),O=e(19702),Y=e(97483),T=e(53975),K=e(39609),b=e(64710),f=e(32035),D=e(19235),I=e(715),w=e(53444),_=e(52954),$=e(9357);let z=(()=>{class Z{constructor(u,k,W,N,H,h,E,ee,R){this.bridgeService=k,this.osService=W,this.dbService=N,this.cacheService=H,this.translateService=h,this.dialogHelper=E,this.datePipe=ee,this.telemetryService=R,this.testMode=!1,this.dbStorageName="OoggData",this.sortKey="Sort",this.videoPath="",this.thumbWidth=i.dz.width,this.thumbHeight=i.dz.height,this.directories=[],this.workingFolder="",this.montageMode=!1,this.currentFileData$=new t.X(null),this.currentSelectedFilesData$=new t.X([]),this.allItems=[],this.modifiedItems=[],this.filteredItems=[],this.galleryDataIsInitialized=!1,this.trimInProgess=i.k7.off,this.activeFilter=0,this.fileCounts=new i.uc,this.topLevelCounts=[],this.trackerReady=!1,this.sortType=i.ER.newest,this.noDataExists=!1,this.montageAvailable=!0,this.filterInit=!1,this.gameItems=[],this.mediaItems=[],this.highlightItems=[],this.globalHighlightCount=0,this.activityItems=[],this.activityEvents=[],this.activityVolume=100,this.trackerCallback$=new n.xQ,this.filteredData$=new n.xQ,this.emptyStateChanged$=new t.X(!1),this.deleteCompleted$=new n.xQ,this.logger=u.getLogger("GalleryService")}get fileDataChangeListener(){return this.currentFileData$.asObservable()}get currentFileData(){return this.currentFileData$.getValue()}set currentFileData(u){this.logger.info("Updating metadata"),this.currentFileData$.next(u)}get filesSelectedDataChangeListener(){return this.currentSelectedFilesData$.asObservable()}get currentSelectedFilesData(){return this.currentSelectedFilesData$.getValue()}set currentSelectedFilesData(u){this.currentSelectedFilesData$.next(u)}listenForFilteredDataChange(){return this.filteredData$.asObservable()}listenForTrackerEvents(){return this.trackerCallback$.asObservable()}listenForEmptyStateChanged(){return this.emptyStateChanged$.asObservable()}listenForDeleteCompletion(){return this.deleteCompleted$.asObservable()}init(){return this.logger.info("Initialize"),this.dirSeparator=this.osService.getDirSeparator(),this.dBStore=this.dbService.getGlobalStore(this.dbStorageName),this.getSortKey().subscribe(u=>{void 0!==u&&(this.sortType=u)}),this.bridgeService.executeCommand(l.Gh.Common.Applicationcontrol.IsCefGpuModeSupported).subscribe(u=>{this.logger.info("IsGpuModeSupported (Montage supported): ",u),this.montageAvailable=u}),this.bridgeService.executeCommand(l.Gh.Common.Gallery.GalleryNotifications).subscribe(u=>this.galleryEvent(u)),this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetSettings).pipe((0,o.zg)(u=>(u&&u.settings&&u.settings.trackerStatus&&(this.trackerReady=u.settings.trackerStatus===l.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete),u&&u.settings&&u.settings.path?this.initPathItems(u.settings.path):(0,x.of)())))}hasAnyEntries(){if(this.topLevelCounts.length>0){let u=0;return this.topLevelCounts.forEach(k=>{u+=k.totalCount}),console.log("gallery entries: ",u),u>0}return!1}setMontageMode(u){this.montageMode=u}getMontageMode(){return this.montageMode}initPathItems(u){return this.videoPath=u,this.logger.info("Recording Path: ",this.videoPath),this.cacheService.setRecordingPaths(this.videoPath),(0,x.of)(null)}initGalleryData(){return this.galleryDataIsInitialized?(this.logger.info("Gallery Initialization skipped!"),(0,x.of)(!0)):this.isTrackerReady().pipe((0,o.zg)(()=>this.getFolders()),(0,o.zg)(()=>this.getAllData()),(0,v.b)(()=>(this.galleryDataIsInitialized=!0,(0,x.of)(!0))))}isTrackerReady(){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetSettings).pipe((0,y.U)(u=>{if(u&&u.settings&&u.settings.trackerStatus&&(this.trackerReady=u.settings.trackerStatus===l.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete),!this.trackerReady)throw new Error("Tracker not ready");return this.trackerReady}),(0,C.a)(u=>u.pipe((0,v.b)(()=>this.logger.info("Retrying isTrackerReady")),(0,A.g)(300))))}getGalleryData(){return this.filteredItems}getISOTime(u,k){const W=T.duration(k),N=T(u,T.ISO_8601);return N.add(W),N}fillActivityFeed(u){return this.logger.info("EdgeData: ",u),this.activityItems.length=0,u.recents.forEach((k,W)=>{this.activityItems.push({identity:W,gameName:"",session:0,playStarted:k.startTime,playTime:k.endTime,startTime:"00:00:00.0",endTime:k.endTime,mapFileName:"",events:k.events,rounds:k.rounds,metaData:[]})}),this.activityItems}populateActivityFeed(){const u=this.getGalleryData().slice(),k=[];u.sort((h,E)=>new Date(h.date).getTime()-new Date(E.date).getTime());const W=this.translateService.instant("montage.Montage");let N=0;this.activityItems.forEach(h=>{const E=T(h.playStarted,T.ISO_8601),ee=this.getISOTime(E,h.playTime);this.activityEvents=h.events,h.events=[],h.rounds&&(N=0),k.length=0,u.forEach(R=>{R.folder!==W&&T(""===R.eventTimeStamp?R.date:R.eventTimeStamp,T.ISO_8601).isBetween(E,ee)&&k.push(R)}),k.sort((R,q)=>{const _e=""===q.eventTimeStamp?q.date:q.eventTimeStamp;return T(""===R.eventTimeStamp?R.date:R.eventTimeStamp).diff(T(_e))}),k.forEach(R=>{this.logger.info("Capture Data to map: "+R.file.name+" hlName: "+R.hlName+" eventTime: "+R.eventTimeStamp+" dateTime: "+R.date)}),k.forEach((R,q)=>{h.metaData.push(R),""===h.gameName&&(h.gameName=R.folder,h.session=R.session),"Map"===R.hlDefinitionId&&""===h.mapFileName&&(h.mapFileName=R.fullFilename);const ne="video"===R.file.type&&("InstantReplay"===R.file.subtype||"Manual"===R.file.subtype),_e="image"===R.file.type&&"Highlight"!==R.file.subtype;if("Highlight"===R.file.subtype){const re=T(R.eventTimeStamp);this.logger.info("UGC item time: ",re.toISOString());let pe=!1;this.activityEvents.forEach((Pe,Te)=>{if(!pe&&"sessionStarted"!==Pe.name&&"sessionEnded"!==Pe.name){const me=this.getISOTime(E,Pe.time);this.logger.info("Activity entry index: "+Te+" time: "+Pe.time+" true time: "+me.toISOString()),re.toISOString()===me.toISOString()&&(this.activityEvents[Te].name=R.hlName,h.events.push(this.activityEvents[Te]),this.logger.info("Type3 Event: ",this.activityEvents[Te]),pe=!0)}}),pe||this.logger.error("Could not match Highlight to log event! TimeStamp: ",re)}else if(ne||_e){this.logger.info((ne?"Type1: IR or MR: ":"Type2: Screenshot: ")+R.hlName+" index: "+q);const pe=""===R.eventTimeStamp?R.date:R.eventTimeStamp;""===pe&&this.logger.info("TimeStamp missing for: ",R.file.name);const Pe=T.utc(T(pe).diff(T(E))).format("HH:mm:ss.SSS");this.logger.info("Duration: ",Pe);let Te=0;if(h.rounds&&h.rounds.length>0){let et=!1;h.rounds.forEach(Xe=>{const Ze=this.getISOTime(E,Xe.time),nt=T(pe,T.ISO_8601);!et&&nt.isBetween(E,Ze)&&(Te=Xe.number-1,et=!0)})}const me={time:Pe,name:ne?R.file.subtype:"Screenshot",info:"",round:Te};h.events.push(me),this.logger.info("Type1/2 Event: ",me)}})});for(let h=this.activityItems.length-1;h>=0;h--)""===this.activityItems[h].gameName?(this.logger.info("Removing Activity, Not populated: ",this.activityItems[h]),this.activityItems.splice(h,1)):0===this.activityItems[h].events.length&&(this.logger.info("Removing Activity, No events present ",this.activityItems[h]),this.activityItems.splice(h,1));return this.sortFilteredActivity(this.sortType),this.logger.info("Number of Activity Cards: ",this.activityItems.length),this.logger.info("Activity Data: ",this.activityItems),this.activityItems}getActivityData(){return this.testMode?this.getActivityFeedDataTest():this.getActivityFeedData()}getActivityFeedData(){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetEventData).pipe((0,y.U)(u=>u.recents&&0!==u.recents.length?(this.fillActivityFeed(u),this.populateActivityFeed(),this.logger.info("Executed the bridge call to get activity data"),this.activityItems):null))}getActivityFeedDataTest(){const u=this.getGalleryData(),k=this.translateService.instant("montage.Montage");this.activityItems.length=0;let W=0;return u.forEach((H,h)=>{H.folder===k||0!==this.activityItems.length&&this.activityItems.find(E=>E.gameName===H.folder)||(this.activityItems.push({identity:h,gameName:H.folder,session:0,playStarted:"2020-12-09T03:30:00."+W,playTime:"",startTime:"00:00:00.0",endTime:"",mapFileName:"",events:[],rounds:[],metaData:[]}),W++)}),this.activityItems.forEach((H,h)=>{let ee=0,R=10,q=0,ne=0,_e=10,U=0;u.forEach(Ze=>{if(Ze.folder===H.gameName){Ze.session=H.session,H.metaData.push(Ze),"Map"===Ze.hlDefinitionId&&""===H.mapFileName&&(H.mapFileName=Ze.fullFilename);const nt=ee.toString()+":"+R.toString()+":00.000";let Me;if("video"===Ze.file.type&&(Me=Ze.file.subtype,"Highlight"===Me)){const Le=Ze.hlName,Re=`highlightLabels.${Le}`;Me=this.translateService.instant(Re),Me===Re&&(Me=Le)}H.events.push({time:nt,name:"image"===Ze.file.type?"Screenshot":Me,round:-1,info:""}),ne=ee,_e=R,U=q,R+=10,60===R&&(R=0,ee+=1,q+=0)}}),this.activityItems[h].endTime=ne.toString()+":"+_e.toString()+":00.000",this.activityItems[h].playTime=ne>0?ne.toString()+":"+_e.toString()+":00.000":_e>0?"00:"+_e.toString()+":00.000":"00:00:"+U.toString();let re=0,pe=0,Pe=0,me=1;const et=H.events.length-1,Xe=H.events.length>6;H.events.forEach((Ze,nt)=>{Ze.round=me-1,!Xe||5!==Pe&&nt!==et?Pe++:(re+=Math.floor(10*Math.random()),pe+=Math.floor(10*Math.random()),H.rounds.push({number:me,time:Ze.time,score1:re,score2:pe}),me++,Pe=0)})}),this.logger.info("Number of Activity Cards: ",this.activityItems.length),this.logger.info("Activity Data: ",this.activityItems),(0,x.of)(this.activityItems)}getActivityItem(u,k,W,N){let H;return this.logger.info("Activity Game: "+u+" Session: "+W+" File: "+k),this.activityItems.forEach(h=>{if(h.gameName===u&&h.session===W){const E=h.metaData.length-1;h.metaData.forEach((ee,R)=>{if(ee.fullFilename===k){let q=0;q=N?R<E?R+1:0:0===R?E:R-1,H=h.metaData[q]}})}}),H||this.logger.error("Could not find next item!"),H}buildPath(u){return""===u?this.videoPath:this.videoPath+this.dirSeparator+u}setWorkingFolder(u){const k=this.buildPath(u);return this.cacheService.getCachedDataCRC(k).pipe((0,o.zg)(W=>this.getUsableData(u)),(0,o.zg)(W=>(this.cacheService.useCacheData(k,!1),(0,x.of)(this.cacheService.files.length))))}getWorkingFolder(){return""!==this.workingFolder&&this.directories.length&&(this.directories.find(k=>k===this.workingFolder)||(this.workingFolder="")),""===this.workingFolder&&this.directories.length&&(this.workingFolder=this.directories[0]),this.workingFolder}getVideoFolder(){return this.videoPath}saveCurrentLocation(u){this.currentLocation=u}getCurrentLocation(){return this.currentLocation}setGalleryThumbSize(u,k){this.thumbWidth=u,this.thumbHeight=k}populateDirectoryStats(){if(this.directories.length>0&&this.cacheService.directoryListUpdateCounts){this.topLevelCounts=[];const u=[];return this.directories.forEach(k=>{u.push(this.getAppStats(k))}),(0,M.$R)(...u).pipe((0,y.U)(()=>this.directories))}return(0,x.of)(this.directories)}getFolders(){return this.cacheService.getDirectoryList().pipe((0,o.zg)(u=>(this.directories=u,this.populateDirectoryStats())))}showFolderContents(u){return""===u?""===this.workingFolder?this.workingFolder=u=this.directories[0]:u=this.workingFolder:this.workingFolder=u,this.logger.info("Working Folder: ",this.workingFolder),this.setWorkingFolder(u).pipe((0,y.U)(()=>this.cacheService.getCurrentPopFolder()))}getAllItemsCount(){return this.allItems.length}unselectAllItems(){this.allItems.forEach(u=>u.selected=!1),this.filteredItems.forEach(u=>u.selected=!1)}getUsableData(u){this.logger.info("GetUsableData Dir: ",u);const k=this.buildPath(u);if(this.cacheService.useCacheData(k,!0))return this.logger.info("GetUsableData - Using cached data"),this.fileCounts=this.cacheService.counts,(0,x.of)(!0);const W=[];return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetAppUGC,{appName:u}).pipe((0,y.U)(N=>{this.cacheService.resetCurrentPopFolder();const H=[],h=this.cacheService.getCurrentPopFolder();let E=0,ee=0,R=0,q=0,ne=0;return N.ugc&&N.ugc.forEach((_e,U)=>{ee+=_e.fileSubType===l.Yk.Common.Gallery.SubType.InstantReplay?1:0,E+=_e.fileSubType===l.Yk.Common.Gallery.SubType.Manual?1:0,_e.fileType===l.Yk.Common.Gallery.FileType.video&&_e.fileSubType!==l.Yk.Common.Gallery.SubType.InstantReplay&&_e.fileSubType!==l.Yk.Common.Gallery.SubType.Manual&&_e.fileSubType!==l.Yk.Common.Gallery.SubType.Montage&&_e.fileSubType!==l.Yk.Common.Gallery.SubType.Highlight&&(E+=1),R+=_e.fileType===l.Yk.Common.Gallery.FileType.image?1:0,q+=_e.fileSubType===l.Yk.Common.Gallery.SubType.Highlight?1:0,ne+=_e.fileSubType===l.Yk.Common.Gallery.SubType.Montage?1:0;const re=_e.path.lastIndexOf(this.dirSeparator),Pe={name:_e.path.substr(re+1),type:_e.fileType,subtype:_e.fileSubType,source:_e.fileSource,drsProfileName:_e.DRSProfileName,thumbnail:""};H.push(Pe);const Te={fullFilename:_e.path,selected:!1,file:Pe,folder:u,cmsId:_e.cmsId,index:U,duration:_e.duration,msDuration:_e.msDuration,date:_e.date,fileSize:_e.fileSizeKB.toString(),audiotype:_e.audiotype,hlName:""!==_e.highlightName?_e.highlightName:_e.highlightDefinitionId,hlDefinitionId:_e.highlightDefinitionId,hlId:_e.id,hlGroup:_e.highlightGroupId,cancel:!1,eventTimeStamp:_e.eventTimeStamp,data:null,errorType:null,errorDetails:null};h.push(Te),W.some(me=>{if(me.name===_e.highlightName)return me.count++,!0})}),this.cacheService.files=H,this.cacheService.setCacheLoadedPartial(k),this.logger.info("Files: "+N.ugc.length+" Highlights : "+q+" Recordings: "+E+" IR: "+ee+" Images: "+R+" Montages: "+ne),this.fileCounts={total:N.ugc.length,highlights:q,videos:E,instantReplays:ee,images:R,montages:ne,highlightBreakDown:W},!0}))}getAppStats(u){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetAppStats,{appName:u}).pipe((0,y.U)(W=>{this.logger.info("App Stats: "+u+" SS: "+W.screenshots+" V: "+W.videos);const N=this.topLevelCounts.findIndex(H=>H.folder===u);return N>=0?this.topLevelCounts[N].totalCount=W.screenshots+W.videos:this.topLevelCounts.push({folder:u,totalCount:W.screenshots+W.videos}),W}))}getMetaData(u,k=!0){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetFileMetadata,{file:u,width:k?this.thumbWidth:void 0,height:k?this.thumbHeight:void 0})}getImageFileDimensions(u){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetImageFileDimensions,{file:u})}getFileData(u,k){return this.getMetaData(u.fullFilename,k).pipe((0,d.P)(),(0,y.U)(W=>(u.audiotype=void 0===W.audiotype?i.$K.Unknown:W.audiotype,u.duration=void 0===W.duration?"":W.duration,u.memeTop=W.memeInfo?W.memeInfo.topBarText:"",u.memeBottom=W.memeInfo?W.memeInfo.bottomBarText:"",u.data=void 0===W.thumbnail?null:W.thumbnail,u)),(0,m.K)(W=>(this.logger.error("GetMetaData failed: ",W),(0,x.of)(void 0))))}fillInFileData(u){return this.getFileData(u,!0)}removeItem(u){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.RemoveGalleryItem,{file:u,forceDelete:!1}).pipe((0,o.zg)(W=>{const N=u.lastIndexOf(this.dirSeparator),H=u.substr(N+1,u.length-1);return this.logger.info("File deleted: ",H),this.checkIfThereIsNoData(),(0,x.of)(!0)}),(0,m.K)(W=>(this.logger.info("File remove failed: ",W),(0,x.of)(!1))))}getThumbnailForFile(u,k=70,W=70){return this.bridgeService.executeCommand(l.Gh.Common.Gallery.GetThumbnail,{file:u,width:k,height:W}).pipe((0,y.U)(H=>H.thumbnail))}getCurrentDropdownCount(u){return this.getAppStats(u).pipe((0,y.U)(k=>{const W=this.topLevelCounts.findIndex(N=>N.folder===u);return-1!==W?(this.topLevelCounts[W].totalCount=k.screenshots+k.videos,this.topLevelCounts[W].totalCount):0}))}updateFolderSync(u,k){return new L.y(W=>{this.updateFolder(u,k).subscribe(()=>{W.next(),W.complete(),this.logger.info("Complete")})})}updateFolder(u,k){let W={};if(k===i.Sc.Highlights)W={userGalleryPath:u};else if(k===i.Sc.Temporary){const H=u.lastIndexOf(this.dirSeparator),h=u.length-1;H===h&&(u=u.slice(0,h)),W={tempFolderPath:u}}return this.bridgeService.executeCommand(l.Gh.Common.Gallery.SetSettings,{settings:W}).pipe((0,y.U)(()=>!0),(0,S.h)(!0))}galleryEvent(u){if(u)if(u.captureSaved)this.logger.info("Gallery event: CaptureSaved"),this.eventCaptureSaved(u);else if(u.ugcDeleted)this.logger.info("Gallery event: UgcDeleted"),this.eventUGCDeleted(u);else if(u.galleryPathUpdateStatus){switch(this.logger.info("Gallery event UpdateStatus: ",u.galleryPathUpdateStatus.status),u.galleryPathUpdateStatus.status){case l.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateInProgress:this.trackerReady=!1;break;case l.Yk.Common.Gallery.GalleryPathUpdateStatus.TrackerUpdateComplete:case l.Yk.Common.Gallery.GalleryPathUpdateStatus.CancelUpdateComplete:this.trackerReady=!0}this.trackerCallback$.next({trackerEvent:u.galleryPathUpdateStatus.status})}else this.logger.info("Unknown or unhandled Event Type: ",u);else this.logger.info("Event: undefined or null")}eventCaptureSaved(u){if(this.allItems&&this.allItems.find(ee=>ee.fullFilename===u.captureSaved.ugc.path))return void this.logger.info("Extraneous capture event received!");this.cacheService.updateDirectoryList(u.captureSaved.ugc.path);const k=u.captureSaved.ugc,W=k.path.lastIndexOf(this.dirSeparator),N=k.path.slice(W+1),H={fullFilename:k.path,selected:!1,file:{name:N,type:k.fileType,subtype:k.fileSubType,source:k.fileSource,drsProfileName:k.DRSProfileName,thumbnail:""},folder:k.DRSProfileName,cmsId:k.cmsId,index:0,duration:k.duration,msDuration:k.msDuration,date:k.date,fileSize:k.fileSizeKB.toString(),audiotype:k.audiotype,hlName:""!==k.highlightName?k.highlightName:k.highlightDefinitionId,hlDefinitionId:k.highlightDefinitionId,hlId:-1,hlGroup:k.highlightGroupId,cancel:!1,eventTimeStamp:k.eventTimeStamp,data:"",errorType:"",errorDetails:""};this.logger.info("New UGC Data: ",H);const h=this.allItems.length===this.filteredItems.length;let E;switch(this.allItems.unshift(H),this.checkIfThereIsNoData(),this.filterAll(h),this.trimInProgess){case i.k7.off:E=Y.ryx.Add;break;case i.k7.toNew:E=Y.ryx.TrimNew;break;case i.k7.inPlace:E=Y.ryx.TrimReplace}this.galleryCaptureAction(E,k)}eventUGCDeleted(u){const k=u.ugcDeleted.ugc,W=k.path,N=this.allItems.find(h=>h.fullFilename===W),H=this.allItems.length===this.filteredItems.length;this.arrayDeleteFile(N,this.allItems),this.filterAll(H),this.checkIfThereIsNoData(),this.galleryCaptureAction(Y.ryx.Delete,k),this.deleteCompleted$.next(!0)}checkIfThereIsNoData(){this.noDataExists!==(0===this.allItems.length)&&(this.noDataExists=!this.allItems.length,this.emptyStateChanged$.next(this.noDataExists))}getNextFile(){const u=this.filteredItems.findIndex(W=>W.fullFilename===this.currentFileData.fullFilename);this.currentFileData=this.filteredItems[u===this.filteredItems.length-1?0:u+1],this.galleryViewAction(Y.ryx.Preview,this.currentFileData)}getPreviousFile(){const u=this.filteredItems.findIndex(W=>W.fullFilename===this.currentFileData.fullFilename);this.currentFileData=this.filteredItems[0===u?this.filteredItems.length-1:u-1],this.galleryViewAction(Y.ryx.Preview,this.currentFileData)}generateGalleryFilename(u,k,W=new Date){return`${this.videoPath}${this.dirSeparator}${u}${this.dirSeparator}${u} ${this.datePipe.transform(W,"yyyy.MM.dd - HH.mm.ss.SS")}.${k}`}generateTempFilename(u,k,W,N=new Date){return u[u.length-1]===this.dirSeparator&&(u=u.slice(0,u.length-1)),`${u}${this.dirSeparator}${k} ${this.datePipe.transform(N,"yyyy.MM.dd - HH.mm.ss.SS")}.${W}`}showDeleteSnackbar(u){let k=!0;const W=u.length,N=1===W?"confirmation.deletedTitle":"confirmation.deletedTitleMulti";return u.length<=0?(0,x.of)(!1):new L.y(E=>{(0,p.aj)([this.translateService.get(N,{arg:W}),this.translateService.get("confirmation.undo")]).pipe((0,o.zg)(([ee,R])=>{const q=this.dialogHelper.openSnackBar(ee,R);return q.onAction().subscribe(()=>{k=!1}),q.afterDismissed()}),(0,o.zg)(()=>(k&&this.galleryDeleteCountEvent(u.length),(0,x.of)(!0))),(0,o.zg)(()=>(0,P.D)(u)),(0,o.zg)(ee=>k?this.removeItem(ee.fullFilename):(0,x.of)(!1)),(0,s.Z)()).subscribe(ee=>{E.next(ee),E.complete()})})}getFolderContents(u){return this.setWorkingFolder(u).pipe((0,y.U)(()=>this.cacheService.getCurrentPopFolder()))}getAllData(){const u=this.cacheService.directoryList,k=[];return this.allItems.length=0,0===u.length?(this.checkIfThereIsNoData(),(0,x.of)([])):(u.forEach(W=>{k.push(this.getFolderContents(W))}),(0,a.z)(...k).pipe((0,y.U)(W=>{W.forEach(N=>{this.allItems.push(N)})}),(0,s.Z)(),(0,y.U)(()=>this.filterAll(!0))))}deleteItems(u){if(this.logger.info("Remove clicked"),0===u.length)return void this.logger.info("no selected item");const k=u.length>1,h={title:k?"confirmation.confirmDeleteTitleMulti":"confirmation.confirmDeleteTitle",query:k?"confirmation.confirmDeleteMulti":"confirmation.confirmDelete",queryParam:{arg1:k?u.length:"0"},action1:"confirmation.NotRightNow",action2:"confirmation.remove"};let E=!1;const ee=this.filteredItems.slice(),R=this.modifiedItems.slice(),q=this.allItems.slice(),ne=()=>{setTimeout(()=>{this.allItems=q,this.modifiedItems=R,this.filteredItems=ee,this.filterAll(this.allItems.length===this.filteredItems.length),this.filteredData$.next(this.filteredItems),this.checkIfThereIsNoData(),this.galleryAction(Y.DCd.DeleteUndo),this.deleteCompleted$.next(!0)},0)};this.dialogHelper.openAlertDialog(h).pipe((0,o.zg)(_e=>_e.afterClosed()),(0,r.h)(_e=>_e===O.DX.Action2),(0,v.b)(()=>this.deleteCompleted$.next(!0)),(0,o.zg)(()=>(0,P.D)(u)),(0,v.b)(_e=>{this.arrayDeleteFile(_e,this.filteredItems),this.arrayDeleteFile(_e,this.modifiedItems),this.arrayDeleteFile(_e,this.allItems),this.filterAll(this.allItems.length===this.filteredItems.length),this.filteredData$.next(this.filteredItems),this.checkIfThereIsNoData()}),(0,s.Z)(),(0,v.b)(()=>this.filteredItems=this.filteredItems.slice()),(0,o.zg)(()=>this.showDeleteSnackbar(u)),(0,v.b)(_e=>E=_e),(0,r.h)(_e=>!0===_e),(0,v.b)(()=>{})).subscribe(()=>{},()=>{E||ne()},()=>{E||ne()})}arrayDeleteFile(u,k){const W=k.indexOf(u);W>=0&&k.splice(W,1)}initializeFilters(){this.initializeGameFilters(),this.initializeMediaFilters(),this.initializeHighlightsFilters(!0)}initializeGameFilters(){this.gameItems.length=0,this.allItems.sort((u,k)=>u.fullFilename.localeCompare(k.fullFilename)),this.allItems.forEach(u=>{this.gameItems.find(k=>k.label===u.folder)||this.gameItems.push({label:u.folder,value:0,filtered:!1,children:null,cmsId:u.cmsId})})}initializeMediaFilters(){const u=l.Yk.Common.Gallery.FileType.video,W=[{menu:"filter.Highlight",type:u,subtype:l.Yk.Common.Gallery.SubType.Highlight},{menu:"filter.InstantReplay",type:u,subtype:l.Yk.Common.Gallery.SubType.InstantReplay},{menu:"filter.Recording",type:u,subtype:l.Yk.Common.Gallery.SubType.Manual},{menu:"filter.Montage",type:u,subtype:l.Yk.Common.Gallery.SubType.Montage},{menu:"filter.Screenshot",type:l.Yk.Common.Gallery.FileType.image,subtype:l.Yk.Common.Gallery.SubType.Normal}];this.mediaItems.length=0,W.forEach(N=>{this.mediaItems.push({label:N.menu,type:N.type,subtype:N.subtype,value:0,filtered:!1,children:null})})}tryTranslateHighlightLabel(u){const k=`highlightLabels.${u}`;let W=this.translateService.instant(k);return W===k&&(W=u),W}initializeHighlightsFilters(u){u&&(this.highlightItems.length=0),this.allItems.forEach(k=>{const W=this.tryTranslateHighlightLabel(k.hlName);this.highlightItems.find(N=>N.label===W)||""!==k.hlName&&this.highlightItems.push({label:W,value:0,filtered:!1,children:null,hlDefId:k.hlDefinitionId})}),this.globalHighlightCount=this.highlightItems.length}filterAll(u){return u&&(this.initializeFilters(),this.filterInit=!0),this.modifiedItems=this.allItems.slice(),this.filterBasedOnGames(),this.modifiedItems=this.filteredItems.slice(),this.filterBasedOnMedia(),this.modifiedItems=this.filteredItems.slice(),this.filterBasedOnHighlight(),this.filterInit&&(this.filterInit=!1),this.sortFilteredData(this.sortType,!1),this.filteredItems}filterBasedOnGames(){this.filteredItems.length=0;let u=!0;return this.gameItems.forEach(k=>{k.filtered&&(u=!1),k.value=0}),this.modifiedItems.forEach(k=>{const W=this.gameItems.find(N=>N.label===k.folder);W&&((u||W||this.filterInit)&&W.value++,(u||W.filtered)&&this.filteredItems.push(k))}),this.filteredItems}filterBasedOnMedia(){this.filteredItems.length=0;let u=!0;return this.mediaItems.forEach(k=>{k.filtered&&(u=!1),k.value=0}),this.modifiedItems.forEach(k=>{let W=this.mediaItems.find(N=>N.type===k.file.type&&N.subtype===k.file.subtype);W||k.file.type===l.Yk.Common.Gallery.FileType.video&&k.file.subtype===l.Yk.Common.Gallery.SubType.Normal&&(W=this.mediaItems.find(N=>N.subtype===l.Yk.Common.Gallery.SubType.Manual)),W||k.file.type===l.Yk.Common.Gallery.FileType.image&&k.file.subtype===l.Yk.Common.Gallery.SubType.Highlight&&(W=this.mediaItems.find(N=>N.subtype===l.Yk.Common.Gallery.SubType.Highlight)),W||k.file.type===l.Yk.Common.Gallery.FileType.image&&(k.file.subtype===l.Yk.Common.Gallery.SubType.Normal_Ansel||k.file.subtype===l.Yk.Common.Gallery.SubType.SuperResolution||k.file.subtype===l.Yk.Common.Gallery.SubType.SuperResolution_Oversized||k.file.subtype===l.Yk.Common.Gallery.SubType.SubType_360Mono||k.file.subtype===l.Yk.Common.Gallery.SubType.Stereo||k.file.subtype===l.Yk.Common.Gallery.SubType.SubType_360Stereo)&&(W=this.mediaItems.find(N=>N.type===l.Yk.Common.Gallery.FileType.image)),W?((u||W||this.filterInit)&&W.value++,(u||W.filtered)&&this.filteredItems.push(k)):this.logger.warn("An unknown type was encountered, Type: "+k.file.type+" SubType: "+k.file.subtype+" File: "+k.file.name)}),this.filteredItems}filterBasedOnHighlight(){const u=this.highlightItems.slice();this.initializeHighlightsFilters(!1);const k=this.highlightItems.filter(N=>this.modifiedItems.find(H=>this.tryTranslateHighlightLabel(H.hlName)===N.label));this.highlightItems=k.slice();let W=!0;return this.highlightItems.forEach(N=>{const H=u.findIndex(h=>N.label===h.label);H>=0&&(N.filtered=u[H].filtered),N.filtered&&(W=!1),N.value=0}),this.filteredItems.length=0,this.modifiedItems.forEach(N=>{const H=this.tryTranslateHighlightLabel(N.hlName),h=this.highlightItems.find(E=>E.label===H);(h||!h&&W)&&(h&&h.value++,(W||h&&h.filtered)&&this.filteredItems.push(N))}),this.highlightItems.sort((N,H)=>N.label.localeCompare(H.label)),this.filteredItems}gameFilterChanged(u){this.logger.info("Game Filter: ",u);const k=this.gameItems.find(W=>W.label===u.label);k&&(k.filtered=u.filtered),this.filterAll(!1),this.galleryFilterEvent(Y.NlQ.Game,u.label,u.filtered,u.cmsId)}mediaFilterChanged(u){this.logger.info("Media Filter: ",u);const k=this.mediaItems.find(N=>N.label===u.label);let W;switch(k&&(k.filtered=u.filtered),this.filterAll(!1),u.type){case"image":W=i.DW.Screenshot;break;case"video":switch(u.subtype){case"Highlight":W=i.DW.Highlight;break;case"InstantReplay":W=i.DW.InstantReplay;break;case"Manual":W=i.DW.Recording;break;case"Montage":W=i.DW.Montage}}this.galleryFilterEvent(Y.NlQ.Media,W,u.filtered)}highlightFilterChanged(u){this.logger.info("Highlight Filter: ",u);const k=this.highlightItems.find(W=>W.label===u.label);k&&(k.filtered=u.filtered),this.filterAll(!1),this.galleryFilterEvent(Y.NlQ.Highlights,u.hlDefId,u.filtered)}sortFilteredData(u,k){u===i.ER.newest?(this.filteredItems.sort((W,N)=>new Date(N.date).getTime()-new Date(W.date).getTime()),k&&this.gallerySortEvent(Y._LZ.Newest)):u===i.ER.oldest?(this.filteredItems.sort((W,N)=>new Date(W.date).getTime()-new Date(N.date).getTime()),k&&this.gallerySortEvent(Y._LZ.Oldest)):u===i.ER.atoz?(this.filteredItems.sort((W,N)=>W.fullFilename.localeCompare(N.fullFilename)),k&&this.gallerySortEvent(Y._LZ.AtoZ)):u===i.ER.ztoa&&(this.filteredItems.sort((W,N)=>N.fullFilename.localeCompare(W.fullFilename)),k&&this.gallerySortEvent(Y._LZ.ZtoA)),this.sortType!==u&&(this.sortType=u,this.dBStore.setItem(this.sortKey,this.sortType).subscribe(()=>{this.logger.info("Sort Key storage updated")},W=>{this.logger.error("Error while updating Sort Key storage: ",W)})),this.sortFilteredActivity(u),this.filteredData$.next(this.filteredItems)}sortFilteredActivity(u){0!==this.activityItems.length&&(u===i.ER.newest?this.activityItems.sort((k,W)=>new Date(W.playStarted).getTime()-new Date(k.playStarted).getTime()):u===i.ER.oldest?this.activityItems.sort((k,W)=>new Date(k.playStarted).getTime()-new Date(W.playStarted).getTime()):u===i.ER.atoz?this.activityItems.sort((k,W)=>k.gameName.localeCompare(W.gameName)):u===i.ER.ztoa&&this.activityItems.sort((k,W)=>W.gameName.localeCompare(k.gameName)))}getSortKey(){return this.dBStore.getItem(this.sortKey).pipe((0,y.U)(u=>{if(u)return this.logger.info("Sort Key: ",u),u;this.logger.info("SortType not found in the storage")}),(0,m.K)(u=>(this.logger.error("Could not load SortType from the storage: ",JSON.stringify(u)),(0,x.of)(void 0))))}galleryAction(u){const k={userAction:u};this.logger.info("Telemetry Gallery User Action: ",k),this.telemetryService.push(new Y.yOt(k))}getTelemetrySubtype(u){let k;switch(u){case"Highlight":k=Y.MsO.Highlight;break;case"Normal":k=Y.MsO.Normal;break;case"Manual":k=Y.MsO.Manual;break;case"InstantReplay":k=Y.MsO.InstantReplay;break;case"Montage":k=Y.MsO.Montage;break;default:this.logger.warn("Unknown subtype: ",u),k=Y.MsO.Normal}return k}getAge(u){let k=0;const N=void 0!==u&&T(u).isValid()?Date.parse(u):0;return k=Date.now()-N,k}galleryCaptureAction(u,k){let W=0;u!==Y.ryx.Add&&(W=this.getAge(k.date));const N="video"===k.fileType?Y.hAb.Video:Y.hAb.Image,H=this.getTelemetrySubtype(k.fileSubType.toString());this.galleryContentEvent({eventType:u,mediaType:N,mediaSubtype:H,game:k.DRSProfileName,cmsId:k.cmsId||-1,filesizeKB:k.fileSizeKB,durationMs:k.msDuration,ageMs:W,errorType:"",errorDetails:""})}galleryViewAction(u,k){const W=this.getAge(k.date),h={eventType:u,mediaType:"video"===k.file.type?Y.hAb.Video:Y.hAb.Image,mediaSubtype:this.getTelemetrySubtype(k.file.subtype),game:k.file.drsProfileName,cmsId:k.cmsId||-1,filesizeKB:Number(k.fileSize),durationMs:k.msDuration,ageMs:W,errorType:"",errorDetails:""};this.galleryContentEvent(h)}galleryContentEvent(u){this.logger.info("Telemetry ContentEventInfo: ",u),this.telemetryService.push(new Y.HyT(u))}galleryDeleteCountEvent(u){const k={count:u};this.logger.info("Telemetry Delete count: ",k),this.telemetryService.push(new Y.tZp(k))}gallerySortEvent(u){const k={type:u};this.logger.info("Telemetry Gallery Sort: ",k),this.telemetryService.push(new Y.DUy(k))}galleryFilterEvent(u,k,W,N){const H={type:u,item:k,filtered:W?Y.wye.TRUE:Y.wye.FALSE,cmsId:void 0!==N?N:0};this.logger.info("Telemetry Gallery Filter: ",H),this.telemetryService.push(new Y.AVX(H))}}return Z.\u0275fac=function(u){return new(u||Z)(K.LFG(b.ed),K.LFG(b.dF),K.LFG(f.H),K.LFG(b.MC),K.LFG(D.Q),K.LFG(I.sK),K.LFG(w.M),K.LFG(_.uU),K.LFG($.y0))},Z.\u0275prov=K.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},9010:(Ge,ae,e)=>{"use strict";e.d(ae,{w:()=>S});var t=e(23815),n=e(50936),x=e(18388),M=e(89258),L=e(51325),p=e(64710),P=e(21361),a=e(97483),o=e(39609),v=e(715),y=e(9357);let S=(()=>{class s{constructor(l,i,O,Y){this.bridgeService=l,this.loggingService=i,this.translateService=O,this.telemetryService=Y,this.resList=[],this.title="",this.defaultTitle="",this.subtitle="",this.defaultSubtitle="",this.celebrationIndex=0,this.transitionIndex=0,this.filterIndex=0,this.montageCloudDataValid=!1,this.username=this.translateService.instant("montage.Unknown"),this.processStart=0,this.logger=this.loggingService.getLogger("MontageService"),this.mediaDirectory=""}get mediaDir(){return this.mediaDirectory}set mediaDir(l){this.mediaDirectory=l.slice(-1).match(/[/\\]/)?l:l+"/"}cancelMontage(){const l={userAction:a.bOD.Cancel,timeSinceStart:Date.now()-this.processStart};return this.telemetryService.push(new a.Mbw(l)),this.bridgeService.executeCommand(P.Gh.Common.Gallery.CancelMontage).pipe((0,M.U)(()=>(this.metrics.state=a._cC.Cancel,this.metrics.durationToCreateMs=Date.now()-this.processStart,this.logger.info("Montage Cancel Metrics: ",this.metrics),this.telemetryService.push(new a.DL8(this.metrics)),!0)),(0,L.K)(i=>(this.metrics.errorDetails=JSON.stringify(i),this.logger.error(`Error canceling montage: ${i}`),this.telemetryService.push(new a.DL8(this.metrics)),(0,t.of)(!1))))}init(){return this.logger.info("Initialize"),Promise.resolve(!0)}getMontageCloudData(){return this.bridgeService.executeCommand(P.Gh.Common.Gallery.GetMontageCloudConfig,{}).pipe((0,M.U)(l=>(this.logger.info("Montage Cloud Data: ",l),this.montageCloudData=l,this.montageCloudDataValid=!0,!0),l=>(this.logger.error(`Error fetching montage cloud data. ${l.message}`),!1)),(0,L.K)(l=>(this.logger.error(`Error fetching montage cloud data. ${l.message}`),(0,t.of)(!1))))}initializeMontageMetrics(){this.logger.info("Initialize Montage Session"),this.metrics={state:a._cC.Unknown,numberOfClips:0,numberOfDifferentGames:0,itemsDeleted:0,itemsRearranged:0,titleSequenceChanged:a.wye.FALSE,subtitleSequenceChanged:a.wye.FALSE,averageClipLengthMs:0,lengthOfMontageMs:0,durationToCreateMs:0,celebration:"",mediaTypeCountHighlight:0,mediaTypeCountNormal:0,mediaTypeCountManual:0,mediaTypeCountMontage:0,games:"",errorDetails:""}}updateMetrics(l){this.telemetryService.push(new a.Mbw({userAction:a.bOD.Create,timeSinceStart:0})),this.processStart=Date.now(),this.metrics.numberOfClips=l.length;const O=[];let Y=0;this.metrics.mediaTypeCountHighlight=0,this.metrics.mediaTypeCountNormal=0,this.metrics.mediaTypeCountManual=0,this.metrics.mediaTypeCountMontage=0,l.forEach(B=>{switch(void 0===O.find(K=>K===B.cmsId)&&O.push(B.cmsId),Y+=B.videoDuration,B.mediaType){case a.MsO.Highlight:this.metrics.mediaTypeCountHighlight++;break;case a.MsO.Normal:this.metrics.mediaTypeCountNormal++;break;case a.MsO.Manual:this.metrics.mediaTypeCountManual++;break;case a.MsO.Montage:this.metrics.mediaTypeCountMontage++}});const T=O.length-1;this.metrics.games="",O.forEach((B,K)=>{this.metrics.games+=(B="0"===B?"-1":B)+(K!==T?",":"")}),this.metrics.numberOfDifferentGames=O.length,this.metrics.averageClipLengthMs=Math.round(Y/this.metrics.numberOfClips),this.metrics.celebration=this.getCelebration()}montageComplete(l){this.metrics.lengthOfMontageMs=l,this.logger.info("Telemetry Montage Metrics: ",this.metrics),this.telemetryService.push(new a.DL8(this.metrics))}getCelebration(){var l,i,O;return(null===(O=null===(i=null===(l=this.montageCloudData)||void 0===l?void 0:l.montageConfig)||void 0===i?void 0:i.celebrations)||void 0===O?void 0:O.length)>0?this.montageCloudData.montageConfig.celebrations[this.celebrationIndex].id:"none"}getVideoDimensionsOf(l){return new n.y(i=>{const O=document.createElement("video");O.addEventListener("loadedmetadata",()=>{this.resList.push({filename:l,resolution:{width:O.videoWidth,height:O.videoHeight}}),O.src="",i.next(!0),i.complete()},!1),O.src=p.qR+l})}launchMontageRecipe(l,i,O,Y){return this.logger.info("Montage Inputs: ",l),this.logger.info("Montage Story : ",i),this.logger.info("Montage Recipe: ",O),this.logger.info("Montage Output: ",Y),this.bridgeService.executeCommand(P.Gh.Common.Gallery.CreateMontageFromRecipe,{inputs:l,storyboard:i,recipe:O,output:Y}).pipe((0,L.K)(T=>(this.logger.info("CreateMontage Error1: ",T),this.metrics.state=a._cC.Failure,this.metrics.errorDetails=JSON.stringify(T),this.telemetryService.push(new a.DL8(this.metrics)),(0,x._)(T))),(0,M.U)(()=>(this.logger.info("CreateMontage Success!"),this.metrics.state=a._cC.Create,this.metrics.durationToCreateMs=Date.now()-this.processStart,Y),T=>(this.logger.info("CreateMontage Error2: ",T),this.metrics.state=a._cC.Failure,this.metrics.errorDetails=JSON.stringify(T),this.telemetryService.push(new a.DL8(this.metrics)),(0,x._)(T))))}createMontageFromRecipe(l,i,O){this.updateMetrics(l);const Y=[];for(const b of l){const f=this.resList.find(D=>D.filename===b.video);Y.push({details:{path:b.video,duration:b.videoDuration,width:f.resolution.width,height:f.resolution.height,highlightType:b.highlightName,filter:this.montageCloudData.montageConfig.filters[this.filterIndex].id,source:{app:"Source app string here",method:"Source method string here"},transition:{kind:this.montageCloudData.montageConfig.transitions[this.transitionIndex].id,speed:1},cmsid:b.cmsId},inputFileType:P.Yk.Common.Gallery.InputFileType.video,edgeLog:b.edgeLog})}const T=""!==this.title?this.title:this.translateService.instant("montage.BestGamingMoments"),B=""!==this.subtitle?this.subtitle:this.translateService.instant("montage.ByUsername",{arg:this.username}),K={titleSequence:{seqType:P.Yk.Common.Gallery.SeqType.titleBasic,seqDetails:{txtTitle:T,txtSubtitle:B}},celebration:this.getCelebration(),brandNV:{brandType:P.Yk.Common.Gallery.BrandType.brandSliderInOnly,brandDetails:{position:P.Yk.Common.Gallery.Position.atEnd}}};return this.launchMontageRecipe(Y,K,O,i)}}return s.\u0275fac=function(l){return new(l||s)(o.LFG(p.dF),o.LFG(p.ed),o.LFG(v.sK),o.LFG(y.y0))},s.\u0275prov=o.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},32035:(Ge,ae,e)=>{"use strict";e.d(ae,{H:()=>L});var t=e(89258),n=e(39609),x=e(64710),M=(()=>{return(p=M||(M={})).Windows="Windows",p.Mac="Mac",M;var p})();let L=(()=>{class p{constructor(a,o){this.systemInfoService=o,this.logger=a.getLogger("OsService")}init(){return this.logger.info("Initialize"),this.systemInfoService.getSystemInfo().pipe((0,t.U)(a=>(this.logger.info("Platform: ",a.Platform),this.isWindows=a.Platform===M.Windows,!0)))}getDirSeparator(){return this.isWindows?"\\":"/"}getFileBaseSize(){return this.isWindows?1024:1e3}getOSType(){return this.isWindows?M.Windows:M.Mac}}return p.\u0275fac=function(a){return new(a||p)(n.LFG(x.ed),n.LFG(x.Ob))},p.\u0275prov=n.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},8929:(Ge,ae,e)=>{"use strict";e.d(ae,{V:()=>C});var t=e(52954),n=e(18406),x=e(33932),M=e(71265),L=e(39609),p=e(64710),P=e(32035),a=e(19235),o=e(87057),v=e(9010),y=e(16467);let C=(()=>{class A{constructor(m,S,s,r,l,i,O){this.injector=m,this.loggingService=S,this.osService=s,this.cacheService=r,this.galleryService=l,this.montage=i,this.trimService=O,this.initComplete$=new n.X(!1)}init(){return this.logger=this.loggingService.getLogger("OOGG ServiceLoader"),this.logger.info("OOGG InitData Started"),this.injector.get(t.V_,Promise.resolve(null)).finally(()=>this.initBaseServices().toPromise())}initBaseServices(){return this.montage.init(),this.osService.init().pipe((0,x.zg)(()=>(this.cacheService.init(),this.trimService.init(),this.galleryService.init())),(0,M.b)(()=>{this.initComplete$.next(!0),this.logger.info("OOGG InitData complete")}))}isInitComplete(){return this.initComplete$.asObservable()}}return A.\u0275fac=function(m){return new(m||A)(L.LFG(L.zs3),L.LFG(p.ed),L.LFG(P.H),L.LFG(a.Q),L.LFG(o.rj),L.LFG(v.w),L.LFG(y.S))},A.\u0275prov=L.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},16467:(Ge,ae,e)=>{"use strict";e.d(ae,{S:()=>a});var t=e(21361),n=e(89258),x=e(51325),M=e(33932),L=e(23815),p=e(39609),P=e(64710);let a=(()=>{class o{constructor(y,C){this.loggingService=y,this.bridgeService=C,this.logger=this.loggingService.getLogger("TrimService")}init(){this.logger.info("Initializing Trim Service")}trim(y){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.Trim,y).pipe((0,n.U)(C=>(this.logger.info("Trim complete: ",C),!0),C=>(this.logger.error("Trim failed: ",C),!0)),(0,x.K)(C=>(this.logger.error("Trim error: ",C),(0,L.of)(!1))))}moveFile(y,C){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.MoveFile,{source:y,destination:C})}copyFile(y,C){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.CopyFile,{source:y,destination:C})}deleteFile(y){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.RemoveGalleryItem,{file:y})}overwriteOriginal(y,C){return this.logger.info("Overwriting original!"),this.deleteFile(C).pipe((0,M.zg)(()=>(this.logger.info("Original deleted!"),this.moveFile(y,C))))}getMetaData(y){return this.bridgeService.executeCommand(t.Gh.Common.Gallery.GetFileMetadata,{file:y})}}return o.\u0275fac=function(y){return new(y||o)(p.LFG(P.ed),p.LFG(P.dF))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},55385:(Ge,ae,e)=>{"use strict";e.r(ae),e.d(ae,{GalleryModule:()=>Ce});var t=e(52954),n=e(16873),x=e(50239),M=e(79585),L=e(64710),p=e(23888),P=e(74266),a=e(63155),o=e(39609),v=e(63795);let y=(()=>{class ge{constructor(ye,Oe){this.cs=ye,this.router=Oe}resolve(ye,Oe){return this.cs.isInitComplete().pipe((0,P.h)(ie=>!0===ie),(0,a.P)())}}return ge.\u0275fac=function(ye){return new(ye||ge)(o.LFG(v.Vu),o.LFG(n.F0))},ge.\u0275prov=o.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();var C=e(96671),A=e(39138),d=e(10907),m=e(89258),S=e(97483),s=e(53975),r=e(53511),l=e(715),i=e(3878),O=e(37661);const Y=["filterSideNav"],T=["grid"];function B(ge,De){if(1&ge&&(o.TgZ(0,"span",24),o._uU(1),o.qZA()),2&ge){const ye=o.oxw(2);o.xp6(1),o.Oqu(ye.countDisplay)}}function K(ge,De){if(1&ge){const ye=o.EpF();o.TgZ(0,"div",25)(1,"button",26),o.NdJ("click",function(){o.CHM(ye);const ie=o.oxw(2);return o.KtG(ie.onShowGallery())}),o.ALo(2,"translate"),o._UZ(3,"mat-icon",10),o.qZA(),o.TgZ(4,"button",26),o.NdJ("click",function(){o.CHM(ye);const ie=o.oxw(2);return o.KtG(ie.onShowActivity())}),o.ALo(5,"translate"),o._UZ(6,"mat-icon",10),o.qZA()()}2&ge&&(o.xp6(1),o.Q6J("matTooltip",o.lcZ(2,4,"tooltips.Grid")),o.xp6(2),o.Q6J("svgIcon","view_grid"),o.xp6(1),o.Q6J("matTooltip",o.lcZ(5,6,"tooltips.Summary")),o.xp6(2),o.Q6J("svgIcon","view_summary"))}function b(ge,De){if(1&ge){const ye=o.EpF();o.ynx(0),o.TgZ(1,"button",31),o.NdJ("click",function(){const qe=o.CHM(ye).$implicit,lt=o.oxw(3);return o.KtG(lt.onSortClicked(qe.type))}),o.TgZ(2,"div",15),o._uU(3),o.ALo(4,"translate"),o.qZA()(),o.BQk()}if(2&ge){const ye=De.$implicit,Oe=o.oxw(3);o.xp6(1),o.ekj("active",ye.type===Oe.sortType),o.xp6(2),o.Oqu(o.lcZ(4,3,ye.label))}}function f(ge,De){if(1&ge&&(o.TgZ(0,"div",27)(1,"button",28),o._UZ(2,"mat-icon",10),o._uU(3),o.qZA(),o.TgZ(4,"mat-menu",29,30),o.YNc(6,b,5,5,"ng-container",16),o.qZA()()),2&ge){const ye=o.MAs(5),Oe=o.oxw(2);o.xp6(1),o.Q6J("matMenuTriggerFor",ye),o.xp6(1),o.Q6J("svgIcon","sort"),o.xp6(1),o.hij(" ",Oe.sortLabel," "),o.xp6(3),o.Q6J("ngForOf",Oe.sortMenu)}}function D(ge,De){if(1&ge){const ye=o.EpF();o.TgZ(0,"div",32)(1,"button",26),o.NdJ("click",function(){o.CHM(ye);const ie=o.oxw(2);return o.KtG(ie.onFilterToggle())}),o.ALo(2,"translate"),o._UZ(3,"mat-icon",10),o.qZA()()}2&ge&&(o.xp6(1),o.Q6J("matTooltip",o.lcZ(2,2,"tooltips.Filter")),o.xp6(2),o.Q6J("svgIcon","filter_list"))}function I(ge,De){if(1&ge&&(o.TgZ(0,"div",19),o.YNc(1,B,2,1,"span",20),o.YNc(2,K,7,8,"div",21),o.YNc(3,f,7,4,"div",22),o.YNc(4,D,4,4,"div",23),o.qZA()),2&ge){const ye=o.oxw();o.xp6(1),o.Q6J("ngIf",ye.showSortMenu),o.xp6(1),o.Q6J("ngIf",ye.activityFeedEnabled),o.xp6(1),o.Q6J("ngIf",ye.showSortMenu),o.xp6(1),o.Q6J("ngIf",ye.showFilterMenu)}}function w(ge,De){if(1&ge){const ye=o.EpF();o.ynx(0),o.TgZ(1,"div",33)(2,"mat-checkbox",34),o.NdJ("ngModelChange",function(ie){const lt=o.CHM(ye).$implicit;return o.KtG(lt.filtered=ie)})("change",function(){const qe=o.CHM(ye).$implicit,lt=o.oxw();return o.KtG(lt.onGameItemChanged(qe))}),o.qZA(),o.TgZ(3,"span",35),o._uU(4),o.qZA(),o.TgZ(5,"span",36),o._uU(6),o.qZA()(),o.BQk()}if(2&ge){const ye=De.$implicit;o.xp6(2),o.Q6J("ngModel",ye.filtered),o.xp6(2),o.Oqu(ye.label),o.xp6(2),o.hij("(",ye.value,")")}}function _(ge,De){if(1&ge){const ye=o.EpF();o.ynx(0),o.TgZ(1,"div",33)(2,"mat-checkbox",37),o.NdJ("ngModelChange",function(ie){const lt=o.CHM(ye).$implicit;return o.KtG(lt.filtered=ie)})("change",function(){const qe=o.CHM(ye).$implicit,lt=o.oxw();return o.KtG(lt.onMediaItemChanged(qe))}),o.qZA(),o.TgZ(3,"span",38),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"span",36),o._uU(7),o.qZA()(),o.BQk()}if(2&ge){const ye=De.$implicit;o.xp6(2),o.Q6J("ngModel",ye.filtered)("disabled",0===ye.value),o.xp6(1),o.ekj("disabled-opacity",0===ye.value),o.xp6(1),o.Oqu(o.lcZ(5,8,ye.label)),o.xp6(2),o.ekj("disabled-opacity",0===ye.value),o.xp6(1),o.hij("(",ye.value,")")}}function $(ge,De){if(1&ge){const ye=o.EpF();o.ynx(0),o.TgZ(1,"div",33)(2,"mat-checkbox",34),o.NdJ("ngModelChange",function(ie){const lt=o.CHM(ye).$implicit;return o.KtG(lt.filtered=ie)})("change",function(){const qe=o.CHM(ye).$implicit,lt=o.oxw();return o.KtG(lt.onHighlightItemChanged(qe))}),o.qZA(),o.TgZ(3,"span",38),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"span",36),o._uU(7),o.qZA()(),o.BQk()}if(2&ge){const ye=De.$implicit;o.xp6(2),o.Q6J("ngModel",ye.filtered),o.xp6(2),o.Oqu(o.lcZ(5,3,ye.label)),o.xp6(3),o.hij("(",ye.value,")")}}function G(ge,De){1&ge&&(o.TgZ(0,"div")(1,"span",39),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&ge&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"filter.NoHighlightsAtAll")))}function F(ge,De){1&ge&&(o.TgZ(0,"div")(1,"span",39),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&ge&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"filter.NoHighlights")))}function J(ge,De){1&ge&&o._UZ(0,"div")}const z=function(ge){return{emptyWithWorkbar:ge}};function Z(ge,De){if(1&ge&&(o.TgZ(0,"div",47),o._UZ(1,"mat-icon",48),o.TgZ(2,"div",49),o._uU(3),o.ALo(4,"translate"),o.qZA()()),2&ge){const ye=o.oxw(3);o.Q6J("ngClass",o.VKq(5,z,ye.showFilterMenu)),o.xp6(3),o.hij(" ",o.xi3(4,2,ye.emptyContainerString,ye.emptyContainerParams)," ")}}function ue(ge,De){1&ge&&(o.TgZ(0,"div",50),o._UZ(1,"mat-spinner",51),o.qZA())}function u(ge,De){if(1&ge&&(o.YNc(0,Z,5,7,"div",45),o.YNc(1,ue,2,0,"div",46)),2&ge){const ye=o.oxw(2);o.Q6J("ngIf",ye.dataInitialized),o.xp6(1),o.Q6J("ngIf",!ye.dataInitialized)}}function k(ge,De){if(1&ge){const ye=o.EpF();o.TgZ(0,"nv-gallery-item",55),o.NdJ("dblclick",function(){const qe=o.CHM(ye).$implicit,lt=o.oxw(3);return o.KtG(lt.openFile(qe))}),o.qZA()}if(2&ge){const ye=De.$implicit,Oe=De.scroll,ie=o.oxw(3);o.Q6J("item",ye)("scrolling",Oe)("activeItem",ie.galleryOpenItem)("thumbWidth",ie.thumbWidth)("thumbHeight",ie.thumbHeight)("initialDelay",ie.delay)("multiSelect",ie.multiSelectMode)}}function W(ge,De){if(1&ge){const ye=o.EpF();o.TgZ(0,"nv-virtual-grid-container",52,53),o.NdJ("multiSelectMode",function(ie){o.CHM(ye);const qe=o.oxw(2);return o.KtG(qe.onMultiSelectMode(ie))})("multiSelectList",function(ie){o.CHM(ye);const qe=o.oxw(2);return o.KtG(qe.onMultiSelectList(ie))})("selectedItemChange",function(ie){o.CHM(ye);const qe=o.oxw(2);return o.KtG(qe.gallerySelection=ie)})("selectedItemChange",function(ie){o.CHM(ye);const qe=o.oxw(2);return o.KtG(qe.selectedItemChanged(ie))})("keydown",function(ie){o.CHM(ye);const qe=o.oxw(2);return o.KtG(qe.openGalleryItem(ie))}),o.YNc(2,k,1,7,"ng-template",null,54,o.W1O),o.qZA()}if(2&ge){const ye=o.MAs(3),Oe=o.oxw(2);o.Q6J("items",Oe.galleryItems)("selectedItem",Oe.gallerySelection)("itemHeight",Oe.thumbHeight)("marginBottom",8)("itemWidth",Oe.thumbWidth)("marginRight",8)("template",ye)("topBottomPad",0)("sortType",Oe.sortType)}}function N(ge,De){if(1&ge&&(o.TgZ(0,"mat-sidenav-content",40)(1,"div",41),o.YNc(2,J,1,0,"div",42),o.YNc(3,u,2,2,"ng-template",null,43,o.W1O),o.YNc(5,W,4,9,"ng-template",null,44,o.W1O),o.qZA()()),2&ge){const ye=o.MAs(4),Oe=o.MAs(6),ie=o.oxw();o.xp6(2),o.Q6J("ngIf",ie.emptyContainerVisible||!ie.dataInitialized)("ngIfThen",ye)("ngIfElse",Oe)}}function H(ge,De){1&ge&&o._UZ(0,"div")}function h(ge,De){if(1&ge&&(o.TgZ(0,"div",47),o._UZ(1,"mat-icon",48),o.TgZ(2,"div",49),o._uU(3),o.ALo(4,"translate"),o.qZA()()),2&ge){const ye=o.oxw(2);o.Q6J("ngClass",o.VKq(4,z,ye.showFilterMenu)),o.xp6(3),o.hij(" ",o.lcZ(4,2,ye.noActivityString)," ")}}function E(ge,De){if(1&ge&&(o.TgZ(0,"div",60),o._UZ(1,"nv-activity-item",61),o.qZA()),2&ge){const ye=De.$implicit,Oe=o.oxw(4);o.xp6(1),o.Q6J("item",ye)("itemWidth",Oe.panelWidth)("itemHeight",Oe.panelHeight)("initialDelay",Oe.delay)}}function ee(ge,De){if(1&ge&&(o.TgZ(0,"div",58),o.YNc(1,E,2,4,"div",59),o.qZA()),2&ge){const ye=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",ye.activityItems)}}function R(ge,De){if(1&ge&&(o.TgZ(0,"div",60),o._UZ(1,"nv-activity-item",61),o.qZA()),2&ge){const ye=De.$implicit,Oe=o.oxw(4);o.xp6(1),o.Q6J("item",ye)("itemWidth",Oe.panelWidth)("itemHeight",Oe.panelHeight)("initialDelay",Oe.delay)}}function q(ge,De){if(1&ge&&(o.TgZ(0,"cdk-virtual-scroll-viewport",62,63),o.YNc(2,R,2,4,"div",64),o.qZA()),2&ge){const ye=o.oxw(3);o.Q6J("itemSize",ye.panelHeight),o.xp6(2),o.Q6J("cdkVirtualForOf",ye.activityItems)("cdkVirtualForTrackBy",ye.activityIdentity)}}function ne(ge,De){if(1&ge&&(o.YNc(0,ee,2,1,"div",56),o.YNc(1,q,3,3,"cdk-virtual-scroll-viewport",57)),2&ge){const ye=o.oxw(2);o.Q6J("ngIf",!ye.useVirtualScrolling),o.xp6(1),o.Q6J("ngIf",ye.useVirtualScrolling)}}function _e(ge,De){if(1&ge&&(o.TgZ(0,"mat-sidenav-content",40)(1,"div",41),o.YNc(2,H,1,0,"div",42),o.YNc(3,h,5,6,"ng-template",null,43,o.W1O),o.YNc(5,ne,2,2,"ng-template",null,44,o.W1O),o.qZA()()),2&ge){const ye=o.MAs(4),Oe=o.MAs(6),ie=o.oxw();o.xp6(2),o.Q6J("ngIf",ie.noActivityData)("ngIfThen",ye)("ngIfElse",Oe)}}let re=(()=>{class ge{constructor(ye,Oe,ie,qe,lt,Et,kt,an,dn,xn){this.appConfig=ye,this.loggingService=Oe,this.appBarService=ie,this.galleryService=qe,this.montageService=lt,this.route=Et,this.router=kt,this.translateService=an,this.domSanitizer=dn,this.matIconRegistry=xn,this.destroy$=new C.xQ,this.dataInitialized=!1,this.activityFeedEnabled=!1,this.useVirtualScrolling=!1,this.galleryItems=[],this.multiSelectMode=!1,this.multiSelectList=void 0,this.emptyContainerVisible=!1,this.emptyContainerString="gallery.NoEntriesYet",this.emptyContainerParams={},this.thumbWidth=v.dz.width,this.thumbHeight=v.dz.height,this.delay=!0,this.previewOpen=!1,this.montageEnabled=!1,this.showSortMenu=!0,this.showFilterMenu=!0,this.showActivity=!1,this.totalCount=0,this.countDisplay="",this.sortType=v.ER.newest,this.sortLabel="",this.sortMenu=[{type:v.ER.newest,label:"filter.NewestFirst"},{type:v.ER.oldest,label:"filter.OldestFirst"},{type:v.ER.atoz,label:"filter.GameAtoZ"},{type:v.ER.ztoa,label:"filter.GameZtoA"}],this.gameItems=[],this.mediaItems=[],this.highlightItems=[],this.globalHighlightCount=0,this.disableFilterClearButton=!0,this.activityItems=[],this.noActivityData=!0,this.noActivityString="summary.NoSummaryItems",this.panelWidth=1600,this.panelHeight=970,this.eventTimeout=null,this.logger=this.loggingService.getLogger("Gallery"),this.logger.info("Gallery started"),this.setAppBarInitial(),this.appBarService.actionClicked$.pipe((0,d.R)(this.destroy$)).subscribe(un=>{this.appBarClicked(un)}),this.matIconRegistry.addSvgIcon("hexBackground",this.domSanitizer.bypassSecurityTrustResourceUrl("./assets/img/hex_bg.svg"))}ngOnInit(){this.logger.info("ngOnInit started"),this.startTiming=s(),this.initializeGallery()}initializeGallery(){this.galleryService.initGalleryData().pipe((0,d.R)(this.destroy$)).subscribe(()=>{this.initialize();const ye=s().diff(this.startTiming);this.logger.info("Time to initialize gallery: "+ye+" ms"),this.dataInitialized=!0})}initialize(){var ye;!(null===(ye=this.appConfig.oogg)||void 0===ye)&&ye.activityFeedEnabled&&(this.activityFeedEnabled=!0),this.appBarService.setAppBarState(!0),this.montageEnabled=this.galleryService.montageAvailable,this.sortType=this.galleryService.sortType,this.sortLabel=this.translateService.instant(this.sortMenu.find(Oe=>Oe.type===this.sortType).label)+"\u25be",this.galleryService.unselectAllItems(),this.galleryService.listenForFilteredDataChange().pipe((0,d.R)(this.destroy$)).subscribe(Oe=>{this.processData(Oe)}),this.galleryService.listenForEmptyStateChanged().pipe((0,d.R)(this.destroy$)).subscribe(Oe=>{this.showFilterMenu=!Oe}),this.galleryService.listenForDeleteCompletion().pipe((0,d.R)(this.destroy$)).subscribe(Oe=>{Oe&&this.onCancelMultiSelectClicked()}),this.montageEnabled&&!this.montageService.montageCloudDataValid&&this.montageService.getMontageCloudData().pipe((0,d.R)(this.destroy$)).subscribe(Oe=>{Oe||(this.montageEnabled=!1),this.logger.info("Montage is "+(this.montageEnabled?"available":"not available"))}),this.processData(this.galleryService.getGalleryData()),this.galleryService.galleryAction(S.DCd.Enter)}ngAfterViewInit(){this.logger.info("Entry panelHeight: "+this.panelHeight),this.panelWidth=window.innerWidth-32,this.panelHeight=window.innerHeight-120,this.logger.info("Inner Window: "+window.innerHeight+" panelHeight: "+this.panelHeight)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onResize(ye){const Oe=window.innerWidth-32,ie=window.innerHeight-120;this.resizeThrottler(100,Oe,ie)}resizeThrottler(ye,Oe,ie){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.panelWidth=Oe,this.panelHeight=ie},ye))}processData(ye){this.galleryItems=ye.slice(),this.galleryItems=this.galleryItems.filter(ie=>""!==ie.fullFilename),this.totalCount=this.galleryItems.length;const Oe=this.galleryService.getAllItemsCount();if(this.disableFilterClearButton=this.totalCount===Oe,this.countDisplay=this.totalCount===Oe?this.translateService.instant("gallery.All",{arg:this.totalCount}):this.translateService.instant("gallery.ShowNofMItems",{arg1:this.totalCount,arg2:Oe}),this.getFilters(),this.emptyContainerVisible=0===this.galleryItems.length,this.showSortMenu=!this.emptyContainerVisible,this.gallerySelection&&this.galleryItems.findIndex(ie=>ie===this.gallerySelection)<0&&(this.gallerySelection=void 0),this.multiSelectList&&this.multiSelectList.length>0){this.changeAppBarSelected(),this.galleryService.currentSelectedFilesData=this.getFinalMultiSelectList();const ie=this.galleryService.currentSelectedFilesData.length>0;this.onMultiSelectMode(ie),this.virtualGrid.refreshMultiSelectList(!ie)}return this.processActivityData(),!0}processActivityData(){this.activityFeedEnabled&&this.galleryService.getActivityData().pipe((0,d.R)(this.destroy$)).subscribe(ye=>{null!==ye?(this.activityItems=ye.slice(),0===this.activityItems.length?this.noActivityData=!0:(this.activitySelection=this.activityItems[0],this.noActivityData=!1)):this.noActivityData=!0})}selectedItemChanged(ye){this.gallerySelection=ye,this.multiSelectMode||(this.galleryService.currentSelectedFilesData=[ye])}selectedActivityChanged(ye){this.activitySelection=ye}onMultiSelectMode(ye){this.multiSelectMode=ye}onMultiSelectList(ye){this.multiSelectList=ye.slice(0),this.changeAppBarSelected(),this.galleryService.currentSelectedFilesData=this.getFinalMultiSelectList()}onCancelMultiSelectClicked(){var ye;this.galleryService.unselectAllItems(),this.galleryItems.forEach(Oe=>Oe.selected=!1),null===(ye=this.virtualGrid)||void 0===ye||ye.cancelMultiSelect(),this.multiSelectList&&(this.multiSelectList.length=0)}getFinalMultiSelectList(){const ye=[];return this.galleryItems.forEach(Oe=>{var ie;null!==(ie=this.multiSelectList)&&void 0!==ie&&ie.find(qe=>qe.fullFilename===Oe.fullFilename)&&ye.push(Oe)}),ye}openGalleryItem(ye){"Enter"===ye.key&&this.gallerySelection?this.openFile(this.gallerySelection):"Delete"===ye.key&&this.onRemoveClicked()}openActivityItem(ye){}openFile(ye){this.logger.verbose("OpenFile: ",ye),ye.fullFilename&&!this.multiSelectMode&&(this.galleryService.currentFileData=this.gallerySelection,this.galleryOpenItem=this.gallerySelection,this.previewOpen||(this.galleryService.setMontageMode(!1),this.galleryService.galleryViewAction(S.ryx.Preview,ye),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})))}setAppBarInitial(){this.appBarService.clearIcons(),this.appBarService.setTitle({entry:"gallery.Gallery",params:{}}),this.appBarService.setInfo({entry:"",params:{}}),this.appBarService.setActive(!1),this.appBarService.setNavButtonToDefault(),this.appBarService.setTemplate({id:"",params:{}})}appBarClicked(ye){"close"===ye?this.multiSelectMode&&this.onCancelMultiSelectClicked():"delete"===ye?this.onRemoveClicked():"montage"===ye&&this.onMontageClicked()}changeAppBarSelected(){let ye=0,Oe=0;this.galleryItems.forEach(qe=>{this.multiSelectList.find(lt=>lt.fullFilename===qe.fullFilename)&&(ye++,"image"!==qe.file.type&&Oe++)});const ie=ye===Oe&&Oe>1;0===ye?this.setAppBarInitial():(this.appBarService.setActive(!0),this.appBarService.setNavButtonClose("common.cancelTitleCase"),this.appBarService.setTitle(1===ye?{entry:"gallery.OneSelected",params:{}}:{entry:"gallery.XSelected",params:{arg:ye}}),this.appBarService.setIcons([{id:"delete",icon:"delete_forever",tooltip:"tooltips.Remove",end:!0}])),this.montageEnabled&&(ie?this.appBarService.addIcon({id:"montage",icon:"montage",tooltip:"tooltips.Montage",end:!0}):this.appBarService.deleteIcon("montage"))}onFilterToggle(){this.filterSideNav.toggle().then(()=>{this.showActivity||this.processData(this.galleryService.getGalleryData())})}onFilterClearToggle(){this.galleryService.galleryAction(S.DCd.FiltersCleared),this.galleryService.filterAll(!0)}onSortClicked(ye){this.sortType=ye,this.sortLabel=this.translateService.instant(this.sortMenu.find(Oe=>Oe.type===this.sortType).label)+"\u25be",this.galleryService.sortFilteredData(ye,!0)}onMontageClicked(){this.logger.info("Montage clicked with "+this.multiSelectList.length+" items");let ye=0;const Oe=[];this.multiSelectList.forEach(ie=>{null===ie.data&&(ye++,Oe.push(this.getMissingThumb(ie)))}),ye>0?(this.logger.info("Getting thumbs for "+ye+" items"),(0,A.$R)(...Oe).subscribe(()=>{this.logger.info("Completed updating montage thumbs!"),this.gotoMontage()})):this.gotoMontage()}getMissingThumb(ye){return this.galleryService.getThumbnailForFile(ye.fullFilename,this.thumbWidth,this.thumbHeight).pipe((0,m.U)(Oe=>(ye.data=Oe,!0)))}gotoMontage(){this.previewOpen||(this.galleryService.setMontageMode(!0),this.galleryService.galleryAction(S.DCd.Montage),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{}))}onRemoveClicked(){this.logger.info("Remove clicked"),this.galleryService.deleteItems(this.getFinalMultiSelectList())}getFilters(){this.gameItems=this.galleryService.gameItems,this.mediaItems=this.galleryService.mediaItems,this.globalHighlightCount=this.galleryService.globalHighlightCount,this.highlightItems=this.galleryService.highlightItems}onGameItemChanged(ye){this.logger.info("Game menu changed to: ",ye),this.galleryService.gameFilterChanged(ye),this.processActivityData()}onMediaItemChanged(ye){this.logger.info("Media menu changed to: ",ye),this.galleryService.mediaFilterChanged(ye),this.processActivityData()}onHighlightItemChanged(ye){this.logger.info("Highlight menu changed to: ",ye),this.galleryService.highlightFilterChanged(ye),this.processActivityData()}onShowGallery(){this.logger.info("Loading Gallery"),this.showActivity=!1}onShowActivity(){this.logger.info("Loading Activity"),this.setAppBarInitial(),this.showActivity=!0}activityIdentity(ye,Oe){return console.log("Gallery index: "+ye+" started: ",Oe.gameName+" identity: "+Oe.identity),Oe.identity}}return ge.\u0275fac=function(ye){return new(ye||ge)(o.Y36(S.VKt),o.Y36(L.ed),o.Y36(r.ad),o.Y36(v.rj),o.Y36(v.wz),o.Y36(n.gz),o.Y36(n.F0),o.Y36(l.sK),o.Y36(i.H7),o.Y36(O.jv))},ge.\u0275cmp=o.Xpm({type:ge,selectors:[["oogg-gallery"]],viewQuery:function(ye,Oe){if(1&ye&&(o.Gf(Y,7),o.Gf(T,5)),2&ye){let ie;o.iGM(ie=o.CRH())&&(Oe.filterSideNav=ie.first),o.iGM(ie=o.CRH())&&(Oe.virtualGrid=ie.first)}},hostBindings:function(ye,Oe){1&ye&&o.NdJ("resize",function(qe){return Oe.onResize(qe)},!1,o.Jf7)},decls:45,vars:25,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg","oogg-gallery"],["fxLayout","row","class","work-bar",4,"ngIf"],["fxFlexFill","",1,"grid-offset"],["mode","side","position","end",1,"filter-area"],["filterSideNav",""],[1,"filter-data"],["fxLayout","column"],["fxLayout","row"],[1,"font-header6","filterHeader"],["mat-button","","fxFlex","none",1,"font-body1","nv-item-icon","complex-button","filter-close",3,"click"],[3,"svgIcon"],["fxFlex","grow"],["fxFlex","none","mat-button","",1,"font-body1","complex-button","hig-button-overlay",3,"disabled","click"],[1,"font-body2","clear-filter"],[1,"hig-button-overlay","filter-header"],[1,"font-body2"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","gallery-area",4,"ngIf"],["fxLayout","row",1,"work-bar"],["class","font-body2 count-display",4,"ngIf"],["class","activity-buttons","fxLayout","row",4,"ngIf"],["class","sortmenu",4,"ngIf"],["class","filtermenu",4,"ngIf"],[1,"font-body2","count-display"],["fxLayout","row",1,"activity-buttons"],["mat-button","","matTooltipClass","nv-oogg oogg-tooltip","fxFlex","none",1,"font-body1","nv-item-icon","complex-button",3,"matTooltip","click"],[1,"sortmenu"],["mat-button","","fxLayout","row",1,"font-body2",3,"matMenuTriggerFor"],["xPosition","after","yPosition","below","overlapTrigger","false",1,"max-width-menu-class"],["menu","matMenu"],["mat-menu-item","","fxLayout","row","fxLayoutAlign","start center",1,"nv-dropdown-menu","hig-button-overlay",3,"click"],[1,"filtermenu"],["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","nvAddKeyboardActivate","",3,"ngModel","ngModelChange","change"],["dir","auto","fxFlex","none",1,"font-body2","check-label"],["fxFlex","grow",1,"font-body2"],["fxFlex","none","nvAddKeyboardActivate","",3,"ngModel","disabled","ngModelChange","change"],["fxFlex","none",1,"font-body2","check-label"],["fxFlex","shrink",1,"font-body2","nohightlights-label"],[1,"gallery-area"],["fxFlex","","fxLayout","column"],[4,"ngIf","ngIfThen","ngIfElse"],["noGrid",""],["useGrid",""],["class","emptyContainer","fxLayout","column","fxLayoutAlign","center center",3,"ngClass",4,"ngIf"],["class","galleryInitializing","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"emptyContainer",3,"ngClass"],["svgIcon","hexBackground",1,"emptyBackground"],[1,"font-body2","emptyMessage"],["fxLayout","column","fxLayoutAlign","center center",1,"galleryInitializing"],["diameter","48","tabindex","-1","color","accent"],["tabIndex","0","fxFlex","","fxLayout","row","multiSelect","true","chunkFileMetadata","true",1,"nv-item-row",3,"items","selectedItem","itemHeight","marginBottom","itemWidth","marginRight","template","topBottomPad","sortType","multiSelectMode","multiSelectList","selectedItemChange","keydown"],["grid",""],["galleryTemplate",""],[3,"item","scrolling","activeItem","thumbWidth","thumbHeight","initialDelay","multiSelect","dblclick"],["class","scroll-container","fxLayout","column",4,"ngIf"],["class","scroll-container","orientation","vertical","tabIndex","0",3,"itemSize",4,"ngIf"],["fxLayout","column",1,"scroll-container"],["class","activity-item",4,"ngFor","ngForOf"],[1,"activity-item"],[3,"item","itemWidth","itemHeight","initialDelay"],["orientation","vertical","tabIndex","0",1,"scroll-container",3,"itemSize"],["scroller",""],["class","activity-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"]],template:function(ye,Oe){1&ye&&(o.TgZ(0,"div",0),o.YNc(1,I,5,4,"div",1),o.TgZ(2,"mat-sidenav-container",2)(3,"mat-sidenav",3,4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"button",9),o.NdJ("click",function(){return Oe.onFilterToggle()}),o._UZ(12,"mat-icon",10),o.qZA()(),o.TgZ(13,"div",7),o._UZ(14,"div",11),o.TgZ(15,"button",12),o.NdJ("click",function(){return Oe.onFilterClearToggle()}),o.TgZ(16,"div",13),o._uU(17),o.ALo(18,"translate"),o.qZA()()(),o._UZ(19,"nv-divider"),o.qZA(),o.TgZ(20,"mat-expansion-panel")(21,"mat-expansion-panel-header",14)(22,"mat-panel-title",15),o._uU(23),o.ALo(24,"translate"),o.qZA()(),o.YNc(25,w,7,3,"ng-container",16),o.qZA(),o._UZ(26,"nv-divider"),o.TgZ(27,"mat-expansion-panel")(28,"mat-expansion-panel-header",14)(29,"mat-panel-title",15),o._uU(30),o.ALo(31,"translate"),o.qZA()(),o.YNc(32,_,8,10,"ng-container",16),o.qZA(),o._UZ(33,"nv-divider"),o.TgZ(34,"mat-expansion-panel")(35,"mat-expansion-panel-header",14)(36,"mat-panel-title",15),o._uU(37),o.ALo(38,"translate"),o.qZA()(),o.YNc(39,$,8,5,"ng-container",16),o.YNc(40,G,4,3,"div",17),o.YNc(41,F,4,3,"div",17),o.qZA(),o._UZ(42,"nv-divider"),o.qZA()(),o.YNc(43,N,7,3,"mat-sidenav-content",18),o.YNc(44,_e,7,3,"mat-sidenav-content",18),o.qZA()()),2&ye&&(o.xp6(1),o.Q6J("ngIf",Oe.showSortMenu||Oe.showFilterMenu),o.xp6(8),o.Oqu(o.lcZ(10,15,"filter.Filter")),o.xp6(3),o.Q6J("svgIcon","close"),o.xp6(3),o.Q6J("disabled",Oe.disableFilterClearButton),o.xp6(2),o.Oqu(o.lcZ(18,17,"filter.ClearAllFilters")),o.xp6(6),o.Oqu(o.lcZ(24,19,"filter.Game")),o.xp6(2),o.Q6J("ngForOf",Oe.gameItems),o.xp6(5),o.Oqu(o.lcZ(31,21,"filter.Media")),o.xp6(2),o.Q6J("ngForOf",Oe.mediaItems),o.xp6(5),o.Oqu(o.lcZ(38,23,"filter.Highlights")),o.xp6(2),o.Q6J("ngForOf",Oe.highlightItems),o.xp6(1),o.Q6J("ngIf",0===Oe.globalHighlightCount),o.xp6(1),o.Q6J("ngIf",0!==Oe.globalHighlightCount&&0===Oe.highlightItems.length),o.xp6(2),o.Q6J("ngIf",!Oe.showActivity),o.xp6(1),o.Q6J("ngIf",Oe.showActivity))},styles:["body[_ngcontent-%COMP%]   nv-oogg[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-family:NVIDIA,sans-serif}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0;background:rgba(255,255,255,.3)}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0;background:rgba(255,255,255,.7)}nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus, .nv-oogg[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:focus{outline:none}nv-oogg[_ngcontent-%COMP%]   [readonly][_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   [type=readonly][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   [readonly][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   [type=readonly][_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;padding:0}nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled), nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:disabled), .nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   dir[_ngcontent-%COMP%], nv-oogg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   menu[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   dir[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{-webkit-margin-before:0!important;-webkit-margin-after:0!important;-webkit-margin-start:0!important;-webkit-margin-end:0!important;-webkit-padding-start:0!important;-moz-margin-start:0!important;-moz-margin-end:0!important;-moz-padding-start:0!important}nv-oogg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0}nv-oogg[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%], .nv-oogg[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{width:36px;height:36px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.oogg-gallery[_ngcontent-%COMP%]{overflow-y:hidden!important;background-color:#000}.grid-offset[_ngcontent-%COMP%]{padding-top:56px;margin-top:56px;height:calc(100% - 112px)}.gallery-area[_ngcontent-%COMP%]{top:-56px;overflow-x:hidden}.filter-area[_ngcontent-%COMP%]{min-width:320px;max-width:320px;height:calc(100% - 56px);background:#191919;border-left:none}.filter-header[_ngcontent-%COMP%]{height:36px}.emptyContainer[_ngcontent-%COMP%]{height:238px}.emptyWithWorkbar[_ngcontent-%COMP%]{margin-top:56px}.emptyMessage[_ngcontent-%COMP%]{height:52px;width:478px;text-align:center;vertical-align:middle;position:absolute}.isLtr[_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{margin-right:24px}html[dir=ltr][_ngcontent-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{--dummy4: 0;margin-right:24px}.isRtl[_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{margin-left:24px}html[dir=rtl][_ngcontent-%COMP%]   .emptyMessage[_ngcontent-%COMP%]{--dummy4: 0;margin-left:24px}.emptyBackground[_ngcontent-%COMP%]{width:261px;height:238px}.check-label[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:180px}.isLtr[_nghost-%COMP%]   .check-label[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .check-label[_ngcontent-%COMP%]{margin-right:3px}html[dir=ltr][_ngcontent-%COMP%]   .check-label[_ngcontent-%COMP%]{--dummy4: 0;margin-right:3px}.isRtl[_nghost-%COMP%]   .check-label[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .check-label[_ngcontent-%COMP%]{margin-left:3px}html[dir=rtl][_ngcontent-%COMP%]   .check-label[_ngcontent-%COMP%]{--dummy4: 0;margin-left:3px}.nohightlights-label[_ngcontent-%COMP%]{white-space:wrap;min-width:0;width:0}.active[_ngcontent-%COMP%]{color:#76b900}.filter-data[_ngcontent-%COMP%]{padding:24px}.isLtr[_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%]{margin-right:-12px}html[dir=ltr][_ngcontent-%COMP%]   .filter-close[_ngcontent-%COMP%]{--dummy4: 0;margin-right:-12px}.isRtl[_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .filter-close[_ngcontent-%COMP%]{margin-left:-12px}html[dir=rtl][_ngcontent-%COMP%]   .filter-close[_ngcontent-%COMP%]{--dummy4: 0;margin-left:-12px}.work-bar[_ngcontent-%COMP%]{position:absolute;height:56px;width:100%;background:#292929;z-index:999}.count-display[_ngcontent-%COMP%]{display:block;position:absolute;top:20px}.isLtr[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{left:24px}html[dir=ltr][_ngcontent-%COMP%]   .count-display[_ngcontent-%COMP%]{--dummy5: 0;left:24px}.isRtl[_nghost-%COMP%]   .count-display[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .count-display[_ngcontent-%COMP%]{right:24px}html[dir=rtl][_ngcontent-%COMP%]   .count-display[_ngcontent-%COMP%]{--dummy5: 0;right:24px}.sortmenu[_ngcontent-%COMP%]{display:block;position:absolute}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]{right:60px}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]{--dummy6: 0;right:60px}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]{left:60px}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]{--dummy6: 0;left:60px}.sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#ffffffb3;text-decoration:none;display:block;margin:12px 0 16px;padding:0 16px;text-transform:none!important}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;float:none}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:none}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;float:none}.isLtr[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:left}html[dir=ltr][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-align:right}html[dir=rtl][_ngcontent-%COMP%]   .sortmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}.filterHeader[_ngcontent-%COMP%]{width:100%}.filtermenu[_ngcontent-%COMP%]{display:block;position:absolute;top:10px}.isLtr[_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%]{right:20px}html[dir=ltr][_ngcontent-%COMP%]   .filtermenu[_ngcontent-%COMP%]{--dummy6: 0;right:20px}.isRtl[_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .filtermenu[_ngcontent-%COMP%]{left:20px}html[dir=rtl][_ngcontent-%COMP%]   .filtermenu[_ngcontent-%COMP%]{--dummy6: 0;left:20px}button.nv-dropdown-menu[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;width:100%;height:unset}button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:8px 16px;overflow:hidden;text-overflow:ellipsis}.isLtr[_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:left}html[dir=ltr] button.nv-dropdown-menu div[_ngcontent-%COMP%]{--dummy0: 0;text-align:left}.isRtl[_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   button.nv-dropdown-menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:right}html[dir=rtl] button.nv-dropdown-menu div[_ngcontent-%COMP%]{--dummy0: 0;text-align:right}button.nv-dropdown-menu.active[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#76b900}.nv-oogg.max-width-menu-class[_ngcontent-%COMP%]{width:100px}.nv-oogg.max-width-menu-class[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]:not(:empty){padding-top:8px;padding-bottom:8px}.clear-filter[_ngcontent-%COMP%]{text-transform:uppercase;padding:8px}.galleryInitializing[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none;align-items:center}.activity-buttons[_ngcontent-%COMP%]{display:block;position:absolute;top:10px}.isLtr[_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{right:250px}html[dir=ltr][_ngcontent-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{--dummy6: 0;right:250px}.isRtl[_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{left:250px}html[dir=rtl][_ngcontent-%COMP%]   .activity-buttons[_ngcontent-%COMP%]{--dummy6: 0;left:250px}.activity-item[_ngcontent-%COMP%]{width:100%;height:100%}.scroll-container[_ngcontent-%COMP%]{height:100%;overflow-x:hidden}.scroll-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{height:100%}"]}),ge})();const pe=[{path:"",component:re,resolve:{GalleryResolverService:y}}];var Pe=e(7421),Te=e(15316),me=e(48301),et=e(21568),Xe=e(18937),Ze=e(90657),nt=e(93557),Me=e(34375),ze=e(51637),le=e(12427),Le=e(32764),Re=e(85780),Q=e(73404),ve=e(20478),be=e(99763),xe=e(25800),ke=e(73557);let Ce=(()=>{class ge{}return ge.\u0275fac=function(ye){return new(ye||ge)},ge.\u0275mod=o.oAB({type:ge}),ge.\u0275inj=o.cJS({imports:[t.ez,L.it,p.m,x.o9,M.Q,n.Bz.forChild(pe),(0,L.zv)()]}),ge})();o.B6R(re,function(){return[t.mk,t.sg,t.O5,Pe.n,Te.e,me.x,et.$,Xe.xw,Xe.Wh,Xe.s9,Xe.yH,Ze.oO,nt.JJ,nt.On,Me.eB,ze.Lv,le.W0,le.tN,le.D8,Le.sN,O.Hw,Re.xd,Re.x0,Re.N7,Q.ib,Q.yz,Q.yK,ve.FC,be.Kd,xe.JX,xe.TM,xe.Rh,ke.xZ]},function(){return[l.X$]})},79585:(Ge,ae,e)=>{"use strict";e.d(ae,{Q:()=>f});var t=e(93557),n=e(70782),x=e(32764),M=e(45224),L=e(34375),p=e(63926),P=e(12427),a=e(70932),o=e(79884),v=e(37661),y=e(71365),C=e(31526),A=e(73404),d=e(76947),m=e(20478),S=e(39536),s=e(85780),r=e(76549),l=e(99763),i=e(94626),O=e(72467),Y=e(25800),T=e(9511),B=e(22804),K=e(39609);const b=[t.u5,L.yu,n.IF,p.gR,P.jT,a.g0,x.UK,M.jc,o.t,v.Ps,y.uw,C.Wd,d.x4,s.Cl,A.To,m.Zh,S.yj,r.y,l.AA,i.si,O.rt,Y.SJ,B.hp,T._t];let f=(()=>{class D{}return D.\u0275fac=function(w){return new(w||D)},D.\u0275mod=K.oAB({type:D}),D.\u0275inj=K.cJS({imports:[t.u5,b,t.u5,L.yu,n.IF,p.gR,P.jT,a.g0,x.UK,M.jc,o.t,v.Ps,y.uw,C.Wd,d.x4,s.Cl,A.To,m.Zh,S.yj,r.y,l.AA,i.si,O.rt,Y.SJ,B.hp,T._t]}),D})()},97718:(Ge,ae,e)=>{"use strict";e.r(ae),e.d(ae,{PreviewModule:()=>Ye});var t=e(52954),n=e(16873),x=e(50239),M=e(79585),L=e(64710),p=e(23888),P=e(96671),a=e(10907),o=e(33932),v=e(74266),y=e(71265),C=e(89258),A=e(21361),d=e(53975),m=e(63795),S=e(85566),s=e(97483),r=e(39609),l=e(53511),i=e(715);const O=["image"],Y=["video"],T=["infoSideNav"];function B(Je,Rt){1&Je&&r._UZ(0,"nv-montage",13)}function K(Je,Rt){1&Je&&r._UZ(0,"mat-icon",22)}function b(Je,Rt){1&Je&&r._UZ(0,"mat-icon",23)}function f(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",14)(1,"button",15),r.NdJ("click",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.navLeft())}),r.YNc(2,K,1,0,"mat-icon",16),r.qZA(),r.TgZ(3,"div",17)(4,"div",18),r._UZ(5,"img",19,20),r.qZA()(),r.TgZ(7,"button",15),r.NdJ("click",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.navRight())}),r.YNc(8,b,1,0,"mat-icon",21),r.qZA()()}if(2&Je){const he=r.oxw();r.xp6(2),r.Q6J("ngIf",he.chevronVisible),r.xp6(3),r.Q6J("src",he.fileSrc,r.LSH),r.xp6(3),r.Q6J("ngIf",he.chevronVisible)}}function D(Je,Rt){1&Je&&r._UZ(0,"mat-icon",22)}function I(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"button",15),r.NdJ("click",function(Qe){r.CHM(he);const at=r.oxw(2);return Qe.stopPropagation(),r.KtG(at.navLeft())}),r.YNc(1,D,1,0,"mat-icon",16),r.qZA()}if(2&Je){const he=r.oxw(2);r.xp6(1),r.Q6J("ngIf",he.chevronVisible)}}const w=function(Je,Rt){return{"icon-preview-visible":Je,"icon-preview-hidden":Rt}};function _(Je,Rt){if(1&Je&&r._UZ(0,"mat-icon",43),2&Je){const he=r.oxw(3);r.Q6J("ngClass",r.WLB(1,w,he.showPlayButton,!he.showPlayButton))}}function $(Je,Rt){1&Je&&r._UZ(0,"mat-progress-spinner",44)}function G(Je,Rt){1&Je&&r._UZ(0,"mat-icon",45)}function F(Je,Rt){if(1&Je&&(r.TgZ(0,"div",46)(1,"span",47),r._uU(2),r.qZA()()),2&Je){const he=r.oxw(3);r.xp6(2),r.Oqu(he.videoErrorString)}}function J(Je,Rt){if(1&Je){const he=r.EpF();r.ynx(0),r.TgZ(1,"div",38),r.NdJ("click",function(){r.CHM(he);const Qe=r.oxw(2);return r.KtG(Qe.toggleMediaPlay())}),r.YNc(2,_,1,4,"mat-icon",39),r.YNc(3,$,1,0,"mat-progress-spinner",40),r.YNc(4,G,1,0,"mat-icon",41),r.YNc(5,F,3,1,"div",42),r.qZA(),r.BQk()}if(2&Je){const he=r.oxw(2);r.xp6(2),r.Q6J("ngIf",he.isPaused&&he.useDisplay===he.displayTypes.NORMAL&&!he.sliderMoving),r.xp6(1),r.Q6J("ngIf",he.useDisplay===he.displayTypes.SPINNER),r.xp6(1),r.Q6J("ngIf",he.useDisplay===he.displayTypes.ERROR),r.xp6(1),r.Q6J("ngIf",he.useDisplay===he.displayTypes.ERROR)}}function z(Je,Rt){1&Je&&r._UZ(0,"mat-icon",23)}function Z(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"button",15),r.NdJ("click",function(Qe){r.CHM(he);const at=r.oxw(2);return Qe.stopPropagation(),r.KtG(at.navRight())}),r.YNc(1,z,1,0,"mat-icon",21),r.qZA()}if(2&Je){const he=r.oxw(2);r.xp6(1),r.Q6J("ngIf",he.chevronVisible)}}function ue(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"nv-hig-slider",48),r.NdJ("valueChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderPosition=Qe)})("input",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderChanged(Qe))})("mousedown",function(){r.CHM(he);const Qe=r.oxw(2);return r.KtG(Qe.sliderInteraction(!0))})("mouseup",function(){r.CHM(he);const Qe=r.oxw(2);return r.KtG(Qe.sliderInteraction(!1))},!1,r.Jf7),r.qZA()}if(2&Je){const he=r.oxw(2);r.Q6J("step",he.step)("value",he.sliderPosition)("animating",!he.isPaused)}}const u=function(Je,Rt){return{"short-ranged-time":Je,"long-ranged-time":Rt}};function k(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",49)(1,"nv-input",50),r.NdJ("textChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.minTime=Qe)})("stringChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.timeChanged(Qe,!0,""))})("incDecChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.modifyTime(Qe,!0))}),r.qZA(),r.TgZ(2,"nv-mat-ranged-slider",51),r.NdJ("valueChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderPosition=Qe)})("valueChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderChanged(Qe))})("leftPositionChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderTrimLeft=Qe)})("rightPositionChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.sliderTrimRight=Qe)})("leftPositionChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.onLeftSliderChange(Qe))})("rightPositionChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.onRightSliderChange(Qe))}),r.qZA(),r.TgZ(3,"nv-input",50),r.NdJ("textChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.maxTime=Qe)})("stringChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.timeChanged(Qe,!1,""))})("incDecChange",function(Qe){r.CHM(he);const at=r.oxw(2);return r.KtG(at.modifyTime(Qe,!1))}),r.qZA()()}if(2&Je){const he=r.oxw(2);r.xp6(1),r.Akn(he.timeStyle),r.Q6J("ngClass",r.WLB(26,u,!he.longDuration,he.longDuration))("text",he.minTime)("placeholderText",he.timePlaceHolder)("disabled",!1)("textMaxLength",he.timeTextMaxLength)("tooltip",he.editToolTip)("pattern",he.editPattern)("rangeCheck",he.rangeCheckLeft),r.xp6(1),r.Q6J("value",he.sliderPosition)("leftPosition",he.sliderTrimLeft)("rightPosition",he.sliderTrimRight)("disableTrim",he.disableTrimSliders)("spaceBetween",he.spaceBetween)("step",.1),r.xp6(1),r.Akn(he.timeStyle),r.Q6J("ngClass",r.WLB(29,u,!he.longDuration,he.longDuration))("text",he.maxTime)("placeholderText",he.timePlaceHolder)("disabled",!1)("textMaxLength",he.timeTextMaxLength)("tooltip",he.editToolTip)("pattern",he.editPattern)("rangeCheck",he.rangeCheckRight)}}const W=function(Je,Rt){return{"viewer-video-counter-short":Je,"viewer-video-counter-long":Rt}};function N(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",24)(1,"div",25),r.NdJ("keydown",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.processToggleMedia(Qe))}),r.YNc(2,I,2,1,"button",26),r.TgZ(3,"div",17)(4,"div",18)(5,"video",27,28),r.NdJ("loadeddata",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.onLoadedData())})("error",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.loadFromDragNDrop())}),r.qZA()(),r.YNc(7,J,6,4,"ng-container",29),r.qZA(),r.YNc(8,Z,2,1,"button",26),r.qZA(),r.TgZ(9,"div",30)(10,"nv-item-button",31),r.NdJ("clicked",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.toggleMediaPlay())}),r.qZA(),r.YNc(11,ue,1,3,"nv-hig-slider",32),r.YNc(12,k,4,32,"div",33),r.TgZ(13,"div",34)(14,"span",35),r._uU(15),r.qZA()(),r.TgZ(16,"nv-item-button",36),r.NdJ("clicked",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.muteUnmute())}),r.qZA(),r.TgZ(17,"nv-hig-slider",37),r.NdJ("valueChange",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.volume=Qe)})("valueChange",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.volumeChanged())}),r.qZA()()()}if(2&Je){const he=r.oxw();r.xp6(2),r.Q6J("ngIf",!he.montageMode),r.xp6(3),r.Q6J("src",he.fileSrc,r.LSH),r.xp6(2),r.Q6J("ngIf",!he.editOn),r.xp6(1),r.Q6J("ngIf",!he.montageMode),r.xp6(2),r.Q6J("svgIcon",he.isPaused?"play_arrow":"pause")("tooltip",he.isPaused?"tooltips.Play":"tooltips.Pause"),r.xp6(1),r.Q6J("ngIf",!he.editOn),r.xp6(1),r.Q6J("ngIf",he.editOn),r.xp6(1),r.Q6J("ngClass",r.WLB(13,W,!he.longDuration,he.longDuration)),r.xp6(2),r.Oqu(he.videoTime),r.xp6(1),r.Q6J("svgIcon",0===he.volume?"volume_off":"volume")("tooltip",0===he.volume?"tooltips.Unmute":"tooltips.Mute"),r.xp6(1),r.Q6J("value",he.volume)}}const H=function(Je,Rt){return{preview:Je,montage:Rt}},h=function(Je,Rt){return{infopanel:Je,previewpanel:Rt}};let ee=(()=>{class Je{constructor(he,Ne,Qe,at,vt,zt,yn,jt,Qt,Zt,ln){this.loggingService=he,this.galleryService=Ne,this.bridgeService=Qe,this.renderer=at,this.router=vt,this.route=zt,this.osService=yn,this.trimService=jt,this.dialogHelper=Qt,this.appBarService=Zt,this.translate=ln,this.destroy$=new P.xQ,this.fileMetaData=void 0,this.previewItems=[],this.videoParams={trimmed:!1,startMs:0,durationMs:0,sliderPosition:0,sliderTrimRight:100,sliderTrimLeft:0,start:0,stop:0,volumeChanged:!1,volume:100,mute:!1},this.description="",this.fileName="",this.fullFilename="",this.dimensions="",this.contentDimensions={width:1280,height:720},this.fileDate="",this.fileTime="",this.fileSize="",this.volume=100,this.savedVolume=100,this.step=.1,this.sliderTrimLeft=0,this.sliderTrimRight=100,this.sliderPosition=0,this.minTrimDefault=5,this.spaceBetween=0,this.trimmed=!1,this.trimCounter=0,this.isPaused=!0,this.playbackTimer=null,this.displayTypes={NORMAL:0,SPINNER:1,ERROR:2},this.useDisplay=this.displayTypes.SPINNER,this.videoErrorString="",this.sliderMoving=!1,this.longDuration=!1,this.hasPlayedVideo=!1,this.showEditControls=!1,this.showShareButton=!1,this.enableShareButton=!1,this.enableSaveButton=!1,this.badInputDataMin=!1,this.badInputDataMax=!1,this.disableTrimSliders=!1,this.editOn=!1,this.chevronVisible=!0,this.montageMode=!1,this.showPlayButton=!0,this.mouseDown=!1,this.snackBarRef=void 0,this.minTime="",this.maxTime="",this.timePlaceHolderShort={text:"00:00.0",arg:""},this.timePlaceHolderLong={text:"00:00:00.0",arg:""},this.timePlaceHolder=this.timePlaceHolderShort,this.trimSeparation=1,this.timeStyle=["20px","16px 0 0 0","0 0 0 6px"],this.shortDurationLength=7,this.longDurationLength=10,this.timeTextMaxLength=this.shortDurationLength,this.editToolTip="",this.editPattern="",this.rangeCheckLeft=void 0,this.rangeCheckRight=void 0,this.dontAllowEdit=!1,this.dialogRef=void 0,this.logger=this.loggingService.getLogger("Preview")}set imageRef(he){this.image=he?he.nativeElement:null}set videoRef(he){this.video&&""!==this.video.src&&(!he||this.video!==he.nativeElement)&&(this.video.src="",this.hasPlayedVideo=!1,this.video.load()),he?(this.video=he.nativeElement,this.video.focus()):this.video=null}ngOnInit(){this.logger.info("Initializing Preview Component"),this.showEditControls=!0,this.appBarService.actionClicked$.pipe((0,a.R)(this.destroy$)).subscribe(he=>{this.logger.info("Action clicked: ",he),"arrow_left"===he?this.closePreview():"edit"===he?this.editVideo():"delete"===he?this.deleteItem():"open"===he?this.openInFolder():"save"===he&&this.save()}),this.galleryService.fileDataChangeListener.pipe((0,a.R)(this.destroy$)).subscribe(he=>{this.montageMode=this.galleryService.getMontageMode(),this.minTime=this.maxTime="",he&&he.file&&he.file.name&&this.montageMode&&(this.logger.info("Montage FileDataChange: ",he.file.name),this.initializeData(he)),this.montageMode||(this.initAppBar(he),this.infoSideNav.close(),this.initializeData(he),this.checkIfDataIsEdited())}),this.montageMode=this.galleryService.getMontageMode(),this.montageMode&&(this.previewItems=(0,S.cloneDeep)(this.galleryService.currentSelectedFilesData),this.initializeData(this.previewItems[0]),this.infoSideNav.open())}initAppBar(he){const Ne=this.getTitle(he),Qe=[];Qe.push({id:"delete",icon:"delete_forever",tooltip:"tooltips.Remove",end:!0}),Qe.push({id:"open",icon:"folder",tooltip:"tooltips.OpenLocation",end:!0}),he.file.type===m.A2.Video&&Qe.push({id:"edit",icon:"edit",tooltip:"tooltips.Edit",end:!0}),this.appBarService.setAll({title:{entry:Ne,params:{}},navButtonArrow:!0,icons:Qe})}editAppBar(he,Ne){const Qe=this.getTitle(he),at=[];at.push({id:"save",text:"confirmation.save",tooltip:"tooltips.SaveTrim",button:!0,disabled:!Ne}),this.appBarService.setAll({title:{entry:Qe,params:{}},navButtonArrow:!0,icons:at})}getTitle(he){let Ne=he.folder;if(he.hlName){const Qe=`highlightLabels.${he.hlName}`;let at=this.translate.instant(Qe);at===Qe&&(at=he.hlName),Ne+=" - "+at}return Ne}ngOnDestroy(){this.logger.info("Destroying view!"),this.galleryService.trimInProgess=m.k7.off,this.destroy$.next(!0),this.destroy$.complete(),this.snackBarRef&&(this.snackBarRef.dismiss(),this.snackBarRef=void 0),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.video&&""!==this.video.src&&setTimeout(()=>{this.video.src="",this.video.load()})}formatFilesizeString(he){return he<1e3?he+" KB":he<1e6?(he/1e3).toFixed(2)+" MB":(he/1e6).toFixed(2)+" GB"}initializeData(he){this.logger.info("Loading preview file"),he&&((void 0===this.fileMetaData||he.fullFilename!==this.fileMetaData.fullFilename)&&(this.useDisplay=this.displayTypes.SPINNER),this.video&&!this.isPaused&&this.pauseMedia(),this.fileMetaData=he,this.isVideo=he.file.type===m.A2.Video,this.fileName=he.file.name,""!==he.date&&(this.fileDate=d(he.date).format("MMM D, YYYY"),this.fileTime=d(he.date).format("ddd LT")),this.description=he.file.name+(""!==he.hlName?" - "+he.hlName:""),this.fileSize=this.formatFilesizeString(parseInt(he.fileSize,10)),this.fileSrc=L.qR+he.fullFilename,this.fullFilename=he.fullFilename,this.isVideo||this.galleryService.getImageFileDimensions(he.fullFilename).subscribe(Ne=>{this.dimensions=Ne&&Ne.width&&Ne.height?Ne.width+" x "+Ne.height:""}),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.isPaused=!0,this.sliderPosition=this.sliderTrimLeft=0,this.sliderTrimRight=100,this.isVideo&&""!==this.minTime&&""!==this.maxTime&&(this.minTime=this.getTrimTime(this.sliderTrimLeft),this.maxTime=this.getTrimTime(this.sliderTrimRight),this.initializeRanges()),this.contextIcon=this.isVideo?"video":"image")}initializeRanges(){this.rangeCheckLeft={min:0,max:100-this.spaceBetween,total:this.video.duration},this.rangeCheckRight={min:0+this.spaceBetween,max:100,total:this.video.duration}}loadFromDragNDrop(){if(this.logger.info("Loading via dragNdrop"),!this.galleryService.currentFileData)return void this.logger.error("Loading a file after gallery moved on");const he=this.renderer.listen("document","dragover",Qe=>{Qe.stopPropagation(),Qe.preventDefault(),Qe.dataTransfer.dropEffect="copy"}),Ne=this.renderer.listen("document","drop",Qe=>{if(Qe.stopPropagation(),Qe.preventDefault(),!Qe.dataTransfer.files||!Qe.dataTransfer.files[0])return void this.logger.error("bad drop, no file list");if(!this.galleryService.currentFileData)return this.logger.error("Loading a file after gallery moved on"),he(),void Ne();const at=Qe.dataTransfer.files[0];if(at.name===this.galleryService.currentFileData.fullFilename){this.logger.info("Loading file");const vt=URL.createObjectURL(at);this.isVideo?(this.video.src=vt,this.video.onerror=zt=>{this.logger.error("A video error occured",zt),this.useDisplay=this.displayTypes.ERROR},this.video.load()):this.image.src=vt}else this.logger.error("bad drag file: "+this.galleryService.currentFileData.fullFilename+"-"+at.name);he(),Ne()});this.bridgeService.executeCommand(A.Gh.Share.Osc.DropUrl,{url:this.galleryService.currentFileData.fullFilename}).subscribe()}calculateSpaceBetween(){let he=Math.ceil(1e3/(this.video.duration/this.minTrimDefault))/10;this.dontAllowEdit=!1,this.video.duration<=this.minTrimDefault?(he=100,this.dontAllowEdit=!0):he<this.trimSeparation&&(he=this.trimSeparation),this.spaceBetween=he,this.logger.info("Duration: "+this.video.duration+" SpaceBetween: "+this.spaceBetween+"%")}onLoadedData(){this.logger.info("Video ready"),this.volume=100*this.video.volume,this.useDisplay=this.displayTypes.NORMAL,this.dimensions=this.video.videoWidth+" x "+this.video.videoHeight,this.checkPlayButton(),this.setVideoTime(),this.minTime=this.getTrimTime(0),this.maxTime=this.getTrimTime(100),this.calculateSpaceBetween(),this.initializeRanges()}changeVideoCurrentTime(he){const Ne=parseFloat((he/100*this.video.duration).toFixed(2));isNaN(Ne)?this.logger.error("ChangeVideoCurrentTime, NaN Error!"):this.video.currentTime=Ne}sliderChanged(he){this.video&&this.useDisplay===this.displayTypes.NORMAL&&((this.isPaused||!this.isPaused&&!this.editOn)&&(he&&he.value&&(this.sliderPosition=he.value),this.sliderPosition!==this.lastPosition&&Math.round(this.sliderPosition/this.step)!==Math.round(this.lastPosition/this.step)&&(this.changeVideoCurrentTime(this.sliderPosition),this.setVideoTime())),!this.isPaused&&this.sliderTrimRight<=this.sliderPosition&&setTimeout(()=>{this.logger.info("Video end reached, pausing"),this.pauseMedia()}))}toggleMediaPlay(){if(this.video)if(this.video.paused){this.hasPlayedVideo||(this.hasPlayedVideo=!0),Math.ceil(this.video.currentTime/this.video.duration*100/this.step)>=this.sliderTrimRight/this.step&&(this.logger.info("Restarting video..."),this.changeVideoCurrentTime(this.sliderTrimLeft)),this.logger.info("Starting video"),this.video.play(),this.isPaused=!1,this.checkPlayButton();const he=this.getTrimStopPosition();this.galleryService.galleryViewAction(s.ryx.Play,this.fileMetaData),this.playbackTimer=setInterval(()=>{this.video?(this.sliderMoving||(this.sliderPosition=this.lastPosition=this.video.currentTime/this.video.duration*100),this.setVideoTime(),(this.trimmed&&this.video.currentTime>=he||!this.trimmed&&this.video.currentTime>=this.video.duration)&&this.pauseMedia()):this.pauseMedia()})}else this.pauseMedia()}checkPlayButton(){this.showPlayButton=this.isPaused&&this.useDisplay===this.displayTypes.NORMAL&&!this.sliderMoving}pauseMedia(){this.logger.info("Pausing video"),this.video.pause(),this.isPaused=!0,this.checkPlayButton(),this.playbackTimer&&(this.logger.info("Clearing Interval on pause"),clearInterval(this.playbackTimer),this.playbackTimer=null)}processToggleMedia(he){this.editOn||("Enter"===he.key||" "===he.key)&&this.toggleMediaPlay()}setVideoTime(){this.longDuration=!(this.video.duration<3600);const he=this.video.duration,Qe=he*((this.sliderTrimRight-this.sliderTrimLeft)/100),at=Math.floor(Qe/3600),vt=Math.floor(Qe/60-60*at),zt=Math.floor(Qe-3600*at-60*vt),yn=Math.floor(10*Qe)-10*Math.floor(Qe),jt=("00"+at).slice(-2).toString(),Qt=("00"+vt).slice(-2).toString(),Zt=("00"+zt).slice(-2).toString(),ln=("0"+yn).slice(-1).toString(),wt=Math.abs(he*((this.sliderPosition-this.sliderTrimLeft)/100)),Dn=Math.floor(wt/3600),Bt=Math.floor(wt/60-60*Dn),Jt=Math.floor(wt-3600*Dn-60*Bt),Pn=Math.floor(10*wt)-10*Math.floor(wt),kn=("00"+Bt).slice(-2).toString()+":"+("00"+Jt).slice(-2).toString()+"."+("0"+Pn).slice(-1).toString(),zn=Qt+":"+Zt+"."+ln;if(this.longDuration){this.timePlaceHolder=this.timePlaceHolderLong,this.timeTextMaxLength=this.longDurationLength;const oi=("00"+Dn).slice(-2).toString()+":";this.videoTime=oi+kn+" / "+jt+":"+zn,this.editToolTip="tooltips.LimitLong",this.editPattern="[0-9]{2}[:]{1}[0-9]{2}[:]{1}[0-9]{2}[.]{1}[0-9]{1}"}else this.timePlaceHolder=this.timePlaceHolderShort,this.timeTextMaxLength=this.shortDurationLength,this.videoTime=kn+" / "+zn,this.editToolTip="tooltips.LimitShort",this.editPattern="[0-9]{2}[:]{1}[0-9]{2}[.]{1}[0-9]{1}"}volumeChanged(){this.video&&(this.logger.info("Volume changed to "+this.volume),this.video.volume=this.volume/100)}processToggleMute(he){("Enter"===he.key||" "===he.key)&&this.muteUnmute()}muteUnmute(){this.video&&(this.volume?(this.logger.info("Muting video"),this.savedVolume=this.volume,this.volume=0):(this.logger.info("UnMuting video"),this.volume=this.savedVolume||50),this.volumeChanged())}sliderInteraction(he){he&&this.video&&!this.isPaused?this.sliderMoving=!0:!he&&this.sliderMoving&&(this.sliderMoving=!1,this.isPaused&&this.toggleMediaPlay())}closePreview(){this.editOn?(this.editOn=!1,this.chevronVisible=!this.editOn,this.initAppBar(this.fileMetaData)):this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}openInFolder(){let he=this.fullFilename;const Ne=this.osService.getDirSeparator(),Qe=he.lastIndexOf(Ne);if(-1!==Qe&&(he=he.slice(0,Qe)),""!==he){const at=this.bridgeService.executeCommand(A.Gh.Common.Applicationinfo.OpenDirectoryBrowser,{name:he}).subscribe(()=>{at.unsubscribe()});this.galleryService.galleryViewAction(s.ryx.OpenLocation,this.fileMetaData)}}editVideo(){!this.editOn&&!this.isPaused&&this.isVideo&&this.toggleMediaPlay(),this.showEditControls&&(this.editOn=!this.editOn,this.chevronVisible=!this.editOn,this.checkIfDataIsEdited(),this.disableTrimSliders=this.dontAllowEdit,this.galleryService.galleryAction(s.DCd.Edit))}checkIfDataIsEdited(){this.enableSaveButton=!(0===this.sliderTrimLeft&&100===this.sliderTrimRight||this.badInputDataMin||this.badInputDataMax),this.editOn&&this.editAppBar(this.fileMetaData,this.enableSaveButton)}cancelEdit(){this.logger.info("Cancel Editing"),this.editOn=!1,this.sliderPosition=this.sliderTrimLeft=0,this.sliderTrimRight=100,this.trimmed=!1}navLeft(){this.isPaused||this.pauseMedia(),this.galleryService.getPreviousFile()}navRight(){this.isPaused||this.pauseMedia(),this.galleryService.getNextFile()}deleteItem(){this.logger.info("Remove clicked"),this.dialogHelper.openAlertDialog({title:"confirmation.confirmDeleteTitle",query:"confirmation.confirmDelete",queryParam:"",action1:"confirmation.NotRightNow",action2:"confirmation.remove"}).pipe((0,a.R)(this.destroy$),(0,o.zg)(Ne=>Ne.afterClosed()),(0,v.h)(Ne=>Ne===m.DX.Action2),(0,o.zg)(()=>this.galleryService.showDeleteSnackbar([this.fileMetaData])),(0,y.b)(()=>{this.closePreview()}),(0,v.h)(Ne=>!1===Ne)).subscribe()}trim(he,Ne){return this.trimService.trim({input:this.fileMetaData.fullFilename,output:he,headTrimMs:this.videoParams.startMs,lengthMs:this.videoParams.durationMs}).pipe((0,o.zg)(()=>(this.logger.info("Trim complete!"),this.trimService.getMetaData(this.fileMetaData.fullFilename))),(0,C.U)(at=>(this.logger.info("Return Data: ",at),Ne&&(this.fileMetaData.date=at.date,this.fileMetaData.fileSize=at.fileSizeKB.toString(),this.fileMetaData.duration=at.duration.slice(at.duration.indexOf(":")+1)),this.logger.info("Trim post processing complete!"),this.initializeData(this.fileMetaData),this.checkIfDataIsEdited(),this.useDisplay=this.displayTypes.NORMAL,this.sliderPosition=0,this.changeVideoCurrentTime(this.sliderPosition),this.setVideoTime(),this.galleryService.trimInProgess=m.k7.off,Ne&&(setTimeout(()=>{this.video.src="",this.video.load()},100),setTimeout(()=>{this.trimCounter++,this.video.src=this.fileSrc+"?"+this.trimCounter.toString(),this.video.load(),this.logger.info("VideoSrc: ",this.video.src)},300)),!0)))}save(){0!==this.sliderTrimLeft||100!==this.sliderTrimRight?this.dialogHelper.openAlertDialog({title:"confirmation.TrimVideo",query:"confirmation.ConfirmSaveChanges",queryParam:"",action1:"confirmation.cancel",action2:"confirmation.TrimOriginal",action3:"confirmation.SaveANewClip"},!1).pipe((0,a.R)(this.destroy$),(0,y.b)(Ne=>this.dialogRef=Ne),(0,o.zg)(Ne=>Ne.afterClosed())).subscribe(Ne=>{if(Ne===m.DX.Action2||Ne===m.DX.Action3){this.useDisplay=this.displayTypes.SPINNER;const Qe=Ne===m.DX.Action2;this.galleryService.trimInProgess=Qe?m.k7.inPlace:m.k7.toNew,this.closePreview(),this.setVideoTrimParams(!0);let at=this.fileMetaData.fullFilename;Qe||(at=this.createOutputFilename(this.fileMetaData.fullFilename)),this.trim(at,Qe).pipe((0,a.R)(this.destroy$)).subscribe(()=>this.trimComplete(Qe))}else this.galleryService.galleryAction(s.DCd.TrimCancel)}):this.editOn=!1}trimComplete(he){setTimeout(()=>{this.translate.get(he?"confirmation.OriginalTrimmed":"confirmation.ShorterSaved").subscribe(Qe=>{this.snackBarRef=this.dialogHelper.openSnackBar(Qe)})})}sliderUpdate(he,Ne){setTimeout(()=>{this.sliderPosition=he,this.checkIfDataIsEdited(),this.changeVideoCurrentTime(he),this.setVideoTime(),Ne?(this.minTime=this.getTrimTime(he),this.rangeCheckRight.min=he+this.spaceBetween):(this.maxTime=this.getTrimTime(he),this.rangeCheckLeft.max=he-this.spaceBetween)})}onLeftSliderChange(he){this.badInputDataMin&&(this.badInputDataMin=!1,this.checkIfDataIsEdited()),this.sliderUpdate(he,!0)}onRightSliderChange(he){this.badInputDataMax&&(this.badInputDataMax=!1,this.checkIfDataIsEdited()),this.sliderUpdate(he,!1)}getTrimTime(he){const Ne=this.video.duration*he/100+.01,Qe=Math.floor(Ne/3600),at=Math.floor(Ne/60-60*Qe),vt=Math.floor(Ne-3600*Qe-60*at),zt=Math.floor(10*Ne)-10*Math.floor(Ne),yn=("00"+Qe).slice(-2).toString(),jt=("00"+at).slice(-2).toString(),Qt=("00"+vt).slice(-2).toString(),Zt=("0"+zt).slice(-1).toString();let ln=this.longDuration?yn+":":"";return ln+=jt+":"+Qt+"."+Zt,ln}isTimeStringValid(he,Ne){let at=!1;return new RegExp(this.editPattern).test(he)||(at=!0),Ne?this.badInputDataMin=at:this.badInputDataMax=at,!at}timeStringToSeconds(he){const Ne=he.split(":");let Qe=0;if(2===Ne.length){const at=Ne[1];Qe=60*Number(Ne[0])+Number(at)}else if(3===Ne.length){const at=Ne[2],vt=Ne[1];Qe=3600*Number(Ne[0])+60*Number(vt)+Number(at)}return Qe}secondsToTimeString(he){const Ne=Math.floor(he/3600),Qe=Math.floor(he/60-60*Ne),at=Math.floor(he-3600*Ne-60*Qe),vt=Math.floor(10*he)-10*Math.floor(he),zt=("00"+Ne).slice(-2).toString(),yn=("00"+Qe).slice(-2).toString(),jt=("00"+at).slice(-2).toString(),Qt=("0"+vt).slice(-1).toString();let Zt=this.longDuration?zt+":":"";return Zt+=yn+":"+jt+"."+Qt,Zt}calculateNewPercentage(he){return he/this.video.duration*100}timeChanged(he,Ne,Qe){if(!this.isTimeStringValid(he,Ne))return void this.checkIfDataIsEdited();this.checkIfDataIsEdited();const at=this.timeStringToSeconds(he),vt=this.calculateNewPercentage(at);if(Ne){if("decrement"===Qe&&this.sliderTrimLeft<=0||vt+this.spaceBetween>=this.sliderTrimRight)return!1;this.sliderTrimLeft=vt,this.rangeCheckRight.min=vt+this.spaceBetween}else{if("increment"===Qe&&vt>=100)return this.sliderTrimRight=100,!1;if(vt-this.spaceBetween<=this.sliderTrimLeft)return!1;this.sliderTrimRight=vt,this.rangeCheckLeft.max=vt-this.spaceBetween}return!0}modifyTime(he,Ne){const at="increment"===he?this.step:-this.step;if(Ne){let vt=this.timeStringToSeconds(this.minTime)+at;vt=Math.round(10*vt)/10,vt=Math.floor(10*vt)/10;const zt=this.secondsToTimeString(vt);this.timeChanged(zt.toString(),Ne,he)&&(this.minTime=zt)}else{let vt=this.timeStringToSeconds(this.maxTime)+at;vt=Math.round(10*vt)/10,vt=Math.floor(10*vt)/10;const zt=this.secondsToTimeString(vt);this.timeChanged(zt.toString(),Ne,he)&&(this.maxTime=zt)}}setVideoTrimParams(he){const Ne=this.sliderTrimLeft*this.video.duration*10,Qe=Ne/1e3,at=(this.sliderTrimRight-this.sliderTrimLeft)*this.video.duration*10;this.videoParams={trimmed:he,startMs:Ne,durationMs:at,sliderPosition:this.sliderPosition,sliderTrimRight:this.sliderTrimRight,sliderTrimLeft:this.sliderTrimLeft,start:Qe,stop:Qe+at/1e3,volume:this.volume,mute:0===this.volume,volumeChanged:100!==this.volume},this.logger.info("Video Parameters for Trim: ",this.videoParams)}getTrimStopPosition(){return(this.sliderTrimLeft*this.video.duration*10+(this.sliderTrimRight-this.sliderTrimLeft)*this.video.duration*10)/1e3}verifyDateAndTime(he,Ne){return!!(/^\d{4}.\d{2}.\d{2}$/.test(he)&&/^\d{2}.\d{2}.\d{2}.\d{2}$/.test(Ne)&&d(he,"YYYY.MM.DD",!0).isValid()&&d(Ne,"HH.mm.ss.SS",!0).isValid())}createOutputFilename(he){let Ne="";const Qe=he.lastIndexOf(".");Qe>=0&&(Ne=he.slice(0,Qe));const at=Date.now(),vt=d(at).format("YYYY.MM.DD - HH.mm.ss.SS"),zt=Ne.length-24,yn=Ne.length-11,jt=Ne.slice(zt,zt+10),Qt=Ne.slice(yn);return this.verifyDateAndTime(jt,Qt)&&(Ne=Ne.slice(0,zt))," "!==Ne[Ne.length-1]&&(Ne+=" "),Ne+vt+".mp4"}}return Je.\u0275fac=function(he){return new(he||Je)(r.Y36(L.ed),r.Y36(m.rj),r.Y36(L.dF),r.Y36(r.Qsj),r.Y36(n.F0),r.Y36(n.gz),r.Y36(m.HY),r.Y36(m.Sp),r.Y36(m.Mb),r.Y36(l.ad),r.Y36(i.sK))},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["oogg-preview"]],viewQuery:function(he,Ne){if(1&he&&(r.Gf(O,5),r.Gf(Y,5),r.Gf(T,7)),2&he){let Qe;r.iGM(Qe=r.CRH())&&(Ne.imageRef=Qe.first),r.iGM(Qe=r.CRH())&&(Ne.videoRef=Qe.first),r.iGM(Qe=r.CRH())&&(Ne.infoSideNav=Qe.first)}},decls:17,vars:14,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg"],["fxFlexFill",""],["mode","side","position","end",1,"sidepanel-area"],["infoSideNav",""],["class","montage-item","fxFlex","","cdkScrollable","",4,"ngIf"],[1,"preview-container"],["fxLayout","row","fxFlexFill","",3,"ngClass"],["fxLayout","column","fxFlex",""],["fxFlex","none","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px",3,"ngClass"],["fxFlex","grow",1,"font-body3"],["dir","auto","fxFlex","none",1,"font-body3"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxFlex","","fxLayout","column",4,"ngIf"],["fxFlex","","cdkScrollable","",1,"montage-item"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","mat-button","",1,"complex-button",3,"click"],["svgIcon","chevron_left","class","nav-button",4,"ngIf"],["fxFlex","","fxFlexAlign","stretch",1,"content-container"],[1,"content-absolute"],["alt","","tabIndex","-1",1,"preview-content",3,"src"],["image",""],["svgIcon","chevron_right","class","nav-button",4,"ngIf"],["svgIcon","chevron_left",1,"nav-button"],["svgIcon","chevron_right",1,"nav-button"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"content-container",3,"keydown"],["fxFlex","none","mat-button","","class","complex-button",3,"click",4,"ngIf"],["type","video/mp4","tabIndex","-1",1,"preview-content",3,"src","loadeddata","error"],["video",""],[4,"ngIf"],["dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",1,"viewer-media-toolbar"],["fxFlex","none",1,"viewer-playpause-button",3,"svgIcon","tooltip","clicked"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup",4,"ngIf"],["fxLayout","row","fxFlex","grow","fxLayoutGap","16px",4,"ngIf"],["fxLayout","","fxLayoutAlign","center center",3,"ngClass"],[1,"font-body2"],["fxFlex","none",1,"viewer-video-volume-button",3,"svgIcon","tooltip","clicked"],["min","0","max","100",1,"viewer-video-volume-slider",3,"value","valueChange"],["fxLayout","row","fxLayoutAlign","center center",1,"video-overlay-button",3,"click"],["svgIcon","play_arrow","class","video-overlay-button-icon circle-play",3,"ngClass",4,"ngIf"],["id","progressIndicator","class","md-accent","mode","indeterminate",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal icon48 video-moment-error",4,"ngIf"],["class","video-box-error",4,"ngIf"],["svgIcon","play_arrow",1,"video-overlay-button-icon","circle-play",3,"ngClass"],["id","progressIndicator","mode","indeterminate",1,"md-accent"],["svgIcon","alert_circle",1,"icon-normal","icon48","video-moment-error"],[1,"video-box-error"],[1,"video-text-error","font-body1"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup"],["fxLayout","row","fxFlex","grow","fxLayoutGap","16px"],["fxFlex","auto",3,"ngClass","text","placeholderText","disabled","textMaxLength","tooltip","pattern","rangeCheck","textChange","stringChange","incDecChange"],["fxFlex","grow",3,"value","leftPosition","rightPosition","disableTrim","spaceBetween","step","valueChange","leftPositionChange","rightPositionChange"]],template:function(he,Ne){1&he&&(r.TgZ(0,"div",0)(1,"mat-sidenav-container",1)(2,"mat-sidenav",2,3),r.YNc(4,B,1,0,"nv-montage",4),r.qZA(),r.TgZ(5,"mat-sidenav-content",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),r._uU(10),r.qZA(),r.TgZ(11,"span",10),r._uU(12),r.qZA(),r.TgZ(13,"span",10),r._uU(14),r.qZA()(),r.YNc(15,f,9,3,"div",11),r.YNc(16,N,18,16,"div",12),r.qZA()()()()()),2&he&&(r.xp6(4),r.Q6J("ngIf",Ne.montageMode),r.xp6(2),r.Q6J("ngClass",r.WLB(8,H,!Ne.montageMode,Ne.montageMode)),r.xp6(2),r.Q6J("ngClass",r.WLB(11,h,Ne.montageMode,!Ne.montageMode)),r.xp6(2),r.Oqu(Ne.description),r.xp6(2),r.Oqu(Ne.dimensions),r.xp6(2),r.Oqu(Ne.fileSize),r.xp6(1),r.Q6J("ngIf",!Ne.isVideo),r.xp6(1),r.Q6J("ngIf",Ne.isVideo))},styles:[".nv-gap-4[_ngcontent-%COMP%]{height:4px}.nv-horizontal-gap-4[_ngcontent-%COMP%]{width:4px}.nv-gap-8[_ngcontent-%COMP%]{height:8px}.nv-horizontal-gap-8[_ngcontent-%COMP%]{width:8px}.nv-gap-12[_ngcontent-%COMP%]{height:12px}.nv-gap-16[_ngcontent-%COMP%]{height:16px}.nv-gap-24[_ngcontent-%COMP%]{height:24px}.nv-horizontal-gap-24[_ngcontent-%COMP%]{width:24px}.nv-gap-32[_ngcontent-%COMP%]{height:32px}.nv-horizontal-gap-32[_ngcontent-%COMP%]{width:32px}.nv-gap-40[_ngcontent-%COMP%]{height:40px}.nv-gap-48[_ngcontent-%COMP%]{height:48px}.infopanel[_ngcontent-%COMP%]{margin:16px 24px 8px;width:calc(100% - 48px)}.previewpanel[_ngcontent-%COMP%]{margin-bottom:8px}.preview-container[_ngcontent-%COMP%]{overflow:hidden}.preview[_ngcontent-%COMP%]{padding:16px}.montage[_ngcontent-%COMP%]{padding:0 16px}.montage-item[_ngcontent-%COMP%]{overflow-y:auto}.content-container[_ngcontent-%COMP%]{position:relative}.content-absolute[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;position:absolute}.preview-content[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.video-overlay-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.95}.video-overlay-button-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;padding:16px}.circle-play[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#191919}.icon48[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px}.nav-button[_ngcontent-%COMP%]{color:#ffffffb3;padding:6px;font-size:32px;width:36px;height:36px;border-radius:50%}.video-moment-error[_ngcontent-%COMP%]{position:absolute;text-align:center;vertical-align:middle}.video-box-error[_ngcontent-%COMP%]{margin-top:80px;text-align:center;display:table}.video-box-error[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle!important}.viewer-media-toolbar[_ngcontent-%COMP%]{width:100%;max-height:68px;min-height:68px!important;padding:16px 24px}.viewer-bottom-toolbar[_ngcontent-%COMP%]{width:100%;height:40px;padding:0 8px 8px 24px}.viewer-playpause-button[_ngcontent-%COMP%]{margin:0 8px 0 0}.viewer-video-counter-short[_ngcontent-%COMP%]{min-width:110px;margin:0 0 0 16px}.viewer-video-counter-long[_ngcontent-%COMP%]{min-width:150px;margin:0 0 0 16px}.viewer-video-volume-slider[_ngcontent-%COMP%]{min-width:80px}.viewer-video-volume-button[_ngcontent-%COMP%]{margin:0 0 0 16px}.sidepanel-area[_ngcontent-%COMP%]{min-width:354px;max-width:354px;background-color:#191919;border-left:none}.short-ranged-time[_ngcontent-%COMP%]{max-width:60px;min-width:60px}.long-ranged-time[_ngcontent-%COMP%]{max-width:80px;min-width:80px}"]}),Je})();const R=[{path:"",component:ee}];var q=e(9511),ne=e(39138),_e=e(27344),U=e(23815),re=e(2629),pe=e(51325),Pe=e(22281);function Te(Je,Rt){1&Je&&(r.TgZ(0,"mat-label",3),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&Je&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"montage.Celebration")))}function me(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"nv-dropdown",10),r.NdJ("selectionChanged",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.onCelebrationChanged(Qe))}),r.qZA()}if(2&Je){const he=r.oxw();r.Q6J("selection",he.celebrationIndex)("input",he.celebrationInput)}}function et(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",11),r.NdJ("click",function(){const at=r.CHM(he).$implicit,vt=r.oxw();return r.KtG(vt.itemSelected(at))}),r.TgZ(1,"nv-gallery-item",12),r.NdJ("selectedItemDeleted",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.removeItem(Qe))}),r.qZA()()}if(2&Je){const he=Rt.$implicit,Ne=r.oxw();r.xp6(1),r.Q6J("item",he)("thumbWidth",Ne.thumbWidth)("thumbHeight",Ne.thumbHeight)("activeItem",Ne.activeItem===he?he:void 0)("deleteVisible",!0)}}let Xe=(()=>{class Je{constructor(he,Ne,Qe,at,vt,zt,yn,jt,Qt,Zt,ln,Tn,wt){this.bridgeService=he,this.dialogHelper=Ne,this.galleryService=Qe,this.trimService=at,this.loggingService=vt,this.montageService=zt,this.osService=yn,this.router=jt,this.route=Qt,this.appBarService=Zt,this.translateService=ln,this.ipcService=Tn,this.idmService=wt,this.destroy$=new P.xQ,this.postMontageMessage="",this.tempDirectory="",this.tempOutput="",this.finalOutput="",this.thumbWidth=m.dz.width,this.thumbHeight=m.dz.height,this.title="",this.titlePlaceHolder={text:"montage.EnterTitle",arg:""},this.subtitle="",this.subtitlePlaceHolder={text:"montage.EnterSubtitle",arg:""},this.editStyle=["","","8px 0 0 0"],this.celebrationIndex=0,this.celebrationInput=[],this.celebrationValid=!1,this.logger=this.loggingService.getLogger("Montage")}ngOnInit(){this.montageItems=(0,S.cloneDeep)(this.galleryService.currentSelectedFilesData).sort((Ne,Qe)=>{const at=Date.parse(Ne.date),vt=Date.parse(Qe.date);return at<vt?-1:at>vt?1:0}),this.setupAppBar(!0),setTimeout(()=>{this.itemSelected(this.montageItems[0])}),this.bridgeService.executeCommand(A.Gh.Common.Gallery.GetSettings).pipe((0,a.R)(this.destroy$)).subscribe(Ne=>{this.tempDirectory=Ne.settings.tempFolderPath}),this.montageService.title=this.title=this.translateService.instant("montage.BestGamingMoments"),this.montageService.defaultTitle=this.titlePlaceHolder.text,this.montageService.defaultSubtitle=this.subtitlePlaceHolder.text,this.celebrationIndex=this.montageService.celebrationIndex,this.idmService.cachedUser.subscribe(Ne=>{var Qe;let at=null===(Qe=Ne.data)||void 0===Qe?void 0:Qe.displayName;at||(at=this.translateService.instant("montage.Unknown")),this.montageService.username=at,this.montageService.subtitle=this.subtitle=this.translateService.instant("montage.ByUsername",{arg:this.montageService.username})}),this.montageService.resList.length=0,this.montageService.initializeMontageMetrics();const he=[];this.montageItems.forEach(Ne=>{he.push(this.montageService.getVideoDimensionsOf(Ne.fullFilename))}),setTimeout(()=>{(0,ne.$R)(...he).pipe((0,a.R)(this.destroy$)).subscribe(()=>{this.logger.info("Size of resList: ",this.montageService.resList.length),this.setupAppBar(!1)})}),this.appBarService.actionClicked$.pipe((0,a.R)(this.destroy$)).subscribe(Ne=>{this.logger.info("Action clicked: ",Ne),"montage"===Ne&&this.onMontageClicked()}),this.initializeCloudData()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}closeMontage(){this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}setupAppBar(he){this.appBarService.setAll({title:{entry:"montage.Montage",params:{}},navButtonArrow:!0,icons:[{id:"montage",text:"montage.Create",tooltip:"montage.CreateMontage",button:!0,disabled:he}]})}getFileSize(he){return 1024*parseInt(he.fileSize,10)}reset(){this.tempOutput="",this.finalOutput=""}initializeCloudData(){const he=this.montageService.montageCloudData.montageConfig.celebrations;void 0!==he&&he.length>0&&(this.celebrationValid=!0,he.forEach(Ne=>{const Qe=`celebrations.${Ne.id}`;let at=this.translateService.instant(Qe);at===Qe&&(at=Ne.name),this.celebrationInput.push(at)}))}onMontageClicked(){this.logger.info("Create Montage clicked"),this.galleryService.currentSelectedFilesData?(this.postMontageMessage="",this.reset(),this.ipcService.get$(Pe.oI.ProgressUpdate).pipe((0,a.R)(this.destroy$)).subscribe(Ne=>{this.progressDialogRef&&(this.progressDialogRef.componentInstance.value=Math.floor(Number(Ne)))},Ne=>{this.logger.error("Failed to initialize Experience Context with error: ",Ne)}),this.dialogHelper.openAlertDialog({title:"montage.Montage",query:"montage.Progress",queryParam:{},action1:"confirmation.cancel",progressBar:!0,progressMode:"determinate",progressPercentage:!0}).pipe((0,a.R)(this.destroy$)).subscribe(Ne=>{this.progressDialogRef=Ne,(0,_e.S3)(Ne.afterClosed(),this.launchMontage(this.montageItems,Ne)).pipe((0,a.R)(this.destroy$),(0,re.q)(1)).subscribe(Qe=>{this.progressDialogRef=void 0,Qe!==m.DX.Action1?(Ne.close(),this.postMontageMessage?(this.cleanup(),this.showError(this.postMontageMessage)):this.loadPreviewWithMontage()):this.cancel()},Qe=>{this.progressDialogRef=void 0,this.cancel()})})):this.logger.info("No files selected in the gallery for use in the montage")}loadPreviewWithMontage(){this.trimService.getMetaData(this.finalOutput).subscribe(he=>{const Ne=this.osService.getDirSeparator(),Qe=this.finalOutput.lastIndexOf(Ne),at=this.finalOutput.slice(Qe+1),vt={fullFilename:this.finalOutput,selected:!1,file:{name:at,type:he.fileType,subtype:he.fileSubType,source:he.fileSource,drsProfileName:he.DRSProfileName,thumbnail:""},folder:he.DRSProfileName,cmsId:he.cmsId,index:0,duration:he.duration,msDuration:he.msDuration,date:he.date,fileSize:he.fileSizeKB?he.fileSizeKB.toString():"0",audiotype:he.audiotype,hlName:"",hlDefinitionId:"",hlId:-1,hlGroup:"",cancel:!1,data:"",errorType:"",errorDetails:""};this.galleryService.setMontageMode(!1),this.montageService.montageComplete(he.msDuration),this.itemSelected(vt),this.router.navigate(["../preview"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})},he=>{this.logger.info("Failed to get MetaData to load montage preview, returning to gallery"),this.closeMontage()})}cancel(){this.montageService.cancelMontage().subscribe(()=>this.cleanup())}cleanup(){this.finalOutput&&this.bridgeService.executeCommand(A.Gh.Common.Gallery.RemoveGalleryItem,{file:this.finalOutput,forceDelete:!0}).pipe((0,pe.K)(()=>{})).subscribe()}showError(he){this.dialogHelper.openAlertDialog({title:"montage.Error",query:he,queryParam:{},action1:"confirmation.cancel"}).pipe((0,a.R)(this.destroy$)).subscribe()}removeItem(he){const Ne=this.montageItems.indexOf(he),Qe=he===this.activeItem;this.montageItems.splice(Ne,1),this.montageService.metrics.itemsDeleted++,0===this.montageItems.length?this.closeMontage():Qe&&this.itemSelected(this.montageItems[0])}itemSelected(he){this.activeItem=he,this.galleryService.currentFileData=he}checkMontageButtonState(){this.setupAppBar(0===this.montageService.title.length||0===this.montageService.subtitle.length)}titleChanged(he){this.logger.info("New title: ",he),this.montageService.title=he,this.montageService.metrics.titleSequenceChanged=s.wye.TRUE,this.checkMontageButtonState()}subtitleChanged(he){this.logger.info("New subtitle: ",he),this.montageService.subtitle=he,this.montageService.metrics.subtitleSequenceChanged=s.wye.TRUE,this.checkMontageButtonState()}onCelebrationChanged(he){this.logger.info("New Celebration: ",he),this.montageService.celebrationIndex=he}drop(he){this.montageService.metrics.itemsRearranged++,(0,q.bA)(he.container.data,he.previousIndex,he.currentIndex)}launchMontage(he,Ne){const Qe=[];he.forEach(vt=>{Qe.push({video:vt.fullFilename,videoDuration:vt.msDuration,highlightName:vt.hlName,edgeLog:"",description:vt.date,cmsId:vt.cmsId?vt.cmsId.toString():"0",mediaType:vt.file.subtype})});const at=this.translateService.instant("montage.Montage");return this.tempOutput=this.galleryService.generateTempFilename(`${this.tempDirectory}`,"nvmontage","mp4"),this.logger.info("Montage temp output: ",this.tempOutput),this.montageService.mediaDir="C:/Montage/MontageMedia",this.logger.info("Montage Media Dir: ",this.montageService.mediaDir),this.montageService.createMontageFromRecipe(Qe,this.tempOutput,"release/nvuniversal.html").pipe((0,o.zg)(vt=>(this.logger.info("Intermediate Result: ",vt),this.finalOutput=this.galleryService.generateGalleryFilename(at,"mp4"),this.logger.info("Montage final output: ",this.finalOutput),this.progressDialogRef.componentInstance.dialogData={title:"montage.CreatingMontage",query:"montage.Completing",queryParam:{},action1:"confirmation.cancel",progressBar:!0,progressMode:"indeterminate"},this.bridgeService.executeCommand(A.Gh.Common.Gallery.MoveFile,{source:vt,destination:this.finalOutput}))),(0,pe.K)(vt=>(this.postMontageMessage=vt.message,(0,U.of)(m.DX.Action2))))}}return Je.\u0275fac=function(he){return new(he||Je)(r.Y36(L.dF),r.Y36(m.Mb),r.Y36(m.rj),r.Y36(m.Sp),r.Y36(L.ed),r.Y36(m.wz),r.Y36(m.HY),r.Y36(n.F0),r.Y36(n.gz),r.Y36(l.ad),r.Y36(i.sK),r.Y36(Pe.uC),r.Y36(s.No2))},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["nv-montage"]],decls:23,vars:27,consts:[["multi","true","fxLayout","column",1,"montage","nv-oogg"],[1,"font-sub1"],["fxLayout","column"],[1,"font-sub2","title"],[3,"label","text","placeholderText","disabled","textMaxLength","textChange","stringChange"],["class","font-sub2 title",4,"ngIf"],[3,"selection","input","selectionChanged",4,"ngIf"],["cdkDropList","","cdkDropListOrientation","vertical",1,"montage-container",3,"cdkDropListData","cdkDropListDropped"],["montageList","cdkDropList"],["class","item montage-item","fxLayout","column","cdkDrag","",3,"click",4,"ngFor","ngForOf"],[3,"selection","input","selectionChanged"],["fxLayout","column","cdkDrag","",1,"item","montage-item",3,"click"],[3,"item","thumbWidth","thumbHeight","activeItem","deleteVisible","selectedItemDeleted"]],template:function(he,Ne){1&he&&(r.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title",1),r._uU(4),r.ALo(5,"translate"),r.qZA()(),r.TgZ(6,"div",2)(7,"mat-label",3),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"nv-input",4),r.NdJ("textChange",function(at){return Ne.title=at})("stringChange",function(at){return Ne.titleChanged(at)}),r.qZA(),r.TgZ(11,"nv-input",4),r.NdJ("textChange",function(at){return Ne.subtitle=at})("stringChange",function(at){return Ne.subtitleChanged(at)}),r.qZA(),r.YNc(12,Te,3,3,"mat-label",5),r.YNc(13,me,1,2,"nv-dropdown",6),r.qZA()(),r._UZ(14,"nv-divider"),r.TgZ(15,"mat-expansion-panel")(16,"mat-expansion-panel-header")(17,"mat-panel-title",1),r._uU(18),r.ALo(19,"translate"),r.qZA()(),r.TgZ(20,"div",7,8),r.NdJ("cdkDropListDropped",function(at){return Ne.drop(at)}),r.YNc(22,et,2,5,"div",9),r.qZA()()()),2&he&&(r.xp6(4),r.Oqu(r.lcZ(5,21,"montage.Properties")),r.xp6(4),r.Oqu(r.lcZ(9,23,"montage.TitleSequence")),r.xp6(2),r.Akn(Ne.editStyle),r.Q6J("label","montage.Title")("text",Ne.title)("placeholderText",Ne.titlePlaceHolder)("disabled",!1)("textMaxLength",80),r.xp6(1),r.Akn(Ne.editStyle),r.Q6J("label","montage.Subtitle")("text",Ne.subtitle)("placeholderText",Ne.subtitlePlaceHolder)("disabled",!1)("textMaxLength",80),r.xp6(1),r.Q6J("ngIf",Ne.celebrationValid),r.xp6(1),r.Q6J("ngIf",Ne.celebrationValid),r.xp6(5),r.Oqu(r.lcZ(19,25,"montage.Media")),r.xp6(2),r.Q6J("cdkDropListData",Ne.montageItems),r.xp6(2),r.Q6J("ngForOf",Ne.montageItems))},styles:[".montage-container[_ngcontent-%COMP%]{cursor:move}.montage-container[_ngcontent-%COMP%]   .montage-item[_ngcontent-%COMP%]{padding-bottom:18px}.cdk-drag-animating[_ngcontent-%COMP%], .montage-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .montage-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .3s cubic-bezier(0,0,.2,1)}.title[_ngcontent-%COMP%]{margin:8px 0 0;height:32px}.montage[_ngcontent-%COMP%]{padding:24px;overflow-y:auto}"]}),Je})();var Ze=e(49067),nt=e(18937),Me=e(90657),ze=e(93557),le=e(17728),Le=e(76947),Re=e(99763);const Q=function(Je){return{arg:Je}};function ve(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div")(1,"mat-form-field",2)(2,"mat-label",3),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"input",4,5),r.NdJ("ngModelChange",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.text=Qe)})("change",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.updateSource())})("input",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.textInput(Qe))}),r.ALo(7,"translate"),r.ALo(8,"translate"),r.qZA()()()}if(2&Je){const he=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,9,he.label)),r.xp6(2),r.Q6J("placeholder",r.xi3(7,11,null==he.placeholderText?null:he.placeholderText.text,r.VKq(16,Q,null==he.placeholderText?null:he.placeholderText.arg)))("ngModel",he.text)("ngStyle",he.itemStyle)("matTooltip",r.lcZ(8,14,he.tooltip))("pattern",he.pattern)("disabled",he.disabled)("readonly",he.readonly)("tabindex",he.tabindex)}}function be(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",6)(1,"input",7,5),r.NdJ("ngModelChange",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.text=Qe)})("change",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.updateSource())})("input",function(Qe){r.CHM(he);const at=r.oxw();return r.KtG(at.textInput(Qe))}),r.ALo(3,"translate"),r.ALo(4,"translate"),r.qZA()()}if(2&Je){const he=r.oxw();r.xp6(1),r.Q6J("placeholder",r.xi3(3,8,null==he.placeholderText?null:he.placeholderText.text,r.VKq(13,Q,null==he.placeholderText?null:he.placeholderText.arg)))("ngModel",he.text)("ngStyle",he.itemStyle)("matTooltip",r.lcZ(4,11,he.tooltip))("pattern",he.pattern)("disabled",he.disabled)("readonly",he.readonly)("tabindex",he.tabindex)}}let ke=(()=>{class Je{constructor(){this.underlinecolor="",this.style=[],this.tooltip=void 0,this.pattern=void 0,this.rangeCheck=void 0,this.textChange=new r.vpe,this.stringChange=new r.vpe,this.incDecChange=new r.vpe}get text(){return this._text}set text(he){this._text=he,void 0!==this.rangeCheck&&this.setUnderlineColor()}updateSource(){this.textChange.emit(this.text)}validateInputText(){return!this.pattern||!!new RegExp(this.pattern).test(this.text)}durationToSeconds(he){const Ne=he.length>7,Qe=he.lastIndexOf(":"),at=he.slice(Qe+1),vt=he.slice(0,Qe);if(Ne){const zt=vt.lastIndexOf(":"),yn=vt.slice(zt+1),jt=he.slice(0,zt);return Number(at)+60*Number(yn)+3600*Number(jt)}return Number(at)+60*Number(vt)}validateInputRange(){if(!this.rangeCheck)return!0;const Ne=this.durationToSeconds(this.text)/this.rangeCheck.total*100;return!(Ne<this.rangeCheck.min||Ne>this.rangeCheck.max)}textInput(he){const Ne=he.target;Ne&&this.textMaxLength<=Ne.value.length?Ne.value=this.text=Ne.value.slice(0,this.textMaxLength):this.text=Ne.value,this.pattern&&this.setUnderlineColor(),this.stringChange.emit(this.text)}setUnderlineColor(){this.underlinecolor=this.validateInputText()&&this.validateInputRange()?"1px solid #76b900":"1px solid red"}get itemStyle(){return{height:this.style[0],margin:this.style[1],padding:this.style[2],"border-bottom":this.underlinecolor}}onkeydown(he){if(this.disabled)return;let Ne;"ArrowDown"===he.key?Ne="decrement":"ArrowUp"===he.key&&(Ne="increment"),Ne&&(he.preventDefault(),he.stopPropagation(),this.incDecChange.emit(Ne))}}return Je.\u0275fac=function(he){return new(he||Je)},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["nv-input"]],hostBindings:function(he,Ne){1&he&&r.NdJ("keydown",function(at){return Ne.onkeydown(at)})},inputs:{label:"label",textMaxLength:"textMaxLength",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",placeholderText:"placeholderText",style:"style",tooltip:"tooltip",pattern:"pattern",rangeCheck:"rangeCheck",text:"text"},outputs:{textChange:"textChange",stringChange:"stringChange",incDecChange:"incDecChange"},decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["color","accent","appearance","fill",1,"nv-input-form"],[1,"font-body3","font-nocolor"],["type","text","matTooltipClass","nv-oogg oogg-tooltip","fxLayoutAlign","center center","matInput","","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"font-body2",3,"placeholder","ngModel","ngStyle","matTooltip","pattern","disabled","readonly","tabindex","ngModelChange","change","input"],["input",""],["fxLayout","row","fxLayoutAlign","start center"],["type","text","matTooltipClass","nv-oogg oogg-tooltip","fxLayoutAlign","center center","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"font-body2","nv-input-raw",3,"placeholder","ngModel","ngStyle","matTooltip","pattern","disabled","readonly","tabindex","ngModelChange","change","input"]],template:function(he,Ne){1&he&&(r.YNc(0,ve,9,18,"div",0),r.YNc(1,be,5,15,"div",1)),2&he&&(r.Q6J("ngIf",Ne.label),r.xp6(1),r.Q6J("ngIf",!Ne.label))},dependencies:[t.O5,t.PC,nt.xw,nt.Wh,Me.Zl,ze.Fj,ze.JJ,ze.c5,ze.On,le.v_,le.$V,Le.k0,Re.Kd,i.X$],styles:[".nv-input-form[_ngcontent-%COMP%]{width:100%}.nv-input-raw[_ngcontent-%COMP%]{width:100%;background-color:transparent;border:0;caret-color:#76b900;box-sizing:border-box;border-bottom:1px solid rgba(255,255,255,.3)}.nv-input-raw[_ngcontent-%COMP%]:disabled{opacity:.38;cursor:default}.nv-input-raw[_ngcontent-%COMP%]:focus{padding-bottom:0;border-bottom:1px solid #76b900}.nv-input-raw[_ngcontent-%COMP%]:not(:focus){padding-bottom:0;border-bottom:1px solid rgba(255,255,255,.3)!important}.font-nocolor[_ngcontent-%COMP%]{color:unset}"]}),Je})();var Ce=e(20576),ge=e(22828),De=e(94626),ye=e(88757),Oe=e(75755),ie=e(72467),qe=e(51637);const lt=["sliderWrapper"];function Et(Je,Rt){if(1&Je&&(r.TgZ(0,"div",6),r._UZ(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),r.qZA()),2&Je){const he=r.oxw();r.xp6(1),r.Q6J("ngStyle",he._trackBackgroundStyles),r.xp6(1),r.Q6J("ngStyle",he._trackMaxRangeBackgroundStyles),r.xp6(1),r.Q6J("ngStyle",he._trackFillStyles),r.xp6(1),r.Q6J("ngStyle",he._trackMinRangeBackgroundStyles)}}function kt(Je,Rt){if(1&Je&&(r.TgZ(0,"div",11),r._UZ(1,"div",12),r.qZA()),2&Je){const he=r.oxw();r.Q6J("ngStyle",he._ticksContainerStyles),r.xp6(1),r.Q6J("ngStyle",he._ticksStyles)}}function an(Je,Rt){if(1&Je&&(r.TgZ(0,"div",13),r._UZ(1,"div",14)(2,"div",15),r.TgZ(3,"div",16)(4,"span",17),r._uU(5),r.qZA()()()),2&Je){const he=r.oxw();r.Q6J("ngStyle",he._thumbContainerStyles),r.xp6(5),r.Oqu(he.displayValue)}}function dn(Je,Rt){if(1&Je&&(r.TgZ(0,"div",6),r._UZ(1,"div",18)(2,"div",19),r.qZA()),2&Je){const he=r.oxw();r.xp6(2),r.Q6J("ngStyle",he._activeTrackStyle)}}function xn(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",20),r.NdJ("mousedown",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.leftDown=!0)})("mouseup",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.leftDown=!1)},!1,r.Jf7),r._UZ(1,"div",21)(2,"div",22),r.qZA()}if(2&Je){const he=r.oxw();r.Q6J("ngStyle",he._thumbContainerStyle),r.xp6(1),r.ekj("clicked",he.leftDown),r.xp6(1),r.ekj("clicked",he.leftDown)}}function un(Je,Rt){if(1&Je){const he=r.EpF();r.TgZ(0,"div",20),r.NdJ("mousedown",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.rightDown=!0)})("mouseup",function(){r.CHM(he);const Qe=r.oxw();return r.KtG(Qe.rightDown=!1)},!1,r.Jf7),r._UZ(1,"div",23)(2,"div",24),r.qZA()}if(2&Je){const he=r.oxw();r.Q6J("ngStyle",he._thumbContainerStyle),r.xp6(1),r.ekj("clicked",he.rightDown),r.xp6(1),r.ekj("clicked",he.rightDown)}}const Nt=(0,ye.i$)({passive:!1}),xt={provide:ze.JU,useExisting:(0,r.Gpc)(()=>yt),multi:!0};class Fe{}const ut=(0,De.sb)((0,De.pj)((0,De.Id)(class{constructor(Je){this._elementRef=Je}}),"accent")),gt=-4294967295;let yt=(()=>{class Je extends ut{constructor(he,Ne,Qe,at,vt,zt,yn,jt){super(he),this._focusMonitor=Ne,this._changeDetectorRef=Qe,this._dir=at,this._ngZone=zt,this._animationMode=jt,this.leftDown=!1,this.rightDown=!1,this.trimThumb=!1,this.setWidthOnMin=!1,this.leftThumb=!1,this.rightThumb=!1,this._rangeMin=gt,this._rangeMax=gt,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new r.vpe,this.input=new r.vpe,this.valueChange=new r.vpe,this.onTouched=()=>{},this._percent=0,this._percentLeft=0,this._percentRight=100,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Oe.w.EMPTY,this._pointerDown=Qt=>{this.disabled||this._isSliding||!Ut(Qt)&&0!==Qt.button||this._ngZone.run(()=>{const Zt=this.value,ln=en(Qt);this._isSliding=!0,this._lastPointerEvent=Qt,Qt.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(Qt),this._focusHostElement(),this._updateValueFromPosition(ln),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=ln,Zt!==this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=Qt=>{if(this._isSliding){Qt.preventDefault();const Zt=this.value;this._lastPointerEvent=Qt,this._updateValueFromPosition(en(Qt)),Zt!==this.value&&this._emitInputEvent()}},this._pointerUp=Qt=>{if(this._isSliding){const Zt=this._pointerPositionOnStart,ln=en(Qt);Qt.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart!==this.value&&!this.disabled&&Zt&&(Zt.x!==ln.x||Zt.y!==ln.y)&&this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=yn,this.tabIndex=parseInt(vt)||0,zt.runOutsideAngular(()=>{const Qt=he.nativeElement;Qt.addEventListener("mousedown",this._pointerDown,Nt),Qt.addEventListener("touchstart",this._pointerDown,Nt)})}get rangeMin(){return this._rangeMin}set rangeMin(he){const Ne=(0,Ce.su)(he,this._min);this._rangeMin=this._calculatePercentage(Ne)}get rangeMax(){return this._rangeMax}set rangeMax(he){const Ne=(0,Ce.su)(he,this._max);this._rangeMax=this._calculatePercentage(Ne)}get invert(){return this._invert}set invert(he){this._invert=(0,Ce.Ig)(he)}get max(){return this._max}set max(he){this._max=(0,Ce.su)(he,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(he){this._min=(0,Ce.su)(he,this._min),this.setWidthOnMin&&(this.hostWidth=100-this._min+"%"),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(he){this._step=(0,Ce.su)(he,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(he){this._thumbLabel=(0,Ce.Ig)(he)}get tickInterval(){return this._tickInterval}set tickInterval(he){this._tickInterval="auto"===he?"auto":"number"==typeof he||"string"==typeof he?(0,Ce.su)(he,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(he){if(he!==this._value){let Ne=(0,Ce.su)(he);const Qe=Ne/100;if(this._isSliding&&(Qe<this.rangeMin||Qe>this.rangeMax))return;this._roundToDecimal&&(Ne=parseFloat(Ne.toFixed(this._roundToDecimal))),this._value=Ne,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(he){this._vertical=(0,Ce.Ig)(he)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(he){this._focusHostElement(he)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get percentLeft(){return this._clamp(this._percentLeft)}get percentRight(){return this._clamp(this._percentRight)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _thumbContainerStyle(){return{left:100*this._clamp(this.percent)+"%"}}get _activeTrackStyle(){return{left:"0",width:100*this._clamp(this.percent)+"%",color:"#76b900"}}get _trackMaxRangeBackgroundStyles(){return{transform:`scale3d(${1-this.rangeMax+", 1, 1"})`}}get _trackMinRangeBackgroundStyles(){return{transform:`scale3d(${this.rangeMin}, 1, 1)`}}get _trackBackgroundStyles(){return{transform:`scale3d(${1-this.percent+", 1, 1"})`}}get _trackFillStyles(){const he=this.percent;return{transform:`scale3d(${he}, 1, 1)`,display:0===he?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!==this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){const he=100*this._tickIntervalPercent,Ne=this.vertical?`2px ${he}%`:`${he}% 2px`,Qe=this.vertical?"Y":"X",at=this.vertical||"rtl"!==this._getDirection()?"":"-",vt=this.vertical||"rtl"!==this._getDirection()?"":" rotate(180deg)";let zt;if(zt=0!==he?{backgroundSize:Ne,transform:`translateZ(0) translate${Qe}(${at}${he/2}%)${vt}`}:{backgroundSize:Ne,transform:`${vt}`},this._isMinValue&&this._thumbGap){let yn;yn=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",zt[`padding${yn}`]=`${this._thumbGap}px`}return zt}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!==this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!==this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}ngOnInit(){this.trimThumb=this.leftThumb||this.rightThumb,this._focusMonitor.monitor(this._elementRef,!0).subscribe(he=>{this._isActive=!!he&&"keyboard"!==he,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const he=this._elementRef.nativeElement;he.removeEventListener("mousedown",this._pointerDown,Nt),he.removeEventListener("touchstart",this._pointerDown,Nt),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(he){if(this.disabled||(0,ge.Vb)(he))return;const Ne=this.value;switch(he.keyCode){case ge.Ku:this._increment(10);break;case ge.VM:this._increment(-10);break;case ge.uR:this.value=100*this.rangeMax;break;case ge.Sd:this.value=100*this.rangeMin;break;case ge.oh:this._increment("rtl"===this._getDirection()?1:-1);break;case ge.LH:this._increment(1);break;case ge.SV:this._increment("rtl"===this._getDirection()?-1:1);break;case ge.JH:this._increment(-1);break;default:return}Ne!==this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,he.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(he){const Ne=this._document,Qe=Ut(he),vt=Qe?"touchend":"mouseup";Ne.addEventListener(Qe?"touchmove":"mousemove",this._pointerMove,Nt),Ne.addEventListener(vt,this._pointerUp,Nt),Qe&&Ne.addEventListener("touchcancel",this._pointerUp,Nt);const zt=this._getWindow();typeof zt<"u"&&zt&&zt.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const he=this._document;typeof he<"u"&&he&&(he.removeEventListener("mousemove",this._pointerMove,Nt),he.removeEventListener("mouseup",this._pointerUp,Nt),he.removeEventListener("touchmove",this._pointerMove,Nt),he.removeEventListener("touchend",this._pointerUp,Nt),he.removeEventListener("touchcancel",this._pointerUp,Nt));const Ne=this._getWindow();typeof Ne<"u"&&Ne&&Ne.removeEventListener("blur",this._windowBlur)}_increment(he){const Ne=this._clamp((this.value||0)+this.step*he,this.min,this.max),Qe=Ne/100;this.value=Qe<this.rangeMin?100*this.rangeMin:Qe>this.rangeMax?100*this.rangeMax:Ne}_updateValueFromPosition(he){if(!this._sliderDimensions)return;let vt=this._clamp(((this.vertical?he.y:he.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(vt=1-vt),0===vt)this.value=this.min;else if(1===vt)this.value=this.max;else{const zt=this._calculateValue(vt),yn=Math.round((zt-this.min)/this.step)*this.step+this.min;this.value=this._clamp(yn,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"===this.tickInterval){const he=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,at=Math.ceil(30/(he*this.step/(this.max-this.min)))*this.step;this._tickIntervalPercent=at/he}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(he=this.value){const Ne=new Fe;return Ne.source=this,Ne.value=he,Ne}_calculatePercentage(he){return((he||0)-this.min)/(this.max-this.min)}_calculateValue(he){return this.min+he*(this.max-this.min)}_clamp(he,Ne=0,Qe=1){return Math.max(Ne,Math.min(he,Qe))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(he){this._elementRef.nativeElement.focus(he)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(he){this.value=he}registerOnChange(he){this._controlValueAccessorChangeFn=he}registerOnTouched(he){this.onTouched=he}setDisabledState(he){this.disabled=he}}return Je.\u0275fac=function(he){return new(he||Je)(r.Y36(r.SBq),r.Y36(ie.tE),r.Y36(r.sBO),r.Y36(qe.Is,8),r.$8M("tabindex"),r.Y36(r.R0b),r.Y36(t.K0),r.Y36(r.QbO,8))},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["nv-mat-slider"]],viewQuery:function(he,Ne){if(1&he&&r.Gf(lt,5),2&he){let Qe;r.iGM(Qe=r.CRH())&&(Ne._sliderWrapper=Qe.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:30,hostBindings:function(he,Ne){1&he&&r.NdJ("focus",function(){return Ne._onFocus()})("blur",function(){return Ne._onBlur()})("keydown",function(at){return Ne._onKeydown(at)})("keyup",function(){return Ne._onKeyup()})("mouseenter",function(){return Ne._onMouseenter()})("selectstart",function(at){return at.preventDefault()}),2&he&&(r.Ikx("tabIndex",Ne.tabIndex),r.uIk("aria-disabled",Ne.disabled)("aria-valuemax",Ne.max)("aria-valuemin",Ne.min)("aria-valuenow",Ne.value)("aria-orientation",Ne.vertical?"vertical":"horizontal"),r.Udp("width",Ne.hostWidth),r.ekj("mat-slider-disabled",Ne.disabled)("mat-slider-has-ticks",Ne.tickInterval)("mat-slider-horizontal",!Ne.vertical)("mat-slider-axis-inverted",Ne._invertAxis)("mat-slider-invert-mouse-coords",Ne._shouldInvertMouseCoords())("mat-slider-sliding",Ne._isSliding)("mat-slider-thumb-label-showing",Ne.thumbLabel)("mat-slider-vertical",Ne.vertical)("mat-slider-min-value",Ne._isMinValue)("mat-slider-hide-last-tick",Ne.disabled||Ne._isMinValue&&Ne._thumbGap&&Ne._invertAxis)("_mat-animation-noopable","NoopAnimations"===Ne._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",setWidthOnMin:"setWidthOnMin",leftThumb:"leftThumb",rightThumb:"rightThumb",rangeMin:"rangeMin",rangeMax:"rangeMax",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["nvMatSlider"],features:[r._Bn([xt]),r.qOj],decls:9,vars:6,consts:[[1,"mat-slider-wrapper"],["slider","","sliderWrapper",""],["class","mat-slider-track-wrapper",4,"ngIf"],["class","mat-slider-ticks-container",3,"ngStyle",4,"ngIf"],["class","mat-slider-thumb-container",3,"ngStyle",4,"ngIf"],["class","nv-thumb-container",3,"ngStyle","mousedown","mouseup",4,"ngIf"],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-max-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-track-min-background",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"],[1,"nv-track"],[1,"nv-track-fill",3,"ngStyle"],[1,"nv-thumb-container",3,"ngStyle","mousedown","mouseup"],[1,"nv-thumb-left"],[1,"nv-thumb-left-base"],[1,"nv-thumb-right"],[1,"nv-thumb-right-base"]],template:function(he,Ne){1&he&&(r.TgZ(0,"div",0,1),r.YNc(3,Et,5,4,"div",2),r.YNc(4,kt,2,2,"div",3),r.YNc(5,an,6,2,"div",4),r.YNc(6,dn,3,1,"div",2),r.YNc(7,xn,3,5,"div",5),r.YNc(8,un,3,5,"div",5),r.qZA()),2&he&&(r.xp6(3),r.Q6J("ngIf",!Ne.trimThumb),r.xp6(1),r.Q6J("ngIf",!Ne.trimThumb),r.xp6(1),r.Q6J("ngIf",!Ne.trimThumb),r.xp6(1),r.Q6J("ngIf",Ne.trimThumb),r.xp6(1),r.Q6J("ngIf",Ne.leftThumb),r.xp6(1),r.Q6J("ngIf",Ne.rightThumb))},dependencies:[t.O5,t.PC,Me.Zl],styles:['.mat-slider-horizontal{min-width:0;height:20px}.mat-slider-horizontal .mat-slider-wrapper{left:0;right:0;top:9px}.mat-slider-vertical{min-height:0}.hig-slider-no-animation .mat-slider-track-fill,.hig-slider-no-animation .mat-slider-track-background,.hig-slider-no-animation .mat-slider-thumb-container{transition:none!important}.mat-slider-thumb{right:-6px;bottom:-6px;width:12px;height:12px;border-width:2px;transform:scale(1)}.mat-slider-min-value .mat-slider-thumb{background-color:#76b900!important;border-color:transparent!important}.mat-slider-min-value .mat-slider-thumb-label{background-color:#76b900!important}.mat-slider-disabled .mat-slider-thumb{border-width:2px;background-color:#76b90061!important;transform:scale(.85)}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(1)}.mat-accent .mat-slider-thumb-label-text{color:#fff}.mat-slider-focus-ring,.mat-slider-min-value .mat-slider-focus-ring{width:36px;height:36px;background-color:#76b90052;z-index:1}.mat-slider-focus-ring:active,.mat-slider-min-value .mat-slider-focus-ring:active{background-color:#76b90066}.mat-slider-horizontal .mat-slider-focus-ring{top:-18px;right:-18px}.mat-slider:not(.mat-slider-disabled):hover .mat-slider-focus-ring{transform:scale(1);opacity:.33}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-focus-ring,.mat-slider:not(.mat-slider-disabled).cdk-keyboard-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled).nv-mouse-down .mat-slider-focus-ring{transform:scale(1.33);opacity:1;cursor:grabbing}.mat-slider-disabled .mat-slider-track-fill{background-color:#76b90061}.mat-slider-disabled .mat-slider-track-background{background-color:#ffffff61}.mat-slider:not(.mat-slider-disabled) .mat-slider-track-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-background{background-color:#afafaf}.mat-slider:not(.mat-slider-disabled) .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled) .mat-slider-track-min-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled):hover .mat-slider-track-min-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-max-background,.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-track-min-background{background-color:#636363}.mat-slider-horizontal:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-background{transform:translate(0)!important}.mat-slider-horizontal:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-fill{transform:translate(0) scale3d(0,1,1)!important}.mat-slider-vertical:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-background{transform:translateY(0)!important}.mat-slider-vertical:not(.mat-slider-disabled).mat-slider-min-value .mat-slider-track-fill{transform:translateY(0) scale3d(0,1,1)!important}.mat-slider-has-ticks .mat-slider-ticks{opacity:1}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:transparent}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,#191919,#191919 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,#191919,#191919 2px,transparent 0,transparent)}.nv-thumb-container{position:absolute;left:0;top:50%;transform:translate3d(-50%,-50%,0);border-radius:50%;z-index:999}.nv-thumb-common,.nv-thumb-right-base,.nv-thumb-right,.nv-thumb-left-base,.nv-thumb-left,.nv-thumb{z-index:1;position:absolute;box-sizing:border-box}.nv-thumb{left:-8px;top:5px;width:14px;height:14px;border:2px solid #76b900;background-color:#76b900;border-radius:50%}.nv-thumb.cdk-focused,.nv-thumb:focus{background-color:#76b900;border:2px solid #76b900}.nv-thumb[disabled]{background-color:#393939}.nv-thumb:not([disabled]):not(.nv-mouse-down){cursor:grab}.nv-thumb:not([disabled]).nv-mouse-down{cursor:grabbing}.nv-thumb-left{left:-8px;top:4px;width:0;height:0;border-left:8px solid transparent;border-bottom:8px solid rgba(255,255,255,.7)}.cdk-focused .nv-thumb-left{left:-8px;top:4px;width:0;height:0}.cdk-focused .nv-thumb-left.clicked{border-bottom:8px solid #ffffff}.nv-thumb-left-base{left:-8px;top:12px;width:8px;height:4px;background:rgba(255,255,255,.7)}.cdk-focused .nv-thumb-left-base{left:-8px;top:12px;width:8px;height:10px}.cdk-focused .nv-thumb-left-base.clicked{background-color:#fff}.nv-thumb-right{left:0;top:4px;width:0;height:0;border-right:8px solid transparent;border-bottom:8px solid rgba(255,255,255,.7)}.cdk-focused .nv-thumb-right{left:0;top:4px;width:0;height:0}.cdk-focused .nv-thumb-right.clicked{border-bottom:8px solid #ffffff}.nv-thumb-right-base{left:0;top:12px;width:8px;height:4px;background:rgba(255,255,255,.7)}.cdk-focused .nv-thumb-right-base{left:0;top:12px;width:8px;height:10px}.cdk-focused .nv-thumb-right-base.clicked{background-color:#fff}.nv-track,.nv-track-fill{position:absolute;left:0;right:0;height:100%;background-color:#393939}.nv-track-fill{background-color:#76b900}.trim-slider{cursor:default}.trim-slider .nv-track,.trim-slider .nv-track-fill{background-color:transparent}.trim-slider .nv-thumb{border:none}.trim-slider .nv-thumb:before{content:"";display:block;position:absolute;top:-5px;height:0;left:3px;box-sizing:border-box;border-bottom:5px solid #393939;border-right:5px solid transparent;border-left:5px solid transparent}.trim-slider:focus .nv-thumb:before{border-bottom:5px solid #76b900}.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:0;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-min-background,.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:none!important}.mat-slider-track-max-background,.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:none!important}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:none!important}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(.7);transition:transform .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1),border-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform .4s cubic-bezier(.25,.8,.25,1),border-radius .4s cubic-bezier(.25,.8,.25,1),background-color .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper:after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity .4s cubic-bezier(.25,.8,.25,1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper:after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper:after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-min-background,.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-max-background,.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:0;right:0}.mat-slider-horizontal .mat-slider-wrapper:after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-min-background,.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-max-background,.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container,.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:0;bottom:0;left:23px}.mat-slider-vertical .mat-slider-wrapper:after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.mat-slider-vertical .mat-slider-focus-ring{bottom:-18px;left:-18px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translate(26px) scale(.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper:after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-min-background,[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-max-background,[dir=rtl] .mat-slider-horizontal .mat-slider-track-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-min-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-max-background,[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-min-background,.mat-slider._mat-animation-noopable .mat-slider-track-max-background,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper:after{transition:none}\n'],encapsulation:2,changeDetection:0}),Je})();function Ut(Je){return"t"===Je.type[0]}function en(Je){const Rt=Ut(Je)?Je.touches[0]||Je.changedTouches[0]:Je;return{x:Rt.clientX,y:Rt.clientY}}let _n=(()=>{class Je{constructor(){this.mouseDown=!1,this._leftPosition=0,this.leftPositionChange=new r.vpe,this._rightPosition=100,this.rightPositionChange=new r.vpe,this.valueChange=new r.vpe,this._value=0,this.step=1,this.disabled=!1,this.disableTrim=!1,this.spaceBetween=0,this.leftMax=100,this.rightMin=0}get leftPosition(){return this._leftPosition}set leftPosition(he){this._leftPosition!==he&&he<=this.rightPosition-this.spaceBetween&&(this._leftPosition=he,this.trimChanged(),this.leftPositionChange.emit(this._leftPosition))}get rightPosition(){return this._rightPosition}set rightPosition(he){this._rightPosition!==he&&he>=this.leftPosition+this.spaceBetween&&(this._rightPosition=he,this.trimChanged(),this.rightPositionChange.emit(this._rightPosition))}get value(){return this._value}set value(he){he!==this._value&&(this._value=he,this.valueChange.emit(this._value))}trimChanged(){this.leftMax=this.rightPosition-this.spaceBetween,this.rightMin=this.leftPosition+this.spaceBetween}sliderChanged(he){this.value=he.value}leftChanged(he){this.leftPosition=he.value}rightChanged(he){this.rightPosition=he.value}}return Je.\u0275fac=function(he){return new(he||Je)},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["nv-mat-ranged-slider"]],inputs:{leftPosition:"leftPosition",rightPosition:"rightPosition",value:"value",step:"step",disabled:"disabled",disableTrim:"disableTrim",spaceBetween:"spaceBetween"},outputs:{leftPositionChange:"leftPositionChange",rightPositionChange:"rightPositionChange",valueChange:"valueChange"},decls:5,vars:26,consts:[[1,"ranged-slider-padding"],[1,"ranged-slider-wrapper"],["fxFlex","grow",3,"disabled","min","max","step","value","rangeMin","rangeMax","valueChange","input","mousedown","mouseup"],[1,"trim-slider","left-slider",3,"disabled","min","max","step","rangeMin","rangeMax","value","leftThumb","valueChange","input"],[1,"trim-slider","right-slider",3,"setWidthOnMin","disabled","min","max","step","rangeMin","rangeMax","value","rightThumb","valueChange","input"]],template:function(he,Ne){1&he&&(r.TgZ(0,"div",0)(1,"div",1)(2,"nv-mat-slider",2),r.NdJ("valueChange",function(at){return Ne.value=at})("input",function(at){return Ne.sliderChanged(at)})("mousedown",function(){return Ne.mouseDown=!0})("mouseup",function(){return Ne.mouseDown=!1},!1,r.Jf7),r.qZA(),r.TgZ(3,"nv-mat-slider",3),r.NdJ("valueChange",function(at){return Ne.leftPosition=at})("valueChange",function(){return Ne.trimChanged()})("input",function(at){return Ne.leftChanged(at)}),r.qZA(),r.TgZ(4,"nv-mat-slider",4),r.NdJ("valueChange",function(at){return Ne.rightPosition=at})("valueChange",function(){return Ne.trimChanged()})("input",function(at){return Ne.rightChanged(at)}),r.qZA()()()),2&he&&(r.xp6(2),r.ekj("nv-mouse-down",Ne.mouseDown),r.Q6J("disabled",Ne.disabled)("min",0)("max",100)("step",Ne.step)("value",Ne.value)("rangeMin",Ne.leftPosition)("rangeMax",Ne.rightPosition),r.xp6(1),r.Q6J("disabled",Ne.disableTrim)("min",0)("max",100)("step",Ne.step)("rangeMin",0)("rangeMax",Ne.leftMax)("value",Ne.leftPosition)("leftThumb",!0),r.xp6(1),r.Q6J("setWidthOnMin",!0)("disabled",Ne.disableTrim)("min",0)("max",100)("step",Ne.step)("rangeMin",Ne.rightMin)("rangeMax",100)("value",Ne.rightPosition)("rightThumb",!0))},dependencies:[nt.yH,yt],styles:["ranged-slider-padding[_ngcontent-%COMP%]{padding:0 8px}.ranged-slider-wrapper[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;position:relative}.ranged-slider-wrapper[_ngcontent-%COMP%]   .left-slider[_ngcontent-%COMP%], .ranged-slider-wrapper[_ngcontent-%COMP%]   .right-slider[_ngcontent-%COMP%]{position:absolute;width:100%}.ranged-slider-wrapper[_ngcontent-%COMP%]   .left-slider[_ngcontent-%COMP%]{left:0}.ranged-slider-wrapper[_ngcontent-%COMP%]   .right-slider[_ngcontent-%COMP%]{right:0}"]}),Je})();var Vt=e(34375),cn=e(85780),sn=e(32764),tn=e(37661),ct=e(25800),ft=e(31874),ot=e(7421),Ct=e(48301),Tt=e(12427);function Xt(Je,Rt){if(1&Je){const he=r.EpF();r.ynx(0),r.TgZ(1,"button",8),r.NdJ("click",function(){const at=r.CHM(he).index,vt=r.oxw();return r.KtG(vt.itemSelect(at))}),r.TgZ(2,"div",9),r._uU(3),r.ALo(4,"translate"),r.qZA()(),r.BQk()}if(2&Je){const he=Rt.$implicit,Ne=Rt.index,Qe=r.oxw();r.xp6(1),r.ekj("active",Ne===Qe.selection),r.xp6(2),r.Oqu(r.lcZ(4,3,he))}}let nn=(()=>{class Je{constructor(){this.disabledState=void 0,this.disable=!1,this.menuOpen=!1,this._input=[],this._selection=0,this.selectionChanged=new r.vpe}set disabled(he){this.disabledState=he,this.disable=he||!!(this.input&&this.input.length<2)}get input(){return this._input}set input(he){this._input=he,this.setEntry()}set selection(he){this._selection=he,this.setEntry()}get selection(){return this._selection}setEntry(){this.input&&this.input.length>0?((this.selection<0||this.selection>=this.input.length)&&(this.selection=0),this.entry=this.input[this.selection],this.disable=!!this.disabledState||this.input.length<2):(this.entry="",this.disable=!0)}ngOnInit(){this.setEntry()}itemSelect(he){this.selection!==he&&(this.selection=he,this.selectionChanged.emit(he),this.setEntry())}buttonToggle(he){setTimeout(()=>{this.menuOpen=he})}}return Je.\u0275fac=function(he){return new(he||Je)},Je.\u0275cmp=r.Xpm({type:Je,selectors:[["nv-dropdown"]],inputs:{maxHeight:"maxHeight",disabled:"disabled",input:"input",selection:"selection"},outputs:{selectionChanged:"selectionChanged"},decls:10,vars:10,consts:[["fxFlex","grow",1,"nv-dropdown"],["matRipple","","fxLayout","row","fxLayoutAlign","start center","fxFlex","grow",1,"nv-dropdown-label","hig-button-overlay",3,"matMenuTriggerFor","disabled","menuOpened","menuClosed"],["fxFlex","grow",1,"font-body2","menu-text"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],["svgIcon","chevron_down",1,"icon-normal"],["xPosition","after","yPosition","below","overlapTrigger","false",1,"nv-oogg","max-width-menu-class"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","","fxLayout","row","fxLayoutAlign","start center",1,"nv-dropdown-menu","hig-button-overlay",3,"click"],[1,"font-body2"]],template:function(he,Ne){if(1&he&&(r.TgZ(0,"div",0)(1,"button",1),r.NdJ("menuOpened",function(){return Ne.buttonToggle(!0)})("menuClosed",function(){return Ne.buttonToggle(!1)}),r.TgZ(2,"div",2),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"div",3),r._UZ(6,"mat-icon",4),r.qZA()(),r.TgZ(7,"mat-menu",5,6),r.YNc(9,Xt,5,5,"ng-container",7),r.qZA()()),2&he){const Qe=r.MAs(8);r.ekj("nv-dropdown-z",Ne.menuOpen),r.xp6(1),r.Q6J("matMenuTriggerFor",Qe)("disabled",Ne.disable),r.xp6(2),r.Oqu(r.lcZ(4,8,Ne.entry)),r.xp6(4),r.Udp("max-height",Ne.maxHeight,"px"),r.xp6(2),r.Q6J("ngForOf",Ne.input)}},dependencies:[t.sg,nt.xw,nt.Wh,nt.yH,Tt.W0,Tt.tN,Tt.D8,tn.Hw,De.wG,i.X$],styles:[":host[disabled] .nv-item *{cursor:default}.nv-item-icon{width:36px;height:36px}.nv-item-icon mat-icon{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row{padding:0 24px}.nv-item-labels{padding:8px 0;height:100%}.nv-label{padding:8px 0}.default-cursor{cursor:default}.disabled-opacity{opacity:.38}.nv-dropdown{width:100%;height:100%}.nv-dropdown-label{background-color:#393939}.nv-dropdown-label .menu-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host-context(.isLtr) .nv-dropdown-label .menu-text{text-align:left}html[dir=ltr] .nv-dropdown-label .menu-text{--dummy0: 0;text-align:left}:host-context(.isRtl) .nv-dropdown-label .menu-text{text-align:right}html[dir=rtl] .nv-dropdown-label .menu-text{--dummy0: 0;text-align:right}:host-context(.isLtr) .nv-dropdown-label .menu-text{padding:16px 0 16px 8px}html[dir=ltr] .nv-dropdown-label .menu-text{--dummy: 0;padding:16px 0 16px 8px}:host-context(.isRtl) .nv-dropdown-label .menu-text{padding:16px 8px 16px 0}html[dir=rtl] .nv-dropdown-label .menu-text{--dummy: 0;padding:16px 8px 16px 0}.nv-dropdown-z{z-index:9999}button.nv-dropdown-menu{box-sizing:border-box;margin:0;width:100%;height:unset}button.nv-dropdown-menu div{padding:8px 16px;overflow:hidden;text-overflow:ellipsis}:host-context(.isLtr) button.nv-dropdown-menu div{text-align:left}html[dir=ltr] button.nv-dropdown-menu div{--dummy0: 0;text-align:left}:host-context(.isRtl) button.nv-dropdown-menu div{text-align:right}html[dir=rtl] button.nv-dropdown-menu div{--dummy0: 0;text-align:right}button.nv-dropdown-menu.active div{color:#76b900}.nv-oogg.max-width-menu-class{width:306px}.nv-oogg.max-width-menu-class .mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}\n"],encapsulation:2}),Je})();var On=e(73404);let Ye=(()=>{class Je{}return Je.\u0275fac=function(he){return new(he||Je)},Je.\u0275mod=r.oAB({type:Je}),Je.\u0275inj=r.cJS({imports:[t.ez,L.it,p.m,x.o9,M.Q,n.Bz.forChild(R),(0,L.zv)()]}),Je})();r.B6R(ee,function(){return[t.mk,t.O5,Ze.n,ke,_n,nt.xw,nt.SQ,nt.Wh,nt.s9,nt.XD,nt.yH,Me.oO,Vt.eB,qe.Lv,cn.PQ,sn.sN,tn.Hw,ct.JX,ct.TM,ct.Rh,ft.Q,Xe]},[]),r.B6R(Xe,function(){return[t.sg,t.O5,ot.n,Ct.x,ke,nn,nt.xw,le.$V,On.pp,On.ib,On.yz,On.yK,q.Wj,q.Zt]},function(){return[i.X$]})},21568:(Ge,ae,e)=>{"use strict";e.d(ae,{$:()=>T});var t=e(51270),n=e(85566),M=e(53975),p=e(39609),P=e(64710),a=e(63795),o=e(97483),v=e(3878),y=e(37661),C=e(715);const A=["scroller"],d=["recent"];function m(B,K){if(1&B){const b=p.EpF();p.TgZ(0,"button",22),p.NdJ("click",function(D){p.CHM(b);const I=p.oxw();return D.stopPropagation(),p.KtG(I.recentGoLeft())}),p._UZ(1,"mat-icon",23),p.qZA()}}const S=function(){return{"width.px":8}};function s(B,K){if(1&B){const b=p.EpF();p.TgZ(0,"div",24)(1,"nv-gallery-item",25),p.NdJ("click",function(){const I=p.CHM(b).$implicit,w=p.oxw();return p.KtG(w.openFile(I))}),p.qZA(),p._UZ(2,"div",26),p.qZA()}if(2&B){const b=K.$implicit,f=p.oxw();p.xp6(1),p.Q6J("item",b)("activeItem",f.itemSelection)("thumbWidth",f.recentThumbWidth)("thumbHeight",f.recentThumbHeight)("activity",!0),p.xp6(1),p.Q6J("ngStyle",p.DdM(6,S))}}function r(B,K){if(1&B){const b=p.EpF();p.TgZ(0,"button",22),p.NdJ("click",function(D){p.CHM(b);const I=p.oxw();return D.stopPropagation(),p.KtG(I.recentGoRight())}),p._UZ(1,"mat-icon",27),p.qZA()}}function l(B,K){if(1&B&&(p.TgZ(0,"div",28),p._UZ(1,"nv-preview",29),p.qZA()),2&B){const b=p.oxw();p.xp6(1),p.Q6J("activeItem",b.mapSelection)("mapView",!0)}}const i=function(B,K){return{"width.px":B,"height.px":K}},O=function(B){return{arg:B}},Y=function(B,K){return{"sv-activity-withoutrounds":B,"sv-activity-withrounds":K}};let T=(()=>{class B{constructor(b,f,D,I,w,_,$){this.loggingService=b,this.galleryService=f,this.lcarsService=D,this.imageFormatService=I,this.domSanitizer=w,this.matIconRegistry=_,this.translateService=$,this.initialized=!1,this.recentThumbWidth=t.dz.width,this.recentThumbHeight=t.dz.height,this.selectedItemIndex=0,this.sortType=t.ER.newest,this.itemSelection=void 0,this.mapSelection=void 0,this.leftDisabled=!1,this.rightDisabled=!1,this.itemsVisible=5,this.roundDataPresent=!1,this.mapDataPresent=!1,this.hour="",this.hours="",this.minute="",this.minutes="",this.second="",this.seconds="",this.initialDelay=!1,this.logger=this.loggingService.getLogger("Activity"),this.logger.info("Constructor"),this.hour=this.translateService.instant("commonLabels.Hour"),this.hours=this.translateService.instant("commonLabels.Hours"),this.minute=this.translateService.instant("commonLabels.Minute"),this.minutes=this.translateService.instant("commonLabels.Minutes"),this.second=this.translateService.instant("commonLabels.Second"),this.seconds=this.translateService.instant("commonLabels.Seconds")}get item(){return this._item}set item(b){this._item&&this.initialized?setTimeout(()=>{this._item=(0,n.cloneDeep)(b),this.initialize()}):this._item=b}ngOnInit(){this.logger.info("OnInit")}ngAfterViewInit(){this.logger.info("ngAfterViewInit: ",this.initialized),setTimeout(()=>{this.initialized||(this.initialize(),this.initialized=!0)})}ngOnDestroy(){this.logger.info("ngOnDestroy"),this.metadataReq$&&this.metadataReq$.unsubscribe()}initialize(){this.logger.info("Initialize Activity Item Data: ",this.item),this.itemSelection=this.item.metaData[0],this.roundDataPresent=this.item.rounds&&this.item.rounds.length>0,""!==this.item.mapFileName&&this.item.metaData.forEach(f=>{f.fullFilename===this.item.mapFileName&&(this.mapSelection=f)}),this.mapDataPresent=void 0!==this.mapSelection,this.scroller&&this.scroller.scrollToIndex(0,"smooth"),setTimeout(()=>{this.chevronControl()}),this.logger.info("AI FillData for: "+this.item.gameName+" Number of items: "+this.item.metaData.length),this.item.metaData.forEach(f=>this.galleryService.fillInFileData(f).subscribe());const b=this.item.metaData.find(f=>0!==f.cmsId);if(b){const f=b.cmsId;this.logger.info("Initialize Activity for cmsID: ",f),this.lcarsService.getMetadataByCmsId(f).subscribe(D=>{if(this.logger.info("NesLayout AppMetaData: ",D),(0,n.isNil)(D))throw new Error("Invalid asset data received: "+JSON.stringify(D));{this.appMetaData=D;const I=this.imageFormatService.formatImageServiceUrl(D.images.KEY_ART,{w:t.dO});this.logger.info("Game Icon: ",I),this.activityGameIcon=this.domSanitizer.bypassSecurityTrustResourceUrl(I)}})}else this.logger.error("CmsId Not found for: ",this.item.gameName)}getFormattedTime(b){return M(b).format("LT MMM D, YYYY")}getFormattedDuration(b){let f="";const D=b.split(":"),I=Number(D[0]),w=Number(D[1]),_=Math.floor(Number(D[2]));return I>0&&(f+=I.toString()+" "+(1===I?this.hour:this.hours)),w>0&&(""!==f&&(f+=" "),f+=w.toString()+" "+(1===w?this.minute:this.minutes)),_>0&&(""!==f&&(f+=" "),f+=_.toString()+" "+(1===_?this.second:this.seconds)),f}openFile(b){this.logger.info("Open Item in preview: ",b.file.name),this.item.metaData.forEach((f,D)=>{f.fullFilename===b.fullFilename&&this.updateScroller(D)})}recentNav(b,f=!1){let D=this.selectedItemIndex;this.item.metaData[this.selectedItemIndex].selected=!1,b?D--:D++,D=f?D>=this.item.metaData.length?0:D<0?this.item.metaData.length-1:D:D>=this.item.metaData.length?this.item.metaData.length-1:D<0?0:D,this.updateScroller(D)}updateScroller(b){this.scroller.scrollToIndex(b,"smooth"),this.selectedItemIndex=b,this.item.metaData[this.selectedItemIndex].selected=!0,this.itemSelection=this.item.metaData[b],this.chevronControl()}recentGoLeft(){this.recentNav(!0)}recentGoRight(){this.recentNav(!1)}chevronControl(){const b=this.recent.nativeElement.getBoundingClientRect().width;this.itemsVisible=Math.floor(b/(this.recentThumbWidth+8)),this.item.metaData.length<=this.itemsVisible?(this.leftDisabled=!0,this.rightDisabled=!0):0===this.selectedItemIndex?(this.leftDisabled=!0,this.rightDisabled=!1):this.selectedItemIndex===this.item.metaData.length-1?(this.leftDisabled=!1,this.rightDisabled=!0):(this.leftDisabled=!1,this.rightDisabled=!1),this.logger.info("Chevrons active Left: "+!this.leftDisabled+" Right: "+!this.rightDisabled)}keydownRecent(b){this.logger.info("Keydown Key: ",b.key),("Enter"===b.key||" "===b.key)&&this.item.metaData.length>0&&this.selectedItemIndex>=0&&this.selectedItemIndex<this.item.metaData.length?this.openFile(this.item.metaData[this.selectedItemIndex]):"ArrowLeft"===b.key?this.recentGoLeft():"ArrowRight"===b.key&&this.recentGoRight()}activeItemChanged(b){this.itemSelection=b;const f=this.item.metaData.findIndex(D=>D===b);-1!==f&&(this.selectedItemIndex=f,this.scroller.scrollToIndex(f,"smooth"))}activeItemIndexChanged(b){this.logger.info("ActiveItemIndexChanged: ",b),this.itemSelection=this.item.metaData[b],this.selectedItemIndex=b,this.scroller.scrollToIndex(b,"smooth")}activityIdentity(b,f){return f.file.name}}return B.\u0275fac=function(b){return new(b||B)(p.Y36(P.ed),p.Y36(a.rj),p.Y36(o.zcQ),p.Y36(P.CQ),p.Y36(v.H7),p.Y36(y.jv),p.Y36(C.sK))},B.\u0275cmp=p.Xpm({type:B,selectors:[["nv-activity-item"]],viewQuery:function(b,f){if(1&b&&(p.Gf(A,5),p.Gf(d,5)),2&b){let D;p.iGM(D=p.CRH())&&(f.scroller=D.first),p.iGM(D=p.CRH())&&(f.recent=D.first)}},inputs:{scrolling:"scrolling",itemWidth:"itemWidth",itemHeight:"itemHeight",initialDelay:"initialDelay",item:"item"},decls:30,vars:39,consts:[["fxLayout","column",1,"sv-top-level",3,"ngStyle"],["fxLayout","column","fxFlexFill","",1,"sv-card-offset"],[1,"font-body1","sv-activity-gap"],[1,"sv-activity-divider"],["fxLayout","row"],[1,"icon-normal","sv-activity-icon",3,"src"],["fxLayout","column","fxFlex","none",1,"sv-activity-header"],[1,"font-body2"],[1,"sv-activity-space"],[1,"sv-nav-left-position"],["fxFlex","none","mat-button","","class","complex-button",3,"click",4,"ngIf"],[1,"sv-recent-layout"],["recent",""],["orientation","horizontal","tabIndex","0",1,"sv-recent-container",3,"itemSize","keydown"],["scroller",""],["class","sv-recent-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[1,"sv-nav-right-position"],["fxLayout","row","fxFlexFill","","fxFlex","",1,"nv-oogg","sv-preview-window"],["fxFlex","","fxFlexFill","",3,"activeItem","mapPresent","roundsPresent","mapsPresent","activeItemChange"],["fxFlex","","fxFlexFill","",4,"ngIf"],["fxFlex","","fxFlexFill","",1,"nv-oogg","sv-activity-window",3,"ngClass"],[3,"rounds","events","metadata","start","end","activeItemIndex","activeItemIndexChange"],["fxFlex","none","mat-button","",1,"complex-button",3,"click"],["svgIcon","chevron_left",1,"sv-nav-button"],[1,"sv-recent-item"],[3,"item","activeItem","thumbWidth","thumbHeight","activity","click"],[3,"ngStyle"],["svgIcon","chevron_right",1,"sv-nav-button"],["fxFlex","","fxFlexFill",""],["fxFlex","","fxFlexFill","",3,"activeItem","mapView"]],template:function(b,f){1&b&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2),p._uU(3),p.ALo(4,"translate"),p.qZA(),p._UZ(5,"mat-divider",3),p.TgZ(6,"div",4),p._UZ(7,"img",5),p.TgZ(8,"div",6)(9,"div",7),p._uU(10),p.qZA(),p.TgZ(11,"div",7),p._uU(12),p.ALo(13,"translate"),p.qZA()()(),p._UZ(14,"div",8),p.TgZ(15,"div",4)(16,"div",9),p.YNc(17,m,2,0,"button",10),p.qZA(),p.TgZ(18,"div",11,12)(20,"cdk-virtual-scroll-viewport",13,14),p.NdJ("keydown",function(I){return f.keydownRecent(I)}),p.YNc(22,s,3,7,"div",15),p.qZA()(),p.TgZ(23,"div",16),p.YNc(24,r,2,0,"button",10),p.qZA()(),p.TgZ(25,"div",17)(26,"nv-preview",18),p.NdJ("activeItemChange",function(I){return f.itemSelection=I})("activeItemChange",function(I){return f.activeItemChanged(I)}),p.qZA(),p.YNc(27,l,2,2,"div",19),p.qZA(),p.TgZ(28,"div",20)(29,"nv-edge-log-item",21),p.NdJ("activeItemIndexChange",function(I){return f.selectedItemIndex=I})("activeItemIndexChange",function(I){return f.activeItemIndexChanged(I)}),p.qZA()()()()),2&b&&(p.Q6J("ngStyle",p.WLB(29,i,f.itemWidth,f.itemHeight)),p.xp6(3),p.hij(" ",p.xi3(4,23,"summary.PlayedAt",p.VKq(32,O,f.getFormattedTime(f.item.playStarted)))," "),p.xp6(4),p.Q6J("src",f.activityGameIcon,p.LSH),p.xp6(3),p.Oqu(f.item.gameName),p.xp6(2),p.hij(" ",p.xi3(13,26,"summary.PlayTime",p.VKq(34,O,f.getFormattedDuration(f.item.playTime)))," "),p.xp6(5),p.Q6J("ngIf",!f.leftDisabled),p.xp6(3),p.Q6J("itemSize",f.recentThumbWidth+8),p.xp6(2),p.Q6J("cdkVirtualForOf",f.item.metaData)("cdkVirtualForTrackBy",f.activityIdentity)("cdkVirtualForTemplateCacheSize",0),p.xp6(2),p.Q6J("ngIf",!f.rightDisabled),p.xp6(2),p.Q6J("activeItem",f.itemSelection)("mapPresent",f.mapSelection)("roundsPresent",f.roundDataPresent)("mapsPresent",f.mapDataPresent),p.xp6(1),p.Q6J("ngIf",void 0!==f.mapSelection&&"image"!==f.itemSelection.file.type),p.xp6(1),p.Q6J("ngClass",p.WLB(36,Y,!f.roundDataPresent,f.roundDataPresent)),p.xp6(1),p.Q6J("rounds",f.item.rounds)("events",f.item.events)("metadata",f.item.metaData)("start",f.item.startTime)("end",f.item.endTime)("activeItemIndex",f.selectedItemIndex))},styles:[".sv-top-level{position:relative}.sv-recent-layout{height:167px;width:100%}.sv-recent-container{height:167px;width:100%;overflow:hidden}.sv-recent-container .cdk-virtual-scroll-content-wrapper{display:flex;flex-direction:row}.sv-recent-item{width:304px;height:100%}.sv-activity-header{height:60px}.sv-activity-gap{margin-top:16px}.sv-activity-space{margin-top:26px}.sv-preview-window{width:100%;height:100%;object-fit:contain}.sv-activity-window{width:100%;background-color:#29292952}.sv-activity-divider{margin:16px 0}.sv-activity-withrounds{max-height:211px}.sv-activity-withoutrounds{max-height:88px}.sv-activity-icon{font-size:32px;width:36px;height:36px}:host-context(.isLtr) .sv-activity-icon{margin-right:8px}html[dir=ltr] .sv-activity-icon{--dummy4: 0;margin-right:8px}:host-context(.isRtl) .sv-activity-icon{margin-left:8px}html[dir=rtl] .sv-activity-icon{--dummy4: 0;margin-left:8px}.sv-card-offset{padding:24px;background:linear-gradient(to bottom,rgba(175,175,175,0) 30%,#191919 80%)}.sv-nav-button{color:#a0a0a0;padding:6px;font-size:32px;width:36px;height:36px;border-radius:50%;background-color:#191919}.sv-nav-common-position,.sv-nav-right-position,.sv-nav-left-position{position:absolute;padding-top:60px;z-index:2000}.sv-nav-left-position{left:26px}.sv-nav-right-position{right:26px}\n"],encapsulation:2}),B})()},48301:(Ge,ae,e)=>{"use strict";e.d(ae,{x:()=>T});var t=e(39609),n=e(2502),x=e(63155),M=e(33932),L=e(63795),p=e(715),P=e(52954),a=e(18937),o=e(90657),v=e(70782),y=e(32764),C=e(37661);const A=["img"];function d(B,K){1&B&&t._UZ(0,"div",12)}function m(B,K){if(1&B&&t._UZ(0,"img",13,14),2&B){const b=t.oxw();t.Q6J("src",b.item.data,t.LSH)}}function S(B,K){1&B&&(t.TgZ(0,"div",15),t.NdJ("click",function(f){return f.stopPropagation()}),t.qZA())}function s(B,K){1&B&&t._UZ(0,"mat-spinner",16)}function r(B,K){1&B&&t._UZ(0,"mat-icon",17)}function l(B,K){if(1&B){const b=t.EpF();t.TgZ(0,"mat-icon",18),t.NdJ("click",function(D){t.CHM(b);const I=t.oxw();return t.KtG(I.onRemoveClick(D))}),t.qZA()}}function i(B,K){1&B&&t._UZ(0,"div",19)}function O(B,K){1&B&&t._UZ(0,"div",20)}const Y=function(B,K){return{"width.px":B,"height.px":K}};let T=(()=>{class B{constructor(b,f){this.galleryService=b,this.translateService=f,this.initialDelay=!1,this.deleteVisible=!1,this.multiSelect=!1,this.activity=!1,this.selectedItemDeleted=new t.vpe}ngAfterViewInit(){this.item&&!this.item.data&&this.scrolling&&(this.metadataReq$=this.scrolling.pipe((0,n.g)(this.initialDelay?300:0),(0,x.P)(b=>!1===b),(0,M.zg)(()=>this.galleryService.fillInFileData(this.item))).subscribe())}ngOnDestroy(){this.metadataReq$&&this.metadataReq$.unsubscribe()}onRemoveClick(b){this.selectedItemDeleted.emit(this.item),b.stopImmediatePropagation(),b.preventDefault()}get displayInfo(){const b=`highlightLabels.${this.item.hlName}`;let f=this.translateService.instant(b);f===b&&(f=this.item.hlName);let D="";return void 0!==this.item.duration&&(D="00:"===this.item.duration.slice(0,3)?this.item.duration.slice(3):this.item.duration.slice(0)),this.item.file.type===L.A2.Image?f:this.item.file.subtype===L.dM.Montage?D+" - "+this.translateService.instant("montage.Montage"):this.item.file.subtype===L.dM.Highlights&&this.item.hlName?D+" - "+f:D}handleDrag(b){b.dataTransfer.setData("text/plain","ooggStartDrag"),b.dataTransfer.setData("text/html",this.item.fullFilename),b.dataTransfer.setDragImage(this.imgRef.nativeElement,0,0),b.dataTransfer.dropEffect="copy"}}return B.\u0275fac=function(b){return new(b||B)(t.Y36(L.rj),t.Y36(p.sK))},B.\u0275cmp=t.Xpm({type:B,selectors:[["nv-gallery-item"]],viewQuery:function(b,f){if(1&b&&t.Gf(A,5,t.SBq),2&b){let D;t.iGM(D=t.CRH())&&(f.imgRef=D.first)}},inputs:{item:"item",scrolling:"scrolling",activeItem:"activeItem",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",initialDelay:"initialDelay",deleteVisible:"deleteVisible",multiSelect:"multiSelect",activity:"activity"},outputs:{selectedItemDeleted:"selectedItemDeleted"},decls:14,vars:14,consts:[[1,"gallery-item",3,"ngStyle","draggable","dragstart"],["class","gallery-overlay-bkgnd gallery-overlay",4,"ngIf"],[1,"gallery-overlay-info","gallery-overlay"],[1,"font-body2"],[3,"src",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"gallery-overlay"],["class","gallery-inprogress",3,"click",4,"ngIf"],["diameter","32","tabindex","-1","color","accent",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal gallery-overlay-play-icon","tabindex","-1",4,"ngIf"],["svgIcon","remove_circle","class","remove-circle",3,"click",4,"ngIf"],["class","gallery-active",4,"ngIf"],["class","activity-active",4,"ngIf"],[1,"gallery-overlay-bkgnd","gallery-overlay"],[3,"src"],["img",""],[1,"gallery-inprogress",3,"click"],["diameter","32","tabindex","-1","color","accent"],["svgIcon","alert_circle","tabindex","-1",1,"icon-normal","gallery-overlay-play-icon"],["svgIcon","remove_circle",1,"remove-circle",3,"click"],[1,"gallery-active"],[1,"activity-active"]],template:function(b,f){1&b&&(t.TgZ(0,"mat-card",0),t.NdJ("dragstart",function(I){return f.handleDrag(I)}),t.TgZ(1,"mat-card-content"),t.YNc(2,d,1,0,"div",1),t.TgZ(3,"div",2)(4,"span",3),t._uU(5),t.qZA()(),t.YNc(6,m,2,1,"img",4),t.TgZ(7,"div",5),t.YNc(8,S,1,0,"div",6),t.YNc(9,s,1,0,"mat-spinner",7),t.YNc(10,r,1,0,"mat-icon",8),t.qZA(),t.YNc(11,l,1,0,"mat-icon",9),t.YNc(12,i,1,0,"div",10),t.YNc(13,O,1,0,"div",11),t.qZA()()),2&b&&(t.Q6J("ngStyle",t.WLB(11,Y,f.thumbWidth,f.thumbHeight))("draggable",!f.multiSelect),t.xp6(2),t.Q6J("ngIf",""!==f.displayInfo),t.xp6(3),t.Oqu(f.displayInfo),t.xp6(1),t.Q6J("ngIf",f.item.data),t.xp6(2),t.Q6J("ngIf",!f.item.data),t.xp6(1),t.Q6J("ngIf",!f.item.data&&!f.item.cancel),t.xp6(1),t.Q6J("ngIf",f.item.cancel),t.xp6(1),t.Q6J("ngIf",f.deleteVisible),t.xp6(1),t.Q6J("ngIf",!f.activity&&f.item===f.activeItem),t.xp6(1),t.Q6J("ngIf",f.activity&&f.item===f.activeItem))},dependencies:[P.O5,P.PC,a.xw,a.Wh,o.Zl,v.S$,v.Qi,y.sN,C.Hw],styles:[".gallery-item[_ngcontent-%COMP%]{padding:0;box-sizing:border-box;background-color:#191919;box-shadow:none;border-radius:0}.gallery-overlay[_ngcontent-%COMP%], .activity-active[_ngcontent-%COMP%], .gallery-active[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}.gallery-inprogress[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;z-index:99;height:100%;width:100%;box-sizing:border-box;border-style:dashed;border-width:2px;color:#ffffff61}.gallery-overlay-play-icon[_ngcontent-%COMP%]{width:33px;height:33px;font-size:33px;margin:0;opacity:.95}.gallery-overlay-common[_ngcontent-%COMP%], .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .gallery-overlay-bkgnd[_ngcontent-%COMP%]{position:absolute;color:#fff;white-space:normal;padding:0}.gallery-active[_ngcontent-%COMP%]{border:2px solid #76b900;z-index:1}.activity-active[_ngcontent-%COMP%]{border-bottom:3px solid #76b900;z-index:1}.gallery-overlay-bkgnd[_ngcontent-%COMP%]{background-color:#00000080;height:27px;top:140px}.gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:0 5px;bottom:2px}.isLtr[_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:2px 0 0 2px}html[dir=ltr][_ngcontent-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{--dummy: 0;margin:2px 0 0 2px}.isRtl[_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:2px 2px 0 0}html[dir=rtl][_ngcontent-%COMP%]   .gallery-overlay-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{--dummy: 0;margin:2px 2px 0 0}.remove-circle-widget[_ngcontent-%COMP%], .remove-circle[_ngcontent-%COMP%]{position:absolute;color:#fff;width:20px;height:20px;top:0;right:0;z-index:999}.isLtr[_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%]{margin:5px 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .remove-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 5px 0 0}.isRtl[_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .remove-circle[_ngcontent-%COMP%]{margin:5px 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .remove-circle-widget[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .remove-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 0 0 5px}[_nghost-%COMP%]:hover   .remove-circle[_ngcontent-%COMP%]{opacity:1;cursor:default}[_nghost-%COMP%]:not(:hover)   .remove-circle[_ngcontent-%COMP%]{opacity:0;cursor:none}"]}),B})()},7421:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>x});var t=e(39609),n=e(79884);let x=(()=>{class M{}return M.\u0275fac=function(p){return new(p||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["nv-divider"]],decls:1,vars:0,consts:[[1,"nv-divider"]],template:function(p,P){1&p&&t._UZ(0,"mat-divider",0)},dependencies:[n.d],styles:[".nv-divider[_ngcontent-%COMP%]{margin:16px -24px}"]}),M})()},49067:(Ge,ae,e)=>{"use strict";e.d(ae,{n:()=>S});var t=e(39609),n=e(52954),x=e(18937),M=e(90657),L=e(34375),p=e(37661),P=e(99763),a=e(715);const o=["button"];function v(s,r){if(1&s&&(t.TgZ(0,"div",5),t._UZ(1,"mat-icon",6),t.qZA()),2&s){const l=t.oxw();t.xp6(1),t.s9C("svgIcon",l.svgIcon)}}function y(s,r){if(1&s&&t._UZ(0,"span",10),2&s){const l=t.oxw(2);t.Q6J("translate",l.title)("translateParams",l.titleArg)}}function C(s,r){if(1&s&&t._UZ(0,"span",11),2&s){const l=t.oxw(2);t.Q6J("translate",l.subTitle)("translateParams",l.subTitleArg)}}function A(s,r){if(1&s&&(t.TgZ(0,"div",7),t.YNc(1,y,1,2,"span",8),t.YNc(2,C,1,2,"span",9),t.qZA()),2&s){const l=t.oxw();t.xp6(1),t.Q6J("ngIf",l.title),t.xp6(1),t.Q6J("ngIf",l.subTitle)}}function d(s,r){1&s&&(t.TgZ(0,"div",5),t._UZ(1,"mat-icon",12),t.qZA())}const m=function(s){return{"default-cursor":s}};let S=(()=>{class s{constructor(){this.svgIcon=void 0,this.disabled=!1,this.focusEnabled=!0,this.title=void 0,this.titleArg=void 0,this.tooltip=void 0,this.subTitle=void 0,this.subTitleArg=void 0,this.chevron=!1,this.clicked=new t.vpe,this.onClick=function(){this.clicked.emit()}}focus(){this.element.nativeElement.focus()}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["nv-item-button"]],viewQuery:function(l,i){if(1&l&&t.Gf(o,7),2&l){let O;t.iGM(O=t.CRH())&&(i.element=O.first)}},inputs:{svgIcon:"svgIcon",disabled:"disabled",focusEnabled:"focusEnabled",title:"title",titleArg:"titleArg",tooltip:"tooltip",subTitle:"subTitle",subTitleArg:"subTitleArg",chevron:"chevron"},outputs:{clicked:"clicked"},decls:7,vars:10,consts:[["mat-button","","fxFlex","","tabIndex","0","matTooltipClass","nv-oogg oogg-tooltip",1,"nv-item-button-container","complex-button","font-body2",3,"disabled","ngClass","matTooltip","click"],["button",""],["fxFlex","","fxLayout","row","fxLayoutAlign","start start"],["class","nv-item-icon","fxLayout","row","fxLayoutAlign","center center","fxFlex","none",4,"ngIf"],["class","nv-item-labels","fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","none",1,"nv-item-icon"],[3,"svgIcon"],["fxFlexAlign","center","fxLayout","column","fxLayoutAlign","start start","fxFlex","",1,"nv-item-labels"],["class","font-body2",3,"translate","translateParams",4,"ngIf"],["class","font-body3 disabled-opacity",3,"translate","translateParams",4,"ngIf"],[1,"font-body2",3,"translate","translateParams"],[1,"font-body3","disabled-opacity",3,"translate","translateParams"],["svgIcon","chevron_right"]],template:function(l,i){1&l&&(t.TgZ(0,"button",0,1),t.NdJ("click",function(){return i.onClick()}),t.ALo(2,"translate"),t.TgZ(3,"div",2),t.YNc(4,v,2,1,"div",3),t.YNc(5,A,3,2,"div",4),t.YNc(6,d,2,0,"div",3),t.qZA()()),2&l&&(t.Q6J("disabled",i.disabled)("ngClass",t.VKq(8,m,!i.focusEnabled))("matTooltip",t.lcZ(2,6,i.tooltip)),t.xp6(4),t.Q6J("ngIf",i.svgIcon),t.xp6(1),t.Q6J("ngIf",i.title||i.subTitle),t.xp6(1),t.Q6J("ngIf",i.chevron))},dependencies:[n.mk,n.O5,x.xw,x.Wh,x.XD,x.yH,M.oO,L.eB,p.Hw,P.Kd,a.Pi,a.X$],styles:["[disabled][_nghost-%COMP%]   .nv-item[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{cursor:default}.nv-item-icon[_ngcontent-%COMP%]{width:36px;height:36px}.nv-item-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffffffb3;width:24px;height:24px;font-size:24px}.nv-item-row[_ngcontent-%COMP%]{padding:0 24px}.nv-item-labels[_ngcontent-%COMP%]{padding:8px 0;height:100%}.nv-label[_ngcontent-%COMP%]{padding:8px 0}.default-cursor[_ngcontent-%COMP%]{cursor:default}.disabled-opacity[_ngcontent-%COMP%]{opacity:.38}.nv-item-button-container[_ngcontent-%COMP%]{width:100%}.nv-item-button-container[disabled][_ngcontent-%COMP%]{opacity:.38}"]}),s})()},15316:(Ge,ae,e)=>{"use strict";e.d(ae,{e:()=>K});var t=e(39609),n=e(85566),M=e(18406),L=e(42520),p=e(50572),P=e(4042),a=e(63795),o=e(53975),y=e(715);const C=["scroller"],A=["labeloverlay"];function d(b,f){if(1&b&&t._UZ(0,"div"),2&b){const D=t.oxw(2);t.Udp("padding-top",D.topBottomPad,"px")("width","100%")}}function m(b,f){if(1&b&&(t.TgZ(0,"div",10)(1,"div",11),t._UZ(2,"mat-icon",12),t.TgZ(3,"div",13),t._uU(4),t.ALo(5,"translate"),t.qZA()()()),2&b){const D=t.oxw().$implicit,I=t.oxw();t.xp6(1),t.ekj("checked",D[0].selected)("partial",D[0].partial)("multiOn",I.multiSelectModeOn),t.xp6(3),t.Oqu(t.lcZ(5,7,D[0].divider))}}function S(b,f){}const s=function(b,f){return{$implicit:b,scroll:f}};function r(b,f){if(1&b&&(t.TgZ(0,"nv-virtual-grid-item",16),t.YNc(1,S,0,0,"ng-template",17),t.qZA()),2&b){const D=f.$implicit,I=t.oxw(3);t.Q6J("useOutline",I.useFocusOutline)("showFocusAlways",I.showFocusAlways)("item",D)("selectedItemIndex",I.selectedItemIndex)("itemWidth",I.itemWidth)("itemHeight",I.itemHeight)("multiSelectAvailable",I.multiSelect)("multiSelectModeOn",I.multiSelectModeOn),t.xp6(1),t.Q6J("ngTemplateOutlet",I.template)("ngTemplateOutletContext",t.WLB(10,s,D.item,I.scrolling$.asObservable()))}}function l(b,f){if(1&b&&(t.TgZ(0,"div",14),t.YNc(1,r,2,13,"nv-virtual-grid-item",15),t.qZA()),2&b){const D=t.oxw().$implicit,I=t.oxw();t.Q6J("fxLayoutGap",I.marginRight+"px"),t.xp6(1),t.Q6J("ngForOf",D)}}function i(b,f){if(1&b&&t._UZ(0,"div"),2&b){const D=t.oxw(2);t.Udp("padding-bottom",D.topBottomPad,"px")("width","100%")}}function O(b,f){if(1&b&&(t.TgZ(0,"div"),t.YNc(1,d,1,4,"div",6),t.YNc(2,m,6,9,"div",7),t.YNc(3,l,2,2,"div",8),t.YNc(4,i,1,4,"div",9),t.qZA()),2&b){const D=f.$implicit,I=f.last,w=f.first,_=t.oxw();t.Udp("margin-bottom",I?0:_.marginBottom,"px"),t.xp6(1),t.Q6J("ngIf",w),t.xp6(1),t.Q6J("ngIf",D[0].divider),t.xp6(1),t.Q6J("ngIf",!D[0].divider),t.xp6(1),t.Q6J("ngIf",I)}}function Y(b,f){if(1&b&&t._UZ(0,"div"),2&b){const D=t.oxw(2);t.Udp("height",D.topBottomPad,"px")}}function T(b,f){if(1&b&&t._UZ(0,"div"),2&b){const D=t.oxw(2);t.Udp("height",D.topBottomPad,"px")}}function B(b,f){if(1&b){const D=t.EpF();t.TgZ(0,"div"),t.YNc(1,Y,1,2,"div",18),t.TgZ(2,"div",19)(3,"div",20),t.NdJ("click",function(w){const $=t.CHM(D).index,G=t.oxw();return t.KtG(G.onLabelClick(w,$))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"div",13),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t._UZ(8,"div"),t.YNc(9,T,1,2,"div",18),t.qZA()}if(2&b){const D=f.$implicit,I=f.first,w=f.last,_=t.oxw();t.xp6(1),t.Q6J("ngIf",I),t.xp6(2),t.ekj("checked",D.checked)("partial",D.partial)("multiOn",_.multiSelectModeOn),t.xp6(3),t.Oqu(t.lcZ(7,11,D.text)),t.xp6(2),t.Udp("height",D.contentHeight,"px"),t.xp6(1),t.Q6J("ngIf",w)}}let K=(()=>{class b{constructor(D,I,w){this.element=D,this.translateService=I,this.renderer=w,this.itemsPerRow=1,this.topIndex=0,this.initialized=!1,this.eventTimeout=null,this.rows=[],this.scrolling$=new M.X(!1),this.today="",this.yesterday="",this.maxRows=6,this.marginBottom=0,this.marginRight=0,this.multiSelect=!1,this.useFocusOutline=!0,this.showFocusAlways=!1,this.chunkFileMetadata=!1,this.stickyHeaders=!0,this.showCounts=!0,this.topBottomPad=0,this.headerSize=28,this._selectedItem=void 0,this.selectedItemIndex=-1,this.selectedItemChange=new t.vpe,this._multiSelectList=[],this._savedMultiSelectList=[],this.multiSelectModeOn=!1,this.multiSelectMode=new t.vpe,this.multiSelectList=new t.vpe,this.handleKeyPress=void 0,this.handleKeyPress=(0,n.throttle)(this._handleKeyPress,100),this.today=this.translateService.instant("commonLabels.Today"),this.yesterday=this.translateService.instant("commonLabels.Yesterday")}get selectedItem(){return this._selectedItem}set selectedItem(D){const I=this._selectedItem;if(this._selectedItem=D,this.initialized&&I!==this._selectedItem){const w=this.list.findIndex(_=>_.item===D);w>=0&&(this.setCurrentItem(this.list[w]),this.ensureItemVisible(w))}}set items(D){D&&this.list&&0===D.length&&0===this.list.length||(this.list=D?D.map((I,w)=>(I===this._selectedItem&&(this.selectedItemIndex=w),{index:w,selected:D[w].selected,element:void 0,divider:void 0,item:I})):D,this.refresh())}onkeydown(D){this.handleKeyPress(D)}onFocus(){if(!this.list||this.list.length<=0)return;let D=this.selectedItemIndex;D<0&&(D=0),this.setCurrentItem(this.list[D])}onResize(D){this.resizeThrottler(100)}resizeThrottler(D){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.refresh()},D))}setContent(D,I){this.list=D,this.itemsPerRow=I}setTopIndex(D){this.topIndex=D}setCurrentItem(D){const I=this._multiSelectList.length>0,w=this.getItem(this.selectedItemIndex);if(!I){if(w){if(w.index===D.index)return;w.selected=!1}D&&(D.selected=!0)}this._selectedItem=D.item,this.selectedItemIndex=D.index,this.selectedItemChange.emit(this._selectedItem)}multiSelectClick(D,I){if(!D)return;if(!this.multiSelectModeOn){const $=this.getItem(this.selectedItemIndex);$&&($.selected=!1)}const w=this._multiSelectList.find($=>$.item===D.item);w?((0,n.pull)(this._multiSelectList,w),D.selected=!1,D.item.selected=!1):(D.selected=!0,D.item.selected=!0,D.element&&(this._selectedItem=D.item,this.selectedItemIndex=D.index),this._multiSelectList.push(D));const _=this.multiSelectModeOn;this.multiSelectModeOn=this._multiSelectList.length>0,_!==this.multiSelectModeOn&&this.multiSelectMode.emit(this.multiSelectModeOn),I||this.checkAllLabelCircles(D),this.multiSelectList.emit(this._multiSelectList.map($=>$.item))}cancelMultiSelect(){this.list.slice(0).forEach(D=>D.selected=!1),this._multiSelectList.slice(0).forEach(D=>this.multiSelectClick(D))}refreshMultiSelectList(D){setTimeout(()=>{this.list.forEach(I=>{this.checkAllLabelCircles(I)})},100),this.multiSelectModeOn=!D}nullTime(D){return D.startOf("day")}getStringForDay(D){const I=this.nullTime(o());if(D.isSame(I,"day"))return this.today;if(I.subtract(1,"days"),D.isSame(I,"day"))return this.yesterday;I.add(1,"days");const w=o().startOf("month").subtract(1,"month");return D.isSameOrAfter(w,"month")?D.isSame(I,"year")?D.format("dddd, MMMM D"):D.format("dddd, LL"):D.isSame(I,"year")?D.format("MMMM"):D.format("MMMM YYYY")}newHeader(D){return{index:-1,selected:!1,element:void 0,divider:D,item:void 0}}isSameRow(D,I){const w=o().startOf("month").subtract(1,"month");return D.isSameOrAfter(w,"month")?D.isSame(I,"day"):D.isSame(I,"month")}pushRow(D,I,w=!1){const _=this.itemHeight+this.marginBottom;return this.rows.push(D),this.itemOffsets.push(I+=_),this.stickyHeaders&&(this.dividers[this.dividers.length-1].contentHeight+=_),I}chunkFiles(){let D=this.nullTime(o()).add(1,"years");const I=this.sortType===a.ER.newest||this.sortType===a.ER.oldest;let w="",_=[],$=0,G=0,F=0;if(this.itemOffsets=[0],this.rows=[],this.dividers=[],this.list.map((J,z)=>(J.index=z,J)),this.list.forEach((J,z)=>{const Z=J.item;if(!J.item)return;(0===z||z===this.list.length-1)&&($+=this.topBottomPad);const ue=o(Z.date),u=Z.folder;if(I?this.isSameRow(ue,D):0===u.localeCompare(w))G++,_.push(J),_.length>=this.itemsPerRow&&($=this.pushRow(_,$),_=[]);else{_.length>0&&($=this.pushRow(_,$),_=[]);const W=I?this.getStringForDay(ue):u;if(this.stickyHeaders){if(this.dividers.length>0){if(this.showCounts){const N=G+1;this.dividers[this.dividers.length-1].text+=" ("+N+")",this.dividers[this.dividers.length-1].count=N}G=0}this.dividers.push({text:W,contentHeight:0}),this.rows.push([this.newHeader(" ")])}else{if(this.rows.length>0){if(this.showCounts){const N=G+1;this.rows[F-1][0].divider+=" ("+N+")",this.rows[F-1][0].count=N}G=0}this.rows.push([this.newHeader(W)]),F=this.rows.length}$+=this.headerSize+this.marginBottom,this.itemOffsets.push($),D=ue,w=u,_.push(J)}}),_.length>0&&($=this.pushRow(_,$,!0)),this.showCounts&&this.stickyHeaders&&this.dividers.length>0){const J=G+1;this.dividers[this.dividers.length-1].text+=" ("+J+")",this.dividers[this.dividers.length-1].count=J}else if(this.showCounts&&!this.stickyHeaders&&F>0){const J=G+1;this.rows[F-1][0].divider+=" ("+J+")",this.rows[F-1][0].count=J}this.rows=this.rows.slice(),this.itemOffsets=this.itemOffsets.slice()}refresh(){if(!this.initialized)return;const w=this.element.nativeElement.offsetWidth-32;this.itemsPerRow=Math.floor(w/this.itemWidth),this.itemsPerRow*this.itemWidth+(this.itemsPerRow-1)*this.marginRight>w&&(this.itemsPerRow-=1),this.maxRows=Math.floor(this.element.nativeElement.offsetHeight/(this.itemHeight+this.marginBottom)),setTimeout(()=>{if(this.chunkFileMetadata)this.chunkFiles();else{this.rows=(0,n.chunk)(this.list,this.itemsPerRow),this.itemOffsets=[0];let $=0;this.rows.forEach((G,F)=>{$+=this.itemHeight+this.marginBottom,(F===this.rows.length-1||0===F)&&($+=this.topBottomPad),this.itemOffsets.push($)})}this.list&&this.list.length>0?(this.selectedItemIndex=this.list.findIndex($=>$.item===this._selectedItem),!this.selectedItemIndex&&this.list&&this.setCurrentItem(this.list[0])):this.selectedItemIndex=0,setTimeout(()=>this.ensureItemVisible(this.selectedItemIndex),0)},0)}getNewIndexRow(D,I,w){let _=I+D;for(;_>0&&_<this.rows.length&&this.rows[_][0].divider;)_+=D;return _<0?0:_>=this.rows.length?this.list.length-1:(w=Math.min(this.rows[_].length-1,w),this.rows[_][w].index)}_handleKeyPress(D){if(!this.list)return;let I=this.list.findIndex(J=>J.item===this._selectedItem);const w=this.rows.findIndex(J=>J.findIndex(z=>z.item===this._selectedItem)>=0),_=this.rows[w].findIndex(J=>J.item===this._selectedItem);I=-1===I?0:I;const $=I,G=this.list.length-1;let F=!0;if("ArrowLeft"===D.key)I-=1;else if("ArrowRight"===D.key)I+=1;else if("ArrowUp"===D.key)I=this.getNewIndexRow(-1,w,_),(I===$||-1===I)&&(F=!1);else if("ArrowDown"===D.key)I=this.getNewIndexRow(1,w,_),I===$&&(F=!1);else if("Home"===D.key)I=0;else if("End"===D.key)I=G;else if("PageDown"===D.key)I+=this.itemsPerRow*this.maxRows;else if("PageUp"===D.key)I-=this.itemsPerRow*this.maxRows;else{if(" "===D.key)return this.multiSelectClick(this.list[I]),void D.preventDefault();F=!1}F&&D.preventDefault(),I=Math.max(0,Math.min(I,G)),this.selectedItemIndex!==I&&(this.setCurrentItem(this.list[I]),this.ensureItemVisible(I))}ensureItemVisible(D,I="auto"){if(null==D||D<0||D>=this.list.length)return;const w=this.rows.findIndex(F=>F.findIndex(J=>J.item===this._selectedItem)>=0);this.maxRows=Math.floor(this.element.nativeElement.offsetHeight/(this.itemHeight+this.marginBottom));const G=w-Math.round(this.maxRows/2);if(this.topIndex<G||this.topIndex>w-2*this.maxRows){const J=Math.max(0,Math.min(G,this.rows.length-this.maxRows+1));this.scroller.scrollToOffset(this.itemOffsets[J],I)}}getItem(D=this.selectedItemIndex){return null!=D&&D>=0&&D<this.list.length?this.list[D]:null}ngAfterViewInit(){var D,I;this.initialized=!0;const w=this.scroller.elementScrolled().pipe((0,p.b)(250),(0,P.h)(!1)),_=this.scroller.elementScrolled().pipe((0,P.h)(!0));this.scrollingSub$=(0,L.T)(_,w).subscribe(G=>this.scrolling$.next(G));const $=null===(I=null===(D=this.element)||void 0===D?void 0:D.nativeElement)||void 0===I?void 0:I.querySelector(".cdk-virtual-scroll-spacer");setTimeout(()=>{this.renderer.appendChild($,this.labelElement.nativeElement),this.refresh()},0)}ngOnDestroy(){this.scrollingSub$&&this.scrollingSub$.unsubscribe()}checkAllLabelCircles(D){let I=0;this.list.forEach((z,Z)=>{z.item===D.item&&(I=Z)});let w=0,_=0,$=0,G=0;this.stickyHeaders?this.dividers.forEach((z,Z)=>{I>=w&&I<w+z.count&&(_=Z,$=z.count,G=w),w+=z.count}):this.rows.forEach((z,Z)=>{z[0].count>0&&(I>=w&&I<w+z[0].count&&(_=Z,$=z[0].count,G=w),w+=z[0].count)});let F=!0,J=!1;for(let z=0;z<$;z++){const Z=G+z;void 0===this.list[Z]?(F=!1,J=!1):!1===this.list[Z].selected?F=!1:J=!0}J=!F&&J,this.stickyHeaders?(this.dividers[_].checked=F,this.dividers[_].partial=J):(this.rows[_][0].selected=F,this.rows[_][0].partial=J)}onLabelClick(D,I){let w=0,_=0,$=!1;if(this.stickyHeaders){$=!this.dividers[I].checked,this.dividers[I].partial=!1,this.dividers[I].checked=!this.dividers[I].checked,w=this.dividers[I].count;for(let J=0;J<I;J++)_+=this.dividers[J].count}else{$=!this.rows[I][0].selected,this.rows[I][0].partial=!1,this.rows[I][0].selected=!this.rows[I][0].selected,w=this.rows[I][0].count;for(let J=0;J<I;J++)this.rows[J][0].count>0&&(_+=this.rows[J][0].count)}const G=_+w;if(!this.multiSelectModeOn){const J=this.getItem(this.selectedItemIndex);J&&(J.selected=!1)}let F=0;this.rows.forEach(J=>{-1!==J[0].index&&(F>=_&&F<G&&J.forEach(z=>{z.selected!==$&&this.multiSelectClick(z,!0)}),F+=J.length)}),D.stopImmediatePropagation(),D.preventDefault()}}return b.\u0275fac=function(D){return new(D||b)(t.Y36(t.SBq),t.Y36(y.sK),t.Y36(t.Qsj))},b.\u0275cmp=t.Xpm({type:b,selectors:[["nv-virtual-grid-container"]],viewQuery:function(D,I){if(1&D&&(t.Gf(C,7),t.Gf(C,7,t.SBq),t.Gf(A,7,t.SBq)),2&D){let w;t.iGM(w=t.CRH())&&(I.scroller=w.first),t.iGM(w=t.CRH())&&(I.viewportElement=w.first),t.iGM(w=t.CRH())&&(I.labelElement=w.first)}},hostBindings:function(D,I){1&D&&t.NdJ("keydown",function(_){return I.onkeydown(_)})("focus",function(){return I.onFocus()})("resize",function(_){return I.onResize(_)},!1,t.Jf7)},inputs:{itemHeight:"itemHeight",itemWidth:"itemWidth",marginBottom:"marginBottom",marginRight:"marginRight",multiSelect:"multiSelect",template:"template",useFocusOutline:"useFocusOutline",showFocusAlways:"showFocusAlways",chunkFileMetadata:"chunkFileMetadata",stickyHeaders:"stickyHeaders",showCounts:"showCounts",topBottomPad:"topBottomPad",sortType:"sortType",selectedItem:"selectedItem",items:"items"},outputs:{selectedItemChange:"selectedItemChange",multiSelectMode:"multiSelectMode",multiSelectList:"multiSelectList"},decls:7,vars:3,consts:[["fxFlex","",1,"scroll-container",3,"itemOffsets","scrolledIndexChange"],["scroller",""],[3,"margin-bottom",4,"cdkVirtualFor","cdkVirtualForOf"],["labeloverlay",""],[1,"labels"],[4,"ngFor","ngForOf"],[3,"paddingTop","width",4,"ngIf"],["class","divider-pad",4,"ngIf"],["fxLayout","row",3,"fxLayoutGap",4,"ngIf"],[3,"paddingBottom","width",4,"ngIf"],[1,"divider-pad"],["fxLayout","row",1,"hover-label"],[1,"label-circle"],[1,"font-body2"],["fxLayout","row",3,"fxLayoutGap"],[3,"useOutline","showFocusAlways","item","selectedItemIndex","itemWidth","itemHeight","multiSelectAvailable","multiSelectModeOn",4,"ngFor","ngForOf"],[3,"useOutline","showFocusAlways","item","selectedItemIndex","itemWidth","itemHeight","multiSelectAvailable","multiSelectModeOn"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"height",4,"ngIf"],[1,"divider-pad","divider-sticky"],["fxLayout","row",1,"hover-label",3,"click"]],template:function(D,I){1&D&&(t.TgZ(0,"cdk-virtual-scroll-viewport",0,1),t.NdJ("scrolledIndexChange",function(_){return I.setTopIndex(_)}),t.YNc(2,O,5,6,"div",2),t.qZA(),t.TgZ(3,"div",null,3)(5,"div",4),t.YNc(6,B,10,13,"div",5),t.qZA()()),2&D&&(t.Q6J("itemOffsets",I.itemOffsets),t.xp6(2),t.Q6J("cdkVirtualForOf",I.rows),t.xp6(4),t.Q6J("ngForOf",I.dividers))},styles:['.scroll-container[_ngcontent-%COMP%]{height:100%}.isLtr[_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%]{margin-right:-24px}html[dir=ltr][_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{--dummy4: 0;margin-right:-24px}.isRtl[_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%]{margin-left:-24px}html[dir=rtl][_ngcontent-%COMP%]   .scroll-container[_ngcontent-%COMP%]{--dummy4: 0;margin-left:-24px}.scroll-container[_ngcontent-%COMP%]   .cdk-virtual-scroll-content-wrapper[_ngcontent-%COMP%]{height:100%}.labels[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;pointer-events:none}.divider-pad[_ngcontent-%COMP%]{padding:8px 0 0;height:20px}.divider-sticky[_ngcontent-%COMP%]{position:sticky;top:0;padding-bottom:8px;background-color:#000}.hover-label[_ngcontent-%COMP%]{pointer-events:auto}.hover-label[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]{width:0;height:0;font-size:16px;margin:0}.hover-label[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#000;content:"radio_button_unchecked"}.hover-label.checked[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)}.hover-label.checked[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#fff;content:"check_circle"}.hover-label.partial[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)}.hover-label.partial[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before{color:#ffffff4d!important;content:"check_circle"}.hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.isLtr[_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isLtr[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{margin:0 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], html[dir=ltr][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{--dummy: 0;margin:0 5px 0 0}.isRtl[_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], .isRtl[_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{margin:0 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%], html[dir=rtl][_ngcontent-%COMP%]   .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]{--dummy: 0;margin:0 0 0 5px}.hover-label.multiOn[_ngcontent-%COMP%]   .label-circle[_ngcontent-%COMP%]:before, .hover-label[_ngcontent-%COMP%]:hover   .label-circle[_ngcontent-%COMP%]:before, .hover-label[_ngcontent-%COMP%]:focus   .label-circle[_ngcontent-%COMP%]:before{color:#fff}']}),b})()},23888:(Ge,ae,e)=>{"use strict";e.d(ae,{m:()=>Mn});var t=e(52954),n=e(16873),x=e(50239),M=e(79585),L=e(64710),p=e(49067),P=e(15316),a=e(39609),o=e(18937),v=e(90657),y=e(37661);function C(ht,xt){if(1&ht&&a._UZ(0,"div",3),2&ht){const Fe=a.oxw();a.ekj("selected",Fe.item.index===Fe.selectedItemIndex)("showFocusAlways",Fe.showFocusAlways)}}function A(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",4)(1,"mat-icon",5),a.NdJ("click",function(gt){a.CHM(Fe);const yt=a.oxw();return a.KtG(yt.onMultiSelectClick(gt))}),a.qZA()()}if(2&ht){const Fe=a.oxw();a.ekj("checked",Fe.multiSelectModeOn&&Fe.item.selected)("multiOn",Fe.multiSelectModeOn)("multiFocus",Fe.item.index===Fe.selectedItemIndex)}}const d=function(ht,xt){return{"width.px":ht,"height.px":xt,position:"relative"}},m=["*"];let S=(()=>{class ht{constructor(Fe,ut){this.el=Fe,this.parent=ut,this.multiSelectAvailable=!1,this.multiSelectModeOn=!1,this.useOutline=!0,this.selectedItemIndex=-1,this.showFocusAlways=!1}get item(){return this._item}set item(Fe){this._item=Fe,this._item.element=this.el}onMouseDown(){this.parent&&this.parent.setCurrentItem(this.item)}onClick(Fe){this.parent&&this.multiSelectModeOn&&this.parent.multiSelectClick(this.item)}onMultiSelectClick(Fe){this.parent&&this.parent.multiSelectClick(this.item),Fe.stopImmediatePropagation(),Fe.preventDefault()}}return ht.\u0275fac=function(Fe){return new(Fe||ht)(a.Y36(a.SBq),a.Y36(P.e,8))},ht.\u0275cmp=a.Xpm({type:ht,selectors:[["nv-virtual-grid-item"]],inputs:{itemWidth:"itemWidth",itemHeight:"itemHeight",multiSelectAvailable:"multiSelectAvailable",multiSelectModeOn:"multiSelectModeOn",useOutline:"useOutline",selectedItemIndex:"selectedItemIndex",showFocusAlways:"showFocusAlways",item:"item"},ngContentSelectors:m,decls:4,vars:6,consts:[[3,"ngStyle","mousedown","click"],["class","overlay selected-overlay",3,"selected","showFocusAlways",4,"ngIf"],["class","overlay hover-overlay","fxLayout","row","fxLayoutAlign","end start",3,"checked","multiOn","multiFocus",4,"ngIf"],[1,"overlay","selected-overlay"],["fxLayout","row","fxLayoutAlign","end start",1,"overlay","hover-overlay"],[1,"multi-select-circle",3,"click"]],template:function(Fe,ut){1&Fe&&(a.F$t(),a.TgZ(0,"div",0),a.NdJ("mousedown",function(){return ut.onMouseDown()})("click",function(yt){return ut.onClick(yt)}),a.Hsn(1),a.YNc(2,C,1,4,"div",1),a.YNc(3,A,2,6,"div",2),a.qZA()),2&Fe&&(a.Q6J("ngStyle",a.WLB(3,d,ut.itemWidth,ut.itemHeight)),a.xp6(2),a.Q6J("ngIf",ut.useOutline),a.xp6(1),a.Q6J("ngIf",ut.multiSelectAvailable))},dependencies:[t.O5,t.PC,o.xw,o.Wh,v.Zl,y.Hw],styles:['.overlay[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}:focus[_nghost-%COMP%]   .selected[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .selected[_ngcontent-%COMP%], .showFocusAlways.selected[_ngcontent-%COMP%]{background:rgba(0,0,0,.36)}.hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{color:transparent;width:20px;height:20px;font-size:20px;pointer-events:auto}.isLtr[_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], .isLtr   [_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{margin:5px 5px 0 0}html[dir=ltr][_ngcontent-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 5px 0 0}.isRtl[_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], .isRtl   [_nghost-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{margin:5px 0 0 5px}html[dir=rtl][_ngcontent-%COMP%]   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{--dummy: 0;margin:5px 0 0 5px}.hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:before{content:"radio_button_unchecked"}.hover-overlay.checked[_ngcontent-%COMP%]{background:rgba(0,0,0,.24)!important}.hover-overlay.checked[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:before{color:#fff!important;content:"check_circle"!important}.hover-overlay.multiOn[_ngcontent-%COMP%], :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]{background:rgba(0,0,0,.12)}.hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]{color:#ffffffb3}.hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, .hover-overlay.multiOn[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, :focus[_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, :focus   [_nghost-%COMP%]   .hover-overlay.multiFocus[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before, [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:hover:before, [_nghost-%COMP%]:hover   .hover-overlay[_ngcontent-%COMP%]   .multi-select-circle[_ngcontent-%COMP%]:focus:before{color:#fff}']}),ht})();var s=e(48301),r=e(21568),l=e(96671),i=e(21361),O=e(53975),Y=e(85566),T=e(63795),B=e(97483),K=e(34375),b=e(51637),f=e(32764),D=e(31874);const I=["image"],w=["video"],_=function(ht){return{"left.px":ht}},$=function(ht,xt,Fe){return{"width.px":ht,"height.px":xt,"font-size.px":Fe}};function G(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(gt){a.CHM(Fe);const yt=a.oxw(2);return gt.stopPropagation(),a.KtG(yt.navLeft())}),a._UZ(1,"mat-icon",13),a.qZA()}if(2&ht){const Fe=a.oxw(2);a.Q6J("ngStyle",a.VKq(2,_,Fe.chevronLeftPos)),a.xp6(1),a.Q6J("ngStyle",a.kEZ(4,$,Fe.chevronButtonSize,Fe.chevronButtonSize,Fe.chevronFontSize))}}function F(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"button",12),a.NdJ("click",function(gt){a.CHM(Fe);const yt=a.oxw(2);return gt.stopPropagation(),a.KtG(yt.navRight())}),a._UZ(1,"mat-icon",14),a.qZA()}if(2&ht){const Fe=a.oxw(2);a.Q6J("ngStyle",a.VKq(2,_,Fe.chevronRightPos)),a.xp6(1),a.Q6J("ngStyle",a.kEZ(4,$,Fe.chevronButtonSize,Fe.chevronButtonSize,Fe.chevronFontSize))}}function J(ht,xt){if(1&ht&&(a.TgZ(0,"div",6),a.YNc(1,G,2,8,"button",7),a.TgZ(2,"div",8)(3,"div",9),a._UZ(4,"img",10,11),a.qZA()(),a.YNc(6,F,2,8,"button",7),a.qZA()),2&ht){const Fe=a.oxw();a.xp6(1),a.Q6J("ngIf",!Fe.mapView&&!Fe.iconPreview),a.xp6(3),a.Q6J("src",Fe.fileSrc,a.LSH),a.xp6(2),a.Q6J("ngIf",!Fe.mapView&&!Fe.iconPreview)}}const z=function(ht){return{"view-on-hover":ht}};function Z(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(gt){a.CHM(Fe);const yt=a.oxw(2);return gt.stopPropagation(),a.KtG(yt.navLeft())}),a._UZ(1,"mat-icon",13),a.qZA()}if(2&ht){const Fe=a.oxw(2);a.Q6J("ngClass",a.VKq(3,z,!Fe.isPaused))("ngStyle",a.VKq(5,_,Fe.chevronLeftPos)),a.xp6(1),a.Q6J("ngStyle",a.kEZ(7,$,Fe.chevronButtonSize,Fe.chevronButtonSize,Fe.chevronFontSize))}}const ue=function(ht,xt){return{"icon-preview-visible":ht,"icon-preview-hidden":xt}},u=function(ht,xt){return{"width.px":ht,"height.px":xt}};function k(ht,xt){if(1&ht&&a._UZ(0,"mat-icon",26),2&ht){const Fe=a.oxw(3);a.Q6J("ngClass",a.WLB(2,ue,Fe.showPlayButton,!Fe.showPlayButton))("ngStyle",a.WLB(5,u,Fe.playButtonSize,Fe.playButtonSize))}}function W(ht,xt){1&ht&&a._UZ(0,"mat-progress-spinner",27)}function N(ht,xt){1&ht&&a._UZ(0,"mat-icon",28)}function H(ht,xt){if(1&ht&&(a.TgZ(0,"div",29)(1,"span",30),a._uU(2),a.qZA()()),2&ht){const Fe=a.oxw(3);a.xp6(2),a.Oqu(Fe.videoErrorString)}}function h(ht,xt){if(1&ht){const Fe=a.EpF();a.ynx(0),a.TgZ(1,"div",21),a.NdJ("click",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.toggleMediaPlay())}),a.YNc(2,k,1,8,"mat-icon",22),a.YNc(3,W,1,0,"mat-progress-spinner",23),a.YNc(4,N,1,0,"mat-icon",24),a.YNc(5,H,3,1,"div",25),a.qZA(),a.BQk()}if(2&ht){const Fe=a.oxw(2);a.xp6(2),a.Q6J("ngIf",Fe.isPaused&&Fe.useDisplay===Fe.displayTypes.NORMAL&&!Fe.sliderMoving),a.xp6(1),a.Q6J("ngIf",Fe.useDisplay===Fe.displayTypes.SPINNER),a.xp6(1),a.Q6J("ngIf",Fe.useDisplay===Fe.displayTypes.ERROR),a.xp6(1),a.Q6J("ngIf",Fe.useDisplay===Fe.displayTypes.ERROR)}}function E(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"button",20),a.NdJ("click",function(gt){a.CHM(Fe);const yt=a.oxw(2);return gt.stopPropagation(),a.KtG(yt.navRight())}),a._UZ(1,"mat-icon",14),a.qZA()}if(2&ht){const Fe=a.oxw(2);a.Q6J("ngClass",a.VKq(3,z,!Fe.isPaused))("ngStyle",a.VKq(5,_,Fe.chevronRightPos)),a.xp6(1),a.Q6J("ngStyle",a.kEZ(7,$,Fe.chevronButtonSize,Fe.chevronButtonSize,Fe.chevronFontSize))}}const ee=function(ht,xt){return{"width.px":ht,"top.px":xt}},R=function(ht,xt){return{"viewer-video-counter-short":ht,"viewer-video-counter-long":xt}};function q(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",31)(1,"nv-item-button",32),a.NdJ("clicked",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.toggleMediaPlay())}),a.qZA(),a.TgZ(2,"nv-hig-slider",33),a.NdJ("valueChange",function(gt){a.CHM(Fe);const yt=a.oxw(2);return a.KtG(yt.sliderPosition=gt)})("input",function(gt){a.CHM(Fe);const yt=a.oxw(2);return a.KtG(yt.sliderChanged(gt))})("mousedown",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.sliderInteraction(!0))})("mouseup",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.sliderInteraction(!1))},!1,a.Jf7),a.qZA(),a.TgZ(3,"div",34)(4,"span",35),a._uU(5),a.qZA()(),a.TgZ(6,"nv-item-button",36),a.NdJ("clicked",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.muteUnmute())}),a.qZA(),a.TgZ(7,"nv-hig-slider",37),a.NdJ("valueChange",function(gt){a.CHM(Fe);const yt=a.oxw(2);return a.KtG(yt.volume=gt)})("valueChange",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.volumeChanged())}),a.qZA()()}if(2&ht){const Fe=a.oxw(2);a.Q6J("ngClass",a.VKq(12,z,!Fe.isPaused))("ngStyle",a.WLB(14,ee,Fe.toolbarWidth,Fe.toolbarTopLoc)),a.xp6(1),a.Q6J("svgIcon",Fe.isPaused?"play_arrow":"pause")("tooltip",Fe.isPaused?"tooltips.Play":"tooltips.Pause"),a.xp6(1),a.Q6J("step",Fe.step)("value",Fe.sliderPosition)("animating",!Fe.isPaused),a.xp6(1),a.Q6J("ngClass",a.WLB(17,R,!Fe.longDuration,Fe.longDuration)),a.xp6(2),a.Oqu(Fe.videoTime),a.xp6(1),a.Q6J("svgIcon",0===Fe.volume?"volume_off":"volume")("tooltip",0===Fe.volume?"tooltips.Unmute":"tooltips.Mute"),a.xp6(1),a.Q6J("value",Fe.volume)}}function ne(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",15)(1,"div",16),a.NdJ("keydown",function(gt){a.CHM(Fe);const yt=a.oxw();return a.KtG(yt.processToggleMedia(gt))}),a.YNc(2,Z,2,11,"button",17),a.TgZ(3,"div",8),a._UZ(4,"div",9),a.YNc(5,h,6,4,"ng-container",18),a.qZA(),a.YNc(6,E,2,11,"button",17),a.qZA(),a.YNc(7,q,8,20,"div",19),a.qZA()}if(2&ht){const Fe=a.oxw();a.xp6(2),a.Q6J("ngIf",!Fe.iconPreview),a.xp6(3),a.Q6J("ngIf",!Fe.iconPreview),a.xp6(1),a.Q6J("ngIf",!Fe.iconPreview),a.xp6(1),a.Q6J("ngIf",!Fe.iconPreview&&Fe.showToolbar)}}const _e=function(ht,xt){return{preview:ht,iconview:xt}};let U=(()=>{class ht{constructor(Fe,ut,gt,yt,Ut,en){this.loggingService=Fe,this.galleryService=ut,this.bridgeService=gt,this.renderer=yt,this.router=Ut,this.route=en,this.destroy$=new l.xQ,this.fileMetaData=void 0,this.description="",this.fileName="",this.fullFilename="",this.dimensions="",this.contentDimensions={width:1280,height:720},this.fileDate="",this.fileTime="",this.fileSize="",this.volume=0,this.savedVolume=0,this.step=.1,this.sliderPosition=0,this.isPaused=!0,this.playbackTimer=null,this.displayTypes={NORMAL:0,SPINNER:1,ERROR:2},this.useDisplay=this.displayTypes.SPINNER,this.videoErrorString="",this.sliderMoving=!1,this.longDuration=!1,this.toolbarTopLoc=0,this.toolbarWidth=0,this.showToolbar=!0,this.chevronLeftPos=0,this.chevronRightPos=0,this.chevronImageLeftPos=0,this.chevronImageRightPos=0,this.playButtonSize=48,this.chevronButtonSize=36,this.chevronFontSize=32,this.imageDimensions={width:0,height:0},this.eventTimeout=null,this.hasPlayedVideo=!1,this.showPlayButton=!0,this.mouseDown=!1,this.timePlaceHolderShort={text:"00:00.0",arg:""},this.timePlaceHolderLong={text:"00:00:00.0",arg:""},this.timePlaceHolder=this.timePlaceHolderShort,this.timeStyle=["20px","16px 0 0 0","0 0 0 6px"],this.shortDurationLength=7,this.longDurationLength=10,this.timeTextMaxLength=this.shortDurationLength,this.mapView=!1,this.mapPresent=!1,this.roundsPresent=!1,this.mapsPresent=!1,this.iconPreview=!1,this.activeItemChange=new a.vpe,this.iconPreviewRatio=new a.vpe,this.logger=this.loggingService.getLogger("Activity/Preview")}set imageRef(Fe){this.image=Fe?Fe.nativeElement:null}set videoRef(Fe){this.video&&""!==this.video.src&&(!Fe||this.video!==Fe.nativeElement)&&(this.video.src="",this.hasPlayedVideo=!1,this.video.load()),Fe?(this.video=Fe.nativeElement,this.video.focus()):this.video=null}set activeItem(Fe){this._activeItem=Fe,this.initPreviewData()}ngOnInit(){this.logger.info("Initializing Preview Component")}initPreviewData(){(0,Y.isNil)(this._activeItem)?this.logger.info("New Preview Data Undefined - Not processing!"):this.initializeData(this._activeItem)}ngOnDestroy(){this.logger.info("Destroying view!"),this.destroy$.next(!0),this.destroy$.complete(),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.video&&""!==this.video.src&&setTimeout(()=>{this.video.src="",this.video.load()})}onResize(Fe){this.resizeThrottler(100)}resizeThrottler(Fe){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.isVideo?this.calculateVideoOverlayParameters(0):this.calculateImageOverlayParameters(0)},Fe))}formatFilesizeString(Fe){return Fe<1e3?Fe+" KB":Fe<1e6?(Fe/1e3).toFixed(2)+" MB":(Fe/1e6).toFixed(2)+" GB"}initializeData(Fe){this.logger.info("Loading preview file"),Fe&&((void 0===this.fileMetaData||Fe.fullFilename!==this.fileMetaData.fullFilename)&&(this.useDisplay=this.displayTypes.SPINNER),this.video&&!this.isPaused&&this.pauseMedia(),this.fileMetaData=Fe,this.isVideo=Fe.file.type===T.A2.Video,this.fileName=Fe.file.name,""!==Fe.date&&(this.fileDate=O(Fe.date).format("MMM D, YYYY"),this.fileTime=O(Fe.date).format("ddd LT")),this.description=Fe.file.name+(""!==Fe.hlName?" - "+Fe.hlName:""),this.fileSize=this.formatFilesizeString(parseInt(Fe.fileSize,10)),this.fileSrc=L.qR+Fe.fullFilename,this.fullFilename=Fe.fullFilename,this.isVideo||this.galleryService.getImageFileDimensions(Fe.fullFilename).subscribe(ut=>{ut&&ut.width&&ut.height?(this.imageDimensions=ut,this.dimensions=ut.width+" x "+ut.height,this.iconPreview&&this.iconPreviewRatio.emit(ut.width/ut.height),this.calculateImageOverlayParameters(100)):this.dimensions=""}),this.playbackTimer&&(clearInterval(this.playbackTimer),this.playbackTimer=null),this.isPaused=!0,this.sliderPosition=0,this.volume=this.savedVolume=this.galleryService.activityVolume,this.contextIcon=this.isVideo?"video":"image")}calculateVideoOverlayParameters(Fe){this.iconPreview||setTimeout(()=>{const gt=this.video.getBoundingClientRect().width,yt=this.video.getBoundingClientRect().height,Ut=this.video.videoWidth/this.video.videoHeight,en=gt/yt,_n=Ut>en;this.logger.info("Video: "+this.video.videoWidth+" x "+this.video.videoHeight+" ratio: "+Ut),this.logger.info("Visual: "+gt+" x "+yt+" ratio: "+en);const Vt=_n?gt/Ut:yt,cn=_n?gt:yt*Ut;this.logger.info("Actual W x H: "+cn+" x "+Vt);const sn=Math.max(0,(yt-Vt)/2),tn=Math.max(0,(gt-cn)/2);this.logger.info("TopBarHeight: "+sn+" SideBarWidth: "+tn);const ct=_n?Math.floor(Vt+sn):Vt;this.toolbarTopLoc=ct-68,this.logger.info("toolbarTopLoc: ",this.toolbarTopLoc),this.toolbarWidth=Math.min(cn,gt),this.showToolbar=!(this.toolbarWidth<300),this.chevronCommonArea(tn,cn,Vt,!0)},Fe)}calculateImageOverlayParameters(Fe){this.iconPreview||setTimeout(()=>{const ut=this.image.getBoundingClientRect().width,gt=this.image.getBoundingClientRect().height,yt=this.imageDimensions.width/this.imageDimensions.height,Ut=ut/gt,en=yt>Ut;this.logger.info("Image: "+this.imageDimensions.width+" x "+this.imageDimensions.height+" ratio: "+yt),this.logger.info("Visual: "+ut+" x "+gt+" ratio: "+Ut);const _n=en?ut/yt:gt,Vt=en?ut:gt*yt;this.logger.info("Actual W x H: "+Vt+" x "+_n);const cn=Math.max(0,(ut-Vt)/2);this.logger.info("SideBarWidth: "+cn),this.chevronCommonArea(cn+40,Vt,_n,!1)},Fe)}chevronCommonArea(Fe,ut,gt,yt){const Ut=ut<400||gt<250;yt&&(this.playButtonSize=Ut?24:48),this.chevronLeftPos=Fe,this.chevronRightPos=Fe+ut-(Ut?30:48),this.chevronButtonSize=Ut?18:36,this.chevronFontSize=Ut?16:32}loadFromDragNDrop(){if(this.logger.info("Loading via dragNdrop"),!this.galleryService.currentFileData)return void this.logger.error("Loading a file after gallery moved on");const Fe=this.renderer.listen("document","dragover",gt=>{gt.stopPropagation(),gt.preventDefault(),gt.dataTransfer.dropEffect="copy"}),ut=this.renderer.listen("document","drop",gt=>{if(gt.stopPropagation(),gt.preventDefault(),!gt.dataTransfer.files||!gt.dataTransfer.files[0])return void this.logger.error("bad drop, no file list");if(!this.galleryService.currentFileData)return this.logger.error("Loading a file after gallery moved on"),Fe(),void ut();const yt=gt.dataTransfer.files[0];if(yt.name===this.galleryService.currentFileData.fullFilename){this.logger.info("Loading file");const Ut=URL.createObjectURL(yt);this.isVideo?(this.video.src=Ut,this.video.onerror=en=>{this.logger.error("A video error occured",en),this.useDisplay=this.displayTypes.ERROR},this.video.load()):this.image.src=Ut}else this.logger.error("bad drag file: "+this.galleryService.currentFileData.fullFilename+"-"+yt.name);Fe(),ut()});this.bridgeService.executeCommand(i.Gh.Share.Osc.DropUrl,{url:this.galleryService.currentFileData.fullFilename}).subscribe()}onLoadedData(){this.logger.info("Video ready"),this.volumeChanged(),this.useDisplay=this.displayTypes.NORMAL,this.dimensions=this.video.videoWidth+" x "+this.video.videoHeight,this.checkPlayButton(),this.setVideoTime(),this.calculateVideoOverlayParameters(100),this.iconPreview&&(this.iconPreviewRatio.emit(this.video.videoWidth/this.video.videoHeight),this.toggleMediaPlay())}sliderChanged(Fe){if(this.video&&this.useDisplay===this.displayTypes.NORMAL&&(Fe&&Fe.value&&(this.sliderPosition=Fe.value),this.sliderPosition!==this.lastPosition&&Math.round(this.sliderPosition/this.step)!==Math.round(this.lastPosition/this.step))){const ut=parseFloat((this.sliderPosition/100*this.video.duration).toFixed(2));isNaN(ut)?this.logger.error("sliderChanged, NaN Error!"):this.video.currentTime=ut,this.setVideoTime()}}toggleMediaPlay(){this.video&&(this.video.paused?(this.hasPlayedVideo||(this.hasPlayedVideo=!0),this.logger.info("Starting video"),this.video.play(),this.isPaused=!1,this.checkPlayButton(),this.galleryService.galleryViewAction(B.ryx.Play,this.fileMetaData),this.playbackTimer=setInterval(()=>{this.video?(this.sliderMoving||(this.sliderPosition=this.lastPosition=this.video.currentTime/this.video.duration*100),this.setVideoTime(),this.video.currentTime>=this.video.duration&&this.pauseMedia()):this.pauseMedia()})):this.pauseMedia())}checkPlayButton(){this.showPlayButton=this.isPaused&&this.useDisplay===this.displayTypes.NORMAL&&!this.sliderMoving}pauseMedia(){this.logger.info("Pausing video"),this.video.pause(),this.isPaused=!0,this.checkPlayButton(),this.playbackTimer&&(this.logger.info("Clearing Interval on pause"),clearInterval(this.playbackTimer),this.playbackTimer=null)}processToggleMedia(Fe){("Enter"===Fe.key||" "===Fe.key)&&this.toggleMediaPlay()}setVideoTime(){this.longDuration=!(this.video.duration<3600);const Fe=this.video.duration,ut=Math.floor(Fe/3600),gt=Math.floor(Fe/60-60*ut),yt=Math.floor(Fe-3600*ut-60*gt),Ut=Math.floor(10*Fe)-10*Math.floor(Fe),en=("00"+ut).slice(-2).toString(),_n=("00"+gt).slice(-2).toString(),Vt=("00"+yt).slice(-2).toString(),cn=("0"+Ut).slice(-1).toString(),tn=Math.abs(this.video.duration*(this.sliderPosition/100)),ct=Math.floor(tn/3600),ft=Math.floor(tn/60-60*ct),ot=Math.floor(tn-3600*ct-60*ft),Ct=Math.floor(10*tn)-10*Math.floor(tn),Tt=("00"+ft).slice(-2).toString()+":"+("00"+ot).slice(-2).toString()+"."+("0"+Ct).slice(-1).toString(),Xt=_n+":"+Vt+"."+cn;if(this.longDuration){this.timePlaceHolder=this.timePlaceHolderLong,this.timeTextMaxLength=this.longDurationLength;const nn=("00"+ct).slice(-2).toString()+":";this.videoTime=nn+Tt+" / "+en+":"+Xt}else this.timePlaceHolder=this.timePlaceHolderShort,this.timeTextMaxLength=this.shortDurationLength,this.videoTime=Tt+" / "+Xt}volumeChanged(){this.video&&(this.logger.info("Volume changed to "+this.volume),this.video.volume=this.volume/100,this.galleryService.activityVolume=this.volume)}processToggleMute(Fe){("Enter"===Fe.key||" "===Fe.key)&&this.muteUnmute()}muteUnmute(){this.video&&(this.volume?(this.logger.info("Muting video"),this.savedVolume=this.volume,this.volume=0):(this.logger.info("UnMuting video"),this.volume=this.savedVolume||50),this.volumeChanged())}sliderInteraction(Fe){Fe&&this.video&&!this.isPaused?this.sliderMoving=!0:!Fe&&this.sliderMoving&&(this.sliderMoving=!1,this.isPaused&&this.toggleMediaPlay())}closePreview(){this.router.navigate(["../gallery"],{relativeTo:this.route.parent,skipLocationChange:!0}).then(()=>{})}navLeft(){this.getItem(!1)}navRight(){this.getItem(!0)}getItem(Fe){this.isPaused||this.pauseMedia(),this._activeItem=this.galleryService.getActivityItem(this._activeItem.folder,this._activeItem.fullFilename,this._activeItem.session,Fe),this.activeItemChange.emit(this._activeItem),this.initPreviewData()}}return ht.\u0275fac=function(Fe){return new(Fe||ht)(a.Y36(L.ed),a.Y36(T.rj),a.Y36(L.dF),a.Y36(a.Qsj),a.Y36(n.F0),a.Y36(n.gz))},ht.\u0275cmp=a.Xpm({type:ht,selectors:[["nv-preview"]],viewQuery:function(Fe,ut){if(1&Fe&&(a.Gf(I,5),a.Gf(w,5)),2&Fe){let gt;a.iGM(gt=a.CRH())&&(ut.imageRef=gt.first),a.iGM(gt=a.CRH())&&(ut.videoRef=gt.first)}},hostBindings:function(Fe,ut){1&Fe&&a.NdJ("resize",function(yt){return ut.onResize(yt)},!1,a.Jf7)},inputs:{mapView:"mapView",mapPresent:"mapPresent",roundsPresent:"roundsPresent",mapsPresent:"mapsPresent",iconPreview:"iconPreview",activeItem:"activeItem"},outputs:{activeItemChange:"activeItemChange",iconPreviewRatio:"iconPreviewRatio"},decls:6,vars:6,consts:[["fxLayout","column","fxFlexFill","",1,"nv-oogg"],["fxLayout","row","fxFlexFill","",3,"ngClass"],["fxLayout","column","fxFlex",""],["fxLayoutGap","8px"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxFlex","","fxLayout","column","class","video-container",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","none","mat-button","","class","complex-button view-on-hover nav-common",3,"ngStyle","click",4,"ngIf"],["fxFlex","","fxFlexAlign","stretch",1,"content-container"],[1,"content-absolute"],["alt","","tabIndex","-1",1,"preview-content",3,"src"],["image",""],["fxFlex","none","mat-button","",1,"complex-button","view-on-hover","nav-common",3,"ngStyle","click"],["svgIcon","chevron_left",1,"nav-button",3,"ngStyle"],["svgIcon","chevron_right",1,"nav-button",3,"ngStyle"],["fxFlex","","fxLayout","column",1,"video-container"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"keydown"],["fxFlex","none","mat-button","","class","complex-button nav-common",3,"ngClass","ngStyle","click",4,"ngIf"],[4,"ngIf"],["class","viewer-media-toolbar","dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",3,"ngClass","ngStyle",4,"ngIf"],["fxFlex","none","mat-button","",1,"complex-button","nav-common",3,"ngClass","ngStyle","click"],["fxLayout","row","fxLayoutAlign","center center",1,"video-overlay-button",3,"click"],["svgIcon","play_arrow","class","video-overlay-button-icon circle-play",3,"ngClass","ngStyle",4,"ngIf"],["id","progressIndicator","class","md-accent","mode","indeterminate",4,"ngIf"],["svgIcon","alert_circle","class","icon-normal icon48 video-moment-error",4,"ngIf"],["class","video-box-error",4,"ngIf"],["svgIcon","play_arrow",1,"video-overlay-button-icon","circle-play",3,"ngClass","ngStyle"],["id","progressIndicator","mode","indeterminate",1,"md-accent"],["svgIcon","alert_circle",1,"icon-normal","icon48","video-moment-error"],[1,"video-box-error"],[1,"video-text-error","font-body1"],["dir","ltr","fxFlex","none","fxLayout","row","fxLayoutAlign","start center",1,"viewer-media-toolbar",3,"ngClass","ngStyle"],["fxFlex","none",1,"viewer-playpause-button",3,"svgIcon","tooltip","clicked"],["fxFlex","grow","min","0","max","100",3,"step","value","animating","valueChange","input","mousedown","mouseup"],["fxLayout","","fxLayoutAlign","center center",3,"ngClass"],[1,"font-body2"],["fxFlex","none",1,"viewer-video-volume-button",3,"svgIcon","tooltip","clicked"],["min","0","max","100",1,"viewer-video-volume-slider",3,"value","valueChange"]],template:function(Fe,ut){1&Fe&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"div",3),a.YNc(4,J,7,3,"div",4),a.YNc(5,ne,8,4,"div",5),a.qZA()()()),2&Fe&&(a.xp6(1),a.Q6J("ngClass",a.WLB(3,_e,!ut.iconPreview,ut.iconPreview)),a.xp6(3),a.Q6J("ngIf",!ut.isVideo),a.xp6(1),a.Q6J("ngIf",ut.isVideo))},dependencies:[t.mk,t.O5,t.PC,o.xw,o.SQ,o.Wh,o.s9,o.XD,o.yH,v.oO,v.Zl,K.eB,b.Lv,f.sN,y.Hw,D.Q,p.n],styles:[".preview[_ngcontent-%COMP%]{padding:16px}.iconview[_ngcontent-%COMP%]{padding:1px;background-color:#ffffffbf}.video-container[_ngcontent-%COMP%], .content-container[_ngcontent-%COMP%]{position:relative}.content-absolute[_ngcontent-%COMP%]{top:0;right:0;left:0;bottom:0;position:absolute}.preview-content[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.video-overlay-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:.95}.video-overlay-button-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;padding:16px}.circle-play[_ngcontent-%COMP%]{border-radius:50%;background-color:#191919}.icon48[_ngcontent-%COMP%]{width:48px;height:48px;font-size:48px}.nav-button[_ngcontent-%COMP%]{color:#a0a0a0;padding:6px;border-radius:50%;background-color:#191919}.nav-common[_ngcontent-%COMP%]{position:absolute;z-index:1000}.video-moment-error[_ngcontent-%COMP%]{position:absolute;text-align:center;vertical-align:middle}.video-box-error[_ngcontent-%COMP%]{margin-top:80px;text-align:center;display:table}.video-box-error[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle!important}.viewer-media-toolbar[_ngcontent-%COMP%]{max-height:68px;min-height:68px!important;padding:16px 24px 16px 0;position:absolute;align-self:center;background:rgba(57,57,57,.32)}.viewer-playpause-button[_ngcontent-%COMP%]{margin:0 8px 0 0}.viewer-video-counter-short[_ngcontent-%COMP%]{min-width:110px;margin:0 0 0 16px}.viewer-video-counter-long[_ngcontent-%COMP%]{min-width:150px;margin:0 0 0 16px}.viewer-video-volume-slider[_ngcontent-%COMP%]{width:20%}.viewer-video-volume-button[_ngcontent-%COMP%]{margin:0 0 0 16px}[_nghost-%COMP%]:hover   .view-on-hover[_ngcontent-%COMP%]{opacity:1;cursor:default}[_nghost-%COMP%]:not(:hover)   .view-on-hover[_ngcontent-%COMP%]{opacity:0;cursor:none}"]}),ht})();var re=e(715);const pe=["scroller"],Pe=["timeline"],Te=function(ht,xt){return{"icon-normal":ht,"icon-highlighted":xt}},me=function(ht){return{"left.px":ht}};function et(ht,xt){if(1&ht&&a._UZ(0,"mat-icon",14),2&ht){const Fe=a.oxw(),ut=Fe.index,gt=Fe.$implicit,yt=a.oxw(2);a.Q6J("ngClass",a.WLB(3,Te,yt.activeItemIndex!==ut,yt.activeItemIndex===ut))("ngStyle",a.VKq(6,me,gt.iconLoc))("svgIcon",gt.icon)}}function Xe(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",15),a.NdJ("previewStateChange",function(gt){a.CHM(Fe);const yt=a.oxw(3);return a.KtG(yt.previewStateChanged(gt))})("click",function(){a.CHM(Fe);const gt=a.oxw().index,yt=a.oxw(2);return a.KtG(yt.onEventClick(gt))}),a.qZA()}if(2&ht){const Fe=a.oxw(),gt=Fe.$implicit;a.Q6J("itemIndex",Fe.index)("ngStyle",a.VKq(3,me,gt.iconLoc))("matTooltip",gt.name)}}const Ze=function(ht,xt){return{"el-edgelog-preview1":ht,"el-edgelog-preview2":xt}};function nt(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",16)(1,"nv-preview",17),a.NdJ("activeItemChange",function(gt){a.CHM(Fe);const yt=a.oxw().index,Ut=a.oxw(2);return a.KtG(Ut.metadata[yt]=gt)})("iconPreviewRatio",function(gt){a.CHM(Fe);const yt=a.oxw(3);return a.KtG(yt.ratioChanged(gt))}),a.qZA()()}if(2&ht){const Fe=a.oxw(),ut=Fe.$implicit,gt=Fe.index,yt=a.oxw(2);a.Q6J("ngClass",a.WLB(4,Ze,!yt.ratio,yt.ratio))("ngStyle",a.VKq(7,me,ut.previewLoc)),a.xp6(1),a.Q6J("activeItem",yt.metadata[gt])("iconPreview",!0)}}function Me(ht,xt){if(1&ht&&(a.ynx(0),a.YNc(1,et,1,8,"mat-icon",11),a.YNc(2,Xe,1,5,"div",12),a.YNc(3,nt,2,9,"div",13),a.BQk()),2&ht){const Fe=xt.$implicit,ut=a.oxw(2);a.xp6(1),a.Q6J("ngIf",Fe.round===ut.roundItemIndex),a.xp6(1),a.Q6J("ngIf",Fe.round===ut.roundItemIndex),a.xp6(1),a.Q6J("ngIf",Fe.round===ut.roundItemIndex&&Fe.previewVisible)}}function ze(ht,xt){if(1&ht&&(a.TgZ(0,"div",10),a.YNc(1,Me,4,3,"ng-container",8),a.qZA()),2&ht){const Fe=a.oxw();a.xp6(1),a.Q6J("ngForOf",Fe.eventData)}}const le=function(ht,xt){return{"el-circle-selected":ht,"el-diamond-selected":xt}};function Le(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",20),a.NdJ("click",function(){a.CHM(Fe);const gt=a.oxw().index,yt=a.oxw(2);return a.KtG(yt.onEventClick(gt))}),a.qZA()}if(2&ht){const Fe=a.oxw().$implicit;a.Q6J("ngClass",a.WLB(3,le,"circle"===Fe.marker,"diamond"===Fe.marker))("ngStyle",a.VKq(6,me,Fe.location))("matTooltip",Fe.name)}}const Re=function(ht,xt){return{"el-circle":ht,"el-diamond":xt}};function Q(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div",20),a.NdJ("click",function(){a.CHM(Fe);const gt=a.oxw().index,yt=a.oxw(2);return a.KtG(yt.onEventClick(gt))}),a.qZA()}if(2&ht){const Fe=a.oxw().$implicit;a.Q6J("ngClass",a.WLB(3,Re,"circle"===Fe.marker,"diamond"===Fe.marker))("ngStyle",a.VKq(6,me,Fe.location))("matTooltip",Fe.name)}}function ve(ht,xt){if(1&ht&&(a.ynx(0),a.YNc(1,Le,1,8,"div",19),a.YNc(2,Q,1,8,"div",19),a.BQk()),2&ht){const Fe=xt.$implicit,ut=xt.index,gt=a.oxw(2);a.xp6(1),a.Q6J("ngIf",gt.activeItemIndex===ut&&Fe.round===gt.roundItemIndex),a.xp6(1),a.Q6J("ngIf",gt.activeItemIndex!==ut&&Fe.round===gt.roundItemIndex)}}function be(ht,xt){if(1&ht&&(a.TgZ(0,"div",18),a.YNc(1,ve,3,2,"ng-container",8),a.qZA()),2&ht){const Fe=a.oxw();a.xp6(1),a.Q6J("ngForOf",Fe.eventData)}}function xe(ht,xt){1&ht&&(a.TgZ(0,"div",21),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&ht&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"summary.EmptyRound")))}function ke(ht,xt){if(1&ht&&(a.ynx(0),a.TgZ(1,"div",0)(2,"div",22),a._uU(3),a.qZA(),a.TgZ(4,"div",23),a._uU(5,"|"),a.qZA()(),a.BQk()),2&ht){const Fe=xt.$implicit;a.xp6(2),a.Q6J("ngStyle",a.VKq(3,me,Fe.labelLoc)),a.xp6(1),a.hij(" ",Fe.tag," "),a.xp6(1),a.Q6J("ngStyle",a.VKq(5,me,Fe.tickLoc))}}function Ce(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"nv-item-button",30),a.NdJ("clicked",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.recentGoLeft())}),a.qZA()}}function ge(ht,xt){1&ht&&a._UZ(0,"div",38)}const De=function(ht){return{arg:ht}};function ye(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"div")(1,"div",31),a.NdJ("click",function(){const yt=a.CHM(Fe).index,Ut=a.oxw(2);return a.KtG(Ut.onRoundClick(yt))}),a.TgZ(2,"div",32)(3,"div"),a._uU(4),a.ALo(5,"translate"),a.qZA()(),a.TgZ(6,"div",33)(7,"div",34),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"div",35),a._uU(11),a.qZA(),a._UZ(12,"div",36),a.TgZ(13,"div",35),a._uU(14),a.qZA()(),a.YNc(15,ge,1,0,"div",37),a.qZA()()}if(2&ht){const Fe=xt.$implicit,ut=xt.index,gt=a.oxw(2);a.xp6(4),a.Oqu(a.xi3(5,5,"summary.Round",a.VKq(10,De,Fe.number))),a.xp6(4),a.Oqu(a.lcZ(9,8,"summary.Score")),a.xp6(3),a.Oqu(Fe.score1),a.xp6(3),a.Oqu(Fe.score2),a.xp6(1),a.Q6J("ngIf",ut===gt.roundItemIndex)}}function Oe(ht,xt){if(1&ht){const Fe=a.EpF();a.TgZ(0,"nv-item-button",39),a.NdJ("clicked",function(){a.CHM(Fe);const gt=a.oxw(2);return a.KtG(gt.recentGoRight())}),a.qZA()}}function ie(ht,xt){if(1&ht&&(a.TgZ(0,"div",24),a.YNc(1,Ce,1,0,"nv-item-button",25),a.TgZ(2,"cdk-virtual-scroll-viewport",26,27),a.YNc(4,ye,16,12,"div",28),a.qZA(),a.YNc(5,Oe,1,0,"nv-item-button",29),a.qZA()),2&ht){const Fe=a.oxw();a.xp6(1),a.Q6J("ngIf",!Fe.leftDisabled),a.xp6(1),a.Q6J("itemSize",Fe.roundsItemSize),a.xp6(2),a.Q6J("cdkVirtualForOf",Fe.rounds),a.xp6(1),a.Q6J("ngIf",!Fe.rightDisabled)}}const qe=function(ht,xt){return{"el-time-axis1":ht,"el-time-axis2":xt}};let dn=(()=>{class ht{constructor(Fe,ut){this.loggingService=Fe,this.translateService=ut,this.roundDataPresent=!1,this.eventData=[],this.overlapEvents=void 0,this.timeAxisData=[],this.totalTimeAxisItems=7,this.lineWidth=0,this.startTime=0,this.leftDisabled=!1,this.rightDisabled=!1,this.itemsVisible=8,this.roundsItemSize=188,this.ratio=!1,this.emptyRound=!1,this.eventTimeout=null,this._activeItemIndex=0,this.activeItemIndexChange=new a.vpe,this._roundItemIndex=0,this.logger=this.loggingService.getLogger("EdgeLog"),this.logger.info("Constructor")}get activeItemIndex(){return this._activeItemIndex}set activeItemIndex(Fe){if(this._activeItemIndex=Fe,this.logger.info("ActiveItem Index: ",Fe),this.events[Fe].round!==this._roundItemIndex){this._roundItemIndex=this.events[Fe].round,this.calculateTimeAxis();const ut=this.events.findIndex(gt=>gt.round===this._roundItemIndex);this.emptyRound=-1===ut,this.roundDataPresent&&!this.emptyRound&&(this.scroller.scrollToIndex(this._roundItemIndex,"smooth"),this.chevronControl())}}get roundItemIndex(){return this._roundItemIndex}set roundItemIndex(Fe){this._roundItemIndex=Fe,this.logger.info("RoundItem Index: ",Fe)}ngOnInit(){this.roundDataPresent=!!(this.rounds&&this.rounds.length>0),this.logger.info("RoundDataPresent: ",this.roundDataPresent),this.logger.info("Events: ",this.events),this.logger.info("Rounds: ",this.rounds),setTimeout(()=>{this.initializeEdgeLogData()})}ngOnDestroy(){}initializeEdgeLogData(){this.lineWidth=this.timeline.nativeElement.getBoundingClientRect().width,this.logger.info("Timeline width: ",this.lineWidth),this.calculateTimeAxis();const Fe=this.events.findIndex(ut=>ut.round===this.roundItemIndex);this.emptyRound=-1===Fe,this.emptyRound||this.calculateTimeLine(),this.chevronControl()}onResize(Fe){this.resizeThrottler(100)}resizeThrottler(Fe){this.eventTimeout||(this.eventTimeout=setTimeout(()=>{this.eventTimeout=null,this.initializeEdgeLogData(),this.scroller&&this.roundDataPresent&&setTimeout(()=>{this.updateScroller(this._roundItemIndex)})},Fe))}calculateRange(Fe){let ut=0,gt=0,yt=0;if(this.roundDataPresent){let Ut="";Ut=0===Fe?this.start:this.rounds[Fe-1].time;const en=this.rounds[Fe].time;gt=this.convertTimeStringToNumber(Ut),yt=this.convertTimeStringToNumber(en)}else gt=this.convertTimeStringToNumber(this.start),yt=this.convertTimeStringToNumber(this.end);return ut=yt-gt,this.startTime=gt,this.logger.info("StartTime: "+gt+" EndTime: "+yt+" Range: "+ut),ut}calculateTimeLine(){let Fe,ut=0,gt=this.calculateRange(ut);this.eventData.length=0,this.events.forEach(Ut=>{Ut.round!==ut&&(gt=this.calculateRange(Ut.round),ut=Ut.round);const _n=(this.convertTimeStringToNumber(Ut.time)-this.startTime)/gt,Vt="Screenshot"===Ut.name||"InstantReplay"===Ut.name||"Manual"===Ut.name||"Normal"===Ut.name||"Map"===Ut.name||"Team"===Ut.name||"Montage"===Ut.name,cn=44+Math.round(this.lineWidth*_n),sn=Math.round(cn-11),tn=sn-48,ct=Vt?"blank":this.getHighlightIcon(Ut.name),ft=Vt?"diamond":"circle";Ut.name="Normal"===Ut.name?"Manual":Ut.name;const ot=`highlightLabels.${Ut.name}`;let Ct=this.translateService.instant(ot);Ct===ot&&(Ct=Ut.name),Fe={round:Ut.round,location:cn,iconLoc:sn,previewLoc:tn,previewVisible:!1,name:Ct,icon:ct,marker:ft},this.eventData.push(Fe)}),this.logger.info("EventData: ",this.eventData)}getHighlightIcon(Fe){switch(Fe){case"Kill":case"Jefe Mata":case"killed":return"gun";case"killed.2":case"Double Kill":case"DOUBLE_KILL":return"gun2x";case"killed.3":case"killed.n":case"Triple Kill":return"gun3x";case"Death":case"died":case"died.2":case"died.3":case"died.n":return"death";case"Team Score":case"Opponent Score":return"goal";case"Achievements":case"Champion":case"Victory":case"We Ran Out of Medals":return"medal";case"Slayer":case"Stealth Kill":return"sword";default:return"highlights"}}calculateTimeAxis(){this.timeAxisData.length=0;const ut=this.totalTimeAxisItems-1,yt=this.calculateRange(this.roundItemIndex)/ut,Ut=yt<60?1:60,en=this.lineWidth/ut,_n=1===Ut,Vt=[-10,3,0,-5,0,3,3,10,15];for(let cn=0;cn<this.totalTimeAxisItems;cn++){const sn=yt*cn+this.startTime;let tn=Math.floor(sn/Ut);const ct=Math.floor(sn-60*tn);let ft="",ot=0;if(_n)if(tn<60)ft=tn+"s";else{let On=0;for(;tn>60;)On++,tn-=60;ft=On+"m "+tn+"s"}else ft=tn+"m "+ct+"s",ot=1;this.timeAxisData.push({labelLoc:33+en*cn-Vt[0===cn?ot:ft.length],tickLoc:33+en*cn+15,tag:ft})}this.logger.info("TimeAxisItems: ",this.timeAxisData)}convertTimeStringToNumber(Fe){return O.duration(Fe).asSeconds()}onEventClick(Fe){this.logger.info("EventClick index: ",Fe);const ut=this.eventData[Fe].iconLoc,gt=[];if(this.eventData.forEach((yt,Ut)=>{yt.iconLoc===ut&&yt.round===this.roundItemIndex&&gt.push(Ut)}),gt.length>1)if(this.overlapEvents&&this.overlapEvents.location===ut)Fe=this.getNextClickIndex();else{const yt=[];gt.forEach(Ut=>{yt.push({item:Ut,state:!1})}),yt[gt.length-1].state=!0,this.overlapEvents={location:ut,icon:yt},Fe===this._activeItemIndex&&(Fe=this.getNextClickIndex()),this.logger.info("New Overlap: ",this.overlapEvents)}else this.overlapEvents=void 0;this._activeItemIndex=Fe,this.activeItemIndexChange.emit(this._activeItemIndex)}getNextClickIndex(){const Fe=this.overlapEvents.icon.findIndex(yt=>!0===yt.state),ut=Fe===this.overlapEvents.icon.length-1?0:Fe+1,gt=this.overlapEvents.icon[ut].item;return this.overlapEvents.icon[Fe].state=!1,this.overlapEvents.icon[ut].state=!0,this.logger.info("Overlap Params LastIndex: "+Fe+" NewIndex: "+ut+" UseIndex: "+gt),this.logger.info("Update Overlap: ",this.overlapEvents),gt}onRoundClick(Fe){this.logger.info("RoundClick index: ",Fe),this._roundItemIndex=Fe,this.calculateTimeAxis();const ut=this.events.findIndex(gt=>gt.round===this.roundItemIndex);this.emptyRound=-1===ut,this.emptyRound||this.onEventClick(ut)}recentNav(Fe,ut=!1){let gt=this._roundItemIndex;Fe?gt--:gt++,gt=ut?gt>=this.rounds.length?0:gt<0?this.rounds.length-1:gt:gt>=this.rounds.length?this.rounds.length-1:gt<0?0:gt,this.updateScroller(gt)}updateScroller(Fe){this.scroller.scrollToIndex(Fe,"smooth"),this.onRoundClick(Fe),this.chevronControl()}recentGoLeft(){this.recentNav(!0)}recentGoRight(){this.recentNav(!1)}chevronControl(){const Fe=this.timeline.nativeElement.getBoundingClientRect().width;this.itemsVisible=Math.floor(Fe/this.roundsItemSize),!this.roundDataPresent||this.rounds.length<=this.itemsVisible?(this.leftDisabled=!0,this.rightDisabled=!0):0===this._roundItemIndex?(this.leftDisabled=!0,this.rightDisabled=!1):this._roundItemIndex===this.rounds.length-1?(this.leftDisabled=!1,this.rightDisabled=!0):(this.leftDisabled=!1,this.rightDisabled=!1),this.logger.info("Chevrons active Left: "+!this.leftDisabled+" Right: "+!this.rightDisabled)}previewStateChanged(Fe){this.logger.info("PreviewState: ",Fe),this.eventData[Fe.index].previewVisible=Fe.state}ratioChanged(Fe){this.logger.info("Preview icon ratio: ",Fe),this.ratio=1.6===Fe}}return ht.\u0275fac=function(Fe){return new(Fe||ht)(a.Y36(L.ed),a.Y36(re.sK))},ht.\u0275cmp=a.Xpm({type:ht,selectors:[["nv-edge-log-item"]],viewQuery:function(Fe,ut){if(1&Fe&&(a.Gf(pe,5),a.Gf(Pe,5)),2&Fe){let gt;a.iGM(gt=a.CRH())&&(ut.scroller=gt.first),a.iGM(gt=a.CRH())&&(ut.timeline=gt.first)}},hostBindings:function(Fe,ut){1&Fe&&a.NdJ("resize",function(yt){return ut.onResize(yt)},!1,a.Jf7)},inputs:{rounds:"rounds",events:"events",metadata:"metadata",start:"start",end:"end",activeItemIndex:"activeItemIndex",roundItemIndex:"roundItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},decls:10,vars:9,consts:[["fxLayout","column"],["fxLayout","column",1,"el-timeline-area"],[1,"el-line-horizontal"],["timeline",""],["fxLayout","row","class","el-icon-area",4,"ngIf"],["fxLayout","row","class","el-mark-area",4,"ngIf"],["class","font-body1 el-round-empty",4,"ngIf"],["fxLayout","row",3,"ngClass"],[4,"ngFor","ngForOf"],["class","el-rounds-container","fxLayout","row",4,"ngIf"],["fxLayout","row",1,"el-icon-area"],["class","icon-normal el-edgelog-icon",3,"ngClass","ngStyle","svgIcon",4,"ngIf"],["nvHoverPreview","","class","el-edgelog-icon",3,"itemIndex","ngStyle","matTooltip","previewStateChange","click",4,"ngIf"],[3,"ngClass","ngStyle",4,"ngIf"],[1,"icon-normal","el-edgelog-icon",3,"ngClass","ngStyle","svgIcon"],["nvHoverPreview","",1,"el-edgelog-icon",3,"itemIndex","ngStyle","matTooltip","previewStateChange","click"],[3,"ngClass","ngStyle"],["fxFlex","","fxFlexFill","",3,"activeItem","iconPreview","activeItemChange","iconPreviewRatio"],["fxLayout","row",1,"el-mark-area"],[3,"ngClass","ngStyle","matTooltip","click",4,"ngIf"],[3,"ngClass","ngStyle","matTooltip","click"],[1,"font-body1","el-round-empty"],[1,"font-body3","el-time-axis-text",3,"ngStyle"],[1,"font-body3","el-time-axis-tick",3,"ngStyle"],["fxLayout","row",1,"el-rounds-container"],["svgIcon","chevron_left",3,"clicked",4,"ngIf"],["fxFlex","","fxLayout","row","orientation","horizontal","tabIndex","0",1,"el-rounds-scroll-container",3,"itemSize"],["scroller",""],[4,"cdkVirtualFor","cdkVirtualForOf"],["svgIcon","chevron_right",3,"clicked",4,"ngIf"],["svgIcon","chevron_left",3,"clicked"],["fxLayout","column",1,"el-rounds-area",3,"click"],[1,"el-round-box-area"],["fxLayout","row",1,"el-round-score-area"],[1,"el-round-score"],[1,"el-round-score-data"],[1,"el-round-spacer"],["class","el-round-active",4,"ngIf"],[1,"el-round-active"],["svgIcon","chevron_right",3,"clicked"]],template:function(Fe,ut){1&Fe&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"div",2,3),a.YNc(4,ze,2,1,"div",4),a.YNc(5,be,2,1,"div",5),a.YNc(6,xe,3,3,"div",6),a.TgZ(7,"div",7),a.YNc(8,ke,6,7,"ng-container",8),a.qZA()(),a.YNc(9,ie,6,4,"div",9),a.qZA()),2&Fe&&(a.xp6(4),a.Q6J("ngIf",!ut.emptyRound),a.xp6(1),a.Q6J("ngIf",!ut.emptyRound),a.xp6(1),a.Q6J("ngIf",ut.emptyRound),a.xp6(1),a.Q6J("ngClass",a.WLB(6,qe,!ut.emptyRound,ut.emptyRound)),a.xp6(1),a.Q6J("ngForOf",ut.timeAxisData),a.xp6(1),a.Q6J("ngIf",ut.roundDataPresent))},styles:['.el-timeline-area{height:88px;padding:0 24px;background-color:#292929}.el-icon-area{margin-top:-32px}.el-mark-area{margin-top:19px}.el-rounds-scroll-container{height:123px;overflow:hidden}.el-rounds-scroll-container .cdk-virtual-scroll-content-wrapper{display:flex;flex-direction:row}.el-rounds-container{background-color:#494949}:host-context(.isLtr) .el-rounds-container{padding-left:16px}html[dir=ltr] .el-rounds-container{--dummy1: 0;padding-left:16px}:host-context(.isRtl) .el-rounds-container{padding-right:16px}html[dir=rtl] .el-rounds-container{--dummy1: 0;padding-right:16px}.el-rounds-area{height:123px;background-color:#494949;z-index:1000}:host-context(.isLtr) .el-rounds-area{padding:24px 0 24px 8px}html[dir=ltr] .el-rounds-area{--dummy: 0;padding:24px 0 24px 8px}:host-context(.isRtl) .el-rounds-area{padding:24px 8px 24px 0}html[dir=rtl] .el-rounds-area{--dummy: 0;padding:24px 8px 24px 0}.el-round-box-area{width:168px;background-color:#393939}:host-context(.isLtr) .el-round-box-area{padding:5px 0 4px 12px}html[dir=ltr] .el-round-box-area{--dummy: 0;padding:5px 0 4px 12px}:host-context(.isRtl) .el-round-box-area{padding:5px 12px 4px 0}html[dir=rtl] .el-round-box-area{--dummy: 0;padding:5px 12px 4px 0}.el-round-score-area{width:180px;height:46px;background-color:#292929}.el-round-score{width:86px;background-color:#292929}:host-context(.isLtr) .el-round-score{padding:12px 0 0 12px}html[dir=ltr] .el-round-score{--dummy: 0;padding:12px 0 0 12px}:host-context(.isRtl) .el-round-score{padding:12px 12px 0 0}html[dir=rtl] .el-round-score{--dummy: 0;padding:12px 12px 0 0}.el-round-score-data{width:46px;background-color:#191919}:host-context(.isLtr) .el-round-score-data{padding:12px 0 0 16px}html[dir=ltr] .el-round-score-data{--dummy: 0;padding:12px 0 0 16px}:host-context(.isRtl) .el-round-score-data{padding:12px 16px 0 0}html[dir=rtl] .el-round-score-data{--dummy: 0;padding:12px 16px 0 0}.el-round-spacer{width:2px;background-color:#292929}.el-round-empty{position:absolute;width:100%;height:52px;margin-top:16px;text-align:center;vertical-align:middle}.el-line-horizontal{background-color:#919191;width:100%;height:2px;margin-top:50px}.el-circle-common,.el-circle-selected,.el-circle{width:10px;height:10px;border-radius:50%;position:absolute;margin-top:7px}.el-circle{background:#919191}.el-circle-selected{background:#76b900}.el-diamond1-common,.el-diamond-selected,.el-diamond{width:0;height:0;border:6px solid transparent;position:absolute}.el-diamond2-common,.el-diamond-selected:after,.el-diamond:after{content:"";position:absolute;left:-6px;top:6px;width:0;height:0;border:6px solid transparent}.el-diamond{border-bottom-color:#919191}.el-diamond:after{border-top-color:#919191}.el-diamond-selected{border-bottom-color:#76b900}.el-diamond-selected:after{border-top-color:#76b900}.el-time-axis1{padding-top:31px}.el-time-axis2{padding-top:18px}.el-time-axis-text{color:#ffffff4d;line-height:10px;position:absolute}.el-time-axis-tick{color:#ffffff4d;line-height:8px;font-size:8px;margin-top:10px;position:absolute}.el-edgelog-icon{font-size:48px;width:32px;height:32px;position:absolute;margin-top:-4px}.el-round-active{box-sizing:border-box;width:100%;pointer-events:none;border-bottom:3px solid #76b900}.el-edgelog-preview1{width:125px;height:71px;position:absolute;margin-top:-100px}.el-edgelog-preview2{width:127px;height:80px;position:absolute;margin-top:-100px}\n'],encapsulation:2}),ht})(),xn=(()=>{class ht{constructor(Fe){this.element=Fe,this.previewStateChange=new a.vpe}onmouseenter(){this.previewStateChange.emit({state:!0,index:this.itemIndex})}onmouseleave(){this.previewStateChange.emit({state:!1,index:this.itemIndex})}}return ht.\u0275fac=function(Fe){return new(Fe||ht)(a.Y36(a.SBq))},ht.\u0275dir=a.lG2({type:ht,selectors:[["","nvHoverPreview",""]],hostBindings:function(Fe,ut){1&Fe&&a.NdJ("mouseenter",function(){return ut.onmouseenter()})("mouseleave",function(){return ut.onmouseleave()})},inputs:{itemIndex:"itemIndex"},outputs:{previewStateChange:"previewStateChange"}}),ht})();var un=e(80415),Nt=e(85780),bn=e(79884),pn=e(99763);let Mn=(()=>{class ht{}return ht.\u0275fac=function(Fe){return new(Fe||ht)},ht.\u0275mod=a.oAB({type:ht}),ht.\u0275inj=a.cJS({imports:[t.ez,L.it,n.Bz,x.o9,M.Q,(0,L.zv)()]}),ht})();a.B6R(P.e,function(){return[t.sg,t.O5,t.tP,un.Yx,o.xw,o.SQ,o.yH,y.Hw,Nt.x0,Nt.N7,S]},function(){return[re.X$]}),a.B6R(r.$,function(){return[t.mk,t.O5,t.PC,o.xw,o.s9,o.yH,v.oO,v.Zl,K.eB,bn.d,y.Hw,Nt.xd,Nt.x0,Nt.N7,s.x,U,dn]},function(){return[re.X$]}),a.B6R(dn,function(){return[t.mk,t.sg,t.O5,t.PC,o.xw,o.s9,o.yH,v.oO,v.Zl,y.Hw,Nt.xd,Nt.x0,Nt.N7,pn.Kd,p.n,U,xn]},function(){return[re.X$]})},46700:(Ge,ae,e)=>{var t={"./af":51975,"./af.js":51975,"./ar":24145,"./ar-dz":75982,"./ar-dz.js":75982,"./ar-kw":56242,"./ar-kw.js":56242,"./ar-ly":26864,"./ar-ly.js":26864,"./ar-ma":22239,"./ar-ma.js":22239,"./ar-sa":834,"./ar-sa.js":834,"./ar-tn":22387,"./ar-tn.js":22387,"./ar.js":24145,"./az":32351,"./az.js":32351,"./be":35392,"./be.js":35392,"./bg":38946,"./bg.js":38946,"./bm":91284,"./bm.js":91284,"./bn":84885,"./bn-bd":64936,"./bn-bd.js":64936,"./bn.js":84885,"./bo":52342,"./bo.js":52342,"./br":21319,"./br.js":21319,"./bs":90605,"./bs.js":90605,"./ca":97135,"./ca.js":97135,"./cs":17783,"./cs.js":17783,"./cv":8060,"./cv.js":8060,"./cy":65052,"./cy.js":65052,"./da":6997,"./da.js":6997,"./de":74846,"./de-at":15074,"./de-at.js":15074,"./de-ch":87973,"./de-ch.js":87973,"./de.js":74846,"./dv":48879,"./dv.js":48879,"./el":88233,"./el.js":88233,"./en-au":32333,"./en-au.js":32333,"./en-ca":48371,"./en-ca.js":48371,"./en-gb":85980,"./en-gb.js":85980,"./en-ie":15263,"./en-ie.js":15263,"./en-il":96225,"./en-il.js":96225,"./en-in":89198,"./en-in.js":89198,"./en-nz":76014,"./en-nz.js":76014,"./en-sg":58604,"./en-sg.js":58604,"./eo":38351,"./eo.js":38351,"./es":47446,"./es-do":15381,"./es-do.js":15381,"./es-mx":41268,"./es-mx.js":41268,"./es-us":93922,"./es-us.js":93922,"./es.js":47446,"./et":93874,"./et.js":93874,"./eu":29501,"./eu.js":29501,"./fa":62986,"./fa.js":62986,"./fi":63517,"./fi.js":63517,"./fil":40471,"./fil.js":40471,"./fo":69848,"./fo.js":69848,"./fr":22104,"./fr-ca":14079,"./fr-ca.js":14079,"./fr-ch":15960,"./fr-ch.js":15960,"./fr.js":22104,"./fy":59942,"./fy.js":59942,"./ga":86259,"./ga.js":86259,"./gd":10196,"./gd.js":10196,"./gl":9667,"./gl.js":9667,"./gom-deva":58901,"./gom-deva.js":58901,"./gom-latn":8001,"./gom-latn.js":8001,"./gu":9430,"./gu.js":9430,"./he":98008,"./he.js":98008,"./hi":13449,"./hi.js":13449,"./hr":69271,"./hr.js":69271,"./hu":61036,"./hu.js":61036,"./hy-am":83043,"./hy-am.js":83043,"./id":27102,"./id.js":27102,"./is":87297,"./is.js":87297,"./it":11248,"./it-ch":3529,"./it-ch.js":3529,"./it.js":11248,"./ja":70645,"./ja.js":70645,"./jv":74317,"./jv.js":74317,"./ka":35359,"./ka.js":35359,"./kk":9027,"./kk.js":9027,"./km":14941,"./km.js":14941,"./kn":77478,"./kn.js":77478,"./ko":74356,"./ko.js":74356,"./ku":91077,"./ku.js":91077,"./ky":80145,"./ky.js":80145,"./lb":12339,"./lb.js":12339,"./lo":53814,"./lo.js":53814,"./lt":20281,"./lt.js":20281,"./lv":90177,"./lv.js":90177,"./me":99034,"./me.js":99034,"./mi":58772,"./mi.js":58772,"./mk":16112,"./mk.js":16112,"./ml":42854,"./ml.js":42854,"./mn":50538,"./mn.js":50538,"./mr":30450,"./mr.js":30450,"./ms":11508,"./ms-my":86169,"./ms-my.js":86169,"./ms.js":11508,"./mt":47009,"./mt.js":47009,"./my":55350,"./my.js":55350,"./nb":15909,"./nb.js":15909,"./ne":87502,"./ne.js":87502,"./nl":65321,"./nl-be":94405,"./nl-be.js":94405,"./nl.js":65321,"./nn":45704,"./nn.js":45704,"./oc-lnc":83788,"./oc-lnc.js":83788,"./pa-in":96290,"./pa-in.js":96290,"./pl":98265,"./pl.js":98265,"./pt":58802,"./pt-br":53430,"./pt-br.js":53430,"./pt.js":58802,"./ro":17732,"./ro.js":17732,"./ru":14548,"./ru.js":14548,"./sd":43268,"./sd.js":43268,"./se":31832,"./se.js":31832,"./si":51601,"./si.js":51601,"./sk":96759,"./sk.js":96759,"./sl":81930,"./sl.js":81930,"./sq":84476,"./sq.js":84476,"./sr":63648,"./sr-cyrl":1249,"./sr-cyrl.js":1249,"./sr.js":63648,"./ss":39724,"./ss.js":39724,"./sv":12280,"./sv.js":12280,"./sw":87639,"./sw.js":87639,"./ta":45843,"./ta.js":45843,"./te":89211,"./te.js":89211,"./tet":35822,"./tet.js":35822,"./tg":69191,"./tg.js":69191,"./th":74716,"./th.js":74716,"./tk":59684,"./tk.js":59684,"./tl-ph":84428,"./tl-ph.js":84428,"./tlh":85189,"./tlh.js":85189,"./tr":83807,"./tr.js":83807,"./tzl":6539,"./tzl.js":6539,"./tzm":36714,"./tzm-latn":98827,"./tzm-latn.js":98827,"./tzm.js":36714,"./ug-cn":97366,"./ug-cn.js":97366,"./uk":92757,"./uk.js":92757,"./ur":57362,"./ur.js":57362,"./uz":5534,"./uz-latn":50321,"./uz-latn.js":50321,"./uz.js":5534,"./vi":24049,"./vi.js":24049,"./x-pseudo":43134,"./x-pseudo.js":43134,"./yo":2668,"./yo.js":2668,"./zh-cn":41282,"./zh-cn.js":41282,"./zh-hk":13423,"./zh-hk.js":13423,"./zh-mo":6739,"./zh-mo.js":6739,"./zh-tw":81037,"./zh-tw.js":81037};function n(M){var L=x(M);return e(L)}function x(M){if(!e.o(t,M)){var L=new Error("Cannot find module '"+M+"'");throw L.code="MODULE_NOT_FOUND",L}return t[M]}n.keys=function(){return Object.keys(t)},n.resolve=x,Ge.exports=n,n.id=46700},26863:Ge=>{"use strict";Ge.exports=JSON.parse('{"components/menu-item":"Verbose"}')}},Ge=>{Ge.O(0,[736],()=>Ge(Ge.s=7866)),Ge.O()}]);